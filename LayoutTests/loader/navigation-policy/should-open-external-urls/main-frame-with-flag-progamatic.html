<script>

if (window.testRunner) {
    testRunner.dumpAsText();
    testRunner.dumpPolicyDelegateCallbacks();
    testRunner.queueLoad("resources/programatically-navigate-to-notify-done.html", "", true);
}

</script>
This page navigates to a 2nd page using the API that sets the "should open external URLs" flag to true.<br>
That page then programatically redirects to a 3rd page.<br>
That navigation from the 2nd page to the 3rd page should still have the flag set, because the flag propagates through main frame loads.<br>
