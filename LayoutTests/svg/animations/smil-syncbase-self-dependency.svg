<svg version="1.1" xmlns="http://www.w3.org/2000/svg" onload="loaded()">
    <!-- Test whether SMILElement animation self dependencies handled correctly. -->
    <rect id="rectID" width="100" height="100" fill="green">
        <animate id="selfID" attributeName="x" begin="0s; selfID.end" dur="0.02s" from="0" to="400"/>
    </rect>
    <text id="label" y="150"/>
    <script>
        if (window.testRunner) {
            testRunner.dumpAsText();
            testRunner.waitUntilDone();
        }

        function displayMessage() {
            document.getElementById("label").textContent = "SMILElement animation time self-dependency is" +
                ((document.getElementById("rectID").x.animVal.value > 0) ? " " : " not ") + "handled.";
        }

        function loaded() {
            setTimeout('displayMessage()', 30);
            if (window.testRunner) {
                setTimeout('testRunner.notifyDone()', 40);
            }
        }
    </script>
</svg>
