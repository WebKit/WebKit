<!DOCTYPE HTML>
<html>
<head>
  <script src="../../fast/repaint/resources/repaint.js"></script>
</head>
<!-- Test for WK108429: All red should disappear, leaving just a green square. -->
<body onload="runRepaintTest()">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="400" height="400">
  <svg>
    <rect x="0" y="0" width="100" height="100" fill="green"/>
    <path id="path" d="M0 0 L 100 0 L 100 100 L 0 100Z" fill="red"/>
  </svg>
<script>
function repaintTest() {
  if (window.testRunner)
    testRunner.waitUntilDone();

  setTimeout(function() {
    var pathEl = document.getElementById('path');
    pathEl.setAttribute('d', 'M0 0Z');
    if (window.testRunner)
      testRunner.notifyDone();
  }, 1);
}
</script>
</svg>
</body>
</html>
