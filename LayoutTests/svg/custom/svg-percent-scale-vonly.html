<!DOCTYPE html>
<html>
<head>
  <title>Test for https://bugs.webkit.org/show_bug.cgi?id=79490</title>
  <script src="../../fast/repaint/resources/repaint.js"></script>
  <script>
    function repaintTest()
    {
      document.getElementById('resize-target').style.height = '200px';
    }
  </script>
</head>

<body style="margin: 0; padding: 0; overflow: hidden;" onload="runRepaintTest()">
  <div id="resize-target" style="width: 400px; height: 400px; position: absolute;">
    <!-- After vertical window resizing, this SVG element should not be visible -->
    <svg width="25%" height="50%" xmlns="http://www.w3.org/2000/svg">
      <rect fill="red" width="100%" height="100%"></rect>
    </svg>

    <!-- force an anonymous block creation to exercise the percent-height descendants map -->
    <div></div>
  </div>

  <div style="width: 100px; height: 100px; position: absolute; background-color: green;"></div>
</body>
</html>
