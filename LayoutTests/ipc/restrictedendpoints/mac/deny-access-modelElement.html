<!DOCTYPE html> <!-- webkit-test-runner [ IPCTestingAPIEnabled=true IgnoreInvalidMessageWhenIPCTestingAPIEnabled=false ModelElementEnabled=false ] -->
<title>Test that calling into modelElement specific methods, like ModelElementDestroyRemotePreview, is disabled if ModelElementEnabled is false</title>
<script src="../../../resources/ipc.js"></script>
<script src="../../../resources/testharness.js"></script>
<script src="../../../resources/testharnessreport.js"></script>
<body>
<script>
    testRunner.dumpAsText();

    if (window.IPC && IPC.messages.WebPageProxy_ModelElementDestroyRemotePreview) {
        IPC.sendMessage(
            'UI',
            IPC.webPageProxyID,
            IPC.messages.WebPageProxy_ModelElementDestroyRemotePreview.name,
            [
                {
                type: 'String',
                value: 'Some UUID'
                }
            ]
        );

        asyncFlush('UI').then(() => {
            console.log("Should Have Crashed!");
        });
    } else {
        testRunner.notifyDone();
    }
</script>
</body>
