<!DOCTYPE html><html>
<head>
<style>
canvas {
    -webkit-transform: translateZ(0);
    width: 100px;
}
</style>
<script>
    if (window.testRunner) {
      testRunner.dumpAsText();
      testRunner.waitUntilDone();
    }

    function doTest() {
        var canvases = document.getElementsByTagName("canvas");
        for (var i = 0; i < canvases.length; ++i) {
            var c = canvases[i];
            var ctx = c.getContext('2d');
            if (!ctx)
                continue;
            ctx.fillStyle = 'rgba(0, 255, 0, 1)';
            ctx.fillRect(0,0,c.width, c.height);
        }
        if (window.testRunner) {
            document.getElementById('layers').innerText = internals.layerTreeAsText(document, internals.LAYER_TREE_INCLUDES_ACCELERATES_DRAWING);
            testRunner.notifyDone();
        }
    }

    window.addEventListener('load', doTest, false);
</script>
</head>
<body>
<p>Verifies Canvas 2D Context accelerated backing store behavior.</p>
<canvas id="c0" width="10" height="10"></canvas>
<canvas id="c1" width="512" height="288"></canvas>
<canvas id="c2" width="5120" height="2880"></canvas>
<canvas id="c3" width="5200" height="2900"></canvas>
<canvas id="c4" width="8000" height="4444"></canvas>
<canvas id="c5" width="10344" height="5555"></canvas>
<canvas id="c6" width="17334" height="6669"></canvas>
<canvas id="c7" width="33444" height="10649"></canvas>

<pre id="layers">Layer tree goes here in DRT</pre>
</body>
</html>
