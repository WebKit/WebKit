<!DOCTYPE html>
<html>
<head>
  <style>
    iframe {
      height: 150px;
      width: 150px;
    }
  </style>
  <script>
    if (window.internals) {
      internals.settings.setForceCompositingMode(true);
      internals.settings.setAcceleratedCompositingForScrollableFramesEnabled(true);
      internals.settings.setCompositedScrollingForFramesEnabled(true);
    }
    function doTest()
    {
      if (window.testRunner) {
        testRunner.dumpAsText(false);
        if (window.internals)
          document.getElementById("result").innerText = window.internals.nonFastScrollableRects(document).length ? "FAIL" : "PASS";
      }
    }
    window.addEventListener("load", doTest, false);
  </script>
</head>
<body>
  <iframe id="scrollable-iframe" src="resources/subframe.html" style="width: 100px; height: 100px"></iframe>
  <iframe id="non-scrollable-iframe" src="resources/subframe.html" style="width: 2000px; height: 2000px"></iframe>
  <pre id="result"></pre>
</body>
</html>
