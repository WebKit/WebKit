<html>
<head>
  <style>
    iframe {
      height: 150px;
      width: 150px;
    }
  </style>
  <script>
    if (window.internals) {
      internals.settings.setForceCompositingMode(true);
      internals.settings.setAcceleratedCompositingForScrollableFramesEnabled(true);
    }
    function doTest()
    {
      if (window.testRunner)
        testRunner.display();
      var iframe = document.getElementById("parent-iframe");
      iframe.contentDocument.body.setAttribute("style", "overflow:hidden");
      iframe.contentDocument.body.offsetWidth; // See bug 41999
      if (window.testRunner) {
        testRunner.dumpAsText(false);
        document.getElementById('layertree').innerText = window.internals.layerTreeAsText(document);
      }
    }
    window.addEventListener("load", doTest, false);
  </script>
</head>
<body>
  <iframe id="parent-iframe" src="resources/subframe-big.html"></iframe>
  <pre id="layertree"></pre>
</body>
</html>
