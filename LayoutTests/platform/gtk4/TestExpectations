# These are the layout test expectations for the GTK port of WebKit when running with GTK4
#
# See http://trac.webkit.org/wiki/TestExpectations for more information on this file.
#
# Never add any test to this file without opening a bug on bugzilla.webkit.org or a comment

#////////////////////////////////////////////////////////////////////////////////////////
# TESTS PASSING
#
# These tests are passing on GTK4 but they do not in other ports or GTK3
# Note: Passing tests should be on the top of the file to ensure that
#       expected failures below are not overriden by a folder that is
#       set to Pass to unskip it from the main expectations file and
#       declared after the expected failure.
#       The layout test runner evaluates the rules from top to bottom and
#       it picks as the valid rule the last one matching.
#////////////////////////////////////////////////////////////////////////////////////////

#////////////////////////////////////////////////////////////////////////////////////////
# End of PASSING tests. See below where to put expected failures.
#////////////////////////////////////////////////////////////////////////////////////////

# SOUP
webkit.org/b/223236 http/tests/xmlhttprequest/loadstart-event-init.html [ Crash ]
webkit.org/b/223236 http/tests/xmlhttprequest/redirect-cross-origin-post-sync.html [ Crash ]
webkit.org/b/223236 http/tests/xmlhttprequest/redirect-cross-origin-post.html [ Crash ]
webkit.org/b/223236 http/tests/xmlhttprequest/response-access-on-error.html [ Crash ]
webkit.org/b/223236 http/tests/xmlhttprequest/upload-onabort-progressevent-attributes.html [ Crash ]
webkit.org/b/223236 http/tests/xmlhttprequest/upload-onload-event.html [ Crash ]
webkit.org/b/223236 http/tests/xmlhttprequest/upload-onload-progressevent-attributes.html [ Crash ]
webkit.org/b/223236 http/tests/xmlhttprequest/upload-onloadend-event-after-abort.html [ Crash ]
webkit.org/b/223236 http/tests/xmlhttprequest/upload-onloadend-event-after-load.html [ Crash ]
webkit.org/b/223236 http/tests/xmlhttprequest/upload-onloadstart-event.html [ Crash ]
webkit.org/b/223236 http/tests/xmlhttprequest/upload-onprogress-event.html [ Crash ]
webkit.org/b/223236 http/tests/xmlhttprequest/upload-progress-events.html [ Crash ]
webkit.org/b/223236 http/tests/xmlhttprequest/xmlhttprequest-sync-no-progress-events.html [ Crash ]

# Tests timing out in GTK4.
css3/filters/blur-various-radii.html [ Skip ]
editing/async-clipboard/clipboard-read-text.html [ Skip ]
editing/async-clipboard/clipboard-read-text-same-origin.html [ Skip ]
editing/deleting/forward-delete-crash.html [ Skip ]
editing/pasteboard/copy-content-with-display-none-exiting-ancestors.html [ Skip ]
editing/pasteboard/copy-content-with-user-select-none.html [ Skip ]
editing/pasteboard/copy-content-with-user-select-none-quirks.html [ Skip ]
editing/pasteboard/data-transfer-get-data-non-normalized-types.html [ Skip ]
editing/pasteboard/data-transfer-get-data-on-paste-custom.html [ Skip ]
editing/pasteboard/data-transfer-get-data-on-paste-plain-text.html [ Skip ]
editing/pasteboard/data-transfer-get-data-on-paste-rich-text.html [ Skip ]
editing/pasteboard/datatransfer-items-paste-plaintext.html [ Skip ]
editing/pasteboard/gtk/middle-button-paste.html [ Skip ]
editing/pasteboard/paste-content-with-overflow-auto-parent-across-origin.html [ Skip ]
editing/pasteboard/paste-does-not-fire-promises-while-sanitizing-web-content.html [ Skip ]
editing/pasteboard/paste-global-selection.html [ Skip ]
editing/pasteboard/pasting-empty-html-falls-back-to-text.html [ Skip ]
fast/canvas/image-buffer-backend-variants.html [ Skip ]
fast/canvas/webgl/texImage2D-mse-in-dom-flipY-true.html [ Skip ]
fast/canvas/webgl/texImage2D-video-flipY-false.html [ Skip ]
fast/dom/SelectorAPI/resig-SelectorsAPI-test.xhtml [ Skip ]
fast/dom/Window/window-resize-contents.html [ Skip ]
fast/editing/document-leak-altered-text-field.html [ Skip ]
fast/events/before-input-prevent-paste.html [ Skip ]
fast/events/drag-and-drop-link-fast-multiple-times-does-not-crash.html [ Skip ]
fast/events/input-events-paste-data.html [ Skip ]
fast/events/input-events-paste-rich-datatransfer.html [ Skip ]
gamepad/gamepad-event-handlers.html [ Skip ]
gamepad/gamepad-non-fully-active.html [ Skip ]
gamepad/gamepad-polling-access.html [ Skip ]
gamepad/gamepad-timestamp.html [ Skip ]
gamepad/gamepad-vibrationActuator-nullable.html [ Skip ]
gamepad/gamepad-vibrationActuator-playEffect-validation.html [ Skip ]
gamepad/gamepad-vibrationActuator-SameObject.html [ Skip ]
gamepad/gamepad-vibrationActuator-type.html [ Skip ]
gamepad/gamepad-vibration-document-no-longer-fully-active.html [ Skip ]
gamepad/gamepad-vibration-visibility-change.html [ Skip ]
http/tests/local/blob/navigate-blob.html [ Skip ]
http/tests/security/contentSecurityPolicy/audio-redirect-allowed.html [ Skip ]
http/tests/security/referrer-policy-header.html [ Skip ]
http/tests/security/referrer-policy-header-multipart.html [ Skip ]
http/tests/workers/service/indexeddb-cryptokey-put-get.https.html [ Skip ]
imported/w3c/web-platform-tests/uievents/click/click_events_on_input.html [ Skip ]
inspector/worker/debugger-pause-subworker.html [ Skip ]
ipc/invalid-message-to-web-process.html [ Skip ]
ipc/large-vector-allocate-failure-crash.html [ Skip ]
media/media-source/media-source-abort-resets-parser.html [ Skip ]
webrtc/canvas-to-peer-connection-2d.html [ Skip ]
webrtc/captureCanvas-webrtc-software-h264-baseline.html [ Skip ]
webrtc/captureCanvas-webrtc-software-h264-high.html [ Skip ]

# Tests crashing in GTK4.
http/tests/history/back-during-onload-triggered-by-back.html [ Crash ]
imported/w3c/web-platform-tests/feature-policy/feature-policy-frame-policy-allowed-for-some-override.https.sub.html [ Crash ]
imported/w3c/web-platform-tests/html/canvas/element/manual/imagebitmap/createImageBitmap-invalid-args.html [ Crash ]
imported/w3c/web-platform-tests/service-workers/service-worker/windowclient-navigate.https.html [ Crash ]
media/media-source/media-managedmse-append.html [ Crash ]

# Flaky tests.
http/tests/history/back-to-post.py [ Pass Timeout ]
http/tests/workers/service/basic-install-event-waitUntil-reject.html [ Pass Timeout ]
imported/w3c/web-platform-tests/fetch/api/crashtests/huge-fetch.any.worker.html [ Pass Timeout ]
imported/w3c/web-platform-tests/webaudio/the-audio-api/the-channelmergernode-interface/active-processing.https.html [ Pass Timeout ]
media/encrypted-media/encrypted-media-constants.html [ Failure Timeout ]
media/video-crash-invisible-autoplay-display-none.html [ Pass Timeout ]
media/video-load-networkState.html [ Pass Timeout ]
media/video-reverse-play-duration.html [ Pass Timeout ]
media/video-timeupdate-reverse-play.html [ Pass Timeout ]
webgl/2.0.0/conformance/textures/video/tex-2d-rgb-rgb-unsigned_short_5_6_5.html [ Pass Timeout ]
webgl/2.0.0/conformance/textures/video/tex-2d-rgba-rgba-unsigned_byte.html [ Pass Timeout ]

animations/multiple-backgrounds.html [ ImageOnlyFailure Pass ]
compositing/patterns/direct-pattern-compositing-size.html [ ImageOnlyFailure Pass ]
css3/masking/mask-svg-no-fragmentId.html [ ImageOnlyFailure Pass ]
fast/css/object-position/object-position-img-svg.html [ ImageOnlyFailure Pass ]
fast/css/sticky/sticky-left-percentage.html [ ImageOnlyFailure Pass ]
fast/flexbox/image-percent-max-height.html [ ImageOnlyFailure Pass ]
fast/images/cached-clipped-pdf.html [ ImageOnlyFailure Pass ]
fast/selectors/selection-window-inactive-stroke-color.html [ ImageOnlyFailure Pass ]
imported/blink/fast/css/image-orientation/image-orientation-dynamic.html [ ImageOnlyFailure Pass ]
imported/blink/fast/images/content-url-image-with-alt-text-dynamic.html [ ImageOnlyFailure Pass ]
imported/blink/fast/replaced/absolute-image-position-and-focus-event.html [ ImageOnlyFailure Pass ]
imported/mozilla/svg/as-image/img-dyn-1.html [ ImageOnlyFailure Pass ]
imported/mozilla/svg/as-image/img-simple-7.html [ ImageOnlyFailure Pass ]
imported/w3c/web-platform-tests/css/css-backgrounds/animations/background-color-animation-with-table1.html [ ImageOnlyFailure Pass ]
imported/w3c/web-platform-tests/css/css-flexbox/justify-content-005.htm [ ImageOnlyFailure Pass ]
imported/w3c/web-platform-tests/css/css-position/fixed-z-index-blend.html [ ImageOnlyFailure Pass ]
imported/w3c/web-platform-tests/css/css-shapes/shape-outside/shape-image/shape-image-014.html [ ImageOnlyFailure Pass ]
imported/w3c/web-platform-tests/css/css-transforms/animation/transform-interpolation-skew.html [ ImageOnlyFailure Pass ]
imported/w3c/web-platform-tests/css/css-transforms/animation/transform-interpolation-translate-em.html [ ImageOnlyFailure Pass ]
imported/w3c/web-platform-tests/css/css-transforms/animation/transform-interpolation-translate.html [ ImageOnlyFailure Pass ]
imported/w3c/web-platform-tests/html/rendering/replaced-elements/images/revoked-blob-print.html [ ImageOnlyFailure Pass ]
imported/w3c/web-platform-tests/mathml/presentation-markup/fractions/frac-parameters-gap-006.html [ ImageOnlyFailure Pass ]
imported/w3c/web-platform-tests/svg/path/property/mpath.svg [ ImageOnlyFailure Pass ]
webanimations/accelerated-transition-by-removing-property.html [ ImageOnlyFailure Pass ]

css3/scroll-snap/scroll-snap-drag-scrollbar-thumb.html [ Failure Pass ]
fast/events/drag-selects-image.html [ Failure Pass ]
fast/events/mouse-cursor-change.html [ Failure Pass ]
fast/events/mouse-cursor-no-mousemove.html [ Failure Pass ]
fast/events/mouse-cursor-udpate-during-raf.html [ Failure Pass ]
fast/events/prevent-default-prevents-interaction-with-scrollbars.html [ Failure Pass ]
fast/rendering/render-style-null-optgroup-crash.html [ Failure Pass ]
http/tests/inspector/network/har/har-page.html [ Failure Pass ]
http/tests/inspector/network/resource-sizes-memory-cache.html [ Failure Pass ]
http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-iframe-in-main-frame.html [ Failure Pass ]
http/wpt/mediastream/mediastreamtrackprocessor-videoframe-timestamp.html [ Failure Pass ]
http/wpt/mediastream/transfer-videotrackgenerator-track.html [ Failure Pass ]
http/wpt/service-workers/service-worker-process-crashing-between-installed-and-activating.html [ Failure Pass ]
imported/w3c/web-platform-tests/content-security-policy/frame-ancestors/frame-ancestors-none-block.html [ Failure Pass ]
imported/w3c/web-platform-tests/css/css-align/blocks/align-content-block-002.html [ Failure Pass ]
imported/w3c/web-platform-tests/css/css-align/blocks/align-content-block-003.html [ Failure Pass ]
imported/w3c/web-platform-tests/css/css-anchor-position/anchor-position-inline-002.html [ Failure Pass ]
imported/w3c/web-platform-tests/css/selectors/media/media-playback-state.html [ Failure Pass ]
imported/w3c/web-platform-tests/dom/events/scrolling/scrollend-event-not-fired-after-removing-scroller.tentative.html [ Failure Pass ]
imported/w3c/web-platform-tests/html/semantics/embedded-content/the-iframe-element/iframe_sandbox_anchor_download_block_downloads.tentative.html [ Failure Pass ]
imported/w3c/web-platform-tests/navigation-api/navigate-event/signal-abort-window-stop-in-onnavigate.html [ Failure Pass ]
imported/w3c/web-platform-tests/webcodecs/audioDecoder-codec-specific.https.any.worker.html?pcm_mulaw [ Failure Pass ]
imported/w3c/web-platform-tests/webrtc-extensions/transfer-datachannel-service-worker.https.html [ Failure Pass ]
imported/w3c/web-platform-tests/workers/WorkerGlobalScope_ErrorEvent_filename.htm [ Failure Pass ]
imported/w3c/web-platform-tests/workers/WorkerGlobalScope_ErrorEvent_message.htm [ Failure Pass ]
js/dom/promise-stack-overflow.html [ Failure Pass ]
media/media-source/media-controller-media-source-play-then-pause.html [ Failure Pass ]
media/media-source/media-source-play-zero-playbackrate.html [ Failure Pass ]
media/restore-from-page-cache.html [ Failure Pass ]
media/track/track-in-band-duplicate-tracks-when-source-changes.html [ Failure Pass ]
media/video-frame-accurate-seek.html [ ImageOnlyFailure Failure ]
webgl/1.0.x/conformance/rendering/texture-switch-performance.html [ Failure Pass ]
webrtc/libwebrtc/descriptionGetters.html [ Failure Pass ]

#//////////////////////////////////////////////////////////////////////////////////////////
# Triaged Expectations
# * KEEP THE SECTIONS SORTED ALPHABETICALLY.
# * ALWAYS WITH BUG ENTRIES for things like Timeout, Failure and Crash.
#
# For more info, check the glib/TestExpectations file
# If unsure of where to put the expectations, add the test to the end of the file and
# ask for triaging.
#//////////////////////////////////////////////////////////////////////////////////////////

#//////////////////////////////////////////////////////////////////////////////////////////
# End of Triaged Expectations
#//////////////////////////////////////////////////////////////////////////////////////////
