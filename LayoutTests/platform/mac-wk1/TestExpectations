# This file should contain entries for expectations that are specific
# to the Apple Mac port running WebKit1 (DumpRenderTree)

#//////////////////////////////////////////////////////////////////////////////////////////
# Platform-specific tests. Skipped globally, then re-enabled here.
#//////////////////////////////////////////////////////////////////////////////////////////

fast/forms/attributed-strings.html [ Pass ]
editing/pasteboard/data-transfer-get-data-on-drop-custom.html [ Pass ]
editing/pasteboard/data-transfer-get-data-on-drop-plain-text.html [ Pass ]
editing/pasteboard/data-transfer-get-data-on-drop-rich-text.html [ Pass ]
editing/pasteboard/data-transfer-get-data-on-drop-url.html [ Pass ]
editing/pasteboard/data-transfer-is-unique-for-dragenter-and-dragleave.html [ Pass ]
editing/pasteboard/data-transfer-items-drag-drop-file-promise.html [ Pass ]
editing/pasteboard/data-transfer-items-drop-file.html [ Pass ]
editing/pasteboard/data-transfer-items-drop-file-promise.html [ Pass ]
editing/pasteboard/data-transfer-set-data-sanitize-html-when-dragging-in-null-origin.html [ Pass ]
editing/pasteboard/data-transfer-set-data-sanitize-url-when-dragging-in-null-origin.html [ Pass ]
editing/pasteboard/data-transfer-item-list-add-file-on-drag.html [ Pass ]
editing/pasteboard/datatransfer-items-drop-plaintext-file-promise.html [ Pass ]
editing/pasteboard/datatransfer-types-dropping-text-file-promise.html [ Pass ]
editing/pasteboard/drag-drop-href-as-url.html [ Pass ]
editing/pasteboard/drag-end-crash-accessing-item-list.html [ Pass ]
editing/pasteboard/drag-file-promises-to-editable-element-as-URLs.html [ Pass ]
editing/pasteboard/drag-file-promises-to-editable-element-as-attachment.html [ Pass ]
editing/pasteboard/file-input-files-access-promise.html [ Pass ]
fast/shadow-dom/dragging-element-with-shadow-tree.html [ Pass ]
fast/shadow-dom/dragging-element-inside-shadow-tree.html [ Pass ]
http/tests/security/clipboard/drag-drop-html-cross-origin-iframe-in-same-origin.html [ Pass ]

#//////////////////////////////////////////////////////////////////////////////////////////
# End platform-specific directories.
#//////////////////////////////////////////////////////////////////////////////////////////

###### This file has two sections. When adding new tests, make sure to
###### add to the right section:

### (1) Failures with bug reports
### (2) Failures without bug reports

########################################
### START OF (1) Failures with bug reports

# Asserts in WebKit1-debug due to a preexisting issue with overflow rect computation
webkit.org/b/118269 compositing/geometry/fixed-position-flipped-writing-mode.html

# Before Yosemite, the test did not actually test compositing vs. non-compositing on WebKit1, so it passed accidentally.
webkit.org/b/132421 fast/multicol/fixed-stack.html [ ImageOnlyFailure ]

webkit.org/b/104104 fast/overflow/scrollbar-click-retains-focus.html [ Failure ]

webkit.org/b/82981 http/tests/misc/favicon-loads-with-icon-loading-override.html [ Failure ]

webkit.org/b/138697 fast/events/overflow-scroll-fake-mouse-move.html [ Pass Failure ]

webkit.org/b/82747 fast/events/scroll-div-with-prevent-default-in-subframe.html [ Failure ]

webkit.org/b/112533 media/auto-play-in-sandbox-with-allow-scripts.html [ Pass Timeout ]

webkit.org/b/139778 fullscreen/exit-full-screen-iframe.html [ Skip ]

webkit.org/b/139862 editing/spelling/grammar-edit-word.html [ Skip ]

webkit.org/b/144127 compositing/scrolling/touch-scroll-to-clip.html [ Pass Failure ]

webkit.org/b/145432 media/video-transformed-by-javascript.html [ Failure ]

webkit.org/b/150564 svg/repaint/add-background-property-on-root.html [ Pass Timeout ]

webkit.org/b/152485 webaudio/audiocontext-state-interrupted.html [ Pass Crash ]

webkit.org/b/152789 webarchive/adopt-attribute-styled-body-webarchive.html [ Pass Crash ]

webkit.org/b/154297 [ Debug ] fast/events/keydown-1.html [ Pass Failure ]

webkit.org/b/155196 security/contentSecurityPolicy/video-with-blob-url-allowed-by-media-src-star.html [ Skip ]

webkit.org/b/155067 storage/indexeddb/transaction-abort-private.html [ Pass Crash ]

webkit.org/b/172092 [ Debug ] fast/parser/adoption-agency-unload-iframe-4.html [ Pass Timeout ]

webkit.org/b/178272 [ Sierra ] http/tests/media/video-redirect.html [ Pass Failure ]
webkit.org/b/178272 [ Sierra ] http/tests/security/contentSecurityPolicy/audio-redirect-allowed.html [ Pass Failure ]
webkit.org/b/178272 [ Sierra ] http/tests/security/contentSecurityPolicy/video-redirect-allowed.html [ Pass Failure ]
webkit.org/b/178272 [ Sierra ] http/tests/security/contentSecurityPolicy/video-with-http-url-allowed-by-csp-media-src-star.html [ Pass Failure ]
webkit.org/b/178272 [ Sierra ] http/tests/security/local-video-source-from-remote.html [ Pass Failure ]
webkit.org/b/178272 [ Sierra ] http/tests/security/video-cross-origin-accesssameorigin.html [ Pass Failure ]
webkit.org/b/178272 [ Sierra ] http/tests/canvas/webgl/origin-clean-conformance.html [ Pass Timeout ]
webkit.org/b/178272 [ Sierra ] http/tests/media/autoplay-if-audio-is-playing.html [ Pass Timeout ]
webkit.org/b/178272 [ Sierra ] http/tests/media/video-load-twice.html [ Pass Timeout ]
webkit.org/b/178272 [ Sierra ] http/tests/media/video-play-progress.html [ Pass Timeout ]
webkit.org/b/178272 [ Sierra ] http/tests/security/canvas-remote-read-remote-video-localhost.html [ Pass Timeout ]
webkit.org/b/178272 [ Sierra ] http/tests/security/canvas-remote-read-remote-video-redirect.html [ Pass Timeout ]
webkit.org/b/178272 [ Sierra ] http/tests/security/video-cross-origin-caching.html [ Pass Timeout ]

# rdar://problem/20001985
[ Sierra ] http/tests/xmlhttprequest/range-test.html [ Failure ]

# rdar://problem/34716163 Breaks subsequent tests using response.xml
[ HighSierra+ ] http/tests/xmlhttprequest/range-test.html [ Skip ]

# WK1 does not support sync XHR redirections as does WK2
http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/upgrade-insecure-sync-xhr-in-main-frame.html [ Skip ]

webkit.org/b/187230 editing/mac/pasteboard/can-copy-url-without-title.html [ Skip ]

### END OF (1) Failures with bug reports
########################################

########################################
### START OF (2) Failures without bug reports

# Fails with WebKit1 only.
editing/secure-input/reset-state-on-navigation.html [ Failure ]

# Plug-in blocking callback doesn't exist in WebKit1.
plugins/unavailable-plugin-indicator-obscurity.html
http/tests/plugins/plugin-allow-then-reload.html [ Skip ]

http/tests/plugins/nounsupported-plugin.html [ Skip ]
http/tests/plugins/supported-plugin-all-origin-visibility.html [ Skip ]
http/tests/plugins/supported-plugin-origin-specific-visibility.html [ Skip ]
http/tests/plugins/supported-plugin-on-specific-origin.html [ Skip ]
http/tests/plugins/unsupported-plugin-on-specific-origin.html [ Skip ]
plugins/unsupported-plugin.html [ Skip ]

# Color input is not yet implemented on Mac WK1. Currently, using it erroneously triggers an ASSERT_NOT_REACHED.
webkit.org/b/119094 fast/forms/color/input-color-onchange-event.html [ Skip ]
webkit.org/b/119094 fast/forms/color/color-suggestion-picker-crash-on-set-value.html [ Skip ]
webkit.org/b/119094 fast/forms/color/input-color-readonly.html [ Skip ]

# DumpRenderTree doesn't support logging calls to runOpenPanel.
fast/forms/file/open-file-panel.html [ Skip ]

# WK1 and WK2 mousemove events are subtly different in ways that break this test on WK1.
fast/events/ghostly-mousemoves-in-subframe.html [ Skip ]

# Media Stream API testing is not supported for WK1 yet.
fast/mediastream
imported/w3c/web-platform-tests/mediacapture-streams
http/tests/media/media-stream
http/tests/ssl/media-stream

# WK1 does not filter response headers.
http/wpt/loading/redirect-headers.html [ Skip ]

# No service worker implementation for WK1
imported/w3c/web-platform-tests/service-workers [ Skip ]
http/wpt/service-workers [ Skip ]
http/wpt/cache-storage [ Skip ]
http/tests/cache-storage [ Skip ]
imported/w3c/web-platform-tests/streams/readable-byte-streams/detached-buffers.serviceworker.https.html [ Skip ]
http/tests/appcache/main-resource-redirect-with-sw.html [ Skip ]
http/tests/cookies/same-site/fetch-in-cross-origin-service-worker.html [ Skip ]
http/tests/cookies/same-site/fetch-in-same-origin-service-worker.html [ Skip ]
imported/w3c/web-platform-tests/server-timing/service_worker_idl.html [ Skip ]
imported/w3c/web-platform-tests/fetch/api/request/destination [ Skip ]
imported/w3c/web-platform-tests/fetch/cross-origin-resource-policy [ Skip ]

# Skip WebRTC for now in WK1
imported/w3c/web-platform-tests/webrtc [ Skip ]
webrtc [ Skip ]
http/tests/webrtc [ Skip ]
http/wpt/webrtc [ Skip ]
webrtc/datachannel [ Pass ]
webrtc/datachannel/mdns-ice-candidates.html [ Skip ]
imported/w3c/web-platform-tests/webrtc/RTCPeerConnection-setLocalDescription-offer.html [ Failure ]

# Skip pointerevents on WK1
pointerevents [ Skip ]
imported/w3c/web-platform-tests/pointerevents [ Skip ]

# These tests test the Shadow DOM based HTML form validation UI but Mac WK1 is using native dialogs instead.
fast/forms/validation-message-on-listbox.html
fast/forms/validation-message-on-menulist.html
fast/forms/validation-message-on-radio.html
fast/forms/validation-message-on-checkbox.html
fast/forms/validation-message-on-range.html
fast/forms/validation-message-clone.html
fast/forms/validation-message-in-relative-body.html
fast/forms/validation-message-appearance.html
fast/forms/validation-message-on-textarea.html

# Disable snapshotting tests on WK1 only
plugins/snapshotting

# WK1 doesn't do pending WebGL policies 
fast/canvas/webgl/useWhilePending.html [ Skip ]

# Mac-WK1 only caches frames containing HTML at the moment.
http/tests/navigation/page-cache-iframe-no-current-historyItem.html

# Animated image throttling behaves differently on WK1.
fast/images/animated-gif-body-outside-viewport.html [ Skip ]
fast/images/animated-gif-window-resizing.html [ Skip ]
fast/images/animated-gif-zooming.html [ Skip ]
svg/animations/animated-svg-image-outside-viewport-paused.html [ Skip ]
svg/animations/animated-svg-image-removed-from-document-paused.html [ Skip ]
svg/animations/animations-paused-in-background-page-iframe.html [ Skip ]
svg/animations/animations-paused-in-background-page.html [ Skip ]

# WK1 uses the native scrollview for scrolling by page.
scrollbars/scrolling-backward-by-page-accounting-bottom-fixed-elements-on-keyboard-spacebar.html
scrollbars/scrolling-backward-by-page-on-keyboard-spacebar.html
scrollbars/scrolling-by-page-accounting-oversized-fixed-elements-on-keyboard-spacebar.html
scrollbars/scrolling-by-page-accounting-top-fixed-elements-on-keyboard-spacebar.html
scrollbars/scrolling-by-page-accounting-top-fixed-elements-with-negative-top-on-keyboard-spacebar.html
scrollbars/scrolling-by-page-ignoring-hidden-fixed-elements-on-keyboard-spacebar.html
scrollbars/scrolling-by-page-ignoring-transparent-fixed-elements-on-keyboard-spacebar.html
scrollbars/scrolling-by-page-on-keyboard-spacebar.html

# This test times out.
webkit.org/b/147683 fast/scrolling/latching/scroll-div-with-nested-nonscrollable-iframe.html [ Skip ]

fast/scrolling/iframe-scrollable-after-back.html [ Skip ]
fast/scrolling/overflow-scrollable-after-back.html [ Skip ]
fast/scrolling/scroll-container-horizontally.html [ Failure ]

compositing/rtl/rtl-fixed-overflow-scrolled.html [ Failure ]

compositing/iframes/overlapped-nested-iframes.html [ Pass Failure ]

# Disk cache is WK2 only
http/tests/cache/disk-cache
http/tests/inspector/network/resource-response-source-disk-cache.html
http/tests/inspector/network/resource-sizes-disk-cache.html

# Async image decoding is WK2 only
fast/images/async-image-background-change.html
fast/images/async-image-src-change.html
http/tests/multipart/multipart-async-image.html

fast/ruby/ruby-expansion-cjk-2.html [ ImageOnlyFailure ]

# ShouldOpenExternalURLs not yet supported in WK1
loader/navigation-policy [ Skip ]

[ Sierra+ ] css3/masking/mask-repeat-space-padding.html [ ImageOnlyFailure ]

webkit.org/b/152178 fast/replaced/replaced-breaking.html [ Failure ]

# DRT can open way more files than the DatabaseProcess with WebKitTestRunner, and the number is reasonable.
# So we shouldn't bother with this test in WebKit1.
storage/indexeddb/modern/exceed-open-file-limit.html

### END OF (2) Failures without bug reports
########################################

# These tests are WebKit2-only
http/tests/contentfiltering/load-substitute-data-from-appcache.html
fast/dom/Window/child-window-focus.html

# Testing the system language declaratively only makes sense in WK2, because it's implemented in WebKitTestRunner by launching a new WebContent process.
fast/text/international/system-language [ Pass Failure ImageOnlyFailure ]

# Imported Blink tests which have not been investigated.
imported/blink/fast/canvas/bug382588.html [ Pass Timeout ImageOnlyFailure ]
[ Debug ] imported/blink/compositing/video/video-controls-layer-creation-squashing.html [ Pass ImageOnlyFailure ]

# Blink tests that time out waiting on requestAnimationFrame callbacks. http://webkit.org/b/150050
imported/blink/animations/background-shorthand-crash.html [ Pass Timeout ]
legacy-animation-engine/imported/blink/animations/background-shorthand-crash.html [ Pass Timeout ]
imported/blink/compositing/squashing/invalidate-on-grouped-mapping-reorder.html [ Pass Timeout ]
imported/blink/css3/calc/transition-asan-crash.html [ Pass Timeout ]
legacy-animation-engine/imported/blink/css3/calc/transition-asan-crash.html [ Pass Timeout ]
imported/blink/fast/images/image-hover-display-alt.html [ Pass Timeout ]
imported/blink/fast/inline/reparent-inline-box.html [ Pass Timeout ]
imported/blink/fast/text-autosizing/print-autosizing.html  [ Pass Timeout ]
imported/blink/paint/theme/search-field-resuts-decoration-crash.html [ Pass Timeout ]
imported/blink/svg/filters/feColorMatrix-setAttribute-crash1.html [ Pass Timeout ]
imported/blink/svg/hittest/rect-miterlimit.html [ Pass Timeout ]
imported/blink/compositing/reorder-z-with-style.html [ Pass Timeout ]
imported/blink/svg/custom/marker-layout-invalidation.html [ Pass Timeout ]
imported/blink/fast/css/crash-corner-present.html [ Pass Timeout ]
imported/blink/compositing/layer-creation/iframe-clip-removed.html [ Pass Timeout ]

# ASAN test only fails on WK1:
webgl/1.0.3/151055_asan.html [ Failure ]

# Lacking WK1 TestRunner API that evaluates JavaScript through JSC APIs and not WebCore APIs.
inspector/script-profiler/event-type-API.html [ Skip ]

# WK1 Inspector running in the same VM as the inspected page skews heap snapshot results.
inspector/heap/getPreview.html [ Skip ]
inspector/heap/getRemoteObject.html [ Skip ]
inspector/unit-tests/heap-snapshot.html [ Skip ]
inspector/unit-tests/heap-snapshot-collection-event.html [ Skip ]

webkit.org/b/188708 inspector/dom-debugger/event-breakpoint-with-navigation.html [ Pass Timeout ]

# These tests check ScrollAnimator events for main frame scrollbars that use native widgets in WK1.
fast/scrolling/scroll-animator-overlay-scrollbars-clicked.html [ Skip ]
fast/scrolling/scroll-animator-overlay-scrollbars-hovered.html [ Skip ]

# WK1 main frame scrollbars are native widgets whose size is unaffected by webkit-scrollbar.
fast/visual-viewport/viewport-dimensions-exclude-custom-scrollbars.html [ Skip ]

# This hit-test test doesn't work on DRT
webkit.org/b/156084 accessibility/mac/video-tag-hit-test.html [ Skip ]

# This newly imported test times out on WK1 but passes on WK2.
webkit.org/b/172222 imported/w3c/web-platform-tests/notifications/event-onclose.html [ Skip ]

# <a download> is not supported in WK1 yet.
webkit.org/b/156069 fast/dom/HTMLAnchorElement/anchor-nodownload-set.html [ Failure ]
webkit.org/b/156069 fast/dom/HTMLAnchorElement/anchor-download.html [ Failure ]
webkit.org/b/156069 fast/dom/HTMLAnchorElement/anchor-download-synthetic-click.html [ Skip ]
webkit.org/b/156069 fast/dom/HTMLAnchorElement/anchor-download-user-triggered-synthetic-click.html [ Skip ]
webkit.org/b/156069 fast/dom/HTMLAnchorElement/anchor-file-blob-download.html [ Skip ]
webkit.org/b/156069 fast/dom/HTMLAnchorElement/anchor-file-blob-download-blank-base-target-popup-not-allowed.html [ Skip ]
webkit.org/b/156069 fast/dom/HTMLAnchorElement/anchor-file-blob-download-blank-target.html [ Skip ]
webkit.org/b/156069 fast/dom/HTMLAnchorElement/anchor-file-blob-download-blank-target-popup-not-allowed.html [ Skip ]
webkit.org/b/156069 fast/dom/HTMLAnchorElement/anchor-file-blob-download-includes-backslash.html [ Skip ]
webkit.org/b/156069 fast/dom/HTMLAnchorElement/anchor-file-blob-download-includes-doublequote.html [ Skip ]
webkit.org/b/156069 fast/dom/HTMLAnchorElement/anchor-file-blob-download-includes-slashes.html [ Skip ]
webkit.org/b/156069 fast/dom/HTMLAnchorElement/anchor-file-blob-download-includes-unicode.html [ Skip ]
webkit.org/b/156069 fast/dom/HTMLAnchorElement/anchor-file-blob-download-no-extension.html [ Skip ]
webkit.org/b/156069 fast/dom/HTMLAnchorElement/anchor-file-blob-download-then-revoke.html [ Skip ]
webkit.org/b/156069 http/tests/download/anchor-download-attribute-content-disposition.html [ Skip ]
webkit.org/b/156069 http/tests/download/anchor-download-no-extension.html [ Skip ]
webkit.org/b/156069 http/tests/download/anchor-download-redirect.html [ Skip ]
webkit.org/b/156069 http/tests/download/anchor-load-after-download.html [ Skip ]
webkit.org/b/156069 http/tests/download/area-download.html [ Skip ]
webkit.org/b/156069 http/tests/security/anchor-download-allow-blob.html [ Skip ]
webkit.org/b/156069 http/tests/security/anchor-download-allow-data.html [ Skip ]
webkit.org/b/156069 http/tests/security/anchor-download-allow-sameorigin.html [ Skip ]
webkit.org/b/156069 http/tests/security/anchor-download-block-crossorigin.html [ Skip ]
webkit.org/b/156069 http/tests/download/anchor-download-no-value.html [ Skip ]
webkit.org/b/156069 imported/w3c/web-platform-tests/html/semantics/text-level-semantics/the-a-element/a-download-click.html [ Skip ]
webkit.org/b/156069 imported/w3c/web-platform-tests/html/semantics/embedded-content/the-area-element/area-download-click.html [ Skip ]

# Not supported on WK1
media/no-fullscreen-when-hidden.html [ Skip ]

webkit.org/b/169523 [ Debug ] imported/w3c/web-platform-tests/html/dom/interfaces.worker.html [ Failure ]

imported/w3c/web-platform-tests/html/browsers/history/the-history-interface/history_go_no_argument.html [ Pass Failure ]
imported/w3c/web-platform-tests/html/webappapis/system-state-and-capabilities/the-navigator-object/navigator-pluginarray.html [ Pass Failure ]
imported/w3c/web-platform-tests/html/browsers/history/the-history-interface/history_go_to_uri.html [ Pass Failure ]

# testRunner.setShouldDownloadUndisplayableMIMETypes() is not supported on WK1.
fast/dom/HTMLAnchorElement/anchor-file-blob-convert-to-download.html [ Skip ]
fast/dom/HTMLAnchorElement/anchor-file-blob-convert-to-download-async-delegate.html [ Skip ]
http/tests/download/convert-cached-load-to-download.html [ Skip ]

webkit.org/b/156629 imported/w3c/web-platform-tests/html/semantics/embedded-content/the-img-element/sizes/parse-a-sizes-attribute.html [ Pass Failure ]

webkit.org/b/157007 fast/layers/no-clipping-overflow-hidden-added-after-transform.html [ Pass ImageOnlyFailure ]
webkit.org/b/157007 legacy-animation-engine/fast/layers/no-clipping-overflow-hidden-added-after-transform.html [ Pass ImageOnlyFailure ]

# This test relies on a settings option that we can only set with WKRT.
js/dom/regress-157246.html

# dumpPolicyDelegateCallbacks is not supported in DumpRenderTree
fast/loader/iframe-src-invalid-url.html [ Skip ]

webkit.org/b/157589 fast/text-autosizing/ios/text-autosizing-after-back.html [ Pass Timeout ]

# repaint rects work differently on WK1
fast/repaint/vertical-text-repaint.html [ Pass Failure ]

webkit.org/b/158585 webgl/webgl-backing-store-size-update.html [ Pass Timeout ]

# <rdar://problem/24818712>
[ Sierra+ ] editing/spelling/spelling-insert-html.html [ Pass Timeout ]

# <rdar://problem/26399598>
[ Sierra+ ] editing/spelling/spellcheck-async.html [ Failure ]
[ Sierra+ ] editing/spelling/spelling-unified-emulation.html [ Failure ]

# <rdar://problem/26050923> The result is probably still a pass, but we don't have a way
# to have platform specific results that are different between WK1 and WK2.
[ Sierra+ ] accessibility/mac/document-attributes.html [ Failure ]
[ Sierra+ ] accessibility/parent-delete.html [ Failure ]

# rdar://problem/26478296
[ Sierra+ ] svg/hixie/text/003.html [ Failure ]

webkit.org/b/159893 [ Debug ] imported/w3c/web-platform-tests/xhr/event-readystatechange-loaded.htm [ Pass Failure ]
webkit.org/b/188816 [ Debug ] imported/w3c/web-platform-tests/xhr/event-upload-progress.htm [ Pass Crash ]

webkit.org/b/160101 userscripts/window-onerror-for-isolated-world-3.html [ Pass Failure ]

webkit.org/b/105870 [ Debug ] webaudio/audionode-connect-order.html [ Pass Crash ]

# rdar://problem/27723718
[ Sierra+ ] imported/blink/compositing/child-transform-with-anchor-point.html [ ImageOnlyFailure ]

webkit.org/b/161056 gamepad [ Skip ]

webkit.org/b/162592 [ Sierra+ ] css3/filters/backdrop/backdrop-filter-with-reflection.html [ Pass ImageOnlyFailure ]
webkit.org/b/162591 [ Sierra+ ] css3/filters/backdrop/backdrop-filter-with-reflection-add-backdrop.html [ Pass ImageOnlyFailure ]
webkit.org/b/162591 [ Sierra+ ] css3/filters/backdrop/backdrop-filter-with-reflection-value-change.html [ Pass ImageOnlyFailure ]

webkit.org/b/161360 imported/w3c/web-platform-tests/html/browsers/browsing-the-web/history-traversal/persisted-user-state-restoration/scroll-restoration-fragment-scrolling-cross-origin.html [ Pass Failure ]

webkit.org/b/163361 imported/w3c/web-platform-tests/html/webappapis/animation-frames/callback-exception.html [ Pass Failure ]
webkit.org/b/163361 imported/w3c/web-platform-tests/html/webappapis/animation-frames/callback-invoked.html [ Pass Failure ]
webkit.org/b/163361 imported/w3c/web-platform-tests/html/webappapis/animation-frames/callback-multicalls.html [ Pass Failure ]

# Resource Metrics data not available in WebKit1.
http/wpt/resource-timing/rt-nextHopProtocol.html [ Failure ]
http/wpt/resource-timing/rt-nextHopProtocol.worker.html [ Failure ]
http/tests/inspector/network/resource-request-headers.html [ Failure ]
http/tests/inspector/network/resource-sizes-network.html [ Failure ]
http/tests/inspector/network/resource-sizes-memory-cache.html [ Failure ]
http/tests/inspector/network/har/har-page.html [ Failure ]

webkit.org/b/164933 http/tests/misc/link-rel-icon-beforeload.html [ Failure ]

webkit.org/b/165541 compositing/layer-creation/fixed-overlap-extent-rtl.html [ Failure ]
webkit.org/b/165541 compositing/rtl/rtl-fixed-overflow.html [ Failure ]

webkit.org/b/154612 [ Sierra+ ] compositing/repaint/fixed-background-scroll.html [ Pass Failure ]

webkit.org/b/165589 pointer-lock/lock-lost-on-esc-in-fullscreen.html [ Skip ]

imported/w3c/web-platform-tests/html/webappapis/timers/negative-settimeout.html [ Failure ]

# webkit.org/b/163585
media/track/track-cues-cuechange.html [ Pass Crash ]
media/track/track-cue-rendering-horizontal.html [ Pass Crash ]
media/accessibility-closed-captions-has-aria-owns.html [ Pass Crash ]
media/track/track-cues-enter-exit.html [ Pass Crash ]

webkit.org/b/167127 pointer-lock/locked-element-removed-from-dom.html

webkit.org/b/167857 pageoverlay/overlay-remove-reinsert-view.html [ Skip ]

# There is not NetworkProcess in WK1, so it can't crash.
http/tests/websocket/tests/hybi/network-process-crash-error.html [ Skip ]

# auto-sizing produces inconsistent image results
css3/viewport-percentage-lengths/vh-auto-size.html [ Skip ]

webkit.org/b/170877 [ Debug ] webgl/1.0.2/conformance/glsl/misc/shader-with-reserved-words.html [ Pass Timeout ]

webkit.org/b/180554 imported/w3c/web-platform-tests/xhr/event-upload-progress-crossorigin.htm [ Skip ]

webkit.org/b/187372 imported/w3c/web-platform-tests/IndexedDB/interfaces.any.worker.html [ Pass Timeout ]

# Beacon is not supported on WK1.
http/tests/blink/sendbeacon/ [ Skip ]
http/tests/inspector/network/beacon-type.html [ Skip ]
http/wpt/beacon/ [ Skip ]
imported/blink/fast/beacon/ [ Skip ]
imported/w3c/web-platform-tests/beacon/ [ Skip ]
http/tests/security/contentSecurityPolicy/connect-src-beacon-allowed.html [ Skip ]
http/tests/security/contentSecurityPolicy/connect-src-beacon-blocked.html [ Skip ]
http/tests/security/contentSecurityPolicy/report-only-connect-src-beacon-redirect-blocked.php [ Skip ]

# This was a WK2-only fix.
http/tests/css/filters-on-iframes.html [ Skip ]

webkit.org/b/171937 imported/w3c/web-platform-tests/dom/nodes/ParentNode-querySelector-All-xht.xht [ Pass Failure ]
webkit.org/b/171937 imported/w3c/web-platform-tests/dom/nodes/ParentNode-querySelector-All.html [ Pass Failure ]

webkit.org/b/171814 http/tests/media/hls/video-controls-live-stream.html [ Failure ]
webkit.org/b/171814 http/tests/media/hls/video-duration-accessibility.html [ Failure ]

webkit.org/b/172331 workers/wasm-long-compile-many.html [ Pass Timeout ]

webkit.org/b/172807 imported/w3c/web-platform-tests/css/selectors/focus-display-none-001.html [ Pass Failure ]
webkit.org/b/172807 imported/w3c/web-platform-tests/css/selectors/focus-within-display-none-001.html [ Pass Failure ]

webkit.org/b/168409 media/modern-media-controls/airplay-button/airplay-button.html [ Pass Timeout ]
webkit.org/b/175195 media/modern-media-controls/css/webkit-cursor-visibility-auto-hide.html [ Pass Failure ]
webkit.org/b/168265 media/modern-media-controls/forward-button/forward-button.html [ Pass Timeout ]
webkit.org/b/182571 media/modern-media-controls/tracks-support/tracks-support-show-panel-fullscreen.html [ Pass Timeout ]

webkit.org/b/173432 [ Debug ] imported/w3c/web-platform-tests/fetch/nosniff/importscripts.html [ Pass Crash ]

# Requires WK2 loading support
http/wpt/fetch/dnt-header-after-redirection.html [ Skip ]
http/wpt/fetch/inspect-preflight.html [ Skip ]

# requires wk2 speculative tiling
fast/images/low-memory-decode.html [ Skip ]

http/tests/workers/service [ Skip ]
http/tests/inspector/network/resource-response-service-worker.html [ Skip ]

# Link preconnect is disabled on WebKit1 because it does not use NETWORK_SESSION.
http/tests/preconnect [ Skip ]

webkit.org/b/175345 fast/images/animated-gif-scrolling-crash.html [ Pass Timeout ]

webkit.org/b/175554 [ Sierra ] fullscreen/full-screen-iframe-legacy.html [ Pass Failure ]

webkit.org/b/174218 svg/animations/smil-leak-list-property-instances.svg [ Pass Failure ]

webkit.org/b/172877 svg/as-image/svg-image-with-data-uri-background.html [ Pass ImageOnlyFailure ]

webkit.org/b/174180 svg/animations/smil-leak-elements.svg [ Pass Failure ]

webkit.org/b/175867 svg/animations/smil-leak-dynamically-added-element-instances.svg [ Pass Failure ]

webkit.org/b/176920 imported/w3c/web-platform-tests/streams/piping/error-propagation-forward.dedicatedworker.html [ Pass Timeout ]

webkit.org/b/175886 svg/animations/smil-leak-element-instances.svg [ Pass Failure ]

# <rdar://problem/29201698> DumpRenderTree crashed in com.apple.CoreGraphics: CGDataProviderCopyData + 377
[ HighSierra+ ] fast/canvas/webgl/tex-image-and-sub-image-2d-with-potentially-subsampled-image.html [ Crash ]

# <rdar://problem/29031509> REGRESSION? (FontParser-195): svg/W3C-SVG-1.1/fonts-elem-* and svg/W3C-SVG-1.1/text-intro-* tests failing
[ HighSierra+ ] svg/W3C-SVG-1.1/fonts-elem-04-b.svg [ Failure ]

# <rdar://problem/31893714> REGRESSION: LayoutTest fast/text/multiple-codeunit-vertical-upright.html is failing on WK1
[ HighSierra+ ] fast/text/multiple-codeunit-vertical-upright.html [ ImageOnlyFailure ]

# <rdar://problem/31895192> DumpRenderTree crashed in com.apple.ImageIO.framework: IIODictionary::getBoolForKey + 0
[ HighSierra+ ] http/tests/misc/slow-loading-animated-image.html [ Skip ]

# <rdar://problem/33522420> Crash: Multiple Layout test in fast/events and fast/forms and fast/text are crashing
[ HighSierra+ ] fast/events/keyboardevent-code.html [ Crash ]
[ HighSierra+ ] fast/events/keyboardevent-key.html [ Crash ]
[ HighSierra+ ] fast/events/keydown-leftright-keys.html [ Crash ]
[ HighSierra+ ] fast/forms/textarea-maxlength.html [ Crash ]
[ HighSierra+ ] fast/text/system-font-fallback-emoji.html [ Crash ]

webkit.org/b/172397 [ Debug ] legacy-animation-engine/animations/needs-layout.html [ Pass ImageOnlyFailure ]

webkit.org/b/179775 imported/w3c/web-platform-tests/xhr/firing-events-http-no-content-length.html [ Pass Failure ]

webkit.org/b/172044 [ Debug ] imported/w3c/web-platform-tests/IndexedDB/open-request-queue.html [ Pass Timeout ]

webkit.org/b/189731 intersection-observer/no-document-leak.html [ Pass Timeout ]

webkit.org/b/180898 accessibility/mac/AOM-events.html [ Skip ]
webkit.org/b/183023 accessibility/mac/AOM-events-all.html [ Skip ]
webkit.org/b/183352 accessibility/ios-simulator/AOM-dismiss-event.html [ Skip ]
webkit.org/b/184742 accessibility/mac/async-increment-decrement-action.html [ Skip ]
webkit.org/b/185897 accessibility/mac/AOM-event-accessiblesetvalue.html [ Skip ]
webkit.org/b/185897 accessibility/mac/set-value-editable-types.html [ Skip ]

webkit.org/b/182752 accessibility/mac/accessibility-make-first-responder.html [ Skip ]

# This test tests the rootElement on WK2.
webkit.org/b/185742 accessibility/mac/primary-screen-height.html [ Skip ]

# User-installed fonts test infrastructure is not present in WK1
webkit.org/b/180062 fast/text/user-installed-fonts [ ImageOnlyFailure ]

webkit.org/b/179643 media/W3C/video/networkState/networkState_during_loadstart.html [ Pass Failure ]

webkit.org/b/181862 [ Debug ] http/tests/images/image-supports-video.html [ Pass Failure ]

webkit.org/b/179853 imported/blink/fast/text/international-iteration-simple-text.html [ Pass Failure ]

# Skip anything related to WebAuthN
http/wpt/credential-management/ [ Skip ]
http/wpt/webauthn/ [ Skip ]
imported/w3c/web-platform-tests/credential-management/ [ Skip ]

webkit.org/b/182554 transitions/transition-display-property.html [ Pass ImageOnlyFailure ]
webkit.org/b/182554 legacy-animation-engine/transitions/transition-display-property.html [ Pass ImageOnlyFailure ]

webkit.org/b/181834 [ Debug ] fast/block/positioning/fixed-container-with-relative-parent.html [ Pass ImageOnlyFailure ]

webkit.org/b/182932 media/track/track-css-matching-default.html [ Pass Timeout ]

webkit.org/b/183220 media/track/track-css-matching-timestamps.html [ Pass Timeout ]

imported/w3c/web-platform-tests/css/selectors/selector-placeholder-shown-type-change-002.html [ ImageOnlyFailure ]

webkit.org/b/184456 imported/w3c/web-platform-tests/html/semantics/embedded-content/the-embed-element/embed-in-object-fallback.html [ Pass Failure ]

webkit.org/b/184569 [ Debug ] animations/missing-from-to.html [ Skip ]

webkit.org/b/184458 media/remote-control-command-is-user-gesture.html [ Pass Timeout ]

webkit.org/b/185404 http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-iframe-in-main-frame.html [ Pass Failure ]

webkit.org/b/186581 [ Debug ] fast/parser/xml-error-adopted.xml [ Timeout Pass ]

webkit.org/b/187557 [ Debug ] media/media-fragments/TC0005.html [ Pass Failure ]
webkit.org/b/187522 [ Debug ] media/media-fragments/TC0015.html [ Pass Failure ]
webkit.org/b/187557 [ Debug ] media/media-fragments/TC0024.html [ Pass Failure ]
webkit.org/b/187557 [ Debug ] media/media-fragments/TC0037.html [ Pass Failure ]
webkit.org/b/187557 [ Debug ] media/media-fragments/TC0078.html [ Pass Failure ]
webkit.org/b/187557 [ Debug ] media/media-fragments/TC0079.html [ Pass Failure ]
webkit.org/b/187557 [ Debug ] media/media-fragments/TC0085.html [ Pass Failure ]
webkit.org/b/187557 [ Debug ] media/media-fragments/TC0086.html [ Pass Failure ]
webkit.org/b/187557 [ Debug ] media/media-fragments/TC0087.html [ Pass Failure ]
webkit.org/b/187557 [ Debug ] media/media-fragments/TC0088.html [ Pass Failure ]
webkit.org/b/187557 [ Debug ] media/media-fragments/TC0089.html [ Pass Failure ]
webkit.org/b/187557 [ Debug ] media/media-fragments/TC0090.html [ Pass Failure ]
webkit.org/b/187557 [ Debug ] media/media-fragments/TC0091.html [ Pass Failure ]

webkit.org/b/187711 [ Debug ] svg/custom/linking-uri-01-b.svg [ Pass Failure ]

# <rdar://problem/42625657>
[ Mojave+ ] fast/images/animated-gif-paint-after-animation.html [ Skip ]
[ Mojave+ ] fast/images/async-image-background-image-repeated.html [ Skip ]
[ Mojave+ ] fast/images/async-image-background-image.html [ Skip ]
[ Mojave+ ] fast/images/async-image-multiple-clients-repaint.html [ Skip ]
[ Mojave+ ] fast/images/composited-animated-gif-outside-viewport.html [ Skip ]
[ Mojave+ ] fast/images/decode-render-animated-image.html [ Skip ]
[ Mojave+ ] fast/images/decode-render-static-image.html [ Skip ]
[ Mojave+ ] fast/images/decoding-attribute-async-small-image.html [ Skip ]
[ Mojave+ ] fast/images/decoding-attribute-dynamic-async-small-image.html [ Skip ]
[ Mojave+ ] fast/images/sprite-sheet-image-draw.html [ Skip ]

# <rdar://problem/42627562>
[ Mojave+ ] media/video-restricted-invisible-autoplay-not-allowed-source.html [ Skip ]
[ Mojave+ ] media/video-restricted-invisible-autoplay-not-allowed.html [ Skip ]

# <rdar://problem/42736213>
[ Mojave+ ] displaylists/canvas-display-list.html [ Failure ]
[ Mojave+ ] displaylists/extent-includes-shadow.html [ Failure ]
[ Mojave+ ] displaylists/extent-includes-transforms.html [ Failure ]
[ Mojave+ ] displaylists/layer-dispay-list.html [ Failure ]
[ Mojave+ ] displaylists/replay-skip-clipped-rect.html [ Failure ]

# <rdar://problem/42920617>
[ Mojave+ ] compositing/repaint/iframes/composited-iframe-with-fixed-background-doc-repaint.html [ Pass Failure ]

webkit.org/b/188357 legacy-animation-engine/compositing/backing/transform-transition-from-outside-view.html [ Pass Failure ]
webkit.org/b/188357 legacy-animation-engine/compositing/geometry/limit-layer-bounds-opacity-transition.html [ Pass Failure ]
webkit.org/b/188357 legacy-animation-engine/compositing/layer-creation/animation-overlap-with-children.html [ Pass Failure ]

# <rdar://problem/42904780>
[ Mojave+ Release ] imported/w3c/web-platform-tests/WebCryptoAPI/derive_bits_keys/hkdf.https.worker.html [ Failure ]

webkit.org/b/189087 svg/animations/animate-end-attribute-numeric-precision.html [ Pass Failure ]

webkit.org/b/189594 imported/w3c/web-platform-tests/css/css-animations/pending-style-changes-001.html [ Pass Failure ]

webkit.org/b/188070 imported/w3c/web-platform-tests/streams/piping/error-propagation-backward.html [ Pass Failure ]

# Not supported on WK1
fast/css-custom-paint [ Skip ]
imported/w3c/web-platform-tests/css/css-properties-values-api/ [ Skip ]
css-custom-properties-api [ Skip ]
css-dark-mode [ Skip ]

webkit.org/b/189908 imported/w3c/web-platform-tests/resource-timing/resource_timing.worker.html [ Failure ]

webkit.org/b/189756 [ Mojave+ ] compositing/filters/opacity-change-on-filtered-paints-into-ancestor.html [ Pass ImageOnlyFailure ]
