<!DOCTYPE html>
<html>
<head>
  <script src="../../../js-test-resources/js-test-pre.js"></script>
  <script>
    function runTest() {
      description('Tests that loading a same-origin frame with a URL that contains an anchor fragment does scroll this frame.');
      description('This tests that the framesniffing defenses are not overzealous.');
      // Check scroll position in a timeout to make sure that the anchor has been scrolled to.
      setTimeout(function() {
          shouldBeTrue('document.scrollingElement.scrollTop > 0');
          shouldBeTrue('document.scrollingElement.scrollLeft == 0');
          finishJSTest();
      }, 0);
    }
    var jsTestIsAsync = true;
  </script>
</head>
<body>
<!-- large same-origin grandchild frame -->
<iframe height="8000" width="8000" src="http://127.0.0.1:8000/navigation/resources/grandchild-with-anchor.html#anchor1" name="grandchild" onload="runTest()">
</iframe>
<script src="../../../js-test-resources/js-test-post.js"></script>
</body>
</html>
