<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<!-- "?utf-8" works around Bug 22952 when run after test-css-url-encoding-shift-jis.html -->
<link rel="stylesheet" type="text/css" href="resources/test-no-charset.css?utf-8">
<link rel="stylesheet" type="text/css" href="resources/test-shift-jis.css">
<link rel="stylesheet" type="text/css" href="resources/test-utf-8.css">
<script>
if (window.layoutTestController)
    layoutTestController.dumpDOMAsWebArchive();
</script>
</head>
<body>
<div>
Test for <a href="https://bugs.webkit.org/show_bug.cgi?id=11850">Bug 11850:
Webarchive fails to save images referenced in CSS</a>
</div>
<div><p>This test makes sure that the URL in the shift-jis encoded CSS file is encoded properly in the webarchive.</p></div>
<div>Expected <tt>?img-src-utf-8-%E4%BA%9C</tt> query string for &lt;img&gt; tag with utf-8 document charset: <div class="styled"><img src="resources/apple.gif?img-src-utf-8-亜"></div>
<div>Expected <tt>?css-url-no-charset-%EF%BF%BD%EF%BF%BD</tt> query string for CSS url() with no CSS charset: <div class="styled background-no-charset"></div></div>
<div>Expected <tt>?css-url-shift-jis-%88%9F</tt> query string for CSS url() with shift-jis CSS charset: <div class="styled background-shift-jis"></div></div>
<div>Expected <tt>?css-url-utf-8-%E4%BA%9C</tt> query string for CSS url() with utf-8 CSS charset: <div class="styled background-utf-8"></div></div>
</body>
</html>
