{"version":3,"sources":["../../../../src/common/internal/query/encode_selectively.ts"],"names":["encodeURIComponentSelectively","s","ret","encodeURIComponent","replace"],"mappings":";AAAA;AACA,G,CADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GACA,OAAO,SAASA,6BAAT,CAAuCC,CAAvC,EAA0D,CAC/D,IAAIC,GAAG,GAAGC,kBAAkB,CAACF,CAAD,CAA5B;AACAC,EAAAA,GAAG,GAAGA,GAAG,CAACE,OAAJ,CAAY,MAAZ,EAAoB,GAApB,CAAN,CAF+D,CAE/B;AAChCF,EAAAA,GAAG,GAAGA,GAAG,CAACE,OAAJ,CAAY,MAAZ,EAAoB,GAApB,CAAN,CAH+D,CAG/B;AAChCF,EAAAA,GAAG,GAAGA,GAAG,CAACE,OAAJ,CAAY,MAAZ,EAAoB,GAApB,CAAN,CAJ+D,CAI/B;AAChCF,EAAAA,GAAG,GAAGA,GAAG,CAACE,OAAJ,CAAY,MAAZ,EAAoB,GAApB,CAAN,CAL+D,CAK/B;AAChCF,EAAAA,GAAG,GAAGA,GAAG,CAACE,OAAJ,CAAY,MAAZ,EAAoB,GAApB,CAAN,CAN+D,CAM/B;AAChCF,EAAAA,GAAG,GAAGA,GAAG,CAACE,OAAJ,CAAY,MAAZ,EAAoB,GAApB,CAAN,CAP+D,CAO/B;AAChCF,EAAAA,GAAG,GAAGA,GAAG,CAACE,OAAJ,CAAY,MAAZ,EAAoB,GAApB,CAAN,CAR+D,CAQ/B;AAChCF,EAAAA,GAAG,GAAGA,GAAG,CAACE,OAAJ,CAAY,MAAZ,EAAoB,GAApB,CAAN,CAT+D,CAS/B;AAChCF,EAAAA,GAAG,GAAGA,GAAG,CAACE,OAAJ,CAAY,MAAZ,EAAoB,GAApB,CAAN,CAV+D,CAU/B;AAChCF,EAAAA,GAAG,GAAGA,GAAG,CAACE,OAAJ,CAAY,YAAZ,EAA0B,GAA1B,CAAN,CAX+D,CAWzB;AACtC,SAAOF,GAAP;AACD","sourcesContent":["/**\n * Encodes a stringified TestQuery so that it can be placed in a `?q=` parameter in a URL.\n *\n * `encodeURIComponent` encodes in accordance with `application/x-www-form-urlencoded`,\n * but URLs don't actually have to be as strict as HTML form encoding\n * (we interpret this purely from JavaScript).\n * So we encode the component, then selectively convert some %-encoded escape codes\n * back to their original form for readability/copyability.\n */\nexport function encodeURIComponentSelectively(s: string): string {\n  let ret = encodeURIComponent(s);\n  ret = ret.replace(/%22/g, '\"'); // for JSON strings\n  ret = ret.replace(/%2C/g, ','); // for path separator, and JSON arrays\n  ret = ret.replace(/%3A/g, ':'); // for big separator\n  ret = ret.replace(/%3B/g, ';'); // for param separator\n  ret = ret.replace(/%3D/g, '='); // for params (k=v)\n  ret = ret.replace(/%5B/g, '['); // for JSON arrays\n  ret = ret.replace(/%5D/g, ']'); // for JSON arrays\n  ret = ret.replace(/%7B/g, '{'); // for JSON objects\n  ret = ret.replace(/%7D/g, '}'); // for JSON objects\n  ret = ret.replace(/%E2%9C%97/g, 'âœ—'); // for jsUndefinedMagicValue\n  return ret;\n}\n"],"file":"encode_selectively.js"}