{"version":3,"sources":["../../../../src/common/internal/logging/logger.ts"],"names":["version","TestCaseRecorder","Logger","globalDebugMode","results","Map","constructor","overrideDebugMode","overriddenDebugMode","record","name","result","status","timems","set","asJSON","space","JSON","stringify","Array","from","undefined"],"mappings":";AAAA;AACA,GADA,SAASA,OAAT,QAAwB,eAAxB;AAGA,SAASC,gBAAT,QAAiC,yBAAjC;;;;AAIA,OAAO,MAAMC,MAAN,CAAa;AACI,SAAfC,eAAe,GAAY,KAAZ;;;AAGbC,EAAAA,OAAO,GAAe,IAAIC,GAAJ,EAAf;;AAEhBC,EAAAA,WAAW,CAAC,EAAEC,iBAAF,KAAyD,EAA1D,EAA8D;AACvE,SAAKC,mBAAL,GAA2BD,iBAA3B;AACD;;AAEDE,EAAAA,MAAM,CAACC,IAAD,EAAuD;AAC3D,UAAMC,MAA0B,GAAG,EAAEC,MAAM,EAAE,SAAV,EAAqBC,MAAM,EAAE,CAAC,CAA9B,EAAnC;AACA,SAAKT,OAAL,CAAaU,GAAb,CAAiBJ,IAAjB,EAAuBC,MAAvB;AACA,WAAO;AACL,QAAIV,gBAAJ,CAAqBU,MAArB,EAA6B,KAAKH,mBAAL,IAA4BN,MAAM,CAACC,eAAhE,CADK;AAELQ,IAAAA,MAFK,CAAP;;AAID;;AAEDI,EAAAA,MAAM,CAACC,KAAD,EAAyB;AAC7B,WAAOC,IAAI,CAACC,SAAL,CAAe,EAAElB,OAAF,EAAWI,OAAO,EAAEe,KAAK,CAACC,IAAN,CAAW,KAAKhB,OAAhB,CAApB,EAAf,EAA+DiB,SAA/D,EAA0EL,KAA1E,CAAP;AACD,GArBiB","sourcesContent":["import { version } from '../version.js';\n\nimport { LiveTestCaseResult } from './result.js';\nimport { TestCaseRecorder } from './test_case_recorder.js';\n\nexport type LogResults = Map<string, LiveTestCaseResult>;\n\nexport class Logger {\n  static globalDebugMode: boolean = false;\n\n  readonly overriddenDebugMode: boolean | undefined;\n  readonly results: LogResults = new Map();\n\n  constructor({ overrideDebugMode }: { overrideDebugMode?: boolean } = {}) {\n    this.overriddenDebugMode = overrideDebugMode;\n  }\n\n  record(name: string): [TestCaseRecorder, LiveTestCaseResult] {\n    const result: LiveTestCaseResult = { status: 'running', timems: -1 };\n    this.results.set(name, result);\n    return [\n      new TestCaseRecorder(result, this.overriddenDebugMode ?? Logger.globalDebugMode),\n      result,\n    ];\n  }\n\n  asJSON(space?: number): string {\n    return JSON.stringify({ version, results: Array.from(this.results) }, undefined, space);\n  }\n}\n"],"file":"logger.js"}