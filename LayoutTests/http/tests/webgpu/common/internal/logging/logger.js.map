{"version":3,"file":"logger.js","names":["version","TestCaseRecorder","Logger","globalDebugMode","results","Map","constructor","overrideDebugMode","overriddenDebugMode","record","name","result","status","timems","set","asJSON","space","JSON","stringify","Array","from","undefined"],"sources":["../../../../src/common/internal/logging/logger.ts"],"sourcesContent":["import { version } from '../version.js';\n\nimport { LiveTestCaseResult } from './result.js';\nimport { TestCaseRecorder } from './test_case_recorder.js';\n\nexport type LogResults = Map<string, LiveTestCaseResult>;\n\nexport class Logger {\n  static globalDebugMode: boolean = false;\n\n  readonly overriddenDebugMode: boolean | undefined;\n  readonly results: LogResults = new Map();\n\n  constructor({ overrideDebugMode }: { overrideDebugMode?: boolean } = {}) {\n    this.overriddenDebugMode = overrideDebugMode;\n  }\n\n  record(name: string): [TestCaseRecorder, LiveTestCaseResult] {\n    const result: LiveTestCaseResult = { status: 'running', timems: -1 };\n    this.results.set(name, result);\n    return [\n      new TestCaseRecorder(result, this.overriddenDebugMode ?? Logger.globalDebugMode),\n      result,\n    ];\n  }\n\n  asJSON(space?: number): string {\n    return JSON.stringify({ version, results: Array.from(this.results) }, undefined, space);\n  }\n}\n"],"mappings":";AAAA;AAAA,GAAA,SAASA,OAAO,QAAQ,eAAe;AAGvC,SAASC,gBAAgB,QAAQ,yBAAyB;;;;AAI1D,OAAO,MAAMC,MAAM,CAAC;EAClB,OAAOC,eAAe,GAAY,KAAK;;;EAG9BC,OAAO,GAAe,IAAIC,GAAG,EAAE;;EAExCC,WAAW,CAAC,EAAEC,iBAAiB,CAAkC,CAAC,GAAG,CAAC,CAAC,EAAE;IACvE,IAAI,CAACC,mBAAmB,GAAGD,iBAAiB;EAC9C;;EAEAE,MAAM,CAACC,IAAY,EAA0C;IAC3D,MAAMC,MAA0B,GAAG,EAAEC,MAAM,EAAE,SAAS,EAAEC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC;IACpE,IAAI,CAACT,OAAO,CAACU,GAAG,CAACJ,IAAI,EAAEC,MAAM,CAAC;IAC9B,OAAO;IACL,IAAIV,gBAAgB,CAACU,MAAM,EAAE,IAAI,CAACH,mBAAmB,IAAIN,MAAM,CAACC,eAAe,CAAC;IAChFQ,MAAM,CACP;;EACH;;EAEAI,MAAM,CAACC,KAAc,EAAU;IAC7B,OAAOC,IAAI,CAACC,SAAS,CAAC,EAAElB,OAAO,EAAEI,OAAO,EAAEe,KAAK,CAACC,IAAI,CAAC,IAAI,CAAChB,OAAO,CAAC,CAAC,CAAC,EAAEiB,SAAS,EAAEL,KAAK,CAAC;EACzF;AACF"}