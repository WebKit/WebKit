<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html lang="en">
 <head>
  <title>getAllResponseHeaders</title>
  <style type="text/css">
   pre { color: silver; }
  </style>
 </head>
 <body>
  <p>FAIL: Script did not run.</p>
  <pre></pre>
  <script type="text/javascript">
   if (window.testRunner)
     testRunner.dumpAsText();

   var p = document.getElementsByTagName('p')[0];
   var pre = document.getElementsByTagName('pre')[0];
   p.firstChild.data = 'FAIL: Test script did not finish.';
   if (!window.XMLHttpRequest)
     window.XMLHttpRequest = function () { return new ActiveXObject("Microsoft.XMLHTTP"); }
   var r = new XMLHttpRequest();
   r.open('GET', '007-test.asis', false);
   r.send(null);
   var s = r.getAllResponseHeaders();
   p.firstChild.data = (s.length > 100) ? 'PASS' : 'FAIL';
   s = s.replace(/Date: .+[\r\n]+/, 'Date: (censored)\n');
//   pre.appendChild(document.createTextNode(s));
  </script>
 </body>
</html>
