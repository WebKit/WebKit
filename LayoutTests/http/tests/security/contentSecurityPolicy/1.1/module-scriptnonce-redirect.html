<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Security-Policy" content="script-src 'nonce-noncynonce'"></meta>
    </head>
    <body>
        <script nonce="noncynonce">
            if (window.testRunner) {
                testRunner.dumpAsText();
                testRunner.waitUntilDone();
            }
        </script>
        This tests whether a deferred script load caused by a redirect is properly allowed by a nonce.
        <script type="module" nonce='noncynonce' src='../resources/redir.py?url=http://localhost:8000/security/contentSecurityPolicy/resources/alert-pass.js'></script>
        <script type="module" nonce="noncynonce">
            if (window.testRunner)
                testRunner.notifyDone();
        </script>
    </body>
</html>
