<!DOCTYPE html>
<html>
<head>
<script>
if (window.testRunner) {
    testRunner.dumpAsText();
    testRunner.dumpChildFramesAsText();
    testRunner.dumpFrameLoadCallbacks();
    testRunner.waitUntilDone();
}

window.addEventListener("message", function (messageEvent) {
    document.getElementById("console").textContent = messageEvent.data + "\n";
    if (window.testRunner)
        testRunner.notifyDone();
}, false);
</script>
</head>
<body onload='runtest()'>
<p>This test opens a window and loads an insecure iframe using a data URL.  We should *not*
trigger a mixed content block because the data URL cannot be corrupted by an active network
attacker.</p>
<pre id="console"></pre>
<script>
function runtest() {
    window.open("https://127.0.0.1:8443/security/contentSecurityPolicy/block-all-mixed-content/resources/frame-with-data-url-iframe.html");
}
</script>
</body>
</html>
