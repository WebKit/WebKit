<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests; block-all-mixed-content">
<script>
function writeResultAndNotifyDone(result)
{
    document.getElementById("result").textContent = result;
    if (window.testRunner)
        testRunner.notifyDone();
}

function testPassed()
{
    writeResultAndNotifyDone("PASS did load image.");
}

function testFailed()
{
    writeResultAndNotifyDone("FAIL did not load image.");
}
</script>
</head>
<body>
<img src="https://127.0.0.1:8443/resources/redirect.php?url=http://127.0.0.1:8443/security/resources/compass.jpg" onload="testPassed()" onerror="testFailed()">
<pre id="result"></pre>
</body>
</html>
