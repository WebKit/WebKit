<html> <!-- webkit-test-runner [ JavaScriptCanOpenWindowsAutomatically=false ] -->
<body>
<a id="test" onclick="go()">Go?</a>
<script> 
if (window.testRunner)
    testRunner.dumpAsText();

oClickEvent = document.createEvent("MouseEvents");
oClickEvent.initEvent("click", true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);
document.getElementById("test").dispatchEvent(oClickEvent);

function go() {
    oWin = window.open("about:blank", "blabla");
    alert(oWin ? "FAIL" : "PASS");
}
</script> 
</body> 
</html>
