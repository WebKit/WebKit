<html>
<head>
<script>

if (window.testRunner) {
    testRunner.setCustomPolicyDelegate(true, true);
    if (testRunner.skipPolicyDelegateNotifyDone) { testRunner.skipPolicyDelegateNotifyDone() }
}

function runTest()
{
    var link = document.getElementById('testlink');
    var clickEvent = document.createEvent('MouseEvents');
    clickEvent.initEvent('click', false, true);
    link.dispatchEvent(clickEvent);
}

</script>

<body onload="runTest();">
This is a page with a link in it.  When the link it clicked it will navigate to another page.  If run under DumpRenderTree,<br>
the policy delegate will dump out the calls it receives.  And it should only receive one!<br>
<a id="testlink" href="iframe-policy-2.html">Click me for next page</a>
</body>
</html>
