2022-04-08  Carlos Garcia Campos  <cgarcia@igalia.com>

        Incorrect CORP/COEP check in 304 responses
        https://bugs.webkit.org/show_bug.cgi?id=238238
        <rdar://problem/90706510>

        Reviewed by Youenn Fablet.

        Mark some tests with DumpJSConsoleLogInStdErr modifier.

        * TestExpectations:

2022-05-06  Patrick Griffis  <pgriffis@igalia.com>

        CSP: Fix script-src-elem policies in workers
        https://bugs.webkit.org/show_bug.cgi?id=239840

        Reviewed by Kate Cheney.

        CSP: Fix script-src-elem policies in workers

        * http/tests/security/contentSecurityPolicy/script-src-strict-dynamic-and-script-src-elem-expected.txt: Added.
        * http/tests/security/contentSecurityPolicy/script-src-strict-dynamic-and-script-src-elem.html: Added.

2022-04-27  Youenn Fablet  <youenn@apple.com>

        Add testRunner API to clear memory cache
        https://bugs.webkit.org/show_bug.cgi?id=239804
        rdar://92033309

        Reviewed by Chris Dumez.

        * http/wpt/fetch/clear-memory-cache-expected.txt: Added.
        * http/wpt/fetch/clear-memory-cache.html: Added.
        * http/wpt/fetch/resources/clear-memory-cache.py: Added.

2022-04-28  Patrick Griffis  <pgriffis@igalia.com>

        CSP: Fix mixing strict-dynamic and unsafe-inline policies
        https://bugs.webkit.org/show_bug.cgi?id=239862

        Reviewed by Kate Cheney.

        If you had multiple policies, one including strict-dynamic and another with unsafe-inline, the unsafe-inline
        policy was incorrectly handled.

        * http/tests/security/contentSecurityPolicy/script-src-strict-dynamic-and-unsafe-inline-policies-expected.txt: Added.
        * http/tests/security/contentSecurityPolicy/script-src-strict-dynamic-and-unsafe-inline-policies.html: Added.

2022-05-03  Antti Koivisto  <antti@apple.com>

        [CSS Cascade Layers] Endless recursion with revert-layer in other tree context
        https://bugs.webkit.org/show_bug.cgi?id=239967
        <rdar://92449950>

        Reviewed by Alan Bujtas.

        * fast/css/revert-layer-tree-context-stack-overflow-expected.html: Added.
        * fast/css/revert-layer-tree-context-stack-overflow.html: Added.

2022-03-15  Gabriel Nava Marino  <gnavamarino@apple.com>

        Crash in KeyframeList.cpp:183 in WebCore::KeyframeList::fillImplicitKeyframes
        https://bugs.webkit.org/show_bug.cgi?id=237858

        Reviewed by Antoine Quint.

        * animations/fill-implicit-keyframes-crash-expected.txt: Added.
        * animations/fill-implicit-keyframes-crash.html: Added.

2022-05-25  Alan Coon  <alancoon@apple.com>

        Cherry-pick 1a810ee6f98a. rdar://problem/87980543

    Expose the correct role, subrole and role description properties for the <dialog> element.
    https://bugs.webkit.org/show_bug.cgi?id=236359
    
    Reviewed by Chris Fleizach.
    
    Source/WebCore:
    
    Test: accessibility/dialog-properties.html
    
    Elements with role="dialog" are exposed to accessibility clients with
    role AXGroup, subrole AXApplicationDialog and role description
    "web dialog". This patch implements this behavior for the <dialog>
    element.
    
    * accessibility/AccessibilityNodeObject.cpp:
    (WebCore::AccessibilityNodeObject::determineAccessibilityRoleFromNode const):
    * accessibility/AccessibilityObject.cpp:
    (WebCore::AccessibilityObject::defaultObjectInclusion const):
    
    LayoutTests:
    
    Tests that these AX properties have the expected values both when the
    dialog is shown modal or modeless.
    
    * accessibility/dialog-properties-expected.txt: Added.
    * accessibility/dialog-properties.html: Added.
    
    Canonical link: https://commits.webkit.org/247198@main
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@289713 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-13  Andres Gonzalez  <andresg_22@apple.com>

            Expose the correct role, subrole and role description properties for the <dialog> element.
            https://bugs.webkit.org/show_bug.cgi?id=236359

            Reviewed by Chris Fleizach.

            Tests that these AX properties have the expected values both when the
            dialog is shown modal or modeless.

            * accessibility/dialog-properties-expected.txt: Added.
            * accessibility/dialog-properties.html: Added.

2022-05-19  Alan Coon  <alancoon@apple.com>

        Cherry-pick r294234. rdar://problem/93602100

    Web Inspector: Regression(r266885) Crash sometimes when rehydrating imported audit results
    https://bugs.webkit.org/show_bug.cgi?id=240366
    
    Reviewed by Devin Rousso.
    
    Source/JavaScriptCore:
    
    * inspector/protocol/DOM.json:
    
    Source/WebCore:
    
    Added test cases to inspector/model/dom-node.html
    
    After r266885, there is no path to handle the possibility that there may not be a resulting node for calls to
    `DOM.querySelector`. To correct this, mark the return value as optional (Web Inspector frontend already treats
    it as optional) and return early if there was no Element matching the selector.
    
    * inspector/agents/InspectorDOMAgent.cpp:
    (WebCore::InspectorDOMAgent::querySelector):
    * inspector/agents/InspectorDOMAgent.h:
    
    LayoutTests:
    
    * inspector/model/dom-node.html:
    * inspector/model/dom-node-expected.txt:
    
    Canonical link: https://commits.webkit.org/250592@main
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@294234 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-05-16  Patrick Angle  <pangle@apple.com>

            Web Inspector: Regression(r266885) Crash sometimes when rehydrating imported audit results
            https://bugs.webkit.org/show_bug.cgi?id=240366

            Reviewed by Devin Rousso.

            * inspector/model/dom-node.html:
            * inspector/model/dom-node-expected.txt:

2022-05-19  Alan Coon  <alancoon@apple.com>

        Cherry-pick r293819. rdar://problem/93602086

    Crash in WindowProxy::setDOMWindow
    https://bugs.webkit.org/show_bug.cgi?id=232763
    
    Patch by Alex Christensen <achristensen@webkit.org> on 2022-05-04
    Reviewed by Chris Dumez.
    
    Source/WebCore:
    
    Add a few null checks here and there.
    
    Test: fast/dom/set-dom-window-without-page.html
    
    * bindings/js/WindowProxy.cpp:
    (WebCore::WindowProxy::setDOMWindow):
    * loader/FrameLoader.cpp:
    (WebCore::FrameLoader::findFrameForNavigation):
    
    LayoutTests:
    
    * fast/dom/set-dom-window-without-page-expected.txt: Added.
    * fast/dom/set-dom-window-without-page.html: Added.
    
    Canonical link: https://commits.webkit.org/250292@main
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@293819 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-05-04  Alex Christensen  <achristensen@webkit.org>

            Crash in WindowProxy::setDOMWindow
            https://bugs.webkit.org/show_bug.cgi?id=232763

            Reviewed by Chris Dumez.

            * fast/dom/set-dom-window-without-page-expected.txt: Added.
            * fast/dom/set-dom-window-without-page.html: Added.

2022-05-16  Alan Coon  <alancoon@apple.com>

        Cherry-pick r294012. rdar://problem/92425915

    Fix inertness of pseudo-elements
    https://bugs.webkit.org/show_bug.cgi?id=239831
    
    Reviewed by Antti Koivisto.
    
    When we adjust style for a pseudo-element, `m_element` and `document().activeModalDialog()` are both null. So we accidentally reset inertness to false in those cases.
    
    Fix this by making checking for m_element's existence too.
    
    LayoutTests/imported/w3c:
    
    * web-platform-tests/inert/inert-pseudo-element-hittest-expected.txt: Added.
    * web-platform-tests/inert/inert-pseudo-element-hittest.html: Added.
    
    Source/WebCore:
    
    Test: imported/w3c/web-platform-tests/inert/inert-pseudo-element-hittest.html
    
    * style/StyleAdjuster.cpp:
    (WebCore::Style::Adjuster::adjust const):
    
    LayoutTests:
    
    * platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-pseudo-element-hittest-expected.txt: Added.
    
    Canonical link: https://commits.webkit.org/250446@main
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@294012 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-05-10  Tim Nguyen  <ntim@apple.com>

            Fix inertness of pseudo-elements
            https://bugs.webkit.org/show_bug.cgi?id=239831

            Reviewed by Antti Koivisto.

            When we adjust style for a pseudo-element, `m_element` and `document().activeModalDialog()` are both null. So we accidentally reset inertness to false in those cases.

            Fix this by making checking for m_element's existence too.

            * platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-pseudo-element-hittest-expected.txt: Added.

2022-05-16  Alan Coon  <alancoon@apple.com>

        Cherry-pick r293987. rdar://problem/92775435

    Implement CSS :modal pseudo class
    https://bugs.webkit.org/show_bug.cgi?id=240109
    
    Reviewed by Simon Fraser.
    
    LayoutTests/imported/w3c:
    
    Add and extend tests for :modal pseudo-class.
    
    * web-platform-tests/css/selectors/invalidation/modal-pseudo-class-in-has-expected.txt: Added.
    * web-platform-tests/css/selectors/invalidation/modal-pseudo-class-in-has.html: Added.
    * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-show-modal.html:
    
    Source/WebCore:
    
    Test: imported/w3c/web-platform-tests/css/selectors/invalidation/modal-pseudo-class-in-has.html
    
    Renames :-internal-modal-dialog to :modal and adds :has() invalidation support.
    
    * css/CSSSelector.cpp:
    (WebCore::CSSSelector::selectorText const):
    * css/CSSSelector.h:
    * css/SelectorChecker.cpp:
    (WebCore::SelectorChecker::checkOne const):
    * css/SelectorCheckerTestFunctions.h:
    (WebCore::matchesModalPseudoClass):
    (WebCore::matchesModalDialogPseudoClass): Deleted.
    * css/SelectorPseudoClassAndCompatibilityElementMap.in:
    * css/dialog.css:
    (dialog:modal):
    (dialog:-internal-modal-dialog): Deleted.
    * css/parser/CSSSelectorParser.cpp:
    (WebCore::CSSSelectorParser::consumePseudo):
    * cssjit/SelectorCompiler.cpp:
    (WebCore::SelectorCompiler::JSC_DEFINE_JIT_OPERATION):
    (WebCore::SelectorCompiler::addPseudoClassType):
    * html/HTMLDialogElement.cpp:
    (WebCore::HTMLDialogElement::showModal):
    (WebCore::HTMLDialogElement::close):
    (WebCore::HTMLDialogElement::removedFromAncestor):
    (WebCore::HTMLDialogElement::setIsModal):
    * html/HTMLDialogElement.h:
    
    LayoutTests:
    
    Removes :-internal-modal-dialog from internal pseudo classes.
    
    * fast/css/pseudo-class-internal-expected.txt:
    * fast/css/pseudo-class-internal.html:
    
    Canonical link: https://commits.webkit.org/250424@main
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@293987 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-05-09  Tim Nguyen  <ntim@apple.com>

            Implement CSS :modal pseudo class
            https://bugs.webkit.org/show_bug.cgi?id=240109

            Reviewed by Simon Fraser.

            Removes :-internal-modal-dialog from internal pseudo classes.

            * fast/css/pseudo-class-internal-expected.txt:
            * fast/css/pseudo-class-internal.html:

2022-05-16  Alan Coon  <alancoon@apple.com>

        Cherry-pick r293264. rdar://problem/92130849

    Web Inspector: Regression(r287684) Resources from the memory cache show empty content in Network, Sources, and Search tabs
    https://bugs.webkit.org/show_bug.cgi?id=239667
    
    Reviewed by Devin Rousso.
    
    Source/WebCore:
    
    Updated tests:
    - http/tests/inspector/network/resource-response-source-disk-cache.html
    - http/tests/inspector/network/resource-response-source-memory-cache.html
    
    r287684 introduced a subtle bug when calling InspectorInstrumentation::didReceiveData. We rely
    on there being a difference between real, but empty, data buffer and not having a data buffer,
    but after r287684 an empty SharedBuffer would be passed in the later case. Instead, we should
    continue to pass nullptr if there is no buffer so that InspectorNetworkAgent::didReceiveData
    can distiguish between the two.
    
    The bug is the result of having a non-nullptr `data` in `InspectorNetworkAgent::didReceiveData`,
    which causes us to call `maybeAddResourceData`, which means by the time
    `InspectorNetworkAgent::getResponseBody` is called, the ResourceData for the request will have
    an empty, not non-existant, `content()`, which means we will return the empty content instead,
    since we believe the response had actual content.
    
    * inspector/InspectorInstrumentation.cpp:
    (WebCore::InspectorInstrumentation::didReceiveDataImpl):
    * inspector/InspectorInstrumentation.h:
    (WebCore::InspectorInstrumentation::didReceiveData):
    * loader/ResourceLoadNotifier.cpp:
    (WebCore::ResourceLoadNotifier::dispatchDidReceiveData):
    
    LayoutTests:
    
    Add test steps to ensure that the resource has content, and that the base64Encoded value matches our
    expectations. While only the memory cache was affected by this regression, add the test steps to both
    the memory and disk caches to defend this functionality.
    
    * http/tests/inspector/network/resource-response-source-memory-cache-expected.txt:
    * http/tests/inspector/network/resource-response-source-memory-cache.html:
    * http/tests/inspector/network/resource-response-source-disk-cache-expected.txt:
    * http/tests/inspector/network/resource-response-source-disk-cache.html:
    
    Canonical link: https://commits.webkit.org/249905@main
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@293264 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-04-22  Patrick Angle  <pangle@apple.com>

            Web Inspector: Regression(r287684) Resources from the memory cache show empty content in Network, Sources, and Search tabs
            https://bugs.webkit.org/show_bug.cgi?id=239667

            Reviewed by Devin Rousso.

            Add test steps to ensure that the resource has content, and that the base64Encoded value matches our
            expectations. While only the memory cache was affected by this regression, add the test steps to both
            the memory and disk caches to defend this functionality.

            * http/tests/inspector/network/resource-response-source-memory-cache-expected.txt:
            * http/tests/inspector/network/resource-response-source-memory-cache.html:
            * http/tests/inspector/network/resource-response-source-disk-cache-expected.txt:
            * http/tests/inspector/network/resource-response-source-disk-cache.html:

2022-05-16  Alan Coon  <alancoon@apple.com>

        Cherry-pick r293170. rdar://problem/91117803

    AVSampleBufferRenderSynchronizer timeline sometimes goes backwards when playback begins
    https://bugs.webkit.org/show_bug.cgi?id=239471
    rdar://91117803
    
    Reviewed by Jer Noble.
    
    Source/WebCore:
    
    Test: media/media-source/media-source-current-time.html
    
    * html/HTMLMediaElement.cpp:
    (WebCore::HTMLMediaElement::mediaPlayerTimeChanged): Log current time and requested
    playback rate.
    (WebCore::HTMLMediaElement::setPausedInternal): Log.
    
    * platform/graphics/avfoundation/objc/MediaPlayerPrivateMediaSourceAVFObjC.h:
    * platform/graphics/avfoundation/objc/MediaPlayerPrivateMediaSourceAVFObjC.mm:
    (WebCore::MediaPlayerPrivateMediaSourceAVFObjC::MediaPlayerPrivateMediaSourceAVFObjC):
    If time has gone backward, clamp to the most recent seek time.
    (WebCore::MediaPlayerPrivateMediaSourceAVFObjC::playInternal): INFO_LOG -> ALWAYS_LOG
    (WebCore::MediaPlayerPrivateMediaSourceAVFObjC::pauseInternal): Ditto.
    (WebCore::MediaPlayerPrivateMediaSourceAVFObjC::currentMediaTime const): Use clampTimeToLastSeekTime.
    (WebCore::MediaPlayerPrivateMediaSourceAVFObjC::clampTimeToLastSeekTime const): New,
    clamp time value to the most recent seek time.
    (WebCore::MediaPlayerPrivateMediaSourceAVFObjC::setCurrentTimeDidChangeCallback):
    Use clampTimeToLastSeekTime.
    (WebCore::MediaPlayerPrivateMediaSourceAVFObjC::seekWithTolerance): INFO_LOG -> ALWAYS_LOG
    (WebCore::MediaPlayerPrivateMediaSourceAVFObjC::seekInternal): INFO_LOG -> ALWAYS_LOG
    (WebCore::MediaPlayerPrivateMediaSourceAVFObjC::updateLastPixelBuffer): INFO_LOG -> ALWAYS_LOG
    (WebCore::MediaPlayerPrivateMediaSourceAVFObjC::setHasAvailableVideoFrame): INFO_LOG -> ALWAYS_LOG
    (WebCore::MediaPlayerPrivateMediaSourceAVFObjC::durationChanged): INFO_LOG -> ALWAYS_LOG
    
    Source/WebKit:
    
    * WebProcess/GPU/media/MediaPlayerPrivateRemote.cpp:
    (WebKit::MediaPlayerPrivateRemote::currentTimeChanged): Log when time jumps backwards.
    
    LayoutTests:
    
    * media/media-source/media-source-current-time-expected.txt: Added.
    * media/media-source/media-source-current-time.html: Added.
    
    Canonical link: https://commits.webkit.org/249852@main
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@293170 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-04-21  Eric Carlson  <eric.carlson@apple.com>

            AVSampleBufferRenderSynchronizer timeline sometimes goes backwards when playback begins
            https://bugs.webkit.org/show_bug.cgi?id=239471
            rdar://91117803

            Reviewed by Jer Noble.

            * media/media-source/media-source-current-time-expected.txt: Added.
            * media/media-source/media-source-current-time.html: Added.

2022-05-16  Alan Coon  <alancoon@apple.com>

        Cherry-pick r293126. rdar://problem/90483049

    REGRESSION (r281913): Map toolbar flickers when dragging the map on https://gis.ee/
    https://bugs.webkit.org/show_bug.cgi?id=238589
    <rdar://90483049>
    
    Reviewed by Alan Bujtas.
    Source/WebCore:
    
    If a layer has negative z-order descendants, and one of those descendants becomes
    composited, then that layer also has to composite, because its foreground needs to render in
    front of those descendants. But this is tricky, because the compositing toggle is
    out-of-order; we only know that the layer has to get composited after processing
    descendants.
    
    In particular, this created a problem with the overlap map, which tracks sets of rectangles
    in "compositing scopes" via LayerOverlapMap. The delayed compositing toggle of the layer
    with negative z-order descendants meant that any layers processed up to that point had their
    bounds added in the wrong overlap scope. This resulted in subsequent bad overlap testing,
    and a failure to make later layers composited.
    
    The previous fix in this area (r281913) was incorrect. Revert it, and do a better fix, which
    is to speculatively push an overlap map entry for the layer with negative z-order
    descendants, if necessary. If this layer ends up not getting composited, we unwind the
    speculative push, which will merge that scope with its parent scope.
    
    In addition give OverlapMapContainer (an "overlap scope") a RenderLayer& which we can use
    for logging, and to assert on correct behavior; it is not otherwise used in release builds.
    
    Tests: compositing/layer-creation/overlap-with-negative-z-layers.html
           compositing/layer-creation/subtree-div-overlaps-multiple-negative-z-divs.html
    
    * rendering/LayerOverlapMap.cpp:
    (WebCore::OverlapMapContainer::OverlapMapContainer):
    (WebCore::OverlapMapContainer::scopeLayer const):
    (WebCore::OverlapMapContainer::dump const):
    (WebCore::LayerOverlapMap::LayerOverlapMap):
    (WebCore::LayerOverlapMap::add):
    (WebCore::LayerOverlapMap::pushCompositingContainer):
    (WebCore::LayerOverlapMap::popCompositingContainer):
    * rendering/LayerOverlapMap.h:
    * rendering/RenderLayerCompositor.cpp:
    (WebCore::RenderLayerCompositor::computeCompositingRequirements):
    (WebCore::RenderLayerCompositor::traverseUnchangedSubtree):
    (WebCore::RenderLayerCompositor::updateOverlapMap const):
    
    LayoutTests:
    
    Move subtree-div-overlaps-multiple-negative-z-divs.html into the layer-creation directory.
    Add a new test.
    
    * compositing/layer-creation/overlap-with-negative-z-layers-expected.html: Added.
    * compositing/layer-creation/overlap-with-negative-z-layers.html: Added.
    * compositing/layer-creation/subtree-div-overlaps-multiple-negative-z-divs-expected.html: Renamed from LayoutTests/compositing/subtree-div-overlaps-multiple-negative-z-divs-expected.html.
    * compositing/layer-creation/subtree-div-overlaps-multiple-negative-z-divs.html: Renamed from LayoutTests/compositing/subtree-div-overlaps-multiple-negative-z-divs.html.
    * fast/harness/render-tree-as-text-options-expected.txt: Test progressed; update results.
    
    Canonical link: https://commits.webkit.org/249828@main
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@293126 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-04-20  Simon Fraser  <simon.fraser@apple.com>

            REGRESSION (r281913): Map toolbar flickers when dragging the map on https://gis.ee/
            https://bugs.webkit.org/show_bug.cgi?id=238589
            <rdar://90483049>

            Reviewed by Alan Bujtas.

            Move subtree-div-overlaps-multiple-negative-z-divs.html into the layer-creation directory.
            Add a new test.

            * compositing/layer-creation/overlap-with-negative-z-layers-expected.html: Added.
            * compositing/layer-creation/overlap-with-negative-z-layers.html: Added.
            * compositing/layer-creation/subtree-div-overlaps-multiple-negative-z-divs-expected.html: Renamed from LayoutTests/compositing/subtree-div-overlaps-multiple-negative-z-divs-expected.html.
            * compositing/layer-creation/subtree-div-overlaps-multiple-negative-z-divs.html: Renamed from LayoutTests/compositing/subtree-div-overlaps-multiple-negative-z-divs.html.
            * fast/harness/render-tree-as-text-options-expected.txt: Test progressed; update results.

2022-05-16  Alan Coon  <alancoon@apple.com>

        Cherry-pick r292350. rdar://problem/90589355

    intersectsWithAncestor should take fragmented boxes into account.
    https://bugs.webkit.org/show_bug.cgi?id=238648
    
    Reviewed by Dean Jackson.
    
    Source/WebCore:
    
    Test: compositing/backing/backing-store-columns-inside-position-fixed.html
    
    * rendering/RenderLayerBacking.cpp:
    (WebCore::intersectsWithAncestor):
    
    Use boundingBox() for intersectsWithAncestor, so that we can explicitly request the box that contains
    all fragment boxes.
    
    LayoutTests:
    
    * compositing/backing/backing-store-columns-inside-position-fixed-expected.txt: Added.
    * compositing/backing/backing-store-columns-inside-position-fixed.html: Added.
    
    Adds new test that scrolls content split into columns until the first column is offscreen, to confirm
    that we still have a backing store.
    
    Canonical link: https://commits.webkit.org/249215@main
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@292350 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-04-04  Matt Woodrow  <mattwoodrow@apple.com>

            intersectsWithAncestor should take fragmented boxes into account.
            https://bugs.webkit.org/show_bug.cgi?id=238648

            Reviewed by Dean Jackson.

            * compositing/backing/backing-store-columns-inside-position-fixed-expected.txt: Added.
            * compositing/backing/backing-store-columns-inside-position-fixed.html: Added.

            Adds new test that scrolls content split into columns until the first column is offscreen, to confirm
            that we still have a backing store.

2022-05-03  Sihui Liu  <sihui_liu@apple.com>

        StorageMap::removeItem may fail to remove item from map
        https://bugs.webkit.org/show_bug.cgi?id=239982
        rdar://80891555

        Reviewed by Chris Dumez.

        * storage/domstorage/sessionstorage/resources/window-open-remove-item.html: Added.
        * storage/domstorage/sessionstorage/window-open-remove-item-expected.txt: Added.
        * storage/domstorage/sessionstorage/window-open-remove-item.html: Added.

2022-04-26  Russell Epstein  <repstein@apple.com>

        Cherry-pick r290630. rdar://problem/89442583

    AX: WebKit should ignore empty modals rather than trapping focus inside them
    https://bugs.webkit.org/show_bug.cgi?id=237163
    
    Reviewed by Chris Fleizach and Andres Gonzalez.
    
    Source/WebCore:
    
    Given this markup:
    
    <div role="dialog" aria-modal="true">
        <div aria-hidden="true">
            <button>Close modal (inside modal)</button>
        </div>
    </div>
    
    There is no accessible content inside this modal, but WebKit traps user focus inside,
    making the rest of the page completely inaccessible.
    
    With this patch we ignore modals that don't have accessible content.
    We do this by walking the DOM to find any non-AX-ignored objects.
    
    Because determining whether or not an element is ignored is dependent
    on modals present on the page, this patch moves the call to `ignoredFromModalPresence`
    out of `AccessibilityObject::defaultObjectInclusion`, as this function is
    downstream of `computeAccessibilityIsIgnored`, and we need to call
    that on objects inside modal candidates. Without this move, we would
    recurse infinitely in `AXObjectCache::modalElementHasAccessibleContent`.
    
    We now check whether an object is ignored due to modal presence in
    `AccessibilityObject::accessibilityIsIgnored()`, so that function should
    be used as the final say in determining whether an object is ignored.
    
    Test: accessibility/ignore-modals-without-any-content.html
    
    * accessibility/AXObjectCache.cpp:
    (WebCore::AXObjectCache::modalElementHasAccessibleContent):
    (WebCore::AXObjectCache::currentModalNode):
    * accessibility/AXObjectCache.h:
    * accessibility/AccessibilityObject.cpp:
    (WebCore::AccessibilityObject::defaultObjectInclusion const):
    (WebCore::AccessibilityObject::accessibilityIsIgnored const):
    * accessibility/AccessibilityObject.h:
    (WebCore::AccessibilityObject::computeAccessibilityIsIgnored const):
    
    LayoutTests:
    
    * accessibility/ignore-modals-without-any-content-expected.txt: Added.
    * accessibility/ignore-modals-without-any-content.html: Added.
    * platform/glib/TestExpectations: Skip new test.
    * platform/ios/TestExpectations: Enable new test.
    * platform/ios/accessibility/ignore-modals-without-any-content-expected.txt: Added.
    * platform/win/TestExpectations: Skip new test.
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290630 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-28  Tyler Wilcock  <tyler_w@apple.com>

            AX: WebKit should ignore empty modals rather than trapping focus inside them
            https://bugs.webkit.org/show_bug.cgi?id=237163

            Reviewed by Chris Fleizach and Andres Gonzalez.

            * accessibility/ignore-modals-without-any-content-expected.txt: Added.
            * accessibility/ignore-modals-without-any-content.html: Added.
            * platform/glib/TestExpectations: Skip new test.
            * platform/ios/TestExpectations: Enable new test.
            * platform/ios/accessibility/ignore-modals-without-any-content-expected.txt: Added.
            * platform/win/TestExpectations: Skip new test.

2022-04-22  Alan Coon  <alancoon@apple.com>

        Cherry-pick r292274. rdar://problem/80544133

    [Cocoa] Automatically relayout the page when new fonts are installed
    https://bugs.webkit.org/show_bug.cgi?id=238483
    <rdar://problem/80544133>
    
    Reviewed by Chris Dumez.
    
    Source/WebCore:
    
    This patch simply calls setNeedsRecalcStyleInAllFrames on every Page when we receive a
    kCTFontManagerRegisteredFontsChangedNotification.
    
    FontCache::invalidateAllFontCaches() can't do this directly because it's in platform/ and
    therefore isn't allowed to know what Pages are. Instead, this patch takes a process-global
    callback and calls that instead. This callback is set at initialization time.
    
    Test: fast/text/install-font-style-recalc.html
    
    * page/Page.cpp:
    (WebCore::m_contentSecurityPolicyModeForExtension):
    (WebCore::Page::firstTimeInitialization):
    * page/Page.h:
    * platform/graphics/FontCache.cpp:
    (WebCore::Function<void):
    (WebCore::FontCache::registerFontCacheInvalidationCallback):
    (WebCore::FontCache::invalidateAllFontCaches):
    * platform/graphics/FontCache.h:
    
    Tools:
    
    Make TestRunner::dumpResourceLoadStatistics() clear any currently-recorded statistics.
    This avoids the problem where spurious layouts during the time when the page has been created but
    before the test has begun record irrelevant statistics.
    
    * WebKitTestRunner/InjectedBundle/InjectedBundle.cpp:
    (WTR::InjectedBundle::beginTesting):
    (WTR::InjectedBundle::clearResourceLoadStatistics):
    * WebKitTestRunner/InjectedBundle/InjectedBundle.h:
    * WebKitTestRunner/InjectedBundle/TestRunner.cpp:
    (WTR::TestRunner::dumpResourceLoadStatistics):
    
    LayoutTests:
    
    * TestExpectations:
    * fast/text/install-font-style-recalc-expected.txt: Added.
    * fast/text/install-font-style-recalc.html: Added.
    * platform/ios-wk2/TestExpectations:
    * platform/mac-wk2/TestExpectations:
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@292274 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-04-02  Myles C. Maxfield  <mmaxfield@apple.com>

            [Cocoa] Automatically relayout the page when new fonts are installed
            https://bugs.webkit.org/show_bug.cgi?id=238483
            <rdar://problem/80544133>

            Reviewed by Chris Dumez.

            * TestExpectations:
            * fast/text/install-font-style-recalc-expected.txt: Added.
            * fast/text/install-font-style-recalc.html: Added.
            * platform/ios-wk2/TestExpectations:
            * platform/mac-wk2/TestExpectations:

2022-04-22  Alan Coon  <alancoon@apple.com>

        Cherry-pick r292274. rdar://problem/80544133

    [Cocoa] Automatically relayout the page when new fonts are installed
    https://bugs.webkit.org/show_bug.cgi?id=238483
    <rdar://problem/80544133>
    
    Reviewed by Chris Dumez.
    
    Source/WebCore:
    
    This patch simply calls setNeedsRecalcStyleInAllFrames on every Page when we receive a
    kCTFontManagerRegisteredFontsChangedNotification.
    
    FontCache::invalidateAllFontCaches() can't do this directly because it's in platform/ and
    therefore isn't allowed to know what Pages are. Instead, this patch takes a process-global
    callback and calls that instead. This callback is set at initialization time.
    
    Test: fast/text/install-font-style-recalc.html
    
    * page/Page.cpp:
    (WebCore::m_contentSecurityPolicyModeForExtension):
    (WebCore::Page::firstTimeInitialization):
    * page/Page.h:
    * platform/graphics/FontCache.cpp:
    (WebCore::Function<void):
    (WebCore::FontCache::registerFontCacheInvalidationCallback):
    (WebCore::FontCache::invalidateAllFontCaches):
    * platform/graphics/FontCache.h:
    
    Tools:
    
    Make TestRunner::dumpResourceLoadStatistics() clear any currently-recorded statistics.
    This avoids the problem where spurious layouts during the time when the page has been created but
    before the test has begun record irrelevant statistics.
    
    * WebKitTestRunner/InjectedBundle/InjectedBundle.cpp:
    (WTR::InjectedBundle::beginTesting):
    (WTR::InjectedBundle::clearResourceLoadStatistics):
    * WebKitTestRunner/InjectedBundle/InjectedBundle.h:
    * WebKitTestRunner/InjectedBundle/TestRunner.cpp:
    (WTR::TestRunner::dumpResourceLoadStatistics):
    
    LayoutTests:
    
    * TestExpectations:
    * fast/text/install-font-style-recalc-expected.txt: Added.
    * fast/text/install-font-style-recalc.html: Added.
    * platform/ios-wk2/TestExpectations:
    * platform/mac-wk2/TestExpectations:
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@292274 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-04-02  Myles C. Maxfield  <mmaxfield@apple.com>

            [Cocoa] Automatically relayout the page when new fonts are installed
            https://bugs.webkit.org/show_bug.cgi?id=238483
            <rdar://problem/80544133>

            Reviewed by Chris Dumez.

            * TestExpectations:
            * fast/text/install-font-style-recalc-expected.txt: Added.
            * fast/text/install-font-style-recalc.html: Added.
            * platform/ios-wk2/TestExpectations:
            * platform/mac-wk2/TestExpectations:

2022-04-22  Alan Coon  <alancoon@apple.com>

        Cherry-pick r292072. rdar://problem/80544133

    [Cocoa] Automatically relayout the page when new fonts are installed
    https://bugs.webkit.org/show_bug.cgi?id=238483
    <rdar://problem/80544133>
    
    Reviewed by Chris Dumez.
    
    Source/WebCore:
    
    This patch simply calls setNeedsRecalcStyleInAllFrames on every Page when we receive a
    kCTFontManagerRegisteredFontsChangedNotification.
    
    FontCache::invalidateAllFontCaches() can't do this directly because it's in platform/ and
    therefore isn't allowed to know what Pages are. Instead, this patch takes a process-global
    callback and calls that instead. This callback is set at initialization time.
    
    Test: fast/text/install-font-style-recalc.html
    
    * page/Page.cpp:
    (WebCore::m_attachmentElementClient):
    * platform/graphics/FontCache.cpp:
    (WebCore::Function<void):
    (WebCore::FontCache::registerFontCacheInvalidationCallback):
    (WebCore::FontCache::invalidateAllFontCaches):
    * platform/graphics/FontCache.h:
    
    LayoutTests:
    
    * fast/text/install-font-style-recalc-expected.txt: Added.
    * fast/text/install-font-style-recalc.html: Added.
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@292072 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-29  Myles C. Maxfield  <mmaxfield@apple.com>

            [Cocoa] Automatically relayout the page when new fonts are installed
            https://bugs.webkit.org/show_bug.cgi?id=238483
            <rdar://problem/80544133>

            Reviewed by Chris Dumez.

            * fast/text/install-font-style-recalc-expected.txt: Added.
            * fast/text/install-font-style-recalc.html: Added.

2022-04-22  Alan Coon  <alancoon@apple.com>

        Cherry-pick r291724. rdar://problem/91975589

    Expose the AX tree of PDFs loaded via iframes on the Mac
    https://bugs.webkit.org/show_bug.cgi?id=238168
    
    Reviewed by Chris Fleizach.
    
    Source/WebKit:
    
    Given this markup:
    
    <iframe src="/path/to/paystub.pdf">
    
    An accessibility tree is built for paystub.pdf, but we don't expose it
    to AX clients, making the PDF entirely inaccessible.
    
    This happens because we were setting the AX parent to be the webpage
    for full-frame PDF plugins (which an iframe with this markup is).
    This behavior is correct only for main-frame (i.e. not iframe)
    full-frame plugins, so this patch adds an extra condition to that logic.
    
    Test: accessibility/mac/iframe-pdf.html
    
    * WebProcess/Plugins/PDF/PDFPlugin.mm:
    (WebKit::PDFPlugin::PDFPlugin):
    
    LayoutTests:
    
    * accessibility/mac/iframe-pdf-expected.txt: Added.
    * accessibility/mac/iframe-pdf.html: Added.
    * platform/mac-wk1/TestExpectations:
    Skip new test as it always times out in WK1 (similar to
    accessibility/mac/basic-embed-pdf-accessibility.html)
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@291724 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-22  Tyler Wilcock  <tyler_w@apple.com>

            Expose the AX tree of PDFs loaded via iframes on the Mac
            https://bugs.webkit.org/show_bug.cgi?id=238168

            Reviewed by Chris Fleizach.

            * accessibility/mac/iframe-pdf-expected.txt: Added.
            * accessibility/mac/iframe-pdf.html: Added.
            * platform/mac-wk1/TestExpectations:
            Skip new test as it always times out in WK1 (similar to
            accessibility/mac/basic-embed-pdf-accessibility.html)

2022-04-22  Alan Coon  <alancoon@apple.com>

        Cherry-pick r292274. rdar://problem/80544133

    [Cocoa] Automatically relayout the page when new fonts are installed
    https://bugs.webkit.org/show_bug.cgi?id=238483
    <rdar://problem/80544133>
    
    Reviewed by Chris Dumez.
    
    Source/WebCore:
    
    This patch simply calls setNeedsRecalcStyleInAllFrames on every Page when we receive a
    kCTFontManagerRegisteredFontsChangedNotification.
    
    FontCache::invalidateAllFontCaches() can't do this directly because it's in platform/ and
    therefore isn't allowed to know what Pages are. Instead, this patch takes a process-global
    callback and calls that instead. This callback is set at initialization time.
    
    Test: fast/text/install-font-style-recalc.html
    
    * page/Page.cpp:
    (WebCore::m_contentSecurityPolicyModeForExtension):
    (WebCore::Page::firstTimeInitialization):
    * page/Page.h:
    * platform/graphics/FontCache.cpp:
    (WebCore::Function<void):
    (WebCore::FontCache::registerFontCacheInvalidationCallback):
    (WebCore::FontCache::invalidateAllFontCaches):
    * platform/graphics/FontCache.h:
    
    Tools:
    
    Make TestRunner::dumpResourceLoadStatistics() clear any currently-recorded statistics.
    This avoids the problem where spurious layouts during the time when the page has been created but
    before the test has begun record irrelevant statistics.
    
    * WebKitTestRunner/InjectedBundle/InjectedBundle.cpp:
    (WTR::InjectedBundle::beginTesting):
    (WTR::InjectedBundle::clearResourceLoadStatistics):
    * WebKitTestRunner/InjectedBundle/InjectedBundle.h:
    * WebKitTestRunner/InjectedBundle/TestRunner.cpp:
    (WTR::TestRunner::dumpResourceLoadStatistics):
    
    LayoutTests:
    
    * TestExpectations:
    * fast/text/install-font-style-recalc-expected.txt: Added.
    * fast/text/install-font-style-recalc.html: Added.
    * platform/ios-wk2/TestExpectations:
    * platform/mac-wk2/TestExpectations:
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@292274 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-04-02  Myles C. Maxfield  <mmaxfield@apple.com>

            [Cocoa] Automatically relayout the page when new fonts are installed
            https://bugs.webkit.org/show_bug.cgi?id=238483
            <rdar://problem/80544133>

            Reviewed by Chris Dumez.

            * TestExpectations:
            * fast/text/install-font-style-recalc-expected.txt: Added.
            * fast/text/install-font-style-recalc.html: Added.
            * platform/ios-wk2/TestExpectations:
            * platform/mac-wk2/TestExpectations:

2022-04-22  Alan Coon  <alancoon@apple.com>

        Cherry-pick r292274. rdar://problem/80544133

    [Cocoa] Automatically relayout the page when new fonts are installed
    https://bugs.webkit.org/show_bug.cgi?id=238483
    <rdar://problem/80544133>
    
    Reviewed by Chris Dumez.
    
    Source/WebCore:
    
    This patch simply calls setNeedsRecalcStyleInAllFrames on every Page when we receive a
    kCTFontManagerRegisteredFontsChangedNotification.
    
    FontCache::invalidateAllFontCaches() can't do this directly because it's in platform/ and
    therefore isn't allowed to know what Pages are. Instead, this patch takes a process-global
    callback and calls that instead. This callback is set at initialization time.
    
    Test: fast/text/install-font-style-recalc.html
    
    * page/Page.cpp:
    (WebCore::m_contentSecurityPolicyModeForExtension):
    (WebCore::Page::firstTimeInitialization):
    * page/Page.h:
    * platform/graphics/FontCache.cpp:
    (WebCore::Function<void):
    (WebCore::FontCache::registerFontCacheInvalidationCallback):
    (WebCore::FontCache::invalidateAllFontCaches):
    * platform/graphics/FontCache.h:
    
    Tools:
    
    Make TestRunner::dumpResourceLoadStatistics() clear any currently-recorded statistics.
    This avoids the problem where spurious layouts during the time when the page has been created but
    before the test has begun record irrelevant statistics.
    
    * WebKitTestRunner/InjectedBundle/InjectedBundle.cpp:
    (WTR::InjectedBundle::beginTesting):
    (WTR::InjectedBundle::clearResourceLoadStatistics):
    * WebKitTestRunner/InjectedBundle/InjectedBundle.h:
    * WebKitTestRunner/InjectedBundle/TestRunner.cpp:
    (WTR::TestRunner::dumpResourceLoadStatistics):
    
    LayoutTests:
    
    * TestExpectations:
    * fast/text/install-font-style-recalc-expected.txt: Added.
    * fast/text/install-font-style-recalc.html: Added.
    * platform/ios-wk2/TestExpectations:
    * platform/mac-wk2/TestExpectations:
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@292274 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-04-02  Myles C. Maxfield  <mmaxfield@apple.com>

            [Cocoa] Automatically relayout the page when new fonts are installed
            https://bugs.webkit.org/show_bug.cgi?id=238483
            <rdar://problem/80544133>

            Reviewed by Chris Dumez.

            * TestExpectations:
            * fast/text/install-font-style-recalc-expected.txt: Added.
            * fast/text/install-font-style-recalc.html: Added.
            * platform/ios-wk2/TestExpectations:
            * platform/mac-wk2/TestExpectations:

2022-04-22  Russell Epstein  <repstein@apple.com>

        Cherry-pick r291724. rdar://problem/91975589

    Expose the AX tree of PDFs loaded via iframes on the Mac
    https://bugs.webkit.org/show_bug.cgi?id=238168
    
    Reviewed by Chris Fleizach.
    
    Source/WebKit:
    
    Given this markup:
    
    <iframe src="/path/to/paystub.pdf">
    
    An accessibility tree is built for paystub.pdf, but we don't expose it
    to AX clients, making the PDF entirely inaccessible.
    
    This happens because we were setting the AX parent to be the webpage
    for full-frame PDF plugins (which an iframe with this markup is).
    This behavior is correct only for main-frame (i.e. not iframe)
    full-frame plugins, so this patch adds an extra condition to that logic.
    
    Test: accessibility/mac/iframe-pdf.html
    
    * WebProcess/Plugins/PDF/PDFPlugin.mm:
    (WebKit::PDFPlugin::PDFPlugin):
    
    LayoutTests:
    
    * accessibility/mac/iframe-pdf-expected.txt: Added.
    * accessibility/mac/iframe-pdf.html: Added.
    * platform/mac-wk1/TestExpectations:
    Skip new test as it always times out in WK1 (similar to
    accessibility/mac/basic-embed-pdf-accessibility.html)
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@291724 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-22  Tyler Wilcock  <tyler_w@apple.com>

            Expose the AX tree of PDFs loaded via iframes on the Mac
            https://bugs.webkit.org/show_bug.cgi?id=238168

            Reviewed by Chris Fleizach.

            * accessibility/mac/iframe-pdf-expected.txt: Added.
            * accessibility/mac/iframe-pdf.html: Added.
            * platform/mac-wk1/TestExpectations:
            Skip new test as it always times out in WK1 (similar to
            accessibility/mac/basic-embed-pdf-accessibility.html)

2022-04-22  Russell Epstein  <repstein@apple.com>

        Cherry-pick r292274. rdar://problem/80544133

    [Cocoa] Automatically relayout the page when new fonts are installed
    https://bugs.webkit.org/show_bug.cgi?id=238483
    <rdar://problem/80544133>
    
    Reviewed by Chris Dumez.
    
    Source/WebCore:
    
    This patch simply calls setNeedsRecalcStyleInAllFrames on every Page when we receive a
    kCTFontManagerRegisteredFontsChangedNotification.
    
    FontCache::invalidateAllFontCaches() can't do this directly because it's in platform/ and
    therefore isn't allowed to know what Pages are. Instead, this patch takes a process-global
    callback and calls that instead. This callback is set at initialization time.
    
    Test: fast/text/install-font-style-recalc.html
    
    * page/Page.cpp:
    (WebCore::m_contentSecurityPolicyModeForExtension):
    (WebCore::Page::firstTimeInitialization):
    * page/Page.h:
    * platform/graphics/FontCache.cpp:
    (WebCore::Function<void):
    (WebCore::FontCache::registerFontCacheInvalidationCallback):
    (WebCore::FontCache::invalidateAllFontCaches):
    * platform/graphics/FontCache.h:
    
    Tools:
    
    Make TestRunner::dumpResourceLoadStatistics() clear any currently-recorded statistics.
    This avoids the problem where spurious layouts during the time when the page has been created but
    before the test has begun record irrelevant statistics.
    
    * WebKitTestRunner/InjectedBundle/InjectedBundle.cpp:
    (WTR::InjectedBundle::beginTesting):
    (WTR::InjectedBundle::clearResourceLoadStatistics):
    * WebKitTestRunner/InjectedBundle/InjectedBundle.h:
    * WebKitTestRunner/InjectedBundle/TestRunner.cpp:
    (WTR::TestRunner::dumpResourceLoadStatistics):
    
    LayoutTests:
    
    * TestExpectations:
    * fast/text/install-font-style-recalc-expected.txt: Added.
    * fast/text/install-font-style-recalc.html: Added.
    * platform/ios-wk2/TestExpectations:
    * platform/mac-wk2/TestExpectations:
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@292274 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-04-02  Myles C. Maxfield  <mmaxfield@apple.com>

            [Cocoa] Automatically relayout the page when new fonts are installed
            https://bugs.webkit.org/show_bug.cgi?id=238483
            <rdar://problem/80544133>

            Reviewed by Chris Dumez.

            * TestExpectations:
            * fast/text/install-font-style-recalc-expected.txt: Added.
            * fast/text/install-font-style-recalc.html: Added.
            * platform/ios-wk2/TestExpectations:
            * platform/mac-wk2/TestExpectations:

2022-04-22  Russell Epstein  <repstein@apple.com>

        Cherry-pick r292072. rdar://problem/80544133

    [Cocoa] Automatically relayout the page when new fonts are installed
    https://bugs.webkit.org/show_bug.cgi?id=238483
    <rdar://problem/80544133>
    
    Reviewed by Chris Dumez.
    
    Source/WebCore:
    
    This patch simply calls setNeedsRecalcStyleInAllFrames on every Page when we receive a
    kCTFontManagerRegisteredFontsChangedNotification.
    
    FontCache::invalidateAllFontCaches() can't do this directly because it's in platform/ and
    therefore isn't allowed to know what Pages are. Instead, this patch takes a process-global
    callback and calls that instead. This callback is set at initialization time.
    
    Test: fast/text/install-font-style-recalc.html
    
    * page/Page.cpp:
    (WebCore::m_attachmentElementClient):
    * platform/graphics/FontCache.cpp:
    (WebCore::Function<void):
    (WebCore::FontCache::registerFontCacheInvalidationCallback):
    (WebCore::FontCache::invalidateAllFontCaches):
    * platform/graphics/FontCache.h:
    
    LayoutTests:
    
    * fast/text/install-font-style-recalc-expected.txt: Added.
    * fast/text/install-font-style-recalc.html: Added.
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@292072 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-29  Myles C. Maxfield  <mmaxfield@apple.com>

            [Cocoa] Automatically relayout the page when new fonts are installed
            https://bugs.webkit.org/show_bug.cgi?id=238483
            <rdar://problem/80544133>

            Reviewed by Chris Dumez.

            * fast/text/install-font-style-recalc-expected.txt: Added.
            * fast/text/install-font-style-recalc.html: Added.

2022-04-19  Alan Coon  <alancoon@apple.com>

        Cherry-pick r292079. rdar://problem/88512506

    Don't mutate children during RenderGrid::computeIntrinsicLogicalWidths unless we're about to re-layout.
    https://bugs.webkit.org/show_bug.cgi?id=237732
    
    Reviewed by Dean Jackson.
    
    Source/WebCore:
    
    Test: fast/css-grid-layout/compute-intrinsic-logical-widths-should-not-mutate-children.html
    
    * rendering/GridTrackSizingAlgorithm.cpp:
    (WebCore::GridTrackSizingAlgorithm::gridAreaBreadthForChild const):
    (WebCore::GridTrackSizingAlgorithm::advanceNextState):
    (WebCore::GridTrackSizingAlgorithm::isValidTransition const):
    * rendering/GridTrackSizingAlgorithm.h:
    * rendering/RenderGrid.cpp:
    (WebCore::RenderGrid::layoutBlock):
    (WebCore::RenderGrid::computeIntrinsicLogicalWidths const):
    * rendering/RenderGrid.h:
    
    computeIntrinsicLogicalWidths can re-layout children (via performGridItemsPreLayout, as well as during
    the track sizing algorithm), and does so using the estimated track sizes. This can be incorrect, and if
    we're not about to do a full layout on this RenderGrid, it can leave the children in an invalid state.
    
    This caches the intrinsic sizes when we do a full layout, so that we can use these values instead when
    we just want to query the RenderGrid without mutating anything.
    
    LayoutTests:
    
    Don't mutate children during computeIntrinsicWidth
    
    * TestExpectations:
    * fast/css-grid-layout/compute-intrinsic-logical-widths-should-not-mutate-children-expected.html: Added.
    * fast/css-grid-layout/compute-intrinsic-logical-widths-should-not-mutate-children.html: Added.
    * platform/ios/TestExpectations:
    
    Marked existing WPT as passing on MacOS (since we run layout multiple times there).
    Added new test for this implementation-specific bug.
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@292079 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-29  Matt Woodrow  <mattwoodrow@apple.com>

            Don't mutate children during RenderGrid::computeIntrinsicLogicalWidths unless we're about to re-layout.
            https://bugs.webkit.org/show_bug.cgi?id=237732

            Reviewed by Dean Jackson.

            Don't mutate children during computeIntrinsicWidth

            * TestExpectations:
            * fast/css-grid-layout/compute-intrinsic-logical-widths-should-not-mutate-children-expected.html: Added.
            * fast/css-grid-layout/compute-intrinsic-logical-widths-should-not-mutate-children.html: Added.
            * platform/ios/TestExpectations:

            Marked existing WPT as passing on MacOS (since we run layout multiple times there).
            Added new test for this implementation-specific bug.

2022-04-19  Alan Coon  <alancoon@apple.com>

        Cherry-pick r291759. rdar://problem/89589891

    [iOS] WebKit app is sometimes not "Now Playing" during initial playback
    https://bugs.webkit.org/show_bug.cgi?id=236993
    <rdar://88827167>
    
    Reviewed by Eric Carlson.
    
    Source/WebCore:
    
    Test: media/audio-session-category-at-most-recent-playback.html
    
    Recently, we have added the concept of "preparingToPlay" to PlatformMediaSession to allow
    the correct category to be set if updateSessionState() is called after playback is allowed
    by the MediaSessionManager, but before playback is actually started by the media element.
    However, this depends on updateSessionState() being called synchronously during playback.
    We disabled this synchronous update in r269077 due to the large runtime cost when a large
    number of media elements are created (but not used) at once.
    
    Relax this asynchronous update in the case where the state is moving to "Playing", which
    ensures that the correct AudioSessionCategory is set before playback starts, rather than
    immediately afterward.
    
    To support testing that the category was correctly set before playback started, add an
    ivar to HTMLMediaElement that is set to the current AudioSessionCategory immediately before
    the media element instructs the MediaPlayer to start playback. Expose this ivar to Internals.
    
    Drive-by fixes: AudioSession::CategoryType cannot be forward declared, as it is a public
    member of a class. Allow the enum to be forward declared by moving the declaration outside
    the class, but allow current uses of the enum to continue by typedefing it inside the class
    to the original enum name. Add an IDL enumeration matching the AudioSession one in Interals.idl
    and convert the existing audioSessionCategory() call to use the new enumeration.
    
    (Unforunately in the case where USE_AUDIO_SESSION is not set, the enumeration must be re-
    declared. This can be removed and the entire implementation wrapped in a USE() check, once
    the bindings generator is extended to allow "Conditional="-style attributes for USE checks.)
    
    The added test is flakey due to a previous change which would keep the MediaSession category
    in "MediaPlayback" for up to 2s after playback ends. To counteract this flakiness, reset the
    state of the PlatformMediaSessionManager between tests.
    
    * html/HTMLMediaElement.cpp:
    (WebCore::m_categoryAtMostRecentPlayback):
    (WebCore::HTMLMediaElement::playPlayer):
    (WebCore::m_logIdentifier): Deleted.
    * html/HTMLMediaElement.h:
    (WebCore::HTMLMediaElement::categoryAtMostRecentPlayback const):
    * platform/audio/AudioSession.h:
    * platform/audio/PlatformMediaSessionManager.cpp:
    (WebCore::PlatformMediaSessionManager::sessionStateChanged):
    * platform/audio/PlatformMediaSessionManager.h:
    (WebCore::PlatformMediaSessionManager::resetSessionState):
    * platform/audio/cocoa/MediaSessionManagerCocoa.h:
    * platform/audio/cocoa/MediaSessionManagerCocoa.mm:
    (WebCore::MediaSessionManagerCocoa::resetSessionState):
    * testing/Internals.cpp:
    (WebCore::Internals::resetToConsistentState):
    * testing/Internals.cpp:
    (WebCore::Internals::audioSessionCategory const):
    (WebCore::Internals::categoryAtMostRecentPlayback const):
    * testing/Internals.h:
    * testing/Internals.idl:
    
    LayoutTests:
    
    Fix the audio-session-category test. Creating the oscilator actually does change the
    AudioSession category to "Ambient", but (previously) only in the next run loop, so a
    synchronous test that the AudioSession category is "None" succeeds. Now that starting
    playback (as happens when creating an audio node) changes the AudioSession synchronously,
    the test begins failing.
    
    * media/audio-session-category-at-most-recent-playback-expected.txt: Added.
    * media/audio-session-category-at-most-recent-playback.html: Added.
    * media/audio-session-category-expected.txt:
    * media/audio-session-category.html:
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@291759 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-23  Jer Noble  <jer.noble@apple.com>

            [iOS] WebKit app is sometimes not "Now Playing" during initial playback
            https://bugs.webkit.org/show_bug.cgi?id=236993
            <rdar://88827167>

            Reviewed by Eric Carlson.

            Fix the audio-session-category test. Creating the oscilator actually does change the
            AudioSession category to "Ambient", but (previously) only in the next run loop, so a
            synchronous test that the AudioSession category is "None" succeeds. Now that starting
            playback (as happens when creating an audio node) changes the AudioSession synchronously,
            the test begins failing.

            * media/audio-session-category-at-most-recent-playback-expected.txt: Added.
            * media/audio-session-category-at-most-recent-playback.html: Added.
            * media/audio-session-category-expected.txt:
            * media/audio-session-category.html:

2022-04-19  Alan Coon  <alancoon@apple.com>

        Cherry-pick r292049. rdar://problem/89104216

    [macOS] Muted video is sometimes paused when entering fullscreen
    https://bugs.webkit.org/show_bug.cgi?id=238462
    rdar://89104216
    
    Reviewed by Jer Noble.
    
    Source/WebCore:
    
    Test: media/fullscreen-when-muted.html
    
    * html/HTMLMediaElement.cpp:
    (WebCore::HTMLMediaElement::didMoveToNewDocument): Add logging.
    (WebCore::HTMLMediaElement::elementIsHidden const): Consider both element fullscreen
    and video fullscreen.
    (WebCore::HTMLMediaElement::visibilityStateChanged): Use elementIsHidden.
    (WebCore::HTMLMediaElement::shouldOverrideBackgroundPlaybackRestriction const): Add
    logging for the one case that didn't have it.
    (WebCore::HTMLMediaElement::updateMediaPlayer): New, wrap MediaPlayer functions
    that are called frequently by RenderVideo so we can only call them when necessary.
    * html/HTMLMediaElement.h:
    (WebCore::HTMLMediaElement::elementIsHidden const): Deleted.
    
    * html/MediaElementSession.cpp:
    (WebCore::MediaElementSession::visibilityChanged): Just use elementIsHidden, it
    already accounts for fullscreen.
    
    * platform/graphics/MediaPlayer.cpp:
    (WebCore::MediaPlayer::setVisibleInViewport): Do nothing when visibility is not changing.
    
    * platform/graphics/avfoundation/objc/MediaPlayerPrivateMediaStreamAVFObjC.mm:
    (WebCore::MediaPlayerPrivateMediaStreamAVFObjC::setPageIsVisible): Add logging.
    
    * rendering/RenderVideo.cpp:
    (WebCore::RenderVideo::updatePlayer): Call HTMLMediaElement::updateMediaPlayer instead
    of calling MediaPlayer directly.
    
    Source/WebKit:
    
    * WebProcess/GPU/media/MediaPlayerPrivateRemote.cpp:
    (WebKit::MediaPlayerPrivateRemote::setPageIsVisible): Track visibility and do
    nothing when it doesn't change.
    (WebKit::MediaPlayerPrivateRemote::setShouldMaintainAspectRatio): Ditto for aspect
    ratio.
    * WebProcess/GPU/media/MediaPlayerPrivateRemote.h:
    
    LayoutTests:
    
    * media/fullscreen-when-muted-expected.txt: Added.
    * media/fullscreen-when-muted.html: Added.
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@292049 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-29  Eric Carlson  <eric.carlson@apple.com>

            [macOS] Muted video is sometimes paused when entering fullscreen
            https://bugs.webkit.org/show_bug.cgi?id=238462
            rdar://89104216

            Reviewed by Jer Noble.

            * media/fullscreen-when-muted-expected.txt: Added.
            * media/fullscreen-when-muted.html: Added.

2022-04-19  Alan Coon  <alancoon@apple.com>

        Cherry-pick r291689. rdar://problem/88461772

    REGRESSION (iOS 15.1 / r280824) QuickLook - model not loading when passing extra parameters
    https://bugs.webkit.org/show_bug.cgi?id=236069
    <rdar://problem/88461772>
    
    Reviewed by Darin Adler.
    
    Source/WebCore:
    
    To extend the lifetime of Blob objects while loading/downloading is pending, we rely to
    BlobURLHandle objects, which tell the NetworkProcess that we still need this blob data,
    even if the corresponding Blob object gets GC'd by JS. The issue here is that the load
    was not using the vanilla blob URL but was intead appending a fragment to the URL. As
    a result, BlobRegistryImpl::registerBlobURLHandle() would fail to look up the
    corresponding blob data and would fail to extend its lifetime.
    
    To address the issue, BlobRegistryImpl::registerBlobURLHandle() / unregisterBlobURLHandle()
    now strip fragments from the blob URL, similarly to what was already done inside
    BlobRegistryImpl::getBlobDataFromURL().
    
    Test: fast/files/blob-with-fragment-as-frame-url.html
    
    * platform/network/BlobRegistryImpl.cpp:
    (WebCore::blobURLWithoutFragment):
    (WebCore::BlobRegistryImpl::registerBlobURLHandle):
    (WebCore::BlobRegistryImpl::unregisterBlobURLHandle):
    
    Source/WebKit:
    
    Fix theoretical blob data leak. A WebContent process could create several BlobURLHandles for
    the same blob URL. This would result in several calls to NetworkConnectionToWebProcess::registerBlobURLHandle()
    for the same URL and several calls to to BlobRegistryImpl::registerBlobURLHandle() for the
    same URL as well. BlobRegistryImpl is using a HashCountedSet for m_blobReferences in order
    to deal with this fact. However, NetworkConnectionToWebProcess was using a simple HashSet
    for m_blobURLHandles. As a result, if the WebContent process would exit and didClose()
    would get called, the NetworkConnectionToWebProcess may call BlobRegistryImpl::unregisterBlobURLHandle()
    only once even though the WebContent process had several handles for this URL, which would
    not fully remove the URL from BlobRegistryImpl's HashCountedSet. To address the issue,
    NetworkConnectionToWebProcess::m_blobURLHandles is now a HashCountedSet too and we call
    BlobRegistryImpl::unregisterBlobURLHandle() as many times as needed in didClose().
    
    * NetworkProcess/NetworkConnectionToWebProcess.cpp:
    (WebKit::NetworkConnectionToWebProcess::didClose):
    * NetworkProcess/NetworkConnectionToWebProcess.h:
    
    LayoutTests:
    
    Add layout test coverage.
    
    * fast/files/blob-with-fragment-as-frame-url-expected.txt: Added.
    * fast/files/blob-with-fragment-as-frame-url.html: Added.
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@291689 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-22  Chris Dumez  <cdumez@apple.com>

            REGRESSION (iOS 15.1 / r280824) QuickLook - model not loading when passing extra parameters
            https://bugs.webkit.org/show_bug.cgi?id=236069
            <rdar://problem/88461772>

            Reviewed by Darin Adler.

            Add layout test coverage.

            * fast/files/blob-with-fragment-as-frame-url-expected.txt: Added.
            * fast/files/blob-with-fragment-as-frame-url.html: Added.

2022-04-18  Kocsen Chung  <kocsen_chung@apple.com>

        Cherry-pick r292858. rdar://problem/90699078

    [web-animations] REGRESSION(r291527): assertion hit during teardown of document with CSS Animations
    https://bugs.webkit.org/show_bug.cgi?id=239291
    rdar://90699078
    
    Reviewed by Dean Jackson.
    
    Source/WebCore:
    
    When a CSS Animation is not considered to be relevant anymore, it is removed from both AnimationTimeline::m_animations
    and Styleable::animations(). However, if that animation becomes relevant again, it will be added back to the associated
    effect stack as well as AnimationTimeline::m_animations but not to Styleable::animations().
    
    This causes a problem because when eventually that CSS Animation's target is removed from the tree, such as during
    document teardown, Styleable::cancelDeclarativeAnimations() will be called an iterate over Styleable::animations()
    to find declarative animations to cancel. Since the CSS animation was not added to Styleable::animations(), it will
    not be canceled and the associated effect will not be removed from the effect stack.
    
    Later in Styleable::cancelDeclarativeAnimations(), the list of associated CSS Animation names is cleared.
    
    If during that teardown an animation resolution is performed, such as within a "beforeunload" event listener as
    shown in the new test, we will get into a state where there are effects left in the effect stack of the element
    being torn down but no associated CSS Animation names and we will hit the RELEASE_ASSERT_NOT_REACHED() at the
    end of compareCSSAnimations().
    
    To fix this, we simply ensure that we add animations back to Styleable::animations() within
    AnimationTimeline::animationTimingDidChange() the same way we add the animations back to
    AnimationTimeline::m_animations.
    
    Test: webanimations/css-animation-resolution-during-teardown.html
    
    * animation/AnimationTimeline.cpp:
    (WebCore::AnimationTimeline::animationTimingDidChange):
    
    LayoutTests:
    
    Add a new test that would have asserted prior to the source change.
    
    * webanimations/css-animation-resolution-during-teardown-expected.txt: Added.
    * webanimations/css-animation-resolution-during-teardown.html: Added.
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@292858 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-04-13  Antoine Quint  <graouts@apple.com>

            [web-animations] REGRESSION(r291527): assertion hit during teardown of document with CSS Animations
            https://bugs.webkit.org/show_bug.cgi?id=239291
            rdar://90699078

            Reviewed by Dean Jackson.

            Add a new test that would have asserted prior to the source change.

            * webanimations/css-animation-resolution-during-teardown-expected.txt: Added.
            * webanimations/css-animation-resolution-during-teardown.html: Added.

2022-04-18  Kocsen Chung  <kocsen_chung@apple.com>

        Cherry-pick r292522. rdar://problem/91130503

    NBSP characters drawn in fonts that don't support the space character turn into boxes
    https://bugs.webkit.org/show_bug.cgi?id=238836
    <rdar://problem/91130503>
    
    Reviewed by Alan Bujtas.
    
    Source/WebCore:
    
    We have some historical code in WebKit where we swap out the non-breaking space glyph
    for the space glyphs when rendering. This is not what the other browsers do; they will
    faithfully render the non-breaking space glyph. This patch aligns with the other
    browsers.
    
    This patch also fixes a similar problem with tab characters. Other browsers never
    render any visible tab glyphs, even if the font has a visible glyph for the tab
    character. This patch implements this.
    
    This patch also only clobbers the glyphs used for carriageReturn and newlineCharacter
    if the replacement glyph exists.
    
    Test: fast/text/nbsp-no-space.html
    
    * platform/graphics/WidthIterator.cpp:
    (WebCore::WidthIterator::applyCSSVisibilityRules):
    
    LayoutTests:
    
    * fast/text/nbsp-no-space-expected.html: Added.
    * fast/text/nbsp-no-space.html: Added.
    * fast/text/resources/Ahem-nbsp-no-space.ttf: Added. Supports NBSP but not space.
    * fast/text/resources/Ahem-visible-tab-and-space.ttf: Added. Has visible glyphs for tab and space.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@292522 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-04-06  Myles C. Maxfield  <mmaxfield@apple.com>

            NBSP characters drawn in fonts that don't support the space character turn into boxes
            https://bugs.webkit.org/show_bug.cgi?id=238836
            <rdar://problem/91130503>

            Reviewed by Alan Bujtas.

            * fast/text/nbsp-no-space-expected.html: Added.
            * fast/text/nbsp-no-space.html: Added.
            * fast/text/resources/Ahem-nbsp-no-space.ttf: Added. Supports NBSP but not space.
            * fast/text/resources/Ahem-visible-tab-and-space.ttf: Added. Has visible glyphs for tab and space.

2022-04-18  Kocsen Chung  <kocsen_chung@apple.com>

        Cherry-pick r291852. rdar://problem/83235846

    Improve rebuilding of ruby subtrees
    https://bugs.webkit.org/show_bug.cgi?id=238365
    
    Source/WebCore:
    
    Patch by Frédéric Wang <fwang@igalia.com> on 2022-03-25
    Reviewed by Alan Bujtas.
    
    Don't collapse generated Ruby subtree when tearing down children and take into account the
    fact that anonymous before/after node can belong to a display: content child.
    
    * rendering/updating/RenderTreeBuilder.cpp:
    (WebCore::RenderTreeBuilder::destroyAndCleanUpAnonymousWrappers): Don't collapse.
    * rendering/updating/RenderTreeBuilderRuby.cpp:
    (WebCore::lastRubyRun): Child can be also be an anonymous after content.
    (WebCore::RenderTreeBuilder::Ruby::findOrCreateParentForChild): When beforeChild is
    an anonymous before/after, just fallback to appending to the last ruby run.
    
    LayoutTests:
    
    Patch by Frederic Wang <fred.wang@free.fr> on 2022-03-25
    Reviewed by Alan Bujtas.
    
    Expectation for rubyDOM-remove-text2.html is updated now that we don't collapse anonymous
    RenderRubyBase nodes.
    
    * platform/gtk/fast/ruby/rubyDOM-remove-text2-expected.txt: Updated.
    * platform/ios/fast/ruby/rubyDOM-remove-text2-expected.txt: Updated.
    * platform/mac/fast/ruby/rubyDOM-remove-text2-expected.txt: Updated.
    * platform/win/fast/ruby/rubyDOM-remove-text2-expected.txt: Updated.
    * platform/wincairo/fast/ruby/rubyDOM-remove-text2-expected.txt: Updated.
    * platform/wpe/fast/ruby/rubyDOM-remove-text2-expected.txt: Updated.
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@291852 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-25  Frederic Wang  <fred.wang@free.fr>

            Improve rebuilding of ruby subtrees
            https://bugs.webkit.org/show_bug.cgi?id=238365

            Reviewed by Alan Bujtas.

            Expectation for rubyDOM-remove-text2.html is updated now that we don't collapse anonymous
            RenderRubyBase nodes.

            * platform/gtk/fast/ruby/rubyDOM-remove-text2-expected.txt: Updated.
            * platform/ios/fast/ruby/rubyDOM-remove-text2-expected.txt: Updated.
            * platform/mac/fast/ruby/rubyDOM-remove-text2-expected.txt: Updated.
            * platform/win/fast/ruby/rubyDOM-remove-text2-expected.txt: Updated.
            * platform/wincairo/fast/ruby/rubyDOM-remove-text2-expected.txt: Updated.
            * platform/wpe/fast/ruby/rubyDOM-remove-text2-expected.txt: Updated.

2022-04-18  Kocsen Chung  <kocsen_chung@apple.com>

        Cherry-pick r290622. rdar://problem/90454629

    REBASELINE [ iOS15 ] fast/text/khmer-lao-font.html is a constant text failure
    <rdar://88841324>
    
    Unreviewed test gardening. Rebaseline for iOS15.
    
    * platform/ios-wk2/TestExpectations:
    * platform/ios-wk2/fast/text/khmer-lao-font-expected.txt:
    * platform/ios/fast/text/khmer-lao-font-expected.txt:
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290622 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-28  Robert Jenner  <Jenner@apple.com>

            REBASELINE [ iOS15 ] fast/text/khmer-lao-font.html is a constant text failure
            <rdar://88841324>

            Unreviewed test gardening. Rebaseline for iOS15.

            * platform/ios-wk2/TestExpectations:
            * platform/ios-wk2/fast/text/khmer-lao-font-expected.txt:
            * platform/ios/fast/text/khmer-lao-font-expected.txt:

2022-04-18  Kocsen Chung  <kocsen_chung@apple.com>

        Cherry-pick r289834. rdar://problem/90455347

    Rebaslining fonts/monospace.html for Monterey.
    https://bugs.webkit.org/show_bug.cgi?id=236619
    
    Unreviewed test gardening.
    
    Patch by Matteo Flores <matteo_flores@apple.com> on 2022-02-15
    
    * platform/mac-catalina/fonts/monospace-expected.txt: Copied from LayoutTests/platform/mac/fonts/monospace-expected.txt.
    * platform/mac/fonts/monospace-expected.txt:
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@289834 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-15  Matteo Flores  <matteo_flores@apple.com>

            Rebaslining fonts/monospace.html for Monterey.
            https://bugs.webkit.org/show_bug.cgi?id=236619

            Unreviewed test gardening.

            * platform/mac-catalina/fonts/monospace-expected.txt: Copied from LayoutTests/platform/mac/fonts/monospace-expected.txt.
            * platform/mac/fonts/monospace-expected.txt:

2022-04-07  Alan Coon  <alancoon@apple.com>

        Cherry-pick r291629. rdar://problem/91446360

    YouTube.com - Clicking anywhere on the progress bar pauses the video
    https://bugs.webkit.org/show_bug.cgi?id=237750
    <rdar://problem/90364846>
    
    Reviewed by Eric Carlson.
    
    Source/WebCore:
    
    Test: media/media-source/media-source-unexpected-pause.html
    
    When calling play() or pause() on a MediaPlayerPrivateMediaSourceAVFObjC, the object will
    respond by calling m_player->playbackStateChanged(), which will in turn call
    HTMLMediaElement::mediaPlayerPlaybackStateChanged() with the new state. However, HTMLMediaElement
    expects this to be called only for unanticipated state changes, not expected state changes. And
    when that method is called and the reported state does not match the element's own expected state,
    the element calls its own play() or pause() function to update its own state to match the player's.
    And because MediaPlayerPrivateMediaSourceAVFObjC calls this method on the next run loop, there is
    an opportunity for those states to get out of sync, which happens when YouTube responds to a tap
    in its timeline.
    
    Remove the unnecessary "call on next run loop" behavior of MediaPlayerPrivateMediaSourceAVFObjC::
    play() and ::pause(). Also, remove the unnecessary notification that the play state has changed. In
    the future, this can be accomplished by adding a callback parameter to MediaPlayer::play() rather than
    relying on a state change notification.
    
    * platform/graphics/avfoundation/objc/MediaPlayerPrivateMediaSourceAVFObjC.mm:
    (WebCore::MediaPlayerPrivateMediaSourceAVFObjC::play):
    (WebCore::MediaPlayerPrivateMediaSourceAVFObjC::playInternal):
    (WebCore::MediaPlayerPrivateMediaSourceAVFObjC::pause):
    (WebCore::MediaPlayerPrivateMediaSourceAVFObjC::pauseInternal):
    (WebCore::MediaPlayerPrivateMediaSourceAVFObjC::playAtHostTime):
    (WebCore::MediaPlayerPrivateMediaSourceAVFObjC::pauseAtHostTime):
    
    LayoutTests:
    
    * media/media-source/media-source-unexpected-pause-expected.txt: Added.
    * media/media-source/media-source-unexpected-pause.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@291629 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-22  Jer Noble  <jer.noble@apple.com>

            YouTube.com - Clicking anywhere on the progress bar pauses the video
            https://bugs.webkit.org/show_bug.cgi?id=237750
            <rdar://problem/90364846>

            Reviewed by Eric Carlson.

            * media/media-source/media-source-unexpected-pause-expected.txt: Added.
            * media/media-source/media-source-unexpected-pause.html: Added.

2022-04-07  Alan Coon  <alancoon@apple.com>

        Cherry-pick r291493. rdar://problem/91446052

    REGRESSION (r290628): Scrubber makes a visual trail when scrubbing on tv.youtube.com
    https://bugs.webkit.org/show_bug.cgi?id=238047
    <rdar://problem/90451319>
    
    Reviewed by Alan Bujtas.
    
    Source/WebCore:
    
    In r290628 I added a call to clearRepaintRects() when changing the backing sharing
    target layer for a RenderLayer. However, for a layer using backing sharing, this
    gets called twice during a normal compositing update, which has the effect of
    clearing the cached repaint rects so that a layer repaint always computes new rects.
    Thus, if a layer moved, we'd fail to repaint the old rect.
    
    RenderLayerBacking::setBackingSharingLayers() already has logic to update repaint
    rects when state changes, so we don't need this clearing.
    
    Test: compositing/repaint/move-backing-sharing-layer.html
    
    * rendering/RenderLayer.cpp:
    (WebCore::RenderLayer::setBackingProviderLayer):
    
    LayoutTests:
    
    * compositing/repaint/move-backing-sharing-layer-expected.txt: Added.
    * compositing/repaint/move-backing-sharing-layer.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@291493 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-18  Simon Fraser  <simon.fraser@apple.com>

            REGRESSION (r290628): Scrubber makes a visual trail when scrubbing on tv.youtube.com
            https://bugs.webkit.org/show_bug.cgi?id=238047
            <rdar://problem/90451319>

            Reviewed by Alan Bujtas.

            * compositing/repaint/move-backing-sharing-layer-expected.txt: Added.
            * compositing/repaint/move-backing-sharing-layer.html: Added.

2022-04-07  Alan Coon  <alancoon@apple.com>

        Cherry-pick r291118. rdar://problem/91446071

    [iOS] Netflix.com fails to resume after moving app to background during playback
    https://bugs.webkit.org/show_bug.cgi?id=237659
    <rdar://88775037>
    
    Reviewed by Eric Carlson.
    
    Source/WebCore:
    
    Test: media/media-source/media-source-interruption-with-resume-allowing-play.html
    
    When the MediaPlayerPrivateMediaSourceAVFObjC player is asked to play or pause, it notifies
    the client (HTMLMediaElement) that its playback state has changed. HTMLMediaElement will in response
    call playInternal() or pauseInternal() to ensure that a state change driven by the MediaPlayer
    is reflected up to the DOM. However, when an interruption causes the media element to suspend
    and pause playback, this results in an additional call to pauseInternal(), which updates the
    "state to resume" after an interruption ends to "Paused".
    
    In mediaPlayerPlaybackStateChanged(), only call pauseInternal() or playInternal() if the reported
    player state does not match the HTMLMediaElement's own state.
    
    * html/HTMLMediaElement.cpp:
    (WebCore::HTMLMediaElement::mediaPlayerPlaybackStateChanged):
    
    LayoutTests:
    
    * media/media-source/media-source-interruption-with-resume-allowing-play-expected.txt: Added.
    * media/media-source/media-source-interruption-with-resume-allowing-play.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@291118 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-10  Jer Noble  <jer.noble@apple.com>

            [iOS] Netflix.com fails to resume after moving app to background during playback
            https://bugs.webkit.org/show_bug.cgi?id=237659
            <rdar://88775037>

            Reviewed by Eric Carlson.

            * media/media-source/media-source-interruption-with-resume-allowing-play-expected.txt: Added.
            * media/media-source/media-source-interruption-with-resume-allowing-play.html: Added.

2022-04-07  Alan Coon  <alancoon@apple.com>

        Cherry-pick r288622. rdar://problem/91446028

    [WebAuthn] Add authenticator attachment used during authentication to credential payload
    https://bugs.webkit.org/show_bug.cgi?id=235621
    rdar://86538235
    
    Reviewed by Dean Jackson.
    
    Source/WebCore:
    
    This patch adds the authenticator attachment used to the credential response in get/create
    webauthn calls as described in the merged PR to the spec: https://github.com/w3c/webauthn/pull/1668/files
    
    Modified layout tests to check for authenticator attachment = (cross-platform/platform) where appropriate
    and verified response in manual calls.
    
    * Modules/webauthn/PublicKeyCredential.cpp:
    (WebCore::PublicKeyCredential::authenticatorAttachment const):
    * Modules/webauthn/PublicKeyCredential.h:
    * Modules/webauthn/PublicKeyCredential.idl:
    
    LayoutTests:
    
    Modify webauthn layout tests to check for new authenticatorAttachment field.
    * http/wpt/webauthn/public-key-credential-get-success-local.https.html:
    * http/wpt/webauthn/resources/util.js:
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288622 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-26  J Pascoe  <j_pascoe@apple.com>

            [WebAuthn] Add authenticator attachment used during authentication to credential payload
            https://bugs.webkit.org/show_bug.cgi?id=235621
            rdar://86538235

            Reviewed by Dean Jackson.

            Modify webauthn layout tests to check for new authenticatorAttachment field.
            * http/wpt/webauthn/public-key-credential-get-success-local.https.html:
            * http/wpt/webauthn/resources/util.js:

2022-04-07  Alan Coon  <alancoon@apple.com>

        Cherry-pick r292229. rdar://problem/90778752

    CSP: WASM fails to execute after window.open
    https://bugs.webkit.org/show_bug.cgi?id=238562
    <rdar://problem/90778752>
    
    Reviewed by Brent Fulgham.
    
    Source/WebCore:
    
    Test: http/tests/security/contentSecurityPolicy/allow-wasm-after-window-open.html
    
    Reset WASM enabled value after a window.open() call. This patch simplifies
    eval and wasm setters by removing the distinct enable/disable functions
    and using one consistent setter.
    
    * bindings/js/ScriptController.cpp:
    (WebCore::ScriptController::setEvalEnabled):
    (WebCore::ScriptController::setWebAssemblyEnabled):
    (WebCore::ScriptController::enableEval): Deleted.
    (WebCore::ScriptController::enableWebAssembly): Deleted.
    (WebCore::ScriptController::disableEval): Deleted.
    (WebCore::ScriptController::disableWebAssembly): Deleted.
    * bindings/js/ScriptController.h:
    * dom/Document.cpp:
    (WebCore::Document::disableEval):
    (WebCore::Document::disableWebAssembly):
    * loader/FrameLoader.cpp:
    (WebCore::FrameLoader::clear):
    * page/csp/ContentSecurityPolicy.h:
    (WebCore::ContentSecurityPolicy::webAssemblyErrorMessage const):
    
    LayoutTests:
    
    Layout test coverage. Copy some wasm helper scripts into the http directory.
    
    * platform/win/TestExpectations:
    We don't support wasm on win.
    
    * http/tests/security/contentSecurityPolicy/allow-wasm-after-window-open-expected.txt: Added.
    * http/tests/security/contentSecurityPolicy/allow-wasm-after-window-open.html: Added.
    * http/tests/security/contentSecurityPolicy/resources/load_wasm.js: Added.
    (createWasmModule):
    * http/tests/security/contentSecurityPolicy/resources/run-web-assembly.html: Added.
    * http/tests/security/contentSecurityPolicy/resources/wasm-builder.js: Added.
    (const._fail):
    (const.isNotA.assert.isNotA):
    (const):
    (switch.typeof):
    (Builder):
    (Builder.prototype.setChecked):
    (Builder.prototype.setPreamble):
    (Builder.prototype._functionIndexSpaceKeyHash):
    (Builder.prototype._registerFunctionToIndexSpace):
    (Builder.prototype._getFunctionFromIndexSpace):
    (Builder.prototype._registerSectionBuilders.const.section.in.WASM.description.section.switch.section.case.string_appeared_here.this.section):
    (Builder.prototype._registerSectionBuilders.const.section.in.WASM.description.section.switch.section.const.codeBuilder.End.switch.case.string_appeared_here.e):
    (Builder.prototype._registerSectionBuilders.this.Unknown):
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@292229 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-04-01  Kate Cheney  <katherine_cheney@apple.com>

            CSP: WASM fails to execute after window.open
            https://bugs.webkit.org/show_bug.cgi?id=238562
            <rdar://problem/90778752>

            Reviewed by Brent Fulgham.

            Layout test coverage. Copy some wasm helper scripts into the http directory.

            * platform/win/TestExpectations:
            We don't support wasm on win.

            * http/tests/security/contentSecurityPolicy/allow-wasm-after-window-open-expected.txt: Added.
            * http/tests/security/contentSecurityPolicy/allow-wasm-after-window-open.html: Added.
            * http/tests/security/contentSecurityPolicy/resources/load_wasm.js: Added.
            (createWasmModule):
            * http/tests/security/contentSecurityPolicy/resources/run-web-assembly.html: Added.
            * http/tests/security/contentSecurityPolicy/resources/wasm-builder.js: Added.
            (const._fail):
            (const.isNotA.assert.isNotA):
            (const):
            (switch.typeof):
            (Builder):
            (Builder.prototype.setChecked):
            (Builder.prototype.setPreamble):
            (Builder.prototype._functionIndexSpaceKeyHash):
            (Builder.prototype._registerFunctionToIndexSpace):
            (Builder.prototype._getFunctionFromIndexSpace):
            (Builder.prototype._registerSectionBuilders.const.section.in.WASM.description.section.switch.section.case.string_appeared_here.this.section):
            (Builder.prototype._registerSectionBuilders.const.section.in.WASM.description.section.switch.section.const.codeBuilder.End.switch.case.string_appeared_here.e):
            (Builder.prototype._registerSectionBuilders.this.Unknown):

2022-04-07  Alan Coon  <alancoon@apple.com>

        Cherry-pick r292028. rdar://problem/90977255

    Re-import inert and <dialog> WPT
    https://bugs.webkit.org/show_bug.cgi?id=238502
    
    Reviewed by Antti Koivisto.
    
    Upstream commit: https://github.com/web-platform-tests/wpt/commit/46e50fc357127c76c898675cd30ae34090a2268d
    
    Main changes:
    - Removes .tentative.html suffix from inert tests
    - Adds default-color.html test for <dialog>
    
    LayoutTests/imported/w3c:
    
    * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/default-color-expected.txt: Added.
    * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/default-color.html: Added.
    * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-inert-expected.txt: Renamed from LayoutTests/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-inert.tentative-expected.txt.
    * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-inert.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-inert.tentative.html.
    * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/modal-dialog-selection-expected.txt: Added.
    * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/modal-dialog-selection.html: Added.
    * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/w3c-import.log:
    * web-platform-tests/inert/dynamic-inert-on-focused-element-expected.txt: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/dynamic-inert-on-focused-element.tentative-expected.txt.
    * web-platform-tests/inert/dynamic-inert-on-focused-element.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/dynamic-inert-on-focused-element.tentative.html.
    * web-platform-tests/inert/inert-and-contenteditable-expected.txt: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-and-contenteditable.tentative-expected.txt.
    * web-platform-tests/inert/inert-and-contenteditable.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-and-contenteditable.tentative.html.
    * web-platform-tests/inert/inert-canvas-fallback-content-expected.txt: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-canvas-fallback-content.tentative-expected.txt.
    * web-platform-tests/inert/inert-canvas-fallback-content.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-canvas-fallback-content.tentative.html.
    * web-platform-tests/inert/inert-does-not-match-disabled-selector-expected.txt: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-does-not-match-disabled-selector.tentative-expected.txt.
    * web-platform-tests/inert/inert-does-not-match-disabled-selector.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-does-not-match-disabled-selector.tentative.html.
    * web-platform-tests/inert/inert-iframe-hittest-expected.txt: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-iframe-hittest.tentative-expected.txt.
    * web-platform-tests/inert/inert-iframe-hittest.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-iframe-hittest.tentative.html.
    * web-platform-tests/inert/inert-iframe-tabbing-expected.txt: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-iframe-tabbing.tentative-expected.txt.
    * web-platform-tests/inert/inert-iframe-tabbing.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-iframe-tabbing.tentative.html.
    * web-platform-tests/inert/inert-in-shadow-dom-expected.txt: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-in-shadow-dom.tentative-expected.txt.
    * web-platform-tests/inert/inert-in-shadow-dom.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-in-shadow-dom.tentative.html.
    * web-platform-tests/inert/inert-inlines-expected.txt: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-inlines.tentative-expected.txt.
    * web-platform-tests/inert/inert-inlines.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-inlines.tentative.html.
    * web-platform-tests/inert/inert-label-focus-expected.txt: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-label-focus.tentative-expected.txt.
    * web-platform-tests/inert/inert-label-focus.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-label-focus.tentative.html.
    * web-platform-tests/inert/inert-node-is-uneditable-expected.txt: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-node-is-uneditable.tentative-expected.txt.
    * web-platform-tests/inert/inert-node-is-uneditable.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-node-is-uneditable.tentative.html.
    * web-platform-tests/inert/inert-node-is-unfocusable-expected.txt: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-node-is-unfocusable.tentative-expected.txt.
    * web-platform-tests/inert/inert-node-is-unfocusable.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-node-is-unfocusable.tentative.html.
    * web-platform-tests/inert/inert-node-is-unselectable-expected.txt: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-node-is-unselectable.tentative-expected.txt.
    * web-platform-tests/inert/inert-node-is-unselectable.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-node-is-unselectable.tentative.html.
    * web-platform-tests/inert/inert-on-non-html-expected.txt: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-on-non-html.tentative-expected.txt.
    * web-platform-tests/inert/inert-on-non-html.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-on-non-html.tentative.html.
    * web-platform-tests/inert/inert-on-slots-expected.txt: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-on-slots.tentative-expected.txt.
    * web-platform-tests/inert/inert-on-slots.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-on-slots.tentative.html.
    * web-platform-tests/inert/inert-svg-hittest-expected.txt: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-svg-hittest.tentative-expected.txt.
    * web-platform-tests/inert/inert-svg-hittest.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-svg-hittest.tentative.html.
    * web-platform-tests/inert/inert-with-modal-dialog-001-expected.txt: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-with-modal-dialog-001.tentative-expected.txt.
    * web-platform-tests/inert/inert-with-modal-dialog-001.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-with-modal-dialog-001.tentative.html.
    * web-platform-tests/inert/inert-with-modal-dialog-002-expected.txt: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-with-modal-dialog-002.tentative-expected.txt.
    * web-platform-tests/inert/inert-with-modal-dialog-002.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/inert/inert-with-modal-dialog-002.tentative.html.
    * web-platform-tests/inert/w3c-import.log:
    
    LayoutTests:
    
    * platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-iframe-hittest-expected.txt: Renamed from LayoutTests/platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-iframe-hittest.tentative-expected.txt.
    * platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-iframe-tabbing-expected.txt: Renamed from LayoutTests/platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-iframe-tabbing.tentative-expected.txt.
    * platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-node-is-uneditable-expected.txt: Renamed from LayoutTests/platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-node-is-uneditable.tentative-expected.txt.
    * platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-svg-hittest-expected.txt: Renamed from LayoutTests/platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-svg-hittest.tentative-expected.txt.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@292028 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-29  Tim Nguyen  <ntim@apple.com>

            Re-import inert and <dialog> WPT
            https://bugs.webkit.org/show_bug.cgi?id=238502

            Reviewed by Antti Koivisto.

            Upstream commit: https://github.com/web-platform-tests/wpt/commit/46e50fc357127c76c898675cd30ae34090a2268d

            Main changes:
            - Removes .tentative.html suffix from inert tests
            - Adds default-color.html test for <dialog>

            * platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-iframe-hittest-expected.txt: Renamed from LayoutTests/platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-iframe-hittest.tentative-expected.txt.
            * platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-iframe-tabbing-expected.txt: Renamed from LayoutTests/platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-iframe-tabbing.tentative-expected.txt.
            * platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-node-is-uneditable-expected.txt: Renamed from LayoutTests/platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-node-is-uneditable.tentative-expected.txt.
            * platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-svg-hittest-expected.txt: Renamed from LayoutTests/platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-svg-hittest.tentative-expected.txt.

2022-04-07  Alan Coon  <alancoon@apple.com>

        Cherry-pick r291886. rdar://problem/72814440

    `PointerEvent.movementX` always 0 (breaks https://noisecraft.app/)
    https://bugs.webkit.org/show_bug.cgi?id=220194
    <rdar://problem/72814440>
    
    Reviewed by Simon Fraser.
    
    LayoutTests/imported/w3c:
    
    * web-platform-tests/pointerevents/pointerlock/pointerevent_movementxy_with_pointerlock-expected.txt:
    This change causes the test to progress further than before, but there still appear to be
    other issues elsewhere, so adjust the expected output to reflect that.
    
    Source/WebCore:
    
    Test: pointer-lock/pointermove-movement-delta.html
    
    * dom/PointerEvent.cpp:
    (WebCore::PointerEvent::PointerEvent):
    Also pass along the movement delta in the constructor that takes a `MouseEvent`.
    
    * dom/MouseEvent.h:
    * dom/MouseEvent.cpp:
    (WebCore::MouseEvent::create):
    (WebCore::MouseEvent::MouseEvent):
    Require that all constructors that aren't invoked from JS always provide a movement delta.
    
    * dom/MouseRelatedEvent.h:
    (WebCore::MouseRelatedEvent::movementX const):
    (WebCore::MouseRelatedEvent::movementY const):
    Expose these methods even when `!ENABLE(POINTER_LOCK)` so that they can be called without
    the callsite having to also have a `#if`.
    
    * page/EventHandler.cpp:
    (WebCore::EventHandler::dispatchDragEvent):
    Pass along the movement delta even when `!ENABLE(POINTER_LOCK)`.
    
    Tools:
    
    * DumpRenderTree/mac/EventSendingController.mm:
    (-[EventSendingController mouseMoveToX:Y:]):
    * WebKitTestRunner/mac/EventSenderProxy.mm:
    (WTR::EventSenderProxy::mouseMoveTo):
    On macOS, the screen's origin is the bottom-left corner, so we need to flip the `deltaY`.
    
    LayoutTests:
    
    * pointer-lock/pointermove-movement-delta.html: Added.
    * pointer-lock/pointermove-movement-delta-expected.txt: Added.
    
    * pointer-lock/mouse-event-delivery-expected.txt: Added.
    On macOS, the screen's origin is the bottom-left corner, so we need to flip the `deltaY`.
    
    * platform/gtk/imported/w3c/web-platform-tests/pointerevents/pointerlock/pointerevent_movementxy_with_pointerlock-expected.txt: Added.
    This change causes the test to progress further than before, but there still appear to be
    other issues elsewhere, so adjust the expected output to reflect that.
    
    * platform/mac-wk1/TestExpectations:
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@291886 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-25  Devin Rousso  <drousso@apple.com>

            `PointerEvent.movementX` always 0 (breaks https://noisecraft.app/)
            https://bugs.webkit.org/show_bug.cgi?id=220194
            <rdar://problem/72814440>

            Reviewed by Simon Fraser.

            * pointer-lock/pointermove-movement-delta.html: Added.
            * pointer-lock/pointermove-movement-delta-expected.txt: Added.

            * pointer-lock/mouse-event-delivery-expected.txt: Added.
            On macOS, the screen's origin is the bottom-left corner, so we need to flip the `deltaY`.

            * platform/gtk/imported/w3c/web-platform-tests/pointerevents/pointerlock/pointerevent_movementxy_with_pointerlock-expected.txt: Added.
            This change causes the test to progress further than before, but there still appear to be
            other issues elsewhere, so adjust the expected output to reflect that.

            * platform/mac-wk1/TestExpectations:

2022-04-07  Alan Coon  <alancoon@apple.com>

        Cherry-pick r291816. rdar://problem/90599352

    REGRESSION (Safari 15.4): Nonce from link isn't used when loading style sheet
    https://bugs.webkit.org/show_bug.cgi?id=238014
    <rdar://problem/90599352>
    
    Reviewed by Brent Fulgham.
    
    Source/WebCore:
    
    In https://bugs.webkit.org/show_bug.cgi?id=179728 we implemented
    nonce hiding from the DOM. It seems we missed once location
    where we need to reference the element.nonce() instead of the
    nonce attribute.
    
    * html/HTMLLinkElement.cpp:
    (WebCore::HTMLLinkElement::process):
    
    LayoutTests:
    
    * http/tests/security/contentSecurityPolicy/stylesheet-allowed-with-nonce-expected.txt: Added.
    * http/tests/security/contentSecurityPolicy/stylesheet-allowed-with-nonce.py: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@291816 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-24  Kate Cheney  <katherine_cheney@apple.com>

            REGRESSION (Safari 15.4): Nonce from link isn't used when loading style sheet
            https://bugs.webkit.org/show_bug.cgi?id=238014
            <rdar://problem/90599352>

            Reviewed by Brent Fulgham.

            * http/tests/security/contentSecurityPolicy/stylesheet-allowed-with-nonce-expected.txt: Added.
            * http/tests/security/contentSecurityPolicy/stylesheet-allowed-with-nonce.py: Added.

2022-04-07  Alan Coon  <alancoon@apple.com>

        Cherry-pick r291813. rdar://problem/88761053

    Safari can't play video completely at bilibili.com
    https://bugs.webkit.org/show_bug.cgi?id=236440
    rdar://88761053
    
    Reviewed by Jer Noble.
    
    Source/WebCore:
    
    Video frames were incorrectly evicted during a call to appendBuffer
    as the Source Buffer incorrectly assumed a discontinuity was present.
    
    When appending data to a source buffer, the MSE specs describe a method
    to detect discontinuities in the Coded Frame Processing algorithm
    (https://www.w3.org/TR/media-source/#sourcebuffer-coded-frame-processing)
    step 6:
    "
    - If last decode timestamp for track buffer is set and decode timestamp
      is less than last decode timestamp:
    OR
    - If last decode timestamp for track buffer is set and the difference
      between decode timestamp and last decode timestamp is greater than
      2 times last frame duration.
    "
    The issue being what defines the last frame duration.
    Is it the frame last seen in the coded frame processing loop or the frame
    whose presentation timestamp is just before the one we are currently
    processing.
    
    H264 and HEVC have a concept of b-frames: that is a frame that depends
    on a future frame to be decoded.
    Those frames are found in the container and can be identified by their
    presentation timestamp higher than the frame following in decode order.
    Those present a challenge as the frame prior the current one in
    presentation order, may actually only be found several frames back in
    decode order.
    Bug 181891 attempted to fix a similar issue, and used the longest
    "decode duration" as a workaround to detect discontinuity in the content.
    It mentioned adopting the same technique as in Mozilla's MSE
    implementation, but Mozilla also skip discontinuity detection within a
    media segment (https://www.w3.org/TR/media-source/#media-segment which for
    fMP4 is a single moof box) an approach that can't be achieved with
    CoreMedia's AVStreamDataParser.
    As mentioned in bug 181891, CoreMedia ignore the decode timestamps' delta
    and juggles with the sample's duration so that there's no discontinuity
    in the demuxed samples' presentation time, causing false positive in the
    gap detection algorithm.
    
    Bilibili uses HEVC content, and uses an encoding that generate lots
    of b-frames, with a very wide sliding window (seen up to 12 frames).
    By using the longest frame duration found in either presentation or
    decode duration as threshold to identify a discontinuity, we can
    properly parse the content and not incorrectly evict appended frames.
    (As a side note, the use of HEVC with B-Frames is peculiar as not all
    hardware support it.)
    It is difficult to identify here if the issue is within the bilibili's
    content or CoreMedia's output, though the responsibility more than
    likely lies with bilibili.
    
    Test: media/media-source/media-mp4-hevc-bframes.html
    
    * platform/graphics/SourceBufferPrivate.cpp:
    (WebCore::SourceBufferPrivate::TrackBuffer::TrackBuffer):
    (WebCore::SourceBufferPrivate::resetTrackBuffers):
    (WebCore::SourceBufferPrivate::didReceiveSample):
    * platform/graphics/SourceBufferPrivate.h:
    
    LayoutTests:
    
    * media/media-source/content/test-bframes-hevc-manifest.json: Added.
    * media/media-source/content/test-bframes-hevc.mp4: Added.
    * media/media-source/media-mp4-hevc-bframes-expected.txt: Added.
    * media/media-source/media-mp4-hevc-bframes.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@291813 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-24  Jean-Yves Avenard  <jya@apple.com>

            Safari can't play video completely at bilibili.com
            https://bugs.webkit.org/show_bug.cgi?id=236440
            rdar://88761053

            Reviewed by Jer Noble.

            * media/media-source/content/test-bframes-hevc-manifest.json: Added.
            * media/media-source/content/test-bframes-hevc.mp4: Added.
            * media/media-source/media-mp4-hevc-bframes-expected.txt: Added.
            * media/media-source/media-mp4-hevc-bframes.html: Added.

2022-04-07  Alan Coon  <alancoon@apple.com>

        Cherry-pick r291791. rdar://problem/90694727

    REGRESSION (r287807): WEBGL_multi_draw validation rejecting valid arguments
    https://bugs.webkit.org/show_bug.cgi?id=238239
    
    Patch by Kimmo Kinnunen <kkinnunen@apple.com> on 2022-03-24
    Reviewed by Darin Adler.
    
    Source/WebCore:
    
    Fix off-by-one error causing full buffer multidraws to be
    marked as invalid.
    
    Enable the newer WebGL conformance tests that test this.
    
    * html/canvas/WebGLMultiDraw.cpp:
    (WebCore::WebGLMultiDraw::validateOffset):
    
    LayoutTests:
    
    Enable the newer WebGL conformance tests that test this, marked
    Slow as they take a while to run.
    
    * TestExpectations:
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@291791 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-24  Kimmo Kinnunen  <kkinnunen@apple.com>

            REGRESSION (r287807): WEBGL_multi_draw validation rejecting valid arguments
            https://bugs.webkit.org/show_bug.cgi?id=238239

            Reviewed by Darin Adler.

            Enable the newer WebGL conformance tests that test this, marked
            Slow as they take a while to run.

            * TestExpectations:

2022-04-07  Alan Coon  <alancoon@apple.com>

        Cherry-pick r291741. rdar://problem/88979099

    Computation of Document siteForCookies is buggy in case document is created by window.open
    https://bugs.webkit.org/show_bug.cgi?id=238202
    <rdar://88979099>
    
    Reviewed by John Wilander.
    
    Source/WebCore:
    
    For top level navigations, we need to use the security origin to compute siteForCookies as the document
    may have the opener security origin.
    Add a Document routine to handle this case.
    
    Tests: http/tests/cookies/same-site/popup-from-iframe-same-site-with-post-form.html
           http/tests/cookies/same-site/popup-same-site-with-post-form.html
    
    * dom/Document.cpp:
    * dom/Document.h:
    * loader/FrameLoader.cpp:
    
    LayoutTests:
    
    * http/tests/cookies/resources/testharness-helpers.js:
    * http/tests/cookies/same-site/popup-from-iframe-same-site-with-post-form-expected.txt: Added.
    * http/tests/cookies/same-site/popup-from-iframe-same-site-with-post-form.html: Added.
    * http/tests/cookies/same-site/popup-same-site-with-post-form-expected.txt: Added.
    * http/tests/cookies/same-site/popup-same-site-with-post-form.html: Added.
    * http/tests/cookies/same-site/resources/popup-iframe.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@291741 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-23  Youenn Fablet  <youenn@apple.com>

            Computation of Document siteForCookies is buggy in case document is created by window.open
            https://bugs.webkit.org/show_bug.cgi?id=238202
            <rdar://88979099>

            Reviewed by John Wilander.

            * http/tests/cookies/resources/testharness-helpers.js:
            * http/tests/cookies/same-site/popup-from-iframe-same-site-with-post-form-expected.txt: Added.
            * http/tests/cookies/same-site/popup-from-iframe-same-site-with-post-form.html: Added.
            * http/tests/cookies/same-site/popup-same-site-with-post-form-expected.txt: Added.
            * http/tests/cookies/same-site/popup-same-site-with-post-form.html: Added.
            * http/tests/cookies/same-site/resources/popup-iframe.html: Added.

2022-04-07  Alan Coon  <alancoon@apple.com>

        Cherry-pick r291526. rdar://problem/90385586

    REGRESSION (r285529): Flash of missing text when content on https://ahumanfuture.co animates
    https://bugs.webkit.org/show_bug.cgi?id=237972
    rdar://90385586
    
    Reviewed by Simon Fraser.
    
    Source/WebCore:
    
    Accelerated animations are added to a CALayer in two different ways.
    
    Transform-related animations are added in a CAAnimationGroup so that we can have control of the
    way they interact with each other. We added this system when we added support for individual CSS
    transform properties on top of the existing "transform" property. All CAAnimationGroup animations
    are timed to start at 1s and thus we subtract that same 1s value from all animations contained
    within such groups.
    
    All other animations, such as "opacity" animations, are added as simple leaf animations and their
    begin time is not subject to that 1s subtraction.
    
    In r285529, when we introduced leaf animations for transform properties other than transform-related
    properties, we took an unfortunate approach to deal with that 1s subtraction. We would *always* subtract
    1s for all animations, and for leaf animation add that 1s back when we added them in the
    addLeafAnimation() lambda.
    
    However, we *did not* check whether that animation was newly started or if we were merely adding it
    again. This meant that every time GraphicsLayerCA::updateAnimations() was called, any leaf animation
    would have 1s added to their begin time.
    
    So, if for instance a page ran on a given element a "scale" animation for 1s and an "opacity" animation
    for 2s, when the "scale" animation would complete, GraphicsLayerCA::updateAnimations() would be called
    to remove that animation, and add 1s to the "opacity" animation begin time.
    
    We now set the begin time, if not already set, in two places: in the addLeafAnimation() lambda for
    leaf animations, and in the addAnimationsForProperty() lambda for animations added to groups. We
    only ever set the begin time if not already set during a previous update and only subtract the
    parent group begin time for animations contained within a group.
    
    Additionally, this means we set the begin times when we iterate over remaining animations after culling
    finished animations. As such, we no longer need to iterate over *all* known animations to set their
    begin time if needed prior to adding them.
    
    Test: webanimations/accelerated-animation-opacity-animation-begin-time-after-scale-animation-ends.html
    
    * platform/graphics/ca/GraphicsLayerCA.cpp:
    (WebCore::GraphicsLayerCA::updateAnimations):
    
    LayoutTests:
    
    Add a new test which would fail prior to the source change. In this test we start two animations: a "scale"
    animation which lasts for 100ms, and an "opacity" animation which lasts much longer but only visually updates
    for the duration of the "scale" animation. When the "scale" animation completes, we stop the test and ensure
    that the reference test shows that the "opacity" animation is at the state it should be in at at that time,
    and was not rewound due to the bug being fixed.
    
    * webanimations/accelerated-animation-opacity-animation-begin-time-after-scale-animation-ends-expected.html: Added.
    * webanimations/accelerated-animation-opacity-animation-begin-time-after-scale-animation-ends.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@291526 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-19  Antoine Quint  <graouts@webkit.org>

            REGRESSION (r285529): Flash of missing text when content on https://ahumanfuture.co animates
            https://bugs.webkit.org/show_bug.cgi?id=237972
            rdar://90385586

            Reviewed by Simon Fraser.

            Add a new test which would fail prior to the source change. In this test we start two animations: a "scale"
            animation which lasts for 100ms, and an "opacity" animation which lasts much longer but only visually updates
            for the duration of the "scale" animation. When the "scale" animation completes, we stop the test and ensure
            that the reference test shows that the "opacity" animation is at the state it should be in at at that time,
            and was not rewound due to the bug being fixed.

            * webanimations/accelerated-animation-opacity-animation-begin-time-after-scale-animation-ends-expected.html: Added.
            * webanimations/accelerated-animation-opacity-animation-begin-time-after-scale-animation-ends.html: Added.

2022-04-07  Alan Coon  <alancoon@apple.com>

        Cherry-pick r290628. rdar://problem/85814854

    Compositing/paint invalidation with transforms
    https://bugs.webkit.org/show_bug.cgi?id=233421
    <rdar://problem/85814854>
    
    Reviewed by Alan Bujtas.
    
    Source/WebCore:
    
    When changing transform from something like `translate(0)` to `translate3d(0, 0, 0)
    scale(0.5, 0.5)`, we trigger compositing, and thus need to repaint the previous rect of the
    layer in its old repaint container. However, the existing code would take the new transform
    into account when computing that rect, thus dirtying a rect that is too small.
    
    To fix this, we need to use the cached repaint rects on RenderLayer for this repaint.
    However, doing so revealed a bug (via
    compositing/shared-backing/repaint-into-shared-backing.html) in how we compute repaint
    cached repaint rects in the presence of shared backing. During a compositing update, if a
    layer's composited state changed, we'd call computeRepaintRectsIncludingDescendants(), which
    computes rect relative to the layer's repaint container. But at this time, the state of
    backing sharing in BackingSharingState is in flux (we essentially don't know yet if a layer
    can use shared backing). So we may compute and cache repaint rects relative to the wrong
    container.
    
    To fix this, leverage the existing m_layersPendingRepaint logic, and delay computing the
    repaint rects until we've established our final backing sharing configuration.
    
    Tests: compositing/repaint/composite-and-scale-change.html
           compositing/shared-backing/repaint-into-shared-backing-become-composited.html
    
    * rendering/RenderLayer.cpp:
    (WebCore::RenderLayer::setBackingProviderLayer):
    (WebCore::RenderLayer::calculateClipRects const):
    * rendering/RenderLayerCompositor.cpp:
    (WebCore::RenderLayerCompositor::BackingSharingState::issuePendingRepaints):
    (WebCore::RenderLayerCompositor::updateBacking):
    
    LayoutTests:
    
    * compositing/repaint/composite-and-scale-change-expected.txt: Added.
    * compositing/repaint/composite-and-scale-change.html: Added.
        Test that dumps repaint rects.
    * compositing/shared-backing/repaint-into-shared-backing-become-composited-expected.html: Added.
    * compositing/shared-backing/repaint-into-shared-backing-become-composited.html: Added.
        Companion to repaint-into-shared-backing.html but toggles compositing in the other
        direction.
    * platform/gtk/compositing/repaint/composite-and-scale-change-actual.txt: Added.
    * platform/mac-wk1/compositing/repaint/composite-and-scale-change-expected.txt: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290628 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-28  Simon Fraser  <simon.fraser@apple.com>

            Compositing/paint invalidation with transforms
            https://bugs.webkit.org/show_bug.cgi?id=233421
            <rdar://problem/85814854>

            Reviewed by Alan Bujtas.

            * compositing/repaint/composite-and-scale-change-expected.txt: Added.
            * compositing/repaint/composite-and-scale-change.html: Added.
                Test that dumps repaint rects.
            * compositing/shared-backing/repaint-into-shared-backing-become-composited-expected.html: Added.
            * compositing/shared-backing/repaint-into-shared-backing-become-composited.html: Added.
                Companion to repaint-into-shared-backing.html but toggles compositing in the other
                direction.
            * platform/gtk/compositing/repaint/composite-and-scale-change-actual.txt: Added.
            * platform/mac-wk1/compositing/repaint/composite-and-scale-change-expected.txt: Added.

2022-03-31  Alan Coon  <alancoon@apple.com>

        Apply patch. rdar://problem/90957317

    2022-03-08  J Pascoe  <j_pascoe@apple.com>

            [WebAuthn] Using WebAuthn within cross-origin iframe elements
            https://bugs.webkit.org/show_bug.cgi?id=222240
            rdar://problem/74830748

            Reviewed by Brent Fulgham.

            Update existing tests and create new test for cross-origin, non same-site i-frames.

            * http/wpt/webauthn/public-key-credential-cross-origin.https-expected.txt: Added.
            * http/wpt/webauthn/public-key-credential-cross-origin.https.html: Added.
            * http/wpt/webauthn/public-key-credential-same-origin-with-ancestors.https-expected.txt:
            * http/wpt/webauthn/public-key-credential-same-origin-with-ancestors.https.html:
            * http/wpt/webauthn/resources/public-key-credential-cross-origin.https.html: Added.

2022-03-29  Russell Epstein  <repstein@apple.com>

        Cherry-pick r290392. rdar://problem/90957261

    [WebAuthn] Improve error message for missing pubKeyCredParams
    https://bugs.webkit.org/show_bug.cgi?id=235421
    rdar://87884875
    
    Reviewed by Brent Fulgham.
    
    Source/WebCore:
    
    We have seen confusion from library authors around the language
    used in this error not indicating enough information about what
    the problem is. This patch adds additional information, useful
    to developers seeing this error.
    
    * Modules/webauthn/AuthenticatorCoordinator.cpp:
    (WebCore::AuthenticatorCoordinator::create const):
    
    LayoutTests:
    
    Update test to reflect new error message.
    
    * http/wpt/webauthn/public-key-credential-create-failure.https.html:
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290392 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-23  J Pascoe  <j_pascoe@apple.com>

            [WebAuthn] Improve error message for missing pubKeyCredParams
            https://bugs.webkit.org/show_bug.cgi?id=235421
            rdar://87884875

            Reviewed by Brent Fulgham.

            Update test to reflect new error message.

            * http/wpt/webauthn/public-key-credential-create-failure.https.html:

2022-03-28  Alan Coon  <alancoon@apple.com>

        Cherry-pick r291622. rdar://problem/90935942

    Fetching a Blob URL with an unbounded Range header do not generate a Content-Range response header
    https://bugs.webkit.org/show_bug.cgi?id=238170
    
    Reviewed by Eric Carlson.
    
    Source/WebCore:
    
    Test: fetch/fetch-blob-unbounded-range.html
    
    Handle the case where the request contains an unbounded range, and property calculate the rangeEnd
    to pass into ParsedContentRange.
    
    * platform/network/BlobResourceHandle.cpp:
    (WebCore::BlobResourceHandle::notifyResponseOnSuccess):
    
    Source/WebKit:
    
    Handle the case where the request contains an unbounded range, and property calculate the rangeEnd
    to pass into ParsedContentRange.
    
    * NetworkProcess/NetworkDataTaskBlob.cpp:
    (WebKit::NetworkDataTaskBlob::dispatchDidReceiveResponse):
    
    LayoutTests:
    
    * fetch/fetch-blob-unbounded-range-expected.txt: Added.
    * fetch/fetch-blob-unbounded-range.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@291622 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-22  Jer Noble  <jer.noble@apple.com>

            Fetching a Blob URL with an unbounded Range header do not generate a Content-Range response header
            https://bugs.webkit.org/show_bug.cgi?id=238170

            Reviewed by Eric Carlson.

            * fetch/fetch-blob-unbounded-range-expected.txt: Added.
            * fetch/fetch-blob-unbounded-range.html: Added.

2022-03-23  Alan Coon  <alancoon@apple.com>

        Revert r285998. rdar://problem/85612240

2022-03-23  Alan Coon  <alancoon@apple.com>

        Cherry-pick r290985. rdar://problem/78421282

    Add a preference to mute video capture in case audio capture gets interrupted
    https://bugs.webkit.org/show_bug.cgi?id=237524
    <rdar://78421282>
    
    Reviewed by Eric Carlson.
    
    Source/WebCore:
    
    In case we detect that a microphone track source gets muted due to interruption, we mute
    capture video tracks based if allowed by the new MuteCameraOnMicrophoneInterruptionEnabled setting.
    
    Add support for mock microphone interruption and remove previous in process internals API.
    
    Test: fast/mediastream/media-stream-video-track-interrupted-from-audio.html
    
    * Modules/mediastream/MediaStreamTrack.cpp:
    * Modules/mediastream/MediaStreamTrack.h:
    * platform/mediastream/mac/CoreAudioCaptureSource.cpp:
    * platform/mediastream/mac/CoreAudioCaptureSource.h:
    * platform/mock/MockRealtimeAudioSource.cpp:
    (WebCore::MockRealtimeAudioSource::setIsInterrupted):
    * platform/mock/MockRealtimeAudioSource.h:
    * platform/mock/MockRealtimeMediaSourceCenter.cpp:
    (WebCore::MockRealtimeMediaSourceCenter::setMockCaptureDevicesInterrupted):
    (WebCore::MockRealtimeMediaSourceCenter::setMockCameraIsInterrupted): Deleted.
    * platform/mock/MockRealtimeMediaSourceCenter.h:
    
    Source/WebKit:
    
    Add support for interrupt mock microphone devices.
    Send to WebProcess sources whether sources are interrupted each time the source muted value changes.
    Store that value in remote sources.
    
    * GPUProcess/GPUProcess.cpp:
    * GPUProcess/GPUProcess.h:
    * GPUProcess/GPUProcess.messages.in:
    * UIProcess/API/C/WKPage.cpp:
    * UIProcess/API/C/WKPagePrivate.h:
    * UIProcess/Cocoa/UserMediaCaptureManagerProxy.cpp:
    * UIProcess/GPU/GPUProcessProxy.cpp:
    * UIProcess/GPU/GPUProcessProxy.h:
    * UIProcess/WebPageProxy.cpp:
    * UIProcess/WebPageProxy.h:
    * WebProcess/WebPage/WebPage.cpp:
    * WebProcess/WebPage/WebPage.h:
    * WebProcess/WebPage/WebPage.messages.in:
    * WebProcess/cocoa/RemoteRealtimeAudioSource.h:
    * WebProcess/cocoa/RemoteRealtimeDisplaySource.h:
    * WebProcess/cocoa/RemoteRealtimeMediaSourceProxy.cpp:
    * WebProcess/cocoa/RemoteRealtimeMediaSourceProxy.h:
    * WebProcess/cocoa/RemoteRealtimeVideoSource.h:
    * WebProcess/cocoa/UserMediaCaptureManager.cpp:
    * WebProcess/cocoa/UserMediaCaptureManager.h:
    * WebProcess/cocoa/UserMediaCaptureManager.messages.in:
    
    Source/WTF:
    
    * Scripts/Preferences/WebPreferencesInternal.yaml:
    
    Tools:
    
    Add support for interrupt mock microphone devices.
    
    * WebKitTestRunner/InjectedBundle/Bindings/TestRunner.idl:
    * WebKitTestRunner/InjectedBundle/TestRunner.cpp:
    * WebKitTestRunner/InjectedBundle/TestRunner.h:
    * WebKitTestRunner/TestController.cpp:
    * WebKitTestRunner/TestController.h:
    * WebKitTestRunner/TestInvocation.cpp:
    
    LayoutTests:
    
    * fast/mediastream/media-stream-video-track-interrupted-from-audio-expected.txt: Added.
    * fast/mediastream/media-stream-video-track-interrupted-from-audio.html: Added.
    * fast/mediastream/media-stream-video-track-interrupted.html: Migrated to testRunner API.
    * fast/mediastream/track-ended-while-muted.html:
    * platform/glib/TestExpectations:
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290985 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-08  Youenn Fablet  <youenn@apple.com>

            Add a preference to mute video capture in case audio capture gets interrupted
            https://bugs.webkit.org/show_bug.cgi?id=237524
            <rdar://78421282>

            Reviewed by Eric Carlson.

            * fast/mediastream/media-stream-video-track-interrupted-from-audio-expected.txt: Added.
            * fast/mediastream/media-stream-video-track-interrupted-from-audio.html: Added.
            * fast/mediastream/media-stream-video-track-interrupted.html: Migrated to testRunner API.
            * fast/mediastream/track-ended-while-muted.html:
            * platform/glib/TestExpectations:

2022-03-23  Alan Coon  <alancoon@apple.com>

        Cherry-pick r290745. rdar://problem/80335706

    [Cocoa] The behavior of navigator-language-ru changed in Monterey / iOS 15
    https://bugs.webkit.org/show_bug.cgi?id=237384
    <rdar://problem/80335706>
    
    Unreviewed test gardening.
    
    Add a new test for the new behavior, but keep the old one too for older OSes.
    
    * fast/text/international/system-language/navigator-language/navigator-language-ru-2-expected.txt: Added.
    * fast/text/international/system-language/navigator-language/navigator-language-ru-2.html: Added.
    * platform/ios-14/TestExpectations:
    * platform/ios/TestExpectations:
    * platform/mac-wk2/TestExpectations:
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290745 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-02  Myles C. Maxfield  <mmaxfield@apple.com>

            [Cocoa] The behavior of navigator-language-ru changed in Monterey / iOS 15
            https://bugs.webkit.org/show_bug.cgi?id=237384
            <rdar://problem/80335706>

            Unreviewed test gardening.

            Add a new test for the new behavior, but keep the old one too for older OSes.

            * fast/text/international/system-language/navigator-language/navigator-language-ru-2-expected.txt: Added.
            * fast/text/international/system-language/navigator-language/navigator-language-ru-2.html: Added.
            * platform/ios-14/TestExpectations:
            * platform/ios/TestExpectations:
            * platform/mac-wk2/TestExpectations:

2022-03-23  Alan Coon  <alancoon@apple.com>

        Cherry-pick r290550. rdar://problem/88675827

    Update CSP handling of javascript URLs
    https://bugs.webkit.org/show_bug.cgi?id=236351
    <rdar://problem/88675827>
    
    Reviewed by Brent Fulgham.
    
    LayoutTests/imported/w3c:
    
    * web-platform-tests/content-security-policy/navigation/to-javascript-parent-initiated-parent-csp-disallow-expected.txt:
    * web-platform-tests/content-security-policy/navigation/to-javascript-url-script-src-expected.txt:
    
    Source/WebCore:
    
    * bindings/js/ScriptController.cpp:
    (WebCore::ScriptController::executeJavaScriptURL):
    * loader/FrameLoader.cpp:
    (WebCore::FrameLoader::continueLoadAfterNewWindowPolicy):
    (WebCore::createWindow):
    * loader/SubframeLoader.cpp:
    (WebCore::FrameLoader::SubframeLoader::requestFrame):
    * page/DOMWindow.cpp:
    (WebCore::DOMWindow::setLocation):
    * page/csp/ContentSecurityPolicy.cpp:
    (WebCore::ContentSecurityPolicy::allowJavaScriptURLs const):
    * page/csp/ContentSecurityPolicy.h:
    
    LayoutTests:
    
    * TestExpectations:
    * http/tests/security/contentSecurityPolicy/inline-script-blocked-javascript-url-expected.txt:
    * http/tests/security/contentSecurityPolicy/javascript-url-blocked-by-default-src-star-expected.txt:
    * http/tests/security/contentSecurityPolicy/javascript-url-blocked-expected.txt:
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290550 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-26  Kate Cheney  <katherine_cheney@apple.com>

            Update CSP handling of javascript URLs
            https://bugs.webkit.org/show_bug.cgi?id=236351
            <rdar://problem/88675827>

            Reviewed by Brent Fulgham.

            * TestExpectations:
            * http/tests/security/contentSecurityPolicy/inline-script-blocked-javascript-url-expected.txt:
            * http/tests/security/contentSecurityPolicy/javascript-url-blocked-by-default-src-star-expected.txt:
            * http/tests/security/contentSecurityPolicy/javascript-url-blocked-expected.txt:

2022-03-23  Alan Coon  <alancoon@apple.com>

        Cherry-pick r290443. rdar://problem/89322580

    Update CSP console logging
    https://bugs.webkit.org/show_bug.cgi?id=232216
    <rdar://problem/89322580>
    
    Reviewed by Brent Fulgham.
    
    Source/WebCore:
    
    * loader/SubresourceLoader.cpp:
    (WebCore::SubresourceLoader::willSendRequestInternal):
    (WebCore::SubresourceLoader::originalHeaders const):
    * page/csp/ContentSecurityPolicy.cpp:
    (WebCore::ContentSecurityPolicy::allowResourceFromSource const):
    (WebCore::ContentSecurityPolicy::allowWorkerFromSource const):
    (WebCore::ContentSecurityPolicy::allowScriptFromSource const):
    (WebCore::ContentSecurityPolicy::allowStyleFromSource const):
    
    Source/WebKit:
    
    * NetworkProcess/NetworkLoadChecker.cpp:
    (WebKit::NetworkLoadChecker::check):
    (WebKit::NetworkLoadChecker::checkRedirection):
    (WebKit::NetworkLoadChecker::checkRequest):
    (WebKit::NetworkLoadChecker::isAllowedByContentSecurityPolicy):
    * NetworkProcess/NetworkLoadChecker.h:
    
    LayoutTests:
    
    * http/tests/security/contentSecurityPolicy/audio-redirect-blocked-expected.txt:
    * http/tests/security/contentSecurityPolicy/audio-redirect-blocked.html:
    * http/tests/security/contentSecurityPolicy/font-redirect-blocked-expected.txt:
    * http/tests/security/contentSecurityPolicy/font-redirect-blocked.html:
    * http/tests/security/contentSecurityPolicy/image-redirect-blocked-expected.txt:
    * http/tests/security/contentSecurityPolicy/image-redirect-blocked.html:
    * http/tests/security/contentSecurityPolicy/report-blocked-uri-after-multiple-redirects-expected.txt:
    * http/tests/security/contentSecurityPolicy/script-redirect-blocked-expected.txt:
    * http/tests/security/contentSecurityPolicy/script-redirect-blocked.html:
    * http/tests/security/contentSecurityPolicy/stylesheet-redirect-blocked-expected.txt:
    * http/tests/security/contentSecurityPolicy/stylesheet-redirect-blocked.html:
    * http/tests/security/contentSecurityPolicy/svg-font-redirect-blocked-expected.txt:
    * http/tests/security/contentSecurityPolicy/svg-font-redirect-blocked.html:
    * http/tests/security/contentSecurityPolicy/svg-image-redirect-blocked-expected.txt:
    * http/tests/security/contentSecurityPolicy/svg-image-redirect-blocked.html:
    * http/tests/security/contentSecurityPolicy/track-redirect-blocked-expected.txt:
    * http/tests/security/contentSecurityPolicy/track-redirect-blocked.html:
    * http/tests/security/contentSecurityPolicy/video-redirect-blocked-expected.txt:
    * http/tests/security/contentSecurityPolicy/video-redirect-blocked.html:
    * http/tests/security/contentSecurityPolicy/xsl-redirect-blocked-expected.txt:
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290443 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-24  Kate Cheney  <katherine_cheney@apple.com>

            Update CSP console logging
            https://bugs.webkit.org/show_bug.cgi?id=232216
            <rdar://problem/89322580>

            Reviewed by Brent Fulgham.

            * http/tests/security/contentSecurityPolicy/audio-redirect-blocked-expected.txt:
            * http/tests/security/contentSecurityPolicy/audio-redirect-blocked.html:
            * http/tests/security/contentSecurityPolicy/font-redirect-blocked-expected.txt:
            * http/tests/security/contentSecurityPolicy/font-redirect-blocked.html:
            * http/tests/security/contentSecurityPolicy/image-redirect-blocked-expected.txt:
            * http/tests/security/contentSecurityPolicy/image-redirect-blocked.html:
            * http/tests/security/contentSecurityPolicy/report-blocked-uri-after-multiple-redirects-expected.txt:
            * http/tests/security/contentSecurityPolicy/script-redirect-blocked-expected.txt:
            * http/tests/security/contentSecurityPolicy/script-redirect-blocked.html:
            * http/tests/security/contentSecurityPolicy/stylesheet-redirect-blocked-expected.txt:
            * http/tests/security/contentSecurityPolicy/stylesheet-redirect-blocked.html:
            * http/tests/security/contentSecurityPolicy/svg-font-redirect-blocked-expected.txt:
            * http/tests/security/contentSecurityPolicy/svg-font-redirect-blocked.html:
            * http/tests/security/contentSecurityPolicy/svg-image-redirect-blocked-expected.txt:
            * http/tests/security/contentSecurityPolicy/svg-image-redirect-blocked.html:
            * http/tests/security/contentSecurityPolicy/track-redirect-blocked-expected.txt:
            * http/tests/security/contentSecurityPolicy/track-redirect-blocked.html:
            * http/tests/security/contentSecurityPolicy/video-redirect-blocked-expected.txt:
            * http/tests/security/contentSecurityPolicy/video-redirect-blocked.html:
            * http/tests/security/contentSecurityPolicy/xsl-redirect-blocked-expected.txt:

2022-03-22  Alan Coon  <alancoon@apple.com>

        Cherry-pick r288792. rdar://problem/88227274

    CSP: Properly block image content in object elements
    https://bugs.webkit.org/show_bug.cgi?id=235837
    
    Reviewed by Kate Cheney.
    
    LayoutTests/imported/w3c:
    
    Update expectations with more passes.
    
    * web-platform-tests/content-security-policy/object-src/object-src-url-blocked-expected.txt:
    * web-platform-tests/content-security-policy/object-src/object-src-url-embed-blocked-expected.txt:
    * web-platform-tests/content-security-policy/object-src/object-src-url-redirect-blocked.sub-expected.txt:
    
    Source/WebCore:
    
    When an image is loaded through an object element it now passes through
    the object-src directive check as the spec documents:
    https://www.w3.org/TR/CSP3/#directive-object-src
    
    * loader/ImageLoader.cpp:
    (WebCore::ImageLoader::updateFromElement):
    * loader/ResourceLoaderOptions.h:
    (WebCore::ResourceLoaderOptions::loadedFromPluginElement):
    (WebCore::ResourceLoaderOptions::ResourceLoaderOptions):
    (WebCore::ResourceLoaderOptions::loadedFromOpaqueSource): Deleted.
    * loader/cache/CachedResourceLoader.cpp:
    (WebCore::CachedResourceLoader::allowedByContentSecurityPolicy const):
    * page/csp/ContentSecurityPolicy.cpp:
    (WebCore::ContentSecurityPolicy::allowObjectFromSource const):
    * page/csp/ContentSecurityPolicy.h:
    
    LayoutTests:
    
    * http/tests/security/contentSecurityPolicy/userAgentShadowDOM/default-src-object-data-url-blocked-expected.txt:
    * http/tests/security/contentSecurityPolicy/userAgentShadowDOM/default-src-object-data-url-blocked2-expected.txt:
    * http/tests/security/contentSecurityPolicy/userAgentShadowDOM/default-src-object-data-url-blocked3-expected.txt:
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288792 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-29  Patrick Griffis  <pgriffis@igalia.com>

            CSP: Properly block image content in object elements
            https://bugs.webkit.org/show_bug.cgi?id=235837

            Reviewed by Kate Cheney.

            * http/tests/security/contentSecurityPolicy/userAgentShadowDOM/default-src-object-data-url-blocked-expected.txt:
            * http/tests/security/contentSecurityPolicy/userAgentShadowDOM/default-src-object-data-url-blocked2-expected.txt:
            * http/tests/security/contentSecurityPolicy/userAgentShadowDOM/default-src-object-data-url-blocked3-expected.txt:

2022-03-22  Alan Coon  <alancoon@apple.com>

        Revert r290708. rdar://problem/90113314

2022-03-21  Alan Coon  <alancoon@apple.com>

        Cherry-pick r291330. rdar://problem/90320701

    REGRESSION (r282737): `text-shadow` is clipped
    https://bugs.webkit.org/show_bug.cgi?id=237898
    <rdar://problem/90320701>
    
    Reviewed by Darin Adler.
    
    Source/WebCore:
    
    Inflate the ink overflow rect with the text shadow values (note that here, in the display builder we work with physical coordinates).
    
    Test: fast/text/text-shadow-ink-overflow-missing.html
    
    * layout/formattingContexts/inline/display/InlineDisplayContentBuilder.cpp:
    (WebCore::Layout::InlineDisplayContentBuilder::appendTextDisplayBox):
    * rendering/style/RenderStyle.h:
    (WebCore::RenderStyle::getTextShadowHorizontalExtent const):
    (WebCore::RenderStyle::getTextShadowVerticalExtent const):
    
    LayoutTests:
    
    * fast/text/text-shadow-ink-overflow-missing-expected.html: Added.
    * fast/text/text-shadow-ink-overflow-missing.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@291330 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-15  Alan Bujtas  <zalan@apple.com>

            REGRESSION (r282737): `text-shadow` is clipped
            https://bugs.webkit.org/show_bug.cgi?id=237898
            <rdar://problem/90320701>

            Reviewed by Darin Adler.

            * fast/text/text-shadow-ink-overflow-missing-expected.html: Added.
            * fast/text/text-shadow-ink-overflow-missing.html: Added.

2022-03-21  Alan Coon  <alancoon@apple.com>

        Cherry-pick r291141. rdar://problem/90035071

    Main document is leaking on haaretz.co.il due to lazy image loading
    https://bugs.webkit.org/show_bug.cgi?id=237660
    <rdar://problem/90035071>
    
    Reviewed by Geoffrey Garen.
    
    Source/WebCore:
    
    When an HTML image uses `loading=lazy`, ImageLoader::updateFromElement() may get
    called twice. If the image is outside the viewport, the first time ImageLoader::updateFromElement()
    is called, we'll request a CachedImage but we'll set m_lazyImageLoadState to LazyImageLoadState::Deferred
    and not ask the CachedImage to load. Then, later on, if the HTML image approaches the viewport,
    ImageLoader::loadDeferredImage() will get called. It will set m_lazyImageLoadState to LazyImageLoadState::LoadImmediately
    and call updateFromElement() again. This time however, updateFromElement() will actually ask the CachedImage
    to load.
    
    The issue was that the first time ImageLoader::updateFromElement(), we would set m_lazyImageLoadState to Deferred
    and not ask the CachedImage to load but still set m_hasPendingLoadEvent to true. This is problematic if the CachedImage
    is not already loaded since no was was started and thus no load event is coming (and no load event may ever come if the
    image never approaches the viewport). When updatedHasPendingEvent() is called, it will protect the HTMLImageElement if
    m_hasPendingLoadEvent is true, to make sure the image element stays alive long enough for us to dispatch the load event.
    With lazy loading, this meant that we would protect the HTMLImageElement right away and undefinitely since no load event
    may ever come. This meant that when navigating away from a page with images that are lazily loaded (and not loaded yet),
    we would leak the HTMLImageElements (and ImageLoaders), which in turn would keep the Document alive too.
    
    To address the issue, we now make sure that m_hasPendingLoadEvent is no longer set to true when updateFromElement()
    is called but the CachedImage is not already loaded and not loading (lazy loading case). When updateFromElement() gets
    called the second time (when the lazily loaded image approaches the viewport), we make sure that the m_hasPendingLoadEvent
    flag gets set to true then.
    
    Test: fast/dom/lazy-image-loading-document-leak.html
    
    * loader/ImageLoader.cpp:
    (WebCore::ImageLoader::ImageLoader):
    (WebCore::ImageLoader::updateFromElement):
    (WebCore::ImageLoader::didUpdateCachedImage):
    (WebCore::ImageLoader::didStartLoading):
    * loader/ImageLoader.h:
    * loader/cache/CachedImage.cpp:
    (WebCore::CachedImage::load):
    * loader/cache/CachedImageClient.h:
    (WebCore::CachedImageClient::didStartLoading):
    
    LayoutTests:
    
    Add layout test coverage.
    
    * fast/dom/lazy-image-loading-document-leak-expected.txt: Added.
    * fast/dom/lazy-image-loading-document-leak.html: Added.
    * fast/dom/resources/lazy-image-loading-document-leak-popup.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@291141 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-10  Chris Dumez  <cdumez@apple.com>

            Main document is leaking on haaretz.co.il due to lazy image loading
            https://bugs.webkit.org/show_bug.cgi?id=237660
            <rdar://problem/90035071>

            Reviewed by Geoffrey Garen.

            Add layout test coverage.

            * fast/dom/lazy-image-loading-document-leak-expected.txt: Added.
            * fast/dom/lazy-image-loading-document-leak.html: Added.
            * fast/dom/resources/lazy-image-loading-document-leak-popup.html: Added.

2022-03-21  Alan Coon  <alancoon@apple.com>

        Cherry-pick r291030. rdar://problem/89989815

    IntersectionObserver is causing massive document leaks on haaretz.co.il
    https://bugs.webkit.org/show_bug.cgi?id=237619
    <rdar://problem/89989815>
    
    Reviewed by Simon Fraser.
    
    Source/WebCore:
    
    On haaretz.co.il, many of the iframe documents (for Google ad frames) were leaking due to
    IntersectionObserver. In particular, IntersectionObserver::isReachableFromOpaqueRoots()
    was returning true because m_targetsWaitingForFirstObservation was non-empty. This indicates
    that the IntersectionObserver is waiting for its first observation since that target was
    added. However, the observation is not coming because we navigated away from the document.
    
    To address the issue, I updated Document::commonTeardown() to disconnect all
    IntersectionObservers (and the very similar ResizeObservers), right after stopping all
    ActiveDOMObject.
    
    Test: fast/dom/intersection-observer-document-leak.html
    
    * dom/Document.cpp:
    (WebCore::Document::commonTeardown):
    * dom/Document.h:
    * page/IntersectionObserver.cpp:
    (WebCore::IntersectionObserver::disconnect):
    No longer return early if hasObservationTargets() returns false. This is because
    
    LayoutTests:
    
    Add layout test coverage.
    
    * fast/dom/intersection-observer-document-leak-expected.txt: Added.
    * fast/dom/intersection-observer-document-leak.html: Added.
    * fast/dom/resources/intersection-observer-document-leak-popup.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@291030 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-08  Chris Dumez  <cdumez@apple.com>

            IntersectionObserver is causing massive document leaks on haaretz.co.il
            https://bugs.webkit.org/show_bug.cgi?id=237619
            <rdar://problem/89989815>

            Reviewed by Simon Fraser.

            Add layout test coverage.

            * fast/dom/intersection-observer-document-leak-expected.txt: Added.
            * fast/dom/intersection-observer-document-leak.html: Added.
            * fast/dom/resources/intersection-observer-document-leak-popup.html: Added.

2022-03-21  Alan Coon  <alancoon@apple.com>

        Cherry-pick r291029. rdar://problem/88690874

    [Cocoa] metadata cue endTime may not be updated
    https://bugs.webkit.org/show_bug.cgi?id=237630
    rdar://88690874
    
    Reviewed by Jer Noble.
    
    Source/WebCore:
    
    Data cues have a start time but not an explicit duration, a data cue ends when
    the next data cue from the same track starts. This means we don’t know the
    duration of cue #1 until cue #2 is delivered, so when cue #1 is delivered it is
    given the end time of the media file’s duration and the actual end time is updated
    when cue #2 arrives.
    
    http://webkit.org/b/229924 refactored text, audio, and video tracks to not depend
    on HTMLMediaElement. Because InbandDataTextTrack could no longer access the
    HTMLMediaElement to get its duration, a duration property was added to TextTrackList
    that InbandDataTextTrack uses to set the duration of temporary cues.
    TextTrackList.duration is set when it is created and updated when the media player
    reports a duration change.
    
    This means that if the media file’s duration is not known when the text track list
    is created, and the file's duration never changes, the text track list never has a
    valid duration and data cues were not added to the temporary list.
    
    Fix this by updating TextTrackList.duration when a HTMLMediaElement reaches HAVE_METADATA.
    
    Test: http/tests/media/hls/track-in-band-hls-metadata-cue-duration.html
    
    * html/HTMLMediaElement.cpp:
    (WebCore::HTMLMediaElement::durationChanged): Update m_textTracks.duration and post
    the 'durationchange' event.
    (WebCore::HTMLMediaElement::setReadyState): Call durationChanged.
    (WebCore::HTMLMediaElement::mediaPlayerDurationChanged): Ditto.
    * html/HTMLMediaElement.h:
    
    * html/track/InbandDataTextTrack.cpp:
    (WebCore::InbandDataTextTrack::addDataCue): Add cues to the incomplete cue map
    even if the track list doesn't have duration.
    
    LayoutTests:
    
    * http/tests/media/hls/track-in-band-hls-metadata-cue-duration-expected.txt: Added.
    * http/tests/media/hls/track-in-band-hls-metadata-cue-duration.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@291029 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-08  Eric Carlson  <eric.carlson@apple.com>

            [Cocoa] metadata cue endTime may not be updated
            https://bugs.webkit.org/show_bug.cgi?id=237630
            rdar://88690874

            Reviewed by Jer Noble.

            * http/tests/media/hls/track-in-band-hls-metadata-cue-duration-expected.txt: Added.
            * http/tests/media/hls/track-in-band-hls-metadata-cue-duration.html: Added.

2022-03-21  Alan Coon  <alancoon@apple.com>

        Cherry-pick r291009. rdar://problem/89952347

    AX: Speech Synthesis no longer returning list of voices in macOS 12.3
    https://bugs.webkit.org/show_bug.cgi?id=237584
    <rdar://problem/89952347>
    
    Reviewed by Andres Gonzalez.
    
    Source/WTF:
    
    The minimum macOS version was meant to be 13 and above, but we started including 12.x releases inadvertently.
    
    * wtf/PlatformHave.h:
    
    LayoutTests:
    
    * fast/speechsynthesis/voices-non-mock-expected.txt: Added.
    * fast/speechsynthesis/voices-non-mock.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@291009 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-08  Chris Fleizach  <cfleizach@apple.com>

            AX: Speech Synthesis no longer returning list of voices in macOS 12.3
            https://bugs.webkit.org/show_bug.cgi?id=237584
            <rdar://problem/89952347>

            Reviewed by Andres Gonzalez.

            * fast/speechsynthesis/voices-non-mock-expected.txt: Added.
            * fast/speechsynthesis/voices-non-mock.html: Added.

2022-03-21  Alan Coon  <alancoon@apple.com>

        Cherry-pick r290830. rdar://problem/89081463

    CSP report does not get sent to the document in the case of a detached element
    https://bugs.webkit.org/show_bug.cgi?id=237440
    <rdar://problem/89081463>
    
    Reviewed by Chris Dumez.
    
    Source/WebCore:
    
    Test: http/tests/security/contentSecurityPolicy/report-violation-to-document-after-element-has-been-detached.html
    
    Only send a violation report to the element if it is connected. Check
    right before dispatching in case the element gets detached after the
    security policy violation has been created. If the element is not
    connected in this case, we send the report to the document.
    
    * dom/Element.cpp:
    (WebCore::Element::enqueueSecurityPolicyViolationEvent):
    * page/csp/ContentSecurityPolicy.cpp:
    (WebCore::ContentSecurityPolicy::reportViolation const):
    Also sets the composed value on the violation event as per the spec.
    
    LayoutTests:
    
    * http/tests/security/contentSecurityPolicy/report-violation-to-document-after-element-has-been-detached-expected.txt: Added.
    * http/tests/security/contentSecurityPolicy/report-violation-to-document-after-element-has-been-detached.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290830 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-04  Kate Cheney  <katherine_cheney@apple.com>

            CSP report does not get sent to the document in the case of a detached element
            https://bugs.webkit.org/show_bug.cgi?id=237440
            <rdar://problem/89081463>

            Reviewed by Chris Dumez.

            * http/tests/security/contentSecurityPolicy/report-violation-to-document-after-element-has-been-detached-expected.txt: Added.
            * http/tests/security/contentSecurityPolicy/report-violation-to-document-after-element-has-been-detached.html: Added.

2022-03-21  Alan Coon  <alancoon@apple.com>

        Cherry-pick r290676. rdar://problem/83831093

    [Cocoa] HLS stream currentTime sometimes jumps backwards
    https://bugs.webkit.org/show_bug.cgi?id=235087
    rdar://83831093
    
    Reviewed by Dean Jackson.
    
    Source/WebCore:
    
    Test: http/tests/media/hls/hls-non-zero-start-time.html
    
    * html/HTMLMediaElement.cpp:
    (WebCore::HTMLMediaElement::updateActiveTextTrackCues): Drive-by: pass log identifier
    to lambda so the method name will be logged correctly.
    (WebCore::HTMLMediaElement::currentMediaTime const): Remove LOG_CACHED_TIME_WARNINGS
    build flag, always log time drift warnings when log level is DEBUG.
    
    * platform/graphics/avfoundation/objc/MediaPlayerPrivateAVFoundationObjC.h:
    * platform/graphics/avfoundation/objc/MediaPlayerPrivateAVFoundationObjC.mm:
    (WebCore::MediaPlayerPrivateAVFoundationObjC::createAVPlayer): Log when periodic
    time observer is passed unexpected values.
    (WebCore::MediaPlayerPrivateAVFoundationObjC::createAVPlayerItem): Use
    NSKeyValueObservingOptionInitial KVO option for "@duration" property because we
    sometimes don't get a duration changed event for HLS streams, so m_cachedDuration
    remains invalid.
    (WebCore::MediaPlayerPrivateAVFoundationObjC::currentMediaTimeDidChange const):
    Drive-by: fix use-after-move.
    
    Source/WebKit:
    
    * WebProcess/GPU/media/MediaPlayerPrivateRemote.cpp:
    (WebKit::MediaPlayerPrivateRemote::currentTimeChanged): Always notify player when
    time jumps backwards.
    
    LayoutTests:
    
    * http/tests/media/hls/hls-non-zero-start-time-expected.txt: Added.
    * http/tests/media/hls/hls-non-zero-start-time.html: Added.
    * http/tests/media/resources/hls/bip-bop-live.m3u8: Added.
    * http/tests/media/resources/hls/bipbop/start-offset.m3u8: Added.
    * http/tests/media/resources/hls/bipbop/start-offset.ts: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290676 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-01  Eric Carlson  <eric.carlson@apple.com>

            [Cocoa] HLS stream currentTime sometimes jumps backwards
            https://bugs.webkit.org/show_bug.cgi?id=235087
            rdar://83831093

            Reviewed by Dean Jackson.

            * http/tests/media/hls/hls-non-zero-start-time-expected.txt: Added.
            * http/tests/media/hls/hls-non-zero-start-time.html: Added.
            * http/tests/media/resources/hls/bip-bop-live.m3u8: Added.
            * http/tests/media/resources/hls/bipbop/start-offset.m3u8: Added.
            * http/tests/media/resources/hls/bipbop/start-offset.ts: Added.

2022-03-21  Alan Coon  <alancoon@apple.com>

        Cherry-pick r290645. rdar://problem/89180092

    REGRESSION (r273129): Text contents in <span> with opacity not repainting/updating when sibling element has "will-change: transform"
    https://bugs.webkit.org/show_bug.cgi?id=236876
    <rdar://problem/89180092>
    
    Reviewed by Simon Fraser.
    
    Source/WebCore:
    
    This patch implements a slightly naive repaint for inline boxes with self painting layers.
    1. Mark the line when it gains an inline box (RenderInline) with self painting layer (e.g. <span style="position: relative">this has dedicated layer</span>)
    2. Issue repaint at the end of the line layout on such renderers.
    
    Test: fast/repaint/inline-box-with-self-paint-layer.html
    
    * rendering/LegacyInlineFlowBox.cpp:
    (WebCore::LegacyInlineFlowBox::addToLine):
    * rendering/LegacyInlineFlowBox.h:
    (WebCore::LegacyInlineFlowBox::LegacyInlineFlowBox):
    (WebCore::LegacyInlineFlowBox::hasSelfPaintInlineBox const):
    * rendering/LegacyLineLayout.cpp:
    (WebCore::repaintSelfPaintInlineBoxes):
    (WebCore::LegacyLineLayout::layoutRunsAndFloats):
    * rendering/RenderInline.cpp:
    (WebCore::RenderInline::clippedOverflowRect const): expand the ASSERT to enclsing inline boxes too.
    
    LayoutTests:
    
    * fast/repaint/inline-box-with-self-paint-layer-expected.html: Added.
    * fast/repaint/inline-box-with-self-paint-layer.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290645 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-01  Alan Bujtas  <zalan@apple.com>

            REGRESSION (r273129): Text contents in <span> with opacity not repainting/updating when sibling element has "will-change: transform"
            https://bugs.webkit.org/show_bug.cgi?id=236876
            <rdar://problem/89180092>

            Reviewed by Simon Fraser.

            * fast/repaint/inline-box-with-self-paint-layer-expected.html: Added.
            * fast/repaint/inline-box-with-self-paint-layer.html: Added.

2022-03-21  Alan Coon  <alancoon@apple.com>

        Cherry-pick r290615. rdar://problem/87919197

    Handle widow relayout differently
    https://bugs.webkit.org/show_bug.cgi?id=235519
    
    Patch by Rob Buis <rbuis@igalia.com> on 2022-02-28
    Reviewed by Alan Bujtas.
    
    Source/WebCore:
    
    Handle widow relayout differently to prevent function call recursion.
    
    Test: fast/multicol/widow-many-relayouts-crash.html
    
    * rendering/RenderBlockFlow.cpp:
    (WebCore::RenderBlockFlow::layoutBlock):
    (WebCore::RenderBlockFlow::relayoutToAvoidWidows): Deleted.
    * rendering/RenderBlockFlow.h:
    (WebCore::RenderBlockFlow::didBreakAtLineToAvoidWidow const):
    
    LayoutTests:
    
    * fast/multicol/widow-many-relayouts-crash-expected.txt: Added.
    * fast/multicol/widow-many-relayouts-crash.html: Added.
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290615 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-28  Rob Buis  <rbuis@igalia.com>

            Handle widow relayout differently
            https://bugs.webkit.org/show_bug.cgi?id=235519

            Reviewed by Alan Bujtas.

            * fast/multicol/widow-many-relayouts-crash-expected.txt: Added.
            * fast/multicol/widow-many-relayouts-crash.html: Added.

2022-03-21  Alan Coon  <alancoon@apple.com>

        Cherry-pick r290519. rdar://problem/89148022

    Re-add YouTubePluginReplacement, removed in r285252
    https://bugs.webkit.org/show_bug.cgi?id=237182
    Source/WebCore:
    
    <rdar://89148022>
    
    Patch by Alex Christensen <achristensen@webkit.org> on 2022-02-25
    Reviewed by Chris Dumez.
    
    Tests: security/contentSecurityPolicy/object-src-none-blocks-youtube-plugin-replacement.html
           security/contentSecurityPolicy/plugins-types-allows-youtube-plugin-replacement.html
           security/contentSecurityPolicy/plugins-types-blocks-youtube-plugin-replacement-without-mime-type.html
           security/contentSecurityPolicy/plugins-types-blocks-youtube-plugin-replacement.html
    
    Its removal broke webpages that work in Chrome and Firefox, so back it comes.
    
    * Headers.cmake:
    * Modules/plugins: Copied from Source/WebCore/Modules/plugins.
    * SourcesCocoa.txt:
    * WebCore.xcodeproj/project.pbxproj:
    * bindings/js/JSPluginElementFunctions.cpp:
    (WebCore::pluginScriptObject):
    * bindings/scripts/CodeGeneratorJS.pm:
    (GenerateImplementation):
    * bindings/scripts/test/JS/JSTestPluginInterface.cpp:
    (WebCore::JSTestPluginInterface::visitChildrenImpl):
    * html/HTMLPlugInElement.cpp:
    (WebCore::HTMLPlugInElement::createElementRenderer):
    (WebCore::HTMLPlugInElement::didAddUserAgentShadowRoot):
    (WebCore::registrar):
    (WebCore::pluginReplacementForType):
    (WebCore::HTMLPlugInElement::requestObject):
    (WebCore::HTMLPlugInElement::scriptObjectForPluginReplacement):
    * html/HTMLPlugInElement.h:
    (WebCore::HTMLPlugInElement::pluginReplacementScriptObject):
    * html/shadow/ShadowPseudoIds.cpp:
    (WebCore::ShadowPseudoIds::webkitPluginReplacement):
    * html/shadow/ShadowPseudoIds.h:
    * html/shadow/YouTubeEmbedShadowElement.cpp:
    * html/shadow/YouTubeEmbedShadowElement.h:
    * page/Settings.yaml:
    
    Tools:
    
    Patch by Alex Christensen <achristensen@webkit.org> on 2022-02-25
    Reviewed by Chris Dumez.
    
    * TestWebKitAPI/TestWebKitAPI.xcodeproj/project.pbxproj:
    * TestWebKitAPI/Tests/WebCore/YouTubePluginReplacement.cpp:
    
    LayoutTests:
    
    Patch by Alex Christensen <achristensen@webkit.org> on 2022-02-25
    Reviewed by Chris Dumez.
    
    * TestExpectations:
    * platform/ios-wk2/TestExpectations:
    * platform/win/TestExpectations:
    * security/contentSecurityPolicy/object-src-none-blocks-youtube-plugin-replacement-expected.txt: Copied from LayoutTests/security/contentSecurityPolicy/object-src-none-blocks-youtube-plugin-replacement-expected.txt.
    * security/contentSecurityPolicy/object-src-none-blocks-youtube-plugin-replacement.html: Copied from LayoutTests/security/contentSecurityPolicy/object-src-none-blocks-youtube-plugin-replacement.html.
    * security/contentSecurityPolicy/plugins-types-allows-youtube-plugin-replacement-expected.txt: Copied from LayoutTests/security/contentSecurityPolicy/plugins-types-allows-youtube-plugin-replacement-expected.txt.
    * security/contentSecurityPolicy/plugins-types-allows-youtube-plugin-replacement.html: Copied from LayoutTests/security/contentSecurityPolicy/plugins-types-allows-youtube-plugin-replacement.html.
    * security/contentSecurityPolicy/plugins-types-blocks-youtube-plugin-replacement-expected.txt: Copied from LayoutTests/security/contentSecurityPolicy/plugins-types-blocks-youtube-plugin-replacement-expected.txt.
    * security/contentSecurityPolicy/plugins-types-blocks-youtube-plugin-replacement-without-mime-type-expected.txt: Copied from LayoutTests/security/contentSecurityPolicy/plugins-types-blocks-youtube-plugin-replacement-without-mime-type-expected.txt.
    * security/contentSecurityPolicy/plugins-types-blocks-youtube-plugin-replacement-without-mime-type.html: Copied from LayoutTests/security/contentSecurityPolicy/plugins-types-blocks-youtube-plugin-replacement-without-mime-type.html.
    * security/contentSecurityPolicy/plugins-types-blocks-youtube-plugin-replacement.html: Copied from LayoutTests/security/contentSecurityPolicy/plugins-types-blocks-youtube-plugin-replacement.html.
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290519 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-25  Alex Christensen  <achristensen@webkit.org>

            Re-add YouTubePluginReplacement, removed in r285252
            https://bugs.webkit.org/show_bug.cgi?id=237182

            Reviewed by Chris Dumez.

            * TestExpectations:
            * platform/ios-wk2/TestExpectations:
            * platform/win/TestExpectations:
            * security/contentSecurityPolicy/object-src-none-blocks-youtube-plugin-replacement-expected.txt: Copied from LayoutTests/security/contentSecurityPolicy/object-src-none-blocks-youtube-plugin-replacement-expected.txt.
            * security/contentSecurityPolicy/object-src-none-blocks-youtube-plugin-replacement.html: Copied from LayoutTests/security/contentSecurityPolicy/object-src-none-blocks-youtube-plugin-replacement.html.
            * security/contentSecurityPolicy/plugins-types-allows-youtube-plugin-replacement-expected.txt: Copied from LayoutTests/security/contentSecurityPolicy/plugins-types-allows-youtube-plugin-replacement-expected.txt.
            * security/contentSecurityPolicy/plugins-types-allows-youtube-plugin-replacement.html: Copied from LayoutTests/security/contentSecurityPolicy/plugins-types-allows-youtube-plugin-replacement.html.
            * security/contentSecurityPolicy/plugins-types-blocks-youtube-plugin-replacement-expected.txt: Copied from LayoutTests/security/contentSecurityPolicy/plugins-types-blocks-youtube-plugin-replacement-expected.txt.
            * security/contentSecurityPolicy/plugins-types-blocks-youtube-plugin-replacement-without-mime-type-expected.txt: Copied from LayoutTests/security/contentSecurityPolicy/plugins-types-blocks-youtube-plugin-replacement-without-mime-type-expected.txt.
            * security/contentSecurityPolicy/plugins-types-blocks-youtube-plugin-replacement-without-mime-type.html: Copied from LayoutTests/security/contentSecurityPolicy/plugins-types-blocks-youtube-plugin-replacement-without-mime-type.html.
            * security/contentSecurityPolicy/plugins-types-blocks-youtube-plugin-replacement.html: Copied from LayoutTests/security/contentSecurityPolicy/plugins-types-blocks-youtube-plugin-replacement.html.

2022-03-09  Russell Epstein  <repstein@apple.com>

        Cherry-pick r290515. rdar://problem/89376484

    [WebAuthn] Use default pubKeyCredParams if empty in makeCredential
    https://bugs.webkit.org/show_bug.cgi?id=237109
    rdar://problem/89376484
    
    Reviewed by Brent Fulgham.
    
    Source/WebCore:
    
    The Web Authentication level 2 spec was updated to clarify that
    a set of default pubKeyCredParams should be used if the list
    supplied by the RP is empty. This patch starts using
    the default and updates associated tests.
    
    * Modules/webauthn/AuthenticatorCoordinator.cpp:
    (WebCore::AuthenticatorCoordinator::create const):
    * Modules/webauthn/PublicKeyCredentialCreationOptions.h:
    * Modules/webauthn/WebAuthenticationConstants.h:
    
    LayoutTests:
    
    Update tests to take in account using default pubKeyCredParams.
    
    * http/wpt/webauthn/public-key-credential-create-failure.https-expected.txt:
    * http/wpt/webauthn/public-key-credential-create-failure.https.html:
    * http/wpt/webauthn/public-key-credential-create-success-hid.https-expected.txt:
    * http/wpt/webauthn/public-key-credential-create-success-hid.https.html:
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290515 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-25  J Pascoe  <j_pascoe@apple.com>

            [WebAuthn] Use default pubKeyCredParams if empty in makeCredential
            https://bugs.webkit.org/show_bug.cgi?id=237109
            rdar://problem/89376484

            Reviewed by Brent Fulgham.

            Update tests to take in account using default pubKeyCredParams.

            * http/wpt/webauthn/public-key-credential-create-failure.https-expected.txt:
            * http/wpt/webauthn/public-key-credential-create-failure.https.html:
            * http/wpt/webauthn/public-key-credential-create-success-hid.https-expected.txt:
            * http/wpt/webauthn/public-key-credential-create-success-hid.https.html:

2022-03-09  Russell Epstein  <repstein@apple.com>

        Cherry-pick r290760. rdar://problem/83745510

    Rendering issues with many dynamically-added sticky elements inside overflow scroll
    https://bugs.webkit.org/show_bug.cgi?id=237378
    <rdar://83745510>
    
    Reviewed by Cameron McCormack.
    
    Source/WebCore:
    
    A bug was filed describing a symptom where position:sticky elements would eventually
    fail to render when many of them were dynamically added inside a non-stacking context
    overflow scroll.
    
    Debugging showed that CALayers were accumulating, causing us to hit per-process IOSurface
    limits, at which point content fails to render (this is being fixed via rdar://89640915).
    Further debugging showed that these layers were unparented, and being entrained by
    ScrollingStateStickyNodes, which were accumulating in ScrollingStateTree's m_unparentedNodes.
    
    This happened because with this scrolling configuration, each ScrollingStateStickyNode
    is parented via a ScrollingStateOverflowScrollProxyNode which is referenced by entries
    in RenderLayerBacking's m_ancestorClippingStack. On cleanup, the ScrollingStateOverflowScrollProxyNode
    was unparented first, leaving the ScrollingStateStickyNode in m_unparentedNodes.
    
    The fix is to have ScrollingStateTree::unparentChildrenAndDestroyNode() remove nodes
    from m_unparentedNodes.
    
    To test, add a m_unparentedNodes count to scrollingStateTreeAsText output, which means
    having scrollingStateTreeAsText() as a member function on ScrollingStateTree.
    
    Test: scrollingcoordinator/scrolling-tree/accumulated-unparented-sticky-nodes.html
    
    * page/scrolling/AsyncScrollingCoordinator.cpp:
    (WebCore::AsyncScrollingCoordinator::scrollingStateTreeAsText const):
    * page/scrolling/ScrollingStateTree.cpp:
    (WebCore::ScrollingStateTree::unparentChildrenAndDestroyNode):
    (WebCore::ScrollingStateTree::scrollingStateTreeAsText const):
    * page/scrolling/ScrollingStateTree.h:
    
    LayoutTests:
    
    * scrollingcoordinator/scrolling-tree/accumulated-unparented-sticky-nodes-expected.txt: Added.
    * scrollingcoordinator/scrolling-tree/accumulated-unparented-sticky-nodes.html: Added.
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290760 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-02  Simon Fraser  <simon.fraser@apple.com>

            Rendering issues with many dynamically-added sticky elements inside overflow scroll
            https://bugs.webkit.org/show_bug.cgi?id=237378
            <rdar://83745510>

            Reviewed by Cameron McCormack.

            * scrollingcoordinator/scrolling-tree/accumulated-unparented-sticky-nodes-expected.txt: Added.
            * scrollingcoordinator/scrolling-tree/accumulated-unparented-sticky-nodes.html: Added.

2022-03-09  Russell Epstein  <repstein@apple.com>

        Cherry-pick r290646. rdar://problem/88911184

    focus({preventScroll: true}) does not prevent scrolling on iOS
    https://bugs.webkit.org/show_bug.cgi?id=236584
    rdar://88911184
    
    Reviewed by Simon Fraser.
    
    Source/WebCore:
    
    Plumb `FocusOptions` through `Element::dispatchFocusEvent()` as well as the chrome client hooks for
    `elementDidRefocus` and `elementDidFocus`, instead of just a `FocusDirection` flag.
    
    * dom/Document.cpp:
    (WebCore::Document::setFocusedElement):
    * dom/Element.cpp:
    (WebCore::Element::focus):
    (WebCore::Element::dispatchFocusEvent):
    * dom/Element.h:
    * html/HTMLSelectElement.cpp:
    (WebCore::HTMLSelectElement::dispatchFocusEvent):
    * html/HTMLSelectElement.h:
    * html/HTMLTextFormControlElement.cpp:
    (WebCore::HTMLTextFormControlElement::dispatchFocusEvent):
    * html/HTMLTextFormControlElement.h:
    * loader/EmptyClients.h:
    * page/ChromeClient.h:
    (WebCore::ChromeClient::elementDidFocus):
    (WebCore::ChromeClient::elementDidRefocus):
    * page/FocusController.cpp:
    (WebCore::dispatchEventsOnWindowAndFocusedElement):
    (WebCore::FocusController::setFocusedElement):
    
    Source/WebKit:
    
    Add support for `preventScroll` on iOS by avoiding UI-side zooming/scrolling to reveal the focused element if it
    was focused with `preventScroll: true`. See below for more details.
    
    Tests: fast/forms/select-focus-prevent-scroll.html
           fast/forms/text-field-focus-prevent-scroll.html
    
    * Shared/FocusedElementInformation.cpp:
    (WebKit::FocusedElementInformation::encode const):
    (WebKit::FocusedElementInformation::decode):
    * Shared/FocusedElementInformation.h:
    
    Add a boolean flag to `FocusedElementInformation` to indicate whether or not scrolling to reveal the focused
    element should be prevented.
    
    * UIProcess/ios/WKContentViewInteraction.mm:
    (-[WKContentView _zoomToRevealFocusedElement]):
    
    Only zoom to reveal the focused element if the focused element information's `preventScroll` flag is `NO`.
    
    (-[WKContentView _elementDidBlur]):
    * WebProcess/WebCoreSupport/WebChromeClient.cpp:
    (WebKit::WebChromeClient::elementDidFocus):
    (WebKit::WebChromeClient::elementDidRefocus):
    * WebProcess/WebCoreSupport/WebChromeClient.h:
    * WebProcess/WebPage/WebPage.cpp:
    (WebKit::WebPage::elementDidRefocus):
    (WebKit::WebPage::elementDidFocus):
    
    Use `FocusOptions` to set the `preventScroll` flag when propagating `FocusedElementInformation`.
    
    * WebProcess/WebPage/WebPage.h:
    
    Source/WebKitLegacy/ios:
    
    Adjust the method signature of elementDidFocus. See WebCore ChangeLog for more information.
    
    * WebCoreSupport/WebChromeClientIOS.h:
    * WebCoreSupport/WebChromeClientIOS.mm:
    (WebChromeClientIOS::elementDidFocus):
    
    Source/WebKitLegacy/mac:
    
    Adjust the method signature of elementDidFocus. See WebCore ChangeLog for more information.
    
    * WebCoreSupport/WebChromeClient.h:
    * WebCoreSupport/WebChromeClient.mm:
    (WebChromeClient::elementDidFocus):
    
    LayoutTests:
    
    Add a couple of new layout tests to verify that passing in `{ preventScroll: true }` for focus options causes
    us to avoid scrolling to reveal focused select elements and text fields.
    
    * fast/forms/select-focus-prevent-scroll-expected.txt: Added.
    * fast/forms/select-focus-prevent-scroll.html: Added.
    * fast/forms/text-field-focus-prevent-scroll-expected.txt: Added.
    * fast/forms/text-field-focus-prevent-scroll.html: Added.
    * resources/ui-helper.js:
    
    Also make it safe to call `waitForInputSessionToDismiss()` in a platform-agnostic test, by bailing early if
    we're not on iOS, using WebKit2.
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290646 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-01  Wenson Hsieh  <wenson_hsieh@apple.com>

            focus({preventScroll: true}) does not prevent scrolling on iOS
            https://bugs.webkit.org/show_bug.cgi?id=236584
            rdar://88911184

            Reviewed by Simon Fraser.

            Add a couple of new layout tests to verify that passing in `{ preventScroll: true }` for focus options causes
            us to avoid scrolling to reveal focused select elements and text fields.

            * fast/forms/select-focus-prevent-scroll-expected.txt: Added.
            * fast/forms/select-focus-prevent-scroll.html: Added.
            * fast/forms/text-field-focus-prevent-scroll-expected.txt: Added.
            * fast/forms/text-field-focus-prevent-scroll.html: Added.
            * resources/ui-helper.js:

            Also make it safe to call `waitForInputSessionToDismiss()` in a platform-agnostic test, by bailing early if
            we're not on iOS, using WebKit2.

2022-03-09  Russell Epstein  <repstein@apple.com>

        Cherry-pick r290556. rdar://problem/89525864

    Re-import inert and <dialog> WPT
    https://bugs.webkit.org/show_bug.cgi?id=237243
    
    Reviewed by Youenn Fablet.
    
    Upstream commit: https://github.com/web-platform-tests/wpt/commit/9261ca87db106c1f31f1ab4f54b8f4a2617cbc24
    
    LayoutTests/imported/w3c:
    
    * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/modal-dialog-in-replaced-renderer-expected.html:
    * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/modal-dialog-in-replaced-renderer-ref.html:
    * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/modal-dialog-in-replaced-renderer.html:
    * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/modal-dialog-in-table-column-expected.html:
    * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/modal-dialog-in-table-column-ref.html:
    * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/modal-dialog-in-table-column.html:
    * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/w3c-import.log:
    * web-platform-tests/inert/inert-and-contenteditable.tentative-expected.txt: Added.
    * web-platform-tests/inert/inert-and-contenteditable.tentative.html: Added.
    * web-platform-tests/inert/inert-iframe-hittest.tentative-expected.txt:
    * web-platform-tests/inert/inert-iframe-hittest.tentative.html:
    * web-platform-tests/inert/inert-iframe-tabbing.tentative-expected.txt:
    * web-platform-tests/inert/inert-iframe-tabbing.tentative.html:
    * web-platform-tests/inert/w3c-import.log:
    
    LayoutTests:
    
    * TestExpectations:
    * platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-iframe-hittest.tentative-expected.txt:
    * platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-iframe-tabbing.tentative-expected.txt:
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290556 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-27  Tim Nguyen  <ntim@apple.com>

            Re-import inert and <dialog> WPT
            https://bugs.webkit.org/show_bug.cgi?id=237243

            Reviewed by Youenn Fablet.

            Upstream commit: https://github.com/web-platform-tests/wpt/commit/9261ca87db106c1f31f1ab4f54b8f4a2617cbc24

            * TestExpectations:
            * platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-iframe-hittest.tentative-expected.txt:
            * platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-iframe-tabbing.tentative-expected.txt:

2022-03-09  Russell Epstein  <repstein@apple.com>

        Cherry-pick r289071. rdar://problem/89997434

    ANGLE Metal and ANGLE OpenGL cannot be initialised one after the other
    https://bugs.webkit.org/show_bug.cgi?id=236030
    
    Patch by Kimmo Kinnunen <kkinnunen@apple.com> on 2022-02-03
    Reviewed by Dean Jackson.
    
    Source/WebCore:
    
    Test: webgl/pending/conformance2/misc/webgl2-after-webgl1-bug.html
    
    Remove the power-preference specific native displays.
    Add a native display for opengl, and use the default
    one for Metal.
    
    After the recent ANGLE roll, ANGLE uses (native display, power preference)
    as the key to look up EGLDisplays.
    
    * platform/graphics/angle/GraphicsContextGLANGLE.cpp:
    (WebCore::GraphicsContextGLANGLE::releaseThreadResources):
    * platform/graphics/angle/GraphicsContextGLANGLE.h:
    * platform/graphics/cocoa/GraphicsContextGLCocoa.mm:
    (WebCore::initializeEGLDisplay):
    
    LayoutTests:
    
    * webgl/pending/conformance2/misc/webgl2-after-webgl1-bug-expected.txt: Added.
    * webgl/pending/conformance2/misc/webgl2-after-webgl1-bug.html: Added.
    * webgl/resources/pending_webgl_test_files/conformance2/misc/webgl2-after-webgl1-bug.html: Added.
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@289071 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-03  Kimmo Kinnunen  <kkinnunen@apple.com>

            ANGLE Metal and ANGLE OpenGL cannot be initialised one after the other
            https://bugs.webkit.org/show_bug.cgi?id=236030

            Reviewed by Dean Jackson.

            * webgl/pending/conformance2/misc/webgl2-after-webgl1-bug-expected.txt: Added.
            * webgl/pending/conformance2/misc/webgl2-after-webgl1-bug.html: Added.
            * webgl/resources/pending_webgl_test_files/conformance2/misc/webgl2-after-webgl1-bug.html: Added.

2022-03-08  Russell Epstein  <repstein@apple.com>

        Cherry-pick r288701. rdar://problem/83734079

    "Unrecognized Content-Security-Policy directive 'worker-src'."
    https://bugs.webkit.org/show_bug.cgi?id=235260
    <rdar://problem/83734079>
    
    Reviewed by Brent Fulgham.
    
    LayoutTests/imported/w3c:
    
    * web-platform-tests/content-security-policy/child-src/child-src-cross-origin-load.sub-expected.txt:
    * web-platform-tests/content-security-policy/child-src/child-src-worker-blocked.sub-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/script-src-self/sharedworker-import-data.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/script-src-self/sharedworker-import-data.https-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/script-src-self/worker-import-data.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/script-src-self/worker-import-data.https-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/script-src-wildcard/sharedworker-import-data.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/script-src-wildcard/sharedworker-import-data.https-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/script-src-wildcard/worker-import-data.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/script-src-wildcard/worker-import-data.https-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/worker-src-none/sharedworker-classic.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/worker-src-none/sharedworker-classic.https-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/worker-src-none/sharedworker-import-data.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/worker-src-none/sharedworker-import-data.https-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/worker-src-none/sharedworker-import.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/worker-src-none/sharedworker-import.https-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/worker-src-none/sharedworker-module.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/worker-src-none/sharedworker-module.https-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/worker-src-none/worker-classic.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/worker-src-none/worker-classic.https-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/worker-src-none/worker-import-data.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/worker-src-none/worker-import-data.https-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/worker-src-none/worker-import.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/worker-src-none/worker-import.https-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/worker-src-none/worker-module.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/worker-src-none/worker-module.https-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/worker-src-self/sharedworker-import-data.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/worker-src-self/sharedworker-import-data.https-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/worker-src-self/sharedworker-import.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/worker-src-self/sharedworker-import.https-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/worker-src-self/worker-import-data.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/worker-src-self/worker-import-data.https-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/worker-src-wildcard/sharedworker-import-data.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/worker-src-wildcard/sharedworker-import-data.https-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/worker-src-wildcard/worker-import-data.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/worker-src-wildcard/worker-import-data.https-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.meta/script-src-self/sharedworker-import-data.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.meta/script-src-self/sharedworker-import-data.https-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.meta/script-src-self/worker-import-data.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.meta/script-src-self/worker-import-data.https-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.meta/script-src-wildcard/sharedworker-import-data.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.meta/script-src-wildcard/sharedworker-import-data.https-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.meta/script-src-wildcard/worker-import-data.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.meta/script-src-wildcard/worker-import-data.https-expected.txt:
    * web-platform-tests/content-security-policy/worker-src/dedicated-fallback.sub-expected.txt:
    * web-platform-tests/content-security-policy/worker-src/dedicated-none.sub-expected.txt:
    * web-platform-tests/content-security-policy/worker-src/dedicated-worker-src-child-fallback-blocked.sub-expected.txt:
    * web-platform-tests/content-security-policy/worker-src/dedicated-worker-src-script-fallback.sub-expected.txt:
    * web-platform-tests/content-security-policy/worker-src/dedicated-worker-src-self-fallback.sub-expected.txt:
    * web-platform-tests/content-security-policy/worker-src/service-none.https.sub-expected.txt:
    * web-platform-tests/content-security-policy/worker-src/service-worker-src-child-fallback-blocked.https.sub-expected.txt:
    * web-platform-tests/content-security-policy/worker-src/shared-child.sub-expected.txt: Added.
    * web-platform-tests/content-security-policy/worker-src/shared-fallback.sub-expected.txt: Added.
    * web-platform-tests/content-security-policy/worker-src/shared-list.sub-expected.txt: Added.
    * web-platform-tests/content-security-policy/worker-src/shared-none.sub-expected.txt: Added.
    * web-platform-tests/content-security-policy/worker-src/shared-self.sub-expected.txt: Added.
    * web-platform-tests/content-security-policy/worker-src/shared-worker-src-child-fallback-blocked.sub-expected.txt: Added.
    * web-platform-tests/content-security-policy/worker-src/shared-worker-src-child-fallback.sub-expected.txt: Added.
    * web-platform-tests/content-security-policy/worker-src/shared-worker-src-default-fallback.sub-expected.txt: Added.
    * web-platform-tests/content-security-policy/worker-src/shared-worker-src-script-fallback.sub-expected.txt: Added.
    * web-platform-tests/content-security-policy/worker-src/shared-worker-src-self-fallback.sub-expected.txt: Added.
    * web-platform-tests/content-security-policy/blob/self-doesnt-match-blob.sub-expected.txt:
    * web-platform-tests/content-security-policy/blob/star-doesnt-match-blob.sub-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.http-rp/worker-src-self/worker-import-data.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.meta/worker-src-none/sharedworker-classic.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.meta/worker-src-none/sharedworker-classic.https-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.meta/worker-src-none/sharedworker-import-data.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.meta/worker-src-none/sharedworker-import-data.https-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.meta/worker-src-none/sharedworker-module.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.meta/worker-src-none/sharedworker-module.https-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.meta/worker-src-none/worker-classic.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.meta/worker-src-none/worker-classic.https-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.meta/worker-src-none/worker-import-data.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.meta/worker-src-none/worker-import-data.https-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.meta/worker-src-none/worker-import.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.meta/worker-src-none/worker-import.https-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.meta/worker-src-none/worker-module.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.meta/worker-src-none/worker-module.https-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.meta/worker-src-self/sharedworker-import-data.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.meta/worker-src-self/sharedworker-import-data.https-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.meta/worker-src-self/worker-import-data.http-expected.txt:
    * web-platform-tests/content-security-policy/gen/top.meta/worker-src-self/worker-import-data.https-expected.txt:
    
    Source/WebCore:
    
    Implementation of worker-src directive. According to https://www.w3.org/TR/CSP3/#changes-from-level-2
    the worker-src directive now restricts URLs that can be loaded by
    workers, and defers to child-src if not specified.
    
    * bindings/js/WorkerModuleScriptLoader.cpp:
    (WebCore::WorkerModuleScriptLoader::load):
    Check worker-src instead of child-src for worker loads.
    
    * loader/DocumentThreadableLoader.cpp:
    (WebCore::DocumentThreadableLoader::isAllowedByContentSecurityPolicy):
    * loader/ThreadableLoader.h:
    Check worker-src instead of child-src for worker loads.
    
    * page/csp/ContentSecurityPolicy.cpp:
    We can remove allowChildContextFromSource which is now fully replaced
    by allowWorkerFromSource.
    
    (WebCore::ContentSecurityPolicy::allowWorkerFromSource const):
    (WebCore::ContentSecurityPolicy::allowChildContextFromSource const): Deleted.
    * page/csp/ContentSecurityPolicy.h:
    * page/csp/ContentSecurityPolicyDirectiveList.cpp:
    (WebCore::ContentSecurityPolicyDirectiveList::operativeDirectiveForWorkerSrc const):
    worker-src defers to child-src, then script-src, then default-src.
    
    (WebCore::ContentSecurityPolicyDirectiveList::violatedDirectiveForWorker):
    (WebCore::ContentSecurityPolicyDirectiveList::addDirective):
    * page/csp/ContentSecurityPolicyDirectiveList.h:
    * page/csp/ContentSecurityPolicyDirectiveNames.cpp:
    * page/csp/ContentSecurityPolicyDirectiveNames.h:
    * workers/AbstractWorker.cpp:
    (WebCore::AbstractWorker::resolveURL):
    * workers/AbstractWorker.h:
    We check LegacySchemeRegistry::schemeShouldBypassContentSecurityPolicy
    in allowWorkerFromSource, so we don't need to check in in AbstractWorker::resolveURL
    anymore. We can also replace the child-src checks with worker-src
    ones.
    
    * workers/Worker.cpp:
    (WebCore::Worker::create):
    * workers/WorkerFontLoadRequest.cpp:
    (WebCore::WorkerFontLoadRequest::load):
    * workers/service/ServiceWorkerContainer.cpp:
    (WebCore::ServiceWorkerContainer::addRegistration):
    Block service worker registrations not specified by worker-src.
    
    * workers/shared/SharedWorker.cpp:
    (WebCore::SharedWorker::create):
    Block shared worker urls not specified by worker-src.
    
    * workers/shared/SharedWorkerScriptLoader.cpp:
    (WebCore::SharedWorkerScriptLoader::SharedWorkerScriptLoader):
    
    Source/WebKit:
    
    * NetworkProcess/NetworkLoadChecker.cpp:
    (WebKit::NetworkLoadChecker::isAllowedByContentSecurityPolicy):
    
    LayoutTests:
    
    Update tests now that worker-src defaults eventually to script-src.
    Since this was not the case with child-src, legacy CSP tests do not
    expect script-src policies to affect workers. We can fix this by
    specifying a separate worker-src policy for these tests to maintain
    behavior.
    
    * TestExpectations:
    Some wpt tests log random URL strings that change for every test
    iteration. For now we can't unskip those.
    
    * http/tests/security/contentSecurityPolicy/1.1/child-src/worker-blocked-expected.txt:
    * http/tests/security/contentSecurityPolicy/1.1/child-src/worker-redirect-blocked-expected.txt:
    * http/tests/security/contentSecurityPolicy/worker-blob-inherits-csp-blocks-eval.html:
    * http/tests/security/contentSecurityPolicy/worker-blob-inherits-csp-importScripts-block-aborts-all-subsequent-imports.html:
    * http/tests/security/contentSecurityPolicy/worker-blob-inherits-csp-importScripts-redirect-cross-origin-blocked.html:
    * http/tests/security/contentSecurityPolicy/worker-blob-inherits-csp.html:
    * http/tests/security/contentSecurityPolicy/worker-script-src.html:
    * http/tests/security/isolatedWorld/bypass-main-world-csp-worker-blob-eval.html:
    * http/tests/security/isolatedWorld/bypass-main-world-csp-worker-blob-importScript-redirect-cross-origin.html:
    * http/tests/security/isolatedWorld/bypass-main-world-csp-worker-blob-xhr.html:
    * http/tests/security/isolatedWorld/bypass-main-world-csp-worker.html:
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288701 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-27  Kate Cheney  <katherine_cheney@apple.com>

            "Unrecognized Content-Security-Policy directive 'worker-src'."
            https://bugs.webkit.org/show_bug.cgi?id=235260
            <rdar://problem/83734079>

            Reviewed by Brent Fulgham.

            Update tests now that worker-src defaults eventually to script-src.
            Since this was not the case with child-src, legacy CSP tests do not
            expect script-src policies to affect workers. We can fix this by
            specifying a separate worker-src policy for these tests to maintain
            behavior.

            * TestExpectations:
            Some wpt tests log random URL strings that change for every test
            iteration. For now we can't unskip those.

            * http/tests/security/contentSecurityPolicy/1.1/child-src/worker-blocked-expected.txt:
            * http/tests/security/contentSecurityPolicy/1.1/child-src/worker-redirect-blocked-expected.txt:
            * http/tests/security/contentSecurityPolicy/worker-blob-inherits-csp-blocks-eval.html:
            * http/tests/security/contentSecurityPolicy/worker-blob-inherits-csp-importScripts-block-aborts-all-subsequent-imports.html:
            * http/tests/security/contentSecurityPolicy/worker-blob-inherits-csp-importScripts-redirect-cross-origin-blocked.html:
            * http/tests/security/contentSecurityPolicy/worker-blob-inherits-csp.html:
            * http/tests/security/contentSecurityPolicy/worker-script-src.html:
            * http/tests/security/isolatedWorld/bypass-main-world-csp-worker-blob-eval.html:
            * http/tests/security/isolatedWorld/bypass-main-world-csp-worker-blob-importScript-redirect-cross-origin.html:
            * http/tests/security/isolatedWorld/bypass-main-world-csp-worker-blob-xhr.html:
            * http/tests/security/isolatedWorld/bypass-main-world-csp-worker.html:

2022-03-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r290853. rdar://problem/88669147

    about:blank iframes do not always inherit parent CSP
    https://bugs.webkit.org/show_bug.cgi?id=236347
    <rdar://problem/88669147>
    
    Reviewed by Brent Fulgham.
    
    Source/WebCore:
    
    Test: http/tests/security/contentSecurityPolicy/block-eval-onload-in-nested-about-blank-iframe.html
    
    Usually we initialize CSP for window when we create a jsWindowProxy
    for that frame. In this case, we load an about:blank iframe that
    attempts to run eval() in the onload function of its own nested
    iframe. Since we never run script in frame, we don't initialize a
    jsWindowProxy and thus never propogate its CSP.
    
    This fix checks the document's CSP in FrameLoader::clear when we
    initialize a new JSGlobalObject and sets the eval value in the window
    accordingly to properly enforce CSP.
    
    * bindings/js/ScriptController.cpp:
    (WebCore::ScriptController::enableEval):
    * bindings/js/ScriptController.h:
    * loader/FrameLoader.cpp:
    (WebCore::FrameLoader::clear):
    * page/csp/ContentSecurityPolicy.h:
    (WebCore::ContentSecurityPolicy::evalErrorMessage const):
    
    LayoutTests:
    
    * http/tests/security/contentSecurityPolicy/block-eval-onload-in-nested-about-blank-iframe-expected.txt: Added.
    * http/tests/security/contentSecurityPolicy/block-eval-onload-in-nested-about-blank-iframe.html: Added
    We can't use modern js-test.js and related functions because
    js-test.js uses eval() and loading it makes the test time out when the
    eval is blocked by the document's CSP. We can't specify unsafe-eval
    because the whole point of this test is to block eval.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290853 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-04  Kate Cheney  <katherine_cheney@apple.com>

            about:blank iframes do not always inherit parent CSP
            https://bugs.webkit.org/show_bug.cgi?id=236347
            <rdar://problem/88669147>

            Reviewed by Brent Fulgham.

            * http/tests/security/contentSecurityPolicy/block-eval-onload-in-nested-about-blank-iframe-expected.txt: Added.
            * http/tests/security/contentSecurityPolicy/block-eval-onload-in-nested-about-blank-iframe.html: Added
            We can't use modern js-test.js and related functions because
            js-test.js uses eval() and loading it makes the test time out when the
            eval is blocked by the document's CSP. We can't specify unsafe-eval
            because the whole point of this test is to block eval.

2022-03-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r290812. rdar://problem/84662329

    Element with position: sticky after sticking, starts to move incorrectly when scrolling
    https://bugs.webkit.org/show_bug.cgi?id=231953
    <rdar://84662329>
    
    Reviewed by Sam Weinig.
    
    Source/WebCore:
    
    Sometimes we'd fail to push new StickyPositionViewportConstraints to the scrolling
    tree, because operator== failed to compare m_constrainingRectAtLastLayout. This breaks
    the requirement that the "last committed scroll position" for the overflow scrolling
    node has to be updated in the same commit as the "constraining-rect-at-last-layout"
    on the sticky node.
    
    Test: scrollingcoordinator/scrolling-tree/sticky-in-overflow-stale-constraints.html
    
    * page/scrolling/ScrollingConstraints.cpp:
    (WebCore::operator<<):
    * page/scrolling/ScrollingConstraints.h:
    (WebCore::StickyPositionViewportConstraints::operator== const):
    
    LayoutTests:
    
    * platform/ios-wk2/scrollingcoordinator/scrolling-tree/sticky-in-overflow-stale-constraints-expected.txt: Added.
    * scrollingcoordinator/scrolling-tree/sticky-in-overflow-stale-constraints-expected.txt: Added.
    * scrollingcoordinator/scrolling-tree/sticky-in-overflow-stale-constraints.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290812 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-03  Simon Fraser  <simon.fraser@apple.com>

            Element with position: sticky after sticking, starts to move incorrectly when scrolling
            https://bugs.webkit.org/show_bug.cgi?id=231953
            <rdar://84662329>

            Reviewed by Sam Weinig.

            * platform/ios-wk2/scrollingcoordinator/scrolling-tree/sticky-in-overflow-stale-constraints-expected.txt: Added.
            * scrollingcoordinator/scrolling-tree/sticky-in-overflow-stale-constraints-expected.txt: Added.
            * scrollingcoordinator/scrolling-tree/sticky-in-overflow-stale-constraints.html: Added.

2022-03-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r290785. rdar://problem/66568551

    nasa.gov page with fixed backgrounds paints incorrectly on scroll
    https://bugs.webkit.org/show_bug.cgi?id=237405
    <rdar://66568551>
    
    Reviewed by Antti Koivisto.
    Source/WebCore:
    
    https://www.nasa.gov/specials/artemis/ shows an issue where elements with background-attachment:fixed
    don't repaint on scroll. This page has scrollable <html> and <body>, and the elements with fixed
    backgrounds are composited, so this reveals that we fail to repaint composited children
    of an overflow scroll in this case.
    
    Fix by having RenderLayerScrollableArea::scrollTo() do repaints on slow repaint objects
    which are scrolled by the current scroller.
    
    Do some unrelated cleanup in code that I was going to use in this patch but turned out
    not to need: rename hasFixedBackgroundImage() to hasAnyFixedBackground() for clarity,
    and share the implementation with hasAnyLocalBackground().
    
    Test: fast/repaint/background-attachment-fixed-in-composited-scroll.html
    
    * rendering/RenderElement.cpp:
    (WebCore::RenderElement::styleWillChange):
    (WebCore::RenderElement::willBeDestroyed):
    * rendering/RenderLayer.cpp:
    * rendering/RenderLayerScrollableArea.cpp:
    (WebCore::RenderLayerScrollableArea::scrollTo):
    * rendering/style/FillLayer.cpp:
    (WebCore::FillLayer::hasImageWithAttachment const):
    (WebCore::FillLayer::hasFixedImage const): Deleted.
    * rendering/style/FillLayer.h:
    * rendering/style/RenderStyle.cpp:
    (WebCore::RenderStyle::hasAnyLocalBackground const): Deleted.
    * rendering/style/RenderStyle.h:
    (WebCore::RenderStyle::hasBackgroundImage const):
    (WebCore::RenderStyle::hasAnyFixedBackground const):
    (WebCore::RenderStyle::hasAnyLocalBackground const):
    (WebCore::RenderStyle::hasFixedBackgroundImage const): Deleted.
    
    LayoutTests:
    
    Repaint test which is only valid for mac-wk2 (iOS does not support background-attachment:fixed).
    
    * TestExpectations:
    * fast/repaint/background-attachment-fixed-in-composited-scroll-expected.txt: Added.
    * fast/repaint/background-attachment-fixed-in-composited-scroll.html: Added.
    * platform/mac-wk2/TestExpectations:
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290785 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-03  Simon Fraser  <simon.fraser@apple.com>

            nasa.gov page with fixed backgrounds paints incorrectly on scroll
            https://bugs.webkit.org/show_bug.cgi?id=237405
            <rdar://66568551>

            Reviewed by Antti Koivisto.

            Repaint test which is only valid for mac-wk2 (iOS does not support background-attachment:fixed).

            * TestExpectations:
            * fast/repaint/background-attachment-fixed-in-composited-scroll-expected.txt: Added.
            * fast/repaint/background-attachment-fixed-in-composited-scroll.html: Added.
            * platform/mac-wk2/TestExpectations:

2022-03-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r290778. rdar://problem/88297045

    macOS Safari 15.2 Audio Echo Issue after camera pause/unpause
    https://bugs.webkit.org/show_bug.cgi?id=235544
    <rdar://problem/88297045>
    
    Reviewed by Eric Carlson.
    
    Source/WebCore:
    
    After https://commits.webkit.org/r275600, the muted state of MediaPlayer would be set to the page muted state
    without taking into consideration HTMLMediaElement.muted.
    Update the call site to use effectiveMuted instead.
    Add internals API to write a corresponding layout test.
    
    Test: fast/mediastream/mediastreamtrack-audiovideo-mutepage.html
    
    * html/HTMLMediaElement.cpp:
    * testing/Internals.cpp:
    * testing/Internals.h:
    * testing/Internals.idl:
    
    LayoutTests:
    
    * fast/mediastream/mediastreamtrack-audiovideo-mutepage-expected.txt: Added.
    * fast/mediastream/mediastreamtrack-audiovideo-mutepage.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290778 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-03  Youenn Fablet  <youenn@apple.com>

            macOS Safari 15.2 Audio Echo Issue after camera pause/unpause
            https://bugs.webkit.org/show_bug.cgi?id=235544
            <rdar://problem/88297045>

            Reviewed by Eric Carlson.

            * fast/mediastream/mediastreamtrack-audiovideo-mutepage-expected.txt: Added.
            * fast/mediastream/mediastreamtrack-audiovideo-mutepage.html: Added.

2022-03-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r290765. rdar://problem/89232969

    Throw proper exception on failed removeEntry() calls
    https://bugs.webkit.org/show_bug.cgi?id=237382
    <rdar://89232969>
    
    Reviewed by Chris Dumez.
    
    LayoutTests/imported/w3c:
    
    * web-platform-tests/file-system-access/sandboxed_FileSystemDirectoryHandle-getDirectoryHandle.https.any-expected.txt:
    * web-platform-tests/file-system-access/sandboxed_FileSystemDirectoryHandle-getDirectoryHandle.https.any.worker-expected.txt:
    * web-platform-tests/file-system-access/sandboxed_FileSystemDirectoryHandle-getFileHandle.https.any-expected.txt:
    * web-platform-tests/file-system-access/sandboxed_FileSystemDirectoryHandle-getFileHandle.https.any.worker-expected.txt:
    * web-platform-tests/file-system-access/sandboxed_FileSystemDirectoryHandle-removeEntry.https.any-expected.txt:
    * web-platform-tests/file-system-access/sandboxed_FileSystemDirectoryHandle-removeEntry.https.any.worker-expected.txt:
    
    Source/WebKit:
    
    Updated existing tests.
    
    * NetworkProcess/storage/FileSystemStorageError.h:
    (WebKit::convertToException):
    * NetworkProcess/storage/FileSystemStorageHandle.cpp:
    (WebKit::FileSystemStorageHandle::removeEntry):
    
    LayoutTests:
    
    * storage/filesystemaccess/handle-move-expected.txt:
    * storage/filesystemaccess/handle-move-worker-expected.txt:
    * storage/filesystemaccess/resources/handle-move.js:
    (async test):
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290765 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-02  Sihui Liu  <sihui_liu@apple.com>

            Throw proper exception on failed removeEntry() calls
            https://bugs.webkit.org/show_bug.cgi?id=237382
            <rdar://89232969>

            Reviewed by Chris Dumez.

            * storage/filesystemaccess/handle-move-expected.txt:
            * storage/filesystemaccess/handle-move-worker-expected.txt:
            * storage/filesystemaccess/resources/handle-move.js:
            (async test):

2022-03-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r290706. rdar://problem/89566459

    REGRESSION(r285232) https://alvaromontoro.github.io/almond.css/demo/ looks wrong in Safari, ok in Chrome and Firefox
    https://bugs.webkit.org/show_bug.cgi?id=237276
    <rdar://problem/89566459>
    
    Reviewed by Simon Fraser.
    
    Source/WebCore:
    
    r285232 introduced the isFixed() check as a resolvable preferred width type, but percent values are also resolvable as
    block layout gets the horizontal constraint from the containing block chain (unlike the height percent values) -i.e. 'width: 50%' can be resolved during preferred width computation.
    
    Test: fast/css-grid-layout/ascpect-ratio-with-percent-width.html
    
    * rendering/RenderBlock.cpp:
    (WebCore::RenderBlock::availableLogicalHeightForPercentageComputation const):
    
    LayoutTests:
    
    * fast/css-grid-layout/ascpect-ratio-with-percent-width-expected.html: Added.
    * fast/css-grid-layout/ascpect-ratio-with-percent-width.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290706 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-01  Alan Bujtas  <zalan@apple.com>

            REGRESSION(r285232) https://alvaromontoro.github.io/almond.css/demo/ looks wrong in Safari, ok in Chrome and Firefox
            https://bugs.webkit.org/show_bug.cgi?id=237276
            <rdar://problem/89566459>

            Reviewed by Simon Fraser.

            * fast/css-grid-layout/ascpect-ratio-with-percent-width-expected.html: Added.
            * fast/css-grid-layout/ascpect-ratio-with-percent-width.html: Added.

2022-03-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r290606. rdar://problem/89482882

    [macOS] Unable to upload ".pages" files to file inputs accepting ".pages" and ".jpeg" files
    https://bugs.webkit.org/show_bug.cgi?id=237219
    rdar://89482882
    
    Reviewed by Tim Horton and Said Abou-Hallawa.
    
    Source/WebCore:
    
    In r264286, WebKit began transcoding images of an unsupported format
    to a supported format, for file inputs that accepted image types. For
    example, selecting a HEIF image in an input that accepts JPEG images
    would transcode the selected image to a JPEG image.
    
    In order to determine when attempt transcoding, the logic added in
    r264286 obtains the MIME type corresponding to the selected file's
    extension, and compares that to the list of accepted MIME types.
    If there is a mismatch, transcoding is attempted.
    
    The ".pages" extension does not have a well-defined MIME type in
    NSURLFileTypeMappings. This is due to the fact that a the extension
    maps to both a file and a package type. Consequently, the retrieved
    MIME type for ".pages" files is an empty string. Following r227051,
    when the file input also accepts an image type, WebKit attempts to
    transcode these files, and any others that do not have a well-defined
    MIME type.
    
    While the aforementioned behavior can be considered strange, it is not
    an issue in practice, since WebKit will attempt to transcode the
    image, fail to do so, and upload the original file. The failure is
    detected in CGImageDestinationFinalize, which returns false if an image
    was not successfully written. However, a recent regression in the
    ImageIO framework is causing CGImageDestinationFinalize to return true,
    even if image transcoding fails. This results in WebKit uploading a
    zero byte JPEG file, when a user attempts to upload ".pages" files to
    file inputs accepting ".pages" and ".jpeg" files.
    
    Ideally, the described issue would be resolved by a fix in ImageIO.
    However, a more immediate solution exists in WebKit: only attempt to
    transcode files to an accepted image type, if the file selected is
    image. ".pages" files are not images, and WebKit should not attempt
    to transcode them. See below for further explanation of the solution.
    
    Test: fast/forms/file/entries-api/pages-jpeg-open-panel.html
    
    * platform/graphics/cg/ImageUtilitiesCG.cpp:
    (WebCore::transcodeImage):
    
    Prior to using ImageIO to perform transcoding, WebKit obtains a Uniform
    Type Identifier for the selected file using CGImageSourceCreateWithURL
    and CGImageSourceGetType. If the file is not an image, a null string is
    returned. WebKit can use this information to avoid the transcoding
    attempt, and avoid calls to ImageIO methods further down this method.
    Specifically, this solution works around the ImageIO bug by avoiding
    the call to CGImageDestinationFinalize for non-images. The solution is
    also an overall improvement, as WebKit now avoids unnecessary calls to
    multiple ImageIO methods, in cases where we know transcoding will fail.
    
    LayoutTests:
    
    Add a layout test that contains a file input that accepts ".pages" and
    ".jpeg" files, and attempts to upload a ".pages" file.
    
    * TestExpectations:
    * fast/forms/file/entries-api/pages-jpeg-open-panel-expected.txt: Added.
    * fast/forms/file/entries-api/pages-jpeg-open-panel.html: Added.
    * fast/forms/file/entries-api/pdf-jpeg-open-panel-expected.txt: Added.
    * fast/forms/file/entries-api/pdf-jpeg-open-panel.html: Added.
    * fast/forms/file/entries-api/resources/documents/document.pages: Added.
    * fast/forms/file/entries-api/resources/documents/document.pdf: Added.
    * platform/mac-wk2/TestExpectations:
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290606 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-28  Aditya Keerthi  <akeerthi@apple.com>

            [macOS] Unable to upload ".pages" files to file inputs accepting ".pages" and ".jpeg" files
            https://bugs.webkit.org/show_bug.cgi?id=237219
            rdar://89482882

            Reviewed by Tim Horton and Said Abou-Hallawa.

            Add a layout test that contains a file input that accepts ".pages" and
            ".jpeg" files, and attempts to upload a ".pages" file.

            * TestExpectations:
            * fast/forms/file/entries-api/pages-jpeg-open-panel-expected.txt: Added.
            * fast/forms/file/entries-api/pages-jpeg-open-panel.html: Added.
            * fast/forms/file/entries-api/pdf-jpeg-open-panel-expected.txt: Added.
            * fast/forms/file/entries-api/pdf-jpeg-open-panel.html: Added.
            * fast/forms/file/entries-api/resources/documents/document.pages: Added.
            * fast/forms/file/entries-api/resources/documents/document.pdf: Added.
            * platform/mac-wk2/TestExpectations:

2022-03-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r290559. rdar://problem/89510628

    Optimize StyleSharingResolver inert checks
    https://bugs.webkit.org/show_bug.cgi?id=237235
    
    Reviewed by Youenn Fablet.
    
    Source/WebCore:
    
    inert is an boolean attribute, the only thing that matters for the StyleAdjuster
    inertness adjustment is the presence of the attribute, not its value. E.g.
    `inert=false` is the same as `inert=inert` or `inert=true`.
    
    This saves getting and comparing values for those attributes, and also allows
    `inert=inert` and `inert=true` or `inert=false` to start sharing style.
    
    * style/StyleSharingResolver.cpp:
    (WebCore::Style::SharingResolver::canShareStyleWithElement const):
    
    LayoutTests:
    
    Add small test that style sharing is not wrongly applied.
    
    * fast/css/inert-style-sharing-expected.html: Added.
    * fast/css/inert-style-sharing.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290559 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-27  Tim Nguyen  <ntim@apple.com>

            Optimize StyleSharingResolver inert checks
            https://bugs.webkit.org/show_bug.cgi?id=237235

            Reviewed by Youenn Fablet.

            Add small test that style sharing is not wrongly applied.

            * fast/css/inert-style-sharing-expected.html: Added.
            * fast/css/inert-style-sharing.html: Added.

2022-03-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r290554. rdar://problem/83757966

    Remove Node::deprecatedIsInert
    https://bugs.webkit.org/show_bug.cgi?id=230845
    
    Reviewed by Antti Koivisto.
    
    LayoutTests/imported/w3c:
    
    This change unfortunately regresses focusability state when dynamically setting inert, due to a cached
    computed style invalidation bug. This is minor in practice, since focusability usually gets queried in
    user-initiated ways, when style already has fully been updated.
    
    However, making this change will improve performance by avoiding a full DOM ancestor walk when there
    is no inert attribute on the page, since we will only check a style bit after this patch.
    
    * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/remove-dialog-should-unblock-document-expected.txt:
    * web-platform-tests/inert/inert-canvas-fallback-content.tentative-expected.txt:
    * web-platform-tests/inert/inert-node-is-unfocusable.tentative-expected.txt:
    
    Source/WebCore:
    
    This change unfortunately regresses focusability state when dynamically setting inert, due to a cached
    computed style invalidation bug. This is minor in practice, since focusability usually gets queried in
    user-initiated ways, when style already has fully been updated.
    
    However, making this change will improve performance by avoiding a full DOM ancestor walk when there
    is no inert attribute on the page, since we will only check a style bit after this patch.
    
    * dom/Element.cpp:
    (WebCore::Element::isFocusable const):
    (WebCore::Element::isFocusableWithoutResolvingFullStyle const):
    (WebCore::Element::isVisibleWithoutResolvingFullStyle const): Deleted.
    * dom/Element.h:
    * dom/Node.cpp:
    (WebCore::Node::deprecatedIsInert const): Deleted.
    * dom/Node.h:
    * html/HTMLAreaElement.cpp:
    (WebCore::HTMLAreaElement::isFocusable const):
    
    LayoutTests:
    
    * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-focusing-steps-inert-expected.txt: Added.
    * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-showModal-expected.txt: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290554 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-26  Tim Nguyen  <ntim@apple.com>

            Remove Node::deprecatedIsInert
            https://bugs.webkit.org/show_bug.cgi?id=230845

            Reviewed by Antti Koivisto.

            * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-focusing-steps-inert-expected.txt: Added.
            * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-showModal-expected.txt: Added.

2022-03-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r290430. rdar://problem/87713597

    RELEASE_ASSERT(!renderer()); in WebCore::Node::~Node() + 479 (Node.cpp:366)
    https://bugs.webkit.org/show_bug.cgi?id=235380
    
    Patch by Frédéric Wang <fwang@igalia.com> on 2022-02-24
    Reviewed by Ryosuke Niwa.
    
    Source/WebCore:
    
    RenderTreeUpdater::tearDownRenderers() browse the composed tree to tear down descendants.
    However, element with a shadow root are handled specially in
    ComposedTreeIterator::ComposedTreeIterator(), they have to be handled specially by calling
    a tearDownLeftoverShadowHostChildren(). This patch does the same for slot elements which
    are also handled specially in ComposedTreeIterator(). It also makes names within
    tearDownLeftoverShadowHostChildren() more generic. This in particular fixes a release assert
    when a slot with pseudo elements children is torn down.
    
    Test: fast/shadow-dom/slot-with-pseudo-element-children-renderer-teardown.html
    
    * rendering/updating/RenderTreeUpdater.cpp:
    (WebCore::RenderTreeUpdater::tearDownRenderers): Also call tearDownLeftoverShadowHostChildren
    for a slot element and add a comment pointing to the method corresponding to these special
    cases.
    (WebCore::RenderTreeUpdater::tearDownLeftoverChildrenOfComposedTree): Renamed to remove "shadow host".
    * rendering/updating/RenderTreeUpdater.h: Ditto.
    
    LayoutTests:
    
    Add non-regression test.
    
    * fast/shadow-dom/slot-with-pseudo-element-children-renderer-teardown-expected.txt: Added.
    * fast/shadow-dom/slot-with-pseudo-element-children-renderer-teardown.html: Added.
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290430 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-24  Frédéric Wang  <fwang@igalia.com>

            RELEASE_ASSERT(!renderer()); in WebCore::Node::~Node() + 479 (Node.cpp:366)
            https://bugs.webkit.org/show_bug.cgi?id=235380

            Reviewed by Ryosuke Niwa.

            Add non-regression test.

            * fast/shadow-dom/slot-with-pseudo-element-children-renderer-teardown-expected.txt: Added.
            * fast/shadow-dom/slot-with-pseudo-element-children-renderer-teardown.html: Added.

2022-03-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r290385. rdar://problem/70464703

    [Subpixel] imported/w3c/web-platform-tests/css/css-flexbox/auto-margins-001.html fails at certain font sizes
    https://bugs.webkit.org/show_bug.cgi?id=217643
    <rdar://problem/70464703>
    
    Unreviewed gardening.
    
    
    * platform/ios-simulator-wk2/TestExpectations: It must have progressed at some point.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290385 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-23  Alan Bujtas  <zalan@apple.com>

            [Subpixel] imported/w3c/web-platform-tests/css/css-flexbox/auto-margins-001.html fails at certain font sizes
            https://bugs.webkit.org/show_bug.cgi?id=217643
            <rdar://problem/70464703>

            Unreviewed gardening.

            * platform/ios-simulator-wk2/TestExpectations: It must have progressed at some point.

2022-03-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r290356. rdar://problem/85765536

    Crash when calling WEBGL_lose_context.loseContext() after the context has been lost
    https://bugs.webkit.org/show_bug.cgi?id=236966
    
    Patch by Kimmo Kinnunen <kkinnunen@apple.com> on 2022-02-23
    Reviewed by Dean Jackson.
    
    Source/WebCore:
    
    WebGLRenderingContextBase::forceLostContext() would
    try to synthesize a GL error to the underlying
    m_context. However, m_context is cleared when a real
    context loss happens. This happens for example when we
    simulate a GPU status failure or when we create too
    many contexts. The m_context is not currently cleared
    when the page simulates context lost via WEBGL_lose_contexts.loseContext().
    
    Test: webgl/lose-context-after-context-lost.html
    
    * html/canvas/WebGLRenderingContextBase.cpp:
    (WebCore::WebGLRenderingContextBase::synthesizeGLError):
    
    LayoutTests:
    
    * webgl/lose-context-after-context-lost-expected.txt: Added.
    * webgl/lose-context-after-context-lost.html: Added.
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290356 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-23  Kimmo Kinnunen  <kkinnunen@apple.com>

            Crash when calling WEBGL_lose_context.loseContext() after the context has been lost
            https://bugs.webkit.org/show_bug.cgi?id=236966

            Reviewed by Dean Jackson.

            * webgl/lose-context-after-context-lost-expected.txt: Added.
            * webgl/lose-context-after-context-lost.html: Added.

2022-03-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r290306. rdar://problem/88352589

    Make pointer-events checks for SVG take in account inert subtrees
    https://bugs.webkit.org/show_bug.cgi?id=235836
    
    Reviewed by Antti Koivisto.
    
    LayoutTests/imported/w3c:
    
    Added tests for both inert attribute & modal dialog cases.
    
    * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/inert-svg-hittest-expected.txt: Added.
    * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/inert-svg-hittest.html: Added.
    * web-platform-tests/inert/inert-svg-hittest.tentative-expected.txt: Added.
    * web-platform-tests/inert/inert-svg-hittest.tentative.html: Added.
    
    Source/WebCore:
    
    Re-using visibleToHitTesting in SVG code isn't possible, because visibleToHitTesting removes visibility: hidden;
    content from hit-testing, which we do not want to here, since pointer-events has values for SVG which still
    allow clicking content regardless of their visibility value (pointer-events: painted/fill/stroke/all).
    
    Instead, we add an inert-aware effectivePointerEvents, similar to effectiveUserSelect and re-use that across the codebase.
    
    Tests: imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/inert-svg-hittest.html
           imported/w3c/web-platform-tests/inert/inert-svg-hittest.tentative.html
    
    * rendering/RenderElement.cpp:
    (WebCore::RenderElement::styleWillChange):
    * rendering/RenderElement.h:
    (WebCore::RenderElement::visibleToHitTesting const):
    * rendering/RenderLayerCompositor.cpp:
    (WebCore::RenderLayerCompositor::layerStyleChanged):
    * rendering/style/RenderStyle.h:
    (WebCore::RenderStyle::effectivePointerEvents const):
    * rendering/svg/LegacyRenderSVGModelObject.cpp:
    (WebCore::LegacyRenderSVGModelObject::checkIntersection):
    (WebCore::LegacyRenderSVGModelObject::checkEnclosure):
    * rendering/svg/LegacyRenderSVGShape.cpp:
    (WebCore::LegacyRenderSVGShape::nodeAtFloatPoint):
    * rendering/svg/RenderSVGImage.cpp:
    (WebCore::RenderSVGImage::nodeAtFloatPoint):
    * rendering/svg/RenderSVGModelObject.cpp:
    (WebCore::RenderSVGModelObject::checkIntersection):
    (WebCore::RenderSVGModelObject::checkEnclosure):
    * rendering/svg/RenderSVGShape.cpp:
    (WebCore::RenderSVGShape::nodeAtPoint):
    * rendering/svg/RenderSVGText.cpp:
    (WebCore::RenderSVGText::nodeAtFloatPoint):
    * rendering/svg/SVGInlineTextBox.cpp:
    (WebCore::SVGInlineTextBox::nodeAtPoint):
    
    LayoutTests:
    
    iOS doesn't support test_actions, so it needs different baselines.
    
    * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/inert-svg-hittest-expected.txt: Added.
    * platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-svg-hittest.tentative-expected.txt: Added.
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290306 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-22  Tim Nguyen  <ntim@apple.com>

            Make pointer-events checks for SVG take in account inert subtrees
            https://bugs.webkit.org/show_bug.cgi?id=235836

            Reviewed by Antti Koivisto.

            iOS doesn't support test_actions, so it needs different baselines.

            * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/inert-svg-hittest-expected.txt: Added.
            * platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-svg-hittest.tentative-expected.txt: Added.

2022-03-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r290164. rdar://problem/89162532

    Re-import inert and <dialog> WPT
    https://bugs.webkit.org/show_bug.cgi?id=236808
    
    Reviewed by Simon Fraser.
    
    Commit: https://github.com/web-platform-tests/wpt/commit/0d483a3bea340a2c60cb7a4add49eb63cbba2a64
    
    LayoutTests/imported/w3c:
    
    * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-focus-shadow-double-nested-expected.txt: Renamed from LayoutTests/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-focus-shadow-delegatesfocus-expected.txt.
    * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-focus-shadow-double-nested.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-focus-shadow-delegatesfocus.html.
    * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-focus-shadow-expected.txt:
    * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-focus-shadow.html:
    * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/inert-focus-in-frames-expected.txt:
    * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/inert-focus-in-frames.html:
    * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/inert-label-focus.html:
    * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/inertness-with-modal-dialogs-and-iframes-expected.txt:
    * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/inertness-with-modal-dialogs-and-iframes.html:
    * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/modal-dialog-scroll-height.html:
    * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/w3c-import.log:
    * web-platform-tests/inert/dynamic-inert-on-focused-element.tentative-expected.txt: Added.
    * web-platform-tests/inert/dynamic-inert-on-focused-element.tentative.html: Added.
    * web-platform-tests/inert/inert-canvas-fallback-content.tentative-expected.txt: Added.
    * web-platform-tests/inert/inert-canvas-fallback-content.tentative.html: Added.
    * web-platform-tests/inert/inert-iframe-hittest.tentative-expected.txt: Added.
    * web-platform-tests/inert/inert-iframe-hittest.tentative.html: Added.
    * web-platform-tests/inert/inert-iframe-tabbing.tentative-expected.txt: Added.
    * web-platform-tests/inert/inert-iframe-tabbing.tentative.html: Added.
    * web-platform-tests/inert/inert-node-is-uneditable.tentative.html:
    * web-platform-tests/inert/inert-with-modal-dialog-001.tentative-expected.txt: Added.
    * web-platform-tests/inert/inert-with-modal-dialog-001.tentative.html: Added.
    * web-platform-tests/inert/inert-with-modal-dialog-002.tentative-expected.txt: Added.
    * web-platform-tests/inert/inert-with-modal-dialog-002.tentative.html: Added.
    * web-platform-tests/inert/w3c-import.log:
    
    LayoutTests:
    
    * platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-iframe-hittest.tentative-expected.txt: Added.
    * platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-iframe-tabbing.tentative-expected.txt: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290164 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-18  Tim Nguyen  <ntim@apple.com>

            Re-import inert and <dialog> WPT
            https://bugs.webkit.org/show_bug.cgi?id=236808

            Reviewed by Simon Fraser.

            Commit: https://github.com/web-platform-tests/wpt/commit/0d483a3bea340a2c60cb7a4add49eb63cbba2a64

            * platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-iframe-hittest.tentative-expected.txt: Added.
            * platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-iframe-tabbing.tentative-expected.txt: Added.

2022-03-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r289700. rdar://problem/85249360

    WebGL2 AllowShared TypedArray should be accepted
    https://bugs.webkit.org/show_bug.cgi?id=232662
    
    Reviewed by Dean Jackson.
    
    Source/WebCore:
    
    Test: webgl/webgl-allow-shared-typed-array.html
    
    TypedArray with [AllowShared] annotation is not handled properly, which results in handling it as Sequence<T>,
    invoking iteration protocol to copy them. This patch adds that as the same to [AllowShared] ArrayBuffer / ArrayBufferView.
    
    * bindings/IDLTypes.h:
    * bindings/js/JSDOMConvertUnion.h:
    
    LayoutTests:
    
    * webgl/webgl-allow-shared-typed-array-expected.txt: Added.
    * webgl/webgl-allow-shared-typed-array.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@289700 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-12  Yusuke Suzuki  <ysuzuki@apple.com>

            WebGL2 AllowShared TypedArray should be accepted
            https://bugs.webkit.org/show_bug.cgi?id=232662

            Reviewed by Dean Jackson.

            * webgl/webgl-allow-shared-typed-array-expected.txt: Added.
            * webgl/webgl-allow-shared-typed-array.html: Added.

2022-03-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r289533. rdar://problem/88452971

    Settling of a fetch promise should be delayed in case page is entering page cache
    https://bugs.webkit.org/show_bug.cgi?id=236292
    <rdar://88452971>
    
    Reviewed by Chris Dumez.
    
    Source/WebCore:
    
    Make sure to enqueue a task before resolving fetch promise as otherwise, page might continue running JavaScript.
    Do this for worker as well for good measure.
    We move signal aborted checks to two clients to handle rejecting fetch promise synchronously.
    
    Test: http/tests/navigation/fetch-pagecache.html
    
    * Modules/cache/DOMCache.cpp:
    * Modules/fetch/FetchResponse.cpp:
    * Modules/fetch/FetchResponse.h:
    * Modules/fetch/WindowOrWorkerGlobalScopeFetch.cpp:
    * workers/service/FetchEvent.cpp:
    
    LayoutTests:
    
    * http/tests/navigation/fetch-pagecache-expected.txt: Added.
    * http/tests/navigation/fetch-pagecache.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@289533 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-10  Youenn Fablet  <youenn@apple.com>

            Settling of a fetch promise should be delayed in case page is entering page cache
            https://bugs.webkit.org/show_bug.cgi?id=236292
            <rdar://88452971>

            Reviewed by Chris Dumez.

            * http/tests/navigation/fetch-pagecache-expected.txt: Added.
            * http/tests/navigation/fetch-pagecache.html: Added.

2022-03-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r289121. rdar://problem/88492251

    Fix App Privacy Report redirect attribution
    https://bugs.webkit.org/show_bug.cgi?id=236111
    
    Reviewed by Brent Fulgham.
    
    Source/WebCore:
    
    Test: http/tests/app-privacy-report/user-attribution-redirect.html
    Test: http/tests/app-privacy-report/app-attribution-redirect.html
    
    * platform/network/cf/ResourceRequestCFNet.cpp:
    (WebCore::ResourceRequest::updateFromDelegatePreservingOldProperties):
    
    Source/WebKit:
    
    * NetworkProcess/cocoa/NetworkSessionCocoa.mm:
    (-[WKNetworkSessionDelegate URLSession:task:willPerformHTTPRedirection:newRequest:completionHandler:]):
    
    LayoutTests:
    
    * http/tests/app-privacy-report/resources/redirect.js: Added.
    * http/tests/app-privacy-report/app-attribution-redirect-expected.txt: Added.
    * http/tests/app-privacy-report/app-attribution-redirect.html: Added.
    * http/tests/app-privacy-report/user-attribution-redirect-expected.txt: Added.
    * http/tests/app-privacy-report/user-attribution-redirect.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@289121 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-04  Kate Cheney  <katherine_cheney@apple.com>

            Fix App Privacy Report redirect attribution
            https://bugs.webkit.org/show_bug.cgi?id=236111

            Reviewed by Brent Fulgham.

            * http/tests/app-privacy-report/resources/redirect.js: Added.
            * http/tests/app-privacy-report/app-attribution-redirect-expected.txt: Added.
            * http/tests/app-privacy-report/app-attribution-redirect.html: Added.
            * http/tests/app-privacy-report/user-attribution-redirect-expected.txt: Added.
            * http/tests/app-privacy-report/user-attribution-redirect.html: Added.

2022-03-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r289101. rdar://problem/87625596

    Two bopomofo tone marks are not moved to the correct place in vertical text with a particular bopomofo font
    https://bugs.webkit.org/show_bug.cgi?id=235257
    <rdar://problem/87625596>
    
    Reviewed by Darin Adler.
    
    .:
    
    Thank you so much to Bobby Tung and But Ko for reporting this bug and providing a test font for it!!!
    
    * metadata/contributors.json:
    
    Source/WebCore:
    
    Turns out one of our character data tables was missing some characters.
    
    I really dislike these kinds of fixes, because it's just perpetuating the fact that WebKit has big tables of characters
    in its source code. A long-term fix would be a systemic replacement of this entire table with either Unicode property
    lookup, or more ideally, removing the need for it in the first place. Unfortunately, at this point in the release cycle,
    this fix probably needs to be smaller and more targetted.
    
    Tests: fast/text/bopomofo-tone-marks-2.html
           fast/text/bopomofo-tone-marks.html
    
    * platform/graphics/FontCascade.cpp:
    (WebCore::FontCascade::isCJKIdeographOrSymbol):
    
    LayoutTests:
    
    This can't be a WPT test because we only have permission to add the test font to the WebKit repository.
    
    Thank you so much to Bobby Tung and But Ko for reporting this bug and providing a test font for it!!!
    
    * fast/text/bopomofo-tone-marks-2-expected-mismatch.html: Added.
    * fast/text/bopomofo-tone-marks-2.html: Added.
    * fast/text/bopomofo-tone-marks-expected-mismatch.html: Added.
    * fast/text/bopomofo-tone-marks.html: Added.
    * fast/text/resources/BopomofoGposSubset-Regular/BopomofoGposSubset-Regular.ttf: Added.
    * fast/text/resources/BopomofoGposSubset-Regular/LICENSE: Added.
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@289101 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-03  Myles C. Maxfield  <mmaxfield@apple.com>

            Two bopomofo tone marks are not moved to the correct place in vertical text with a particular bopomofo font
            https://bugs.webkit.org/show_bug.cgi?id=235257
            <rdar://problem/87625596>

            Reviewed by Darin Adler.

            This can't be a WPT test because we only have permission to add the test font to the WebKit repository.

            Thank you so much to Bobby Tung and But Ko for reporting this bug and providing a test font for it!!!

            * fast/text/bopomofo-tone-marks-2-expected-mismatch.html: Added.
            * fast/text/bopomofo-tone-marks-2.html: Added.
            * fast/text/bopomofo-tone-marks-expected-mismatch.html: Added.
            * fast/text/bopomofo-tone-marks.html: Added.
            * fast/text/resources/BopomofoGposSubset-Regular/BopomofoGposSubset-Regular.ttf: Added.
            * fast/text/resources/BopomofoGposSubset-Regular/LICENSE: Added.

2022-03-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r287898. rdar://problem/86035420

    Rewrite touch and drag tests to be more robust.
    https://bugs.webkit.org/show_bug.cgi?id=235057
    rdar://86035420
    
    Reviewed by Wenson Hsieh.
    
    Rewrite the touch-and-drag tests to check for selection changes, not specific text selections.
    Specific selections and subject to small changes in font and layout, and all that is actually important is that
    there have been selection changes based off of dragged touches.
    The touch-event-radius test has been updated to use the screen size directly, since the radius is scaled by the screen size
    internally. The output has been changed to not need to be updated when the test phone changes.
    
    * fast/events/touch/ios/double-tap-on-editable-content-for-selection-then-drag-down-to-change-selected-text-expected.txt:
    * fast/events/touch/ios/double-tap-on-editable-content-for-selection-then-drag-down-to-change-selected-text.html:
    * fast/events/touch/ios/double-tap-on-editable-content-for-selection-then-drag-up-to-change-selected-text-expected.txt:
    * fast/events/touch/ios/double-tap-on-editable-content-for-selection-then-drag-up-to-change-selected-text.html:
    * fast/events/touch/ios/long-press-on-editable-content-then-drag-up-to-change-selected-text.html:
    * fast/events/touch/ios/long-press-then-drag-down-to-change-selected-text-expected.txt:
    * fast/events/touch/ios/long-press-then-drag-down-to-change-selected-text.html:
    * fast/events/touch/ios/long-press-then-drag-to-select-text-expected.txt:
    * fast/events/touch/ios/long-press-then-drag-to-select-text.html:
    * fast/events/touch/ios/long-press-then-drag-up-to-change-selected-text-expected.txt:
    * fast/events/touch/ios/long-press-then-drag-up-to-change-selected-text.html:
    * fast/events/touch/ios/touch-event-radius-expected.txt:
    * fast/events/touch/ios/touch-event-radius.html:
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@287898 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-11  Megan Gardner  <megan_gardner@apple.com>

            Rewrite touch and drag tests to be more robust.
            https://bugs.webkit.org/show_bug.cgi?id=235057
            rdar://86035420

            Reviewed by Wenson Hsieh.

            Rewrite the touch-and-drag tests to check for selection changes, not specific text selections.
            Specific selections and subject to small changes in font and layout, and all that is actually important is that
            there have been selection changes based off of dragged touches.
            The touch-event-radius test has been updated to use the screen size directly, since the radius is scaled by the screen size
            internally. The output has been changed to not need to be updated when the test phone changes.

            * fast/events/touch/ios/double-tap-on-editable-content-for-selection-then-drag-down-to-change-selected-text-expected.txt:
            * fast/events/touch/ios/double-tap-on-editable-content-for-selection-then-drag-down-to-change-selected-text.html:
            * fast/events/touch/ios/double-tap-on-editable-content-for-selection-then-drag-up-to-change-selected-text-expected.txt:
            * fast/events/touch/ios/double-tap-on-editable-content-for-selection-then-drag-up-to-change-selected-text.html:
            * fast/events/touch/ios/long-press-on-editable-content-then-drag-up-to-change-selected-text.html:
            * fast/events/touch/ios/long-press-then-drag-down-to-change-selected-text-expected.txt:
            * fast/events/touch/ios/long-press-then-drag-down-to-change-selected-text.html:
            * fast/events/touch/ios/long-press-then-drag-to-select-text-expected.txt:
            * fast/events/touch/ios/long-press-then-drag-to-select-text.html:
            * fast/events/touch/ios/long-press-then-drag-up-to-change-selected-text-expected.txt:
            * fast/events/touch/ios/long-press-then-drag-up-to-change-selected-text.html:
            * fast/events/touch/ios/touch-event-radius-expected.txt:
            * fast/events/touch/ios/touch-event-radius.html:

2022-03-01  Russell Epstein  <repstein@apple.com>

        Revert r289282. rdar://problem/88876661

2022-03-01  Russell Epstein  <repstein@apple.com>

        Cherry-pick r290087. rdar://problem/88713302

    Source/ThirdParty/ANGLE:
    Metal ANGLE: vertex array does not correctly observe contents of data buffers
    https://bugs.webkit.org/show_bug.cgi?id=236733
    <rdar://problem/88713302>
    <rdar://problem/88499073>
    
    Patch by Kyle Piddington <kpiddington@apple.com> on 2022-02-17
    Reviewed by Dean Jackson.
    
    Similar to previous bug (236427), we were not correctly observing changes to the
    vertex buffer data. This caused us to miss rebinding vertex buffers
    when data was updated without causing conversion
    
    * src/libANGLE/renderer/metal/VertexArrayMtl.h:
    * src/libANGLE/renderer/metal/VertexArrayMtl.mm:
    (rx::VertexArrayMtl::syncState):
    (rx::VertexArrayMtl::setupDraw):
    (rx::VertexArrayMtl::syncDirtyAttrib):
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290087 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-03-01  Russell Epstein  <repstein@apple.com>

            Cherry-pick r290512. rdar://problem/86582214

        [Tables] Incorrect table sizing when colgroup comes after tbody
        https://bugs.webkit.org/show_bug.cgi?id=237205
        <rdar://86582214>

        Reviewed by Antti Koivisto.

        Source/WebCore:

        Let's use the colgroup for table sizing even when it comes after any thead, tbody, tfoot, and tr elements.
        This makes WebKit match other rendering engines (see https://src.chromium.org/viewvc/blink?revision=159442&view=revision)

        Test: fast/table/table-sizing-fails-when-colgroup-comes-after-content.html

        * rendering/RenderTable.cpp:
        (WebCore::RenderTable::firstColumn const):
        * rendering/RenderTableCol.cpp:
        (WebCore::RenderTableCol::nextColumn const):

        LayoutTests:

        * fast/table/table-sizing-fails-when-colgroup-comes-after-content-expected.html: Added.
        * fast/table/table-sizing-fails-when-colgroup-comes-after-content.html: Added.
        * platform/mac/tables/mozilla_expected_failures/dom/appendCol1-expected.txt: Progression.
2022-02-17  Kyle Piddington  <kpiddington@apple.com>

        Metal ANGLE: vertex array does not correctly observe contents of data buffers
        https://bugs.webkit.org/show_bug.cgi?id=236733
        <rdar://problem/88713302>
        <rdar://problem/88499073>

        Reviewed by Dean Jackson.

        Similar to previous bug (236427), we were not correctly observing changes to the
        vertex buffer data. This caused us to miss rebinding vertex buffers
        when data was updated without causing conversion

        * fast/canvas/webgl/buffer-data-subdata-dynamic-buffer.html: Added.
        * fast/canvas/webgl/buffer-data-subdata-dynamic-buffer-expected.txt: Added.

    * platform/mac/tables/mozilla_expected_failures/dom/appendColGroup1-expected.txt: Progression.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290512 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-25  Alan Bujtas  <zalan@apple.com>

            [Tables] Incorrect table sizing when colgroup comes after tbody
            https://bugs.webkit.org/show_bug.cgi?id=237205
            <rdar://86582214>

            Reviewed by Antti Koivisto.

            * fast/table/table-sizing-fails-when-colgroup-comes-after-content-expected.html: Added.
            * fast/table/table-sizing-fails-when-colgroup-comes-after-content.html: Added.
            * platform/mac/tables/mozilla_expected_failures/dom/appendCol1-expected.txt: Progression.
            * platform/mac/tables/mozilla_expected_failures/dom/appendColGroup1-expected.txt: Progression.

2022-03-01  Russell Epstein  <repstein@apple.com>

        Cherry-pick r290156. rdar://problem/89154452

    ServiceWorkerGlobalScope+PushAPI requires PushAPIEnabled
    https://bugs.webkit.org/show_bug.cgi?id=236846
    
    Patch by Sam Sneddon <gsnedders@apple.com> on 2022-02-18
    Reviewed by Chris Dumez.
    
    Source/WebCore:
    
    Tests: http/wpt/push-api/onpush-disabled.html
           http/wpt/push-api/onpush-enabled.html
    
    * Modules/push-api/ServiceWorkerGlobalScope+PushAPI.idl:
    
    LayoutTests:
    
    * http/wpt/push-api/onpush-disabled-expected.txt: Added.
    * http/wpt/push-api/onpush-disabled.html: Added.
    * http/wpt/push-api/onpush-disabled.js: Added.
    (test):
    * http/wpt/push-api/onpush-enabled-expected.txt: Added.
    * http/wpt/push-api/onpush-enabled.html: Added.
    * http/wpt/push-api/onpush-enabled.js: Added.
    (test):
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@290156 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-18  Sam Sneddon  <gsnedders@apple.com>

            ServiceWorkerGlobalScope+PushAPI requires PushAPIEnabled
            https://bugs.webkit.org/show_bug.cgi?id=236846

            Reviewed by Chris Dumez.

            * http/wpt/push-api/onpush-disabled-expected.txt: Added.
            * http/wpt/push-api/onpush-disabled.html: Added.
            * http/wpt/push-api/onpush-disabled.js: Added.
            (test):
            * http/wpt/push-api/onpush-enabled-expected.txt: Added.
            * http/wpt/push-api/onpush-enabled.html: Added.
            * http/wpt/push-api/onpush-enabled.js: Added.
            (test):

2022-03-01  Russell Epstein  <repstein@apple.com>

        Cherry-pick r289995. rdar://problem/87462825

    REGRESSION(r285885) Unable to exit Trip Details in Amtrak app
    https://bugs.webkit.org/show_bug.cgi?id=236732
    <rdar://87462825>
    
    Reviewed by Simon Fraser.
    
    Source/WebCore:
    
    Starting from r285885 an (effective)”overflow: clip” value is set on any block box with “contain: paint”.
    It is supposed to ensure we don’t paint outside of the box’s border box (note that "contain: paint", as the name implies, should only affect painting).
    
    However this effective value trickles in to layout affecting certain layout constraints.
    In case of flex, it makes the flex layout think that the box is really a clipped box and it starts flexing it accordingly producing incorrect size.
    What it means is that the minimum preferred size ends up being 0px because now with "let's clip all the overflow content"
    0px is indeed the smallest size a box could take that does not produce overflow (while with the initial, “overflow: visible” value,
    its minimum width would likely be > 0px -provided it has some content. Also note that setting “overflow: clip” on the box in the markup
    (so it becomes an explicit clip value and not just an “effective” implicit clip through “contain: paint”) produces
    the exact same rendering meaning that this effective property value does affect layout).
    
    This is a partial revert of r285885 (focusing on where the flex algorithm consults with the flex items' overflow values).
    
    Test: fast/flexbox/incorrect-min-size-with-paint-contain.html
    
    * rendering/RenderFlexibleBox.cpp:
    (WebCore::RenderFlexibleBox::mainAxisOverflowForChild const):
    (WebCore::RenderFlexibleBox::crossAxisOverflowForChild const):
    
    LayoutTests:
    
    * fast/flexbox/incorrect-min-size-with-paint-contain-expected.html: Added.
    * fast/flexbox/incorrect-min-size-with-paint-contain.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@289995 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-16  Alan Bujtas  <zalan@apple.com>

            REGRESSION(r285885) Unable to exit Trip Details in Amtrak app
            https://bugs.webkit.org/show_bug.cgi?id=236732
            <rdar://87462825>

            Reviewed by Simon Fraser.

            * fast/flexbox/incorrect-min-size-with-paint-contain-expected.html: Added.
            * fast/flexbox/incorrect-min-size-with-paint-contain.html: Added.

2022-03-01  Russell Epstein  <repstein@apple.com>

        Cherry-pick r289693. rdar://problem/88264857

    Suppress style invalidation when matching :checked
    https://bugs.webkit.org/show_bug.cgi?id=235910
    
    Patch by Rob Buis <rbuis@igalia.com> on 2022-02-12
    Reviewed by Antti Koivisto.
    
    Source/WebCore:
    
    Suppress style invalidation when matching :checked for option elements.
    
    Test: fast/selectors/has-select-option-crash.html
    
    * css/SelectorCheckerTestFunctions.h:
    (WebCore::isChecked):
    * html/HTMLOptionElement.cpp:
    (WebCore::HTMLOptionElement::selected const):
    (WebCore::HTMLOptionElement::setSelectedState):
    * html/HTMLOptionElement.h:
    * html/HTMLSelectElement.cpp:
    (WebCore::HTMLSelectElement::updateListItemSelectedStates):
    (WebCore::HTMLSelectElement::recalcListItems const):
    * html/HTMLSelectElement.h:
    
    LayoutTests:
    
    * fast/selectors/has-select-option-crash-expected.txt: Added.
    * fast/selectors/has-select-option-crash.html: Added.
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@289693 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-12  Rob Buis  <rbuis@igalia.com>

            Suppress style invalidation when matching :checked
            https://bugs.webkit.org/show_bug.cgi?id=235910

            Reviewed by Antti Koivisto.

            * fast/selectors/has-select-option-crash-expected.txt: Added.
            * fast/selectors/has-select-option-crash.html: Added.

2022-02-28  Russell Epstein  <repstein@apple.com>

        Cherry-pick r289526. rdar://problem/87061239

    [:has() pseudo-class] Nullptr crash with non-function :has
    https://bugs.webkit.org/show_bug.cgi?id=236431
    rdar://87061239
    
    Reviewed by Cameron McCormack.
    
    LayoutTests/imported/w3c:
    
    * web-platform-tests/css/selectors/parsing/parse-has-expected.txt:
    * web-platform-tests/css/selectors/parsing/parse-has.html:
    
    Source/WebCore:
    
    Test: fast/selectors/malformed-has.html
    
    * css/parser/CSSSelectorParser.cpp:
    (WebCore::isOnlyPseudoClassFunction):
    
    :has() is legal, plain :has is not.
    
    LayoutTests:
    
    * fast/selectors/malformed-has-expected.txt: Added.
    * fast/selectors/malformed-has.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@289526 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-10  Antti Koivisto  <antti@apple.com>

            [:has() pseudo-class] Nullptr crash with non-function :has
            https://bugs.webkit.org/show_bug.cgi?id=236431
            rdar://87061239

            Reviewed by Cameron McCormack.

            * fast/selectors/malformed-has-expected.txt: Added.
            * fast/selectors/malformed-has.html: Added.

2022-02-28  Russell Epstein  <repstein@apple.com>

        Cherry-pick r289462. rdar://problem/88580935

    Don't return an empty value from AbortController.signal.reason and make it harder to return empty values from JSValueInWrappedObject
    https://bugs.webkit.org/show_bug.cgi?id=236318
    <rdar://88580935>
    
    Reviewed by Mark Lam.
    
    Source/WebCore:
    
    This patch makes it so we might not accidentally return the empty value to
    JavaScript code from JSValueInWrappedObject. Previously, JSValueInWrappedObject
    had an "operator JSValue()" method. This patch removes that, adds a new
    conversion method for converting between JSValueInWrappedObject and JSValue,
    and makes JSValueInWrappedObject return undefined inside this method
    when it used to return the empty value. This fixes a crash where we'd return
    the empty value to JS JIT code, and crash dereferencing a nullptr. It's never
    valid for a JS function call (or getter, etc) to return the empty value.
    
    Test: fast/dom/AbortSignal-reason-crash-2.html
    
    * Modules/webaudio/AudioBuffer.cpp:
    (WebCore::AudioBuffer::getChannelData):
    * Modules/webaudio/AudioWorkletProcessor.cpp:
    (WebCore::toJSArray):
    (WebCore::toJSObject):
    (WebCore::AudioWorkletProcessor::buildJSArguments):
    * bindings/js/JSCustomEventCustom.cpp:
    (WebCore::JSCustomEvent::detail const):
    * bindings/js/JSDOMConvertAny.h:
    (WebCore::JSConverter<IDLAny>::convert):
    * bindings/js/JSMessageEventCustom.cpp:
    (WebCore::JSMessageEvent::data const):
    * bindings/js/JSPaymentMethodChangeEventCustom.cpp:
    (WebCore::JSPaymentMethodChangeEvent::methodDetails const):
    * bindings/js/JSPopStateEventCustom.cpp:
    (WebCore::JSPopStateEvent::state const):
    * bindings/js/JSValueInWrappedObject.h:
    (WebCore::JSValueInWrappedObject::getValue const):
    (WebCore::JSValueInWrappedObject::operator bool const):
    (WebCore::cachedPropertyValue):
    (WebCore::JSValueInWrappedObject::operator JSC::JSValue const): Deleted.
    * dom/AbortSignal.cpp:
    (WebCore::AbortSignal::signalFollow):
    (WebCore::AbortSignal::throwIfAborted):
    * dom/ErrorEvent.cpp:
    (WebCore::ErrorEvent::error):
    (WebCore::ErrorEvent::trySerializeError):
    * dom/PopStateEvent.cpp:
    (WebCore::PopStateEvent::trySerializeState):
    * page/History.cpp:
    (WebCore::History::cachedState):
    
    LayoutTests:
    
    * fast/dom/AbortSignal-reason-crash-2-expected.txt: Added.
    * fast/dom/AbortSignal-reason-crash-2.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@289462 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-09  Saam Barati  <sbarati@apple.com>

            Don't return an empty value from AbortController.signal.reason and make it harder to return empty values from JSValueInWrappedObject
            https://bugs.webkit.org/show_bug.cgi?id=236318
            <rdar://88580935>

            Reviewed by Mark Lam.

            * fast/dom/AbortSignal-reason-crash-2-expected.txt: Added.
            * fast/dom/AbortSignal-reason-crash-2.html: Added.

2022-02-28  Russell Epstein  <repstein@apple.com>

        Cherry-pick r289377. rdar://problem/88178304

    Return 'none' for the computed style of mask when there are no mask images
    https://bugs.webkit.org/show_bug.cgi?id=236265
    <rdar://88178304>
    
    Patch by Matt Woodrow <mattwoodrow@apple.com> on 2022-02-08
    Reviewed by Dean Jackson.
    
    Source/WebCore:
    
    Rather than returning all the longhand properties, return 'none' if there are no
    mask images. This no longer matches the behaviour of the 'background' property, but
    better matches what other UAs do.
    
    Ideally we'd return the smallest possible canonical representation of the non-initial
    property values, but this is a much simpler change to fix a compat regression.
    
    Test: fast/masking/parsing-mask.html
    Updates expected results to match new behavior.
    
    * css/CSSComputedStyleDeclaration.cpp:
    (WebCore::ComputedStyleExtractor::getLayerCount):
    (WebCore::ComputedStyleExtractor::getFillLayerPropertyShorthandValue):
    (WebCore::ComputedStyleExtractor::getBackgroundShorthandValue):
    (WebCore::ComputedStyleExtractor::getMaskShorthandValue):
    * css/CSSComputedStyleDeclaration.h:
    
    LayoutTests:
    
    * fast/masking/parsing-mask-expected.txt:
    * fast/masking/parsing-mask.html:
    
    Updated expected results to expect 'none' for all cases where there isn't an actual mask
    image.
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@289377 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-08  Matt Woodrow  <mattwoodrow@apple.com>

            Return 'none' for the computed style of mask when there are no mask images
            https://bugs.webkit.org/show_bug.cgi?id=236265
            <rdar://88178304>

            Reviewed by Dean Jackson.

            * fast/masking/parsing-mask-expected.txt:
            * fast/masking/parsing-mask.html:

            Updated expected results to expect 'none' for all cases where there isn't an actual mask
            image.

2022-02-15  Russell Epstein  <repstein@apple.com>

        Cherry-pick r289776. rdar://problem/88656665

    Fix crash with deeply nested async overflow scroll
    https://bugs.webkit.org/show_bug.cgi?id=236599
    Source/WebCore:
    
    rdar://88656665
    
    Reviewed by Alan Bujtas.
    
    mergeClippingScopesRecursive() already does the append of the rects; doing so
    before calling recursing triggers double appends, hence exponentially growing
    rect lists.
    
    Test: compositing/layer-creation/clipping-scope/deeply-nested-overflow.html
    
    * rendering/LayerOverlapMap.cpp:
    (WebCore::OverlapMapContainer::mergeClippingScopesRecursive):
    
    LayoutTests:
    
    Reviewed by Alan Bujtas.
    
    * compositing/layer-creation/clipping-scope/deeply-nested-overflow-expected.txt: Added.
    * compositing/layer-creation/clipping-scope/deeply-nested-overflow.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@289776 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-14  Simon Fraser  <simon.fraser@apple.com>

            Fix crash with deeply nested async overflow scroll
            https://bugs.webkit.org/show_bug.cgi?id=236599

            Reviewed by Alan Bujtas.

            * compositing/layer-creation/clipping-scope/deeply-nested-overflow-expected.txt: Added.
            * compositing/layer-creation/clipping-scope/deeply-nested-overflow.html: Added.

2022-02-14  Russell Epstein  <repstein@apple.com>

        Cherry-pick r289686. rdar://problem/88689388

    `contain:content` breaks fullscreen
    https://bugs.webkit.org/show_bug.cgi?id=236470
    <rdar://88689388>
    
    Reviewed by Simon Fraser.
    
    Source/WebCore:
    
    Paint/layout containment forms a containing block for fixed positioned block boxes. It makes all fixed
    positioned descendants anchored (contained) to this layout container.
    This patch enables fullscreen boxes break out of this non-ICB based layout scope (this is similar to what we
    do for other, "layout scope changing" properties, see canContainFixedPositionObjects).
    
    Test: fullscreen/fullscreen-prevented-by-containment.html
    
    * css/fullscreen.css:
    (:-webkit-full-screen-ancestor:not(iframe)):
    * css/parser/CSSParserContext.cpp:
    (WebCore::CSSParserContext::CSSParserContext):
    
    LayoutTests:
    
    * fullscreen/fullscreen-prevented-by-containment-expected.txt: Added.
    * fullscreen/fullscreen-prevented-by-containment.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@289686 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-11  Alan Bujtas  <zalan@apple.com>

            `contain:content` breaks fullscreen
            https://bugs.webkit.org/show_bug.cgi?id=236470
            <rdar://88689388>

            Reviewed by Simon Fraser.

            * fullscreen/fullscreen-prevented-by-containment-expected.txt: Added.
            * fullscreen/fullscreen-prevented-by-containment.html: Added.

2022-02-10  Alan Coon  <alancoon@apple.com>

        Cherry-pick r288434. rdar://problem/56436745

    texImage2d fails to set same video frame to multiple textures
    https://bugs.webkit.org/show_bug.cgi?id=203148
    <rdar://problem/56436745>
    
    Patch by Kimmo Kinnunen <kkinnunen@apple.com> on 2022-01-24
    Reviewed by Darin Adler.
    
    Source/WebCore:
    
    WebGL optimizes repeated video uploads to same texture, due to this being
    usual practice among pages. Reason is that there are no API to know when the
    video frame updates.
    The algorithm was:
     - If the IOSurface is the same as in the last call
     - If the texture contents has not changed since we last modified this texture
     then skip the upload.
    However, this logic skips errorneously if the "last call" updates some other texture.
    Fix and test the above.
    
    There are other issues for the current algorithm. This patch fixes some other theoretical ones:
     - If the texture is deleted and new one gets assigned the same texture id and the content
       seed would clash
     - Video was uploaded to a different level
    
    The previous implementation was keeping per-texture seed value map in the context
    (GraphicsContextGLANGLE) and per-teture seed value map in the texture upload helper
    (GraphicsContextGLCVCocoa) and last uploaded IOSurface seed in the upload helper (not per
    texture).
    
    The implementation in this patch keeps per-texture known content description in the texture
    upload helper and invalidates this when each texture changes. The known content description
    is the parameter list of the texture upload call.
    
    Test: webgl/pending/conformance/textures/misc/tex-image-video-repeated.html
    
    * platform/graphics/GraphicsContextGLState.h:
    (WebCore::GraphicsContextGLState::setBoundTexture):
    * platform/graphics/angle/GraphicsContextGLANGLE.cpp:
    (WebCore::GraphicsContextGLANGLE::texImage2D):
    (WebCore::GraphicsContextGLANGLE::texSubImage2D):
    (WebCore::GraphicsContextGLANGLE::compressedTexImage2D):
    (WebCore::GraphicsContextGLANGLE::compressedTexSubImage2D):
    (WebCore::GraphicsContextGLANGLE::texStorage2D):
    (WebCore::GraphicsContextGLANGLE::texStorage3D):
    (WebCore::GraphicsContextGLANGLE::texImage2DDirect):
    (WebCore::GraphicsContextGLANGLE::framebufferTexture2D):
    (WebCore::GraphicsContextGLANGLE::createTexture):
    (WebCore::GraphicsContextGLANGLE::deleteTexture):
    (WebCore::GraphicsContextGLANGLE::invalidateKnownTextureContent):
    (WebCore::GraphicsContextGLANGLE::textureSeed): Deleted.
    * platform/graphics/angle/GraphicsContextGLANGLE.h:
    * platform/graphics/cocoa/GraphicsContextGLCocoa.h:
    * platform/graphics/cocoa/GraphicsContextGLCocoa.mm:
    (WebCore::GraphicsContextGLCocoa::invalidateKnownTextureContent):
    * platform/graphics/cv/GraphicsContextGLCVCocoa.cpp:
    (WebCore::GraphicsContextGLCVCocoa::TextureContent::operator== const):
    (WebCore::GraphicsContextGLCVCocoa::copyVideoSampleToTexture):
    (WebCore::GraphicsContextGLCVCocoa::invalidateKnownTextureContent):
    * platform/graphics/cv/GraphicsContextGLCVCocoa.h:
    
    LayoutTests:
    
    Add a test for testing the bug in which some video texture uploads
    were skipped errorneously.
    
    * webgl/pending/conformance/textures/misc/tex-image-video-repeated.html: Added.
    * webgl/pending/conformance/textures/misc/tex-image-video-repeated-expected.txt: Added.
    * webgl/pending/resources/webgl_test_files/conformance/textures/misc/tex-image-video-repeated.html: Added.
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288434 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-24  Kimmo Kinnunen  <kkinnunen@apple.com>

            texImage2d fails to set same video frame to multiple textures
            https://bugs.webkit.org/show_bug.cgi?id=203148
            <rdar://problem/56436745>

            Reviewed by Darin Adler.

            Add a test for testing the bug in which some video texture uploads
            were skipped errorneously.

            * webgl/pending/conformance/textures/misc/tex-image-video-repeated.html: Added.
            * webgl/pending/conformance/textures/misc/tex-image-video-repeated-expected.txt: Added.
            * webgl/pending/resources/webgl_test_files/conformance/textures/misc/tex-image-video-repeated.html: Added.

2022-02-08  Russell Epstein  <repstein@apple.com>

        Cherry-pick r287055. rdar://problem/86488039

    REGRESSION (r286982): ASSERTION FAILED: clipRectsContext.rootLayer == m_clipRectsCache->m_clipRectsRoot[clipRectsType]
    https://bugs.webkit.org/show_bug.cgi?id=234315
    
    Unreviewed test gardening.
    
    * TestExpectations: Skip the test.
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@287055 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2021-12-14  Ryan Haddad  <ryanhaddad@apple.com>

            REGRESSION (r286982): ASSERTION FAILED: clipRectsContext.rootLayer == m_clipRectsCache->m_clipRectsRoot[clipRectsType]
            https://bugs.webkit.org/show_bug.cgi?id=234315

            Unreviewed test gardening.

            * TestExpectations: Skip the test.

2022-02-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r289108. rdar://problem/88599722

    HTMLMediaElement should dispatch the resize event asynchronously
    https://bugs.webkit.org/show_bug.cgi?id=230895
    
    Reviewed by Darin Adler.
    
    Source/WebCore:
    
    The HTMLMediaElement is currently queueing a task to dispatch the resize event in the post layout phase.
    There is no need to run it synchronously and we could move it to another queue were it will be run
    asynchronously as it was done for other similar tasks in the past.
    
    * html/HTMLMediaElement.cpp:
    (WebCore::HTMLMediaElement::layoutSizeChanged):
    
    LayoutTests:
    
    * media/modern-media-controls/media-controller/media-controller-resize.html: Remove the event
    listener to avoid an extra notification.
    * platform/mac/TestExpectations: Unskipped tests that pass now.
    * platform/wincairo/TestExpectations: Ditto.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@289108 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-04  Sergio Villar Senin  <svillar@igalia.com>

            HTMLMediaElement should dispatch the resize event asynchronously
            https://bugs.webkit.org/show_bug.cgi?id=230895

            Reviewed by Darin Adler.

            * media/modern-media-controls/media-controller/media-controller-resize.html: Remove the event
            listener to avoid an extra notification.
            * platform/mac/TestExpectations: Unskipped tests that pass now.
            * platform/wincairo/TestExpectations: Ditto.

2022-02-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r289060. rdar://problem/86337125

    null ptr deref in RenderTreeBuilder::Block::attachIgnoringContinuation
    https://bugs.webkit.org/show_bug.cgi?id=234170
    
    Patch by Frédéric Wang <fwang@igalia.com> on 2022-02-03
    Reviewed by Antti Koivisto.
    
    Source/WebCore:
    
    When an element with "display: contents" is put into the top layer, its computed style for
    the display property becomes "block" [1]. However, RenderTreeUpdater::updateElementRenderer
    does not manage well this transition. In particular, a null ptr deref happens for some
    special configuration involving a <dialog style="display: contents">. To work around that
    issue, always force tearing down renderers when updating an element in the top layer.
    
    [1] https://fullscreen.spec.whatwg.org/#new-stacking-layer
    
    Test: fast/layers/top-layer-display-contents-crash.html
    
    * rendering/updating/RenderTreeUpdater.cpp:
    (WebCore::RenderTreeUpdater::updateElementRenderer): Always force tearing down renderers
    for top layer element.
    
    LayoutTests:
    
    Add regression test.
    
    * fast/css/top-layer-display-contents-crash-expected.txt: Added.
    * fast/css/top-layer-display-contents-crash.html: Added.
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@289060 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-03  Frédéric Wang  <fwang@igalia.com>

            null ptr deref in RenderTreeBuilder::Block::attachIgnoringContinuation
            https://bugs.webkit.org/show_bug.cgi?id=234170

            Reviewed by Antti Koivisto.

            Add regression test.

            * fast/css/top-layer-display-contents-crash-expected.txt: Added.
            * fast/css/top-layer-display-contents-crash.html: Added.

2022-02-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r289021. rdar://problem/88599774

    CSP: Fix matching wildcard hosts
    https://bugs.webkit.org/show_bug.cgi?id=235992
    
    Reviewed by Kate Cheney.
    
    LayoutTests/imported/w3c:
    
    Update expectations.
    
    * web-platform-tests/content-security-policy/img-src/img-src-full-host-wildcard-blocked.sub-expected.txt:
    
    Source/WebCore:
    
    As per the spec wildcard hosts must include the leading '.' for matches:
    https://www.w3.org/TR/CSP3/#match-hosts.
    
    Test: http/tests/security/contentSecurityPolicy/image-full-host-wildcard-blocked.html
    
    * page/csp/ContentSecurityPolicySource.cpp:
    (WebCore::ContentSecurityPolicySource::hostMatches const):
    
    LayoutTests:
    
    Rewrite test to expect CSP3 compliant behavior.
    
    * http/tests/security/contentSecurityPolicy/image-full-host-wildcard-allowed-expected.txt: Removed.
    * http/tests/security/contentSecurityPolicy/image-full-host-wildcard-blocked-expected.txt: Added.
    * http/tests/security/contentSecurityPolicy/image-full-host-wildcard-blocked.html: Renamed from LayoutTests/http/tests/security/contentSecurityPolicy/image-full-host-wildcard-allowed.html.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@289021 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-02  Patrick Griffis  <pgriffis@igalia.com>

            CSP: Fix matching wildcard hosts
            https://bugs.webkit.org/show_bug.cgi?id=235992

            Reviewed by Kate Cheney.

            Rewrite test to expect CSP3 compliant behavior.

            * http/tests/security/contentSecurityPolicy/image-full-host-wildcard-allowed-expected.txt: Removed.
            * http/tests/security/contentSecurityPolicy/image-full-host-wildcard-blocked-expected.txt: Added.
            * http/tests/security/contentSecurityPolicy/image-full-host-wildcard-blocked.html: Renamed from LayoutTests/http/tests/security/contentSecurityPolicy/image-full-host-wildcard-allowed.html.

2022-02-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r288949. rdar://problem/88226432

    ServiceWorkerNavigationPreloader should only be used once
    https://bugs.webkit.org/show_bug.cgi?id=235882
    <rdar://88226432>
    
    Reviewed by Chris Dumez.
    
    Source/WebKit:
    
    In case service worker preload is being used and related service worker context crashes (or service worker context sends bad messages),
    We can end up in a bad state where we will ask the preload twice for the same response (once for good, and the next one as we go to didNotHandle case).
    To prevent this, we add checks in loadResponseFromPreloader and loadBodyFromPreloader.
    As part of this investigation, I found out that ServiceWorkerNavigationPreloader is not correctly handling the case of preload responses coming from cache.
    In particular, no body will be given since we return early in waitForBody in case the preload network load is null.
    Prevent this by making sure waitForBody calls the response completion handler if available, even if the preload network load is null.
    And update the response body callback before executing the response completion handler to make sure data received synchronously from the preload is given to the service worker fetch task.
    
    Test: http/wpt/service-workers/fetch-service-worker-preload-cache.https.html
    
    * NetworkProcess/ServiceWorker/ServiceWorkerFetchTask.cpp:
    * NetworkProcess/ServiceWorker/ServiceWorkerNavigationPreloader.cpp:
    
    LayoutTests:
    
    * http/wpt/service-workers/fetch-service-worker-preload-cache.https-expected.txt: Added.
    * http/wpt/service-workers/fetch-service-worker-preload-cache.https.html: Added.
    * http/wpt/service-workers/resources/fetch-service-worker-preload-script.py:
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288949 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-02  Youenn Fablet  <youenn@apple.com>

            ServiceWorkerNavigationPreloader should only be used once
            https://bugs.webkit.org/show_bug.cgi?id=235882
            <rdar://88226432>

            Reviewed by Chris Dumez.

            * http/wpt/service-workers/fetch-service-worker-preload-cache.https-expected.txt: Added.
            * http/wpt/service-workers/fetch-service-worker-preload-cache.https.html: Added.
            * http/wpt/service-workers/resources/fetch-service-worker-preload-script.py:

2022-02-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r288881. rdar://problem/80246192

    Animation from scale(0) has missing backing store
    https://bugs.webkit.org/show_bug.cgi?id=227733
    <rdar://problem/80246192>
    
    Reviewed by Simon Fraser.
    
    Source/WebCore:
    
    Use the style recorded before we applied animations to this element the last
    time we resolved style for keyframes that don't set a value for the "transform"
    property.
    
    * animation/KeyframeEffect.cpp:
    (WebCore::KeyframeEffect::computeExtentOfTransformAnimation const):
    
    LayoutTests:
    
    Add a new test which animates two squares, one on top of each other. The bottom square uses an animation
    that has an explicit "from" value of scale(0) and an explicit "to" value of scale(1) and is black. The top
    square uses an animation that has an explicit "from" value of scale(0) but no explicit "to" value, thus
    animating to scale(1) as well, and is white, matching the background color.
    
    The bug we are fixing is that the square with an implicit "to" value would not yield a visible animation
    since we wouldn't account for the scale(1) target value and assuming we're never animating to a non-0
    value.
    
    This test assumes that both animations run at the same time and thus the white square will always cover
    the black square (which is smaller to ensure no issues at the edges) and yield a completely white page.
    
    * webanimations/accelerated-transform-animation-from-scale-zero-and-implicit-to-kefyrame-expected.html: Added.
    * webanimations/accelerated-transform-animation-from-scale-zero-and-implicit-to-kefyrame.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288881 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-02-01  Antoine Quint  <graouts@webkit.org>

            Animation from scale(0) has missing backing store
            https://bugs.webkit.org/show_bug.cgi?id=227733
            <rdar://problem/80246192>

            Reviewed by Simon Fraser.

            Add a new test which animates two squares, one on top of each other. The bottom square uses an animation
            that has an explicit "from" value of scale(0) and an explicit "to" value of scale(1) and is black. The top
            square uses an animation that has an explicit "from" value of scale(0) but no explicit "to" value, thus
            animating to scale(1) as well, and is white, matching the background color.

            The bug we are fixing is that the square with an implicit "to" value would not yield a visible animation
            since we wouldn't account for the scale(1) target value and assuming we're never animating to a non-0
            value.

            This test assumes that both animations run at the same time and thus the white square will always cover
            the black square (which is smaller to ensure no issues at the edges) and yield a completely white page.

            * webanimations/accelerated-transform-animation-from-scale-zero-and-implicit-to-kefyrame-expected.html: Added.
            * webanimations/accelerated-transform-animation-from-scale-zero-and-implicit-to-kefyrame.html: Added.

2022-02-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r288827. rdar://problem/87815745

    Source/WebCore:
    Changed playbackRate and defaultPlaybackRate from unrestricted double
    to double.
    https://bugs.webkit.org/show_bug.cgi?id=235174
    rdar://problem/87815745
    
    Patch by Takeshi Sone <takeshi.sone@gmail.com> on 2022-01-31
    Reviewed by Eric Carlson.
    
    Test: media/video-playbackrate-undefined.html
    
    * html/HTMLMediaElement.idl:
    
    LayoutTests:
    Added a test to verify that setting undefined to video.playbackRate
    raises an exception.
    https://bugs.webkit.org/show_bug.cgi?id=235174
    rdar://problem/87815745
    
    Patch by Takeshi Sone <takeshi.sone@gmail.com> on 2022-01-31
    Reviewed by Eric Carlson.
    
    * media/video-playbackrate-undefined-expected.txt: Added.
    * media/video-playbackrate-undefined.html: Added.
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288827 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-31  Takeshi Sone  <takeshi.sone@gmail.com>

            Added a test to verify that setting undefined to video.playbackRate
            raises an exception.
            https://bugs.webkit.org/show_bug.cgi?id=235174
            rdar://problem/87815745

            Reviewed by Eric Carlson.

            * media/video-playbackrate-undefined-expected.txt: Added.
            * media/video-playbackrate-undefined.html: Added.

2022-02-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r288801. rdar://problem/88186663

    (REGRESSION)[IFC][RTL] wpt/css/css-text/white-space/trailing-space-and-text-alignment-rtl-003.html
    https://bugs.webkit.org/show_bug.cgi?id=235823
    <rdar://problem/88186663>
    
    Reviewed by Antti Koivisto.
    
    Source/WebCore:
    
    Reset the trailing whitespace bidi level before handing them over to visual reordering.
    see https://unicode.org/reports/tr9/#L1
    "L1. On each line, reset the embedding level of the following characters to the paragraph embedding level:
      ...
      Any sequence of whitespace characters ... at the end of the line."
    
    It ensures that
        <div style="width: 2ch; direction: rtl">AB C</div>
    and
        <div style="direction: rtl">AB </div>
    both have the trailing whitespace positioned _visually_ as trailing (and not leading) content.
    
    After the bidi paragraph processing "AB C" gets a uniform bidi level of 2, while "AB " is split into "AB" and " "
    with bidi levels of 2 and 1 respectively.
    In the latter case, the difference in bidi levels makes the runs flip visually at reordering.
    It makes the trailing whitespace "pushed" to the left side of the "AB" making it _visually_ trailing (the content renders as " AB").
    However in case of "AB C" with the line breaking position after " ", we would end up with a single run of "AB " with the bidi level of 2.
    This run would render as "AB " turning the trailing whitespace into a _visually_ leading whitespace.
    
    In this patch we ensure that the trailing (non-collapsible) whitespace runs
    1. are detached from their adjoining non-whitespace text runs and
    2. they get their bidi levels reset
    
    Test: fast/text/rtl-pre-wrap-hanging-offset.html
    
    * layout/formattingContexts/inline/display/InlineDisplayLineBuilder.cpp:
    (WebCore::Layout::InlineDisplayLineBuilder::build const):
    
    LayoutTests:
    
    * fast/text/rtl-pre-wrap-hanging-offset-expected.html: Added.
    * fast/text/rtl-pre-wrap-hanging-offset.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288801 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-30  Alan Bujtas  <zalan@apple.com>

            (REGRESSION)[IFC][RTL] wpt/css/css-text/white-space/trailing-space-and-text-alignment-rtl-003.html
            https://bugs.webkit.org/show_bug.cgi?id=235823
            <rdar://problem/88186663>

            Reviewed by Antti Koivisto.

            * fast/text/rtl-pre-wrap-hanging-offset-expected.html: Added.
            * fast/text/rtl-pre-wrap-hanging-offset.html: Added.

2022-02-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r288800. rdar://problem/88241513

    [LFC][IFC] Do not break content at an inline box boundary
    https://bugs.webkit.org/show_bug.cgi?id=235868
    
    Reviewed by Antti Koivisto.
    
    Source/WebCore:
    
    Handle nested inline boxes, when the breaking position is between at an inline box boundary.
    e.g.
      <div style="width: 1px"><span><span><span>this_content_overflow</span></span></span></div>
    while the breaking position is between the 3rd <span> and the letter 't', we should not let the first
    line have all the <span><span><span> content only, but instead find a more reasonable breaking position by
    looking at the previous runs.
    This patch expands "findTrailingRunIndex" to find multiple, subsequent (nested) inline boxes.
    
    Test: fast/inline/nested-inline-box-with-word-break.html
    
    * layout/formattingContexts/inline/InlineContentBreaker.cpp:
    (WebCore::Layout::findTrailingRunIndex):
    
    LayoutTests:
    
    * fast/inline/nested-inline-box-with-word-break-expected.html: Added.
    * fast/inline/nested-inline-box-with-word-break.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288800 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-30  Alan Bujtas  <zalan@apple.com>

            [LFC][IFC] Do not break content at an inline box boundary
            https://bugs.webkit.org/show_bug.cgi?id=235868

            Reviewed by Antti Koivisto.

            * fast/inline/nested-inline-box-with-word-break-expected.html: Added.
            * fast/inline/nested-inline-box-with-word-break.html: Added.

2022-02-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r288789. rdar://problem/88043325

    Capturing WebGL canvas through peer connection shows the image flipped
    https://bugs.webkit.org/show_bug.cgi?id=235600
    <rdar://problem/88043325>
    
    Patch by Kimmo Kinnunen <kkinnunen@apple.com> on 2022-01-29
    Reviewed by Dean Jackson.
    
    Source/WebCore:
    
    Mirror and rotate the WebGL image at the source since WebRTC
    does not support mirroring.
    
    Test: webrtc/canvas-to-peer-connection.html
    
    * platform/graphics/cocoa/GraphicsContextGLCocoa.h:
    * platform/graphics/cocoa/GraphicsContextGLCocoa.mm:
    (WebCore::GraphicsContextGLCocoa::paintCompositedResultsToMediaSample):
    * platform/graphics/cocoa/IOSurface.h:
    * platform/graphics/cocoa/IOSurface.mm:
    (WebCore::IOSurface::setOwnershipIdentity):
    * platform/graphics/cv/CVUtilities.h:
    * platform/graphics/cv/CVUtilities.mm:
    (WebCore::setOwnershipIdentityForCVPixelBuffer):
    
    LayoutTests:
    
    Test sending WebGL image through a peer connection to a local video
    and assert that the image is as drawn.
    
    * platform/glib/TestExpectations:
    * webrtc/canvas-to-peer-connection-expected.txt: Added.
    * webrtc/canvas-to-peer-connection.html: Added.
    * webrtc/routines.js:
    * webrtc/video-replace-track.html:
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288789 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-29  Kimmo Kinnunen  <kkinnunen@apple.com>

            Capturing WebGL canvas through peer connection shows the image flipped
            https://bugs.webkit.org/show_bug.cgi?id=235600
            <rdar://problem/88043325>

            Reviewed by Dean Jackson.

            Test sending WebGL image through a peer connection to a local video
            and assert that the image is as drawn.

            * platform/glib/TestExpectations:
            * webrtc/canvas-to-peer-connection-expected.txt: Added.
            * webrtc/canvas-to-peer-connection.html: Added.
            * webrtc/routines.js:
            * webrtc/video-replace-track.html:

2022-02-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r288783. rdar://problem/88052073

    REGRESSION(r281687): Space widths have synthetic bold applied to them in the fast text codepath but not the complex text codepath
    https://bugs.webkit.org/show_bug.cgi?id=235755
    <rdar://problem/88052073>
    
    Reviewed by Simon Fraser.
    
    LayoutTests/imported/w3c:
    
    * web-platform-tests/css/css-fonts/synthetic-bold-space-width-expected.html: Added.
    * web-platform-tests/css/css-fonts/synthetic-bold-space-width.html: Added.
    
    Source/WebCore:
    
    r281687 made Font::widthForGlyph() return the non-synthetically-expanded width,
    instead of the synthetically-expanded width.
    
    I think this is philosophically correct, because Font::widthForGlyph() is called before shaping,
    and shaping requires the original width. If some custom code is asking for the width of specific
    characters without going through WidthIterator or ComplexTextController, that code needs to
    determine whether or not it's going to run shaping, and thus when it should be adding in the
    synthetic offset.
    
    adjustGlyphsAndAdvances() used to subtract out the synthetic offset because it was expecting
    Font::widthForGlyph() to return the already-expanded width. So, the solution is just stop subtracting
    the offset, because it hasn't been applied in the first place.
    
    Test: imported/w3c/web-platform-tests/css/css-fonts/synthetic-bold-space-width.html
    
    * platform/graphics/ComplexTextController.cpp:
    (WebCore::ComplexTextController::adjustGlyphsAndAdvances):
    * platform/graphics/Font.h:
    
    LayoutTests:
    
    * platform/mac/fast/text/atsui-multiple-renderers-expected.txt:
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288783 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-28  Myles C. Maxfield  <mmaxfield@apple.com>

            REGRESSION(r281687): Space widths have synthetic bold applied to them in the fast text codepath but not the complex text codepath
            https://bugs.webkit.org/show_bug.cgi?id=235755
            <rdar://problem/88052073>

            Reviewed by Simon Fraser.

            * platform/mac/fast/text/atsui-multiple-renderers-expected.txt:

2022-02-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r288631. rdar://problem/88020080

    Unreviewed, revert r286855 as it caused form submission issues
    https://bugs.webkit.org/show_bug.cgi?id=235645
    <rdar://88020080>
    
    
    LayoutTests/imported/w3c:
    
    * web-platform-tests/html/semantics/forms/constraints/form-validation-validity-valid-expected.txt:
    * web-platform-tests/html/semantics/forms/constraints/form-validation-validity-valueMissing-expected.txt:
    * web-platform-tests/html/semantics/forms/the-input-element/radio-expected.txt:
    
    Source/WebCore:
    
    * html/HTMLInputElement.cpp:
    (WebCore::HTMLInputElement::setChecked):
    (WebCore::HTMLInputElement::didChangeForm):
    (WebCore::HTMLInputElement::insertedIntoAncestor):
    (WebCore::HTMLInputElement::removedFromAncestor):
    (WebCore::HTMLInputElement::checkedRadioButtonForGroup const):
    * html/InputType.h:
    (WebCore::InputType::willUpdateCheckedness): Deleted.
    * html/RadioInputType.cpp:
    (WebCore::RadioInputType::valueMissing const):
    (WebCore::RadioInputType::willUpdateCheckedness): Deleted.
    * html/RadioInputType.h:
    
    LayoutTests:
    
    * fast/forms/radio/ValidityState-valueMissing-radio-expected.txt:
    * fast/forms/radio/ValidityState-valueMissing-radio.html:
    * fast/forms/radio/radio-live-validation-style-expected.txt:
    * fast/forms/radio/radio-live-validation-style.html:
    * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-valid-expected.txt:
    * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-valueMissing-expected.txt:
    * platform/mac-wk2/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-valid-expected.txt:
    * platform/mac-wk2/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-valueMissing-expected.txt:
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288631 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-26  Chris Dumez  <cdumez@apple.com>

            Unreviewed, revert r286855 as it caused form submission issues
            https://bugs.webkit.org/show_bug.cgi?id=235645
            <rdar://88020080>

            * fast/forms/radio/ValidityState-valueMissing-radio-expected.txt:
            * fast/forms/radio/ValidityState-valueMissing-radio.html:
            * fast/forms/radio/radio-live-validation-style-expected.txt:
            * fast/forms/radio/radio-live-validation-style.html:
            * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-valid-expected.txt:
            * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-valueMissing-expected.txt:
            * platform/mac-wk2/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-valid-expected.txt:
            * platform/mac-wk2/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-valueMissing-expected.txt:

2022-02-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r288590. rdar://problem/87984277

    Disable input-security CSS property
    https://bugs.webkit.org/show_bug.cgi?id=235557
    rdar://87984277
    
    Reviewed by Dean Jackson.
    
    Source/WebCore:
    
    CSSWG is planning to remove input-security from CSS UI 4
    (https://github.com/w3c/csswg-drafts/issues/6788).
    
    Keep the property around as an experimental feature, so that
    it can be used in the UA stylesheet, and easily turned on if the
    resolution is not finalized.
    
    * css/CSSComputedStyleDeclaration.cpp:
    (WebCore::ComputedStyleExtractor::valueForPropertyInStyle):
    * css/CSSProperties.json:
    * css/parser/CSSParserContext.cpp:
    (WebCore::CSSParserContext::CSSParserContext):
    
    Enable input-security when parsing the UA stylesheet, as it is used to
    obscure text in password inputs.
    
    (WebCore::operator==):
    (WebCore::add):
    (WebCore::CSSParserContext::isPropertyRuntimeDisabled const):
    * css/parser/CSSParserContext.h:
    * css/parser/CSSParserFastPaths.cpp:
    (WebCore::CSSParserFastPaths::isValidKeywordPropertyAndValue):
    
    Source/WebKitLegacy/win:
    
    Add support for tests enabling the CSSInputSecurityEnabled preference.
    
    * WebPreferences.cpp:
    (WebPreferences::cssInputSecurityEnabled):
    * WebPreferences.h:
    * WebView.cpp:
    (WebView::notifyPreferencesChanged):
    
    Source/WTF:
    
    * Scripts/Preferences/WebPreferencesExperimental.yaml:
    
    Make input-security a disabled-by-default experimental feature.
    
    Tools:
    
    * DumpRenderTree/TestOptions.cpp:
    (WTR::TestOptions::defaults):
    
    Add default for WebKitLegacy on Windows.
    
    LayoutTests:
    
    * fast/css/computed-text-security-for-input-security.html:
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288590 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-25  Aditya Keerthi  <akeerthi@apple.com>

            Disable input-security CSS property
            https://bugs.webkit.org/show_bug.cgi?id=235557
            rdar://87984277

            Reviewed by Dean Jackson.

            * fast/css/computed-text-security-for-input-security.html:

2022-02-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r288547. rdar://problem/87824766

    (REGRESSION r287485) [LFC][IFC] Incorrect RTL content position when intrusive float is present
    https://bugs.webkit.org/show_bug.cgi?id=235547
    <rdar://87824766>
    
    Reviewed by Antti Koivisto.
    
    Source/WebCore:
    
    The float box coordinates are always visual. They need to be converted to
    logical to be able to properly constrain the available space on the current line.
    
    Test: fast/inline/intrusive-float-with-rtl-content.html
    
    * layout/formattingContexts/inline/InlineLineBuilder.cpp:
    (WebCore::Layout::LineBuilder::floatConstraints const):
    
    LayoutTests:
    
    * fast/inline/intrusive-float-with-rtl-content-expected.html: Added.
    * fast/inline/intrusive-float-with-rtl-content.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288547 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-25  Alan Bujtas  <zalan@apple.com>

            (REGRESSION r287485) [LFC][IFC] Incorrect RTL content position when intrusive float is present
            https://bugs.webkit.org/show_bug.cgi?id=235547
            <rdar://87824766>

            Reviewed by Antti Koivisto.

            * fast/inline/intrusive-float-with-rtl-content-expected.html: Added.
            * fast/inline/intrusive-float-with-rtl-content.html: Added.

2022-02-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r288543. rdar://problem/84958961

    REGRESSION(r282320): [Cocoa] User-installed fonts don't work in the GPU Process (in WKWebView)
    https://bugs.webkit.org/show_bug.cgi?id=235449
    <rdar://problem/84958961>
    
    Reviewed by Darin Adler.
    
    Source/WebCore/PAL:
    
    * pal/spi/cf/CoreTextSPI.h:
    
    Source/WebKit:
    
    The reason for this bug was I was misusing kCTFontOptionsSystemUIFont. I thought this flag just
    meant "allow the creation of system fonts" but it turns out it means something more subtle than
    that. Instead of unconditionally specifying this flag, we should just pull out the options field
    from the source font (which will include that flag if the font was a system font) and use that
    instead.
    
    Test: fast/text/user-installed-canvas.html
    
    * Shared/Cocoa/WebCoreArgumentCodersCocoa.mm:
    (IPC::ArgumentCoder<Ref<WebCore::Font>>::encodePlatformData):
    (IPC::createCTFont):
    (IPC::ArgumentCoder<Ref<WebCore::Font>>::decodePlatformData):
    
    LayoutTests:
    
    * fast/text/user-installed-canvas-expected.html: Added.
    * fast/text/user-installed-canvas.html: Added.
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288543 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-24  Myles C. Maxfield  <mmaxfield@apple.com>

            REGRESSION(r282320): [Cocoa] User-installed fonts don't work in the GPU Process (in WKWebView)
            https://bugs.webkit.org/show_bug.cgi?id=235449
            <rdar://problem/84958961>

            Reviewed by Darin Adler.

            * fast/text/user-installed-canvas-expected.html: Added.
            * fast/text/user-installed-canvas.html: Added.

2022-02-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r288466. rdar://problem/82554226

    REGRESSION (iOS 15): HTMLAudioElement fails to load new audio when device is locked or safari is in background
    https://bugs.webkit.org/show_bug.cgi?id=229688
    <rdar://problem/82554226>
    
    Reviewed by Jer Noble.
    Source/WebCore:
    
    An iOS application loses its NowPlaying status as soon as the AudioSession category
    is set to Ambient, and it can only get it back again by changing the category
    to Playback *and* starting playback. When an application is in the background, however,
    it can't start playback unless it *already* has NowPlaying status. So, ipso facto,
    background playback will always fail once the category is set to Ambient.
    
    If an AudioSession's category is set to Playback when it is activated, it will
    interrupt another application playing audio, activate Bluetooth routes, etc.
    This means WebKit has to relinquish Playback when a page is unable to produce audio
    because AVFoundation automatically activates the audio session when playback starts
    - even if the AVPlayer is muted or has no audio.
    
    To allow pages that were playing audio when WebKit went into the background to
    continue to play after switching urls or activating another media element, add a
    grace period when switch from Playback to Ambient.
    
    Test: media/audio-session-category.html
    
    * platform/audio/cocoa/MediaSessionManagerCocoa.mm:
    (WebCore::MediaSessionManagerCocoa::updateSessionState):
    
    Source/WebKit:
    
    * WebProcess/GPU/media/RemoteAudioSession.cpp:
    (WebKit::RemoteAudioSession::category const): Return the most recently set category
    on all platforms so it is possible to test.
    
    LayoutTests:
    
    * fast/mediasession/metadata/audio-track-enabled.html: Wait longer for the audio session
    category to be reset.
    * media/audio-session-category-expected.txt: Added.
    * media/audio-session-category.html: Added.
    * platform/gtk/TestExpectations: Skip new test.
    * platform/mac-wk1/TestExpectations: Skip new test, MediaStream isn't supported
    on WK1.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288466 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-24  Eric Carlson  <eric.carlson@apple.com>

            REGRESSION (iOS 15): HTMLAudioElement fails to load new audio when device is locked or safari is in background
            https://bugs.webkit.org/show_bug.cgi?id=229688
            <rdar://problem/82554226>

            Reviewed by Jer Noble.

            * fast/mediasession/metadata/audio-track-enabled.html: Wait longer for the audio session
            category to be reset.
            * media/audio-session-category-expected.txt: Added.
            * media/audio-session-category.html: Added.
            * platform/gtk/TestExpectations: Skip new test.
            * platform/mac-wk1/TestExpectations: Skip new test, MediaStream isn't supported
            on WK1.

2022-02-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r288362. rdar://problem/87832940

    WPT version of css/css-cascade/parsing/layer-import-parsing.html crashes with nullptr
    https://bugs.webkit.org/show_bug.cgi?id=235434
    rdar://87832940
    
    Reviewed by Alan Bujtas.
    
    LayoutTests/imported/w3c:
    
    * web-platform-tests/css/css-cascade/parsing/layer-import-parsing.html:
    
    Update to WPT version.
    
    Source/WebCore:
    
    Test: fast/css/insert-import-rule-crash.html
    
    * css/StyleRuleImport.cpp:
    (WebCore::StyleRuleImport::setCSSStyleSheet):
    
    Null check the parent stylesheet. It can be null if the rule has been removed.
    
    * dom/InlineStyleSheetOwner.cpp:
    (WebCore::InlineStyleSheetOwner::startLoadingDynamicSheet):
    
    Also fix a debug assert in addPendingSheet, this can get called multiple times.
    
    LayoutTests:
    
    * fast/css/insert-import-rule-crash-expected.txt: Added.
    * fast/css/insert-import-rule-crash.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288362 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-21  Antti Koivisto  <antti@apple.com>

            WPT version of css/css-cascade/parsing/layer-import-parsing.html crashes with nullptr
            https://bugs.webkit.org/show_bug.cgi?id=235434
            rdar://87832940

            Reviewed by Alan Bujtas.

            * fast/css/insert-import-rule-crash-expected.txt: Added.
            * fast/css/insert-import-rule-crash.html: Added.

2022-02-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r288178. rdar://problem/79296770

    REGRESSION (r264352): Mail compose body field does not avoid the keyboard when scrolling after focus
    https://bugs.webkit.org/show_bug.cgi?id=235331
    rdar://79296770
    
    Reviewed by Tim Horton.
    
    Source/WebKit:
    
    After r264352 added the call to `_page->scheduleFullEditorStateUpdate();` during element focus, scrolling to
    reveal the selection in the focused body field in Mail stopped working. This is because Mail:
    
    1.  Sets `firstResponderKeyboardAvoidanceEnabled` to NO on the WKScrollView, which prevents automatic inset
        adjustment logic in UIKit from taking effect and adding the keyboard height to the bottom system content
        inset.
    
    2.  Manually sets `-contentScrollInset` on the WKScrollView during a UIKeyboardDidShowNotification, which occurs
        after we've already attempted to zoom to the selection.
    
    ...combined with the fact that without the call to `scheduleFullEditorStateUpdate()`, the next EditorState
    would've arrived only after the keyboard animation finished.
    
    The end result is that we don't end up avoiding the keyboard at all when focusing the body field in Mail
    compose. While rdar://87733414 tracks refactoring logic in WebKit2 Mail compose to ensure that the content
    scroll insets on WKScrollView are applied during UIKeyboardWillShowNotification instead of after the keyboard
    has finished animating in, this patch provides a short-term workaround by restoring pre-r264352 behavior, with
    respect to when the element is scrolled into view.
    
    Test: editing/selection/ios/scroll-to-reveal-selection-with-keyboard-avoidance-disabled.html
    
    * Platform/spi/ios/UIKitSPI.h:
    
    Add a declaration for the `-firstResponderKeyboardAvoidanceEnabled` SPI property on non-internal iOS SDKs.
    
    * UIProcess/API/ios/WKWebViewIOS.mm:
    (-[WKWebView _keyboardDidShow:]):
    
    Plumb this through to the WKContentView, so we can zoom/scroll to the focused element if needed.
    
    * UIProcess/WebPageProxy.h:
    * UIProcess/ios/WKContentViewInteraction.h:
    * UIProcess/ios/WKContentViewInteraction.mm:
    (-[WKContentView cleanUpInteraction]):
    (-[WKContentView _keyboardDidShow]):
    
    If we previously deferred the call to `-_zoomToRevealFocusedElement` due to the keyboard still animating in,
    schedule a call to it now on a 0-delay timer; this delay is necessary to ensure that this zoom occurs *after*
    Mail has already set the content inset, which also happens underneath a "KeyboardDidShow" notification.
    
    (-[WKContentView _zoomToRevealFocusedElement]):
    
    In the case where the (presumably internal) client has set `firstResponderKeyboardAvoidanceEnabled` to NO and
    the keyboard is animating in, defer the actual call into the web view to `-_zoomToRevealFocusedElement` until
    after the keyboard animation is finished. This ensures compatibility with existant logic in Mail for manually
    setting the content scroll inset on the WKScrollView after the keyboard animation is complete.
    
    (-[WKContentView resetShouldZoomToFocusRectAfterShowingKeyboard]):
    (-[WKContentView _elementDidBlur]):
    
    Tools:
    
    Add support for a UIScriptController hook to override `firstResponderKeyboardAvoidanceEnabled` on WKScrollView.
    See LayoutTests for more details.
    
    * TestRunnerShared/UIScriptContext/Bindings/UIScriptController.idl:
    * TestRunnerShared/UIScriptContext/UIScriptController.h:
    (WTR::UIScriptController::setScrollViewKeyboardAvoidanceEnabled):
    * WebKitTestRunner/ios/TestControllerIOS.mm:
    (WTR::TestController::platformResetStateToConsistentValues):
    * WebKitTestRunner/ios/UIScriptControllerIOS.h:
    * WebKitTestRunner/ios/UIScriptControllerIOS.mm:
    (WTR::UIScriptControllerIOS::setScrollViewKeyboardAvoidanceEnabled):
    
    LayoutTests:
    
    Add a layout test that (at least) exercises the newly added codepath, where focusing an editor when the scroll
    view has `firstResponderKeyboardAvoidanceEnabled` set to NO will still allow us to scroll to the selection.
    
    * editing/selection/ios/scroll-to-reveal-selection-with-keyboard-avoidance-disabled-expected.txt: Added.
    * editing/selection/ios/scroll-to-reveal-selection-with-keyboard-avoidance-disabled.html: Added.
    * resources/ui-helper.js:
    (window.UIHelper.setScrollViewKeyboardAvoidanceEnabled):
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288178 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-18  Wenson Hsieh  <wenson_hsieh@apple.com>

            REGRESSION (r264352): Mail compose body field does not avoid the keyboard when scrolling after focus
            https://bugs.webkit.org/show_bug.cgi?id=235331
            rdar://79296770

            Reviewed by Tim Horton.

            Add a layout test that (at least) exercises the newly added codepath, where focusing an editor when the scroll
            view has `firstResponderKeyboardAvoidanceEnabled` set to NO will still allow us to scroll to the selection.

            * editing/selection/ios/scroll-to-reveal-selection-with-keyboard-avoidance-disabled-expected.txt: Added.
            * editing/selection/ios/scroll-to-reveal-selection-with-keyboard-avoidance-disabled.html: Added.
            * resources/ui-helper.js:
            (window.UIHelper.setScrollViewKeyboardAvoidanceEnabled):

2022-02-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r288132. rdar://problem/87569029

    CSP: Improve handling of multiple policies
    https://bugs.webkit.org/show_bug.cgi?id=235199
    
    Reviewed by Kate Cheney.
    
    LayoutTests/imported/w3c:
    
    Add new test expectations with more passes.
    
    * web-platform-tests/content-security-policy/script-src/script-src-multiple-policies-one-using-hashing-algorithms-expected.txt:
    * web-platform-tests/content-security-policy/script-src/script-src-strict_dynamic_parser_inserted-expected.txt:
    * web-platform-tests/content-security-policy/style-src/style-src-error-event-fires-expected.txt:
    * web-platform-tests/content-security-policy/style-src/style-src-inline-style-nonce-blocked-error-event-expected.txt:
    * web-platform-tests/content-security-policy/style-src/style-src-multiple-policies-multiple-hashing-algorithms-expected.txt: Added.
    
    Source/WebCore:
    
    This fixes many issues with multiple CSP policies.
    
    To quote the spec for script-src:
    
    > Their behavior will be blocked unless every policy allows inline script, either implicitly by not
      specifying a script-src (or default-src) directive, or explicitly, by specifying "unsafe-inline",
      a nonce-source or a hash-source that matches the inline block.
    
    The previous structure was many distinct calls to check if there was a nonce in any policy, then if there
    was a hash in any policy, etc, rather than actually checking the policies as a whole to know if they
    allow or block a behavior. This lead to various issues where polices were not properly respected and where
    reports were inaccurate.
    
    The allScriptPoliciesAllow() function did try to consider all policies but was not very flexible and had buggy
    behavior like for each policy it would call findHashOfContentInPolicies() meaning hashes from other policies
    incorrectly applied to the current policy, plus general inefficiency of hashing the same content many
    times over.
    
    The new behavior relies more on passing all required information in a single function call to verify all
    policies in a single pass.
    
    * bindings/js/CachedScriptFetcher.cpp:
    (WebCore::CachedScriptFetcher::requestScriptWithCache const):
    * dom/InlineStyleSheetOwner.cpp:
    (WebCore::InlineStyleSheetOwner::createSheet):
    * dom/ScriptElement.cpp:
    (WebCore::ScriptElement::requestModuleScript):
    (WebCore::ScriptElement::executeClassicScript):
    * dom/StyledElement.cpp:
    (WebCore::StyledElement::styleAttributeChanged):
    * html/HTMLLinkElement.cpp:
    (WebCore::HTMLLinkElement::process):
    * loader/DocumentThreadableLoader.cpp:
    (WebCore::DocumentThreadableLoader::isAllowedByContentSecurityPolicy):
    * loader/ResourceLoaderOptions.h:
    * loader/cache/CachedResourceLoader.cpp:
    (WebCore::CachedResourceLoader::allowedByContentSecurityPolicy const):
    * page/csp/ContentSecurityPolicy.cpp:
    (WebCore::parseSubResourceIntegrityIntoDigests):
    (WebCore::generateHashesForContent):
    (WebCore::ContentSecurityPolicy::allowJavaScriptURLs const):
    (WebCore::ContentSecurityPolicy::allowInlineEventHandlers const):
    (WebCore::ContentSecurityPolicy::allowNonParserInsertedScripts const):
    (WebCore::ContentSecurityPolicy::allowInlineScript const):
    (WebCore::ContentSecurityPolicy::allowInlineStyle const):
    (WebCore::ContentSecurityPolicy::allowScriptFromSource const):
    (WebCore::ContentSecurityPolicy::allowStyleFromSource const):
    (WebCore::ContentSecurityPolicy::allScriptPoliciesAllow const): Deleted.
    (WebCore::ContentSecurityPolicy::findHashOfContentInPolicies const): Deleted.
    (WebCore::ContentSecurityPolicy::checkHashAndReportViolation const): Deleted.
    * page/csp/ContentSecurityPolicy.h:
    * page/csp/ContentSecurityPolicyDirectiveList.cpp:
    (WebCore::ContentSecurityPolicyDirectiveList::violatedDirectiveForUnsafeInlineScriptElement const):
    (WebCore::ContentSecurityPolicyDirectiveList::violatedDirectiveForInlineJavascriptURL const):
    (WebCore::ContentSecurityPolicyDirectiveList::violatedDirectiveForInlineEventHandlers const):
    (WebCore::ContentSecurityPolicyDirectiveList::violatedDirectiveForNonParserInsertedScripts const):
    (WebCore::ContentSecurityPolicyDirectiveList::violatedDirectiveForUnsafeInlineStyleElement const):
    (WebCore::ContentSecurityPolicyDirectiveList::violatedDirectiveForUnsafeInlineStyleAttribute const):
    (WebCore::ContentSecurityPolicyDirectiveList::violatedDirectiveForScript const):
    (WebCore::ContentSecurityPolicyDirectiveList::violatedDirectiveForStyle const):
    (WebCore::ContentSecurityPolicyDirectiveList::violatedDirectiveForUnsafeHashScript const): Deleted.
    (WebCore::ContentSecurityPolicyDirectiveList::violatedDirectiveForUnsafeHashStyle const): Deleted.
    (WebCore::ContentSecurityPolicyDirectiveList::violatedDirectiveForParserInsertedScript const): Deleted.
    (WebCore::ContentSecurityPolicyDirectiveList::violatedDirectiveForUnsafeInlineScriptAttribute const): Deleted.
    (WebCore::ContentSecurityPolicyDirectiveList::violatedDirectiveForScriptHash const): Deleted.
    (WebCore::ContentSecurityPolicyDirectiveList::violatedDirectiveForStyleHash const): Deleted.
    * page/csp/ContentSecurityPolicyDirectiveList.h:
    
    LayoutTests:
    
    Update test expectations, Some newly passing tests are no longer skipped and some have new reports.
    
    * TestExpectations:
    * http/tests/security/contentSecurityPolicy/1.1/module-scriptnonce-in-enforced-policy-and-not-in-report-only-expected.txt:
    * http/tests/security/contentSecurityPolicy/1.1/module-scriptnonce-multiple-policies-expected.txt:
    * http/tests/security/contentSecurityPolicy/1.1/scripthash-in-enforced-policy-and-not-in-report-only-expected.txt:
    * http/tests/security/contentSecurityPolicy/1.1/scripthash-multiple-policies-expected.txt:
    * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-allowed-by-enforced-policy-and-blocked-by-report-policy-expected.txt:
    * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-allowed-by-enforced-policy-and-blocked-by-report-policy2-expected.txt:
    * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-allowed-by-legacy-enforced-policy-and-blocked-by-report-policy-expected.txt:
    * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-allowed-by-legacy-enforced-policy-and-blocked-by-report-policy2-expected.txt:
    * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-blocked-by-enforced-policy-and-allowed-by-report-policy-expected.txt:
    * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-blocked-by-enforced-policy-and-allowed-by-report-policy2-expected.txt:
    * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-blocked-by-legacy-enforced-policy-and-blocked-by-report-policy-expected.txt:
    * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-blocked-by-legacy-enforced-policy-and-blocked-by-report-policy2-expected.txt:
    * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-in-enforced-policy-and-not-in-report-only-expected.txt:
    * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-multiple-policies-expected.txt:
    * http/tests/security/contentSecurityPolicy/inline-script-blocked-javascript-url-expected.txt:
    * http/tests/security/contentSecurityPolicy/javascript-url-blocked-by-default-src-star-expected.txt:
    * http/tests/security/contentSecurityPolicy/javascript-url-blocked-expected.txt:
    * http/tests/security/contentSecurityPolicy/window-open-javascript-url-blocked-expected.txt:
    * http/tests/security/contentSecurityPolicy/window-open-javascript-url-with-target-blocked-expected.txt:
    * platform/glib/TestExpectations:
    * platform/wk2/http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-css-in-iframe-report-only-expected.txt:
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288132 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-18  Patrick Griffis  <pgriffis@igalia.com>

            CSP: Improve handling of multiple policies
            https://bugs.webkit.org/show_bug.cgi?id=235199

            Reviewed by Kate Cheney.

            Update test expectations, Some newly passing tests are no longer skipped and some have new reports.

            * TestExpectations:
            * http/tests/security/contentSecurityPolicy/1.1/module-scriptnonce-in-enforced-policy-and-not-in-report-only-expected.txt:
            * http/tests/security/contentSecurityPolicy/1.1/module-scriptnonce-multiple-policies-expected.txt:
            * http/tests/security/contentSecurityPolicy/1.1/scripthash-in-enforced-policy-and-not-in-report-only-expected.txt:
            * http/tests/security/contentSecurityPolicy/1.1/scripthash-multiple-policies-expected.txt:
            * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-allowed-by-enforced-policy-and-blocked-by-report-policy-expected.txt:
            * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-allowed-by-enforced-policy-and-blocked-by-report-policy2-expected.txt:
            * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-allowed-by-legacy-enforced-policy-and-blocked-by-report-policy-expected.txt:
            * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-allowed-by-legacy-enforced-policy-and-blocked-by-report-policy2-expected.txt:
            * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-blocked-by-enforced-policy-and-allowed-by-report-policy-expected.txt:
            * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-blocked-by-enforced-policy-and-allowed-by-report-policy2-expected.txt:
            * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-blocked-by-legacy-enforced-policy-and-blocked-by-report-policy-expected.txt:
            * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-blocked-by-legacy-enforced-policy-and-blocked-by-report-policy2-expected.txt:
            * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-in-enforced-policy-and-not-in-report-only-expected.txt:
            * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-multiple-policies-expected.txt:
            * http/tests/security/contentSecurityPolicy/inline-script-blocked-javascript-url-expected.txt:
            * http/tests/security/contentSecurityPolicy/javascript-url-blocked-by-default-src-star-expected.txt:
            * http/tests/security/contentSecurityPolicy/javascript-url-blocked-expected.txt:
            * http/tests/security/contentSecurityPolicy/window-open-javascript-url-blocked-expected.txt:
            * http/tests/security/contentSecurityPolicy/window-open-javascript-url-with-target-blocked-expected.txt:
            * platform/glib/TestExpectations:
            * platform/wk2/http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-css-in-iframe-report-only-expected.txt:

2022-02-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r288031. rdar://problem/82997136

    [Cocoa] rVFC() isn't called for initial video load
    https://bugs.webkit.org/show_bug.cgi?id=235006
    
    Reviewed by Eric Carlson.
    
    Source/WebCore:
    
    Tests: media/request-video-frame-loadstart.html
           media/request-video-frame-seek.html
    
    Add a new utility class, QueuedVideoOutput, which will pull pixel buffers out of an AVPlayerItemVideoOutput
    pre-emptively. Once those pixel buffers are enqueued locally, their associated timing information can be used to
    fire a callback for that buffer's display time.
    
    Previously, paints were blocked from pulling new pixel buffers from the video output. With the QueuedVideoOutput
    class, this is no longer necessary. The QueuedVideoOutput will notify its client when the image for currentTime
    changes, and other clients can freely ask for the currentTime's image.
    
    To curb runaway memory growth, frames are purged as soon as a new image for the current time is available, and when
    the video output signals that its own queues were purged.
    
    * WebCore.xcodeproj/project.pbxproj:
    * html/HTMLVideoElement.cpp:
    (WebCore::HTMLVideoElement::cancelVideoFrameCallback):
    (WebCore::HTMLVideoElement::serviceRequestVideoFrameCallbacks):
    * html/HTMLVideoElement.h:
    * platform/graphics/avfoundation/objc/MediaPlayerPrivateAVFoundationObjC.h:
    * platform/graphics/avfoundation/objc/MediaPlayerPrivateAVFoundationObjC.mm:
    (WebCore::MediaPlayerPrivateAVFoundationObjC::~MediaPlayerPrivateAVFoundationObjC):
    (WebCore::MediaPlayerPrivateAVFoundationObjC::hasAvailableVideoFrame const):
    (WebCore::MediaPlayerPrivateAVFoundationObjC::updateVideoFullscreenInlineImage):
    (WebCore::MediaPlayerPrivateAVFoundationObjC::setVideoFullscreenLayer):
    (WebCore::MediaPlayerPrivateAVFoundationObjC::startVideoFrameMetadataGathering):
    (WebCore::MediaPlayerPrivateAVFoundationObjC::checkNewVideoFrameMetadata):
    (WebCore::MediaPlayerPrivateAVFoundationObjC::updateVideoTracks):
    (WebCore::MediaPlayerPrivateAVFoundationObjC::createVideoOutput):
    (WebCore::MediaPlayerPrivateAVFoundationObjC::destroyVideoOutput):
    (WebCore::MediaPlayerPrivateAVFoundationObjC::updateLastPixelBuffer):
    (WebCore::MediaPlayerPrivateAVFoundationObjC::videoOutputHasAvailableFrame):
    (WebCore::MediaPlayerPrivateAVFoundationObjC::updateLastImage):
    (WebCore::MediaPlayerPrivateAVFoundationObjC::paintWithVideoOutput):
    (WebCore::MediaPlayerPrivateAVFoundationObjC::pixelBufferForCurrentTime):
    (WebCore::MediaPlayerPrivateAVFoundationObjC::nativeImageForCurrentTime):
    (WebCore::MediaPlayerPrivateAVFoundationObjC::colorSpace):
    (WebCore::MediaPlayerPrivateAVFoundationObjC::outputMediaDataWillChange):
    (WebCore::globalPullDelegateQueue): Deleted.
    (WebCore::MediaPlayerPrivateAVFoundationObjC::waitForVideoOutputMediaDataWillChange): Deleted.
    (-[WebCoreAVFPullDelegate initWithPlayer:]): Deleted.
    (-[WebCoreAVFPullDelegate outputMediaDataWillChange:]): Deleted.
    (-[WebCoreAVFPullDelegate outputSequenceWasFlushed:]): Deleted.
    * platform/graphics/avfoundation/objc/QueuedVideoOutput.h: Added.
    * platform/graphics/avfoundation/objc/QueuedVideoOutput.mm: Added.
    (-[WebQueuedVideoOutputDelegate initWithParent:]):
    (-[WebQueuedVideoOutputDelegate outputMediaDataWillChange:]):
    (-[WebQueuedVideoOutputDelegate outputSequenceWasFlushed:]):
    (-[WebQueuedVideoOutputDelegate observeValueForKeyPath:ofObject:change:context:]):
    (WebCore::globalOutputDelegateQueue):
    (WebCore::QueuedVideoOutput::create):
    (WebCore::QueuedVideoOutput::QueuedVideoOutput):
    (WebCore::QueuedVideoOutput::~QueuedVideoOutput):
    (WebCore::QueuedVideoOutput::invalidate):
    (WebCore::decltype):
    (WebCore::QueuedVideoOutput::hasImageForTime const):
    (WebCore::QueuedVideoOutput::takeVideoFrameEntryForTime):
    (WebCore::QueuedVideoOutput::addCurrentImageChangedObserver):
    (WebCore::QueuedVideoOutput::configureNextImageObserver):
    (WebCore::QueuedVideoOutput::imageForCurrentTimeChanged):
    (WebCore::QueuedVideoOutput::addVideoFrameEntries):
    (WebCore::QueuedVideoOutput::purgeVideoFrameEntries):
    (WebCore::QueuedVideoOutput::purgeImagesBeforeTime):
    (WebCore::QueuedVideoOutput::rateChanged):
    
    Source/WebCore/PAL:
    
    * pal/spi/cocoa/AVFoundationSPI.h:
    
    LayoutTests:
    
    * media/request-video-frame-loadstart-expected.txt: Added.
    * media/request-video-frame-loadstart.html: Added.
    * media/request-video-frame-seek-expected.txt: Added.
    * media/request-video-frame-seek.html: Added.
    * platform/ios-wk2/TestExpectations:
    * platform/mac-wk1/TestExpectations:
    * platform/mac-wk2/TestExpectations:
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288031 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-14  Jer Noble  <jer.noble@apple.com>

            [Cocoa] rVFC() isn't called for initial video load
            https://bugs.webkit.org/show_bug.cgi?id=235006

            Reviewed by Eric Carlson.

            * media/request-video-frame-loadstart-expected.txt: Added.
            * media/request-video-frame-loadstart.html: Added.
            * media/request-video-frame-seek-expected.txt: Added.
            * media/request-video-frame-seek.html: Added.
            * platform/ios-wk2/TestExpectations:
            * platform/mac-wk1/TestExpectations:
            * platform/mac-wk2/TestExpectations:

2022-02-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r288003. rdar://problem/85505101

    Only apply automatic minimum block-size aspect-ratio rules to non-replaced elements
    https://bugs.webkit.org/show_bug.cgi?id=235058
    <rdar://85505101>
    
    Reviewed by Alan Bujtas.
    
    Source/WebCore:
    
    The rules in https://www.w3.org/TR/css-sizing-4/#aspect-ratio-minimum
    that define the automatic minimum size of an element subject to an
    aspect-ratio only apply if the element is non-replaced.
    
    In constrainLogicalHeightByMinMax specifically, when min-height is
    auto, after applying the aspect-ratio to produce an automatic minimum
    height, we bump it up to the content height if the element has
    children. This, presumably, is to account for the way the height of a
    block is computed in CSS 2.2. (As CSS 2.2 doesn't have an auto value
    for min-height, and a CSS Block Layout module has not been written in
    terms of CSS Sizing concepts, there is no clear definition of
    automatic minimum sizing for blocks at the moment.) If we erroneously
    apply this to a replaced element, such as an image or video, it can
    get a computed min-height equal to the intrinsic height of the image,
    which may be much larger than expected.
    
    This commit adds an is<RenderReplaced>() check for both automatic
    minimum logical width and height calculations, although I was unable to
    produce a test to exercise the logical width case (which does not take
    the intrinsic size into account when computing the automatic minimum).
    
    Test: fast/css/aspect-ratio-min-height-replaced.html
    
    * rendering/RenderBox.cpp:
    (WebCore::RenderBox::constrainLogicalWidthInFragmentByMinMax const):
    (WebCore::RenderBox::constrainLogicalHeightByMinMax const):
    
    LayoutTests:
    
    Test that replaced elements with child content (in this case, a
    <video> element's controls in the UA shadow tree) don't influence the
    automatic minimum size calculation.
    
    * fast/css/aspect-ratio-min-height-replaced-expected.html: Added.
    * fast/css/aspect-ratio-min-height-replaced.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288003 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-13  Cameron McCormack  <heycam@apple.com>

            Only apply automatic minimum block-size aspect-ratio rules to non-replaced elements
            https://bugs.webkit.org/show_bug.cgi?id=235058
            <rdar://85505101>

            Reviewed by Alan Bujtas.

            Test that replaced elements with child content (in this case, a
            <video> element's controls in the UA shadow tree) don't influence the
            automatic minimum size calculation.

            * fast/css/aspect-ratio-min-height-replaced-expected.html: Added.
            * fast/css/aspect-ratio-min-height-replaced.html: Added.

2022-02-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r287981. rdar://problem/84069534

    REGRESSION (r278561): Right clicking a link selects the full line with unrelated text
    https://bugs.webkit.org/show_bug.cgi?id=235172
    <rdar://84069534>
    
    Reviewed by Dean Jackson.
    
    Source/WebCore:
    
    r278561 slightly change highlightStateForTextBox's behavior which now (correctly) returns HighlightState::None when the
    RenderText content is not part of the current selection. Prior to r278561, it returned the RenderText's original selection state
    which in this case was HighlightState::End.
    
    <div><span>A<br>B<span style="position: absolute"></span></span>C</div>
    
    In this specific case when we select the outer <span>, we end up with the following selection states for the generated line boxes:
      (B) -> "Inside"
      (C) -> "None"
    while previously (C) came back as "End" (note that the absolute positioned element does not generate line boxes).
    
    Now as Line::selectionState traverses through the line boxes, it comes across an unexpected "Inside -> None" transition at the selection end boundary (B -> C)
    which incorrectly leaves the line state in "Inside" and we paint the selection all the way to the end of the block.
    
    Test: fast/editing/selection-with-absolute-positioned-empty-content.html
    
    * layout/integration/InlineIteratorLine.cpp:
    (WebCore::InlineIterator::Line::selectionState const):
    
    LayoutTests:
    
    * fast/editing/selection-with-absolute-positioned-empty-content-expected.txt: Added.
    * fast/editing/selection-with-absolute-positioned-empty-content.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@287981 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-13  Alan Bujtas  <zalan@apple.com>

            REGRESSION (r278561): Right clicking a link selects the full line with unrelated text
            https://bugs.webkit.org/show_bug.cgi?id=235172
            <rdar://84069534>

            Reviewed by Dean Jackson.

            * fast/editing/selection-with-absolute-positioned-empty-content-expected.txt: Added.
            * fast/editing/selection-with-absolute-positioned-empty-content.html: Added.

2022-02-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r287970. rdar://problem/87423294

    PCM: Same-site triggering events should support ephemeral measurement
    https://bugs.webkit.org/show_bug.cgi?id=235160
    <rdar://87423294>
    
    Reviewed by Alex Christensen.
    
    Source/WebCore:
    
    We added ephemeral measurement for direct response advertising in https://bugs.webkit.org/show_bug.cgi?id=228984.
    We added support for same-site triggering events in https://bugs.webkit.org/show_bug.cgi?id=233173.
    These two features should work together.
    
    The bug was that WebKit::NetworkSession::handlePrivateClickMeasurementConversion()
    only checked for cross-site triggering events when handling ephemeral measurements.
    
    Test: http/tests/privateClickMeasurement/triggering-event-with-attribution-source-through-fetch-keepalive-ephemeral.html
    
    * loader/PrivateClickMeasurement.cpp:
    (WebCore::PrivateClickMeasurement::isNeitherSameSiteNorCrossSiteTriggeringEvent):
        New convenience function to enhance readability in
        WebKit::NetworkSession::handlePrivateClickMeasurementConversion().
    * loader/PrivateClickMeasurement.h:
    
    Source/WebKit:
    
    We added ephemeral measurement for direct response advertising in https://bugs.webkit.org/show_bug.cgi?id=228984.
    We added support for same-site triggering events in https://bugs.webkit.org/show_bug.cgi?id=233173.
    These two features should work together.
    
    * NetworkProcess/NetworkSession.cpp:
    (WebKit::NetworkSession::handlePrivateClickMeasurementConversion):
        This function previously only checked for cross-site triggering events when
        handling ephemeral measurements. Now it also checks for same-site triggering
        events.
    
    LayoutTests:
    
    * http/tests/privateClickMeasurement/triggering-event-with-attribution-source-through-fetch-keepalive-ephemeral-expected.txt: Added.
    * http/tests/privateClickMeasurement/triggering-event-with-attribution-source-through-fetch-keepalive-ephemeral.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@287970 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-12  John Wilander  <wilander@apple.com>

            PCM: Same-site triggering events should support ephemeral measurement
            https://bugs.webkit.org/show_bug.cgi?id=235160
            <rdar://87423294>

            Reviewed by Alex Christensen.

            * http/tests/privateClickMeasurement/triggering-event-with-attribution-source-through-fetch-keepalive-ephemeral-expected.txt: Added.
            * http/tests/privateClickMeasurement/triggering-event-with-attribution-source-through-fetch-keepalive-ephemeral.html: Added.

2022-02-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r287891. rdar://problem/85345180

    REGRESSION (r283723): Web Inspector: CSS declarations unexpectedly removed when editing property value
    https://bugs.webkit.org/show_bug.cgi?id=233195
    
    Reviewed by Devin Rousso.
    
    Source/WebInspectorUI:
    
    Re-attach CSS property if it was detached while editing.
    
    CSSProperty is detached when focusing on property name and deleting it. Consequent edits of the detached
    CSSProperty were not saved. This patch re-attaches detached property at the previous position.
    
    * UserInterface/Models/CSSProperty.js:
    (WI.CSSProperty.prototype.set name):
    * UserInterface/Models/CSSStyleDeclaration.js:
    (WI.CSSStyleDeclaration.prototype.newBlankProperty):
    (WI.CSSStyleDeclaration.prototype.insertProperty):
    Introduce this method since the logic is used in two different places now.
    
    LayoutTests:
    
    Test removing CSS property name.
    
    * inspector/css/modify-css-property-expected.txt:
    * inspector/css/modify-css-property.html:
    * inspector/css/resources/modify-css-property.css:
    (.rule-e):
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@287891 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-11  Nikita Vasilyev  <nvasilyev@apple.com>

            REGRESSION (r283723): Web Inspector: CSS declarations unexpectedly removed when editing property value
            https://bugs.webkit.org/show_bug.cgi?id=233195

            Reviewed by Devin Rousso.

            Test removing CSS property name.

            * inspector/css/modify-css-property-expected.txt:
            * inspector/css/modify-css-property.html:
            * inspector/css/resources/modify-css-property.css:
            (.rule-e):

2022-02-07  Russell Epstein  <repstein@apple.com>

        Cherry-pick r287847. rdar://problem/86488039

    ASSERTION FAILED in RenderLayer::updateClipRects
    https://bugs.webkit.org/show_bug.cgi?id=234315
    
    Reviewed by Simon Fraser.
    
    Source/WebCore:
    
    In clippingRootForPainting(), the dialog element uses the top layer as its clipping root layer.
    When it caculates the clip rects, it caculates all its ancestors' clip rects and caches them
    including the clipping root layer. However, if the ancestor is a transformed layer, it should be
    treated as a root layer. When the transformed layer updates its clip rects, the root layer won't
    match the one in cache. This patch stops the dialog descendant propagating its clipping root layer
    to the ancestors' in cache.
    
    * rendering/RenderLayer.cpp:
    (WebCore::RenderLayer::clipCrossesPaintingBoundary const):
    
    LayoutTests:
    
    * TestExpectations:
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@287847 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-10  Cathie Chen  <cathiechen@igalia.com>

            ASSERTION FAILED in RenderLayer::updateClipRects
            https://bugs.webkit.org/show_bug.cgi?id=234315

            Reviewed by Simon Fraser.

            * TestExpectations:

2022-02-02  Russell Epstein  <repstein@apple.com>

        Cherry-pick r288423. rdar://problem/87701738

    m_lastStyleChangeEventStyle null ptr deref for accelerated CSS Animation with no duration and an implicit keyframe
    https://bugs.webkit.org/show_bug.cgi?id=235394
    <rdar://problem/87701738>
    
    Reviewed by Antti Koivisto.
    
    Source/WebCore:
    
    Test: webanimations/accelerated-animation-without-duration-crash.html
    
    In r287827, the fix for bug 235014, we stopped filling implicit keyframes for CSS Animations at creation
    time such that the output of getKeyframes() would correctly account for the missing keyframes. This meant
    that we have to fill in those implicit keyframes when running an accelerated animation before we pass it
    on to GraphicsLayer.
    
    We would always use the value stored by lastStyleChangeEventStyle() with an assert that this value was
    never null. However, in the case of an animation that is not relevant, such as a CSS Animation with no
    duration, we've never had a chance to set that style since Style::TreeResolver::createAnimatedElementUpdate()
    would not see any "relevant" (a term defined by the Web Animations specification to specify an animation
    that has an effect on its target) animations.
    
    We now use the renderer's style as a fallback, which is guaranteed to be defined at this stage.
    
    * animation/KeyframeEffect.cpp:
    (WebCore::KeyframeEffect::applyPendingAcceleratedActions):
    
    LayoutTests:
    
    New test, created by Gabriel Nava Marino, that creates an accelerated animation with no
    duration and with implicit keyframes that would crash prior to this patch.
    
    * webanimations/accelerated-animation-without-duration-crash-expected.txt: Added.
    * webanimations/accelerated-animation-without-duration-crash.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288423 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-23  Antoine Quint  <graouts@webkit.org>

            m_lastStyleChangeEventStyle null ptr deref for accelerated CSS Animation with no duration and an implicit keyframe
            https://bugs.webkit.org/show_bug.cgi?id=235394
            <rdar://problem/87701738>

            Reviewed by Antti Koivisto.

            New test, created by Gabriel Nava Marino, that creates an accelerated animation with no
            duration and with implicit keyframes that would crash prior to this patch.

            * webanimations/accelerated-animation-without-duration-crash-expected.txt: Added.
            * webanimations/accelerated-animation-without-duration-crash.html: Added.

2022-01-31  Russell Epstein  <repstein@apple.com>

        Cherry-pick r288095. rdar://problem/88286876

    [LFC][IFC] ASSERT in InlineContentBreaker::tryBreakingPreviousNonOverflowingRuns (!partialRun->length) when webinspector is open
    https://bugs.webkit.org/show_bug.cgi?id=235286
    
    Reviewed by Antti Koivisto.
    
    Source/WebCore:
    
    When the overflowing run is non-breakable (in this case an "inline box end" with padding), we try to find a breakable
    previous run in the candidate list. If we find such text run, we try to break it by looking at the applicable CSS properties
    (e.g. word-break, overflow-wrap). Now text runs with 1 (and 0) length and no adjacent text runs need special handling
    as they can't be broken "within word" or at boundary (they treated as "unbreakable").
    
    Test: fast/text/overflow-wrap-assert-with-zero-width-overflowing-content.html
    
    * layout/formattingContexts/inline/InlineContentBreaker.cpp:
    (WebCore::Layout::InlineContentBreaker::tryBreakingTextRun const):
    (WebCore::Layout::InlineContentBreaker::tryBreakingPreviousNonOverflowingRuns const): The trailing run starts
    at the beginning of the run and ends right before at the last character.
    
    LayoutTests:
    
    * fast/text/overflow-wrap-assert-with-zero-width-overflowing-content-expected.txt: Added.
    * fast/text/overflow-wrap-assert-with-zero-width-overflowing-content.html: Added.
    * platform/ios/fast/text/basic/015-expected.txt: Progressions.
    * platform/mac/fast/text/basic/015-expected.txt:
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288095 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-17  Alan Bujtas  <zalan@apple.com>

            [LFC][IFC] ASSERT in InlineContentBreaker::tryBreakingPreviousNonOverflowingRuns (!partialRun->length) when webinspector is open
            https://bugs.webkit.org/show_bug.cgi?id=235286

            Reviewed by Antti Koivisto.

            * fast/text/overflow-wrap-assert-with-zero-width-overflowing-content-expected.txt: Added.
            * fast/text/overflow-wrap-assert-with-zero-width-overflowing-content.html: Added.
            * platform/ios/fast/text/basic/015-expected.txt: Progressions.
            * platform/mac/fast/text/basic/015-expected.txt:

2022-01-31  Robert Jenner  <Jenner@apple.com>

        Unreviewed test gardening, fix a bad merge (r288843)

        * platform/mac-wk2/TestExpectations:

2022-01-25  Alan Coon  <alancoon@apple.com>

        Cherry-pick r288267. rdar://problem/87785288

    <dialog> with transformed ancestor asserts under RenderGeometryMap
    https://bugs.webkit.org/show_bug.cgi?id=235194
    
    Reviewed by Antti Koivisto.
    
    Source/WebCore:
    
    With this change we reparent the RenderLayers of top layer elements under the RenderView's
    layer. This makes the RenderLayer hierarchy a closer match to the containing block
    hierarchy, and means that all the existing RenderLayer tree walks that use
    parent()/firstChild()/nextSibling() traverse the the "top layer" layers as children of the
    RenderView. This in turn means that the various bits of RenderLayer state that track the
    state of descendants (e.g. m_hasVisibleDescendant, m_hasSelfPaintingLayerDescendant,
    m_hasNotIsolatedBlendingDescendants) reflect descendency in the top-layer-aware hierarchy.
    
    Note that m_hasVisibleDescendant is about the inherited `visibility` property which follows
    DOM order, but since we consult it during painting-related tree walks, we want this state to
    reflect the top-layer-aware tree.
    
    The patch adds top-layer-aware helpers on RenderElement to find the parent and next sibling,
    and uses those when parenting layers.
    
    In addition, when the top layer status changes for a RenderLayer, we unparent and
    re-parent its layer (which in turn should toggle the relevant dirty bits).
    
    * rendering/RenderElement.cpp:
    (WebCore::findNextLayer):
    (WebCore::layerNextSiblingRespectingTopLayer):
    (WebCore::addLayers):
    (WebCore::RenderElement::layerParentRespectingTopLayer const):
    (WebCore::RenderElement::layerNextSiblingRespectingTopLayer const):
    (WebCore::RenderElement::insertedIntoTree):
    (WebCore::RenderElement::willBeRemovedFromTree):
    (WebCore::RenderElement::findNextLayer const): Deleted.
    * rendering/RenderElement.h:
    * rendering/RenderLayer.cpp:
    (WebCore::RenderLayer::insertOnlyThisLayer):
    (WebCore::RenderLayer::stackingContext const): No need for the explicit establishesTopLayer() check.
    (WebCore::RenderLayer::setHasVisibleContent):
    (WebCore::RenderLayer::dirtyAncestorChainVisibleDescendantStatus):
    (WebCore::RenderLayer::setAncestorChainHasVisibleDescendant):
    (WebCore::RenderLayer::enclosingAncestorForPosition const): No need for the explicit establishesTopLayer() check.
    (WebCore::RenderLayer::paintLayerWithEffects): Ditto
    (WebCore::RenderLayer::establishesTopLayerWillChange):
    (WebCore::RenderLayer::establishesTopLayerDidChange):
    (WebCore::RenderLayer::clipCrossesPaintingBoundary const): No need for the explicit establishesTopLayer() check.
    (WebCore::RenderLayer::calculateClipRects const): Ditto
    
    LayoutTests:
    
    * TestExpectations: imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/top-layer-parent-transform.html
    no longer asserts.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288267 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-19  Simon Fraser  <simon.fraser@apple.com>

            <dialog> with transformed ancestor asserts under RenderGeometryMap
            https://bugs.webkit.org/show_bug.cgi?id=235194

            Reviewed by Antti Koivisto.

            * TestExpectations: imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/top-layer-parent-transform.html
            no longer asserts.

2022-01-25  Alan Coon  <alancoon@apple.com>

        Cherry-pick r287845. rdar://problem/87785288

    REGRESSION(r287683): <dialog> elements inside clipped/overflowed elements are no longer shown
    https://bugs.webkit.org/show_bug.cgi?id=234984
    
    Reviewed by Simon Fraser.
    
    Source/WebCore:
    
    Paint at the right place by fixing isContainerForPositioned, also fix clip rects.
    
    * rendering/RenderLayer.cpp:
    (WebCore::isContainerForPositioned):
    (WebCore::RenderLayer::enclosingAncestorForPosition const):
    (WebCore::accumulateOffsetTowardsAncestor):
    (WebCore::RenderLayer::calculateClipRects const):
    
    LayoutTests:
    
    Enable relevant tests. Set the asserting test as Crash instead of Skipping.
    
    * TestExpectations:
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@287845 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-10  Tim Nguyen  <ntim@apple.com>

            REGRESSION(r287683): <dialog> elements inside clipped/overflowed elements are no longer shown
            https://bugs.webkit.org/show_bug.cgi?id=234984

            Reviewed by Simon Fraser.

            Enable relevant tests. Set the asserting test as Crash instead of Skipping.

            * TestExpectations:

2022-01-25  Russell Epstein  <repstein@apple.com>

        Cherry-pick r288315. rdar://problem/87601762

    Implement WebGL GPU buffer texture upload path for Cocoa getUserMedia camera streams
    https://bugs.webkit.org/show_bug.cgi?id=235233
    <rdar://problem/87601762>
    
    Patch by Kimmo Kinnunen <kkinnunen@apple.com> on 2022-01-20
    Reviewed by Youenn Fablet.
    
    Source/WebCore:
    
    Make full texture uploads from MediaStream camera captures use CVPixelBuffers
    instead of reading the pixels back.
    Implement MediaPlayerInterface::pixelBufferForCurrentTime() for
    MediaPlayerPrivateMediaSourceAVFObjC.
    Rename functions from pixelBuffer... to videoSample...
    Use new type MediaSampleVideoFrame instead of CVPixelBuffer.
    MediaSampleVideoFrame contains also the frame orientation. The
    orientation is needed as the camera might capture the image
    with a rotation or a flip.
    
    To avoid ifdefs, the new API videoSampleForCurrentTime exists
    for all platforms, but is currently called only by Cocoa.
    Also the type MediaSampleVideoFrame exists for all platforms
    but has the frame contents implementation only for Cocoa.
    
    Tested by
    fast/mediastream/getUserMedia-to-canvas-1.html
    fast/mediastream/getUserMedia-to-canvas-2.html
    
    Currently the "mirrored" part is tested manually, WebKit
    does not request mirrored camera image so it is dead code.
    
    * Headers.cmake:
    * SourcesCocoa.txt:
    * WebCore.xcodeproj/project.pbxproj:
    * platform/graphics/MediaPlayer.cpp:
    (WebCore::MediaPlayer::videoSampleForCurrentTime):
    (WebCore::MediaPlayer::pixelBufferForCurrentTime): Deleted.
    * platform/graphics/MediaPlayer.h:
    * platform/graphics/MediaPlayerPrivate.h:
    (WebCore::MediaPlayerPrivateInterface::copyVideoTextureToPlatformTexture):
    (WebCore::MediaPlayerPrivateInterface::videoSampleForCurrentTime):
    (WebCore::MediaPlayerPrivateInterface::pixelBufferForCurrentTime): Deleted.
    * platform/graphics/MediaSampleVideoFrame.h: Added.
    (WebCore::MediaSampleVideoFrame::orientation const):
    (WebCore::MediaSampleVideoFrame::pixelBuffer const):
    (WebCore::MediaSampleVideoFrame::operator== const):
    (WebCore::MediaSampleVideoFrame::encode const):
    (WebCore::MediaSampleVideoFrame::decode):
    * platform/graphics/avfoundation/MediaSampleVideoFrameAVF.mm: Added.
    (WebCore::MediaSampleVideoFrame::MediaSampleVideoFrame):
    * platform/graphics/avfoundation/objc/MediaPlayerPrivateAVFoundationObjC.h:
    * platform/graphics/avfoundation/objc/MediaPlayerPrivateAVFoundationObjC.mm:
    (WebCore::MediaPlayerPrivateAVFoundationObjC::videoSampleForCurrentTime):
    (WebCore::MediaPlayerPrivateAVFoundationObjC::pixelBufferForCurrentTime): Deleted.
    * platform/graphics/avfoundation/objc/MediaPlayerPrivateMediaSourceAVFObjC.h:
    * platform/graphics/avfoundation/objc/MediaPlayerPrivateMediaSourceAVFObjC.mm:
    (WebCore::MediaPlayerPrivateMediaSourceAVFObjC::videoSampleForCurrentTime):
    (WebCore::MediaPlayerPrivateMediaSourceAVFObjC::pixelBufferForCurrentTime): Deleted.
    * platform/graphics/avfoundation/objc/MediaPlayerPrivateMediaStreamAVFObjC.h:
    * platform/graphics/avfoundation/objc/MediaPlayerPrivateMediaStreamAVFObjC.mm:
    (WebCore::videoOrientation):
    (WebCore::MediaPlayerPrivateMediaStreamAVFObjC::videoSampleForCurrentTime):
    * platform/graphics/cocoa/GraphicsContextGLCocoa.mm:
    (WebCore::GraphicsContextGLCocoa::copyTextureFromMedia):
    * platform/graphics/cv/GraphicsContextGLCV.h:
    * platform/graphics/cv/GraphicsContextGLCVCocoa.cpp:
    (WebCore::GraphicsContextGLCVCocoa::GraphicsContextGLCVCocoa):
    (WebCore::GraphicsContextGLCVCocoa::copyVideoFrameToTexture):
    (WebCore::GraphicsContextGLCVCocoa::copyPixelBufferToTexture): Deleted.
    * platform/graphics/cv/GraphicsContextGLCVCocoa.h:
    
    Source/WebKit:
    
    Rename functions from pixelBuffer... to videoFrame.
    Send new type MediaPlayerVideoFrame instead of CVPixelBuffer.
    MediaPlayerVideoFrame contains also the frame orientation.
    
    * GPUProcess/graphics/RemoteGraphicsContextGL.cpp:
    (WebKit::RemoteGraphicsContextGL::copyTextureFromMedia):
    * GPUProcess/media/RemoteMediaPlayerProxy.cpp:
    (WebKit::RemoteMediaPlayerProxy::invalidate):
    (WebKit::RemoteMediaPlayerProxy::videoFrameForCurrentTimeIfChanged):
    * GPUProcess/media/RemoteMediaPlayerProxy.h:
    * GPUProcess/media/RemoteMediaPlayerProxy.messages.in:
    * GPUProcess/media/cocoa/RemoteMediaPlayerProxyCocoa.mm:
    (WebKit::RemoteMediaPlayerProxy::pixelBufferForCurrentTimeIfChanged): Deleted.
    * WebProcess/GPU/media/MediaPlayerPrivateRemote.cpp:
    (WebKit::MediaPlayerPrivateRemote::videoFrameForCurrentTime):
    (WebKit::MediaPlayerPrivateRemote::pixelBufferForCurrentTime): Deleted.
    * WebProcess/GPU/media/MediaPlayerPrivateRemote.h:
    * WebProcess/GPU/media/cocoa/MediaPlayerPrivateRemoteCocoa.mm:
    (WebKit::MediaPlayerPrivateRemote::pixelBufferForCurrentTime): Deleted.
    
    LayoutTests:
    
    * fast/mediastream/getUserMedia-to-canvas.html:
    * webrtc/routines.js:
    Test camera image rotations in the test.
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288315 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-20  Kimmo Kinnunen  <kkinnunen@apple.com>

            Implement WebGL GPU buffer texture upload path for Cocoa getUserMedia camera streams
            https://bugs.webkit.org/show_bug.cgi?id=235233
            <rdar://problem/87601762>

            Reviewed by Youenn Fablet.

            * fast/mediastream/getUserMedia-to-canvas.html:
            * webrtc/routines.js:
            Test camera image rotations in the test.

2022-01-24  Russell Epstein  <repstein@apple.com>

        Revert r282746. rdar://problem/87732806

2022-01-24  Alan Coon  <alancoon@apple.com>

        Cherry-pick r288429. rdar://problem/86612099

    Position:fixed layers shouldn't allocate a backing buffer if all children are offscreen.
    https://bugs.webkit.org/show_bug.cgi?id=235420
    <rdar://86612099>
    
    Patch by Matt Woodrow <mattwoodrow@apple.com> on 2022-01-23
    Reviewed by Simon Fraser and Darin Adler.
    
    Source/WebCore:
    
    Adds a bounds intersection check to isPaintDestinationForDescendantLayers,
    so that we can exclude descendants that definitely won't draw anything into
    the compositing layer. Uses a conservative check, which gives up if there are
    any transforms in the ancestor chain.
    
    Test: compositing/backing/no-backing-for-offscreen-children-of-position-fixed.html
    
    * rendering/RenderLayerBacking.cpp:
    (WebCore::intersectsWithAncestor):
    (WebCore::RenderLayerBacking::isPaintDestinationForDescendantLayers const):
    
    LayoutTests:
    
    Adds a test that has a viewport sized position:fixed element (with compositing
    layer), and a single child which is entirely offscreen. Tests that we correctly
    determine that we don't need a backing store for the layer.
    
    * compositing/backing/no-backing-for-offscreen-children-of-position-fixed-expected.txt: Added.
    * compositing/backing/no-backing-for-offscreen-children-of-position-fixed.html: Added.
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288429 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-23  Matt Woodrow  <mattwoodrow@apple.com>

            Position:fixed layers shouldn't allocate a backing buffer if all children are offscreen.
            https://bugs.webkit.org/show_bug.cgi?id=235420
            <rdar://86612099>

            Reviewed by Simon Fraser and Darin Adler.

            Adds a test that has a viewport sized position:fixed element (with compositing
            layer), and a single child which is entirely offscreen. Tests that we correctly
            determine that we don't need a backing store for the layer.

            * compositing/backing/no-backing-for-offscreen-children-of-position-fixed-expected.txt: Added.
            * compositing/backing/no-backing-for-offscreen-children-of-position-fixed.html: Added.

2022-01-24  Alan Coon  <alancoon@apple.com>

        Cherry-pick r288336. rdar://problem/86558157

    REGRESSION (r284136): A slight horizontal rubberband kills scroll momentum
    https://bugs.webkit.org/show_bug.cgi?id=234384
    
    Reviewed by Tim Horton.
    
    Source/WebCore:
    
    ScrollAnimationRubberBand subtly changed the behavior of the rubberband animation on the
    axis that is not the rubberbanding axis. Because it converged on m_targetOffset, it always
    resulted in no offset on that axis.
    
    Fix by restoring the behavior from before r284136, which applies the rubberbanding as a
    delta from the current offset and no longer uses m_targetOffset, which is removed. It's a
    bit surprising that this rubberband animation drives a vertical scroll when the gesture is
    primarily horizontal (normally we'd clamp these deltas to be purely horizontal), but people
    are used to this behavior so restore it.
    
    Test: fast/scrolling/mac/j-shaped-scroll-rubberband.html
    
    * platform/ScrollAnimation.h:
    * platform/ScrollingEffectsController.cpp:
    (WebCore::ScrollingEffectsController::overscrollAmount):
    (WebCore::ScrollingEffectsController::scrollOffset):
    * platform/ScrollingEffectsController.h:
    * platform/mac/ScrollAnimationRubberBand.h:
    * platform/mac/ScrollAnimationRubberBand.mm:
    (WebCore::ScrollAnimationRubberBand::startRubberBandAnimation):
    (WebCore::ScrollAnimationRubberBand::serviceAnimation):
    (WebCore::ScrollAnimationRubberBand::debugDescription const):
    * platform/mac/ScrollingEffectsController.mm:
    (WebCore::ScrollingEffectsController::startRubberBandAnimation):
    (WebCore::ScrollingEffectsController::startRubberBandAnimationIfNecessary):
    
    LayoutTests:
    
    * fast/scrolling/mac/j-shaped-scroll-rubberband-expected.txt: Added.
    * fast/scrolling/mac/j-shaped-scroll-rubberband.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288336 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-20  Simon Fraser  <simon.fraser@apple.com>

            REGRESSION (r284136): A slight horizontal rubberband kills scroll momentum
            https://bugs.webkit.org/show_bug.cgi?id=234384

            Reviewed by Tim Horton.

            * fast/scrolling/mac/j-shaped-scroll-rubberband-expected.txt: Added.
            * fast/scrolling/mac/j-shaped-scroll-rubberband.html: Added.

2022-01-24  Alan Coon  <alancoon@apple.com>

        Cherry-pick r288266. rdar://problem/87804395

    Web Inspector: fully blackboxed stack traces don't show the right top call frame
    https://bugs.webkit.org/show_bug.cgi?id=235381
    
    Reviewed by Patrick Angle.
    
    Source/WebInspectorUI:
    
    * UserInterface/Models/StackTrace.js:
    (WI.StackTrace):
    (WI.StackTrace.fromPayload):
    (WI.StackTrace.prototype.get firstNonNativeNonAnonymousNotBlackboxedCallFrame):
    Only assign to `firstNonNativeNonAnonymousCallFrame` once.
    Drive-by: Don't re-fetch the blackbox data for the `WI.SourceCode` of the `WI.CallFrame`.
    Drive-by: Combine optional parameters into an `options = {}` for current code cleanliness
              and greater flexibility for future changes.
    
    * UserInterface/Models/CallFrame.js:
    (WI.CallFrame):
    (WI.CallFrame.fromDebuggerPayload):
    (WI.CallFrame.fromPayload):
    * UserInterface/Views/ThreadTreeElement.js:
    (WI.ThreadTreeElement.prototype.refresh):
    Drive-by: Combine optional parameters into an `options = {}` for current code cleanliness
              and greater flexibility for future changes.
    
    * UserInterface/Views/CallFrameTreeElement.js:
    (WI.CallFrameTreeElement):
    (WI.CallFrameTreeElement.prototype.onattach):
    * UserInterface/Views/CallFrameView.js:
    (WI.CallFrameView):
    Drive-by: Don't re-fetch the blackbox data for the `WI.SourceCode` of the `WI.CallFrame`.
    
    LayoutTests:
    
    * inspector/model/stack-trace.html:
    * inspector/model/stack-trace-expected.txt:
    
    * inspector/debugger/resources/async-stack-trace-test.js:
    (TestPage.registerInitializer.window.getAsyncStackTrace):
    * inspector/debugger/resources/log-active-stack-trace.js:
    (TestPage.registerInitializer.window.getActiveStackTrace):
    * inspector/debugger/tail-deleted-frames/resources/stack-trace-utilities.js:
    (TestPage.registerInitializer.window.getAsyncStackTrace):
    Drive-by: Adopt new `WI.StackTrace` constructor arguments format.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288266 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-19  Devin Rousso  <drousso@apple.com>

            Web Inspector: fully blackboxed stack traces don't show the right top call frame
            https://bugs.webkit.org/show_bug.cgi?id=235381

            Reviewed by Patrick Angle.

            * inspector/model/stack-trace.html:
            * inspector/model/stack-trace-expected.txt:

            * inspector/debugger/resources/async-stack-trace-test.js:
            (TestPage.registerInitializer.window.getAsyncStackTrace):
            * inspector/debugger/resources/log-active-stack-trace.js:
            (TestPage.registerInitializer.window.getActiveStackTrace):
            * inspector/debugger/tail-deleted-frames/resources/stack-trace-utilities.js:
            (TestPage.registerInitializer.window.getAsyncStackTrace):
            Drive-by: Adopt new `WI.StackTrace` constructor arguments format.

2022-01-24  Alan Coon  <alancoon@apple.com>

        Cherry-pick r288264. rdar://problem/87745419

    Align our qualified name validation with the specification
    https://bugs.webkit.org/show_bug.cgi?id=201699
    
    Reviewed by Geoffrey Garen.
    
    LayoutTests/imported/w3c:
    
    * web-platform-tests/dom/nodes/DOMImplementation-createDocument-expected.txt:
    * web-platform-tests/dom/nodes/Document-createElementNS-expected.txt:
    Rebaseline WPT tests now that more checks are passing.
    
    Source/WebCore:
    
    Align our qualified name validation with the latest specification:
    - https://dom.spec.whatwg.org/#validate
    - https://www.w3.org/TR/xml/#NT-NameStartChar
    
    No new tests, rebaselined existing tests.
    
    * dom/Document.cpp:
    (WebCore::isValidNameStart):
    (WebCore::isValidNamePart):
    
    LayoutTests:
    
    * dom/xhtml/level3/core/canonicalform06-expected.txt:
    * dom/xhtml/level3/core/infoset06-expected.txt:
    * dom/xhtml/level3/core/infoset07-expected.txt:
    * dom/xhtml/level3/core/wellformed01-expected.txt:
    * dom/xhtml/level3/core/wellformed02-expected.txt:
    * dom/xhtml/level3/core/wellformed03-expected.txt:
    * dom/xhtml/level3/core/wellformed04-expected.txt:
    Rebaseline outdated imported tests.
    
    * fast/dom/DOMImplementation/createDocument-namespace-err-expected.txt:
    * fast/dom/DOMImplementation/createDocument-namespace-err.html:
    * fast/dom/Document/createAttributeNS-namespace-err-expected.txt:
    * fast/dom/Document/createAttributeNS-namespace-err.html:
    * fast/dom/Document/createElement-invalid-names-expected.txt:
    * fast/dom/Document/createElement-invalid-names.html:
    * fast/dom/Document/createElementNS-namespace-err-expected.txt:
    * fast/dom/Document/createElementNS-namespace-err.html:
    * fast/dom/Element/setAttributeNS-namespace-err-expected.txt:
    * fast/dom/Element/setAttributeNS-namespace-err.html:
    * fast/dom/dataset-expected.txt:
    * fast/dom/dataset-xhtml-expected.txt:
    * fast/dom/dataset-xhtml.xhtml:
    * fast/dom/dataset.html:
    Update and rebaseline outdated WebKit tests.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288264 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-19  Chris Dumez  <cdumez@apple.com>

            Align our qualified name validation with the specification
            https://bugs.webkit.org/show_bug.cgi?id=201699

            Reviewed by Geoffrey Garen.

            * dom/xhtml/level3/core/canonicalform06-expected.txt:
            * dom/xhtml/level3/core/infoset06-expected.txt:
            * dom/xhtml/level3/core/infoset07-expected.txt:
            * dom/xhtml/level3/core/wellformed01-expected.txt:
            * dom/xhtml/level3/core/wellformed02-expected.txt:
            * dom/xhtml/level3/core/wellformed03-expected.txt:
            * dom/xhtml/level3/core/wellformed04-expected.txt:
            Rebaseline outdated imported tests.

            * fast/dom/DOMImplementation/createDocument-namespace-err-expected.txt:
            * fast/dom/DOMImplementation/createDocument-namespace-err.html:
            * fast/dom/Document/createAttributeNS-namespace-err-expected.txt:
            * fast/dom/Document/createAttributeNS-namespace-err.html:
            * fast/dom/Document/createElement-invalid-names-expected.txt:
            * fast/dom/Document/createElement-invalid-names.html:
            * fast/dom/Document/createElementNS-namespace-err-expected.txt:
            * fast/dom/Document/createElementNS-namespace-err.html:
            * fast/dom/Element/setAttributeNS-namespace-err-expected.txt:
            * fast/dom/Element/setAttributeNS-namespace-err.html:
            * fast/dom/dataset-expected.txt:
            * fast/dom/dataset-xhtml-expected.txt:
            * fast/dom/dataset-xhtml.xhtml:
            * fast/dom/dataset.html:
            Update and rebaseline outdated WebKit tests.

2022-01-24  Alan Coon  <alancoon@apple.com>

        Cherry-pick r288245. rdar://problem/85878291

    Limit the deprecated CSSOMPrimitiveValue to formerly standardized unit types
    https://bugs.webkit.org/show_bug.cgi?id=233651
    <rdar://problem/85878291>
    
    Reviewed by Darin Adler.
    
    Source/WebCore:
    
    This removes support, and makes it clear that these deprecated APIs shouldn't be exposing
    anything more modern than what is standardized in DOM Level 2 Style. Hopefully this avoids
    others in future adding support for new units.
    
    Other changes included as they are necessary to make improved test not assert.
    
    Test: fast/css/CSSPrimitiveValue-modern-length.html
    
    * css/CSSUnits.cpp:
    (WebCore::unitCategory): Ensure this is complete for all units.
    (WebCore::canonicalUnitTypeForCategory): Ensure this is complete for all unit categories.
    * css/DeprecatedCSSOMPrimitiveValue.cpp:
    (WebCore::DeprecatedCSSOMPrimitiveValue::primitiveType const): Remove post-DOM Level 2 Style values.
    (WebCore::DeprecatedCSSOMPrimitiveValue::getFloatValue const): Remove post-DOM Level 2 Style values.
    (WebCore::DeprecatedCSSOMPrimitiveValue::getStringValue const): Add comment.
    * css/DeprecatedCSSOMPrimitiveValue.h: Remove post-DOM Level 2 Style constants.
    * css/DeprecatedCSSOMPrimitiveValue.idl: Remove post-DOM Level 2 Style constants.
    * css/CSSPrimitiveValue.cpp:
    (WebCore::CSSPrimitiveValue::conversionToCanonicalUnitsScaleFactor): Change to return std::optional, making explicit when there is no scaling factor.
    (WebCore::CSSPrimitiveValue::doubleValueInternal const): Handle std::optional return.
    * css/CSSPrimitiveValue.h:
    (WebCore::CSSPrimitiveValue::conversionToCanonicalUnitsScaleFactor): Change to return std::optional, making explicit when there is no scaling factor.
    * page/PrintContext.cpp:
    (WebCore::PrintContext::computedPageMargin): Handle std::optional return.
    
    LayoutTests:
    
    Updated/moved test to cover all modern length units, not just ic.
    
    * fast/css/CSSPrimitiveValue-ic-expected.txt: Removed.
    * fast/css/CSSPrimitiveValue-ic.html: Removed.
    * fast/css/CSSPrimitiveValue-modern-length-expected.txt: Added.
    * fast/css/CSSPrimitiveValue-modern-length.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288245 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-19  Sam Sneddon  <gsnedders@apple.com>

            Limit the deprecated CSSOMPrimitiveValue to formerly standardized unit types
            https://bugs.webkit.org/show_bug.cgi?id=233651
            <rdar://problem/85878291>

            Reviewed by Darin Adler.

            Updated/moved test to cover all modern length units, not just ic.

            * fast/css/CSSPrimitiveValue-ic-expected.txt: Removed.
            * fast/css/CSSPrimitiveValue-ic.html: Removed.
            * fast/css/CSSPrimitiveValue-modern-length-expected.txt: Added.
            * fast/css/CSSPrimitiveValue-modern-length.html: Added.

2022-01-24  Alan Coon  <alancoon@apple.com>

        Cherry-pick r288180. rdar://problem/84440841

    Loupe sometimes flips to the bottom of the page when dragging the end of a selection to the top of a page with selection flipping.
    https://bugs.webkit.org/show_bug.cgi?id=235220
    
    Reviewed by Tim Horton.
    
    Source/WebCore:
    
    Test: fast/events/touch/ios/long-press-then-drag-up-to-change-selected-text-overflow.html
    
    When selecting on an EPUB in books, if you had a selection near the top of the page,
    and you dragged the end of the selection past the start and into the upper margin, sometimes
    this would result in the selection ending up on the previous page of content, which would result
    in the loupe being pushed to the bottom of the page (because the selection was on the previous page
    at the bottom), which is incorrect. The most solid way to keep this from happening is to clamp the selection
    to the unobscured content rect, which will keep selection from reaching back to the previous page.
    
    * platform/graphics/FloatPoint.cpp:
    (WebCore::FloatPoint::constrainedWithin const):
    * platform/graphics/FloatPoint.h:
    * platform/graphics/IntPoint.cpp:
    (WebCore::IntPoint::constrainedWithin const):
    * platform/graphics/IntPoint.h:
    
    Source/WebKit:
    
    When selecting on an EPUB in books, if you had a selection near the top of the page,
    and you dragged the end of the selection past the start and into the upper margin, sometimes
    this would result in the selection ending up on the previous page of content, which would result
    in the loupe being pushed to the bottom of the page (because the selection was on the previous page
    at the bottom), which is incorrect. The most solid way to keep this from happening is to clamp the selection
    to the unobscured content rect, which will keep selection from reaching back to the previous page.
    
    * WebProcess/WebPage/ios/WebPageIOS.mm:
    (WebKit::rangeForPointInRootViewCoordinates):
    
    LayoutTests:
    
    * fast/events/touch/ios/long-press-then-drag-up-to-change-selected-text-overflow-expected.txt: Added.
    * fast/events/touch/ios/long-press-then-drag-up-to-change-selected-text-overflow.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288180 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-18  Megan Gardner  <megan_gardner@apple.com>

            Loupe sometimes flips to the bottom of the page when dragging the end of a selection to the top of a page with selection flipping.
            https://bugs.webkit.org/show_bug.cgi?id=235220

            Reviewed by Tim Horton.

            * fast/events/touch/ios/long-press-then-drag-up-to-change-selected-text-overflow-expected.txt: Added.
            * fast/events/touch/ios/long-press-then-drag-up-to-change-selected-text-overflow.html: Added.

2022-01-24  Alan Coon  <alancoon@apple.com>

        Cherry-pick r288099. rdar://problem/86586969

    Layered @import rules in <style> should be preloaded
    https://bugs.webkit.org/show_bug.cgi?id=234094
    <rdar://problem/86586969>
    
    Reviewed by Dean Jackson.
    
    Source/WebCore:
    
    Test: http/tests/loading/preload-css-import-layer.html
    
    * html/parser/CSSPreloadScanner.cpp:
    (WebCore::CSSPreloadScanner::tokenize):
    (WebCore::hasValidImportConditions):
    (WebCore::CSSPreloadScanner::emitRule):
    * html/parser/CSSPreloadScanner.h:
    
    Allow @import rule containing layer condition to be preloaded.
    
    LayoutTests:
    
    * http/tests/loading/preload-css-import-layer-expected.txt: Added.
    * http/tests/loading/preload-css-import-layer.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288099 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-17  Antti Koivisto  <antti@apple.com>

            Layered @import rules in <style> should be preloaded
            https://bugs.webkit.org/show_bug.cgi?id=234094
            <rdar://problem/86586969>

            Reviewed by Dean Jackson.

            * http/tests/loading/preload-css-import-layer-expected.txt: Added.
            * http/tests/loading/preload-css-import-layer.html: Added.

2022-01-24  Alan Coon  <alancoon@apple.com>

        Cherry-pick r288025. rdar://problem/83407577

    gl.texImage2D upload of getUserMedia streams via <video> element fails
    https://bugs.webkit.org/show_bug.cgi?id=230617
    <rdar://problem/83407577>
    
    Patch by Kimmo Kinnunen <kkinnunen@apple.com> on 2022-01-14
    Reviewed by Youenn Fablet.
    
    Source/WebCore:
    
    Fix MSE camera to WebGL texture uploads.
    Partially revert r280963 for Cocoa MediaPlayer implementatations
    that do not have nativeImageForCurrentTime / pixelBufferForCurrentTime.
    Turns out MSE does not have these implemented, so currently fall back
    to the painting path.
    
    Test: fast/mediastream/getUserMedia-to-canvas.html
    
    * html/canvas/WebGLRenderingContextBase.cpp:
    (WebCore::WebGLRenderingContextBase::videoFrameToImage):
    
    LayoutTests:
    
    * fast/mediastream/getUserMedia-to-canvas-expected.txt: Added.
    * fast/mediastream/getUserMedia-to-canvas.html: Added.
    Add a test to test getting video frame to 2DContext and
    WebGL canvas elements.
    
    * webrtc/routines.js:
    Add a function to assert that ImageData contains
    the simulated mock camera image. This is useful
    in verifying that the image is exactly as
    expected. The test tests only the default orientation.
    Later changes will update the test to address the
    camera rotation.
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288025 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-14  Kimmo Kinnunen  <kkinnunen@apple.com>

            gl.texImage2D upload of getUserMedia streams via <video> element fails
            https://bugs.webkit.org/show_bug.cgi?id=230617
            <rdar://problem/83407577>

            Reviewed by Youenn Fablet.

            * fast/mediastream/getUserMedia-to-canvas-expected.txt: Added.
            * fast/mediastream/getUserMedia-to-canvas.html: Added.
            Add a test to test getting video frame to 2DContext and
            WebGL canvas elements.

            * webrtc/routines.js:
            Add a function to assert that ImageData contains
            the simulated mock camera image. This is useful
            in verifying that the image is exactly as
            expected. The test tests only the default orientation.
            Later changes will update the test to address the
            camera rotation.

2022-01-24  Alan Coon  <alancoon@apple.com>

        Cherry-pick r288015. rdar://problem/84617690

    [LFC][IFC] Incorrect root inline box position when non-empty atomic inline level child box has height: 0px
    https://bugs.webkit.org/show_bug.cgi?id=235218
    <rdar://84617690>
    
    Reviewed by Antti Koivisto.
    
    Source/WebCore:
    
    Even if the atomic inline level box itself does not stetch the line box, it may still affect the root inline box position
    through baseline "syncing" (This is mostly the case with 0 tall boxes as (non-empty) atomic inline boxes in general stretch the line box).
    
    Test: fast/block/line-layout/non-empty-inline-block-with-zero-height.html
    
    * layout/formattingContexts/inline/InlineLineBoxVerticalAligner.cpp:
    (WebCore::Layout::LineBoxVerticalAligner::computeRootInlineBoxVerticalPosition const):
    
    LayoutTests:
    
    * fast/block/line-layout/non-empty-inline-block-with-zero-height-expected.html: Added.
    * fast/block/line-layout/non-empty-inline-block-with-zero-height.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288015 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-14  Alan Bujtas  <zalan@apple.com>

            [LFC][IFC] Incorrect root inline box position when non-empty atomic inline level child box has height: 0px
            https://bugs.webkit.org/show_bug.cgi?id=235218
            <rdar://84617690>

            Reviewed by Antti Koivisto.

            * fast/block/line-layout/non-empty-inline-block-with-zero-height-expected.html: Added.
            * fast/block/line-layout/non-empty-inline-block-with-zero-height.html: Added.

2022-01-24  Alan Coon  <alancoon@apple.com>

        Cherry-pick r288012. rdar://problem/87397176

    [:has() pseudo-class] Avoid O(n^2) in style invalidation with repeated DOM mutations
    https://bugs.webkit.org/show_bug.cgi?id=234842
    <rdar://problem/87397176>
    
    Reviewed by Dean Jackson.
    
    LayoutTests/imported/w3c:
    
    * web-platform-tests/css/selectors/invalidation/has-complexity-expected.txt: Added.
    * web-platform-tests/css/selectors/invalidation/has-complexity.html: Added.
    
    Source/WebCore:
    
    Use invalidation selectors to check if a given mutation needs :has() invalidation.
    
    Test: imported/w3c/web-platform-tests/css/selectors/invalidation/has-complexity.html
    
    * css/SelectorChecker.cpp:
    (WebCore::SelectorChecker::checkOne const):
    * css/SelectorChecker.h:
    * style/ChildChangeInvalidation.cpp:
    (WebCore::Style::ChildChangeInvalidation::invalidateForChangedElement):
    
    Invalidate only if the invalidation ruleset has an invalidation selector that matches
    the added/removed element. Even in that case we only need to invalidate if that selector
    has not already matched within this parent.
    
    As we don't have persistent state that would remember what already matched accross multiple
    mutations, approximate this by checking if the closest sibling matched.
    
    (WebCore::Style::ChildChangeInvalidation::invalidateForHasBeforeMutation):
    (WebCore::Style::ChildChangeInvalidation::invalidateForHasAfterMutation):
    * style/ChildChangeInvalidation.h:
    
    LayoutTests:
    
    * TestExpectations:
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288012 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-14  Antti Koivisto  <antti@apple.com>

            [:has() pseudo-class] Avoid O(n^2) in style invalidation with repeated DOM mutations
            https://bugs.webkit.org/show_bug.cgi?id=234842
            <rdar://problem/87397176>

            Reviewed by Dean Jackson.

            * TestExpectations:

2022-01-24  Alan Coon  <alancoon@apple.com>

        Cherry-pick r287934. rdar://problem/86578732

    Web Inspector: Unhandled exception when moving cursor mid-token after receiving CSS property name completions
    https://bugs.webkit.org/show_bug.cgi?id=234393
    <rdar://problem/86578732>
    
    Reviewed by Patrick Angle.
    
    Source/WebInspectorUI:
    
    A faulty check for mid-token completions in `WI.CSSKeywordCompletions.forPartialPropertyName()`, which are still
    unsupported, prevented an early return and completions were provided unexpectedly. This had knock-on effects in
    `WI.SpreadsheetTextField` which is not set up to handle cases where the caret is placed within the completion query.
    Calculating the adjusted caret position could return a negative index and throw an unhandled exception.
    
    Web Inspector does not currently explicitly support mid-token completions. See https://webkit.org/b/227157
    
    The implementation of fuzzy matching for CSS completions in https://webkit.org/b/234092
    means that, unhindered, the completion provider for CSS property names _can_ return mid-token completions.
    Typing a query like `margin`, then moving the caret to the beginning and correcting to `s|margin` will return
    completions like `[s]croll-[margin]`. Accepting the completion results in a malformed `SpreadsheetTextField.value`
    by concatenation within the prefix itself. As the user types mid-token, the prefix becomes ambiguous.
    
    Fixing the condition in `WI.CSSKeywordCompletions.forPartialPropertyName()` now inhibits unintentional
    mid-token completions when fuzzy matching is enabled.
    
    * UserInterface/Models/CSSKeywordCompletions.js:
    (WI.CSSKeywordCompletions.forPartialPropertyName):
    * UserInterface/Views/SpreadsheetTextField.js:
    (WI.SpreadsheetTextField.prototype._showSuggestionsView):
    
    LayoutTests:
    
    * inspector/unit-tests/css-keyword-completions-expected.txt:
    * inspector/unit-tests/css-keyword-completions.html:
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@287934 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-12  Razvan Caliman  <rcaliman@apple.com>

            Web Inspector: Unhandled exception when moving cursor mid-token after receiving CSS property name completions
            https://bugs.webkit.org/show_bug.cgi?id=234393
            <rdar://problem/86578732>

            Reviewed by Patrick Angle.

            * inspector/unit-tests/css-keyword-completions-expected.txt:
            * inspector/unit-tests/css-keyword-completions.html:

2022-01-24  Alan Coon  <alancoon@apple.com>

        Cherry-pick r287922. rdar://problem/87455957

    [LFC][IFC] Incorrect negative margin handling (both left/right) with RTL inline base direction
    https://bugs.webkit.org/show_bug.cgi?id=235095
    
    Reviewed by Antti Koivisto.
    
    Source/WebCore:
    
    The simplified negative margin handling on inline boxes does not work well with RTL inline base direction.
    With LTR direction, we could just treat the negative left margin value (which pulls content to the left)
    as part the "logical width" (may resulting in negative width values) and let this shorter width pull
    the the adjoining content.
    However this setup produces incorrect box positions when the inline base direction is RTL.
    In this patch, we switch over to a more correct inline box positioning where the negative margin
    affects the logical left while it does not make the run shorter anymore.
    
    Test: fast/inline/rtl-negative-margins.html
    
    * layout/formattingContexts/inline/InlineLine.cpp:
    (WebCore::Layout::Line::appendInlineBoxStart):
    (WebCore::Layout::Line::appendNonReplacedInlineLevelBox):
    * layout/formattingContexts/inline/InlineLineBoxBuilder.cpp:
    (WebCore::Layout::LineBoxBuilder::constructAndAlignInlineLevelBoxes):
    * layout/formattingContexts/inline/InlineLineBuilder.cpp:
    (WebCore::Layout::LineBuilder::layoutInlineContent):
    * layout/formattingContexts/inline/InlineLineBuilder.h:
    * layout/formattingContexts/inline/display/InlineDisplayLineBuilder.cpp:
    (WebCore::Layout::InlineDisplayLineBuilder::build const):
    
    LayoutTests:
    
    * fast/inline/rtl-negative-margins-expected.html: Added.
    * fast/inline/rtl-negative-margins.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@287922 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-12  Alan Bujtas  <zalan@apple.com>

            [LFC][IFC] Incorrect negative margin handling (both left/right) with RTL inline base direction
            https://bugs.webkit.org/show_bug.cgi?id=235095

            Reviewed by Antti Koivisto.

            * fast/inline/rtl-negative-margins-expected.html: Added.
            * fast/inline/rtl-negative-margins.html: Added.

2022-01-24  Alan Coon  <alancoon@apple.com>

        Cherry-pick r287878. rdar://problem/85359803

    ::backdrop pseudo element should react to associated element event listeners
    https://bugs.webkit.org/show_bug.cgi?id=233072
    
    Reviewed by Alan Bujtas.
    
    LayoutTests/imported/w3c:
    
    Update test expectations.
    
    * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/backdrop-receives-element-events-expected.txt:
    
    Source/WebCore:
    
    Test: imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/backdrop-receives-element-events.html
    
    We now append the ::backdrop renderer as a child of the top layer element, rather than a sibling of the
    top layer element. This gets hit testing working properly for free.
    
    We used to append the ::backdrop renderer as a sibling to get the proper layout, but this is no longer
    necessary after r287683 and r287845.
    
    * rendering/updating/RenderTreeUpdaterGeneratedContent.cpp:
    (WebCore::RenderTreeUpdater::GeneratedContent::updateBackdropRenderer):
    
    LayoutTests:
    
    iOS failure is due to WPT test_driver actions being unsupported.
    
    * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/backdrop-receives-element-events-expected.txt: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@287878 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-11  Tim Nguyen  <ntim@apple.com>

            ::backdrop pseudo element should react to associated element event listeners
            https://bugs.webkit.org/show_bug.cgi?id=233072

            Reviewed by Alan Bujtas.

            iOS failure is due to WPT test_driver actions being unsupported.

            * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/backdrop-receives-element-events-expected.txt: Added.

2022-01-20  Russell Epstein  <repstein@apple.com>

        Cherry-pick r288078. rdar://problem/87662271

    database names leak cross-origin within the same browser session
    https://bugs.webkit.org/show_bug.cgi?id=233548
    
    Reviewed by Geoff Garen.
    
    Source/WebCore:
    
    Test: http/tests/security/getdatabases-crossorigin.html
    
    * Modules/indexeddb/server/IDBServer.cpp:
    (WebCore::IDBServer::IDBServer::getAllDatabaseNamesAndVersions): When iterating the set of all open
      UniqueIDBDatabases, only add them to the results list if their origins match.
    
    * page/ClientOrigin.h:
    (WebCore::ClientOrigin::operator!= const):
    
    LayoutTests:
    
    * http/tests/security/getdatabases-crossorigin-expected.txt: Added.
    * http/tests/security/getdatabases-crossorigin.html: Added.
    * http/tests/security/resources/getdatabases-otherframe.html: Added.
    * http/tests/security/resources/getdatabases-otherwindow.html: Added.
    
    
    git-svn-id: https://svn.webkit.org/repository/webkit/trunk@288078 268f45cc-cd09-0410-ab3c-d52691b4dbfc

    2022-01-16  Brady Eidson  <beidson@apple.com>

            database names leak cross-origin within the same browser session
            https://bugs.webkit.org/show_bug.cgi?id=233548

            Reviewed by Geoff Garen.

            * http/tests/security/getdatabases-crossorigin-expected.txt: Added.
            * http/tests/security/getdatabases-crossorigin.html: Added.
            * http/tests/security/resources/getdatabases-otherframe.html: Added.
            * http/tests/security/resources/getdatabases-otherwindow.html: Added.

2022-01-10  Carlos Garcia Campos  <cgarcia@igalia.com>

        [GTK][a11y] WTR: do not show html-id and toolkit attributes in test results
        https://bugs.webkit.org/show_bug.cgi?id=235024

        Reviewed by Adrian Perez de Castro.

        Update results.

        * accessibility/gtk/aria-autocomplete-expected.txt:
        * accessibility/gtk/aria-current-expected.txt:
        * accessibility/gtk/aria-keyshortcuts-expected.txt:
        * accessibility/gtk/aria-readonly-propagated-expected.txt:
        * accessibility/gtk/object-attributes-expected.txt:
        * platform/glib/accessibility/content-editable-as-textarea-expected.txt: Renamed from LayoutTests/platform/gtk/accessibility/content-editable-as-textarea-expected.txt.
        * platform/glib/accessibility/image-link-expected.txt: Renamed from LayoutTests/platform/wpe/accessibility/image-link-expected.txt.
        * platform/glib/accessibility/image-map2-expected.txt: Renamed from LayoutTests/platform/gtk/accessibility/image-map2-expected.txt.
        * platform/glib/accessibility/lists-expected.txt: Renamed from LayoutTests/platform/wpe/accessibility/lists-expected.txt.
        * platform/glib/accessibility/table-attributes-expected.txt: Renamed from LayoutTests/platform/gtk/accessibility/table-attributes-expected.txt.
        * platform/glib/accessibility/table-cell-spans-expected.txt: Renamed from LayoutTests/platform/gtk/accessibility/table-cell-spans-expected.txt.
        * platform/glib/accessibility/table-cells-expected.txt: Renamed from LayoutTests/platform/gtk/accessibility/table-cells-expected.txt.
        * platform/glib/accessibility/table-one-cell-expected.txt: Renamed from LayoutTests/platform/wpe/accessibility/table-one-cell-expected.txt.
        * platform/glib/accessibility/table-sections-expected.txt: Renamed from LayoutTests/platform/gtk/accessibility/table-sections-expected.txt.
        * platform/glib/accessibility/table-with-rules-expected.txt: Renamed from LayoutTests/platform/gtk/accessibility/table-with-rules-expected.txt.
        * platform/glib/accessibility/transformed-element-expected.txt: Renamed from LayoutTests/platform/gtk/accessibility/transformed-element-expected.txt.
        * platform/gtk/accessibility/gtk/xml-roles-exposed-expected.txt:
        * platform/gtk/accessibility/image-link-expected.txt: Removed.
        * platform/gtk/accessibility/lists-expected.txt: Removed.
        * platform/gtk/accessibility/table-one-cell-expected.txt: Removed.
        * platform/wpe/accessibility/image-map2-expected.txt: Removed.
        * platform/wpe/accessibility/table-attributes-expected.txt: Removed.
        * platform/wpe/accessibility/table-cell-spans-expected.txt: Removed.
        * platform/wpe/accessibility/table-cells-expected.txt: Removed.
        * platform/wpe/accessibility/table-sections-expected.txt: Removed.
        * platform/wpe/accessibility/table-with-rules-expected.txt: Removed.
        * platform/wpe/accessibility/transformed-element-expected.txt: Removed.

2022-01-09  Ziran Sun  <zsun@igalia.com>

        [css-grid] Resync web-platform-tests/css/css-grid tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=234879

        Reviewed by Darin Adler.

        * TestExpectations:

2022-01-08  Simon Fraser  <simon.fraser@apple.com>

        If the drop-shadow filter has no color, it should use the value of the color property
        https://bugs.webkit.org/show_bug.cgi?id=235012

        Reviewed by Alan Bujtas.

        Fix tests to serialize with rgb(0, 0, 0) instead of the transparent color.

        * css3/filters/backdrop/backdropfilter-property-computed-style-expected.txt:
        * css3/filters/backdrop/backdropfilter-property-computed-style.html:
        * css3/filters/drop-shadow-no-color-expected.html: Added.
        * css3/filters/drop-shadow-no-color.html: Added.
        * css3/filters/filter-property-computed-style-expected.txt:
        * css3/filters/filter-property-computed-style.html:
        * css3/filters/unprefixed-expected.txt:
        * css3/filters/unprefixed.html:

2022-01-08  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test expectations for known failures.
        https://bugs.webkit.org/show_bug.cgi?id=234972

        Unreviewed test gardening.

        * platform/glib/TestExpectations:

2022-01-08  Simon Fraser  <simon.fraser@apple.com>

        Fix some CSS filter interpolation issues
        https://bugs.webkit.org/show_bug.cgi?id=235007

        Reviewed by Antoine Quint.

        imported/w3c/web-platform-tests/css/filter-effects/animation/filter-interpolation-004.html no longer asserts.

        * TestExpectations:

2022-01-07  Simon Fraser  <simon.fraser@apple.com>

        Import css/filter-effects web platform tests
        https://bugs.webkit.org/show_bug.cgi?id=235001

        Reviewed by Alan Bujtas.

        Imported from WPT ba3997e9f9a2f10a00688061f785d4c9b70cc5d5.

        * TestExpectations:
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/filter-effects/crashtests/multiple-references-id-crash-001-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/filter-effects/crashtests/multiple-references-id-crash-002-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/filter-effects/effect-reference-reset-style-delete-crash-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/filter-effects/feimage-circular-reference-foreign-object-crash-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/filter-effects/feimage-reference-foreign-object-crash-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/filter-effects/feimage-target-child-reference-crash-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/filter-effects/felighting-no-light-source-style-update-crash-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/filter-effects/idlharness.any.serviceworker-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/filter-effects/svg-unused-filter-on-clippath-mutated-crash-expected.txt: Added.
        * platform/mac/TestExpectations:

2022-01-08  Gabriel Nava Marino  <gnavamarino@apple.com>

        null ptr deref in WebCore::ModifySelectionListLevelCommand::appendSiblingNodeRange
        https://bugs.webkit.org/show_bug.cgi?id=234862

        Reviewed by Darin Adler.

        * http/tests/lists/list-new-parent-no-sibling-append-expected.txt: Added.
        * http/tests/lists/list-new-parent-no-sibling-append.html: Added.
        * platform/gtk/http/tests/lists/list-new-parent-no-sibling-append-expected.txt: Added.
        * platform/win/http/tests/lists/list-new-parent-no-sibling-append-expected.txt: Added.

2022-01-08  Tyler Wilcock  <tyler_w@apple.com>

        AX: AccessibilityObject::setFocused(true) should make the webpage focused, and make web content the first responder
        https://bugs.webkit.org/show_bug.cgi?id=234885

        Reviewed by Darin Adler.

        Add tests verifying that focusing an element via an AX client:

          1. Makes the page focused immediately
          2. Makes web content the first responder

        This allows a focus ring to be drawn, even when apps that embed
        WKWebViews don't make web content the first responder themselves.

        * accessibility/ios-simulator/accessibility-make-first-responder-expected.txt: Added.
        * accessibility/ios-simulator/accessibility-make-first-responder.html: Added.
        * accessibility/ios-simulator/taking-focus-should-refocus-page-expected.txt: Added.
        * accessibility/ios-simulator/taking-focus-should-refocus-page.html: Added.

2022-01-07  Myles C. Maxfield  <mmaxfield@apple.com>

        [GPU Process] Can't getImageData on canvas larger than 4096x4096
        https://bugs.webkit.org/show_bug.cgi?id=234321
        <rdar://problem/83575501>

        Reviewed by Tim Horton.

        * fast/canvas/large-getImageData-expected.txt: Added.
        * fast/canvas/large-getImageData.html: Added.

2022-01-07  Ryan Haddad  <ryanhaddad@apple.com>

        REGRESSION (r283935): [ macOS wk1 ] imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-autofocus-multiple-times.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=231918

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations: Mark test as flaky.

2022-01-07  Alexey Shvayka  <ashvayka@apple.com>

        Remove obsolete DOM Level 2 "DOMFocusIn" / "DOMFocusOut" events
        https://bugs.webkit.org/show_bug.cgi?id=234978

        Reviewed by Geoff Garen.

        * editing/deleting/insert-in-orphaned-selection-crash.html:
        * fast/events/focusinout-expected.txt:
        * fast/events/focusinout.html:
        * fast/events/scoped/editing-commands.html:
        * fast/forms/textarea/textarea-autofocus-removal-while-focusing-with-style.html:
        * fast/forms/textarea/textarea-autofocus-removal-while-focusing.html:

2022-01-07  Kate Cheney  <katherine_cheney@apple.com>

        CSP: strict-dynamic is causing incorrect and unexpected behavior
        https://bugs.webkit.org/show_bug.cgi?id=234756
        <rdar://problem/87018316>

        Reviewed by Brent Fulgham.

        Add tests with re-arranged ordering of the source expressions.

        * http/tests/security/contentSecurityPolicy/resources/simpleSourcedScript.js: Added.
        * http/tests/security/contentSecurityPolicy/strict-dynamic-mixed-order-host-list-expected.txt: Added.
        * http/tests/security/contentSecurityPolicy/strict-dynamic-mixed-order-host-list.html: Added.
        * http/tests/security/contentSecurityPolicy/strict-dynamic-mixed-order-scheme-list-expected.txt: Added.
        * http/tests/security/contentSecurityPolicy/strict-dynamic-mixed-order-scheme-list.html: Added.
        * http/tests/security/contentSecurityPolicy/strict-dynamic-mixed-order-self-expected.txt: Added.
        * http/tests/security/contentSecurityPolicy/strict-dynamic-mixed-order-self.html: Added.
        * http/tests/security/contentSecurityPolicy/strict-dynamic-mixed-order-unsafe-inline-expected.txt: Added.
        * http/tests/security/contentSecurityPolicy/strict-dynamic-mixed-order-unsafe-inline.html: Added.

2022-01-07  Chris Dumez  <cdumez@apple.com>

        Unreviewed, rebaseline imported/w3c/web-platform-tests/html/dom/idlharness.https.html properly on iOS platforms.

        * platform/ios-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/ipad/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:

2022-01-07  Alan Bujtas  <zalan@apple.com>

        Inline blocks that contain text with min-width, box-sizing: border-box incorrectly include the border in width calculation
        https://bugs.webkit.org/show_bug.cgi?id=234935
        <rdar://problem/87217423>

        Reviewed by Antti Koivisto.

        * fast/inline/min-max-width-and-preferred-width-expected.html: Added.
        * fast/inline/min-max-width-and-preferred-width.html: Added.

2022-01-07  Youenn Fablet  <youenn@apple.com>

        Expose rvfc processingDuration for the WebRTC code path
        https://bugs.webkit.org/show_bug.cgi?id=234949

        Reviewed by Eric Carlson.

        * webrtc/peerConnection-rvfc.html:

2022-01-07  Simon Fraser  <simon.fraser@apple.com>

        REGRESSION (Safari 14): background-attachment: local does not work
        https://bugs.webkit.org/show_bug.cgi?id=219324

        Reviewed by Antti Koivisto.

        Skip the test on platforms without async overflow scroll.

        * TestExpectations:
        * fast/repaint/background-attachment-local-scroll-expected.txt: Added.
        * fast/repaint/background-attachment-local-scroll.html: Added.
        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2022-01-07  Kate Cheney  <katherine_cheney@apple.com>

        Implement CSP strict-dynamic for module scripts
        https://bugs.webkit.org/show_bug.cgi?id=234934
        <rdar://problem/83728374>

        Reviewed by Brent Fulgham.

        * http/tests/security/contentSecurityPolicy/strict-dynamic-module-script-expected.txt: Added.
        * http/tests/security/contentSecurityPolicy/strict-dynamic-module-script.html: Added.

2022-01-07  Aditya Keerthi  <akeerthi@apple.com>

        Checkboxes on PurpleAir map controls are much smaller in Safari than other browsers
        https://bugs.webkit.org/show_bug.cgi?id=234897
        rdar://83367191

        Reviewed by Darin Adler.

        * fast/forms/checkbox-radio-font-size-expected.html: Added.
        * fast/forms/checkbox-radio-font-size.html: Added.

2022-01-07  Diego Pino Garcia  <dpino@igalia.com>

        [GTK] Regression in inspector/audit/run-resources.html
        https://bugs.webkit.org/show_bug.cgi?id=196196

        Reviewed by Chris Lord.

        Fix JavaScript file MIME type check by comparing to 'text/javascript' or 'application/javascript'.

        * inspector/audit/run-resources.html:
        * platform/gtk/TestExpectations:

2022-01-07  Martin Robinson  <mrobinson@webkit.org>

        When transform-style: preserve-3d is used with a grouping property it should still create a containing block
        https://bugs.webkit.org/show_bug.cgi?id=234145
        <rdar://problem/86630387>

        Reviewed by Simon Fraser.

        * compositing/overflow-trumps-transform-style-expected.txt:
        * compositing/overflow-trumps-transform-style.html: Update to test used value and reflect that computed value doesn't change.
        * css3/blending/blend-mode-transform-style-expected.txt:
        * css3/blending/blend-mode-transform-style.html: Ditto.

2022-01-06  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening, emit baseline for accessibility/accessibility-node-memory-management.html
        https://bugs.webkit.org/show_bug.cgi?id=209102

        * platform/glib/TestExpectations:

2022-01-06  Myles C. Maxfield  <mmaxfield@apple.com>

        REGRESSION(r281389): Text wraps unnecessarily within intrinsically-sized elements when using certain fonts and the inner HTML of the element contains a new line that is not preceded by a space
        https://bugs.webkit.org/show_bug.cgi?id=232939
        <rdar://problem/85254819>

        Reviewed by Alan Bujtas.

        The div:before { position: absolute; } is necessary to trigger this bug; I assume it's necessary to
        opt-out of IFC.

        * fast/text/newline-width-expected.html: Added.
        * fast/text/newline-width.html: Added.

2022-01-06  Tim Nguyen  <ntim@apple.com>

        Unprefix -webkit-print-color-adjust CSS property
        https://bugs.webkit.org/show_bug.cgi?id=201098

        Reviewed by Darin Adler.

        color-adjust is also a deprecated shorthand that just contains print-color-adjust.

        * fast/css/getComputedStyle/computed-style-expected.txt:
        * fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * fast/css/getComputedStyle/resources/property-names.js:
        * fast/css/print-color-adjust-expected.txt: Added.
        * fast/css/print-color-adjust.html: Added.
        * fast/css/webkit-color-adjust-expected.txt: Removed.
        * fast/css/webkit-color-adjust.html: Removed.
        * platform/glib/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/glib/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/glib/svg/css/getComputedStyle-basic-expected.txt:
        * platform/ios/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/ios/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/ios/imported/w3c/web-platform-tests/css/css-cascade/all-prop-initial-xml-expected.txt:
        * platform/ios/svg/css/getComputedStyle-basic-expected.txt:
        * svg/css/getComputedStyle-basic-expected.txt:
        * webgl/webgl-oom-paint-document-no-crash.html:

2022-01-06  Youenn Fablet  <youenn@apple.com>

        ReadableStream::lock should check whether there is an exception when getting ReadableStreamDefaultReader private constructor
        https://bugs.webkit.org/show_bug.cgi?id=234890

        Reviewed by Frédéric Wang.

        * streams/readable-stream-lock-after-worker-terminates-crash-expected.txt: Added.
        * streams/readable-stream-lock-after-worker-terminates-crash.html: Added.

2022-01-06  Said Abou-Hallawa  <said@apple.com>

        REGRESSION(r285618):A crash may happen when calculating the color-interpolation of a referenced SVG filter
        https://bugs.webkit.org/show_bug.cgi?id=234918
        rdar://86928631

        Reviewed by Simon Fraser.

        * css3/filters/reference-filter-color-interpolation-update-layout-expected.txt: Added.
        * css3/filters/reference-filter-color-interpolation-update-layout.html: Added.

2022-01-06  Alan Bujtas  <zalan@apple.com>

        Tighten test expectation for imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/top-layer-parent-transform.html

        Unreviewed.

        * TestExpectations: Test passes fine in Release -this is an assertion issue in Debug.

2022-01-06  Chris Dumez  <cdumez@apple.com>

        Drop implementation for COOP / COEP violation reporting
        https://bugs.webkit.org/show_bug.cgi?id=234899

        Reviewed by Geoffrey Garen.

        Skip all COOP / COEP reporting tests instead of marking individual tests as flaky or failing.

        * TestExpectations:
        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2022-01-06  Alan Bujtas  <zalan@apple.com>

        Ensure that the top layer is always anchored to the RenderView
        https://bugs.webkit.org/show_bug.cgi?id=231292
        <rdar://problem/83941854>

        Reviewed by Simon Fraser.

        * TestExpectations: offsetFromAncestorContainer expects no transformed renderer in-between the
        dialog and the RenderView's layer. It will go away with the layer re-parenting work.

2022-01-05  Antoine Quint  <graouts@webkit.org>

        computed style for transition longhand properties is wrong
        https://bugs.webkit.org/show_bug.cgi?id=234880

        Reviewed by Antti Koivisto.

        This test was incorrect since it assumed that filled-in values in animation lists
        would be part of the computed style. We update the expectation and add other properties
        that weren't being tested.

        * animations/fill-unset-properties-expected.txt:
        * animations/fill-unset-properties.html:

2022-01-06  Youenn Fablet  <youenn@apple.com>

        "ReadableStream uploading is not supported" when fetch()ing a Request that has been logged to console
        https://bugs.webkit.org/show_bug.cgi?id=203617
        <rdar://problem/56772045>

        Reviewed by Alex Christensen.

        * http/wpt/fetch/fetch-request-with-stream-body-expected.txt: Added.
        * http/wpt/fetch/fetch-request-with-stream-body.html: Added.

2022-01-05  Alan Bujtas  <zalan@apple.com>

        Text-decoration color not changing back after input blur with outline removed
        https://bugs.webkit.org/show_bug.cgi?id=234800
        <rdar://problem/87145636>

        Reviewed by Antti Koivisto.

        * fast/forms/dynamic-text-decoration-change-expected.html: Added.
        * fast/forms/dynamic-text-decoration-change.html: Added.

2021-10-30  Myles C. Maxfield  <mmaxfield@apple.com>

        [GPU Process] Small ImageBuffers cause the web process to crash
        https://bugs.webkit.org/show_bug.cgi?id=232470
        <rdar://problem/84626560>

        Reviewed by Tim Horton.

        * compositing/device-pixel-image-buffer-hidpi-expected.html: Added.
        * compositing/device-pixel-image-buffer-hidpi.html: Added.

2022-01-05  Brandon Stewart  <brandonstewart@apple.com>

        border radii may have missing values
        https://bugs.webkit.org/show_bug.cgi?id=234866

        Reviewed by Antti Koivisto.

        Add test to verify behavior of CSS border radii.

        * fast/css/border-radius-invalid-pair-expected.txt: Added.
        * fast/css/border-radius-invalid-pair.html: Added.

2022-01-05  Megan Gardner  <megan_gardner@apple.com>

        Remove unneeded webkit specific CSS attribute for Image Control Menu.
        https://bugs.webkit.org/show_bug.cgi?id=234405

        Reviewed by Darin Adler.

        We need to move this test to be a mac specific one, as it now has mac specific 
        test harnessing (using hasImageControls) and it is testing a feature that is only on mac.
        Also changed the test to be resistent to the async nature of adding
        the shadow dom elements, and checking the shadow dom directly rather than the resulting layout,
        which is prone to pixel errors.

        * TestExpectations:
        * fast/images/image-controls-basic-expected.txt:
        * fast/images/image-controls-basic.html: Removed.
        * fast/images/mac/image-controls-basic-expected.txt: Added.
        * fast/images/mac/image-controls-basic.html: Added.
        * platform/mac-catalina/fast/images/image-controls-basic-expected.txt: Removed.
        * platform/mac/TestExpectations:
        * platform/mac/fast/images/image-controls-basic-expected.txt: Removed.

2022-01-05  Ryan Haddad  <ryanhaddad@apple.com>

        [selectors] :focus-visible not matching on accessKey focus after focusing something via mouse
        https://bugs.webkit.org/show_bug.cgi?id=234077

        Unreviewed test gardening.

        * platform/ios/TestExpectations: Disable test for iOS since it relies upon mouse events.

2022-01-05  Ryan Haddad  <ryanhaddad@apple.com>

        REGRESSION (r287609?): imported/w3c/web-platform-tests/css/cssom/css-style-attr-decl-block.html is consistently failing
        https://bugs.webkit.org/show_bug.cgi?id=234906

        Unreviewed test gardening.

        * TestExpectations: Mark test as failing.

2022-01-05  Chris Dumez  <cdumez@apple.com>

        [ MacOS EWS ] imported/w3c/web-platform-tests/html/dom/idlharness.https.html is flaky failing
        https://bugs.webkit.org/show_bug.cgi?id=229831
        <rdar://problem/82694768>

        Unreviewed, rebaseline test and unskip.

        * platform/mac-wk2/TestExpectations:
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:

2022-01-05  Chris Dumez  <cdumez@apple.com>

        [ iOS ] imported/w3c/web-platform-tests/html/dom/idlharness.https.html is flaky failing after rebaselining
        https://bugs.webkit.org/show_bug.cgi?id=230407
        <rdar://problem/83242343>

        Unreviewed, rebaseline test on iOS and unskip it.

        * platform/ios-wk2/TestExpectations:
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:

2022-01-05  Chris Dumez  <cdumez@apple.com>

        [ iOS Debug ] imported/w3c/web-platform-tests/html/dom/idlharness.worker.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=231030
        <rdar://problem/83727147>

        Unreviewed, skip test in debug since it is slow and may flakily time out otherwise.

        * TestExpectations:
        * platform/glib/TestExpectations:
        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk1/TestExpectations:

2022-01-05  Youenn Fablet  <youenn@apple.com>

        MediaRecorder should support the bitsPerSecond option
        https://bugs.webkit.org/show_bug.cgi?id=234784

        Reviewed by Darin Adler.

        * http/wpt/mediarecorder/MediaRecorder-bitrate-expected.txt: Added.
        * http/wpt/mediarecorder/MediaRecorder-bitrate.html: Added.

2022-01-05  Youenn Fablet  <youenn@apple.com>

        Fetch using FormData with file doesn't go through Service Worker
        https://bugs.webkit.org/show_bug.cgi?id=187461
        <rdar://problem/41975544>

        Reviewed by Chris Dumez.

        In addition to adding a test to http/wpt/fetch/request-consume-stream.html, we fix the other tests that should all be passing.
        Add http/wpt/service-workers/form-data-upload.html and translate exiting http/tests scripts for the WPT server.

        * http/wpt/fetch/request-consume-stream-expected.txt:
        * http/wpt/fetch/request-consume-stream.html:
        * http/wpt/service-workers/form-data-upload-expected.txt: Added.
        * http/wpt/service-workers/form-data-upload-worker.js: Added.
        * http/wpt/service-workers/form-data-upload.html: Added.
        * http/wpt/service-workers/resources/create-temp-file-iframe.html: Added.
        * http/wpt/service-workers/resources/reset-temp-file.py: Added.
        * http/wpt/service-workers/resources/temp-file-utils.js: Added.
        * http/wpt/service-workers/resources/touch-temp-file.py: Added.
        * http/wpt/service-workers/resources/write-temp-file.py: Added.

2022-01-05  Youenn Fablet  <youenn@apple.com>

        Make sure secure websocket connections in service workers can trigger authentication challenge callbacks
        https://bugs.webkit.org/show_bug.cgi?id=234809
        <rdar://85888177>

        Reviewed by Chris Dumez.

        * http/tests/workers/service/serviceworker-websocket.https-expected.txt:
        * http/tests/workers/service/serviceworker-websocket.https.html:
        * platform/gtk/http/tests/workers/service/serviceworker-websocket.https-expected.txt: Copied from LayoutTests/http/tests/workers/service/serviceworker-websocket.https-expected.txt.
        * platform/ios-wk2/http/tests/workers/service/serviceworker-websocket.https-expected.txt: Removed.
        * platform/mac-bigsur-wk2/http/tests/workers/service/serviceworker-websocket.https-expected.txt: Copied from LayoutTests/http/tests/workers/service/serviceworker-websocket.https-expected.txt.
        * platform/mac-catalina-wk2/http/tests/workers/service/serviceworker-websocket.https-expected.txt: Copied from LayoutTests/http/tests/workers/service/serviceworker-websocket.https-expected.txt.

2022-01-05  Martin Robinson  <mrobinson@webkit.org>

        Change offsetParent to match spec change
        https://bugs.webkit.org/show_bug.cgi?id=161788
        <rdar://problem/28230510>

        Reviewed by Simon Fraser.

        * fast/clip/hit-test-with-clip-path.html: Rewrite this test to use getBoundingClientRect.
        * fast/forms/resources/common.js:
        (searchCancelButtonPosition): Ditto.
        * fast/forms/search-transformed.html: Ditto.

2022-01-05  Youenn Fablet  <youenn@apple.com>

        WebPageProxy::requestUserMediaPermissionForSpeechRecognition should return early in case of no capture devices
        https://bugs.webkit.org/show_bug.cgi?id=234837
        <rdar://87055505>

        Reviewed by Chris Dumez.

        * fast/speechrecognition/start-recognition-without-devices-expected.txt: Added.
        * fast/speechrecognition/start-recognition-without-devices.html: Added.
        * platform/mac-wk1/TestExpectations:
        * platform/win/TestExpectations:

2022-01-04  Frédéric Wang  <fwang@igalia.com>

        Protect frame from destruction in HTMLMediaElement::setupAndCallJS
        https://bugs.webkit.org/show_bug.cgi?id=234259

        Reviewed by Darin Adler.

        Add non-regression test, embedded in multiple iframes to make regression easily reproducible.

        * http/conf/mime.types: Ensure that ts files are served with MIME type video/mp2t as that's required
        to make the non-regression test work properly.
        * http/tests/media/media-element-frame-destroyed-crash-expected.txt: Added.
        * http/tests/media/media-element-frame-destroyed-crash.html: Added.
        * http/tests/media/resources/empty.ts: Added.
        * http/tests/media/resources/media-element-frame-destroyed-crash-subframe.html: Added.

2022-01-04  Antoine Quint  <graouts@webkit.org>

        WPT test css/css-transitions/parsing/transition-shorthand.html has failures
        https://bugs.webkit.org/show_bug.cgi?id=234856

        Reviewed by Dean Jackson.

        This historical test transitions/transitions-parsing.html is wrong and WPT has exhaustive
        coverage for parsing of transition properties, so let's remove it.

        Rebaselining some other tests.

        * fast/css/shorthand-mismatched-list-crash-expected.txt:
        * fast/css/shorthand-mismatched-list-crash.html:
        * fast/css/transform-inline-style-expected.txt:
        * fast/css/transform-inline-style-remove-expected.txt:
        * transitions/transitions-parsing-expected.txt: Removed.
        * transitions/transitions-parsing.html: Removed.

2022-01-04  Diego Pino Garcia  <dpino@igalia.com>

        [WPE] fast/scrolling/rtl-scrollbars-alternate-body-dir-attr-does-not-update-scrollbar-placement-2.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=212959

        Unreviewed test gardening.

        This test is no longer flakey for WPE. Updated test expectations.

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:
        * platform/wpe/TestExpectations:

2022-01-04  Diego Pino Garcia  <dpino@igalia.com>

        [GTK] media/video-as-img-output-pts.html test is flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=224112

        Reviewed by Philippe Normand.

        Refactored test to make it similar to other Media test (i.e
        media/video-page-visibility-restriction.html).

        * media/video-as-img-output-pts-expected.txt:
        * media/video-as-img-output-pts.html:
        * platform/glib/TestExpectations:

2022-01-04  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo-wk1/TestExpectations:
        * platform/wincairo/TestExpectations:
        * platform/wincairo/fast/css/text-overflow-input-expected.txt:
        * platform/wincairo/fast/dom/52776-expected.txt:
        * platform/wincairo/fast/dom/HTMLElement/bdo-expected.txt:
        * platform/wincairo/fast/inline-block/003-expected.txt:
        * platform/wincairo/fast/text/fixed-pitch-control-characters-expected.txt:
        * platform/wincairo/fast/text/international/bidi-LDB-2-formatting-characters-expected.txt:
        * platform/wincairo/fast/text/international/bidi-ignored-for-first-child-inline-expected.txt:
        * platform/wincairo/fast/text/international/bidi-layout-across-linebreak-expected.txt:
        * platform/wincairo/fast/text/international/bidi-neutral-run-expected.txt:
        * platform/wincairo/fast/text/international/bidi-override-expected.txt:
        * platform/wincairo/fast/text/text-letter-spacing-expected.txt:
        * platform/wincairo/fast/text/whitespace/pre-wrap-overflow-selection-expected.txt:

2022-01-04  Simon Fraser  <simon.fraser@apple.com>

        "canceled" wheel events to non-zero deltas cause scrolling jumps in PDFs and CodeMirror
        https://bugs.webkit.org/show_bug.cgi?id=234825

        Reviewed by Tim Horton.

        * fast/scrolling/mac/canceled-event-with-non-zero-deltas-expected.txt: Added.
        * fast/scrolling/mac/canceled-event-with-non-zero-deltas.html: Added.

2022-01-04  Devin Rousso  <drousso@apple.com>

        Web Inspector: Sources: expanding a grouping of blackboxed call frames should be persistent
        https://bugs.webkit.org/show_bug.cgi?id=234614
        <rdar://problem/86989232>

        Reviewed by Patrick Angle.

        * inspector/unit-tests/array-utilities.html:
        * inspector/unit-tests/array-utilities-expected.txt:
        Remove the custom `Array.prototype.groupBy` since it's no longer needed (and there's now a
        builtin function with the same name).

2022-01-04  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [WPE] Update test baselines after recent LFC-related changes.
        https://bugs.webkit.org/show_bug.cgi?id=234853

        Unreviewed test gardening.

        This updates WPE test baselines to account for the changes in
        r283550, r283875, r284303, r286107, r286133, r286848, r286928, r287453, r287482, and r287485.

        * platform/gtk/fast/backgrounds/border-radius-split-background-expected.txt: Copied from LayoutTests/platform/glib/fast/backgrounds/border-radius-split-background-expected.txt.
        * platform/gtk/fast/backgrounds/border-radius-split-background-image-expected.txt: Copied from LayoutTests/platform/glib/fast/backgrounds/border-radius-split-background-image-expected.txt.
        * platform/gtk/fast/borders/border-image-outset-split-inline-expected.txt: Copied from LayoutTests/platform/glib/fast/borders/border-image-outset-split-inline-expected.txt.
        * platform/gtk/fast/borders/border-styles-split-expected.txt: Copied from LayoutTests/platform/glib/fast/borders/border-styles-split-expected.txt.
        * platform/wpe/fast/backgrounds/border-radius-split-background-expected.txt: Renamed from LayoutTests/platform/glib/fast/backgrounds/border-radius-split-background-expected.txt.
        * platform/wpe/fast/backgrounds/border-radius-split-background-image-expected.txt: Renamed from LayoutTests/platform/glib/fast/backgrounds/border-radius-split-background-image-expected.txt.
        * platform/wpe/fast/block/basic/016-expected.txt:
        * platform/wpe/fast/borders/bidi-012-expected.txt:
        * platform/wpe/fast/borders/border-image-outset-split-inline-expected.txt: Renamed from LayoutTests/platform/glib/fast/borders/border-image-outset-split-inline-expected.txt.
        * platform/wpe/fast/borders/border-styles-split-expected.txt: Renamed from LayoutTests/platform/glib/fast/borders/border-styles-split-expected.txt.
        * platform/wpe/fast/borders/rtl-border-04-expected.txt:
        * platform/wpe/fast/borders/rtl-border-05-expected.txt:
        * platform/wpe/fast/box-shadow/basic-shadows-expected.txt:
        * platform/wpe/fast/css/first-line-text-decoration-expected.txt:
        * platform/wpe/fast/css/first-line-text-decoration-inherited-from-parent-expected.txt:
        * platform/wpe/fast/css/text-overflow-ellipsis-bidi-expected.txt:
        * platform/wpe/fast/css/text-overflow-input-expected.txt:
        * platform/wpe/fast/dom/52776-expected.txt:
        * platform/wpe/fast/dom/HTMLElement/bdo-expected.txt:
        * platform/wpe/fast/inline-block/003-expected.txt:
        * platform/wpe/fast/text/cg-fallback-bolding-expected.txt:
        * platform/wpe/fast/text/firstline/001-expected.txt:
        * platform/wpe/fast/text/fixed-pitch-control-characters-expected.txt:
        * platform/wpe/fast/text/format-control-expected.txt:
        * platform/wpe/fast/text/in-rendered-text-rtl-expected.txt:
        * platform/wpe/fast/text/international/bidi-L2-run-reordering-expected.txt:
        * platform/wpe/fast/text/international/bidi-LDB-2-CSS-expected.txt:
        * platform/wpe/fast/text/international/bidi-LDB-2-HTML-expected.txt:
        * platform/wpe/fast/text/international/bidi-LDB-2-formatting-characters-expected.txt:
        * platform/wpe/fast/text/international/bidi-european-terminators-expected.txt:
        * platform/wpe/fast/text/international/bidi-ignored-for-first-child-inline-expected.txt:
        * platform/wpe/fast/text/international/bidi-layout-across-linebreak-expected.txt:
        * platform/wpe/fast/text/international/bidi-listbox-expected.txt:
        * platform/wpe/fast/text/international/bidi-menulist-expected.txt:
        * platform/wpe/fast/text/international/bidi-neutral-run-expected.txt:
        * platform/wpe/fast/text/international/bidi-override-expected.txt:
        * platform/wpe/fast/text/international/rtl-white-space-pre-wrap-expected.txt:
        * platform/wpe/fast/text/text-letter-spacing-expected.txt:
        * platform/wpe/fast/text/whitespace/pre-wrap-overflow-selection-expected.txt:
        * platform/wpe/http/tests/misc/acid3-expected.txt:
        * platform/wpe/tables/mozilla/core/bloomberg-expected.txt:

2022-01-04  Jer Noble  <jer.noble@apple.com>

        [Cocoa] Hang in AVTrackPrivateAVFObjCImpl::bitrate()
        https://bugs.webkit.org/show_bug.cgi?id=234753

        Reviewed by Eric Carlson.

        Now that these properties are dynamic, test them with `testExpectedEventually`.

        * media/track/audio-track-configuration.html:
        * media/track/video-track-alternate-groups-expected.txt:
        * media/track/video-track-configuration.html:

2022-01-04  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r283546.
        https://bugs.webkit.org/show_bug.cgi?id=234844

        Causes bad scrolling behavior on Discourse pages

        Reverted changeset:

        "[css-position-sticky] scrollIntoView should not take into
        account sticky positioning offsets"
        https://bugs.webkit.org/show_bug.cgi?id=230689
        https://commits.webkit.org/r283546

2022-01-04  Manuel Rego Casasnovas  <rego@igalia.com>

        [selectors] :focus-visible not matching on accessKey focus after focusing something via mouse
        https://bugs.webkit.org/show_bug.cgi?id=234077
        <rdar://problem/86572561>

        Reviewed by Antti Koivisto.

        Writing an internal test as WPT tests for this don't work due to webkit.org/b/234139.

        * fast/selectors/focus-visible-accesskey-expected.txt: Added.
        * fast/selectors/focus-visible-accesskey.html: Added.

2022-01-03  Diego Pino Garcia  <dpino@igalia.com>

        [GTK] Unreviewed test gardening, remove pending test failures filed under webkit.org/b/208292
        https://bugs.webkit.org/show_bug.cgi?id=208292

        Removed from GTK test expectations:
        imported/w3c/web-platform-tests/IndexedDB/fire-error-event-exception.html
        imported/w3c/web-platform-tests/IndexedDB/fire-success-event-exception.html

        Removed from WPE test expectations:
        imported/w3c/web-platform-tests/IndexedDB/interleaved-cursors-small.html

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:
        * platform/wpe/TestExpectations:

2022-01-03  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Incorrect word-spacing gaps when logical order != visual order (bidi)
        https://bugs.webkit.org/show_bug.cgi?id=234826

        Reviewed by Antti Koivisto.

        * fast/text/simple-bidi-word-spacing-expected.html: Added.
        * fast/text/simple-bidi-word-spacing.html: Added.

2022-01-03  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test expectations and baselines. Unreviewed test gardening.
        https://bugs.webkit.org/show_bug.cgi?id=234832

        * platform/glib/http/wpt/push-api/pushManager.any-expected.txt:
        * platform/glib/http/wpt/push-api/pushManager.any.serviceworker-expected.txt:
        * platform/glib/imported/w3c/web-platform-tests/css/css-cascade/idlharness-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/css/css-cascade/layer-rules-cssom-expected.txt: Added.
        * platform/gtk/TestExpectations:
        * platform/gtk/fast/repaint/focus-ring-repaint-expected.txt:
        * platform/gtk/fast/text/bidi-reverse-runs-crash-expected.txt: Added. Platform-specific baseline for GTK due to lack of LFC integration support.

2022-01-03  Martin Robinson  <mrobinson@webkit.org>

        Clean up TestExpectations for imported WPT CSS transforms tests
        https://bugs.webkit.org/show_bug.cgi?id=234820

        Unreviewed.

        * TestExpectations:
        * platform/glib/TestExpectations:

2022-01-02  Antoine Quint  <graouts@webkit.org>

        "animation" shorthand should list all longhand values when serializing
        https://bugs.webkit.org/show_bug.cgi?id=234792

        Reviewed by Darin Adler.

        Add the initial longhand values for some non-WPT tests that expected them to be
        absent in the shorthand serialization.

        * fast/css/longhand-overrides-shorthand-prefixing.html:
        * fast/css/transform-inline-style-remove-expected.txt:

2022-01-03  Youenn Fablet  <youenn@apple.com>

        FetchRequest.clone does not need to be called with the current context
        https://bugs.webkit.org/show_bug.cgi?id=234515

        Reviewed by Darin Adler.

        * http/wpt/fetch/clone-realm-expected.txt:
        * http/wpt/fetch/clone-realm.html:
        * http/wpt/fetch/resources/clone-realm-iframe.html: Added.

2022-01-02  Diego Pino Garcia  <dpino@igalia.com>

        [GTK] Unreviewed test gardening, update baseline for imported/w3c/web-platform-tests/html/infrastructure/safe-passing-of-structured-data/transfer-errors.window.html
        https://bugs.webkit.org/show_bug.cgi?id=207258

        * platform/glib/TestExpectations:
        * platform/glib/imported/w3c/web-platform-tests/html/infrastructure/safe-passing-of-structured-data/transfer-errors.window-expected.txt:

2022-01-02  Manuel Rego Casasnovas  <rego@igalia.com>

        Access key should work on focusable element.
        https://bugs.webkit.org/show_bug.cgi?id=72359

        Reviewed by Darin Adler.

        Add new test to check the behavior of accesskey on focusable and not focusable DIV, together with other elements
        like INPUT, SELECT and A.
        Update expectations for fast/forms/access-key.html test, as now more elements are focused than before.
        Apart from that we had to modify accessibility/mac/search-predicate-visited-links.html as that was pressing a link
        and the link is now focused.

        This will make us also pass css/selectors/focus-visible-024.html from WPT, but that test cannot run properly on WebKit
        due to webkit.org/b/234139.

        * accessibility/mac/search-predicate-visited-links.html: Update test due to change of behavior.
        * fast/dom/accesskey-focus-element-expected.txt: Added.
        * fast/dom/accesskey-focus-element.html: Added.
        * fast/forms/access-key-expected.txt: Update expectations.
        * platform/ios/TestExpectations: Skip new accesskey test.

2022-01-02  Diego Pino Garcia  <dpino@igalia.com>

        [GTK] Unreviewed test gardening, emit baseline for imported/w3c/web-platform-tests/css/selectors/focus-visible-002.html
        https://bugs.webkit.org/show_bug.cgi?id=224967

        * platform/gtk/TestExpectations:
        * platform/gtk/imported/w3c/web-platform-tests/css/selectors/focus-visible-002-expected.txt: Added.

2022-01-02  Diego Pino Garcia  <dpino@igalia.com>

        [WPE] [Debug] Unreviewed test gardening, remove WebXR tests failures no longer crashing
        https://bugs.webkit.org/show_bug.cgi?id=225379

        * platform/wpe/TestExpectations:

2022-01-02  Alan Bujtas  <zalan@apple.com>

        [iOS] Rebaselining after r287519.

        Unreviewed.

        * platform/ios/fast/table/table-continuation-outline-paint-crash-expected.txt:

2022-01-02  Antti Koivisto  <antti@apple.com>

        [LFC][Integration] Support outlines
        https://bugs.webkit.org/show_bug.cgi?id=234766

        Reviewed by Alan Bujtas.

        * fast/repaint/focus-ring-repaint-expected.txt:
        * platform/ios/fast/table/table-continuation-outline-paint-crash-expected.txt:
        * platform/mac/fast/table/table-continuation-outline-paint-crash-expected.txt:

2022-01-02  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Nested inline box continuation fails to omit margin/border/padding start/end values
        https://bugs.webkit.org/show_bug.cgi?id=234789

        Reviewed by Antti Koivisto.

        * fast/inline/unexpected-start-end-decoration-with-nested-continuation-expected.html: Added.
        * fast/inline/unexpected-start-end-decoration-with-nested-continuation.html: Added.

2022-01-01  Antoine Quint  <graouts@webkit.org>

        "animation" shorthand does not parse values in the right order
        https://bugs.webkit.org/show_bug.cgi?id=234788

        Reviewed by Dean Jackson.

        Update the order in which animation-name is serialized in the "animation" shorthand
        for some non-WPT tests.

        * fast/css/longhand-overrides-shorthand-prefixing-expected.txt:
        * fast/css/longhand-overrides-shorthand-prefixing.html:
        * fast/css/transform-inline-style-remove-expected.txt:

2022-01-01  Diego Pino Garcia  <dpino@igalia.com>

        [GTK] Unreviewed test gardening, update flakey tests expectations
        https://bugs.webkit.org/show_bug.cgi?id=234760

        Remove tests that have been constantly passing for the last 4000 revisions, as well as update state of tests 
        that have been constantly failing with a single state.

        * platform/gtk/TestExpectations:
        * platform/gtk/fast/events/wheel/wheelevent-in-horizontal-scrollbar-in-rtl-expected.txt:
        * platform/gtk/fast/events/wheel/wheelevent-in-vertical-scrollbar-in-rtl-expected.txt:
        * platform/wpe/TestExpectations:

2022-01-01  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Unexpected line break with leading collapsed whitespace
        https://bugs.webkit.org/show_bug.cgi?id=234786

        Reviewed by Antti Koivisto.

        * fast/inline/unexpected-line-break-on-empty-content-expected.html: Added.
        * fast/inline/unexpected-line-break-on-empty-content.html: Added.

2022-01-01  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Incorrect word-spacing gaps between RTL runs
        https://bugs.webkit.org/show_bug.cgi?id=234771

        Reviewed by Antti Koivisto.

        * fast/text/word-spacing-rtl-expected.html: Added.
        * fast/text/word-spacing-rtl.html: Added.

2021-12-31  Tim Nguyen  <ntim@apple.com>

        Re-import css/css-writing-modes WPT
        https://bugs.webkit.org/show_bug.cgi?id=234764

        Reviewed by Dean Jackson.

        Upstream commit: https://github.com/web-platform-tests/wpt/commit/e433ff38f5230f3fec9c6fd434b942c7bffbfc67

        * TestExpectations:
        * platform/gtk/TestExpectations:

2021-12-31  Alan Bujtas  <zalan@apple.com>

        REGRESSION (r287028): Incorrect root inline box horizontal position when text-align offset is present
        https://bugs.webkit.org/show_bug.cgi?id=234767

        Reviewed by Antti Koivisto.

        * fast/text/root-inline-box-offset-with-text-align-expected.html: Added.
        * fast/text/root-inline-box-offset-with-text-align.html: Added.

2021-12-31  Diego Pino Garcia  <dpino@igalia.com>

        [GTK][WPE] Unreviewed test gardening, move several fast/scrolling tests failures to GLIB
        https://bugs.webkit.org/show_bug.cgi?id=234759

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:
        * platform/wpe/TestExpectations:

2021-12-30  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening, update state of flakey tests
        https://bugs.webkit.org/show_bug.cgi?id=234749

        Remove tests that have been constantly passing for the last 4000 revisions, as well as update state of tests 
        that have been constantly failing with a single state.

        * platform/glib/TestExpectations:
        * platform/glib/imported/w3c/web-platform-tests/WebCryptoAPI/generateKey/successes_RSA-OAEP.https.any.worker-expected.txt: Removed.
        * platform/glib/imported/w3c/web-platform-tests/WebCryptoAPI/wrapKey_unwrapKey/wrapKey_unwrapKey.https.any-expected.txt: Removed.
        * platform/glib/imported/w3c/web-platform-tests/WebCryptoAPI/wrapKey_unwrapKey/wrapKey_unwrapKey.https.worker-expected.txt: Removed.
        * platform/glib/media/context-menu-actions-expected.txt: Removed.
        * platform/gtk/TestExpectations:

2021-12-30  Tim Nguyen  <ntim@apple.com>

        REGRESSION(r286955): Fix painting text-decorations with combined text
        https://bugs.webkit.org/show_bug.cgi?id=234707

        Reviewed by Dean Jackson.

        * TestExpectations:

2021-12-27  Tim Nguyen  <ntim@apple.com>

        Implement text-combine-upright property
        https://bugs.webkit.org/show_bug.cgi?id=150821

        Reviewed by Dean Jackson.

        * TestExpectations:
        * fast/css/getComputedStyle/computed-style-expected.txt:
        * fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * fast/css/getComputedStyle/resources/property-names.js:
        * platform/glib/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/glib/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/glib/svg/css/getComputedStyle-basic-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:
        * platform/ios/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/ios/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/ios/imported/w3c/web-platform-tests/css/css-cascade/all-prop-initial-xml-expected.txt:
        * platform/ios/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:
        * platform/ios/svg/css/getComputedStyle-basic-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:
        * svg/css/getComputedStyle-basic-expected.txt:

2021-12-30  Alan Bujtas  <zalan@apple.com>

        [IFC][Integration] Enable RTL inline base direction
        https://bugs.webkit.org/show_bug.cgi?id=234736

        Reviewed by Antti Koivisto.

        * platform/ios-wk2/fast/text/international/rtl-white-space-pre-wrap-expected.txt:
        * platform/ios/fast/block/basic/016-expected.txt:
        * platform/ios/fast/borders/rtl-border-04-expected.txt:
        * platform/ios/fast/css/text-overflow-ellipsis-bidi-expected.txt:
        * platform/ios/fast/css/text-overflow-input-expected.txt:
        * platform/ios/fast/dom/34176-expected.txt:
        * platform/ios/fast/dom/52776-expected.txt:
        * platform/ios/fast/dom/HTMLElement/bdo-expected.txt:
        * platform/ios/fast/forms/input-text-scroll-left-on-blur-expected.txt:
        * platform/ios/fast/text/international/bidi-LDB-2-formatting-characters-expected.txt:
        * platform/ios/fast/text/international/bidi-neutral-run-expected.txt:
        * platform/ios/fast/text/international/pop-up-button-text-alignment-and-direction-expected.txt:
        * platform/ios/fast/text/international/rtl-white-space-pre-wrap-expected.txt:
        * platform/mac-bigsur/fast/dom/52776-expected.txt:
        * platform/mac-bigsur/fast/text/international/bidi-neutral-run-expected.txt:
        * platform/mac-catalina/fast/css/text-overflow-input-expected.txt:
        * platform/mac/fast/block/basic/016-expected.txt:
        * platform/mac/fast/borders/rtl-border-05-expected.txt:
        * platform/mac/fast/css/text-overflow-ellipsis-bidi-expected.txt:
        * platform/mac/fast/css/text-overflow-input-expected.txt:
        * platform/mac/fast/dom/34176-expected.txt:
        * platform/mac/fast/dom/52776-expected.txt:
        * platform/mac/fast/dom/HTMLElement/bdo-expected.txt:
        * platform/mac/fast/forms/input-text-scroll-left-on-blur-expected.txt:
        * platform/mac/fast/text/international/bidi-LDB-2-formatting-characters-expected.txt:
        * platform/mac/fast/text/international/bidi-layout-across-linebreak-expected.txt:
        * platform/mac/fast/text/international/bidi-neutral-run-expected.txt:
        * platform/mac/fast/text/international/bidi-override-expected.txt:
        * platform/mac/fast/text/international/rtl-white-space-pre-wrap-expected.txt:
        * platform/mac/fast/text/text-letter-spacing-expected.txt:

2021-12-29  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Collapsed trailing whitespace may introduce stray inline box
        https://bugs.webkit.org/show_bug.cgi?id=234735

        Reviewed by Antti Koivisto.

        * fast/inline/inline-box-with-collapsed-whitespace-expected.html: Added.
        * fast/inline/inline-box-with-collapsed-whitespace.html: Added.

2021-12-29  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r287478.
        https://bugs.webkit.org/show_bug.cgi?id=234742

        causes debug failures

        Reverted changeset:

        "[LFC][IFC] Collapsed trailing whitespace may introduce stray
        inline box"
        https://bugs.webkit.org/show_bug.cgi?id=234735
        https://commits.webkit.org/r287478

2021-12-29  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Collapsed trailing whitespace may introduce stray inline box
        https://bugs.webkit.org/show_bug.cgi?id=234735

        Reviewed by Antti Koivisto.

        * fast/inline/inline-box-with-collapsed-whitespace-expected.html: Added.
        * fast/inline/inline-box-with-collapsed-whitespace.html: Added.

2021-12-28  Diego Pino Garcia  <dpino@igalia.com>

        [GTK] fast/mediastream/media-element-current-time.html is failing since added in r256346
        https://bugs.webkit.org/show_bug.cgi?id=208120

        Reviewed by Philippe Normand.

        Wait 10ms after play() to give time to the engine to have the pipeline position going forward.

        * fast/mediastream/media-element-current-time.html:
        * platform/glib/TestExpectations:

2021-12-28  Sam Weinig  <weinig@apple.com>

        Update wpt css/css-color tests
        https://bugs.webkit.org/show_bug.cgi?id=234684

        Reviewed by Darin Adler.

        * TestExpectations:
        Update expectations to match updated tests. One test that was marked as failing is now passing (because the test
        was changed) and two new tests are known failures with corresponding annotated bugs.

        * platform/gtk/TestExpectations:
        Add two new tests that are only failing on the GTK bots due to a small floating point issue that needs further
        investigation.

2021-12-28  Alan Bujtas  <zalan@apple.com>

        REGRESSION(r287440) Do not wrap the content for a collapsed whitespace
        https://bugs.webkit.org/show_bug.cgi?id=234710

        Reviewed by Antti Koivisto.

        * fast/inline/trailing-whitespace-content-with-overflowing-inline-box-expected.html: Added.
        * fast/inline/trailing-whitespace-content-with-overflowing-inline-box.html: Added.
        * platform/ios/fast/borders/rtl-border-01-expected.txt: Redo rebaselining. While the content visually looks
        odd (overflowing inline box), it is the expected behavior.

2021-12-28  Manuel Rego Casasnovas  <rego@igalia.com>

        [selectors] Import two :focus-visible tests from WPT
        https://bugs.webkit.org/show_bug.cgi?id=234720

        Reviewed by Sergio Villar Senin.

        Skip the new imported tests as they fail due to webkit.org/b/234139.

        * TestExpectations:

2021-12-27  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test expectations and baselines. Unreviewed test gardening.
        https://bugs.webkit.org/show_bug.cgi?id=234714

        * platform/glib/TestExpectations:
        * platform/glib/webgl/1.0.3/conformance/extensions/oes-texture-half-float-expected.txt: Renamed from LayoutTests/platform/gtk/webgl/1.0.3/conformance/extensions/oes-texture-half-float-expected.txt.
        * platform/glib/webgl/1.0.3/conformance/extensions/webgl-compressed-texture-s3tc-expected.txt: Added.
        * platform/wpe/TestExpectations:

2021-12-27  Tim Nguyen  <ntim@apple.com>

        Consolidate computed-style-*.txt and getComputedStyle-basic-expected.txt test results

        Unreviewed test gardening.

        The results in the non-platform directory are stale, the platform/mac/ results are the most recent ones.

        * fast/css/getComputedStyle/computed-style-expected.txt:
        * fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/mac/fast/css/getComputedStyle/computed-style-expected.txt: Removed.
        * platform/mac/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt: Removed.
        * platform/mac/svg/css/getComputedStyle-basic-expected.txt: Removed.
        * svg/css/getComputedStyle-basic-expected.txt:

2021-12-26  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Do not trim the hanging trailing content
        https://bugs.webkit.org/show_bug.cgi?id=234679

        Reviewed by Antti Koivisto.

        * platform/mac/fast/text/whitespace/pre-wrap-overflow-selection-expected.txt: Progression. Matches FF and Chrome selection behavior.

2021-12-26  Tim Nguyen  <ntim@apple.com>

        Make -webkit-text-combine an inherited property
        https://bugs.webkit.org/show_bug.cgi?id=234694

        Reviewed by Simon Fraser.

        There are also WPT that already exist for the standard version (text-combine-upright):
        - css/css-writing-modes/text-combine-upright-inherit-all-001.html
        - css/css-writing-modes/text-combine-upright-inherit-all-002.html

        * fast/text/text-combine-inherited-expected.html: Added.
        * fast/text/text-combine-inherited.html: Added.

2021-12-25  Alan Bujtas  <zalan@apple.com>

        [iOS] Rebaselining after r287440.

        Unreviewed.

        * platform/ios/fast/borders/rtl-border-01-expected.txt: Progression. Content does not overflow the line anymore.

2021-12-24  Tim Nguyen  <ntim@apple.com>

        Internally unprefix -webkit-font-kerning CSS property
        https://bugs.webkit.org/show_bug.cgi?id=234673

        Reviewed by Myles C. Maxfield.

        Same to what was done in bug 234602 for text-emphasis CSS properties.

        * fast/css/getComputedStyle/computed-style-expected.txt:
        * fast/css/getComputedStyle/computed-style-font-family-expected.txt:
        * fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * fast/css/getComputedStyle/resources/property-names.js:
        * platform/glib/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/glib/fast/css/getComputedStyle/computed-style-font-family-expected.txt: Removed.
        * platform/glib/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/glib/svg/css/getComputedStyle-basic-expected.txt:
        * platform/ios/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/ios/fast/css/getComputedStyle/computed-style-font-family-expected.txt: Removed.
        * platform/ios/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/ios/imported/w3c/web-platform-tests/css/css-cascade/all-prop-initial-xml-expected.txt:
        * platform/ios/svg/css/getComputedStyle-basic-expected.txt:
        * platform/mac/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/mac/fast/css/getComputedStyle/computed-style-font-family-expected.txt: Removed.
        * platform/mac/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/mac/svg/css/getComputedStyle-basic-expected.txt:
        * svg/css/getComputedStyle-basic-expected.txt:

2021-12-24  Tim Nguyen  <ntim@apple.com>

        Remove non-standard -webkit-background-composite CSS property
        https://bugs.webkit.org/show_bug.cgi?id=234661

        Reviewed by Simon Fraser.

        * compositing/background-color/background-color-composite-expected.html: Removed.
        * compositing/background-color/background-color-composite.html: Removed.
        * fast/backgrounds/bgCompositeCopy-expected.txt: Removed.
        * fast/backgrounds/bgCompositeCopy.html: Removed.
        * fast/backgrounds/composite-highlight-is-invalid-expected.txt: Removed.
        * fast/backgrounds/composite-highlight-is-invalid.html: Removed.
        * fast/backgrounds/multiple-backgrounds-computed-style-expected.txt:
        * fast/backgrounds/multiple-backgrounds-computed-style.html:
        * fast/css/getComputedStyle/computed-style-expected.txt:
        * fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * fast/css/getComputedStyle/resources/property-names.js:
        * fast/multicol/body-stuck-with-dirty-bit-with-columns.html:
        * platform/glib/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/glib/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/glib/svg/css/getComputedStyle-basic-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:
        * platform/ios/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/ios/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/ios/imported/w3c/web-platform-tests/css/css-cascade/all-prop-initial-xml-expected.txt:
        * platform/ios/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:
        * platform/ios/svg/css/getComputedStyle-basic-expected.txt:
        * platform/mac/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/mac/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/mac/svg/css/getComputedStyle-basic-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:
        * svg/css/getComputedStyle-basic-expected.txt:

2021-12-24  Simon Fraser  <simon.fraser@apple.com>

        Apply the scroll delta in the "began" wheel event
        https://bugs.webkit.org/show_bug.cgi?id=234645

        Reviewed by Wenson Hsieh.

        Fix various test issues, and rebase tests affected by the change.

        * fast/scrolling/iframe-scrollable-after-back.html:
        * fast/scrolling/overflow-scrollable-after-back.html: Applying the delta from the "began" event caused
            multiple scroll events to fire, triggering multiple navigations (previously, event coalescing would result in a single
            scroll for multiple "changed" events).
            Fix by using UIHelper.mouseWheelScrollAt() and logging the scroll only once.
        * fast/scrolling/latching/iframe-latch-small-deltas-expected.txt: Accumulated offset includes "began" delta.
        * fast/scrolling/latching/iframe-latch-small-deltas.html: Ditto
        * fast/scrolling/latching/latching-and-wheel-events-expected.txt: Ditto
        * fast/scrolling/latching/overflow-in-iframe-latching-expected.txt: Ditto
        * fast/scrolling/mac/momentum-animator-in-overflow.html: Remove comment.
        * fast/scrolling/mac/momentum-animator-maybegin-stops.html: Ditto
        * fast/scrolling/mac/momentum-animator.html: Ditto
        * fast/scrolling/mac/momentum-event-sequence-expected.txt: Accumulated offset includes "began" delta.
        * fast/scrolling/mac/momentum-event-sequence.html: Accumulated offset includes "began" delta.
        * fast/scrolling/mac/rubberband-overflow-in-wheel-region.html: Wheel event coalescing resulted in
            unpredictable behavior, so ensure there is one.
        * platform/mac-wk1/fast/scrolling/latching/iframe-latch-small-deltas-expected.txt: Removed.
        * platform/mac-wk1/fast/scrolling/latching/latching-and-wheel-events-expected.txt: Accumulated offset includes "began" delta.
        * platform/mac-wk1/fast/scrolling/latching/overflow-in-iframe-latching-expected.txt: Ditto
        * scrollingcoordinator/mac/latching/horizontal-overflow-in-vertical-overflow-expected.txt: Ditto
        * scrollingcoordinator/mac/latching/horizontal-overflow-in-vertical-overflow.html: Ditto
        * tiled-drawing/scrolling/fast-scroll-div-latched-mainframe-with-handler-expected.txt: Ditto
        * tiled-drawing/scrolling/fast-scroll-select-latched-mainframe-expected.txt: Ditto
        * tiled-drawing/scrolling/fast-scroll-select-latched-mainframe-with-handler-expected.txt: Ditto
        * tiled-drawing/scrolling/scroll-snap/scroll-snap-mandatory-2d-overflow.html: Test was designed with overlay scrollbars,
        allowing for some between-snapoint slow that allowed an x delta to get applied. Fix to make room for scrollbars so that
        snapping is always predictable.

2021-12-24  Tim Nguyen  <ntim@apple.com>

        Unreviewed, r287356 followups and rebaselining for glib

        * platform/glib/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/glib/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/glib/svg/css/getComputedStyle-basic-expected.txt:
        * platform/ios/imported/w3c/web-platform-tests/css/css-cascade/all-prop-initial-xml-expected.txt:

2021-12-24  Tim Nguyen  <ntim@apple.com>

        Remove non-standard -webkit-margin-collapse CSS property and longhands
        https://bugs.webkit.org/show_bug.cgi?id=190788

        Reviewed by Simon Fraser.

        For fast/multicol/offset-top-left.html, reproduced the same visual result without
        -webkit-border-collapse: separate. Unfortunately, offsetTop/offsetLeft aren't correct
        in flipped writing mode despite correct visual results.

        Filed webkit.org/b/234664 for the issue (which was pre-existing this patch).

        * fast/block/margin-collapse/webkit-margin-collapse-container-expected.html: Removed.
        * fast/block/margin-collapse/webkit-margin-collapse-container.html: Removed.
        * fast/block/margin-collapse/webkit-margin-collapse-floats-expected.html: Removed.
        * fast/block/margin-collapse/webkit-margin-collapse-floats.html: Removed.
        * fast/block/margin-collapse/webkit-margin-collapse-separate-position-expected.txt: Removed.
        * fast/block/margin-collapse/webkit-margin-collapse-separate-position.html: Removed.
        * fast/block/margin-collapse/webkit-margin-collapse-siblings-bt-expected.html: Removed.
        * fast/block/margin-collapse/webkit-margin-collapse-siblings-bt.html: Removed.
        * fast/block/margin-collapse/webkit-margin-collapse-siblings-expected.html: Removed.
        * fast/block/margin-collapse/webkit-margin-collapse-siblings.html: Removed.
        * fast/css/getComputedStyle/computed-style-expected.txt:
        * fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * fast/css/getComputedStyle/resources/property-names.js:
        * fast/css/getPropertyValue-webkit-margin-collapse-expected.txt: Removed.
        * fast/css/getPropertyValue-webkit-margin-collapse.html: Removed.
        * fast/css/inherit-initial-shorthand-values-expected.txt:
        * fast/css/inherit-initial-shorthand-values.html:
        * fast/css/remove-shorthand-expected.txt:
        * fast/css/remove-shorthand.html:
        * fast/multicol/offset-top-left-expected.txt:
        * fast/multicol/offset-top-left.html:
        * fast/text/text-combine-crash.html:
        * platform/glib/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/glib/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/glib/svg/css/getComputedStyle-basic-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt: Removed.
        * platform/ios/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/ios/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/ios/imported/w3c/web-platform-tests/css/css-cascade/all-prop-initial-xml-expected.txt:
        * platform/ios/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:
        * platform/ios/svg/css/getComputedStyle-basic-expected.txt:
        * platform/mac/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/mac/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/mac/svg/css/getComputedStyle-basic-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:

2021-12-24  Sam Weinig  <weinig@apple.com>

        On systems without CG support for alpha premultiplied gradients, the CGGradientRef path should still be used for the subset of gradients that can transformed
        https://bugs.webkit.org/show_bug.cgi?id=234653

        Reviewed by Simon Fraser.

        Add tests of gradients that can render identically with both alpha premultiplied and non-premultiplied gradients
        either using the same color stop list or a transformed one.

        The main test page contains the alpha premultiplied gradients (which is the default now for CSS gradients), while
        the -expected.html contains the alpha non-premultiplied gradients and has alpha premultiplied interpolation explicitly
        disabled via a CSSGradientPremultipliedAlphaInterpolationEnabled=false comment command.

        * fast/gradients/alpha-premultiplied-representable-by-unpremultiplied-expected.html: Added.
        * fast/gradients/alpha-premultiplied-representable-by-unpremultiplied.html: Added.
        * platform/glib/TestExpectations: Disable on non-CoreGraphics ports.

2021-12-23  Alan Bujtas  <zalan@apple.com>

        REGRESSION(Containment) nullptr deref in RenderBox::styleDidChange
        https://bugs.webkit.org/show_bug.cgi?id=234647
        <rdar://86841302>

        Reviewed by Simon Fraser.

        * fast/dynamic/document-elment-renderer-null-crash-expected.txt: Added.
        * fast/dynamic/document-elment-renderer-null-crash.html: Added.

2021-12-23  Tim Nguyen  <ntim@apple.com>

        Rebaseline getComputedStyle tests for iOS after r287356

        Unreviewed test gardening.

        Also combine results for ios-wk2 and ios, since they are the same, except ios is stale.

        * platform/ios-wk2/fast/css/getComputedStyle/computed-style-expected.txt: Removed.
        * platform/ios-wk2/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt: Removed.
        * platform/ios-wk2/svg/css/getComputedStyle-basic-expected.txt: Removed.
        * platform/ios/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/ios/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/ios/svg/css/getComputedStyle-basic-expected.txt:

2021-12-22  Simon Fraser  <simon.fraser@apple.com>

        Share macOS code between ScrollAnimator::handleWheelEvent() and ScrollingEffectsController::handleWheelEvent()
        https://bugs.webkit.org/show_bug.cgi?id=231238

        Reviewed by Wenson Hsieh.

        * css3/scroll-snap/scroll-snap-wheel-event.html: We need to scroll 3 clicks to get closer to the target snap point.
        * platform/mac-wk1/fast/scrolling/latching/latching-and-wheel-events-expected.txt: Rebase already-failing
        result (because ScrollingEffectsController::handleWheelEvent() doesn't scroll on the "begin" event).
        * platform/mac-wk1/fast/scrolling/latching/overflow-in-iframe-latching-expected.txt: Ditto.
        * platform/mac-wk1/fast/scrolling/latching/scroll-snap-latching-expected.txt: Ditto.

2021-12-23  Philippe Normand  <pnormand@igalia.com>

        [GStreamer] test fast/mediastream/get-display-media-settings.html fails
        https://bugs.webkit.org/show_bug.cgi?id=233879

        Reviewed by Youenn Fablet.

        * platform/glib/TestExpectations:

2021-12-22  Aditya Keerthi  <akeerthi@apple.com>

        [iOS] metromile.com <select> dropdowns open twice
        https://bugs.webkit.org/show_bug.cgi?id=234573
        rdar://84011144

        Reviewed by Wenson Hsieh.

        Added a layout test to verify that only one <select> dropdown is
        presented when refocusing the same <select> element with a different
        size. If more than one dropdown is presented, the test times out.

        * fast/forms/ios/refocus-select-after-size-change-expected.txt: Added.
        * fast/forms/ios/refocus-select-after-size-change.html: Added.

2021-12-22  Simon Fraser  <simon.fraser@apple.com>

        Convert css3/scroll-snap/scroll-snap-wheel-event.html to use monitorWheelEvents()
        https://bugs.webkit.org/show_bug.cgi?id=234526

        Reviewed by Wenson Hsieh.

        Convert the test to use a UIHelper function which makes use of WheelEventTestMonitor.

        * css3/scroll-snap/scroll-snap-wheel-event.html:
        * resources/ui-helper.js:
        (window.UIHelper.async statelessMouseWheelScrollAt):

2021-12-22  Kate Cheney  <katherine_cheney@apple.com>

        PCM tests crashing with 'unlink' errors
        https://bugs.webkit.org/show_bug.cgi?id=234565
        <rdar://problem/86771766>

        Reviewed by Alex Christensen.

        * http/tests/privateClickMeasurement/expired-ad-click-gets-removed-on-session-start.html:
        * http/tests/privateClickMeasurement/expired-attribution-report-gets-sent-on-session-start.html:

2021-12-22  Wenson Hsieh  <wenson_hsieh@apple.com>

        [iOS] Scroll view pinch zoom gesture sometimes fails to recognize in WKWebView
        https://bugs.webkit.org/show_bug.cgi?id=234584
        rdar://84379650

        Reviewed by Simon Fraser.

        Add a test to exercise the fix. Note that this test will only fail without the fix *some* of the time, since it
        depends entirely on the order in which two gestures appear in an Objective-C hash datastructure (see WebKit
        ChangeLog for more details).

        * fast/events/touch/ios/pinch-zoom-with-passive-touch-event-listeners-expected.txt: Added.
        * fast/events/touch/ios/pinch-zoom-with-passive-touch-event-listeners.html: Added.

2021-12-22  Antti Koivisto  <antti@apple.com>

        [:has() pseudo-class] :has() selector invalidation issue with toggling :checked
        https://bugs.webkit.org/show_bug.cgi?id=234561

        Reviewed by Simon Fraser.

        Results here change because we do more accurate invalidation.

        * fast/css/indirect-adjacent-style-invalidation-1-expected.txt:
        * fast/css/indirect-adjacent-style-invalidation-1.html:
        * fast/css/indirect-adjacent-style-invalidation-2-expected.txt:
        * fast/css/indirect-adjacent-style-invalidation-2.html:
        * fast/css/indirect-adjacent-style-invalidation-3-expected.txt:
        * fast/css/indirect-adjacent-style-invalidation-3.html:
        * fast/css/pseudo-indeterminate-with-radio-buttons-style-invalidation-expected.txt:
        * fast/css/pseudo-indeterminate-with-radio-buttons-style-invalidation.html:

        Stop testing invalidation state for the element where :checked state changed. That is not
        really the point of these tests anyway.
        With accurate invalidation the result depends on plaform (iOS has :checked in UA sheet
        while other platforms don't)

2021-12-22  Antti Koivisto  <antti@apple.com>

        [:has() pseudo-class] :has() selector does not render on first pass?
        https://bugs.webkit.org/show_bug.cgi?id=234531

        Reviewed by Simon Fraser.

        Test case by Alex Riviere.

        * fast/selectors/has-style-sharing-expected.html: Added.
        * fast/selectors/has-style-sharing.html: Added.

2021-12-22  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r285087.
        https://bugs.webkit.org/show_bug.cgi?id=234605

        iPad PLUM3 GPUP 10% regression

        Reverted changeset:

        "[GPU Process] Small ImageBuffers cause the web process to
        crash"
        https://bugs.webkit.org/show_bug.cgi?id=232470
        https://commits.webkit.org/r285087

2021-12-22  Tim Nguyen  <ntim@apple.com>

        Internally unprefix -webkit-text-emphasis properties
        https://bugs.webkit.org/show_bug.cgi?id=234602

        Reviewed by Antti Koivisto.

        Adjust test expectations.

        * platform/mac/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/mac/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/mac/svg/css/getComputedStyle-basic-expected.txt:

2021-12-22  Frédéric Wang  <fwang@igalia.com>

        null ptr deref in DocumentTimeline::animate
        https://bugs.webkit.org/show_bug.cgi?id=234260

        Reviewed by Darin Adler.

        Add non-regression test.

        * webanimations/document-timeline-animate-crash-expected.txt: Added.
        * webanimations/document-timeline-animate-crash.html: Added.

2021-12-22  Youenn Fablet  <youenn@apple.com>

        Use requester when calling updateRequestAndAddExtraFields
        https://bugs.webkit.org/show_bug.cgi?id=234507
        <rdar://problem/85049490>

        Reviewed by Brent Fulgham.

        * http/wpt/service-workers/navigation-iframe-site-worker.js: Added.
        * http/wpt/service-workers/navigation-iframe-site.https-expected.txt: Added.
        * http/wpt/service-workers/navigation-iframe-site.https.html: Added.
        * http/wpt/service-workers/resources/navigation-iframe-site-frame.html: Added.

2021-12-22  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GTK] Update test expectations and baselines. Unreviewed test gardening.
        https://bugs.webkit.org/show_bug.cgi?id=234580

        Create some GTK-specific baselines where they differ from WPE.

        * platform/gtk/TestExpectations:
        * platform/gtk/imported/w3c/web-platform-tests/css/cssom-view/cssom-getBoundingClientRect-003-expected.txt: Copied from LayoutTests/platform/glib/imported/w3c/web-platform-tests/css/cssom-view/cssom-getBoundingClientRect-003-expected.txt.
        * platform/gtk/imported/w3c/web-platform-tests/css/cssom-view/getBoundingClientRect-shy-expected.txt: Copied from LayoutTests/platform/glib/imported/w3c/web-platform-tests/css/cssom-view/getBoundingClientRect-shy-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom-view/cssom-getBoundingClientRect-003-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/css/cssom-view/cssom-getBoundingClientRect-003-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom-view/getBoundingClientRect-shy-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/css/cssom-view/getBoundingClientRect-shy-expected.txt.

2021-12-22  Philippe Normand  <pnormand@igalia.com>

        REGRESSION(r284368) [GStreamer] test imported/w3c/web-platform-tests/media-source/mediasource-video-is-visible.html fails on GTK and WPE
        https://bugs.webkit.org/show_bug.cgi?id=234352

        Reviewed by Xabier Rodriguez-Calvar.

        * platform/glib/TestExpectations:

2021-12-21  Brent Fulgham  <bfulgham@apple.com>

        Propagate app-initiated state to new ResourceRequests
        https://bugs.webkit.org/show_bug.cgi?id=234015
        <rdar://problem/86128638>

        Reviewed by Kate Cheney.

        * http/tests/app-privacy-report/app-attribution-beacon-isappinitiated-expected.txt: Added.
        * http/tests/app-privacy-report/app-attribution-beacon-isappinitiated.html: Added.
        * http/tests/app-privacy-report/app-attribution-beacon-isnotappinitiated-expected.txt: Added.
        * http/tests/app-privacy-report/app-attribution-beacon-isnotappinitiated.html: Added.
        * http/tests/app-privacy-report/new-window-isappinitiated.html: Added.
        * http/tests/app-privacy-report/new-window-isappinitiated-expected.txt: Added.
        * http/tests/app-privacy-report/new-window-isnotappinitiated.html: Added.
        * http/tests/app-privacy-report/new-window-isnotappinitiated-expected.txt: Added.
        * http/tests/app-privacy-report/resources/new-window-isappinitiated-win.html: Added.
        * http/tests/app-privacy-report/resources/new-window-isnotappinitiated-win.html: Added.

2021-12-21  Simon Fraser  <simon.fraser@apple.com>

        Fuzzy pixel data need to be computed in terms of CSS pixels
        https://bugs.webkit.org/show_bug.cgi?id=232525

        Reviewed by Tim Horton.

        Add a hidpi pixel tolerance test.

        * fast/harness/image-diff/hidpi-pixel-tolerance-expected.html: Added.
        * fast/harness/image-diff/hidpi-pixel-tolerance.html: Added.
        * platform/ios-wk2/TestExpectations: Remove fast/harness/image-diff/fuzz-2-25.html.

2021-12-21  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Compute visual geometry for InlineDisplay::Line
        https://bugs.webkit.org/show_bug.cgi?id=234545

        Reviewed by Antti Koivisto.

        * TestExpectations:

2021-12-21  Simon Fraser  <simon.fraser@apple.com>

        Allow a way to specify a custom pixel tolerance in a ref test
        https://bugs.webkit.org/show_bug.cgi?id=149828

        Reviewed by Martin Robinson.

        Add some ref tests using <meta name=fuzzy> to test fuzzy-based passes and failures.

        * fast/harness/image-diff/fuzz-2-25-expected.html: Added.
        * fast/harness/image-diff/fuzz-2-25.html: Added.
        * fast/harness/image-diff/fuzz-2-36-over-expected-mismatch.html: Added.
        * fast/harness/image-diff/fuzz-2-36-over.html: Added.
        * fast/harness/image-diff/fuzz-2-36-under-expected-mismatch.html: Added.
        * fast/harness/image-diff/fuzz-2-36-under.html: Added.
        * fast/harness/image-diff/zero-fuzz-expected.html: Added.
        * fast/harness/image-diff/zero-fuzz.html: Added.

2021-12-21  Sam Weinig  <weinig@apple.com>

        Add support for premultiplied alpha interpolated gradients and defaulted off option to use them for CSS Gradients
        https://bugs.webkit.org/show_bug.cgi?id=234492

        Reviewed by Simon Fraser.

        Add and update tests for gradients with alpha now that we have support for premultiplied interpolation.
        By default, the tests now enable premultiplied interpolation (since it is an experimental feature) so
        to continue testing the old path, the setting must be explicitly disabled.

        * fast/gradients/alpha-premultiplied-expected.html: Added.
        * fast/gradients/alpha-premultiplied.html: Added.
        * fast/gradients/conic-gradient-alpha-expected.html:
        * fast/gradients/conic-gradient-alpha-unpremultiplied-expected.html: Added.
        * fast/gradients/conic-gradient-alpha-unpremultiplied.html: Added.

2021-12-20  Jon Lee  <jonlee@apple.com>

        Unreviewed, garden GPU Process test expectations

        * gpu-process/TestExpectations:

2021-12-20  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test expectations for some fast/box-shadow tests.
        https://bugs.webkit.org/show_bug.cgi?id=234530

        Unreviewed test gardening.

        * platform/glib/TestExpectations:

2021-12-20  Patrick Griffis  <pgriffis@igalia.com>

        CSP: Always use UTF-8 encoded content when checking hashes
        https://bugs.webkit.org/show_bug.cgi?id=234159

        Reviewed by Kate Cheney.

        Remove normalization tests that are counter to WPT's CSP normalization tests.

        * http/tests/security/contentSecurityPolicy/1.1/scripthash-tests-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-tests.html:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-unicode-normalization-expected.txt: Removed.
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-unicode-normalization.html: Removed.

2021-12-20  Tim Nguyen  <ntim@apple.com>

        Re-import the-dialog-element WPT
        https://bugs.webkit.org/show_bug.cgi?id=234479

        Reviewed by Dean Jackson.

        Upstream commit: https://github.com/web-platform-tests/wpt/commit/6259400ce70fd41d25bcf5db624a04db854f304e

        * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/closed-dialog-does-not-block-mouse-events-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/inert-inlines-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/inert-label-focus-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/modal-dialog-ancestor-is-inert-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/modal-dialog-blocks-mouse-events-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/non-modal-dialog-does-not-block-mouse-events-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/simulated-click-inert-expected.txt: Added.

2021-12-20  Youenn Fablet  <youenn@apple.com>

        Update RTCRtpScriptTransformer key frame API according latest spec proposal
        https://bugs.webkit.org/show_bug.cgi?id=234429

        Reviewed by Eric Carlson.

        * http/wpt/webrtc/audio-video-transform.js: Added.
        * http/wpt/webrtc/audiovideo-script-transform-expected.txt: Added.
        * http/wpt/webrtc/audiovideo-script-transform.html: Added.
        * http/wpt/webrtc/context-transform.js:

2021-12-19  Simon Fraser  <simon.fraser@apple.com>

        Keyboard shortcut to scroll to top when already at the top of the page moves to the bottom
        https://bugs.webkit.org/show_bug.cgi?id=234483
        <rdar://86628260>

        Reviewed by Dean Jackson.

        * fast/scrolling/keyboard-scrolling-home-expected.txt: Added.
        * fast/scrolling/keyboard-scrolling-home.html: Added.

2021-12-19  Philippe Normand  <pnormand@igalia.com>

        [GTK][WPE][VTT] tests media/track/track-webvtt-* fail on GTK and WPE
        https://bugs.webkit.org/show_bug.cgi?id=234083

        Reviewed by Eric Carlson.

        * platform/glib/TestExpectations:

2021-12-19  Jon Lee  <jonlee@apple.com>

        Garden tests that are passing iOS but marked failure.
        https://bugs.webkit.org/show_bug.cgi?id=234464

        Reviewed by Simon Fraser.

        An attempt to garden the tests that are marked failing but are now passing.
        These were cross-checked against bot history.

        * TestExpectations:
        * platform/ios-14/TestExpectations:
        * platform/ios-simulator-wk2/TestExpectations:
        * platform/ios-simulator/TestExpectations:
        * platform/ios-wk1/TestExpectations:
        * platform/ios-wk2/TestExpectations:
        * platform/ios/TestExpectations:
        * platform/mac-wk1/TestExpectations:
        * platform/mac-wk2/TestExpectations:
        * platform/mac/TestExpectations:
        * platform/win/TestExpectations:
        * platform/wk2/TestExpectations:

2021-12-17  Simon Fraser  <simon.fraser@apple.com>

        Read the default value of the ScrollAnimatorEnabled setting from NSUserDefaults
        https://bugs.webkit.org/show_bug.cgi?id=234456

        Reviewed by Tim Horton.

        Now that ScrollAnimatorEnabled is true by default, turn it off for these tests.

        * tiled-drawing/scrolling/scroll-snap/scroll-snap-mandatory-mainframe-horizontal-with-keyboard-scaled.html:
        * tiled-drawing/scrolling/scroll-snap/scroll-snap-mandatory-mainframe-horizontal-with-keyboard.html:
        * tiled-drawing/scrolling/scroll-snap/scroll-snap-mandatory-mainframe-vertical-with-keyboard-scaled.html:
        * tiled-drawing/scrolling/scroll-snap/scroll-snap-mandatory-mainframe-vertical-with-keyboard.html:
        * tiled-drawing/scrolling/scroll-snap/scroll-snap-proximity-mainframe-horizontal-with-keyboard.html:
        * tiled-drawing/scrolling/scroll-snap/scroll-snap-proximity-mainframe-vertical-with-keyboard.html:

2021-12-17  Simon Fraser  <simon.fraser@apple.com>

        Rename MockScrollAnimatorEnabled to MockScrollbarsControllerEnabled
        https://bugs.webkit.org/show_bug.cgi?id=234452

        Reviewed by Anders Carlsson.

        The class formerly known as MockScrollAnimatorEnabled is used for logging when scrollbars
        get events, so fix the name. It's a subclass of ScrollbarsController.

        * fast/scrolling/scroll-animator-basic-events.html:
        * fast/scrolling/scroll-animator-overlay-scrollbars-clicked.html:
        * fast/scrolling/scroll-animator-overlay-scrollbars-hovered.html:
        * fast/scrolling/scroll-animator-select-list-events.html:

2021-12-17  Alan Bujtas  <zalan@apple.com>

        Rebaseline after r287199.

        Unreviewed.

        * platform/ios/fast/borders/rtl-border-05-expected.txt:

2021-12-17  Carlos Alberto Lopez Perez  <clopez@igalia.com>

        Unskip pointerevents layout tests
        https://bugs.webkit.org/show_bug.cgi?id=233498

        Unreviewed gardening.

        This tests were skipped for all platforms.
        Skip only globally the pointerevents/ios ones that seem to fail on
        all platforms (even on iOS, at least on the open source builds).
        On iOS also the ones imported from WPT fail but those work on
        other platforms.

        * TestExpectations:
        * platform/ios-wk2/TestExpectations:
        * platform/win/TestExpectations:

2021-12-17  Gabriel Nava Marino  <gnavamarino@apple.com>

        null ptr deref in WebCore::findPlaceForCounter
        https://bugs.webkit.org/show_bug.cgi?id=234375

        Reviewed by Alan Bujtas.

        * fast/css/counters/findPlaceForCounter-parent-renderer-crash-expected.txt: Added.
        * fast/css/counters/findPlaceForCounter-parent-renderer-crash.html: Added.

2021-12-17  Philippe Normand  <pnormand@igalia.com>

        [GStreamer][WebRTC] Huge memory leak
        https://bugs.webkit.org/show_bug.cgi?id=234134

        Reviewed by Xabier Rodriguez-Calvar.

        * platform/glib/TestExpectations: Update test expectations, #233740 was mostly due to video
        decoder initialization wrongly reported as failed.
        webrtc/captureCanvas-webrtc-software-h264-baseline.html no longer times out.

2021-12-16  Tyler Wilcock  <tyler_w@apple.com>

        AX: Make aria-multiline.html, clipped-text-under-element.html, mixed-checkbox.html, and selection-states.html pass in isolated tree mode
        https://bugs.webkit.org/show_bug.cgi?id=234382

        Reviewed by Chris Fleizach.

        * accessibility/mac/aria-multiline-expected.txt:
        * accessibility/mac/aria-multiline.html:
        * accessibility/mac/clipped-text-under-element.html:
        * accessibility/mac/mixed-checkbox-expected.txt:
        * accessibility/mac/mixed-checkbox.html:
        * accessibility/selection-states-expected.txt:
        * accessibility/selection-states.html:
        Make these tests pass in isolated tree mode by using
        accessibilityController.accessibleElementById to get JS references to
        AX objects instead of document.getElementById() +
        accessibilityController.focusedElement.

2021-12-16  Ryan Haddad  <ryanhaddad@apple.com>

        REGRESSION(r286849-r286852): [iOS] http/tests/app-privacy-report/user-attribution-post-request.html is consistently failing
        https://bugs.webkit.org/show_bug.cgi?id=234363

        Unreviewed test gardening.

        * platform/ios/TestExpectations: Mark test as failing.

2021-12-16  Rob Buis  <rbuis@igalia.com>

        Mark range boundary point containers
        https://bugs.webkit.org/show_bug.cgi?id=233462

        Reviewed by Darin Adler.

        * fast/dom/Range/delete-contents-crash-expected.txt: Added.
        * fast/dom/Range/delete-contents-crash.html: Added.

2021-12-16  Vitaly Dyachkov  <obyknovenius@me.com>

        Flexbox ignores margins of absolute positioned children when `align-items: flex-end` or `justify-content: flex-end`
        https://bugs.webkit.org/show_bug.cgi?id=234143

        Reviewed by Sergio Villar Senin.

        * TestExpectations: Unksipped a flexbox test that is now passing.

2021-12-15  Alex Christensen  <achristensen@webkit.org>

        Remove unreachable code in Plugin and PluginController
        https://bugs.webkit.org/show_bug.cgi?id=234365

        Reviewed by Geoff Garen and Anders Carlsson.

        * fast/frames/restoring-page-cache-should-not-run-scripts-via-style-update.html:
        * media/crash-closing-page-with-media-as-plugin-fallback.html:
        * plugins/crash-restoring-plugin-page-from-page-cache.html:
        * plugins/frameset-with-plugin-frame.html:
        * plugins/netscape-plugin-page-cache-works.html:
        * plugins/netscape-plugin-page-cache-works-expected.html: Remove test for no-longer-reachable configuration.

2021-12-15  Gabriel Nava Marino  <gnavamarino@apple.com>

        null ptr deref in WebCore::ApplyStyleCommand::applyRelativeFontStyleChange
        https://bugs.webkit.org/show_bug.cgi?id=234312

        Reviewed by Chris Dumez.

        * TestExpectations:
        * fast/editing/apply-relative-font-style-change-crash-004-expected.txt: Added.
        * fast/editing/apply-relative-font-style-change-crash-004.html: Added.

2021-12-15  J Pascoe  <j_pascoe@apple.com>

        [WebAuthn] Allow same-site, cross-origin iframe get()
        https://bugs.webkit.org/show_bug.cgi?id=234309
        rdar://problem/86486313

        Reviewed by Brent Fulgham.

        Add layout test for WebAuthn get assertions on cross-site, same-sites i-frames with
        publickey-credentials-get feature policy.

        * http/wpt/webauthn/public-key-credential-same-origin-with-ancestors.https-expected.txt:
        * http/wpt/webauthn/public-key-credential-same-origin-with-ancestors.https.html:
        * http/wpt/webauthn/resources/util.js:

2021-12-15  Ryan Haddad  <ryanhaddad@apple.com>

        PCM: Remove old DB update and migration code, and add a unit test for destination token DB columns
        https://bugs.webkit.org/show_bug.cgi?id=234281

        Unreviewed test gardening.

        Rebaseline tests for iOS.

        * platform/ios/http/tests/privateClickMeasurement/attribution-conversion-through-fetch-keepalive-expected.txt:
        * platform/ios/http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-ephemeral-expected.txt:
        * platform/ios/http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-in-new-window-expected.txt:
        * platform/ios/http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-with-priority-expected.txt:
        * platform/ios/http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-without-priority-expected.txt:
        * platform/ios/http/tests/privateClickMeasurement/second-attribution-converted-with-higher-priority-expected.txt:
        * platform/ios/http/tests/privateClickMeasurement/second-attribution-converted-with-lower-priority-expected.txt:
        * platform/ios/http/tests/privateClickMeasurement/second-conversion-with-higher-priority-expected.txt:
        * platform/ios/http/tests/privateClickMeasurement/second-conversion-with-lower-priority-expected.txt:

2021-12-15  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test expectations and baselines. Unreviewed test gardening.
        https://bugs.webkit.org/show_bug.cgi?id=234353

        * platform/glib/TestExpectations:
        * platform/glib/http/tests/workers/service/service-worker-download-async-delegates.https-expected.txt: Added.
        * platform/glib/http/tests/workers/service/service-worker-download-body.https-expected.txt: Added.
        * platform/glib/http/tests/workers/service/service-worker-download-stream.https-expected.txt: Added.
        * platform/glib/http/tests/workers/service/service-worker-download.https-expected.txt: Added.
        * platform/glib/http/wpt/service-workers/fetch-service-worker-preload-download-through-direct-preload.https-expected.txt: Added.
        * platform/glib/http/wpt/service-workers/fetch-service-worker-preload-download.https-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/service-workers/service-worker/clients-matchall-client-types.https-expected.txt: Added.
        * platform/gtk/TestExpectations:

2021-12-15  Alexey Shvayka  <ashvayka@apple.com>

        [WebIDL] onselectionchange IDL attribute should not Document-reflect event listeners
        https://bugs.webkit.org/show_bug.cgi?id=234349

        Reviewed by Darin Adler.

        * fast/dom/event-handler-attributes-expected.txt:
        * fast/dom/event-handler-attributes.html:

2021-12-15  Yoshiaki Jitsukawa  <yoshiaki.jitsukawa@sony.com>

        JPEG XL decoder should support understand color profiles
        https://bugs.webkit.org/show_bug.cgi?id=233364
        <rdar://problem/85767076>

        Reviewed by Michael Catanzaro.

        Add test for JPEG XL with color profile. The test image is
        converted from the JPEG test's image.

        * TestExpectations:
        * fast/images/jpegxl-with-color-profile-expected.html: Added.
        * fast/images/jpegxl-with-color-profile.html: Added.
        * fast/images/resources/red-at-12-oclock-with-color-profile.jxl: Added.
        * platform/glib/TestExpectations:
        * platform/wincairo/TestExpectations:

2021-12-15  Youenn Fablet  <youenn@apple.com>

        [ Mac wk2 and iOS wk2 ] webrtc/libwebrtc/descriptionGetters.html is flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=214084
        <rdar://problem/65225336>

        Reviewed by Eric Carlson.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:
        * webrtc/libwebrtc/descriptionGetters.html:
        We are no longer getting the descriptions straight from the backend.
        Instead, we are storing them at end of createOffer or answer/set descriptions time.
        Update test accordingly.

2021-12-15  Jer Noble  <jer.noble@apple.com>

        [ iOS EWS ]  2X media/track (layout-tests) are a constant image failure
        https://bugs.webkit.org/show_bug.cgi?id=234090
        <rdar://problem/86281284>

        Reviewed by Eric Carlson.

        Fix the expected results.

        * media/track/track-webvtt-no-snap-to-lines-overlap-expected.html:
        * media/track/track-webvtt-snap-to-lines-left-right-expected.html:
        * platform/ios-wk2/TestExpectations:

2021-12-15  Youenn Fablet  <youenn@apple.com>

        Make sure to start a realtime outgoing source in case it is taken to another sender
        https://bugs.webkit.org/show_bug.cgi?id=234296
        <rdar://86276497>

        Reviewed by Eric Carlson.

        * webrtc/addTransceiver-then-addTrack-expected.txt: Added.
        * webrtc/addTransceiver-then-addTrack.html: Added.

2021-12-14  Joonghun Park  <jh718.park@samsung.com>

        Fix that height is calculated incorrectly when using display:table, box-sizing:border-box and padding.
        https://bugs.webkit.org/show_bug.cgi?id=196175

        Reviewed by Darin Adler.

        Currently, box sizing type check is missing, so the height of display:table element's percent height child
        is subtracted by its border and padding even when its 'box-sizing' is not 'content-box'.

        This patch adds the missing box sizing type check.

        * platform/gtk/fast/table/003-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug30692-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug30692-expected.txt:
        * platform/mac-catalina/tables/mozilla/bugs/bug30692-expected.txt:
        * platform/mac-mojave/tables/mozilla/bugs/bug30692-expected.txt:
        * platform/mac/fast/table/003-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug30692-expected.txt:

2021-12-14  Ryan Haddad  <ryanhaddad@apple.com>

        REGRESSION (r286982): ASSERTION FAILED: clipRectsContext.rootLayer == m_clipRectsCache->m_clipRectsRoot[clipRectsType]
        https://bugs.webkit.org/show_bug.cgi?id=234315

        Unreviewed test gardening.

        * TestExpectations: Skip the test.

2021-12-14  Jer Noble  <jer.noble@apple.com>

        Safari intermittently stopping playing Spotify Web Player (currentTime goes backwards)
        https://bugs.webkit.org/show_bug.cgi?id=233257
        <rdar://problem/85504967>

        Reviewed by Eric Carlson.

        * media/video-currentTime-duration-expected.txt: Added.
        * media/video-currentTime-duration.html: Added.

2021-12-14  Tyler Wilcock  <tyler_w@apple.com>

        Web Inspector: test webpage keeps reloading when Inspector is open
        https://bugs.webkit.org/show_bug.cgi?id=234076

        Reviewed by Chris Fleizach.

        This patch fixes the potential for infinite recursion introduced by
        https://trac.webkit.org/changeset/284335/webkit. See corresponding
        Source/WebCore/ChangeLog for full details.

        * accessibility/mac/ignore-redundant-accessibility-text-groups-expected.txt:
        * accessibility/mac/ignore-redundant-accessibility-text-groups.html:
        Add an aria-describedby testcase.

        * accessibility/mac/ignore-redundant-groups-crash-expected.txt: Added.
        * accessibility/mac/ignore-redundant-groups-crash.html:
        Added. Exercises the crash testcase raised in
        https://bugs.webkit.org/show_bug.cgi?id=234076 along with other
        branches in AccessibilityNodeObject::alternativeText to prevent future
        problems.

2021-12-14  Brandon Stewart  <brandonstewart@apple.com>

        Add test case for execCommand to verify inserting an ordered list and deletion
        https://bugs.webkit.org/show_bug.cgi?id=234113
        <rdar://85926354>

        Reviewed by Chris Dumez.

        Add test to verify correct execution of execCommand when inserting an ordered
        list and calling delete.

        * editing/execCommand/insert-ordered-list-and-delete-expected.txt: Added.
        * editing/execCommand/insert-ordered-list-and-delete.html: Added.

2021-12-14  Antti Koivisto  <antti@apple.com>

        [CSS Cascade Layers] revert-layer should revert style attribute to regular author style
        https://bugs.webkit.org/show_bug.cgi?id=234082

        Reviewed by Simon Fraser.

        * TestExpectations:

2021-12-13  John Wilander  <wilander@apple.com>

        PCM: Remove old DB update and migration code, and add a unit test for destination token DB columns
        https://bugs.webkit.org/show_bug.cgi?id=234281
        <rdar://86347439>

        Reviewed by Alex Christensen and Kate Cheney.

        These expect files are just updated with destination token dump output.

        * http/tests/privateClickMeasurement/attribution-conversion-through-fetch-keepalive-expected.txt:
        * http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-ephemeral-expected.txt:
        * http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-in-new-window-expected.txt:
        * http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-with-priority-expected.txt:
        * http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-without-priority-expected.txt:
        * http/tests/privateClickMeasurement/second-attribution-converted-with-higher-priority-expected.txt:
        * http/tests/privateClickMeasurement/second-attribution-converted-with-lower-priority-expected.txt:
        * http/tests/privateClickMeasurement/second-conversion-with-higher-priority-expected.txt:
        * http/tests/privateClickMeasurement/second-conversion-with-lower-priority-expected.txt:
        * http/tests/privateClickMeasurement/triggering-event-with-attribution-source-through-fetch-keepalive-expected.txt:

2021-12-13  Alex Christensen  <achristensen@webkit.org>

        Allow WKContentRuleList to run regexes on current frame's URL, not just top frame's URL
        https://bugs.webkit.org/show_bug.cgi?id=233889

        Reviewed by Timothy Hatcher.

        * http/tests/contentextensions/frame-url-expected.txt: Added.
        * http/tests/contentextensions/frame-url.html: Added.
        * http/tests/contentextensions/frame-url.html.json: Added.
        * http/tests/contentextensions/resources/iframe.html: Added.

2021-12-13  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r286993.
        https://bugs.webkit.org/show_bug.cgi?id=234283


        Reverted changeset:

        "[WebAuthn] Allow same-site, cross-origin iframe get()"
        https://bugs.webkit.org/show_bug.cgi?id=234180
        https://commits.webkit.org/r286993

2021-12-13  Christopher Reid  <chris.reid@sony.com>

        [Curl] Improve curl's cookie conformance in WPT
        https://bugs.webkit.org/show_bug.cgi?id=232722

        Reviewed by Fujii Hironori.

        Add baseline for wpt cookie tests on wincairo

        * platform/wincairo/TestExpectations:

2021-12-13  Robert Jenner  <Jenner@apple.com>

        [ iOS ] 8 imported/w3c/web-platform-tests/fetch/api (layout-tests) are flaky text failures
        https://bugs.webkit.org/show_bug.cgi?id=234278

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-12-13  J Pascoe  <j_pascoe@apple.com>

        [WebAuthn] Allow same-site, cross-origin iframe get()
        https://bugs.webkit.org/show_bug.cgi?id=234180
        rdar://85161142

        Reviewed by Brent Fulgham.

        Add layout test for WebAuthn get assertions on cross-site, same-sites i-frames with
        publickey-credentials-get feature policy.

        * http/wpt/webauthn/public-key-credential-same-origin-with-ancestors.https-expected.txt:
        * http/wpt/webauthn/public-key-credential-same-origin-with-ancestors.https.html:
        * http/wpt/webauthn/resources/util.js:

2021-12-13  Ryan Haddad  <ryanhaddad@apple.com>

        Unreviewed test gardening for rdar://80334322, rebaseline tests for Monterey.

        * platform/mac-bigsur/fast/events/wheel/wheelevent-in-horizontal-scrollbar-in-rtl-expected.txt: Added.
        * platform/mac-bigsur/fast/events/wheel/wheelevent-in-vertical-scrollbar-in-rtl-expected.txt: Added.
        * platform/mac-wk1/TestExpectations:
        * platform/mac/fast/events/wheel/wheelevent-in-horizontal-scrollbar-in-rtl-expected.txt: Added.
        * platform/mac/fast/events/wheel/wheelevent-in-vertical-scrollbar-in-rtl-expected.txt: Added.

2021-12-13  Ryan Haddad  <ryanhaddad@apple.com>

        LFC][IFC] Add partial unicode-bidi support on inline level boxes
        https://bugs.webkit.org/show_bug.cgi?id=234196

        Unreviewed test gardening.

        * platform/ios/fast/text/international/bidi-ignored-for-first-child-inline-expected.txt: Rebaseline test for iOS.

2021-12-13  Robert Jenner  <Jenner@apple.com>

        REGRESSION (r286259): [ BigSur+ wk1 ] 2X imported/w3c/web-platform-tests/speech-api/SpeechSynthesis (layout-tests) are constant text failures
        https://bugs.webkit.org/show_bug.cgi?id=234105

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-12-13  Youenn Fablet  <youenn@apple.com>

        FetchResponse::clone should use the relevant realm for the cloned response
        https://bugs.webkit.org/show_bug.cgi?id=234238

        Reviewed by Alexey Shvayka.

        * http/wpt/fetch/clone-realm-expected.txt: Added.
        * http/wpt/fetch/clone-realm.html: Added.

2021-12-13  Rob Buis  <rbuis@igalia.com>

        [ macOS and iOS ] editing/deleting/forward-delete-crash.html is timing out
        https://bugs.webkit.org/show_bug.cgi?id=230047

        Reviewed by Wenson Hsieh.

        Rewrite forward-delete-crash.html to avoid the timeouts on
        macOS and iOS.

        * editing/deleting/forward-delete-crash.html:
        * platform/ipad/TestExpectations:
        * platform/mac/TestExpectations:

2021-12-13  Tim Nguyen  <ntim@apple.com>

        Fix paint order of CSS text decorations
        https://bugs.webkit.org/show_bug.cgi?id=227445

        Reviewed by Simon Fraser.

        * TestExpectations:

2021-12-13  Sergio Villar Senin  <svillar@igalia.com>

        [css-writing-modes] Use the correct margins in computeInlinePreferredLogicalWidths in orthogonal flows
        https://bugs.webkit.org/show_bug.cgi?id=233562
        <rdar://problem/86105904>

        Reviewed by Rob Buis.

        * TestExpectations: Unksipped a flexbox test that is now passing.

2021-12-13  Antti Koivisto  <antti@apple.com>

        [CSS Cascade Layers] Unflake and fix web-platform-tests/css/css-cascade/layer-statement-before-import.html
        https://bugs.webkit.org/show_bug.cgi?id=233944

        Reviewed by Simon Fraser.

        * TestExpectations:

2021-12-13  Tyler Wilcock  <tyler_w@apple.com>

        AX: Make aria-hidden-update.html, focusable-div.html, mac/invalid-status-for-input-types.html, and mac/css-speech-speak.html pass in --release isolated tree mode
        https://bugs.webkit.org/show_bug.cgi?id=234198

        Reviewed by Chris Fleizach.

        Make the following tests async or otherwise isolated-tree friendly
        (i.e. by using accessibleElementById instead of document.getElementById().focus() +
        accessibilityController.focusedElement to get a JS reference to an AX object).

        * accessibility/aria-hidden-update-expected.txt:
        * accessibility/aria-hidden-update.html:
        * accessibility/focusable-div-expected.txt:
        * accessibility/focusable-div.html:
        * accessibility/mac/invalid-status-for-input-types-expected.txt:
        * accessibility/mac/invalid-status-for-input-types.html:
        Make these tests async. These tests must be async to pass in isolated
        tree mode because they use JS to dynamically change the page.
        * accessibility/mac/css-speech-speak-expected.txt:
        * accessibility/mac/css-speech-speak.html:
        Use accessibleElementById instead of document.getElementById().focus() +
        accessibilityController.focusedElement to get references to JS AX objects.

        * platform/glib/TestExpectations:
        * platform/win/TestExpectations:
        Skip accessibility/focusable-div.html due to lack of
        AccessibilityUIElement::domIdentifier implementation.

2021-12-13  Youenn Fablet  <youenn@apple.com>

        Fix ServiceWorker downloads
        https://bugs.webkit.org/show_bug.cgi?id=202142
        <rdar://problem/55721934>

        Reviewed by Alex Christensen.

        * http/tests/workers/service/resources/service-worker-download-worker.js:
        * http/tests/workers/service/service-worker-download-body.https-expected.txt: Added.
        * http/tests/workers/service/service-worker-download-body.https.html: Added.
        * http/tests/workers/service/service-worker-download-stream.https-expected.txt: Added.
        * http/tests/workers/service/service-worker-download-stream.https.html: Added.
        * http/tests/workers/service/service-worker-download.https-expected.txt:
        * http/tests/workers/service/service-worker-download.https.html:
        * http/wpt/service-workers/fetch-service-worker-preload-download-through-direct-preload.https-expected.txt: Added.
        * http/wpt/service-workers/fetch-service-worker-preload-download-through-direct-preload.https.html: Added.
        * http/wpt/service-workers/fetch-service-worker-preload-download.https-expected.txt: Added.
        * http/wpt/service-workers/fetch-service-worker-preload-download.https.html: Added.
        * http/wpt/service-workers/fetch-service-worker-preload-worker.js:
        * http/wpt/service-workers/resources/fetch-service-worker-preload-script.py:
        * platform/ios/http/wpt/service-workers/fetch-service-worker-preload-download-through-direct-preload.https-expected.txt: Added.
        * platform/ios/http/wpt/service-workers/fetch-service-worker-preload-download.https-expected.txt: Added.

2021-12-13  Martin Robinson  <mrobinson@webkit.org>

        `transform-origin` on SVG elements does not take into account the transform reference box origin
        https://bugs.webkit.org/show_bug.cgi?id=234078

        Reviewed by Rob Buis.

        * TestExpectations: Mark tests as passing.

2021-12-12  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Add partial unicode-bidi support on inline level boxes
        https://bugs.webkit.org/show_bug.cgi?id=234196

        Reviewed by Antti Koivisto.

        * platform/mac/fast/text/international/bidi-ignored-for-first-child-inline-expected.txt: Progression.

2021-12-12  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Ignore zero width glyphs while collecting fallback fonts
        https://bugs.webkit.org/show_bug.cgi?id=234210

        Reviewed by Antti Koivisto.

        * fast/text/fallback-font-and-zero-width-glyph-expected.html: Added.
        * fast/text/fallback-font-and-zero-width-glyph.html: Added.

2021-12-12  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo/TestExpectations:

2021-12-12  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test expectations and baselines. Unreviewed test gardening.
        https://bugs.webkit.org/show_bug.cgi?id=234209

        * platform/glib/TestExpectations:
        * platform/glib/imported/w3c/web-platform-tests/css/cssom-view/getBoundingClientRect-shy-expected.txt:
        * platform/glib/svg/css/getComputedStyle-basic-expected.txt:
        * platform/glib/webgl/1.0.3/conformance/glsl/misc/shaders-with-name-conflicts-expected.txt:
        * platform/gtk/TestExpectations:
        * platform/gtk/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-valid-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-valueMissing-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/the-input-element/datetime-local-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/the-input-element/time-2-expected.txt:
        * platform/wpe/css2.1/t0805-c5518-brdr-t-01-e-expected.txt:
        * platform/wpe/css2.1/t0805-c5519-brdr-r-01-e-expected.txt:
        * platform/wpe/css2.1/t0805-c5520-brdr-b-01-e-expected.txt:
        * platform/wpe/css2.1/t0805-c5521-brdr-l-01-e-expected.txt:
        * platform/wpe/css2.1/t0805-c5521-ibrdr-l-00-a-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/selection/selection-select-all-move-input-crash-expected.txt:

2021-12-12  Alan Bujtas  <zalan@apple.com>

        IFC progression after r286121.

        Unreviewed gardening.

        * TestExpectations:

2021-12-12  Antoine Quint  <graouts@webkit.org>

        Add a test for document.timeline.maximumFrameRate
        https://bugs.webkit.org/show_bug.cgi?id=234200

        Reviewed by Dean Jackson.

        Bug 234161 added a new document.timeline.maximumFrameRate property but didn't feature
        a test. This new test checks that we have a minimum of 60fps reported.

        * platform/mac-wk1/TestExpectations:
        * platform/win/TestExpectations:
        * webanimations/frame-rate/document-timeline-maximum-frame-rate-expected.txt: Added.
        * webanimations/frame-rate/document-timeline-maximum-frame-rate.html: Added.

2021-12-11  Alan Bujtas  <zalan@apple.com>

        fast/borders/bidi-002.html is failing on Monterey bots.
        https://bugs.webkit.org/show_bug.cgi?id=234204

        Unreviewed gardening.

        * platform/mac-bigsur/fast/borders/bidi-002-expected.txt: Copied from LayoutTests/platform/mac/fast/borders/bidi-002-expected.txt.
        * platform/mac/fast/borders/bidi-002-expected.txt:

2021-12-11  Antoine Quint  <graouts@webkit.org>

        Expose a frameRate property to Web Animations
        https://bugs.webkit.org/show_bug.cgi?id=234174
        rdar://86338983

        Reviewed by Dean Jackson.

        Add a new test checking whether valid values are accepted and invalid values
        rejected without effect.

        * webanimations/frame-rate/animation-frame-rate-expected.txt: Added.
        * webanimations/frame-rate/animation-frame-rate.html: Added.

2021-12-11  Jer Noble  <jer.noble@apple.com>

        Add an experimental trackConfiguration accessor on AudioTrack & VideoTrack.
        https://bugs.webkit.org/show_bug.cgi?id=230841

        Reviewed by Eric Carlson.

        * fast/mediastream/MediaStream-video-element-expected.txt:
        * media/content/test-hevc.mp4: Added.
        * media/hevc-codec-parameters-expected.txt:
        * media/hevc-codec-parameters.html:
        * media/hevc-codec-string-expected.txt: Added.
        * media/hevc-codec-string.html: Added.
        * media/track/audio-track-configuration-expected.txt: Added.
        * media/track/audio-track-configuration.html: Added.
        * media/track/video-track-configuration-expected.txt: Added.
        * media/track/video-track-configuration.html: Added.

2021-12-10  Myles C. Maxfield  <mmaxfield@apple.com>

        Test gardening after r286889.
        https://bugs.webkit.org/show_bug.cgi?id=234171

        Unreviewed.

        * platform/mac/TestExpectations:
        * platform/win/TestExpectations:

2021-12-10  Alexey Shvayka  <ashvayka@apple.com>

        Setting "onselectionchange" content attribute should add an event listener
        https://bugs.webkit.org/show_bug.cgi?id=234167

        Reviewed by Darin Adler.

        * fast/dom/event-handler-attributes-expected.txt:

2021-12-10  Joonghun Park  <jh718.park@samsung.com>

        Don't do simplification for percentage comparison resolution against negative reference values.
        https://bugs.webkit.org/show_bug.cgi?id=233987

        Reviewed by Darin Adler.

        A percentage may be resolved against a negative value, which is allowed only in 'background-position' property.

        Currently in CSSCalcExpressionNodeParser::parseCalc,
        it creates CSSCalcExpressionNode tree result and does simplification for it.
        But during it, e.g. min(50%, 10%) is simplified to min(10%) and max(50%, 10%) is simplified to max(50%),
        which is the opposite result what should be done against negative basis.

        With this patch, the percentage comparison resolution against nagative basis is done correctly.

        The corresponding spec is step 4's note described below in
        https://drafts.csswg.org/css-values-4/#simplify-a-calculation-tree.

        'If a percentage is left at this point, it will usually block simplification of the node,
        since it needs to be resolved against another value using information not currently available.
        (Otherwise, it would have been converted to a different value in an earlier step.)
        This includes operations such as "min", since percentages might resolve against a negative basis,
        and thus end up with an opposite comparative relationship than the raw percentage value would seem to indicate.'

        * TestExpectations:

2021-12-10  Devin Rousso  <drousso@apple.com>

        WKWebView doesn’t respond to -copyFont: and -pasteFont:
        https://bugs.webkit.org/show_bug.cgi?id=191379
        <rdar://problem/45878659>

        Reviewed by Wenson Hsieh.

        * editing/editing.js:
        (execCopyFontCommand): Added.
        (copyFontCommand): Added.
        (execPasteFontCommand): Added.
        (pasteFontCommand): Added.
        * editing/execCommand/mac/copyFont-pasteFont.html: Added.
        * editing/execCommand/mac/copyFont-pasteFont-expected.html: Added.

        * TestExpectations:
        * platform/mac/TestExpectations:

2021-12-10  Myles C. Maxfield  <mmaxfield@apple.com>

        [Cocoa] OT-SVG glyphs don't draw into canvases (because of the GPU process)
        https://bugs.webkit.org/show_bug.cgi?id=234171
        <rdar://problem/70166552>

        Reviewed by Devin Rousso.

        * fast/text/otsvg-canvas-expected.html: Added.
        * fast/text/otsvg-canvas.html: Added.

2021-12-10  Robert Jenner  <Jenner@apple.com>

        REGRESSION(r286795):REBASELINE [ iOS EWS ] 4X CSS (layout-tests) are constant text failures
        https://bugs.webkit.org/show_bug.cgi?id=234177

        Uneviewed test gardening. Rebaseline for iOS.

        * platform/ios-wk2/fast/css/getComputedStyle/computed-style-expected.txt: Added.
        * platform/ios-wk2/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt: Added.
        * platform/ios-wk2/svg/css/getComputedStyle-basic-expected.txt: Added.

2021-12-10  Razvan Caliman  <rcaliman@apple.com>

        Web Inspector: Computed Panel: Group CSS variables by value type
        https://bugs.webkit.org/show_bug.cgi?id=233563
        <rdar://82978905>

        Reviewed by Devin Rousso and Patrick Angle.

        Check logic for grouping CSS variables by value type in Web Inspector.

        * inspector/css/variableStylesByType-expected.txt: Added.
        * inspector/css/variableStylesByType.html: Added.

2021-12-10  Chris Dumez  <cdumez@apple.com>

        Improve <type="datetime-local"> value parsing and sanitization
        https://bugs.webkit.org/show_bug.cgi?id=234039

        Reviewed by Darin Adler.

        * fast/forms/datetimelocal/ValidityState-typeMismatch-datetimelocal-expected.txt:
        * fast/forms/datetimelocal/ValidityState-typeMismatch-datetimelocal.html:
        * fast/forms/datetimelocal/input-valueasnumber-datetimelocal-expected.txt:
        * fast/forms/datetimelocal/input-valueasnumber-datetimelocal.html:
        Update a couple of existing tests to reflect behavior change.

        * fast/forms/datetimelocal/datetime-local-value-sanitization-expected.txt: Added.
        * fast/forms/datetimelocal/datetime-local-value-sanitization.html: Added.
        Improve test coverage for datetime-local value sanitization.

        * platform/mac-wk2/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-valueMissing-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/semantics/forms/the-input-element/datetime-local-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/semantics/forms/the-input-element/time-2-expected.txt:
        Rebaseline WPT tests now that more checks are passing.

2021-12-10  Gabriel Nava Marino  <gnavamarino@apple.com>

        nullptr deref in ComputeFloatOffsetForLineLayoutAdapter<FloatingObject::FloatLeft>::updateOffsetIfNeeded
        https://bugs.webkit.org/show_bug.cgi?id=234018

        Reviewed by Alan Bujtas.

        * fast/rendering/floating-object-renderer-crash-expected.txt: Added.
        * fast/rendering/floating-object-renderer-crash.html: Added.

2021-12-10  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r286836.
        https://bugs.webkit.org/show_bug.cgi?id=234153

        some tests are flaky on iOS and some are crashing on macOS

        Reverted changeset:

        "[Model] Add load and error events to distinguish resource
        load from model readiness"
        https://bugs.webkit.org/show_bug.cgi?id=233706
        https://commits.webkit.org/r286836

2021-12-10  Chris Dumez  <cdumez@apple.com>

        Radio buttons with no form owner are not grouped
        https://bugs.webkit.org/show_bug.cgi?id=220502
        <rdar://problem/73300895>

        Reviewed by Darin Adler.

        * fast/forms/radio/ValidityState-valueMissing-radio-expected.txt:
        * fast/forms/radio/ValidityState-valueMissing-radio.html:
        * fast/forms/radio/radio-live-validation-style-expected.txt:
        * fast/forms/radio/radio-live-validation-style.html:
        Update existing tests to reflect behavior change. I have verified that our behavior on those tests
        is aligned with both Firefox and Chrome.

        * platform/mac-wk2/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-valid-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-valueMissing-expected.txt:
        Rebaseline WPT tests now that more checks are passing.

2021-12-10  Youenn Fablet  <youenn@apple.com>

        [ Monterey ] http/tests/workers/service/serviceworker-websocket.https.html (layout-test) is constant text failure
        https://bugs.webkit.org/show_bug.cgi?id=233665
        <rdar://problem/85888177>

        Reviewed by Alex Christensen.

        Allow all SSL certificates.

        * http/tests/workers/service/serviceworker-websocket.https.html:
        * platform/mac-wk2/TestExpectations:

2021-12-10  Patrick Griffis  <pgriffis@igalia.com>

        CSP: Allow external scripts with SRI hashes matching CSP
        https://bugs.webkit.org/show_bug.cgi?id=233911

        Reviewed by Kate Cheney.

        Update tests to accept base64 with extra padding.

        * http/tests/security/contentSecurityPolicy/1.1/scripthash-tests-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-tests.html:

2021-12-10  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Enable bidi handling for content with inline boxes
        https://bugs.webkit.org/show_bug.cgi?id=234055

        Reviewed by Antti Koivisto.

        Progressions.

        * platform/mac/fast/borders/bidi-002-expected.txt:
        * platform/mac/fast/borders/bidi-012-expected.txt:
        * platform/mac/fast/borders/rtl-border-05-expected.txt:

2021-12-10  Frederic Wang  <fwang@igalia.com>

        Handle TerminationException in WebCore::ReadableStream::create()
        https://bugs.webkit.org/show_bug.cgi?id=233061

        Reviewed by Darin Adler.

        Add non-regression test.

        * streams/readable-stream-create-after-worker-terminates-crash-expected.txt: Added.
        * streams/readable-stream-create-after-worker-terminates-crash.html: Added.

2021-12-09  Antoine Quint  <graouts@webkit.org>

        [Model] Add load and error events to distinguish resource load from model readiness
        https://bugs.webkit.org/show_bug.cgi?id=233706
        rdar://85922697

        Reviewed by Chris Dumez and Dean Jackson.

        Remove existing tests around resource loading and recreate them in terms of "load" and "error"
        events in model-element/model-element-error-and-load-events.html and in terms of the ready
        promise in model-element/model-element-ready.html.

        Other tests using model.ready for other purposes are also rewritten using events. 

        * model-element/model-element-contents-layer-updates-with-clipping.html:
        * model-element/model-element-contents-layer-updates.html:
        * model-element/model-element-error-and-load-events-expected.txt: Added.
        * model-element/model-element-error-and-load-events.html: Added.
        * model-element/model-element-graphics-layers-opacity.html:
        * model-element/model-element-graphics-layers.html:
        * model-element/model-element-ready-expected.txt:
        * model-element/model-element-ready-load-aborted-expected.txt: Removed.
        * model-element/model-element-ready-load-aborted.html: Removed.
        * model-element/model-element-ready-load-failed-expected.txt: Removed.
        * model-element/model-element-ready-load-failed.html: Removed.
        * model-element/model-element-ready.html:
        * model-element/resources/model-element-test-utils.js: Added.
        (const.createModelAndSource):
        * platform/ios-simulator/TestExpectations:
        * platform/mac/TestExpectations:

2021-12-09  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test expectations and baselines. Unreviewed test gardening.
        https://bugs.webkit.org/show_bug.cgi?id=234120

        * platform/glib/TestExpectations:
        * platform/glib/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/glib/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/glib/imported/w3c/web-platform-tests/css/cssom-view/cssom-getBoundingClientRect-003-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-rangeOverflow-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-rangeUnderflow-expected.txt:
        * platform/wpe/TestExpectations:
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/html/dom/reflection-embedded-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/html/dom/reflection-forms-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/html/dom/reflection-text-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-001-expected.txt: Removed.

2021-12-09  Cathie Chen  <cathiechen@igalia.com>

        Stack-overflow crash in WebCore::RenderBox::computeLogicalHeight()
        https://bugs.webkit.org/show_bug.cgi?id=233460

        Reviewed by Sergio Villar Senin and Darin Adler.

        * fast/css/deprecated-flex-box-with-min-content-crashes-expected.txt: Added.
        * fast/css/deprecated-flex-box-with-min-content-crashes.html: Added.

2021-12-09  Chris Dumez  <cdumez@apple.com>

        Add basic support for launching a SharedWorker
        https://bugs.webkit.org/show_bug.cgi?id=233895

        Reviewed by Alex Christensen.

        Update test expectations now that tests involving Shared Workers are actually running.

        * TestExpectations:

2021-12-09  Robert Jenner  <Jenner@apple.com>

        Unreviewed, reverting r286754.

        Broke 2 tests on all mac an iOS

        Reverted changeset:

        "Add an experimental trackConfiguration accessor on AudioTrack
        & VideoTrack."
        https://bugs.webkit.org/show_bug.cgi?id=230841
        https://commits.webkit.org/r286754

2021-12-09  Matt Woodrow  <matt.woodrow@gmail.com>

        Unprefix -webkit-mask
        https://bugs.webkit.org/show_bug.cgi?id=229082

        Reviewed by Antti Koivisto.

        * fast/masking/parsing-mask-expected.txt:
        * fast/masking/parsing-mask-mode.html:
        * fast/masking/parsing-mask.html:
        * fast/masking/parsing-webkit-mask-expected.txt: Copied from LayoutTests/fast/masking/parsing-mask-expected.txt.
        * fast/masking/parsing-webkit-mask.html: Copied from LayoutTests/fast/masking/parsing-mask.html.
        * platform/mac/imported/w3c/web-platform-tests/css/css-masking/animations/mask-image-interpolation-expected.png: Added.
        * platform/mac/imported/w3c/web-platform-tests/css/css-masking/parsing/mask-valid.sub-expected.png: Added.
        * svg/masking/mask-external-reference-expected.svg: Added.
        * svg/masking/mask-external-reference.svg: Added.
        * svg/masking/resources/mask-resource.svg: Added.

2021-12-09  Tyler Wilcock  <tyler_w@apple.com>

        AX: Make 6 more layout tests async so they pass in isolated tree mode
        https://bugs.webkit.org/show_bug.cgi?id=233966

        Reviewed by Chris Fleizach.

        * accessibility/element-haspopup-expected.txt:
        * accessibility/element-haspopup.html:
        Use accessibilityController.accessibleElementById to get a reference
        to the link1 and link2 AX objects instead of document.getElementById()
        and accessibilityController.focusedElement. The latter would work, but
        would require the test to be made unnecessarily async.

        * accessibility/mac/label-element-changing-children-string-value-expected.txt:
        * accessibility/mac/label-element-changing-children-string-value.html:
        * accessibility/mac/label-element-changing-textcontent-string-value-expected.txt:
        * accessibility/mac/label-element-changing-textcontent-string-value.html:
        * accessibility/mac/update-children-when-aria-role-changes-expected.txt:
        * accessibility/mac/update-children-when-aria-role-changes.html:
        * accessibility/tabindex-removed-expected.txt:
        * accessibility/tabindex-removed.html:
        Make these tests async. They dynamically change page content with JS,
        so they must verify expectations asynchronously to pass in isolated
        tree mode.

        * accessibility/auto-fill-crash.html:
        Make this test async.
        * accessibility/auto-fill-crash-expected.txt:
        * platform/glib/accessibility/auto-fill-crash-expected.txt:
        Update expectations to reflect the test rewrite.
        * platform/win/accessibility/auto-fill-crash-expected.txt:
        Removed because the expectation is the same as the base
        auto-fill-crash-expected.txt

2021-12-09  Robert Jenner  <Jenner@apple.com>

        [ iOS EWS ]  2X media/track (layout-tests) are a constant image failure
        https://bugs.webkit.org/show_bug.cgi?id=234090

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-12-09  J Pascoe  <j_pascoe@apple.com>

        [WebAuthn] Remove user gesture requirement for using platform authenticator on the web
        https://bugs.webkit.org/show_bug.cgi?id=230893
        <rdar://problem/79781342>

        Reviewed by Brent Fulgham.

        Modify layout tests to reflect new WebAuthn user gesture console message.

        * http/wpt/credential-management/credentialscontainer-store-basics.https-expected.txt:
        * http/wpt/webauthn/ctap-hid-failure.https-expected.txt:
        * http/wpt/webauthn/ctap-hid-success.https-expected.txt:
        * http/wpt/webauthn/ctap-nfc-failure.https-expected.txt:
        * http/wpt/webauthn/idl.https-expected.txt:
        * http/wpt/webauthn/public-key-credential-create-failure-hid-silent.https-expected.txt:
        * http/wpt/webauthn/public-key-credential-create-failure-hid.https-expected.txt:
        * http/wpt/webauthn/public-key-credential-create-failure-local-silent.https-expected.txt:
        * http/wpt/webauthn/public-key-credential-create-failure-local.https-expected.txt:
        * http/wpt/webauthn/public-key-credential-create-failure-nfc.https-expected.txt:
        * http/wpt/webauthn/public-key-credential-create-failure-u2f-silent.https-expected.txt:
        * http/wpt/webauthn/public-key-credential-create-failure-u2f.https-expected.txt:
        * http/wpt/webauthn/public-key-credential-create-failure.https-expected.txt:
        * http/wpt/webauthn/public-key-credential-create-success-hid.https-expected.txt:
        * http/wpt/webauthn/public-key-credential-create-success-local.https-expected.txt:
        * http/wpt/webauthn/public-key-credential-create-success-nfc.https-expected.txt:
        * http/wpt/webauthn/public-key-credential-create-success-u2f.https-expected.txt:
        * http/wpt/webauthn/public-key-credential-get-failure-hid-silent.https-expected.txt:
        * http/wpt/webauthn/public-key-credential-get-failure-hid.https-expected.txt:
        * http/wpt/webauthn/public-key-credential-get-failure-local-silent.https-expected.txt:
        * http/wpt/webauthn/public-key-credential-get-failure-local.https-expected.txt:
        * http/wpt/webauthn/public-key-credential-get-failure-nfc.https-expected.txt:
        * http/wpt/webauthn/public-key-credential-get-failure-u2f-silent.https-expected.txt:
        * http/wpt/webauthn/public-key-credential-get-failure-u2f.https-expected.txt:
        * http/wpt/webauthn/public-key-credential-get-failure.https-expected.txt:
        * http/wpt/webauthn/public-key-credential-get-success-hid.https-expected.txt:
        * http/wpt/webauthn/public-key-credential-get-success-local.https-expected.txt:
        * http/wpt/webauthn/public-key-credential-get-success-nfc.https-expected.txt:
        * http/wpt/webauthn/public-key-credential-get-success-u2f.https-expected.txt:

2021-12-09  Manuel Rego Casasnovas  <rego@igalia.com>

        [selectors] Match :focus-visible on <select> elements
        https://bugs.webkit.org/show_bug.cgi?id=233924

        Reviewed by Antti Koivisto.

        * fast/forms/select-listbox-focusring-expected.html: Added.
        * fast/forms/select-listbox-focusring.html: Added.

2021-12-08  Patrick Griffis  <pgriffis@igalia.com>

        CSP: Skip whitespace at beginning of policy header
        https://bugs.webkit.org/show_bug.cgi?id=233951

        Reviewed by Kate Cheney.

        No longer skip a test and update results to not have leading whitespace.

        * TestExpectations:
        * http/tests/security/contentSecurityPolicy/1.1/script-blocked-sends-multiple-reports-expected.txt:

2021-12-08  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [WPE] Update test baselines after r284521. Unreviewed test gardening.
        https://bugs.webkit.org/show_bug.cgi?id=234023

        These are all changes in tag capitalization due to files being
        detected as XHTML instead of HTML.

        * platform/wpe/fast/block/positioning/inline-block-relposition-expected.txt:
        * platform/wpe/fast/body-propagation/background-color/001-expected.txt:
        * platform/wpe/fast/body-propagation/background-color/005-expected.txt:
        * platform/wpe/fast/body-propagation/background-image/001-expected.txt:
        * platform/wpe/fast/body-propagation/background-image/005-expected.txt:
        * platform/wpe/fast/body-propagation/background-image/009-expected.txt:
        * platform/wpe/fast/body-propagation/background-image/010-expected.txt:
        * platform/wpe/fast/body-propagation/overflow/005-expected.txt:
        * platform/wpe/fast/text/tatechuyoko-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/background-color-applied-to-rounded-inline-element-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/background-color-border-box-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/background-repeat-space-padding-box-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/background-size-002-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/background-size-applies-to-block-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/background_color_padding_box-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/background_position_three_four_values-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/background_properties_greater_than_images-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/background_repeat_space_border_box-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/background_repeat_space_content_box-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-001-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-002-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-003-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-005-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-006-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-007-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-008-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-009-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-010-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-011-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-012-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-013-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-014-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-015-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-016-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-017-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-clip-001-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-clip-002-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-content-edge-001-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-initial-value-001-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-not-inherited-001-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-shorthand-001-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-style-001-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-style-002-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-style-003-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-style-004-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-style-005-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-sum-of-radii-001-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-sum-of-radii-002-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-with-three-values-001-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-with-two-values-001-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-top-left-radius-values-001-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-top-left-radius-values-002-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-top-left-radius-values-003-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-top-left-radius-values-004-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-top-right-radius-values-004-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/box-shadow-001-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/box-shadow-002-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/box-shadow-003-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/box-shadow-004-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/color-behind-images-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/none-as-image-layer-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/order-of-images-expected.txt:
        * platform/wpe/ietestcenter/css3/text/textshadow-001-expected.txt:
        * platform/wpe/ietestcenter/css3/text/textshadow-003-expected.txt:
        * platform/wpe/ietestcenter/css3/text/textshadow-004-expected.txt:
        * platform/wpe/ietestcenter/css3/text/textshadow-005-expected.txt:
        * platform/wpe/ietestcenter/css3/text/textshadow-006-expected.txt:
        * platform/wpe/ietestcenter/css3/text/textshadow-007-expected.txt:
        * platform/wpe/ietestcenter/css3/text/textshadow-008-expected.txt:
        * platform/wpe/ietestcenter/css3/text/textshadow-009-expected.txt:
        * platform/wpe/ietestcenter/css3/text/textshadow-010-expected.txt:
        * platform/wpe/svg/custom/svg-fonts-in-html-expected.txt:

2021-12-08  Jer Noble  <jer.noble@apple.com>

        Add an experimental trackConfiguration accessor on AudioTrack & VideoTrack.
        https://bugs.webkit.org/show_bug.cgi?id=230841

        Reviewed by Eric Carlson.

        * fast/mediastream/MediaStream-video-element-expected.txt:
        * media/content/test-hevc.mp4: Added.
        * media/hevc-codec-parameters-expected.txt:
        * media/hevc-codec-parameters.html:
        * media/hevc-codec-string-expected.txt: Added.
        * media/hevc-codec-string.html: Added.
        * media/track/audio-track-configuration-expected.txt: Added.
        * media/track/audio-track-configuration.html: Added.
        * media/track/video-track-configuration-expected.txt: Added.
        * media/track/video-track-configuration.html: Added.

2021-12-08  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [WPE] Update test baselines after r283875, r284194, and r286107
        https://bugs.webkit.org/show_bug.cgi?id=234038

        Unreviewed test gardening.

        * platform/wpe/fast/dom/52776-expected.txt:
        * platform/wpe/fast/text/basic/014-expected.txt:
        * platform/wpe/fast/text/basic/015-expected.txt:
        * platform/wpe/fast/text/international/bidi-LDB-2-CSS-expected.txt:
        * platform/wpe/fast/text/international/bidi-LDB-2-HTML-expected.txt:
        * platform/wpe/fast/text/international/bidi-LDB-2-formatting-characters-expected.txt:
        * platform/wpe/fast/text/international/bidi-european-terminators-expected.txt:
        * platform/wpe/fast/text/international/bidi-ignored-for-first-child-inline-expected.txt:
        * platform/wpe/fast/text/international/bidi-innertext-expected.txt:
        * platform/wpe/fast/text/international/bidi-listbox-expected.txt:
        * platform/wpe/fast/text/international/bidi-menulist-expected.txt:
        * platform/wpe/fast/text/international/bidi-neutral-run-expected.txt:
        * platform/wpe/fast/text/international/bidi-override-expected.txt:
        * platform/wpe/fast/text/whitespace/004-expected.txt:
        * platform/wpe/fast/text/whitespace/005-expected.txt:
        * platform/wpe/fast/text/whitespace/006-expected.txt:
        * platform/wpe/fast/text/whitespace/007-expected.txt:
        * platform/wpe/fast/text/whitespace/010-expected.txt:
        * platform/wpe/fast/text/whitespace/011-expected.txt:
        * platform/wpe/fast/text/whitespace/015-expected.txt:
        * platform/wpe/fast/text/whitespace/016-expected.txt:

2021-12-08  Jer Noble  <jer.noble@apple.com>

        [VTT] Fix various issues with complicated rendering of VTT cues
        https://bugs.webkit.org/show_bug.cgi?id=233901

        Reviewed by Eric Carlson.

        * media/track/captions-webvtt/no-snap-to-lines-overlap.vtt: Added.
        * media/track/captions-webvtt/snap-to-lines-inline-style.vtt: Added.
        * media/track/captions-webvtt/snap-to-lines-left-and-right.vtt: Added.
        * media/track/track-webvtt-no-snap-to-lines-overlap-expected.html: Added.
        * media/track/track-webvtt-no-snap-to-lines-overlap.html: Added.
        * media/track/track-webvtt-snap-to-lines-inline-style-expected.html: Added.
        * media/track/track-webvtt-snap-to-lines-inline-style.html: Added.
        * media/track/track-webvtt-snap-to-lines-left-right-expected.html: Added.
        * media/track/track-webvtt-snap-to-lines-left-right.html: Added.

2021-12-08  Rob Buis  <rbuis@igalia.com>

        [css-contain] Prevent various kinds of propagation to RenderView
        https://bugs.webkit.org/show_bug.cgi?id=233535

        Reviewed by Alan Bujtas.

        * TestExpectations:

2021-12-08  Youenn Fablet  <youenn@apple.com>

        Same-site lax cookies not sent by fetch event handler after page reload
        https://bugs.webkit.org/show_bug.cgi?id=226386
        <rdar://problem/78878853>

        Reviewed by Chris Dumez.

        * http/wpt/service-workers/cross-site-navigation-same-cookie-lax.https-expected.txt: Added.
        * http/wpt/service-workers/cross-site-navigation-same-cookie-lax.https.html: Added.
        * http/wpt/service-workers/resources/get-cookie.py: Added.
        * http/wpt/service-workers/resources/get-document-cookie.py: Added.
        * http/wpt/service-workers/resources/set-cookie-lax.py: Added.
        * http/wpt/service-workers/same-cookie-lax-worker.js: Added.
        * http/wpt/service-workers/same-cookie-lax.https-expected.txt: Added.
        * http/wpt/service-workers/same-cookie-lax.https.html: Added.

2021-12-08  Youenn Fablet  <youenn@apple.com>

        Safari Bug "no-cache" network error
        https://bugs.webkit.org/show_bug.cgi?id=233916

        Reviewed by Chris Dumez.

        * http/wpt/service-workers/cache-control-request-expected.txt: Added.
        * http/wpt/service-workers/cache-control-request-worker.js: Added.
        (async doTest):
        * http/wpt/service-workers/cache-control-request.html: Added.
        * http/wpt/service-workers/resources/cross-origin-allow.py: Added.
        (main):

2021-12-08  Vitaly Dyachkov  <obyknovenius@me.com>

        [css-flexbox] `gap` does not work correctly when `flex-direction: column-reverse` is applied
        https://bugs.webkit.org/show_bug.cgi?id=225278

        Reviewed by Sergio Villar Senin.

        * imported/w3c/web-platform-tests/css/css-flexbox/column-reverse-gap-expected.txt: Added.
        * imported/w3c/web-platform-tests/css/css-flexbox/column-reverse-gap.html: Added.

2021-12-08  Antoine Quint  <graouts@webkit.org>

        'border-radius shorthand is getting expanded in WebKit
        https://bugs.webkit.org/show_bug.cgi?id=233960

        Reviewed by Antti Koivisto.

        Rebase an existing test now that we correctly use the shorthand in cssText for border-radius.

        * fast/css/remove-shorthand-expected.txt:

2021-12-08  Antti Koivisto  <antti@apple.com>

        [CSS Cascade Layers] import some new WPTs
        https://bugs.webkit.org/show_bug.cgi?id=233947

        Reviewed by Kimmo Kinnunen.

        * TestExpectations:

2021-12-07  Saam Barati  <sbarati@apple.com>

        TypedArray prototype set should go down the fast path when using non clamped integer types of the same byte size
        https://bugs.webkit.org/show_bug.cgi?id=233905

        Reviewed by Keith Miller.

        * js/script-tests/typedarray-set-overlapping-elements-of-same-size.js:
        * js/typedarray-set-overlapping-elements-of-same-size-expected.txt:

2021-12-07  Yoshiaki Jitsukawa  <yoshiaki.jitsukawa@sony.com>

        Support Animated JPEG-XL images
        https://bugs.webkit.org/show_bug.cgi?id=233545
        <rdar://problem/86077143>

        Reviewed by Don Olmstead.

         Add test for animated JPEG XL, based on animated-gif-loop-count.

        * TestExpectations:
        * fast/images/animated-jpegxl-loop-count-expected.html: Added.
        * fast/images/animated-jpegxl-loop-count.html: Added.
        * fast/images/resources/animated-red-green-blue-repeat-1.jxl: Added.
        * fast/images/resources/animated-red-green-blue-repeat-2.jxl: Added.
        * fast/images/resources/animated-red-green-blue-repeat-infinite.jxl: Added.
        * platform/glib/TestExpectations:
        * platform/wincairo/TestExpectations:

2021-12-07  Robert Jenner  <Jenner@apple.com>

        REGRESSION(iOS 14): svg/W3C-I18N/tspan-direction-rtl.svg is a constant failure 
        https://bugs.webkit.org/show_bug.cgi?id=217258

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-12-07  Robert Jenner  <Jenner@apple.com>

        REGRESSION(iOS 14): svg/W3C-I18N/tspan-direction-rtl.svg is a constant failure 
        https://bugs.webkit.org/show_bug.cgi?id=217258

        Unreviewed test gardening. iOS 15 rebaseline.

        * platform/ios/svg/W3C-I18N/tspan-direction-rtl-expected.txt:

2021-12-07  Razvan Caliman  <rcaliman@apple.com>

        Web Inspector: Support fuzzy matching in CSS completions
        https://bugs.webkit.org/show_bug.cgi?id=230351
        <rdar://82976292>

        Reviewed by Devin Rousso.

        Add test for `WI.CSSQueryController` to check fuzzy matching logic for CSS completions.
        Follows prior example from `LayoutTests/inspector/unit-tests/resource-query-controller.html`
        since `WI.ResouceQueryController` served as the model class that was adapted for CSS.

        * inspector/unit-tests/css-query-controller-expected.txt: Added.
        * inspector/unit-tests/css-query-controller.html: Added.

2021-12-07  Chris Dumez  <cdumez@apple.com>

        ASSERTION FAILED: m_messagesBeingDispatched.isEmpty() on http/tests/resourceLoadStatistics/website-data-removal-for-site-with-user-interaction.html
        https://bugs.webkit.org/show_bug.cgi?id=228164
        <rdar://problem/80914914>

        Reviewed by Darin Adler.

        Unskip test that should no longer be crashing.

        * platform/ios-wk2/TestExpectations:

2021-12-07  Kyle Piddington  <kpiddington@apple.com>

        Roll ANGLE to include upstreamed Metal backend
        https://bugs.webkit.org/show_bug.cgi?id=220896
        <rdar://problem/73539682>

        Reviewed by Ken Russell and Dean Jackson.

        Update ANGLE to ce854632690e505551414f80d01d864df6118882

        Update s3tc tests to adapt to new ANGLE validation
        Update shaders-with-name-conflicts to pass, as it tests a valid
        program.

        * webgl/1.0.3/resources/webgl_test_files/conformance/extensions/webgl-compressed-texture-s3tc.html:
        * webgl/1.0.3/resources/webgl_test_files/conformance/glsl/misc/shaders-with-name-conflicts.html:
        * webgl/2.0.0/resources/webgl_test_files/conformance/extensions/webgl-compressed-texture-s3tc-srgb.html:
        * webgl/2.0.0/resources/webgl_test_files/conformance/extensions/webgl-compressed-texture-s3tc.html:
        * webgl/2.0.0/resources/webgl_test_files/conformance/glsl/misc/shaders-with-name-conflicts.html:
        * webgl/pending/resources/webgl_test_files/conformance/context/context-attributes-alpha-depth-stencil-antialias.html:
        * webgl/resources/webgl_test_files/conformance/extensions/s3tc-and-rgtc.html:
        * webgl/resources/webgl_test_files/conformance/extensions/webgl-compressed-texture-s3tc-srgb.html:

2021-12-07  Antti Koivisto  <antti@apple.com>

        Assertion after removing stylesheet with loading @import rule
        https://bugs.webkit.org/show_bug.cgi?id=233928

        Reviewed by Alan Bujtas.

        * fast/css/import-and-remove-assert-expected.txt: Added.
        * fast/css/import-and-remove-assert.html: Added.

2021-12-03  Sergio Villar Senin  <svillar@igalia.com>

        [css-flexbox] Account for captions when flexing tables with specified sizes
        https://bugs.webkit.org/show_bug.cgi?id=233814

        Reviewed by Darin Adler.

        * TestExpectations: Unskipped two tests that are now passing

2021-12-07  Martin Robinson  <mrobinson@webkit.org>

        perspective() <= 1px should be clamped to 1px
        https://bugs.webkit.org/show_bug.cgi?id=232619
        <rdar://problem/85197362>

        Reviewed by Simon Fraser.

        * TestExpectations: Mark tests as passing.
        * transforms/3d/general/3dtransform-values.html:
        * transforms/3d/general/prefixed-3dtransform-values.html:
        * transforms/3d/general/3dtransform-values-expected.txt:
        * transforms/3d/general/prefixed-3dtransform-values-expected.txt:

2021-12-06  Said Abou-Hallawa  <said@apple.com>

        [GPU Process]  [Filters] Make FilterEffect::externalRepresentation() and its overridable functions work iteratively
        https://bugs.webkit.org/show_bug.cgi?id=233893

        Reviewed by Cameron McCormack.

        Add missing closing quotations in the expected results of some of the 
        filter layout tests.

        * svg/filters/feDropShadow-expected.txt:
        * svg/filters/feDropShadow-subregion-expected.txt:
        * svg/filters/feDropShadow-zero-deviation-expected.txt:
        * svg/repaint/filter-child-repaint-expected.txt:

2021-12-06  Lauro Moura  <lmoura@igalia.com>

        [GLIB] Small gardening

        Unreviewed test gardening.

        * platform/glib/TestExpectations:
        * platform/wpe/TestExpectations:

2021-12-06  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GTK][WPE] Mathml asserts with invisible operators
        https://bugs.webkit.org/show_bug.cgi?id=215217

        Unreviewed test gardening.

        Remove test failures from expectations as the assert was removed.

        * platform/glib/TestExpectations:

2021-12-06  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test expectations and baselines. Unreviewed test gardening.
        https://bugs.webkit.org/show_bug.cgi?id=233898

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-valid-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-valueMissing-expected.txt:

2021-12-06  Chris Dumez  <cdumez@apple.com>

        <input type="time">'s range should be reversible
        https://bugs.webkit.org/show_bug.cgi?id=233835

        Reviewed by Darin Adler.

        Rebaseline WPT tests that are now passing.

        * platform/mac-wk2/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-rangeOverflow-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-rangeUnderflow-expected.txt:

2021-12-06  Ryan Haddad  <ryanhaddad@apple.com>

        [ iOS ] imported/w3c/web-platform-tests/content-security-policy/worker-src/service-* tests are consistently failing
        https://bugs.webkit.org/show_bug.cgi?id=229875

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations: Add DumpJSConsoleLogInStdErr to address consistent failures.

2021-12-06  Sam Weinig  <weinig@apple.com>

        [CSS Color 5] Update color-mix() to support srgb-linear and alpha premultiplication
        https://bugs.webkit.org/show_bug.cgi?id=233862

        Reviewed by Cameron McCormack.

        Update test and results to also test the srgb-linear color space and also to
        specifically test colors with and without alpha, updating the results for the
        new premuliplied results.

        * fast/css/parsing-color-mix-expected.txt:
        * fast/css/parsing-color-mix.html:

2021-12-06  Patrick Angle  <pangle@apple.com>

        Web Inspector: Support Cascade Layers in the Styles sidebar
        https://bugs.webkit.org/show_bug.cgi?id=233208

        Reviewed by Devin Rousso.

        Add new test cases for `CSS.getMatchesStyleForNode` to make sure that layer groupings are correctly determined,
        and that rules nested in `@layer` rules and `@import layer()`s are correctly represented and sorted by the order
        they are applied to an element.

        * inspector/css/getMatchedStylesForNode-expected.txt:
        - Re-baseline to account for change in order of CSSGrouping properties in the protocol due to `text` now being
        optional.
        * inspector/css/getMatchedStylesForNodeLayerGrouping-expected.txt: Added.
        * inspector/css/getMatchedStylesForNodeLayerGrouping.html: Added.
        * inspector/css/resources/external-layers.css: Added.

2021-12-06  Antoine Quint  <graouts@webkit.org>

        [Web Animations] Add a way to run scripted animations
        https://bugs.webkit.org/show_bug.cgi?id=233869
        rdar://85983542

        Reviewed by Dean Jackson.

        Add tests for the new CustomEffect interface and the document.timeline.animate() method.
        These are written using WPT libraries such that they may be upstreamed to the WPT repository
        in the future if and when the CustomEffect interface is standardized.

        * platform/win/TestExpectations:
        * webanimations/custom-effect/custom-effect-expected.txt: Added.
        * webanimations/custom-effect/custom-effect.html: Added.
        * webanimations/custom-effect/document-timeline-animate-expected.txt: Added.
        * webanimations/custom-effect/document-timeline-animate.html: Added.

2021-12-06  Rob Buis  <rbuis@igalia.com>

        Null check in shouldUseBreakElement
        https://bugs.webkit.org/show_bug.cgi?id=229275

        Reviewed by Ryosuke Niwa.

        * editing/execCommand/insert-line-break-crash-expected.txt: Added.
        * editing/execCommand/insert-line-break-crash.html: Added.

2021-12-06  Tadeu Zagallo  <tzagallo@apple.com>

        Restore navigator.hardwareConcurrency
        https://bugs.webkit.org/show_bug.cgi?id=233381
        <rdar://85023911>

        Reviewed by Saam Barati.

        * fast/dom/Window/resources/window-property-collector.js:
        (emitExpectedResult):
        * fast/dom/navigator-detached-no-crash-expected.txt:
        * fast/dom/navigator-hardwareConcurrency-expected.txt: Added.
        * fast/dom/navigator-hardwareConcurrency.html: Added.
        * fast/workers/resources/worker-navigator.js:
        * fast/workers/worker-navigator-expected.txt:
        * platform/glib/imported/w3c/web-platform-tests/html/dom/idlharness.worker-expected.txt:
        * platform/gtk/fast/dom/navigator-detached-no-crash-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/ipad/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk1/fast/dom/navigator-detached-no-crash-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk2/fast/dom/navigator-detached-no-crash-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac/fast/dom/navigator-detached-no-crash-expected.txt:
        * platform/win/fast/dom/navigator-detached-no-crash-expected.txt:
        * platform/wincairo/fast/dom/navigator-detached-no-crash-expected.txt:
        * platform/wpe/fast/dom/navigator-detached-no-crash-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:

2021-12-06  Said Abou-Hallawa  <said@apple.com>

        [GPU Process] (REGRESSION r285597): Set the filterRegion of the CSSFilter after it is created
        https://bugs.webkit.org/show_bug.cgi?id=233849

        Reviewed by Cameron McCormack.

        Unskip layout tests which were skipped in r285597.

        * TestExpectations:

2021-12-04  Antoine Quint  <graouts@webkit.org>

        CSS animation sorting may crash due to AnimationList copy upon CSS Animation removal
        https://bugs.webkit.org/show_bug.cgi?id=233819
        rdar://85596065

        Reviewed by Dean Jackson and Darin Adler.

        Add a test that used to crash before this patch.

        * webanimations/css-animation-sorting-crash-2-expected.txt: Added.
        * webanimations/css-animation-sorting-crash-2.html: Added.

2021-12-04  Rob Buis  <rbuis@igalia.com>

        Fix parentNode in CompositeEditCommand::splitTreeToNode
        https://bugs.webkit.org/show_bug.cgi?id=230710

        Reviewed by Ryosuke Niwa.

        * editing/execCommand/outdent-cut-crash-expected.txt: Added.
        * editing/execCommand/outdent-cut-crash.html: Added.

2021-12-04  Tyler Wilcock  <tyler_w@apple.com>

        AX: Make ellipsis-text.html, aria-roledescription.html, and aria-switch-checked.html pass in isolated tree mode
        https://bugs.webkit.org/show_bug.cgi?id=233790

        Reviewed by Chris Fleizach.

        * accessibility/aria-roledescription-expected.txt:
        * accessibility/aria-roledescription.html:
        * accessibility/aria-switch-checked-expected.txt:
        * accessibility/aria-switch-checked.html:
        Make these tests async. They must be made async to pass in
        isolated tree mode as they dynamically change page content using JS.

        * accessibility/ellipsis-text.html:
        Make this test isolated-tree-friendly by selecting elements with accessibleElementById instead
        `document.getElementById("id").focus()` and `accessibilityController.focusedElement`

        * platform/glib/accessibility/aria-roledescription-expected.txt:
        Update platform-specfic expectation for the new version of this test.

2021-12-03  Said Abou-Hallawa  <said@apple.com>

        [GPU Process] (REGRESSION r285597): Fix SVGFilter clamping calculation
        https://bugs.webkit.org/show_bug.cgi?id=233843

        Reviewed by Simon Fraser.

        Unskip two layout tests which were skipped in r285597.

        * TestExpectations:

2021-12-03  Lauro Moura  <lmoura@igalia.com>

        [GLIB] Gardening some consistent timeouts

        Unreviewed test gardening.

        * platform/glib/TestExpectations:
        * platform/wpe/TestExpectations:

2021-12-03  John Wilander  <wilander@apple.com>

        PCM: Unlinkable tokens for triggering event to prevent fraud
        https://bugs.webkit.org/show_bug.cgi?id=233673
        <rdar://79426347>

        Reviewed by Alex Christensen.

        These changes are a report version bump 2->3.

        * http/tests/privateClickMeasurement/attribution-conversion-through-fetch-keepalive-expected.txt:
        * http/tests/privateClickMeasurement/expired-attribution-report-gets-sent-on-session-start-expected.txt:
        * http/tests/privateClickMeasurement/multiple-app-bundle-ids-expected.txt:
        * http/tests/privateClickMeasurement/send-attribution-conversion-request-expected.txt:
        * http/tests/privateClickMeasurement/store-private-click-measurement-with-source-nonce-expected.txt:
        * http/tests/privateClickMeasurement/triggering-event-with-attribution-source-through-fetch-keepalive-expected.txt:
        * platform/ios/http/tests/privateClickMeasurement/attribution-conversion-through-fetch-keepalive-expected.txt:

2021-12-03  Lauro Moura  <lmoura@igalia.com>

        [GLIB] WPT css-transform transform-interpolation-rotate-slerp.html is flaky img failing after updated in r286002

        Unreviewed test gardening.

        * platform/glib/TestExpectations:

2021-12-03  Eric Carlson  <eric.carlson@apple.com>

        DisplayCaptureSource doesn't initialize base class correctly
        https://bugs.webkit.org/show_bug.cgi?id=233722

        Reviewed by Youenn Fablet.

        * fast/mediastream/get-display-media-settings-expected.txt: Added.
        * fast/mediastream/get-display-media-settings.html: Added.

2021-12-03  Sergio Villar Senin  <svillar@igalia.com>

        [css-flexbox] WPT import. December 2021 edition
        https://bugs.webkit.org/show_bug.cgi?id=233810

        Reviewed by Rob Buis.

        * TestExpectations: Unskipped a test that works fine after the changes in the import.

2021-12-03  Youenn Fablet  <youenn@apple.com>

        Persist NavigationPreloadState in service worker registration database
        https://bugs.webkit.org/show_bug.cgi?id=233698

        Reviewed by Chris Dumez.

        * http/wpt/service-workers/service-worker-networkprocess-crash-expected.txt:
        * http/wpt/service-workers/service-worker-networkprocess-crash.html:

2021-12-03  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GStreamer] test http/tests/security/webaudio-render-remote-audio-allowed-crossorigin.html fails
        https://bugs.webkit.org/show_bug.cgi?id=233737

        Reviewed by Philippe Normand.

        Give some more time to the frequency analyzer to detect activity.

        * http/tests/security/webaudio-render-remote-audio-allowed-crossorigin.html:

2021-12-03  Alicia Boya García  <aboya@igalia.com>

        [MSE] Fix erase range to prevent accidental deletion in files with changing durations
        https://bugs.webkit.org/show_bug.cgi?id=233528

        Reviewed by Xabier Rodriguez-Calvar.

        * media/media-source/media-source-append-tiny-durations-expected.txt: Added.
        * media/media-source/media-source-append-tiny-durations.html: Added.

2021-12-02  Chris Dumez  <cdumez@apple.com>

        html/semantics/forms/constraints/form-validation-validity-valid.html WPT test is failing
        https://bugs.webkit.org/show_bug.cgi?id=233778

        Reviewed by Darin Adler.

        Rebaseline WPT tests now that more checks are passing.

        * platform/mac-wk2/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-valid-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-valueMissing-expected.txt:

2021-12-02  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test expectations and baselines. Unreviewed test gardening.
        https://bugs.webkit.org/show_bug.cgi?id=233799

        Add a platform specific baseline for imported/w3c/web-platform-tests/service-workers/service-worker/navigation-preload/broken-chunked-encoding.https.html
        as the tests pass on GTK and WPE.

        * platform/glib/TestExpectations:
        * platform/glib/imported/w3c/web-platform-tests/service-workers/service-worker/navigation-preload/broken-chunked-encoding.https-expected.txt: Added.

2021-12-02  Tyler Wilcock  <tyler_w@apple.com>

        AX: In AccessibilityRenderObject::documentLinks, use existing image-map document links instead of always creating new ones
        https://bugs.webkit.org/show_bug.cgi?id=233767

        Reviewed by Chris Fleizach.

        The current implementation of AccessibilityRenderObject::documentLinks always
        creates new image-map links rather than using the existing ones created via
        AccessibilityRenderObject::addImageMapChildren. This is problematic for two reasons:

          1. It is wasteful in terms of memory usage as we will endlessly accumulate
             AccessibilityImageMapLink objects in the cache each time
             AccessibilityRenderObject::documentLinks is called.

          2. It breaks `<area>` document links in isolated tree mode, since the objects created
             this way aren't a child of any other object, and thus don't have any representation
             in the isolated tree. Concretely, this means AXIsolatedTree::nodeForID never returns
             anything for these objects.

        In this patch, we try to find the existing image-map link children
        in AccessibilityRenderObject::documentLinks before falling back to creating new ones.

        * accessibility/mac/document-links-expected.txt:
        Update expectations based on new variable names.
        * accessibility/mac/document-links.html:
        Modernize test and improve variable naming.
        * resources/accessibility-helper.js:
        (debugEscaped): Added.

2021-12-02  Robert Jenner  <Jenner@apple.com>

        [ Monterey ] http/tests/workers/service/serviceworker-websocket.https.html (layout-test) is constant text failure
        https://bugs.webkit.org/show_bug.cgi?id=233665

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-12-02  Megan Gardner  <megan_gardner@apple.com>

        Re-add support of image control menus.
        https://bugs.webkit.org/show_bug.cgi?id=233305

        Reviewed by Tim Horton.

        Update tests to account for image controls.

        * fast/images/image-controls-basic.html: Added.
        * fast/images/image-controls-basic-expected.txt: Added.
        * platform/mac/fast/images/image-controls-basic-expected.txt: Added.

2021-12-02  Devin Rousso  <drousso@apple.com>

        [Payment Request] Validate payment method data on construction
        https://bugs.webkit.org/show_bug.cgi?id=233292
        <rdar://problem/85736007>

        Reviewed by Andy Estes.

        * http/tests/ssl/applepay/PaymentRequest.https.html:
        * http/tests/ssl/applepay/PaymentRequest.https-expected.txt:

2021-12-02  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo-wk1/TestExpectations:
        * platform/wincairo/TestExpectations:
        * platform/wincairo/fast/box-shadow/basic-shadows-expected.txt:
        * platform/wincairo/fast/dom/52776-expected.txt:
        * platform/wincairo/fast/text/atsui-rtl-override-selection-expected.txt:
        * platform/wincairo/fast/text/international/bidi-LDB-2-formatting-characters-expected.txt:
        * platform/wincairo/fast/text/international/bidi-ignored-for-first-child-inline-expected.txt:
        * platform/wincairo/fast/text/international/bidi-neutral-run-expected.txt:

2021-12-02  Tim Nguyen  <ntim@apple.com>

        Fix crash in GraphicsContextCG::endTransparencyLayer
        https://bugs.webkit.org/show_bug.cgi?id=230230

        Reviewed by Myles C. Maxfield.

        * fast/layers/top-layer-ancestor-opacity-and-transform-crash-expected.txt: Added.
        * fast/layers/top-layer-ancestor-opacity-and-transform-crash.html: Added.

2021-12-02  Robert Jenner  <Jenner@apple.com>

        Unreviewed, reverting r285570.

        Broke StarD build

        Reverted changeset:

        "Fix crash in GraphicsContextCG::endTransparencyLayer"
        https://bugs.webkit.org/show_bug.cgi?id=230230
        https://commits.webkit.org/r285570

2021-12-02  Tyler Wilcock  <tyler_w@apple.com>

        AX Isolated Tree: Document links should be stored in web areas, not the root
        https://bugs.webkit.org/show_bug.cgi?id=233728

        Reviewed by Chris Fleizach.

        * accessibility/visible-elements.html:
        * accessibility/visible-elements-expected.txt:
        Make this test async so it passes in isolated tree mode.
        This test must be async because it includes JS that dynamically
        changes page content.

2021-12-02  Kimmo Kinnunen  <kkinnunen@apple.com>

        GraphicsContextGLANGLE should not have Cocoa Mac specific display reconfiguration code
        https://bugs.webkit.org/show_bug.cgi?id=233695

        Reviewed by Antti Koivisto.

        Change the test to account for the behavior change
        where the simulated context change event is delivered
        only to the context being tested, not to all contexts.

        * fast/canvas/webgl/webglcontextchangedevent.html:

2021-12-02  Youenn Fablet  <youenn@apple.com>

        Add support for NavigationPreloadManager
        https://bugs.webkit.org/show_bug.cgi?id=233523

        Reviewed by Chris Dumez.

        * TestExpectations:

2021-12-01  Chris Dumez  <cdumez@apple.com>

        validity.valueMissing should not rely on element's disabled state for inputs of type radio/file/checkbox
        https://bugs.webkit.org/show_bug.cgi?id=233735

        Reviewed by Darin Adler.

        Rebaseline WPT tests now that more checks are passing.

        * platform/mac-wk2/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-valueMissing-expected.txt:

2021-12-01  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test expectations and baselines. Unreviewed test gardening.
        https://bugs.webkit.org/show_bug.cgi?id=233741

        * platform/glib/TestExpectations:
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-rangeOverflow-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-rangeUnderflow-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-stepMismatch-expected.txt:

2021-12-01  Chris Fleizach  <cfleizach@apple.com>

        AX: Support accessibility attributes for <model>
        https://bugs.webkit.org/show_bug.cgi?id=233620
        <rdar://problem/85852073>

        Reviewed by Dean Jackson, Andres Gonzalez.

        * accessibility/model-element-attributes.html: Added.
        * platform/gtk/TestExpectations:
        * platform/ios/TestExpectations:
        * platform/mac-wk1/TestExpectations:
        * platform/ios/accessibility/model-element-attributes-expected.txt: Added.
        * platform/mac/accessibility/model-element-attributes-expected.txt: Added.
        * platform/win/TestExpectations:

2021-12-01  Lauro Moura  <lmoura@igalia.com>

        [GLIB] Skip model tag test

        Unreviewed test gardening.

        <model> is not enabled/supported in GTK/WPE.

        * platform/glib/TestExpectations:

2021-12-01  Philippe Normand  <pnormand@igalia.com>

        [GStreamer] requestVideoFrameCallback support
        https://bugs.webkit.org/show_bug.cgi?id=233541

        Reviewed by Xabier Rodriguez-Calvar.

        * platform/glib/TestExpectations: Update rvfc test expectations. WebRTC-related tests fail
        mostly because WebRTC encoding/decoding is currently totally broken in WPE/GTK. XR tests
        shall be handled in a separate patch.

2021-12-01  Patrick Griffis  <pgriffis@igalia.com>

        CSP: Update URL stripping in reports to match other implementations
        https://bugs.webkit.org/show_bug.cgi?id=233135

        Reviewed by Kate Cheney.

        Remove skipped tests that now pass. Change CSP tests to expect full URLs.

        * TestExpectations:
        * http/tests/security/contentSecurityPolicy/1.1/script-blocked-sends-multiple-reports-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/securitypolicyviolation-block-cross-origin-image-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/securitypolicyviolation-block-cross-origin-image-from-script-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/securitypolicyviolation-block-cross-origin-image-from-script.html:
        * http/tests/security/contentSecurityPolicy/1.1/securitypolicyviolation-block-cross-origin-image.html:
        * http/tests/security/contentSecurityPolicy/1.1/securitypolicyviolation-block-image-https-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-blocked-uri-cross-origin-expected.txt:
        * http/wpt/fetch/csp-reports-bypass-csp-checks.html:
        * platform/glib/imported/w3c/web-platform-tests/content-security-policy/media-src/media-src-7_1_2.sub-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/content-security-policy/media-src/media-src-7_2_2.sub-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/content-security-policy/media-src/media-src-blocked.sub-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/content-security-policy/media-src/media-src-redir-bug.sub-expected.txt:

2021-12-01  Andreu Botella  <andreu@andreubotella.com>

        imported/w3c/web-platform-tests/html/semantics/forms/form-submission-0/multipart-formdata.window.html is no longer failing – remove expectations
        https://bugs.webkit.org/show_bug.cgi?id=233664

        Reviewed by Chris Dumez.

        * TestExpectations:

2021-12-01  Youenn Fablet  <youenn@apple.com>

        Reuse navigation preload if service worker is fetching the corresponding navigation request
        https://bugs.webkit.org/show_bug.cgi?id=233490

        Reviewed by Chris Dumez.

        * http/wpt/service-workers/fetch-service-worker-preload-worker.js: Added.
        * http/wpt/service-workers/fetch-service-worker-preload.https-expected.txt: Added.
        * http/wpt/service-workers/fetch-service-worker-preload.https.html: Added.
        * http/wpt/service-workers/resources/fetch-service-worker-preload-script.py: Added.

2021-11-30  Robert Jenner  <Jenner@apple.com>

        REBASELINE [ Monterey ]fast/css/continuationCrash.html (layout-test) is a constant text failure
        https://bugs.webkit.org/show_bug.cgi?id=233662

        Unreviewed test gardening. Monterey rebase.

        * platform/mac-bigsur/fast/css/continuationCrash-expected.txt: Copied from LayoutTests/platform/mac/fast/css/continuationCrash-expected.txt.
        * platform/mac/fast/css/continuationCrash-expected.txt:

2021-11-30  Robert Jenner  <Jenner@apple.com>

        REBASELINE [ Monterey ] fast/forms/select-list-box-with-height.html (layout-test) is a constant text failure 
        https://bugs.webkit.org/show_bug.cgi?id=233661

        Unreviewed test gardening. Monterey rebase.

        * platform/mac-bigsur/fast/forms/select-list-box-with-height-expected.txt: Copied from LayoutTests/platform/mac/fast/forms/select-list-box-with-height-expected.txt.
        * platform/mac/fast/forms/select-list-box-with-height-expected.txt:

2021-11-30  Robert Jenner  <Jenner@apple.com>

        REBASELINE: [ Monterey ] fast/forms/control-restrict-line-height.html (layout-test)is a constant text failure 
        https://bugs.webkit.org/show_bug.cgi?id=233667

        Unreviewed test gardening. Monterey rebase.

        * platform/mac-bigsur/fast/forms/control-restrict-line-height-expected.txt: Copied from LayoutTests/platform/mac/fast/forms/control-restrict-line-height-expected.txt.
        * platform/mac/fast/forms/control-restrict-line-height-expected.txt:

2021-11-30  Robert Jenner  <Jenner@apple.com>

        REBASELINE: imported/w3c/web-platform-tests/mathml/relations/html5-tree/dynamic-childlist-001.html (layout-test) is a constant text failure 
        https://bugs.webkit.org/show_bug.cgi?id=233668

        Unreviewed test gardening. Monterey rebase.

        * platform/mac/imported/w3c/web-platform-tests/mathml/relations/html5-tree/dynamic-childlist-001-expected.txt: Added.

2021-11-30  Robert Jenner  <Jenner@apple.com>

        REBASELINE: [ Monterey ] fast/text/international/bidi-neutral-run.html (layout-test) is a constant text failure 
        https://bugs.webkit.org/show_bug.cgi?id=233657

        Unreviewed test gardening. Rebase for Monterey.

        * platform/mac-bigsur/fast/text/international/bidi-neutral-run-expected.txt: Copied from LayoutTests/platform/mac/fast/text/international/bidi-neutral-run-expected.txt.
        * platform/mac/fast/text/international/bidi-neutral-run-expected.txt:

2021-11-30  Robert Jenner  <Jenner@apple.com>

        REBASELINE [ Monterey ] 2X fast/dom/HTMLAnchorElement (layout-tests) are constant text failures (233659)
        https://bugs.webkit.org/show_bug.cgi?id=233659

        Uneviewed test gardening. Rebase for Monterey.

        * platform/mac-bigsur-wk2/fast/dom/HTMLAnchorElement/anchor-file-blob-convert-to-download-async-delegate-expected.txt: Added.
        * platform/mac-bigsur-wk2/fast/dom/HTMLAnchorElement/anchor-file-blob-convert-to-download-expected.txt: Added.
        * platform/mac-wk2/fast/dom/HTMLAnchorElement/anchor-file-blob-convert-to-download-async-delegate-expected.txt: Added.
        * platform/mac-wk2/fast/dom/HTMLAnchorElement/anchor-file-blob-convert-to-download-expected.txt: Added.

2021-11-30  Ryan Haddad  <ryanhaddad@apple.com>

        Unreviewed, remove failure expectation for test that is now consistently passing.

        * platform/mac-wk2/TestExpectations:

2021-11-30  Robert Jenner  <Jenner@apple.com>

        REBASELINE: [ Monterey ] fast/dom/52776.html (layout-test) is a constant text failure (233669)
        https://bugs.webkit.org/show_bug.cgi?id=233669

        Unreviewed test gardening. Rebase for non-Monterey macs.

        * platform/mac-bigsur/fast/dom/52776-expected.txt: Added.

2021-11-30  Ryan Haddad  <ryanhaddad@apple.com>

        [ Mac ] http/wpt/service-workers/service-worker-spinning-activate.https.html is flaky failing
        https://bugs.webkit.org/show_bug.cgi?id=220754

        Unreviewed test gardening.

        * platform/mac/TestExpectations: Remove flaky expectation.

2021-11-30  Ryan Haddad  <ryanhaddad@apple.com>

        [ Mac ] http/wpt/service-workers/service-worker-spinning-install.https.html is flaky failing
        https://bugs.webkit.org/show_bug.cgi?id=219516

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations: Remove flaky expectation.

2021-11-30  Robert Jenner  <Jenner@apple.com>

        REBASELINE: [ Monterey ] fast/dom/52776.html (layout-test) is a constant text failure (233669)
        https://bugs.webkit.org/show_bug.cgi?id=233669

        Unreviewed test gardening. Rebase expectation for Monterey.

        * platform/mac/fast/dom/52776-expected.txt:

2021-11-30  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        Update test expectations for a number of newly-passing tests.
        https://bugs.webkit.org/show_bug.cgi?id=233638

        Unreviewed test gardening.

        * TestExpectations:
        * platform/glib/TestExpectations:

2021-11-30  Chris Dumez  <cdumez@apple.com>

        Unreviewed, rebaseline a few WPT tests on iOS after r286316.

        * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-rangeOverflow-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-rangeUnderflow-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-stepMismatch-expected.txt:

2021-11-30  Robert Jenner  <Jenner@apple.com>

        [ BigSur+ ] imported/w3c/web-platform-tests/media-source/mediasource-addsourcebuffer.html is consistently failing
        https://bugs.webkit.org/show_bug.cgi?id=221230

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:
        * platform/mac/TestExpectations:

2021-11-30  Gabriel Nava Marino  <gnavamarino@apple.com>

        nullptr deref in InbandChapterTrackPrivateAVFObjC::processChapters
        https://bugs.webkit.org/show_bug.cgi?id=233605

        Reviewed by Eric Carlson.

        * media/track/track-in-band-chapters-invalid-client-crash-expected.txt: Added.
        * media/track/track-in-band-chapters-invalid-client-crash.html: Added.

2021-11-30  Robert Jenner  <Jenner@apple.com>

        [ Big Sur+ ] imported/w3c/web-platform-tests/fetch/content-type/script.window.html is failing
        https://bugs.webkit.org/show_bug.cgi?id=219965

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-11-30  Robert Jenner  <Jenner@apple.com>

        REGRESSION (r278630?): [Monterey iOS 14+ ] http/tests/ssl/applepay/ApplePayButton.html is a constant failure
        https://bugs.webkit.org/show_bug.cgi?id=226826

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-11-30  Chris Dumez  <cdumez@apple.com>

        Unreviewed follow-up to r286316 to fix "undeflows" typo.

        * fast/forms/date/ValidityState-rangeUnderflow-date-expected.txt:
        * fast/forms/date/ValidityState-rangeUnderflow-date.html:
        * fast/forms/datetimelocal/ValidityState-rangeUnderflow-datetimelocal-expected.txt:
        * fast/forms/datetimelocal/ValidityState-rangeUnderflow-datetimelocal.html:
        * fast/forms/month/ValidityState-rangeUnderflow-month-expected.txt:
        * fast/forms/month/ValidityState-rangeUnderflow-month.html:
        * fast/forms/number/number-validity-rangeunderflow-expected.txt:
        * fast/forms/number/number-validity-rangeunderflow.html:
        * fast/forms/time/time-validity-rangeunderflow-expected.txt:
        * fast/forms/time/time-validity-rangeunderflow.html:
        * fast/forms/week/ValidityState-rangeUnderflow-week-expected.txt:
        * fast/forms/week/ValidityState-rangeUnderflow-week.html:

2021-11-30  Chris Dumez  <cdumez@apple.com>

        Several WPT tests under html/semantics/forms/constraints are failing due to extraneous willValidate() checks
        https://bugs.webkit.org/show_bug.cgi?id=233604

        Reviewed by Darin Adler.

        Rebaseline WPT tests now that more checks are passing.

        * platform/mac-wk2/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-rangeOverflow-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-rangeUnderflow-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-stepMismatch-expected.txt:

2021-11-30  Youenn Fablet  <youenn@apple.com>

        Add support for rvfc to MediaPlayerPrivateMediaSourceAVFObjC
        https://bugs.webkit.org/show_bug.cgi?id=233186

        Reviewed by Eric Carlson.

        * http/tests/media/media-source/mediasource-rvfc-expected.txt: Added.
        * http/tests/media/media-source/mediasource-rvfc.html: Added.

2021-11-30  Youenn Fablet  <youenn@apple.com>

        Move TransformStreamAPIEnabled flag to Settings
        https://bugs.webkit.org/show_bug.cgi?id=233524

        Reviewed by Chris Dumez.

        * platform/win/streams/reference-implementation/transform-stream-errors-expected.txt: Removed.
        * platform/win/streams/reference-implementation/transform-stream-expected.txt: Removed.
        * platform/wincairo/streams/reference-implementation/transform-stream-errors-expected.txt: Removed.
        * platform/wincairo/streams/reference-implementation/transform-stream-expected.txt: Removed.

2021-11-30  Youenn Fablet  <youenn@apple.com>

        ServiceWorkerContainer does not respond well to network process crash
        https://bugs.webkit.org/show_bug.cgi?id=233626

        Reviewed by Chris Dumez.

        * http/wpt/service-workers/service-worker-networkprocess-crash.html:
        * platform/mac-wk2/TestExpectations:
        Remove flaky expectation as test is no longer flaky according results.webkit.org.

2021-11-30  Chris Dumez  <cdumez@apple.com>

        [GLIB] REGRESSION(r268539): imported/w3c/web-platform-tests/webaudio/the-audio-api/the-stereopanner-interface/no-dezippering.html is failing
        https://bugs.webkit.org/show_bug.cgi?id=217845
        <rdar://problem/85865551>

        Unreviewed, unskip test as it appears it got fixed by r286264.

        * platform/glib/TestExpectations:

2021-11-30  Rob Buis  <rbuis@igalia.com>

        Null check in previousLinePosition
        https://bugs.webkit.org/show_bug.cgi?id=233067

        Reviewed by Antti Koivisto.

        * editing/selection/move-by-line-crash-expected.txt: Added.
        * editing/selection/move-by-line-crash.html: Added.

2021-11-30  Martin Robinson  <mrobinson@webkit.org>

        Transition from perspective(500px) to 'none' is probably wrong
        https://bugs.webkit.org/show_bug.cgi?id=52700

        Reviewed by Simon Fraser.

        * platform/glib/imported/w3c/web-platform-tests/css/css-transforms/animation/transform-interpolation-001-expected.txt: Removed.
        * animations/3d/animate-to-transform-perpective-to-none-expected.html: Added.
        * animations/3d/animate-to-transform-perpective-to-none.html: Added.

2021-11-30  Youenn Fablet  <youenn@apple.com>

        Preload navigation request if the service worker is not immediately ready to handle the navigation request fetch event
        https://bugs.webkit.org/show_bug.cgi?id=233471

        Reviewed by Chris Dumez.

        * http/wpt/service-workers/resources/service-worker-preload-when-not-activated-script.py: Added.
        * http/wpt/service-workers/service-worker-preload-when-not-activated-worker.js: Added.
        * http/wpt/service-workers/service-worker-preload-when-not-activated.https-expected.txt: Added.
        * http/wpt/service-workers/service-worker-preload-when-not-activated.https.html: Added.

2021-11-29  Wenson Hsieh  <wenson_hsieh@apple.com>

        [Webpage translation] Avoid translating text inside image overlays
        https://bugs.webkit.org/show_bug.cgi?id=233225
        rdar://85713734

        Reviewed by Aditya Keerthi.

        Add a test to verify that `translate` is `false` on the image overlay root container element.

        * fast/images/text-recognition/image-overlay-do-not-translate-expected.txt: Added.
        * fast/images/text-recognition/image-overlay-do-not-translate.html: Added.

2021-11-29  Lauro Moura  <lmoura@igalia.com>

        [GLIB] Gardening SVG filter failures after r286203

        Unreviewed test gardening.

        * platform/glib/TestExpectations:

2021-11-29  Simon Fraser  <simon.fraser@apple.com>

        Revert changes related to using a scroll animator for momentum scrolling
        https://bugs.webkit.org/show_bug.cgi?id=233585

        Reviewed by Tim Horton.

        We can keep the tests but they don't need to change the setting any more.

        * fast/scrolling/mac/momentum-animator-end-event-stops.html:
        * fast/scrolling/mac/momentum-animator-in-overflow.html:
        * fast/scrolling/mac/momentum-animator-maybegin-stops.html:
        * fast/scrolling/mac/momentum-animator.html:
        * platform/mac-wk2/TestExpectations:

2021-11-29  Wenson Hsieh  <wenson_hsieh@apple.com>

        Add a basic heuristic for sizing text in image overlay blocks
        https://bugs.webkit.org/show_bug.cgi?id=233343
        rdar://85755755

        Reviewed by Tim Horton.

        Add a new layout test. See WebCore/ChangeLog for more details.

        * fast/images/text-recognition/image-overlay-blocks-expected.html: Added.
        * fast/images/text-recognition/image-overlay-blocks.html: Added.

2021-11-29  Chris Dumez  <cdumez@apple.com>

        REGRESSION(r283855) [GTK][WPE] imported/w3c/web-platform-tests/webaudio/the-audio-api/the-pannernode-interface/panner-equalpower.html fails
        https://bugs.webkit.org/show_bug.cgi?id=233529

        Reviewed by Philippe Normand.

        Unskip test that is now passing.

        * platform/glib/TestExpectations:

2021-11-29  Chris Fleizach  <cfleizach@apple.com>

        AX: Unify speech synthesizer platform usage for Mac/iOS
        https://bugs.webkit.org/show_bug.cgi?id=231895
        <rdar://problem/84372479>

        Reviewed by Andres Gonzalez.

        * fast/speechsynthesis/speech-synthesis-speak-empty-string-expected.txt:
        * platform/mac-catalina-wk1/TestExpectations: Added.
        * platform/mac-wk1/TestExpectations:
        * platform/mac-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-11-29  Myles C. Maxfield  <mmaxfield@apple.com>

        [Cocoa] REGRESSION(r281291): Text Style fonts don't have the correct weight set
        https://bugs.webkit.org/show_bug.cgi?id=233070

        Reviewed by Cameron McCormack.

        * platform/ios-14/platform/ios/ios/fast/text/opticalFontWithWeight-expected.txt:
        * platform/ios/ios/fast/text/opticalFontWithWeight-expected.txt:
        * platform/ios/platform/ios/ios/fast/text/opticalFontWithWeight-expected.txt:

2021-11-29  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test expectations and baselines. Unreviewed test gardening.
        https://bugs.webkit.org/show_bug.cgi?id=233530

        * platform/glib/TestExpectations:
        * platform/glib/imported/w3c/web-platform-tests/css/css-transforms/animation/transform-interpolation-inline-value-expected.txt: Added.
        * platform/glib/storage/domstorage/sessionstorage/blocked-file-access-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:

2021-11-29  Andreu Botella  <andreu@andreubotella.com>

        Form payloads with text/plain enctype should have a final \r\n
        https://bugs.webkit.org/show_bug.cgi?id=220783

        Reviewed by Darin Adler.

        * http/tests/misc/resources/form-post-textplain.py:

2021-11-29  Rob Buis  <rbuis@igalia.com>

        Only handle ident tokens in consumeWillChange
        https://bugs.webkit.org/show_bug.cgi?id=233459

        Reviewed by Antti Koivisto.

        * fast/css/variables/will-change-variable-resolve-crash-expected.txt: Added.
        * fast/css/variables/will-change-variable-resolve-crash.html: Added.

2021-10-27  Sergio Villar Senin  <svillar@igalia.com>

        [css-flexbox] Do not shrink tables bellow their intrinsic sizes
        https://bugs.webkit.org/show_bug.cgi?id=232383

        Reviewed by Manuel Rego Casasnovas.

        * TestExpectations: Unskip table-as-item-fixed-min-width-3.html which works fine now.

2021-10-27  Sergio Villar Senin  <svillar@igalia.com>

        [css-flexbox] Add support for replaced elements with intrinsic ratio and no intrinsic size
        https://bugs.webkit.org/show_bug.cgi?id=231952
        <rdar://problem/84662305>

        Reviewed by Manuel Rego Casasnovas.

        * TestExpectations: Unskipped a test case that is now passing.

2021-11-28  Matt Woodrow  <matt.woodrow@gmail.com>

        Serialize computed style of background shorthand with multiple layers correctly.
        https://bugs.webkit.org/show_bug.cgi?id=111121

        Reviewed by Cameron McCormack.

        * fast/css/getComputedStyle/getComputedStyle-background-shorthand-expected.txt:
        * fast/css/getComputedStyle/getComputedStyle-background-shorthand.html:

2021-11-28  Sihui Liu  <sihui_liu@apple.com>

        Convert error to string before passing to testFailed() in FileSystemAccess layout tests
        https://bugs.webkit.org/show_bug.cgi?id=233241

        Reviewed by Youenn Fablet.

        testFailed() in js-test.js expects string, but finishTest() may receive Error object as parameter.

        * storage/filesystemaccess/directory-handle-basics.html:
        * storage/filesystemaccess/directory-handle-iteration.html:
        * storage/filesystemaccess/file-handle-getfile.html:
        * storage/filesystemaccess/handle-move.html:
        * storage/filesystemaccess/resources/directory-handle-basics.js:
        (getDirectory):
        (finishTest): Deleted.
        * storage/filesystemaccess/resources/directory-handle-iteration.js:
        (finishTest): Deleted.
        * storage/filesystemaccess/resources/file-handle-getfile.js:
        (async read):
        (async test):
        (finishTest): Deleted.
        * storage/filesystemaccess/resources/handle-move.js:
        (async test):
        (finishTest): Deleted.
        * storage/filesystemaccess/resources/shared.js: Added. Move finishTest() function here so the code can be shared.
        (finishTest):
        * storage/filesystemaccess/resources/sync-access-handle-basics.js:
        (getDirectory):
        (finishTest): Deleted.
        * storage/filesystemaccess/resources/sync-access-handle-close.js:
        (finishTest): Deleted.
        * storage/filesystemaccess/resources/sync-access-handle-read-write.js:
        (async test):
        (finishTest): Deleted.

2021-11-28  Sam Weinig  <weinig@apple.com>

        [CSS Color 5] Update color-mix() to latest spec (again)
        https://bugs.webkit.org/show_bug.cgi?id=233527

        Reviewed by Dean Jackson.

        * fast/css/parsing-color-mix-expected.txt:
        * fast/css/parsing-color-mix.html:
        Update tests to include testing of hue interpolation methods, new
        restrictions on percentage ranges and the new alpha multiplier.

2021-11-28  Philippe Normand  <pnormand@igalia.com>

        Weird JS usage in webrtc/multi-video.html
        https://bugs.webkit.org/show_bug.cgi?id=233540

        Reviewed by Youenn Fablet.

        * webrtc/multi-video.html: MediaStream.getVideoTracks() accepts no argument and returns a
        sequence. The MediaStream constructor needs a sequence of tracks.

2021-11-27  Sam Weinig  <weinig@apple.com>

        [CSS Color 4] Add support for oklab() and oklch() colors
        https://bugs.webkit.org/show_bug.cgi?id=233507

        Reviewed by Cameron McCormack.

        Update existing tests for lab() and lch() to also test oklab() and oklch().
        As they have the same parsing rules, this is mostly done by templatizing
        the tests and running them in a loop.

        * fast/css/parsing-color-mix-expected.txt:
        * fast/css/parsing-color-mix.html:
        * fast/css/parsing-lab-colors-expected.txt:
        * fast/css/parsing-lab-colors.html:
        * fast/css/parsing-relative-color-syntax-expected.txt:
        * fast/css/parsing-relative-color-syntax.html:

2021-11-26  Tim Nguyen  <ntim@apple.com>

        Remove focus-after-close-expected.txt for glib as it is identical as the cross-platform file

        Unreviewed test gardening

        * platform/glib/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/focus-after-close-expected.txt: Removed.

2021-11-26  Antti Koivisto  <antti@apple.com>

        REGRESSION(r286112): Style invalidation for text mutation happening after event dispatch
        https://bugs.webkit.org/show_bug.cgi?id=233501
        <rdar://problem/85754810>

        Reviewed by Alan Bujtas.

        * fast/events/mutation-in-DOMCharacterDataModified-expected.txt: Added.
        * fast/events/mutation-in-DOMCharacterDataModified.html: Added.

2021-11-25  Sam Weinig  <weinig@apple.com>

        [CSS Color 4] Add support for new srgb-linear, xyz-d50 and xyz-d65 colorspaces
        https://bugs.webkit.org/show_bug.cgi?id=233475

        Reviewed by Dean Jackson.

        Update tests for new srgb-linear, xyz-d50 and xyz-d65 colorspaces

        * fast/css/parsing-color-function-expected.txt:
        * fast/css/parsing-color-function.html:
        * fast/css/parsing-color-mix-expected.txt:
        * fast/css/parsing-color-mix.html:
        * fast/css/parsing-relative-color-syntax-expected.txt:
        * fast/css/parsing-relative-color-syntax.html:

2021-11-25  Enrique Ocaña González  <eocanha@igalia.com>

        [GTK] Layout Test http/tests/media/video-play-waiting.html is timing out
        https://bugs.webkit.org/show_bug.cgi?id=142489

        Reviewed by Philippe Normand.

        The test was failing with a timeout even after properly calling TestRunner.notifyDone()
        internally because there was still an injectedBundle.topLoadingFrame() in InjectedBundlePage,
        which means that the web page hadn't completely finished to be downloaded. This was caused
        by the stalled video download that the test wants to exercise.

        The solution is to set the video src to empty in order to convince TestRunner that the page
        has finished downloading.

        * http/tests/media/video-play-waiting.html: Set the video src to empty.
        * platform/mac/TestExpectations: The test now just fails (for reasons unrelated to this fix) on mac instead of timing out.
        * platform/glib/TestExpectations: Unskipped test.
        * platform/win/TestExpectations: Unskipped test.

2021-11-24  Ziran Sun  <zsun@igalia.com>

        [css-grid] Track sizing algorithm not repeated even if used flex fraction would change
        https://bugs.webkit.org/show_bug.cgi?id=232617

        Reviewed by Javier Fernandez.

        Unskip two tests that are passing.
 
        * TestExpectations:

2021-11-24  Manuel Rego Casasnovas  <rego@igalia.com>

        [selectors] Import 2 new :focus-visible tests from WPT
        https://bugs.webkit.org/show_bug.cgi?id=233446

        Reviewed by Antti Koivisto.

        * platform/ios/TestExpectations: Skip one test in iOS.
        * tests-options.json:

2021-11-23  Carlos Garcia Campos  <cgarcia@igalia.com>

        CSP: security policy violation event is always using document as target
        https://bugs.webkit.org/show_bug.cgi?id=233182

        Reviewed by Kate Cheney.

        Unskip tests that no longer time out.

        * TestExpectations:

2021-11-23  Alan Bujtas  <zalan@apple.com>

        [IFC][Integration] Inflate ink overflow with box-shadow
        https://bugs.webkit.org/show_bug.cgi?id=233437

        Reviewed by Antti Koivisto.

        * platform/mac/fast/box-shadow/basic-shadows-expected.txt:

2021-11-23  Adrian Perez de Castro  <aperez@igalia.com>

        [WPE][GTK] Allow enabling JPEG-XL support at build time
        https://bugs.webkit.org/show_bug.cgi?id=233325

        Reviewed by Michael Catanzaro.

        * platform/glib/TestExpectations: Unskip JPEG-XL tests for the GTK and WPE ports.

2021-11-22  Myles C. Maxfield  <mmaxfield@apple.com>

        rem in media queries should be calculated using font-size:initial, not root element font-size
        https://bugs.webkit.org/show_bug.cgi?id=156684
        <rdar://problem/25778616>

        Reviewed by Antti Koivisto.

        * TestExpectations:

2021-11-22  Chris Fleizach  <cfleizach@apple.com>

        AX: WebKit: need a method to get visible text and frame of an element on screen
        https://bugs.webkit.org/show_bug.cgi?id=233336

        Reviewed by Andres Gonzalez.

        * accessibility/ios-simulator/visible-character-range-expected.txt: Added.
        * accessibility/visible-character-range-expected.txt: Added.
        * accessibility/visible-character-range.html: Added.
        * platform/ios/TestExpectations:
        * platform/mac-wk1/TestExpectations:
        * platform/win/TestExpectations:

2021-11-22  Antti Koivisto  <antti@apple.com>

        [LFC][Integration] Remove dirOverride
        https://bugs.webkit.org/show_bug.cgi?id=233423

        Reviewed by Alan Bujtas.

        * platform/glib/imported/w3c/web-platform-tests/svg/import/text-intro-09-b-manual-expected.txt:
        * platform/glib/svg/W3C-I18N/text-dirLTR-ubOverride-expected.txt:
        * platform/glib/svg/W3C-I18N/text-dirRTL-ubOverride-expected.txt:
        * platform/glib/svg/W3C-I18N/tspan-dirLTR-ubOverride-in-rtl-context-expected.txt:
        * platform/glib/svg/W3C-I18N/tspan-dirNone-ubOverride-in-default-context-expected.txt:
        * platform/glib/svg/W3C-I18N/tspan-dirNone-ubOverride-in-ltr-context-expected.txt:
        * platform/glib/svg/W3C-I18N/tspan-dirNone-ubOverride-in-rtl-context-expected.txt:
        * platform/glib/svg/W3C-I18N/tspan-dirRTL-ubOverride-in-rtl-context-expected.txt:
        * platform/glib/svg/custom/glyph-selection-bidi-mirror-expected.txt:
        * platform/glib/svg/custom/glyph-selection-non-bmp-expected.txt:
        * platform/glib/svg/text/bidi-embedded-direction-expected.txt:
        * platform/glib/svg/text/bidi-text-query-expected.txt:
        * platform/gtk/fast/block/positioning/absolute-in-inline-rtl-2-expected.txt:
        * platform/gtk/fast/block/positioning/absolute-in-inline-rtl-3-expected.txt:
        * platform/gtk/fast/block/positioning/absolute-in-inline-rtl-expected.txt:
        * platform/gtk/fast/block/positioning/absolute-in-inline-short-rtl-expected.txt:
        * platform/gtk/fast/borders/bidi-002-expected.txt:
        * platform/gtk/fast/borders/bidi-009a-expected.txt:
        * platform/gtk/fast/borders/bidi-012-expected.txt:
        * platform/gtk/fast/borders/rtl-border-02-expected.txt:
        * platform/gtk/fast/css/bidi-override-in-anonymous-block-expected.txt:
        * platform/gtk/fast/css/rtl-ordering-expected.txt:
        * platform/gtk/fast/css/text-overflow-ellipsis-expected.txt:
        * platform/gtk/fast/css/text-overflow-ellipsis-strict-expected.txt:
        * platform/gtk/fast/css/text-overflow-ellipsis-text-align-center-expected.txt:
        * platform/gtk/fast/css/text-overflow-ellipsis-text-align-justify-expected.txt:
        * platform/gtk/fast/css/text-overflow-ellipsis-text-align-left-expected.txt:
        * platform/gtk/fast/css/text-overflow-ellipsis-text-align-right-expected.txt:
        * platform/gtk/fast/css/textCapitalizeEdgeCases-expected.txt:
        * platform/gtk/fast/css/vertical-text-overflow-ellipsis-text-align-center-expected.txt:
        * platform/gtk/fast/css/vertical-text-overflow-ellipsis-text-align-center-mixed-expected.txt:
        * platform/gtk/fast/css/vertical-text-overflow-ellipsis-text-align-justify-expected.txt:
        * platform/gtk/fast/css/vertical-text-overflow-ellipsis-text-align-justify-mixed-expected.txt:
        * platform/gtk/fast/css/vertical-text-overflow-ellipsis-text-align-left-expected.txt:
        * platform/gtk/fast/css/vertical-text-overflow-ellipsis-text-align-left-mixed-expected.txt:
        * platform/gtk/fast/css/vertical-text-overflow-ellipsis-text-align-right-expected.txt:
        * platform/gtk/fast/css/vertical-text-overflow-ellipsis-text-align-right-mixed-expected.txt:
        * platform/gtk/fast/dom/HTMLElement/bdo-expected.txt:
        * platform/gtk/fast/forms/select-visual-hebrew-expected.txt:
        * platform/gtk/fast/forms/visual-hebrew-text-field-expected.txt:
        * platform/gtk/fast/inline/inline-borders-with-bidi-override-expected.txt:
        * platform/gtk/fast/text/atsui-rtl-override-selection-expected.txt:
        * platform/gtk/fast/text/embed-at-end-of-pre-wrap-line-expected.txt:
        * platform/gtk/fast/text/international/bidi-AN-after-L-expected.txt:
        * platform/gtk/fast/text/international/bidi-LDB-2-CSS-expected.txt:
        * platform/gtk/fast/text/international/bidi-LDB-2-HTML-expected.txt:
        * platform/gtk/fast/text/international/bidi-LDB-2-formatting-characters-expected.txt:
        * platform/gtk/fast/text/international/bidi-control-chars-treated-as-ZWS-expected.txt:
        * platform/gtk/fast/text/international/bidi-european-terminators-expected.txt:
        * platform/gtk/fast/text/international/bidi-ignored-for-first-child-inline-expected.txt:
        * platform/gtk/fast/text/international/bidi-layout-across-linebreak-expected.txt:
        * platform/gtk/fast/text/international/bidi-override-expected.txt:
        * platform/gtk/fast/text/international/pop-up-button-text-alignment-and-direction-expected.txt:
        * platform/gtk/fast/text/shaping/shaping-script-order-expected.txt:
        * platform/gtk/fast/text/shaping/shaping-selection-rect-expected.txt:
        * platform/gtk/fast/text/text-letter-spacing-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/svg/import/text-intro-02-b-manual-expected.txt:
        * platform/gtk/svg/W3C-I18N/tspan-dirLTR-ubOverride-in-default-context-expected.txt:
        * platform/gtk/svg/W3C-I18N/tspan-dirLTR-ubOverride-in-ltr-context-expected.txt:
        * platform/gtk/svg/W3C-I18N/tspan-dirRTL-ubOverride-in-default-context-expected.txt:
        * platform/gtk/svg/W3C-I18N/tspan-dirRTL-ubOverride-in-ltr-context-expected.txt:
        * platform/gtk/svg/W3C-SVG-1.1-SE/text-intro-02-b-expected.txt:
        * platform/gtk/svg/W3C-SVG-1.1-SE/text-intro-09-b-expected.txt:
        * platform/gtk/svg/W3C-SVG-1.1/text-intro-02-b-expected.txt:
        * platform/gtk/svg/text/bidi-text-anchor-direction-expected.txt:
        * platform/ios-simulator/imported/w3c/web-platform-tests/svg/import/text-intro-02-b-manual-expected.txt:
        * platform/ios-simulator/imported/w3c/web-platform-tests/svg/import/text-intro-09-b-manual-expected.txt:
        * platform/ios-wk1/fast/borders/bidi-002-expected.txt:
        * platform/ios-wk2/fast/text/atsui-rtl-override-selection-expected.txt:
        * platform/ios-wk2/fast/text/international/bidi-layout-across-linebreak-expected.txt:
        * platform/ios/fast/block/positioning/absolute-in-inline-rtl-2-expected.txt:
        * platform/ios/fast/block/positioning/absolute-in-inline-rtl-3-expected.txt:
        * platform/ios/fast/block/positioning/absolute-in-inline-rtl-expected.txt:
        * platform/ios/fast/block/positioning/absolute-in-inline-short-rtl-expected.txt:
        * platform/ios/fast/borders/bidi-009a-expected.txt:
        * platform/ios/fast/borders/bidi-012-expected.txt:
        * platform/ios/fast/borders/rtl-border-02-expected.txt:
        * platform/ios/fast/css/bidi-override-in-anonymous-block-expected.txt:
        * platform/ios/fast/css/rtl-ordering-expected.txt:
        * platform/ios/fast/css/text-overflow-ellipsis-expected.txt:
        * platform/ios/fast/css/text-overflow-ellipsis-strict-expected.txt:
        * platform/ios/fast/css/text-overflow-ellipsis-text-align-center-expected.txt:
        * platform/ios/fast/css/text-overflow-ellipsis-text-align-justify-expected.txt:
        * platform/ios/fast/css/text-overflow-ellipsis-text-align-left-expected.txt:
        * platform/ios/fast/css/text-overflow-ellipsis-text-align-right-expected.txt:
        * platform/ios/fast/css/textCapitalizeEdgeCases-expected.txt:
        * platform/ios/fast/css/vertical-text-overflow-ellipsis-text-align-center-expected.txt:
        * platform/ios/fast/css/vertical-text-overflow-ellipsis-text-align-center-mixed-expected.txt:
        * platform/ios/fast/css/vertical-text-overflow-ellipsis-text-align-justify-expected.txt:
        * platform/ios/fast/css/vertical-text-overflow-ellipsis-text-align-justify-mixed-expected.txt:
        * platform/ios/fast/css/vertical-text-overflow-ellipsis-text-align-left-expected.txt:
        * platform/ios/fast/css/vertical-text-overflow-ellipsis-text-align-left-mixed-expected.txt:
        * platform/ios/fast/css/vertical-text-overflow-ellipsis-text-align-right-expected.txt:
        * platform/ios/fast/css/vertical-text-overflow-ellipsis-text-align-right-mixed-expected.txt:
        * platform/ios/fast/dom/HTMLElement/bdo-expected.txt:
        * platform/ios/fast/forms/select-visual-hebrew-expected.txt:
        * platform/ios/fast/forms/visual-hebrew-text-field-expected.txt:
        * platform/ios/fast/inline/inline-borders-with-bidi-override-expected.txt:
        * platform/ios/fast/text/atsui-rtl-override-selection-expected.txt:
        * platform/ios/fast/text/embed-at-end-of-pre-wrap-line-expected.txt:
        * platform/ios/fast/text/international/bidi-AN-after-L-expected.txt:
        * platform/ios/fast/text/international/bidi-LDB-2-CSS-expected.txt:
        * platform/ios/fast/text/international/bidi-LDB-2-HTML-expected.txt:
        * platform/ios/fast/text/international/bidi-LDB-2-formatting-characters-expected.txt:
        * platform/ios/fast/text/international/bidi-control-chars-treated-as-ZWS-expected.txt:
        * platform/ios/fast/text/international/bidi-european-terminators-expected.txt:
        * platform/ios/fast/text/international/bidi-ignored-for-first-child-inline-expected.txt:
        * platform/ios/fast/text/international/bidi-layout-across-linebreak-expected.txt:
        * platform/ios/fast/text/international/bidi-override-expected.txt:
        * platform/ios/fast/text/international/pop-up-button-text-alignment-and-direction-expected.txt:
        * platform/ios/fast/text/shaping/shaping-script-order-expected.txt:
        * platform/ios/fast/text/shaping/shaping-selection-rect-expected.txt:
        * platform/ios/fast/text/text-letter-spacing-expected.txt:
        * platform/ios/svg/W3C-I18N/text-dirLTR-ubOverride-expected.txt:
        * platform/ios/svg/W3C-I18N/text-dirRTL-ubOverride-expected.txt:
        * platform/ios/svg/W3C-I18N/tspan-dirLTR-ubOverride-in-default-context-expected.txt:
        * platform/ios/svg/W3C-I18N/tspan-dirLTR-ubOverride-in-ltr-context-expected.txt:
        * platform/ios/svg/W3C-I18N/tspan-dirLTR-ubOverride-in-rtl-context-expected.txt:
        * platform/ios/svg/W3C-I18N/tspan-dirNone-ubOverride-in-default-context-expected.txt:
        * platform/ios/svg/W3C-I18N/tspan-dirNone-ubOverride-in-ltr-context-expected.txt:
        * platform/ios/svg/W3C-I18N/tspan-dirNone-ubOverride-in-rtl-context-expected.txt:
        * platform/ios/svg/W3C-I18N/tspan-dirRTL-ubOverride-in-default-context-expected.txt:
        * platform/ios/svg/W3C-I18N/tspan-dirRTL-ubOverride-in-ltr-context-expected.txt:
        * platform/ios/svg/W3C-I18N/tspan-dirRTL-ubOverride-in-rtl-context-expected.txt:
        * platform/ios/svg/W3C-SVG-1.1-SE/text-intro-09-b-expected.txt:
        * platform/ios/svg/W3C-SVG-1.1/text-intro-02-b-expected.txt:
        * platform/ios/svg/custom/glyph-selection-bidi-mirror-expected.txt:
        * platform/ios/svg/text/bidi-embedded-direction-expected.txt:
        * platform/mac-catalina/fast/css/rtl-ordering-expected.txt:
        * platform/mac-catalina/fast/forms/select-visual-hebrew-expected.txt:
        * platform/mac-catalina/fast/forms/visual-hebrew-text-field-expected.txt:
        * platform/mac-catalina/fast/text/international/pop-up-button-text-alignment-and-direction-expected.txt:
        * platform/mac-mojave/fast/css/rtl-ordering-expected.txt:
        * platform/mac-mojave/fast/text/international/pop-up-button-text-alignment-and-direction-expected.txt:
        * platform/mac/fast/block/positioning/absolute-in-inline-rtl-2-expected.txt:
        * platform/mac/fast/block/positioning/absolute-in-inline-rtl-3-expected.txt:
        * platform/mac/fast/block/positioning/absolute-in-inline-rtl-expected.txt:
        * platform/mac/fast/block/positioning/absolute-in-inline-short-rtl-expected.txt:
        * platform/mac/fast/borders/bidi-002-expected.txt:
        * platform/mac/fast/borders/bidi-009a-expected.txt:
        * platform/mac/fast/borders/bidi-012-expected.txt:
        * platform/mac/fast/borders/rtl-border-02-expected.txt:
        * platform/mac/fast/css/bidi-override-in-anonymous-block-expected.txt:
        * platform/mac/fast/css/rtl-ordering-expected.txt:
        * platform/mac/fast/css/text-overflow-ellipsis-expected.txt:
        * platform/mac/fast/css/text-overflow-ellipsis-strict-expected.txt:
        * platform/mac/fast/css/text-overflow-ellipsis-text-align-center-expected.txt:
        * platform/mac/fast/css/text-overflow-ellipsis-text-align-justify-expected.txt:
        * platform/mac/fast/css/text-overflow-ellipsis-text-align-left-expected.txt:
        * platform/mac/fast/css/text-overflow-ellipsis-text-align-right-expected.txt:
        * platform/mac/fast/css/textCapitalizeEdgeCases-expected.txt:
        * platform/mac/fast/css/vertical-text-overflow-ellipsis-text-align-center-expected.txt:
        * platform/mac/fast/css/vertical-text-overflow-ellipsis-text-align-center-mixed-expected.txt:
        * platform/mac/fast/css/vertical-text-overflow-ellipsis-text-align-justify-expected.txt:
        * platform/mac/fast/css/vertical-text-overflow-ellipsis-text-align-justify-mixed-expected.txt:
        * platform/mac/fast/css/vertical-text-overflow-ellipsis-text-align-left-expected.txt:
        * platform/mac/fast/css/vertical-text-overflow-ellipsis-text-align-left-mixed-expected.txt:
        * platform/mac/fast/css/vertical-text-overflow-ellipsis-text-align-right-expected.txt:
        * platform/mac/fast/css/vertical-text-overflow-ellipsis-text-align-right-mixed-expected.txt:
        * platform/mac/fast/dom/HTMLElement/bdo-expected.txt:
        * platform/mac/fast/forms/select-visual-hebrew-expected.txt:
        * platform/mac/fast/forms/visual-hebrew-text-field-expected.txt:
        * platform/mac/fast/inline/inline-borders-with-bidi-override-expected.txt:
        * platform/mac/fast/text/atsui-rtl-override-selection-expected.txt:
        * platform/mac/fast/text/embed-at-end-of-pre-wrap-line-expected.txt:
        * platform/mac/fast/text/international/bidi-AN-after-L-expected.txt:
        * platform/mac/fast/text/international/bidi-LDB-2-CSS-expected.txt:
        * platform/mac/fast/text/international/bidi-LDB-2-HTML-expected.txt:
        * platform/mac/fast/text/international/bidi-LDB-2-formatting-characters-expected.txt:
        * platform/mac/fast/text/international/bidi-control-chars-treated-as-ZWS-expected.txt:
        * platform/mac/fast/text/international/bidi-european-terminators-expected.txt:
        * platform/mac/fast/text/international/bidi-ignored-for-first-child-inline-expected.txt:
        * platform/mac/fast/text/international/bidi-layout-across-linebreak-expected.txt:
        * platform/mac/fast/text/international/bidi-override-expected.txt:
        * platform/mac/fast/text/international/pop-up-button-text-alignment-and-direction-expected.txt:
        * platform/mac/fast/text/text-letter-spacing-expected.txt:
        * platform/mac/imported/w3c/web-platform-tests/svg/import/text-intro-02-b-manual-expected.txt:
        * platform/mac/imported/w3c/web-platform-tests/svg/import/text-intro-09-b-manual-expected.txt:
        * platform/mac/svg/W3C-I18N/text-dirLTR-ubOverride-expected.txt:
        * platform/mac/svg/W3C-I18N/text-dirRTL-ubOverride-expected.txt:
        * platform/mac/svg/W3C-I18N/tspan-dirLTR-ubOverride-in-default-context-expected.txt:
        * platform/mac/svg/W3C-I18N/tspan-dirLTR-ubOverride-in-ltr-context-expected.txt:
        * platform/mac/svg/W3C-I18N/tspan-dirLTR-ubOverride-in-rtl-context-expected.txt:
        * platform/mac/svg/W3C-I18N/tspan-dirNone-ubOverride-in-default-context-expected.txt:
        * platform/mac/svg/W3C-I18N/tspan-dirNone-ubOverride-in-ltr-context-expected.txt:
        * platform/mac/svg/W3C-I18N/tspan-dirNone-ubOverride-in-rtl-context-expected.txt:
        * platform/mac/svg/W3C-I18N/tspan-dirRTL-ubOverride-in-default-context-expected.txt:
        * platform/mac/svg/W3C-I18N/tspan-dirRTL-ubOverride-in-ltr-context-expected.txt:
        * platform/mac/svg/W3C-I18N/tspan-dirRTL-ubOverride-in-rtl-context-expected.txt:
        * platform/mac/svg/W3C-SVG-1.1-SE/text-intro-02-b-expected.txt:
        * platform/mac/svg/W3C-SVG-1.1-SE/text-intro-09-b-expected.txt:
        * platform/mac/svg/W3C-SVG-1.1/text-intro-02-b-expected.txt:
        * platform/mac/svg/batik/text/textBiDi-expected.txt:
        * platform/mac/svg/custom/glyph-selection-bidi-mirror-expected.txt:
        * platform/mac/svg/text/bidi-embedded-direction-expected.txt:
        * platform/mac/svg/text/bidi-text-anchor-direction-expected.txt:
        * platform/mac/svg/text/bidi-text-query-expected.txt:
        * platform/win-7sp0/svg/W3C-I18N/tspan-dirLTR-ubOverride-in-default-context-expected.txt:
        * platform/win-7sp0/svg/W3C-I18N/tspan-dirLTR-ubOverride-in-ltr-context-expected.txt:
        * platform/win-7sp0/svg/W3C-I18N/tspan-dirNone-ubOverride-in-default-context-expected.txt:
        * platform/win-7sp0/svg/W3C-I18N/tspan-dirNone-ubOverride-in-ltr-context-expected.txt:
        * platform/win-7sp0/svg/text/bidi-text-query-expected.txt:
        * platform/win/fast/block/positioning/absolute-in-inline-rtl-2-expected.txt:
        * platform/win/fast/block/positioning/absolute-in-inline-rtl-3-expected.txt:
        * platform/win/fast/block/positioning/absolute-in-inline-rtl-expected.txt:
        * platform/win/fast/block/positioning/absolute-in-inline-short-rtl-expected.txt:
        * platform/win/fast/borders/bidi-002-expected.txt:
        * platform/win/fast/borders/bidi-009a-expected.txt:
        * platform/win/fast/borders/bidi-012-expected.txt:
        * platform/win/fast/borders/rtl-border-02-expected.txt:
        * platform/win/fast/css/bidi-override-in-anonymous-block-expected.txt:
        * platform/win/fast/css/rtl-ordering-expected.txt:
        * platform/win/fast/css/text-overflow-ellipsis-expected.txt:
        * platform/win/fast/css/text-overflow-ellipsis-strict-expected.txt:
        * platform/win/fast/css/text-overflow-ellipsis-text-align-center-expected.txt:
        * platform/win/fast/css/text-overflow-ellipsis-text-align-justify-expected.txt:
        * platform/win/fast/css/text-overflow-ellipsis-text-align-left-expected.txt:
        * platform/win/fast/css/text-overflow-ellipsis-text-align-right-expected.txt:
        * platform/win/fast/css/textCapitalizeEdgeCases-expected.txt:
        * platform/win/fast/css/vertical-text-overflow-ellipsis-text-align-center-expected.txt:
        * platform/win/fast/css/vertical-text-overflow-ellipsis-text-align-center-mixed-expected.txt:
        * platform/win/fast/css/vertical-text-overflow-ellipsis-text-align-justify-expected.txt:
        * platform/win/fast/css/vertical-text-overflow-ellipsis-text-align-justify-mixed-expected.txt:
        * platform/win/fast/css/vertical-text-overflow-ellipsis-text-align-left-expected.txt:
        * platform/win/fast/css/vertical-text-overflow-ellipsis-text-align-left-mixed-expected.txt:
        * platform/win/fast/css/vertical-text-overflow-ellipsis-text-align-right-expected.txt:
        * platform/win/fast/css/vertical-text-overflow-ellipsis-text-align-right-mixed-expected.txt:
        * platform/win/fast/dom/HTMLElement/bdo-expected.txt:
        * platform/win/fast/forms/select-visual-hebrew-expected.txt:
        * platform/win/fast/forms/visual-hebrew-text-field-expected.txt:
        * platform/win/fast/inline/inline-borders-with-bidi-override-expected.txt:
        * platform/win/fast/text/atsui-rtl-override-selection-expected.txt:
        * platform/win/fast/text/embed-at-end-of-pre-wrap-line-expected.txt:
        * platform/win/fast/text/international/bidi-AN-after-L-expected.txt:
        * platform/win/fast/text/international/bidi-LDB-2-CSS-expected.txt:
        * platform/win/fast/text/international/bidi-LDB-2-HTML-expected.txt:
        * platform/win/fast/text/international/bidi-LDB-2-formatting-characters-expected.txt:
        * platform/win/fast/text/international/bidi-control-chars-treated-as-ZWS-expected.txt:
        * platform/win/fast/text/international/bidi-european-terminators-expected.txt:
        * platform/win/fast/text/international/bidi-ignored-for-first-child-inline-expected.txt:
        * platform/win/fast/text/international/bidi-layout-across-linebreak-expected.txt:
        * platform/win/fast/text/international/bidi-override-expected.txt:
        * platform/win/fast/text/international/pop-up-button-text-alignment-and-direction-expected.txt:
        * platform/win/fast/text/shaping/shaping-script-order-expected.txt:
        * platform/win/fast/text/shaping/shaping-selection-rect-expected.txt:
        * platform/win/fast/text/text-letter-spacing-expected.txt:
        * platform/win/svg/W3C-I18N/text-dirLTR-ubOverride-expected.txt:
        * platform/win/svg/W3C-I18N/text-dirRTL-ubOverride-expected.txt:
        * platform/win/svg/W3C-I18N/tspan-dirLTR-ubOverride-in-default-context-expected.txt:
        * platform/win/svg/W3C-I18N/tspan-dirLTR-ubOverride-in-ltr-context-expected.txt:
        * platform/win/svg/W3C-I18N/tspan-dirLTR-ubOverride-in-rtl-context-expected.txt:
        * platform/win/svg/W3C-I18N/tspan-dirNone-ubOverride-in-default-context-expected.txt:
        * platform/win/svg/W3C-I18N/tspan-dirNone-ubOverride-in-ltr-context-expected.txt:
        * platform/win/svg/W3C-I18N/tspan-dirNone-ubOverride-in-rtl-context-expected.txt:
        * platform/win/svg/W3C-I18N/tspan-dirRTL-ubOverride-in-default-context-expected.txt:
        * platform/win/svg/W3C-I18N/tspan-dirRTL-ubOverride-in-ltr-context-expected.txt:
        * platform/win/svg/W3C-I18N/tspan-dirRTL-ubOverride-in-rtl-context-expected.txt:
        * platform/win/svg/W3C-SVG-1.1-SE/text-intro-02-b-expected.txt:
        * platform/win/svg/W3C-SVG-1.1-SE/text-intro-09-b-expected.txt:
        * platform/win/svg/W3C-SVG-1.1/text-intro-02-b-expected.txt:
        * platform/win/svg/custom/glyph-selection-bidi-mirror-expected.txt:
        * platform/win/svg/custom/glyph-selection-non-bmp-expected.txt:
        * platform/win/svg/text/bidi-embedded-direction-expected.txt:
        * platform/win/svg/text/bidi-text-anchor-direction-expected.txt:
        * platform/win/svg/text/bidi-text-query-expected.txt:
        * platform/wincairo/fast/block/positioning/absolute-in-inline-rtl-2-expected.txt:
        * platform/wincairo/fast/block/positioning/absolute-in-inline-rtl-3-expected.txt:
        * platform/wincairo/fast/block/positioning/absolute-in-inline-rtl-expected.txt:
        * platform/wincairo/fast/block/positioning/absolute-in-inline-short-rtl-expected.txt:
        * platform/wincairo/fast/borders/bidi-002-expected.txt:
        * platform/wincairo/fast/borders/bidi-009a-expected.txt:
        * platform/wincairo/fast/borders/bidi-012-expected.txt:
        * platform/wincairo/fast/borders/rtl-border-02-expected.txt:
        * platform/wincairo/fast/css/bidi-override-in-anonymous-block-expected.txt:
        * platform/wincairo/fast/css/rtl-ordering-expected.txt:
        * platform/wincairo/fast/css/text-overflow-ellipsis-expected.txt:
        * platform/wincairo/fast/css/text-overflow-ellipsis-strict-expected.txt:
        * platform/wincairo/fast/css/text-overflow-ellipsis-text-align-center-expected.txt:
        * platform/wincairo/fast/css/text-overflow-ellipsis-text-align-justify-expected.txt:
        * platform/wincairo/fast/css/text-overflow-ellipsis-text-align-left-expected.txt:
        * platform/wincairo/fast/css/text-overflow-ellipsis-text-align-right-expected.txt:
        * platform/wincairo/fast/css/textCapitalizeEdgeCases-expected.txt:
        * platform/wincairo/fast/css/vertical-text-overflow-ellipsis-text-align-center-expected.txt:
        * platform/wincairo/fast/css/vertical-text-overflow-ellipsis-text-align-justify-expected.txt:
        * platform/wincairo/fast/css/vertical-text-overflow-ellipsis-text-align-left-expected.txt:
        * platform/wincairo/fast/css/vertical-text-overflow-ellipsis-text-align-right-expected.txt:
        * platform/wincairo/fast/dom/HTMLElement/bdo-expected.txt:
        * platform/wincairo/fast/forms/select-visual-hebrew-expected.txt:
        * platform/wincairo/fast/forms/visual-hebrew-text-field-expected.txt:
        * platform/wincairo/fast/inline/inline-borders-with-bidi-override-expected.txt:
        * platform/wincairo/fast/text/atsui-rtl-override-selection-expected.txt:
        * platform/wincairo/fast/text/embed-at-end-of-pre-wrap-line-expected.txt:
        * platform/wincairo/fast/text/international/bidi-AN-after-L-expected.txt:
        * platform/wincairo/fast/text/international/bidi-LDB-2-CSS-expected.txt:
        * platform/wincairo/fast/text/international/bidi-LDB-2-HTML-expected.txt:
        * platform/wincairo/fast/text/international/bidi-LDB-2-formatting-characters-expected.txt:
        * platform/wincairo/fast/text/international/bidi-control-chars-treated-as-ZWS-expected.txt:
        * platform/wincairo/fast/text/international/bidi-european-terminators-expected.txt:
        * platform/wincairo/fast/text/international/bidi-ignored-for-first-child-inline-expected.txt:
        * platform/wincairo/fast/text/international/bidi-layout-across-linebreak-expected.txt:
        * platform/wincairo/fast/text/international/bidi-override-expected.txt:
        * platform/wincairo/fast/text/international/pop-up-button-text-alignment-and-direction-expected.txt:
        * platform/wincairo/fast/text/shaping/shaping-script-order-expected.txt:
        * platform/wincairo/fast/text/shaping/shaping-selection-rect-expected.txt:
        * platform/wincairo/fast/text/text-letter-spacing-expected.txt:
        * platform/wincairo/svg/custom/glyph-selection-bidi-mirror-expected.txt:
        * platform/wpe/fast/block/positioning/absolute-in-inline-rtl-2-expected.txt:
        * platform/wpe/fast/block/positioning/absolute-in-inline-rtl-3-expected.txt:
        * platform/wpe/fast/block/positioning/absolute-in-inline-rtl-expected.txt:
        * platform/wpe/fast/block/positioning/absolute-in-inline-short-rtl-expected.txt:
        * platform/wpe/fast/borders/bidi-002-expected.txt:
        * platform/wpe/fast/borders/bidi-009a-expected.txt:
        * platform/wpe/fast/borders/bidi-012-expected.txt:
        * platform/wpe/fast/borders/rtl-border-02-expected.txt:
        * platform/wpe/fast/css/bidi-override-in-anonymous-block-expected.txt:
        * platform/wpe/fast/css/rtl-ordering-expected.txt:
        * platform/wpe/fast/css/text-overflow-ellipsis-expected.txt:
        * platform/wpe/fast/css/text-overflow-ellipsis-strict-expected.txt:
        * platform/wpe/fast/css/text-overflow-ellipsis-text-align-center-expected.txt:
        * platform/wpe/fast/css/text-overflow-ellipsis-text-align-justify-expected.txt:
        * platform/wpe/fast/css/text-overflow-ellipsis-text-align-left-expected.txt:
        * platform/wpe/fast/css/text-overflow-ellipsis-text-align-right-expected.txt:
        * platform/wpe/fast/css/textCapitalizeEdgeCases-expected.txt:
        * platform/wpe/fast/css/vertical-text-overflow-ellipsis-text-align-center-expected.txt:
        * platform/wpe/fast/css/vertical-text-overflow-ellipsis-text-align-center-mixed-expected.txt:
        * platform/wpe/fast/css/vertical-text-overflow-ellipsis-text-align-justify-expected.txt:
        * platform/wpe/fast/css/vertical-text-overflow-ellipsis-text-align-justify-mixed-expected.txt:
        * platform/wpe/fast/css/vertical-text-overflow-ellipsis-text-align-left-expected.txt:
        * platform/wpe/fast/css/vertical-text-overflow-ellipsis-text-align-left-mixed-expected.txt:
        * platform/wpe/fast/css/vertical-text-overflow-ellipsis-text-align-right-expected.txt:
        * platform/wpe/fast/css/vertical-text-overflow-ellipsis-text-align-right-mixed-expected.txt:
        * platform/wpe/fast/dom/HTMLElement/bdo-expected.txt:
        * platform/wpe/fast/inline/inline-borders-with-bidi-override-expected.txt:
        * platform/wpe/fast/text/atsui-rtl-override-selection-expected.txt:
        * platform/wpe/fast/text/embed-at-end-of-pre-wrap-line-expected.txt:
        * platform/wpe/fast/text/international/bidi-AN-after-L-expected.txt:
        * platform/wpe/fast/text/international/bidi-LDB-2-CSS-expected.txt:
        * platform/wpe/fast/text/international/bidi-LDB-2-HTML-expected.txt:
        * platform/wpe/fast/text/international/bidi-LDB-2-formatting-characters-expected.txt:
        * platform/wpe/fast/text/international/bidi-control-chars-treated-as-ZWS-expected.txt:
        * platform/wpe/fast/text/international/bidi-european-terminators-expected.txt:
        * platform/wpe/fast/text/international/bidi-ignored-for-first-child-inline-expected.txt:
        * platform/wpe/fast/text/international/bidi-layout-across-linebreak-expected.txt:
        * platform/wpe/fast/text/international/bidi-override-expected.txt:
        * platform/wpe/fast/text/international/pop-up-button-text-alignment-and-direction-expected.txt:
        * platform/wpe/fast/text/text-letter-spacing-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/svg/import/text-intro-02-b-manual-expected.txt:
        * platform/wpe/svg/W3C-I18N/tspan-dirLTR-ubOverride-in-default-context-expected.txt:
        * platform/wpe/svg/W3C-I18N/tspan-dirLTR-ubOverride-in-ltr-context-expected.txt:
        * platform/wpe/svg/W3C-I18N/tspan-dirRTL-ubOverride-in-default-context-expected.txt:
        * platform/wpe/svg/W3C-I18N/tspan-dirRTL-ubOverride-in-ltr-context-expected.txt:
        * platform/wpe/svg/W3C-SVG-1.1-SE/text-intro-02-b-expected.txt:
        * platform/wpe/svg/W3C-SVG-1.1-SE/text-intro-09-b-expected.txt:
        * platform/wpe/svg/W3C-SVG-1.1/text-intro-02-b-expected.txt:
        * platform/wpe/svg/text/bidi-text-anchor-direction-expected.txt:

2021-11-21  Alan Bujtas  <zalan@apple.com>

        [LFC][Integration] Enable bidi content for non-inline-box cases
        https://bugs.webkit.org/show_bug.cgi?id=232980
        <rdar://problem/85281410>

        Reviewed by Antti Koivisto.

        * platform/ios/fast/dom/52776-expected.txt: progression
        * platform/ios/fast/text/international/bidi-ignored-for-first-child-inline-expected.txt: progression
        * platform/ios/fast/text/international/bidi-neutral-run-expected.txt: rebaseline
        * platform/ios/fast/text/international/bidi-override-expected.txt: see FIXME
        * platform/ios/fast/text/international/bidi-LDB-2-formatting-characters-expected.txt: see FIXME

        * platform/mac/fast/dom/52776-expected.txt:
        * platform/mac/fast/text/international/bidi-ignored-for-first-child-inline-expected.txt:
        * platform/mac/fast/text/international/bidi-neutral-run-expected.txt:

2021-11-21  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo-wk1/TestExpectations:
        * platform/wincairo/TestExpectations:

2021-11-21  Ziran Sun  <zsun@igalia.com>

        [css-grid] svg image as grid items should use the overriding logical width/height when defined to compute the logical height/width
        https://bugs.webkit.org/show_bug.cgi?id=228105

        Reviewed by Javier Fernandez.

        * TestExpectations: unskip two tests that are now passing.

2021-11-20  Carlos Garcia Campos  <cgarcia@igalia.com>

        Report the initiating url instead of the redirected one
        https://bugs.webkit.org/show_bug.cgi?id=233037

        Reviewed by Brent Fulgham.

        * TestExpectations: Unskip imported/w3c/web-platform-tests/content-security-policy/securitypolicyviolation/img-src-redirect.sub.html
        * http/tests/security/contentSecurityPolicy/1.1/child-src/worker-redirect-blocked-expected.txt:
        * http/tests/security/contentSecurityPolicy/audio-redirect-blocked-expected.txt:
        * http/tests/security/contentSecurityPolicy/font-redirect-blocked-expected.txt:
        * http/tests/security/contentSecurityPolicy/image-redirect-blocked-expected.txt:
        * http/tests/security/contentSecurityPolicy/script-redirect-blocked-expected.txt:
        * http/tests/security/contentSecurityPolicy/stylesheet-redirect-blocked-expected.txt:
        * http/tests/security/contentSecurityPolicy/svg-font-redirect-blocked-expected.txt:
        * http/tests/security/contentSecurityPolicy/svg-image-redirect-blocked-expected.txt:
        * http/tests/security/contentSecurityPolicy/track-redirect-blocked-expected.txt:
        * http/tests/security/contentSecurityPolicy/video-redirect-blocked-expected.txt:
        * http/tests/security/contentSecurityPolicy/worker-blob-inherits-csp-importScripts-redirect-cross-origin-blocked-expected.txt:
        * http/tests/security/contentSecurityPolicy/worker-csp-importScripts-redirect-cross-origin-blocked-expected.txt:
        * http/tests/security/contentSecurityPolicy/xsl-redirect-blocked-expected.txt:

2021-11-19  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test expectations and baselines. Unreviewed test gardening.
        https://bugs.webkit.org/show_bug.cgi?id=233385

        * platform/glib/TestExpectations:
        * platform/glib/imported/w3c/web-platform-tests/css/css-transforms/animation/transform-interpolation-computed-value-expected.txt:
        * platform/glib/imported/w3c/web-platform-tests/html/interaction/focus/chrome-object-tab-focus-bug-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/html/semantics/embedded-content/the-iframe-element/iframe_sandbox_anchor_download_block_downloads.tentative-expected.txt: Added.
        * platform/gtk/TestExpectations:
        * transitions/clip-path-path-transitions-expected.txt:

2021-11-19  Kiet Ho  <tho22@apple.com>

        Integrate motion path transforms in transformation pipeline
        https://bugs.webkit.org/show_bug.cgi?id=233144

        Reviewed by Dean Jackson.

        Removed ImageOnlyFailure expectations for tests that should now pass.

        * TestExpectations:

2021-11-19  Antti Koivisto  <antti@apple.com>

        [CSS Cascade Layers] [Debug] ASSERTION FAILED: m_childRules.isEmpty() when using @import with layer name
        https://bugs.webkit.org/show_bug.cgi?id=233283
        <rdar://problem/85520733>

        Reviewed by Antoine Quint.

        * fast/css/layer-illegal-import-expected.html: Added.
        * fast/css/layer-illegal-import.html: Added.

2021-11-19  Antti Koivisto  <antti@apple.com>

        :hover with descendant selector not invalidated correctly in shadow tree
        https://bugs.webkit.org/show_bug.cgi?id=233354

        Reviewed by Antoine Quint.

        * fast/selectors/hover-descendant-shadow-tree-expected.html: Added.
        * fast/selectors/hover-descendant-shadow-tree.html: Added.
        * platform/ios/TestExpectations:

2021-11-19  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        REGRESSION(r285859) [GTK][WPE] a number of accessibility/* tests crash on GTK and WPE
        https://bugs.webkit.org/show_bug.cgi?id=233221

        Reviewed by Carlos Garcia Campos.

        * platform/glib/TestExpectations:
        * platform/glib/accessibility/add-children-pseudo-element-expected.txt:
        * platform/glib/accessibility/aria-modal-text-descendants-expected.txt: Added.
        * platform/glib/accessibility/table-cell-display-block-expected.txt: Added.

2021-11-18  Frédéric Wang  <fwang@igalia.com>

        Nullptr crash in SimplifiedBackwardsTextIterator::range() via previousSentencePosition
        https://bugs.webkit.org/show_bug.cgi?id=229282

        Reviewed by Darin Adler.

        Add regression test.

        * editing/text-iterator/backward-textiterator-object-crash-expected.txt: Added.
        * editing/text-iterator/backward-textiterator-object-crash.html: Added.

2021-11-18  Ben Nham  <nham@apple.com>

        Add support for onpushsubscriptionchange event handler
        https://bugs.webkit.org/show_bug.cgi?id=233088

        Reviewed by Youenn Fablet.

         - Modified the pushsubscriptionchange test to send a real event to the service worker.
         - Modified the service worker spinning tests to test for guarding against infinite loops in
           the push and pushsubscriptionchange event handlers.

        Note that the existing spinning tests are marked as flaky on ios-wk2. We do the same here
        since the test passes locally but is flaky in EWS.

        * http/wpt/push-api/pushSubscriptionChangeEvent.any.js:
        (promise_test):
        (assertSubscriptionsAreEqual):
        (test): Deleted.
        (promise_test.async newSubscription): Deleted.
        (promise_test.async return): Deleted.
        * http/wpt/push-api/pushSubscriptionChangeEvent.any.serviceworker-expected.txt:
        * http/wpt/service-workers/resources/routines.js:
        (async sendSyncMessage):
        * http/wpt/service-workers/service-worker-spinning-push.https-expected.txt: Added.
        * http/wpt/service-workers/service-worker-spinning-push.https.html: Added.
        * http/wpt/service-workers/service-worker-spinning-pushsubscriptionchange.https-expected.txt: Added.
        * http/wpt/service-workers/service-worker-spinning-pushsubscriptionchange.https.html: Added.
        * http/wpt/service-workers/service-worker-spinning-worker.js:
        (respondToPendingEvent):
        (pushTest):
        * platform/ios-simulator-wk2/TestExpectations:

2021-11-18  Wenson Hsieh  <wenson_hsieh@apple.com>

        [macOS] [Live Text] Avoid analyzing images in editable content
        https://bugs.webkit.org/show_bug.cgi?id=233317

        Reviewed by Megan Gardner.

        Add a layout test to exercise the change.

        * fast/images/text-recognition/mac/text-recognition-candidates-expected.txt: Added.
        * fast/images/text-recognition/mac/text-recognition-candidates.html: Added.

2021-11-18  Yoshiaki Jitsukawa  <yoshiaki.jitsukawa@sony.com>

        Implement JPEG XL image decoder using libjxl
        https://bugs.webkit.org/show_bug.cgi?id=233113

        Reviewed by Michael Catanzaro.

        This patch introduces the initial version of JPEG XL image decoder.
        JPEG XL is a royalty-free raster-graphics file format that supports
        both lossy and lossless compression and is experimentally supported by
        Chrome, FireFox, and Edge.
        The image decoder implemented by this patch uses libjxl, a reference
        implementation of JPEG XL decoder (and encoder). JPEG XL animations
        will be supported later.

        * TestExpectations: Skip JPEG XL tests by default.
        * fast/images/jpegxl-as-image-expected.html: Added.
        * fast/images/jpegxl-as-image.html: Added.
        * fast/images/jpegxl-image-decoding-expected.txt: Added.
        * fast/images/jpegxl-image-decoding.html: Added.
        * fast/images/resources/green-313x313.jxl: Added.
        * platform/wincairo/TestExpectations: Skip JPEG XL tests until
        WebKitReqirements release with libjxl.

2021-11-18  Martin Robinson  <mrobinson@webkit.org>

        Update css-transforms WPT tests
        https://bugs.webkit.org/show_bug.cgi?id=233188

        Reviewed by Sergio Villar Senin.

        Update WPT transform tests and expectations.

        * TestExpectations:
        * platform/ios-wk2/TestExpectations:

2021-11-18  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Inline boxes with unbreakable decoration can produce a breaking position with no trailing run
        https://bugs.webkit.org/show_bug.cgi?id=233302

        Reviewed by Antti Koivisto.

        * fast/inline/inline-box-with-unbreakable-decoration-and-word-break-expected.html: Added.
        * fast/inline/inline-box-with-unbreakable-decoration-and-word-break.html: Added.

2021-11-18  Ziran Sun  <zsun@igalia.com>

        Images as grid items should use the overridingLogicalWidth when defined to compute the logical Height
        https://bugs.webkit.org/show_bug.cgi?id=228022

        Reviewed by Javier Fernandez.

        * TestExpectations: unskip tests that are now passing.

2021-11-18  Youenn Fablet  <youenn@apple.com>

        MediaPlayerAVFoundation should support rvfc
        https://bugs.webkit.org/show_bug.cgi?id=231945

        Reviewed by Eric Carlson.

        Unskipped some tests.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk1/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-11-18  Sergio Villar Senin  <svillar@igalia.com>

        [css-flexbox] Import WPT tests. November 2021 edition.
        https://bugs.webkit.org/show_bug.cgi?id=233197

        Reviewed by Martin Robinson.

        * TestExpectations: Added tests that fail since the import.

2021-11-18  Ziran Sun  <zsun@igalia.com>

        [css-grid] Transfer size for grid item with an aspect-ratio and stretch alignment against the definite row
        https://bugs.webkit.org/show_bug.cgi?id=232987

        Reviewed by Javier Fernandez.

        * TestExpectations: unskip the test that is now passing.

2021-11-17  Youenn Fablet  <youenn@apple.com>

        Add support for more rvfc metadata
        https://bugs.webkit.org/show_bug.cgi?id=233185

        Reviewed by Eric Carlson.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk1/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-11-17  Ricky Mondello  <rmondello@apple.com>

        When an "autofilled and viewable" field becomes empty, turn "autofilled and viewable" off
        https://bugs.webkit.org/show_bug.cgi?id=233239

        Reviewed by Darin Adler.

        * fast/forms/input-autofilled-and-viewable-expected.txt: Added.
        * fast/forms/input-autofilled-and-viewable.html: Added.

2021-11-17  John Wilander  <wilander@apple.com>

        PCM: Add capability for click destination to fire triggering event without cross-site requests to the click source
        https://bugs.webkit.org/show_bug.cgi?id=233173
        <rdar://79426605>

        Reviewed by Alex Christensen.

        * http/tests/privateClickMeasurement/resources/redirectToConversionWithAttributionSource.py: Added.
        * http/tests/privateClickMeasurement/triggering-event-with-attribution-source-through-fetch-keepalive-expected.txt: Added.
        * http/tests/privateClickMeasurement/triggering-event-with-attribution-source-through-fetch-keepalive.html: Added.

2021-11-17  Ryan Haddad  <ryanhaddad@apple.com>

        [iOS] imported/w3c/web-platform-tests/html/semantics/embedded-content/the-iframe-element/iframe_sandbox_window_open_download_block_downloads.tentative.html is frequently failing
        https://bugs.webkit.org/show_bug.cgi?id=233267

        Unreviewed test gardening.

        * platform/ios/TestExpectations: Mark test as flaky.

2021-11-17  Tyler Wilcock  <tyler_w@apple.com>

        AX: Fix 5 tests in --release --accessibility-isolated-tree mode
        https://bugs.webkit.org/show_bug.cgi?id=233232

        Reviewed by Chris Fleizach.

        Fix all of these tests in --release --accessibility-isolated-tree
        mode by asynchronously waiting for document changes (when necessary).
        Some tests are changed to use accessibleElementById instead of
        element.focus() + accessibilityController.focusedElement for selecting
        elements in JS, as the former doesn't require asynchronous waiting for static elements.

        * accessibility/add-children-pseudo-element-expected.txt:
        * accessibility/add-children-pseudo-element.html:
        * accessibility/aria-checkbox-checked.html:
        * accessibility/aria-checkbox-text.html:
        * accessibility/aria-toggle-button-with-title.html:
        * accessibility/auto-fill-types-expected.txt:
        * accessibility/auto-fill-types.html:
        * accessibility/ax-value-with-search-expected.txt:
        * accessibility/ax-value-with-search.html:

2021-11-17  Dean Jackson  <dino@apple.com>

        Add ModelDocument for directly showing content that can be handled by <model>
        https://bugs.webkit.org/show_bug.cgi?id=233057
        rdar://85265880

        Reviewed by Darin Adler.

        New test for ModelDocument.

        * http/conf/mime.types: Configure the testing Apache server to serve USDZ files
        with the correct MIME type.
        * http/tests/model/UnitBox.usdz: Sample file.
        * http/tests/model/model-document-expected.txt: Added.
        * http/tests/model/model-document.html: New test for a ModelDocument.

2021-11-17  Youenn Fablet  <youenn@apple.com>

        Safari 15.1 H264 FullHD video encode/decode fails
        https://bugs.webkit.org/show_bug.cgi?id=233036
        <rdar://80345048>

        Reviewed by Eric Carlson.

        * platform/mac-wk2/TestExpectations:

2021-11-17  Andres Gonzalez  <andresg_22@apple.com>

        Fix for accessibility/notification-listeners.html in isolated tree mode.
        https://bugs.webkit.org/show_bug.cgi?id=233228
        <rdar://problem/85484341>

        Reviewed by Chris Fleizach.

        Made this test async in order to pass in isolated tree mode.
        The first accessible element needs to be retrieved with waitForElementById,
        otherwise if we use accessibilityController.accessibleElementById, the
        test would fail randomly (~10 out of 1000 flakiness). It requires
        further investigation to determine if this is an issue with the <select>
        element or with the first accessible element the test retrieves.

        * accessibility/notification-listeners.html:
        * platform/mac/accessibility/notification-listeners-expected.txt:

2021-11-17  Rob Buis  <rbuis@igalia.com>

        Limit logical width over-constrained direction check
        https://bugs.webkit.org/show_bug.cgi?id=233189

        Reviewed by Sergio Villar Senin.

        * TestExpectations: Removed 4 tests that are now passing.
        * platform/ios/TestExpectations: Skipped several tests that show 1px diff in the result.

2021-11-17  Antti Koivisto  <antti@apple.com>

        Update web-platform-tests/css/selectors
        https://bugs.webkit.org/show_bug.cgi?id=233246

        Reviewed by Alexey Shvayka.

        * TestExpectations:

2021-11-17  Rob Buis  <rbuis@igalia.com>

        Null check clonedParent
        https://bugs.webkit.org/show_bug.cgi?id=230713

        Reviewed by Wenson Hsieh.

        * editing/execCommand/insert-newline-in-quoted-content-crash-expected.txt: Added.
        * editing/execCommand/insert-newline-in-quoted-content-crash.html: Added.

2021-11-16  Rob Buis  <rbuis@igalia.com>

        Re-add 'style' to contain:strict and contain:content CSS properties
        https://bugs.webkit.org/show_bug.cgi?id=233193

        Reviewed by Brent Fulgham.

        * TestExpectations:

2021-11-16  Simon Fraser  <simon.fraser@apple.com>

        Stop a momentum scroll animation when receiving a momentum end event
        https://bugs.webkit.org/show_bug.cgi?id=233236

        Reviewed by Tim Horton.

        New test, and skip one that breaks now because we need a fix for webkit.org/b/233234.

        * fast/scrolling/mac/momentum-animator-end-event-stops-expected.txt: Added.
        * fast/scrolling/mac/momentum-animator-end-event-stops.html: Added.
        * platform/mac-wk2/TestExpectations:

2021-11-16  Sihui Liu  <sihui_liu@apple.com>

        Implement FileSystemFileHandle.getFile()
        https://bugs.webkit.org/show_bug.cgi?id=232716
        <rdar://problem/85022453>

        Reviewed by Youenn Fablet.

        * storage/filesystemaccess/file-handle-getfile-expected.txt: Added.
        * storage/filesystemaccess/file-handle-getfile-worker-expected.txt: Added.
        * storage/filesystemaccess/file-handle-getfile-worker.html: Added.
        * storage/filesystemaccess/file-handle-getfile.html: Added.
        * storage/filesystemaccess/resources/file-handle-getfile.js: Added.
        (finishTest):
        (async read):
        (async test):

2021-11-16  Nikita Vasilyev  <nvasilyev@apple.com>

        Web Inspector: Remove unused `dontCreateIfMissing` argument from CSSStyleDeclaration.prototype.propertyForName
        https://bugs.webkit.org/show_bug.cgi?id=233198

        Reviewed by Devin Rousso.

        * inspector/css/overridden-property.html:
        * inspector/css/pseudo-element-matches-for-pseudo-element-node.html:

2021-11-16  Rob Buis  <rbuis@igalia.com>

        [css-contain] Support contain:paint
        https://bugs.webkit.org/show_bug.cgi?id=224742

        Reviewed by Alan Bujtas.

        Unskip tests that pass now.

        * TestExpectations:

2021-11-16  Tyler Wilcock  <tyler_w@apple.com>

        AX: Simplify tests changed in https://bugs.webkit.org/show_bug.cgi?id=233085
        https://bugs.webkit.org/show_bug.cgi?id=233167

        Reviewed by Andres Gonzalez.

        In https://bugs.webkit.org/show_bug.cgi?id=233085 and https://bugs.webkit.org/show_bug.cgi?id=233017,
        we made some tests async so that they passed in --release --accessibility-isolated-tree mode. However,
        we can make these tests simpler and still pass — i.e., only wait for elements and expressions asynchronously
        when it's absolutely necessary.

        * accessibility/color-well.html:
        * accessibility/mac/header-expected.txt:
        * accessibility/mac/header.html:
        * accessibility/mac/scrollbars.html:
        * accessibility/placeholder.html:
        * accessibility/progressbar.html:
        * accessibility/range-alter-by-percent-expected.txt:
        * accessibility/range-alter-by-percent.html:
        * accessibility/range-alter-by-step-expected.txt:
        * accessibility/range-alter-by-step.html:
        * accessibility/spinbutton-value-expected.txt:
        * accessibility/spinbutton-value.html:
        Simplify these tests by only use async waiting when
        necessary (i.e. dynamic mutation via JS)

        * resources/accessibility-helper.js:
        (async expectAsyncExpression):
        (async waitForExpression): Renamed to expectAsyncExpression.

2021-11-16  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r280078, r280290 and r282008.
        https://bugs.webkit.org/show_bug.cgi?id=233184

        Caused a crash in grid

        Reverted changesets:

        "Images as grid items should use the overridingLogicalWidth
        when defined to compute the logical Height"
        https://bugs.webkit.org/show_bug.cgi?id=228022
        https://commits.webkit.org/r280078

        "[css-grid] svg image as grid items should use the overriding
        logical width/height when defined to compute the logical
        height/width"
        https://bugs.webkit.org/show_bug.cgi?id=228105
        https://commits.webkit.org/r280290

        "REGRESSION(r280078): broke fast/images/exif-orientation-
        composited.html on windows"
        https://bugs.webkit.org/show_bug.cgi?id=228325
        https://commits.webkit.org/r282008

2021-11-16  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test expectations and baselines. Unreviewed test gardening.
        https://bugs.webkit.org/show_bug.cgi?id=233156

        * platform/glib/TestExpectations:
        * platform/glib/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/glib/fast/xmlhttprequest/xmlhttprequest-nonexistent-file-expected.txt: Added.
        * platform/glib/http/wpt/push-api/pushManager.any-expected.txt: Added.
        * platform/glib/http/wpt/push-api/pushManager.any.serviceworker-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/content-security-policy/connect-src/connect-src-eventsource-allowed.sub-expected.txt: Added.
        * platform/gtk/accessibility/color-well-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-different-width-001-expected.txt:
        * platform/wpe/accessibility/color-well-expected.txt:

2021-11-16  Cathie Chen  <cathiechen@igalia.com>

        [CSS contain] The size should be updated if layout containment is inside a fit-content parent
        https://bugs.webkit.org/show_bug.cgi?id=233046

        Reviewed by Rob Buis.

        * TestExpectations:

2021-11-15  Tim Nguyen  <ntim@apple.com>

        Re-import css/css-text-decor WPT
        https://bugs.webkit.org/show_bug.cgi?id=233154

        Reviewed by Cameron McCormack.

        Since mismatches are now properly renamed to `-expected-mismatch.html` on import since bug 207175,
        re-import this directory to reduce numbers of false negatives/positives.

        Some tests have also been added/updated/removed since.

        * TestExpectations:

2021-11-15  Tim Nguyen  <ntim@apple.com>

        Remove redundant [ Pass ] from TestExpectations
        https://bugs.webkit.org/show_bug.cgi?id=233157

        Reviewed by Cameron McCormack.

        * TestExpectations:

2021-11-15  Chris Dumez  <cdumez@apple.com>

        `Cross-Origin-Embedder-Policy: require-corp` prevents loading of data URL images
        https://bugs.webkit.org/show_bug.cgi?id=233131
        <rdar://85236459>

        Reviewed by Geoffrey Garen.

        Add layout test coverage. This test is based on a reduce test case from Cameron McCormack.

        * http/wpt/html/cross-origin-embedder-policy/require-corp-data-url-expected.txt: Added.
        * http/wpt/html/cross-origin-embedder-policy/require-corp-data-url.html: Added.
        * http/wpt/html/cross-origin-embedder-policy/require-corp-data-url.html.headers: Added.

2021-11-15  Kiet Ho  <tho22@apple.com>

        Implement parsing and animation support for offset-rotate
        https://bugs.webkit.org/show_bug.cgi?id=232752

        Reviewed by Myles C. Maxfield.

        Rebaselined test to account for new CSS property.

        * platform/ios/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:

2021-11-15  Gabriel Nava Marino  <gnavamarino@apple.com>

        nullptr deref in CompositeEditCommand::insertNodeAt
        https://bugs.webkit.org/show_bug.cgi?id=232837

        Reviewed by Wenson Hsieh and Darin Adler.

        * fast/editing/editing-position-crash-expected.txt: Added.
        * fast/editing/editing-position-crash.html: Added.

2021-11-15  Tyler Wilcock  <tyler_w@apple.com>

        AX: Un-skip accessibility/mac/search-predicate-for-adhoc-radio-groups.html for Mac WK1
        https://bugs.webkit.org/show_bug.cgi?id=233116

        Reviewed by Andres Gonzalez.

        https://bugs.webkit.org/show_bug.cgi?id=233017 implemented
        AccessibilityUIElement::domIdentifier for WK1, so we don't
        need to skip accessibility/mac/search-predicate-for-adhoc-radio-groups.html anymore.

        * platform/mac-wk1/TestExpectations:
        Un-skip because AccessibilityUIElement::domIdentifier is now
        implemented.

2021-11-15  Cathie Chen  <cathiechen@igalia.com>

        [CSS contain] Update css-contain tests from WPT
        https://bugs.webkit.org/show_bug.cgi?id=233121

        Reviewed by Rob Buis.

        Update css/css-contain/ tests to commit 625a2df832.

        * TestExpectations:

2021-11-15  Enrique Ocaña González  <eocanha@igalia.com>

        [GTK] webaudio/silent-audio-interrupted-in-background.html is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=229964

        Reviewed by Carlos Garcia Campos.

        Removed failing test from TestExpectations.

        * platform/gtk/TestExpectations:

2021-11-15  Antti Koivisto  <antti@apple.com>

        Stack overflow with revert-layer
        https://bugs.webkit.org/show_bug.cgi?id=233119
        rdar://85342210

        Reviewed by Antoine Quint.

        * fast/css/revert-layer-stack-overflow-2-expected.txt: Added.
        * fast/css/revert-layer-stack-overflow-2.html: Added.

2021-11-14  Simon Fraser  <simon.fraser@apple.com>

        Fingers down on the trackpad should stop an animated scroll
        https://bugs.webkit.org/show_bug.cgi?id=233114

        Reviewed by Wenson Hsieh.

        * fast/scrolling/mac/momentum-animator-maybegin-stops-expected.txt: Added.
        * fast/scrolling/mac/momentum-animator-maybegin-stops.html: Added.

2021-11-13  Simon Fraser  <simon.fraser@apple.com>

        Run a ScrollAnimationMomentum for the momentum phase of a scroll
        https://bugs.webkit.org/show_bug.cgi?id=232897

        Reviewed by Tim Horton.

        Some tests that enable the momentum animator.

        * fast/scrolling/mac/momentum-animator-expected.txt: Added.
        * fast/scrolling/mac/momentum-animator-in-overflow-expected.txt: Added.
        * fast/scrolling/mac/momentum-animator-in-overflow.html: Added.
        * fast/scrolling/mac/momentum-animator.html: Added.

2021-11-13  Said Abou-Hallawa  <said@apple.com>

        REGRESSION (r285618): [mac-wk1] ASSERTION FAILED: cgContext == [currentContext CGContext]
        https://bugs.webkit.org/show_bug.cgi?id=233008
        rdar://85311948

        Reviewed by Wenson Hsieh.

        Unskip the test http/tests/css/filters-on-iframes-transform.html which 
        was skipped in r285656.

        * platform/mac-wk1/TestExpectations:

2021-11-13  Simon Fraser  <simon.fraser@apple.com>

        Implement UIScriptController.sendEventStream() for DumpRenderTree
        https://bugs.webkit.org/show_bug.cgi?id=233090

        Reviewed by Wenson Hsieh.

        Convert one test that runs in WK1 to use sendEventStream().

        * fast/scrolling/overflow-scroll-past-max.html:
        * resources/ui-helper.js:

2021-11-13  Tyler Wilcock  <tyler_w@apple.com>

        AX: Make 7 more layout tests async so that they pass in --release --accessibility-isolated-tree mode
        https://bugs.webkit.org/show_bug.cgi?id=233085

        Reviewed by Chris Fleizach.

        This patch makes 7 more tests async so that they pass in --release
        --accessibility-isolated-tree mode. This patch also adds some helper
        functions to accessibility-helper.js.

        * accessibility/ancestor-computation.html:
        Move `waitForElement` to accessibility-helpers.js and rename to
        `waitForElementById`.

        * accessibility/color-well-expected.txt:
        * accessibility/color-well.html:
        * accessibility/mac/scrollbars.html:
        * accessibility/placeholder-expected.txt:
        * accessibility/placeholder.html:
        * accessibility/progressbar-expected.txt:
        * accessibility/progressbar.html:
        * accessibility/range-alter-by-percent-expected.txt:
        * accessibility/range-alter-by-percent.html:
        * accessibility/range-alter-by-step-expected.txt:
        * accessibility/range-alter-by-step.html:
        * accessibility/spinbutton-value-expected.txt:
        * accessibility/spinbutton-value.html:
        Make tests async so they pass in isolated tree mode.
        Minor updates to expectations:
          - Some variables renamed for better readability
          - Sometimes there is one more or one less newline after the test rewrites

        * resources/accessibility-helper.js:
        (async waitForElementById): Added. Originally defined in
        accessibility/ancestor-computation.html.
        (async waitForExpression): Added.

2021-11-13  Tyler Wilcock  <tyler_w@apple.com>

        AX: Make accessibility/mac/header.html test async to fix it for isolated tree mode
        https://bugs.webkit.org/show_bug.cgi?id=233017

        Reviewed by Andres Gonzalez.

        This test needs to be made async, as we need to wait for
        accessibilityController.focusedElement to be synced with the DOM
        focused element before running our expectations. This fixes the
        test in isolated tree mode.

        * accessibility/mac/header-expected.txt:
        Remove extra newline at end of the file.
        * accessibility/mac/header.html:
        Make test async.

2021-11-12  Said Abou-Hallawa  <said@apple.com>

        REGRESSION(r285481): Infinite recursion with cyclic filter reference
        https://bugs.webkit.org/show_bug.cgi?id=232972
        rdar://85264240

        Reviewed by Wenson Hsieh.

        * svg/filters/feImage-cyclic-reference-expected.txt: Added.
        * svg/filters/feImage-cyclic-reference.svg: Added.

2021-11-12  Rob Buis  <rbuis@igalia.com>

        Null check m_spanElement
        https://bugs.webkit.org/show_bug.cgi?id=230894

        Reviewed by Wenson Hsieh.

        * editing/execCommand/default-paragraph-separator-crash-expected.txt: Added.
        * editing/execCommand/default-paragraph-separator-crash.html: Added.

2021-11-12  Chris Dumez  <cdumez@apple.com>

        Crash when accessing reason property of a newly created AbortSignal
        https://bugs.webkit.org/show_bug.cgi?id=233066
        <rdar://problem/85249306>

        Reviewed by Geoffrey Garen.

        Add layout test coverage.

        * fast/dom/AbortSignal-reason-crash-expected.txt: Added.
        * fast/dom/AbortSignal-reason-crash.html: Added.

2021-11-12  Ryan Haddad  <ryanhaddad@apple.com>

        Unreviewed, reverting r285583.

        Seems to have caused many layout tests to become flaky
        failures

        Reverted changeset:

        "[css-contain] Support contain:paint"
        https://bugs.webkit.org/show_bug.cgi?id=224742
        https://commits.webkit.org/r285583

2021-11-12  Chris Dumez  <cdumez@apple.com>

        Regression(r285639) fast/dom/Geolocation/cached-position-iframe.html is frequently crashing on Mac-wk1
        https://bugs.webkit.org/show_bug.cgi?id=233043
        <rdar://problem/85343956>

        Unreviewed, unskip the test now that Alexey reverted r285639.

        * platform/mac-wk1/TestExpectations:

2021-11-12  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r285639.
        https://bugs.webkit.org/show_bug.cgi?id=233065

        Causes Geolocation test crashes

        Reverted changeset:

        "JSCallbackData should use lexical global object for errors
        and lifecycle"
        https://bugs.webkit.org/show_bug.cgi?id=232387
        https://commits.webkit.org/r285639

2021-11-12  Rob Buis  <rbuis@igalia.com>

        Null check host in SlotAssignment::assignSlots
        https://bugs.webkit.org/show_bug.cgi?id=230899

        Reviewed by Darin Adler.

        * fast/shadow-dom/shadow-root-gc-crash-expected.txt: Added.
        * fast/shadow-dom/shadow-root-gc-crash.html: Added.

2021-11-12  Antoine Quint  <graouts@webkit.org>

        [Web Animations] Accelerated animations with a single keyframe don't account for prior forward-filling animations
        https://bugs.webkit.org/show_bug.cgi?id=233041
        <rdar://problem/85236241>

        Reviewed by Dean Jackson.

        Add a new test that runs a forward-filling animation for `transform`, waits for its completion,
        then runs another `transform` animation with an implicit initial keyframe, ensuring that the
        result of the first forward-filling animation is accounted for when computing the initial
        keyframe.

        This test would fail prior to this patch.

        * webanimations/accelerated-animation-after-forward-filling-animation-expected.html: Added.
        * webanimations/accelerated-animation-after-forward-filling-animation.html: Added.

2021-11-12  Patrick Angle  <pangle@apple.com>

        Web Inspector: Mark inspector/page/setShowPaintRects.html as flakey in test expectations for Mac
        https://bugs.webkit.org/show_bug.cgi?id=233048

        Unreviewed test gardening.

        * platform/mac/TestExpectations: Add expectation for inspector/page/setShowPaintRects.html while the flakey
        failure is investigated. 

2021-11-12  Chris Dumez  <cdumez@apple.com>

        fast/dom/Geolocation/cached-position-iframe.html is frequently crashing on Mac-wk1
        https://bugs.webkit.org/show_bug.cgi?id=233043

        Unreviewed, skip test to make EWS happy while the issue is being investigated.

        * platform/mac-wk1/TestExpectations:

2021-11-12  Antti Koivisto  <antti@apple.com>

        Stack overflow with revert and revert-layer
        https://bugs.webkit.org/show_bug.cgi?id=233033
        rdar://85336439

        Reviewed by Antoine Quint.

        * fast/css/revert-layer-stack-overflow-expected.txt: Added.
        * fast/css/revert-layer-stack-overflow.html: Added.

2021-11-12  Antti Koivisto  <antti@apple.com>

        REGRESSION(r285624) Using revert keyword with a css variable hits assert
        https://bugs.webkit.org/show_bug.cgi?id=233031
        rdar://85332271

        Reviewed by Tim Horton.

        * fast/selectors/variable-revert-crash-expected.txt: Added.
        * fast/selectors/variable-revert-crash.html: Added.

2021-11-11  Sergio Villar Senin  <svillar@igalia.com>

        [css-flexbox] Add flex-basis: content support
        https://bugs.webkit.org/show_bug.cgi?id=221479

        Reviewed by Javier Fernandez.

        * TestExpectations: Unskipped all the flexbox-flex-basis-content tests that work fine now.

2021-11-12  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test expectations and baselines. Unreviewed test gardening.
        https://bugs.webkit.org/show_bug.cgi?id=232957

        * platform/glib/TestExpectations:
        * platform/glib/http/tests/security/contentSecurityPolicy/report-only-from-header-expected.txt:
        * platform/glib/imported/w3c/web-platform-tests/html/dom/idlharness.worker-expected.txt:
        * platform/glib/imported/w3c/web-platform-tests/html/rendering/non-replaced-elements/form-controls/resets-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/mathml/relations/html5-tree/math-global-event-handlers.tentative-expected.txt:
        * platform/gtk/TestExpectations:
        * platform/gtk/fast/css/pseudo-first-line-border-width-expected.txt: Added.
        * platform/gtk/fast/selectors/018b-expected.txt:
        * platform/gtk/fast/text/capitalize-boundaries-expected.txt:
        * platform/gtk/fast/text/whitespace/020-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:

2021-11-11  Nikolaos Mouchtaris  <nmouchtaris@apple.com>

        REGRESSION: (r283871) [ macOS wk2 Release ] 2 css/cssom-view/scroll-behavior-main-frame tests are failing
        https://bugs.webkit.org/show_bug.cgi?id=231600

        Reviewed by Simon Fraser.

        * platform/mac-wk2/TestExpectations:

2021-11-11  Ryan Haddad  <ryanhaddad@apple.com>

        REGRESSION (r285618): [mac-wk1] ASSERTION FAILED: cgContext == [currentContext CGContext]
        https://bugs.webkit.org/show_bug.cgi?id=233008

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations: Skip test for now.

2021-11-11  Kimmo Kinnunen  <kkinnunen@apple.com>

        REGRESSION (iOS 15, GPU Process): Fails to load texture map
        https://bugs.webkit.org/show_bug.cgi?id=231471
        <rdar://problem/84328146>

        Reviewed by Tim Horton.

        Add a test that sometimes jetsams on device.
        Jetsam is not deterministic as it is only
        triggerd during memory pressure.
        macOS does not trigger jetsam due to platform
        rules.

        * fast/canvas/webgl/gl-teximage-imagebitmap-memory.html: Added.
        * fast/canvas/webgl/resources/green-4000x4000.png: Added.

2021-11-11  Alexey Shvayka  <ashvayka@apple.com>

        JSCallbackData should use lexical global object for errors and lifecycle
        https://bugs.webkit.org/show_bug.cgi?id=232387

        Reviewed by Geoff Garen.

        * fast/dom/Geolocation/callback-to-deleted-context-expected.txt:
        * fast/dom/Geolocation/callback-to-deleted-context.html:
        * fast/dom/Geolocation/resources/callback-to-deleted-context-inner1.html:

2021-11-11  Tim Nguyen  <ntim@apple.com>

        Drop support for <object usemap> making <object> interactive
        https://bugs.webkit.org/show_bug.cgi?id=222642

        Reviewed by Antti Koivisto.

        As per https://github.com/whatwg/html/pull/6283, <object usemap> should no longer be supported.

        IDL support is kept per spec like other obsolete attributes.

        * imported/blink/fast/forms/label/label-contains-other-interactive-content-expected.txt:
        * imported/blink/fast/forms/label/label-contains-other-interactive-content.html:

2021-11-11  Sam Weinig  <weinig@apple.com>

        Factor platform specific code out of HTMLModelElement
        https://bugs.webkit.org/show_bug.cgi?id=232848

        Reviewed by Dean Jackson.

        * platform/mac-wk1/TestExpectations:
        Skip model tests for WebKitLegacy as it is not supported there currently.

2021-11-11  Antti Koivisto  <antti@apple.com>

        [CSS Cascade Layers] Support 'revert-layer' value
        https://bugs.webkit.org/show_bug.cgi?id=232236
        <rdar://problem/84879369>

        Reviewed by Simon Fraser.

        * TestExpectations:

2021-11-10  Sergio Villar Senin  <svillar@igalia.com>

        [css-flexbox] Improve & simplify the flex-basis computation
        https://bugs.webkit.org/show_bug.cgi?id=230755

        Reviewed by Alan Bujtas.

        * TestExpectations: Unskipped a couple of tests that work fine now.

2021-11-11  Antoine Quint  <graouts@webkit.org>

        Default computed value for "content" should be "none" for ::before and ::after
        https://bugs.webkit.org/show_bug.cgi?id=232932

        Reviewed by Antti Koivisto.

        * platform/glib/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/glib/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/glib/svg/css/getComputedStyle-basic-expected.txt:
        * platform/ios/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/ios/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/ios/svg/css/getComputedStyle-basic-expected.txt:
        * platform/mac/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/mac/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/mac/svg/css/getComputedStyle-basic-expected.txt:

2021-11-10  Devin Rousso  <drousso@apple.com>

        REGRESSION(r283863): `<attachment>` with a long `action` do not render correctly
        https://bugs.webkit.org/show_bug.cgi?id=232645
        <rdar://problem/84558377>

        Reviewed by Myles C. Maxfield.

        * fast/attachment/attachment-truncated-action.html: Added.
        * fast/attachment/attachment-truncated-action-expected-mismatch.html: Added.

        * TestExpectations:
        * platform/ios/TestExpectations:

2021-11-10  Said Abou-Hallawa  <said@apple.com>

        [GPU Process] Make CSSFilter be a composite of FilterFunctions
        https://bugs.webkit.org/show_bug.cgi?id=232469
        rdar://85047148

        Reviewed by Simon Fraser.

        Unskip filter hidpi layout tests.

        * TestExpectations:

2021-11-10  Tim Nguyen  <ntim@apple.com>

        Remove non-standard -webkit-border-fit CSS property
        https://bugs.webkit.org/show_bug.cgi?id=229564

        Reviewed by Simon Fraser.

        Remove relevant tests and update test expectations.

        * TestExpectations:
        * fast/block/border-fit-with-right-alignment-expected.html: Removed.
        * fast/block/border-fit-with-right-alignment.html: Removed.
        * fast/borders/border-fit-2-expected.txt: Removed.
        * fast/borders/border-fit-2.html: Removed.
        * fast/borders/border-fit-expected.txt: Removed.
        * fast/borders/border-fit.html: Removed.
        * fast/css/getComputedStyle/computed-style-expected.txt:
        * fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * fast/css/getComputedStyle/resources/property-names.js:
        * fast/multicol/widow-relayout-with-border-fit-expected.txt: Removed.
        * fast/multicol/widow-relayout-with-border-fit.html: Removed.
        * fast/repaint/border-fit-lines-expected.html: Removed.
        * fast/repaint/border-fit-lines.html: Removed.
        * platform/glib/fast/borders/border-fit-expected.txt: Removed.
        * platform/glib/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/glib/svg/css/getComputedStyle-basic-expected.txt:
        * platform/gtk/fast/borders/border-fit-2-expected.png: Removed.
        * platform/gtk/fast/borders/border-fit-expected.png: Removed.
        * platform/gtk/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:
        * platform/ios/TestExpectations:
        * platform/ios/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/ios/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/ios/imported/w3c/web-platform-tests/css/css-cascade/all-prop-initial-xml-expected.txt:
        * platform/ios/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:
        * platform/ios/svg/css/getComputedStyle-basic-expected.txt:
        * platform/mac/TestExpectations:
        * platform/mac/fast/borders/border-fit-2-expected.png: Removed.
        * platform/mac/fast/borders/border-fit-expected.png: Removed.
        * platform/mac/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/mac/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/mac/svg/css/getComputedStyle-basic-expected.txt:
        * platform/win/fast/borders/border-fit-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:
        * svg/css/getComputedStyle-basic-expected.txt:

2021-11-10  Devin Rousso  <drousso@apple.com>

        Add support for marking an `<input>` as being autofilled with obscured content
        https://bugs.webkit.org/show_bug.cgi?id=232903
        <rdar://problem/84276999>

        Reviewed by Aditya Keerthi.

        * fast/forms/auto-fill-button/input-auto-filled-and-obscured.html: Added.
        * fast/forms/auto-fill-button/input-auto-filled-and-obscured-expected.html: Added.

        * platform/win/TestExpectations:

2021-11-10  Wenson Hsieh  <wenson_hsieh@apple.com>

        Refactor some image overlay logic to work with built-in media controls
        https://bugs.webkit.org/show_bug.cgi?id=232899
        rdar://83173597

        Reviewed by Antoine Quint and Tim Horton.

        Adjust a modern media controls test, such that it no longer verifies that the `-webkit-user-select` CSS property
        is none on an audio element; in lieu of this, we add a new layout test in `editing/selection` to verify that
        long pressing over the timestamp of an audio element does not trigger text selection.

        * editing/selection/ios/do-not-allow-text-selection-in-audio-element-expected.txt: Added.
        * editing/selection/ios/do-not-allow-text-selection-in-audio-element.html: Added.
        * media/modern-media-controls/audio/audio-controls-styles-expected.txt:
        * media/modern-media-controls/audio/audio-controls-styles.html:

2021-11-10  Antoine Quint  <graouts@webkit.org>

        The cssText property for a computed style should return an empty string
        https://bugs.webkit.org/show_bug.cgi?id=232943

        Reviewed by Antti Koivisto.

        Remove all platform-specific expectations for the WPT css/cssom/cssstyledeclaration-csstext.html since the
        assertion that would fail differently on various platforms now passes everywhere.

        * platform/gtk/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt: Removed.
        * platform/ios/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt: Removed.

2021-11-10  Said Abou-Hallawa  <said@apple.com>

        [GPU Process] Make SVGFilter and CSSFilter work in the same coordinates system
        https://bugs.webkit.org/show_bug.cgi?id=232457
        rdar://85035379

        Reviewed by Simon Fraser.

        * TestExpectations:
        Skip the hidpi reference filter tests till we connect the FilterEffects
        to the correct parent Filter.

        * platform/ios/TestExpectations:
        * platform/mac/TestExpectations:
        Remove unnecessary un-skipping for conic-gradients tests since they were
        not skipped globally.

2021-11-10  Geza Lore  <glore@igalia.com>

        [JSC][ARMv7] Unskip LayoutTests/js/script-tests/stack-overflow-regexp.js
        https://bugs.webkit.org/show_bug.cgi?id=232945

        Unreviewed gardening.

        This test no longer seems flaky on ARMv7. Remove architecture specific
        skip condition.

        * js/script-tests/stack-overflow-regexp.js:

2021-11-10  Tyler Wilcock  <tyler_w@apple.com>

        AX: Make ancestor computation cheaper by setting flags upon child insertion
        https://bugs.webkit.org/show_bug.cgi?id=232466

        Reviewed by Andres Gonzalez.

        This patch adds bit-flags (named AXAncestorFlags) to our accessibility objects,
        and sets these flags upon child insertion to enable cheap
        determination of whether any object has ancestors of certain types
        (e.g. a document role ancestor). Some AX clients need this
        information, and WebKit can compute it more efficiently than they can.

        The following flags are added in this patch:
          - HasDocumentRoleAncestor
          - HasWebApplicationAncestor
          - IsInDescriptionListDetail
          - IsInDescriptionListTerm
          - IsInCell

        * accessibility/ancestor-computation-expected.txt: Added.
        * accessibility/ancestor-computation.html: Added.

        * accessibility/ios-simulator/description-list-expected.txt:
        * accessibility/ios-simulator/description-list.html:
        Renamed from definition-list.html, because the term is "description
        list" and not "definition list".

        * accessibility/image-link-expected.txt:
        * accessibility/image-map2-expected.txt:
        * accessibility/internal-link-anchors2-expected.txt:
        * accessibility/ios-simulator/element-in-table-cell-expected.txt:
        * accessibility/ios-simulator/element-in-table-cell.html:
        * accessibility/mac/aria-columnrowheaders-expected.txt:
        * accessibility/mac/bounds-for-range-expected.txt:
        * accessibility/mac/document-attributes-expected.txt:
        * accessibility/mac/document-links-expected.txt:
        * accessibility/mac/internal-link-anchors-expected.txt:
        * accessibility/math-multiscript-attributes-expected.txt:
        * accessibility/table-attributes-expected.txt:
        * accessibility/table-cell-spans-expected.txt:
        * accessibility/table-cells-expected.txt:
        * accessibility/table-detection-expected.txt:
        * accessibility/table-one-cell-expected.txt:
        * accessibility/table-sections-expected.txt:
        * accessibility/table-with-rules-expected.txt:
        * accessibility/transformed-element-expected.txt:
        * platform/mac/accessibility/lists-expected.txt:
        * platform/mac/accessibility/parent-delete-expected.txt:
        * platform/mac/accessibility/plugin-expected.txt:
        Add new AXHasDocumentRoleAncestor and AXHasWebApplicationAncestor
        attributes to expected output (these tests dump all attributes for
        some / all elements).

        * platform/glib/TestExpectations:
        * platform/win/TestExpectations:
        Ignore new ancestor-computation.html test due to lack of
        AccessibilityUIElement method implementations added to
        Mac and iOS only with this patch.
        * platform/ios/TestExpectations:
        Enable new ancestor-computation.html test.

2021-11-10  Enrique Ocaña González  <eocanha@igalia.com>

        [GTK] Layout Test media/video-seek-with-negative-playback.html timeouts on the release bot.
        https://bugs.webkit.org/show_bug.cgi?id=135086

        Reviewed by Xabier Rodriguez-Calvar.

        * platform/glib/TestExpectations: Unskipped test.

2021-11-10  Rob Buis  <rbuis@igalia.com>

        [css-contain] Support contain:paint
        https://bugs.webkit.org/show_bug.cgi?id=224742

        Reviewed by Alan Bujtas.

        Unskip tests that pass now.

        * TestExpectations:

2021-11-10  Enrique Ocaña González  <eocanha@igalia.com>

        [Media] Make currentTime compliant with the spec when readyState is HAVE_NOTHING
        https://bugs.webkit.org/show_bug.cgi?id=229605

        Reviewed by Xabier Rodriguez-Calvar.

        New test that checks that changes in currentTime done while on readyState=HAVE_NOTHING
        are recorded and trigger a seek as soon as readyState increases to HAVE_METADATA or above.

        * media/video-seek-have-nothing-expected.txt: Added.
        * media/video-seek-have-nothing.html: Added.

2021-11-10  Tim Nguyen  <ntim@apple.com>

        Fix crash in GraphicsContextCG::endTransparencyLayer
        https://bugs.webkit.org/show_bug.cgi?id=230230

        Reviewed by Myles C. Maxfield.

        * fast/layers/top-layer-ancestor-opacity-and-transform-crash-expected.txt: Added.
        * fast/layers/top-layer-ancestor-opacity-and-transform-crash.html: Added.

2021-11-10  Tim Nguyen  <ntim@apple.com>

        Enable dialog tests on Windows
        https://bugs.webkit.org/show_bug.cgi?id=232911

        Reviewed by Youenn Fablet.

        The runtime flag sometimes seems to be off for Windows, change the member in
        RuntimeEnabledFeatures.h and re-enable tests.

        * platform/win/TestExpectations:

2021-11-10  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test expectations and baselines after r284521
        https://bugs.webkit.org/show_bug.cgi?id=232913

        Unreviewed test gardening.

        * platform/glib/TestExpectations:
        * platform/glib/svg/foreignObject/background-render-phase-expected.txt: Added.
        * platform/glib/svg/foreignObject/multiple-foreign-objects-expected.txt: Added.
        * platform/glib/svg/wicd/sizing-flakiness-expected.txt: Added.
        * platform/gtk/svg/custom/scrolling-embedded-svg-file-image-repaint-problem-expected.txt:
        * platform/wpe/svg/custom/scrolling-embedded-svg-file-image-repaint-problem-expected.txt:

2021-11-10  Sihui Liu  <sihui_liu@apple.com>

        Perform FileSystemSyncAccessHandle operations in web process
        https://bugs.webkit.org/show_bug.cgi?id=232146
        <rdar://problem/84809428>

        Reviewed by Youenn Fablet.

        * storage/filesystemaccess/handle-move-worker-expected.txt:
        * storage/filesystemaccess/resources/handle-move.js:
        (async test):

2021-11-09  Chris Dumez  <cdumez@apple.com>

        [macOS] Enable NSURLSession partitioning based on first-party domain at CFNetwork level
        https://bugs.webkit.org/show_bug.cgi?id=230750
        <rdar://problem/83159358>

        Reviewed by Alex Christensen.

        Skip a few ITP session partitioning tests on newer OSes now that session partitioning
        happens for all first-party domains at CFNetwork level on these OSes.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-11-09  Ben Nham  <nham@apple.com>

        Add support for PushSubscriptionChangeEvent
        https://bugs.webkit.org/show_bug.cgi?id=232455

        Reviewed by Youenn Fablet.

        Added PushSubscriptionChangeEvent tests and made PushSubscription tests also run in the
        service worker context.

        * http/wpt/push-api/constants.js: Added.
        (bytesFrom):
        * http/wpt/push-api/pushManager.any.js:
        * http/wpt/push-api/pushSubscription.https.any-expected.txt:
        * http/wpt/push-api/pushSubscription.https.any.js:
        (GLOBAL.isWorker):
        (async promise_test):
        (bytesFrom): Deleted.
        (promise_test.async test): Deleted.
        (promise_test): Deleted.
        * http/wpt/push-api/pushSubscription.https.any.serviceworker-expected.txt: Added.
        * http/wpt/push-api/pushSubscription.https.any.serviceworker.html: Added.
        * http/wpt/push-api/pushSubscriptionChangeEvent.any.js: Added.
        (test):
        (promise_test.async newSubscription):
        (promise_test.async return):
        (promise_test):
        * http/wpt/push-api/pushSubscriptionChangeEvent.any.serviceworker-expected.txt: Added.
        * http/wpt/push-api/pushSubscriptionChangeEvent.any.serviceworker.html: Added.

2021-11-09  Jean-Yves Avenard  <jyavenard@gmail.com>

        Unreviewed test gardening, skip failing test.
        https://bugs.webkit.org/show_bug.cgi?id=231084
        rdar://problem/83770133

        Bug 230210 caused a progression on how we would detect stall during playback.
        This exposed an issue with the existing test where it could fail differently
        if a temporary stall occurred.
        This test can't pass as we do not support change of resolution mid-stream
        in plain mp4 playback (see bug 232916)

        * platform/ios-simulator-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-11-09  Megan Gardner  <megan_gardner@apple.com>

        Turn on selection flipping by default.
        https://bugs.webkit.org/show_bug.cgi?id=232853

        Reviewed by Wenson Hsieh.

        * fast/events/touch/ios/double-tap-on-editable-content-for-selection-then-drag-right-to-change-selected-text.html:
        * fast/events/touch/ios/long-press-on-editable-content-then-drag-down-to-change-selected-text-expected.txt:
        * fast/events/touch/ios/long-press-on-editable-content-then-drag-down-to-change-selected-text.html:
        * fast/events/touch/ios/long-press-on-editable-content-then-drag-up-to-change-selected-text-expected.txt:
        * fast/events/touch/ios/long-press-on-editable-content-then-drag-up-to-change-selected-text.html:
        * fast/events/touch/ios/long-press-then-drag-right-to-change-selected-text.html:

2021-11-09  Antoine Quint  <graouts@webkit.org>

        REGRESSION(r272201): Safari showed red distortion on webview after using Web Inspector, returning from another app
        https://bugs.webkit.org/show_bug.cgi?id=231358
        <rdar://problem/81505208>

        Reviewed by Devin Rousso.

        Add a new test, written by Patrick Angle, that tracks whether paint rects have appeared
        and then disappeared as content repaints in an inspected page.

        * inspector/page/setShowPaintRects-expected.txt: Added.
        * inspector/page/setShowPaintRects.html: Added.
        * platform/ios-wk1/TestExpectations:
        * platform/mac-wk1/TestExpectations:

2021-11-09  Devin Rousso  <drousso@apple.com>

        REGRESSION(r271735): PaymentShippingOption.selected ignored
        https://bugs.webkit.org/show_bug.cgi?id=221960
        <rdar://problem/73464404>

        Reviewed by Tim Horton.

        * http/tests/paymentrequest/payment-request-change-shipping-option.https.html:
        * http/tests/paymentrequest/payment-request-change-shipping-option.https-expected.txt:
        * http/tests/paymentrequest/updateWith-shippingOptions.https.html:
        * http/tests/paymentrequest/updateWith-shippingOptions.https-expected.txt:

2021-11-09  Rob Buis  <rbuis@igalia.com>

        Import css/css-sizing/aspect-ratio tests from WPT
        https://bugs.webkit.org/show_bug.cgi?id=232783

        Reviewed by Manuel Rego Casasnovas.

        * TestExpectations:

2021-11-08  Simon Fraser  <simon.fraser@apple.com>

        Convert more wheel event tests to UIHelper.mouseWheelSequence()
        https://bugs.webkit.org/show_bug.cgi?id=232847

        Reviewed by Wenson Hsieh.

        Add an options parameter to mouseWheelSequence() so we can have a version that doens't
        wait.

        Some tests need to have minor position changes to default the wheel event coalescing code
        in WebWheelEventCoalescer.
        
        Change some JS style things.

        * fast/scrolling/mac/momentum-axis-locking.html:
        * fast/scrolling/mac/overflow-hidden-on-one-axis-async-overflow.html:
        * fast/scrolling/mac/overflow-hidden-on-one-axis.html:
        * fast/scrolling/mac/programmatic-scroll-overrides-rubberband.html:
        * fast/scrolling/mac/wheel-event-deltas-are-not-filtered.html:
        * resources/ui-helper.js:
        (window.UIHelper.async mouseWheelSequence):

2021-11-09  Ziran Sun  <zsun@igalia.com>

        [css-grid] update the content-sized grid width before laying out a grid item with block constraints and aspect-ratio
        https://bugs.webkit.org/show_bug.cgi?id=231802

        Reviewed by Javier Fernandez.
        
        Unskip the tests that are now passing and add a new test to check track size updates.

        * imported/w3c/web-platform-tests/css/css-grid/grid-items/aspect-ratio-005-expected.html: Added.
        * imported/w3c/web-platform-tests/css/css-grid/grid-items/aspect-ratio-005.html: Added.
        * TestExpectations:
        * platform/ios-wk2/TestExpectations:

2021-11-09  Alan Bujtas  <zalan@apple.com>

        Rendering bug with height: min-content, position: absolute, and box-sizing: border-box
        https://bugs.webkit.org/show_bug.cgi?id=232816
        <rdar://problem/85154265>

        Reviewed by Antti Koivisto.

        * fast/block/out-of-flow-intrinsic-height-expected.html: Added.
        * fast/block/out-of-flow-intrinsic-height.html: Added.

2021-11-09  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r285486.
        https://bugs.webkit.org/show_bug.cgi?id=232876

        Made fast/ruby/generated-before-counter-doesnt-crash.html
        flaky, possibly indicating perf problem

        Reverted changeset:

        "[CSS Cascade Layers] Support 'revert-layer' value"
        https://bugs.webkit.org/show_bug.cgi?id=232236
        https://commits.webkit.org/r285486

2021-11-09  Antti Koivisto  <antti@apple.com>

        [CSS Cascade Layers] Support 'revert-layer' value
        https://bugs.webkit.org/show_bug.cgi?id=232236
        <rdar://problem/84879369>

        Reviewed by Simon Fraser.

        * TestExpectations:

2021-11-09  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test expectations and baselines. Unreviewed test gardening.
        https://bugs.webkit.org/show_bug.cgi?id=232862

        * platform/glib/TestExpectations:
        * platform/gtk/imported/w3c/web-platform-tests/selection/selection-select-all-move-input-crash-expected.txt:

2021-11-09  Antoine Quint  <graouts@webkit.org>

        Stop expecting imported/w3c/web-platform-tests/css/css-pseudo/marker-animate-002.html to fail
        https://bugs.webkit.org/show_bug.cgi?id=232834

        Reviewed by Antti Koivisto.

        * TestExpectations:

2021-11-09  Martin Robinson  <mrobinson@webkit.org>

        A mask or isolation should set transform-style to flat
        https://bugs.webkit.org/show_bug.cgi?id=232491

        Reviewed by Simon Fraser.

        * transforms/3d/preserve-3d-flat-webkit-grouping-properties-expected.txt: Added.
        * transforms/3d/preserve-3d-flat-webkit-grouping-properties.html: Added.

2021-11-08  Said Abou-Hallawa  <said@apple.com>

        [GPU Process] Remove non-platform code form the FEImage class
        https://bugs.webkit.org/show_bug.cgi?id=232369
        rdar://84966765

        Reviewed by Simon Fraser.

        * fast/shadow-dom/svg-feimage-href-in-shadow-tree.html:
        The default primitive subregion of <feImage> is { -10%, -10%, 120%, 120% }
        of the bounding box. So the filter result will be shifted (-10, -10) of
        this test case if we do not specify the 'x' and then 'y' attributes.
        Unlike the Image based feImage, the default behavior is to display the
        ImageBuffer of the element with its logical size otherwise the drawing
        will be pixelated if we try to fill the whole primitive subregion. To
        make this test page matches its expected page, we need to specify the 'x'
        and the 'y' attributes of the <feImage> to be zeros.

        With and without specifying the 'x' and the 'y' attributes, the drawing
        with this patch matches the drawing of this test page in other browsers.

        * svg/filters/feImage-change-target-id-expected.txt:
        * svg/filters/feImage-element-primitive-subregion-expected.svg: Added.
        * svg/filters/feImage-element-primitive-subregion.svg: Added.
        * svg/filters/feImage-image-primitive-subregion-expected.svg: Added.
        * svg/filters/feImage-image-primitive-subregion.svg: Added.
        * svg/filters/feImage-remove-target-expected.txt:

2021-11-08  Patrick Griffis  <pgriffis@igalia.com>

        Implement nonce-hiding
        https://bugs.webkit.org/show_bug.cgi?id=179728

        Reviewed by Chris Dumez.

        Update expectations for nonce IDL as PASSing.

        * platform/gtk/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/dom/reflection-misc-expected.txt:
        * platform/ipad/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/dom/reflection-misc-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:

2021-11-08  Chris Dumez  <cdumez@apple.com>

        REGRESSION (r283935): [ macOS wk1 ] imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-autofocus-multiple-times.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=231918
        <rdar://problem/84393055>

        Reviewed by Wenson Hsieh.

        Unskip test that should no longer be flaky.

        * platform/mac-wk1/TestExpectations:

2021-11-08  Devin Rousso  <drousso@apple.com>

        [Payment Request] Add a new payment method for showing AMS UI
        https://bugs.webkit.org/show_bug.cgi?id=232634
        <rdar://problem/79024227>

        Reviewed by Tim Horton.

        * http/tests/ssl/applepay-ams-ui/PaymentRequest.https.html: Added.
        * http/tests/ssl/applepay-ams-ui/PaymentRequest.https-expected.txt: Added.

        * TestExpectations:

2021-11-08  Alex Christensen  <achristensen@webkit.org>

        Remove unused file
        https://bugs.webkit.org/show_bug.cgi?id=220094

        * http/tests/contentextensions/whitelist.html.json: Removed.

2021-11-08  Simon Fraser  <simon.fraser@apple.com>

        Convert some tests that use eventSender.eventSender.mouseScrollByWithWheelAndMomentumPhases() to sendEventStream()
        https://bugs.webkit.org/show_bug.cgi?id=232820

        Reviewed by Wenson Hsieh.
        
        These tests were using repeated calls to
        eventSender.mouseScrollByWithWheelAndMomentumPhases() to dispatch wheel events, including
        events in the momentum phase. Convert them to UIScriptController.sendEventStream() via a
        UIHelper function.
        
        Move fast/scrolling/momentum-scroll-with-borders.html to the mac directory.

        * fast/scrolling/mac/momentum-event-sequence.html:
        * fast/scrolling/mac/momentum-scroll-with-borders-expected.txt: Renamed from LayoutTests/fast/scrolling/momentum-scroll-with-borders-expected.txt.
        * fast/scrolling/mac/momentum-scroll-with-borders.html: Added.
        * fast/scrolling/momentum-scroll-with-borders.html: Removed.
        * platform/gtk/TestExpectations:
        * platform/ios/TestExpectations:
        * platform/win/TestExpectations:
        * platform/wpe/TestExpectations:
        * scrollingcoordinator/mac/multiple-fixed.html:
        * scrollingcoordinator/mac/nested-sticky-expected.html:
        * scrollingcoordinator/mac/nested-sticky.html:
        * tiled-drawing/scrolling/fast-scroll-div-latched-div-with-handler.html:
        * tiled-drawing/scrolling/fast-scroll-div-latched-div.html:
        * tiled-drawing/scrolling/fast-scroll-div-latched-mainframe-with-handler.html:
        * tiled-drawing/scrolling/fast-scroll-div-latched-mainframe.html:
        * tiled-drawing/scrolling/fast-scroll-iframe-latched-iframe-with-handler.html:
        * tiled-drawing/scrolling/fast-scroll-iframe-latched-iframe.html:
        * tiled-drawing/scrolling/fast-scroll-iframe-latched-mainframe-with-handler.html:
        * tiled-drawing/scrolling/fast-scroll-iframe-latched-mainframe.html:
        * tiled-drawing/scrolling/fast-scroll-iframe-latched-select.html:
        * tiled-drawing/scrolling/fast-scroll-mainframe-zoom.html:
        * tiled-drawing/scrolling/fast-scroll-select-latched-mainframe-with-handler.html:
        * tiled-drawing/scrolling/fast-scroll-select-latched-mainframe.html:
        * tiled-drawing/scrolling/fast-scroll-select-latched-select-with-handler.html:
        * tiled-drawing/scrolling/fast-scroll-select-latched-select.html:
        * tiled-drawing/scrolling/iframe_in_iframe.html:
        * tiled-drawing/scrolling/latched-div-with-scroll-snap.html:
        * tiled-drawing/scrolling/latched-to-deleted-node.html:
        * tiled-drawing/scrolling/overflow-scroll-reduced-content.html:
        * tiled-drawing/scrolling/overflow-scroll-zero-delta-wheel-events.html:
        * tiled-drawing/scrolling/root-overflow-with-mousewheel.html:
        * tiled-drawing/scrolling/scroll-iframe-latched-selects.html:
        * tiled-drawing/scrolling/scrolling-no-iframe-latching.html:
        * tiled-drawing/scrolling/wheel-events-with-no-delta.html:

2021-11-08  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r285408.
        https://bugs.webkit.org/show_bug.cgi?id=232829

        Depending on r285392, which caused 4% Speedometer2 regression

        Reverted changeset:

        "[CSS Cascade Layers] Support 'revert-layer' value"
        https://bugs.webkit.org/show_bug.cgi?id=232236
        https://commits.webkit.org/r285408

2021-11-08  Chris Dumez  <cdumez@apple.com>

        Unreviewed, reverting r284883.

        Caused high energy use on wsj.com <rdar://85156874>

        Reverted changeset:

        "<link> elements should be able to fire more than one load /
        error event"
        https://bugs.webkit.org/show_bug.cgi?id=232309
        https://commits.webkit.org/r284883

2021-11-08  Manuel Rego Casasnovas  <rego@igalia.com>

        WPT test importer imports rel="mismatch" as the reference
        https://bugs.webkit.org/show_bug.cgi?id=207175
        <rdar://problem/69332102>

        Reviewed by Jonathan Bedard.

        css/css-fonts/standard-font-family-5.html stars passing now.

        * TestExpectations:

2021-11-08  Antti Koivisto  <antti@apple.com>

        [CSS Cascade Layers] Support 'revert-layer' value
        https://bugs.webkit.org/show_bug.cgi?id=232236
        <rdar://problem/84879369>

        Reviewed by Simon Fraser.

        * TestExpectations:

2021-11-08  Youenn Fablet  <youenn@apple.com>

        Remove http/tests/security/mixedContent/websocket/insecure-websocket-in-main-frame.html and http/tests/security/mixedContent/websocket/insecure-websocket-in-iframe.html mac specific expectations
        https://bugs.webkit.org/show_bug.cgi?id=232810
        <rdar://problem/84997169>

        Unreviewed, test gardening.

        * platform/mac-bigsur-wk2/http/tests/security/mixedContent/websocket/insecure-websocket-in-iframe-expected.txt: Removed.
        * platform/mac-bigsur-wk2/http/tests/security/mixedContent/websocket/insecure-websocket-in-main-frame-expected.txt: Removed.
        * platform/mac-catalina-wk2/http/tests/security/mixedContent/websocket/insecure-websocket-in-iframe-expected.txt: Removed.
        * platform/mac-catalina-wk2/http/tests/security/mixedContent/websocket/insecure-websocket-in-main-frame-expected.txt: Removed.
        * platform/mac-wk2/http/tests/security/mixedContent/websocket/insecure-websocket-in-iframe-expected.txt: Removed.
        * platform/mac-wk2/http/tests/security/mixedContent/websocket/insecure-websocket-in-main-frame-expected.txt: Removed.

2021-11-08  Philippe Normand  <pnormand@igalia.com>

        [GStreamer] fast/mediastream/media-stream-video-track-interrupted.html is failing since added in 242093@main
        https://bugs.webkit.org/show_bug.cgi?id=231057

        Reviewed by Xabier Rodriguez-Calvar.

        * platform/glib/TestExpectations: Unflag now-passing test.

2021-11-08  Antoine Quint  <graouts@webkit.org>

        [Web Animations] Add support for composite operations for software animations
        https://bugs.webkit.org/show_bug.cgi?id=230404
        <rdar://problem/83495091>

        Reviewed by Dean Jackson.

        Remove two platform-specicfic expectations that are not required anymore and mark one ref test as newly passing.

        * platform/ios-wk2/imported/w3c/web-platform-tests/css/css-box/animation/padding-bottom-composition-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/css-box/animation/padding-top-composition-expected.txt: Removed.
        * TestExpectations:

2021-11-07  Cameron McCormack  <heycam@apple.com>

        Restore canvas WPTs removed in bug 232449
        https://bugs.webkit.org/show_bug.cgi?id=232795
        <rdar://problem/85108161>

        Rubber-stamped by Ryosuke Niwa.

        * TestExpectations:
        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:
        * platform/ios-14/TestExpectations:
        * platform/ios-simulator/TestExpectations:
        * platform/ios-wk2/TestExpectations:
        * platform/ios/TestExpectations:
        * platform/mac-catalina/TestExpectations:
        * platform/mac/TestExpectations:
        * platform/wpe/TestExpectations:

2021-11-07  Simon Fraser  <simon.fraser@apple.com>

        Implement UIScriptController.sendEventStream() on macOS for wheel events
        https://bugs.webkit.org/show_bug.cgi?id=232794

        Reviewed by Tim Horton.

        eventSender.mouseScrollByWithWheelAndMomentumPhases() is problematic for timing-sensitive
        scrolling behaviors because the timestamps used are not under script control. It's also
        a rather unwieldy API.
        
        To make wheel event testing easier, implement enough of UIScriptController.sendEventStream()
        on macOS that it can generate a series of wheel events with predicable timestamps
        (currently hardcoded to be 16.6ms apart).

        * fast/scrolling/mac/momentum-event-sequence-expected.txt: Added.
        * fast/scrolling/mac/momentum-event-sequence.html: Added.
        * resources/ui-helper.js:
        (window.UIHelper.async mouseWheelSequence.await.new.Promise):
        (window.UIHelper.async mouseWheelSequence):

2021-11-06  Tyler Wilcock  <tyler_w@apple.com>

        AX: WebKit1 PluginViewBase objects with an associated widget()->platformWidget() should be considered attachments
        https://bugs.webkit.org/show_bug.cgi?id=232759

        Reviewed by Chris Fleizach.

        This patch changes the Mac WebAccessibilityObjectWrapper to not return
        an AXEmptyGroup subrole for objects with renderWidgetChildren.

        * accessibility/mac/basic-embed-pdf-accessibility-expected.txt:
        * accessibility/mac/basic-embed-pdf-accessibility.html:
        Add expectation that the embed container doesn't have an AXEmptyGroup
        subrole.

2021-11-06  David Kilzer  <ddkilzer@apple.com>

        Remove empty directories from from svn.webkit.org repository as of r285357
        <https://webkit.org/b/232773>

        Unreviewed clean up.

        * canvas: Removed.
        * platform/glib/imported/w3c/web-platform-tests/cors: Removed.
        * platform/glib/imported/w3c/web-platform-tests/dom/events: Removed.
        * platform/glib/imported/w3c/web-platform-tests/eventsource: Removed.
        * platform/glib/imported/w3c/web-platform-tests/svg/shapes/scripted: Removed.
        * platform/gtk/fast/forms/fieldset: Removed.
        * platform/gtk/imported/w3c/web-platform-tests/css/css-images: Removed.
        * platform/gtk/imported/w3c/web-platform-tests/media-source: Removed.
        * platform/gtk/imported/w3c/web-platform-tests/svg/animations: Removed.
        * platform/gtk/imported/w3c/web-platform-tests/svg/embedded: Removed.
        * platform/gtk/imported/w3c/web-platform-tests/svg/geometry/reftests: Removed.
        * platform/gtk/imported/w3c/web-platform-tests/svg/pservers: Removed.
        * platform/gtk/imported/w3c/web-platform-tests/svg/struct: Removed.
        * platform/gtk/media/W3C: Removed.
        * platform/gtk/media/media-source: Removed.
        * platform/gtk/media/mediacapabilities: Removed.
        * platform/gtk/webaudio: Removed.
        * platform/ios-14-wk2/imported/w3c/web-platform-tests/css: Removed.
        * platform/ios-simulator/webgl/2.0.0/conformance/buffers: Removed.
        * platform/ios-simulator/webgl/2.0.0/conformance/glsl: Removed.
        * platform/ios-simulator/webgl/2.0.0/conformance/reading: Removed.
        * platform/ios-wk2/fast/clip: Removed.
        * platform/ios-wk2/fast/dom/Window: Removed.
        * platform/ios-wk2/fast/multicol: Removed.
        * platform/ios-wk2/http/tests/adClickAttribution: Removed.
        * platform/ios-wk2/http/tests/security: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/webappapis: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/svg/painting: Removed.
        * platform/ios/compositing/contents-opaque: Removed.
        * platform/ios/css3/calc: Removed.
        * platform/ios/fast/events/constructors: Removed.
        * platform/ios/imported/w3c/web-platform-tests/cors: Removed.
        * platform/ios/imported/w3c/web-platform-tests/fetch/api/basic: Removed.
        * platform/ios/imported/w3c/web-platform-tests/html/semantics/forms/the-form-element: Removed.
        * platform/ios/imported/w3c/web-platform-tests/html/semantics/forms/the-meter-element: Removed.
        * platform/ios/imported/w3c/web-platform-tests/html/semantics/interactive-elements: Removed.
        * platform/ios/imported/w3c/web-platform-tests/web-animations: Removed.
        * platform/mac-mojave/imported/w3c/web-platform-tests/WebCryptoAPI: Removed.
        * platform/mac-wk1/fast/canvas: Removed.
        * platform/mac-wk1/http/wpt/html/browsers: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/css/geometry: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/html/browsers/history/joint-session-history: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/html/browsers/history/the-history-interface: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/svg: Removed.
        * platform/mac-wk1/inspector/model: Removed.
        * platform/mac-wk2/canvas: Removed.
        * platform/mac-wk2/editing/style: Removed.
        * platform/mac-wk2/fast/frames/flattening: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/dom/documents: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/semantics/embedded-content: Removed.
        * platform/mac-wk2/media: Removed.
        * platform/mac/canvas: Removed.
        * platform/mac/editing/mac/selection: Removed.
        * platform/mac/fast/dom/HTMLImageElement/resources: Removed.
        * platform/mac/imported/w3c/web-platform-tests/IndexedDB: Removed.
        * platform/mac/imported/w3c/web-platform-tests/cors: Removed.
        * platform/mac/imported/w3c/web-platform-tests/css/css-masking: Removed.
        * platform/mac/security: Removed.
        * platform/mac/userscripts: Removed.
        * platform/win-7sp0/media/W3C/audio: Removed.
        * platform/win/canvas: Removed.
        * platform/wincairo/css3/calc: Removed.
        * platform/wk2/http/tests/contentdispositionattachmentsandbox: Removed.
        * platform/wk2/http/tests/contentextensions: Removed.
        * platform/wk2/imported/w3c/web-platform-tests/html/browsers: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/css/css-images: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/html/cross-origin-embedder-policy: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/html/webappapis: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/svg/embedded: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/svg/geometry/reftests: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/svg/pservers: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/svg/struct: Removed.

2021-11-06  Joonghun Park  <jh718.park@samsung.com>

        font-synthesis inline/computed style should be in canonical order.
        https://bugs.webkit.org/show_bug.cgi?id=186344

        Reviewed by Myles C. Maxfield.

        Per the spec, https://drafts.csswg.org/css-fonts/#font-synthesis.

        * fast/css/getComputedStyle/computed-style-expected.txt:
        * fast/css/getComputedStyle/computed-style-font-family-expected.txt:
        * fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * fast/css3-text/font-synthesis-parse-expected.txt:
        * fast/css3-text/font-synthesis-parse.html:
        * fast/text/font-synthesis-parsing-expected.txt:
        * fast/text/font-synthesis-parsing.html:
        * platform/glib/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/glib/fast/css/getComputedStyle/computed-style-font-family-expected.txt:
        * platform/glib/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/glib/svg/css/getComputedStyle-basic-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/ios/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/ios/fast/css/getComputedStyle/computed-style-font-family-expected.txt:
        * platform/ios/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/ios/svg/css/getComputedStyle-basic-expected.txt:
        * platform/mac/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/mac/fast/css/getComputedStyle/computed-style-font-family-expected.txt:
        * platform/mac/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/mac/svg/css/getComputedStyle-basic-expected.txt:
        * svg/css/getComputedStyle-basic-expected.txt:

2021-11-06  Tyler Wilcock  <tyler_w@apple.com>

        AX: Rename usages DefinitionList to DescriptionList and DescriptionListDefinition to DescriptionListDetail
        https://bugs.webkit.org/show_bug.cgi?id=232775

        Reviewed by Chris Fleizach.

        Rename usages of "definition list" to "description list" and
        DescriptionListDefinition to DescriptionListDetail, as the latter
        versions of each pair are what the corresponding HTML elements are
        actually called.

        Note this patch does this renaming everywhere except the interface
        layers, e.g. WebAccessibilityObjectWrapperIOS.

        https://html.spec.whatwg.org/multipage/grouping-content.html#the-dl-element
        https://html.spec.whatwg.org/multipage/grouping-content.html#the-dd-element

        * accessibility/ios-simulator/description-list-expected.txt: Renamed from LayoutTests/accessibility/ios-simulator/definition-list-expected.txt.
        * accessibility/ios-simulator/description-list.html: Renamed from LayoutTests/accessibility/ios-simulator/definition-list.html.

2021-11-06  Tim Nguyen  <ntim@apple.com>

        Re-import html/semantics/interactive-elements/the-dialog-element WPT
        https://bugs.webkit.org/show_bug.cgi?id=232784

        Unreviewed, reverting some changes made by r285346, and upstreamed them.

        Upstream commit: https://github.com/web-platform-tests/wpt/commit/301143db2eced1c387ca4927c03cf2be41056a83

        * TestExpectations:

2021-11-05  Simon Fraser  <simon.fraser@apple.com>

        Simplify code that makes use of WheelEventDeltaFilter
        https://bugs.webkit.org/show_bug.cgi?id=232536

        Reviewed by Wenson Hsieh.

        Add a test to verify that wheel events sent to JS aren't affected by the wheel event
        delta filter.

        * fast/scrolling/mac/wheel-event-deltas-are-not-filtered-expected.txt: Added.
        * fast/scrolling/mac/wheel-event-deltas-are-not-filtered.html: Added.
        * tiled-drawing/scrolling/scroll-snap/scroll-snap-mandatory-2d-overflow.html:
        Adjust the test for the fact that the momentum phase is now axis-locked.

2021-11-05  Alan Bujtas  <zalan@apple.com>

        Rebaseline for fast/text/midword-break-after-breakable-char.html
        https://bugs.webkit.org/show_bug.cgi?id=232777
        <rdar://84995628>

        Unreviewed.

        * platform/mac/fast/text/midword-break-after-breakable-char-expected.txt: soft-hyphen font fallback measuring progression.

2021-11-05  Alan Bujtas  <zalan@apple.com>

        Rebaseline for fast/text/basic/014.html
        https://bugs.webkit.org/show_bug.cgi?id=232776
        <rdar://84995386>

        Unreviewed.

        * platform/mac/fast/text/basic/014-expected.txt:

2021-11-05  Lauro Moura  <lmoura@igalia.com>

        [GLIB] Gardening some offscreencanvas failures after recent WPT update

        Unreviewed test gardening.

        * platform/glib/TestExpectations:

2021-11-05  Lauro Moura  <lmoura@igalia.com>

        [GLIB] Gardening more timeouts

        Unreviewed test gardening.

        * platform/glib/TestExpectations:
        * platform/wpe/TestExpectations:

2021-11-05  Chris Dumez  <cdumez@apple.com>

        Resync web-platform-tests/html from upstream
        https://bugs.webkit.org/show_bug.cgi?id=232449

        Reviewed by Alex Christensen.

        * TestExpectations:
        * tests-options.json:

2021-11-05  Kiet Ho  <tho22@apple.com>

        Implement parsing and animation support for offset-path
        https://bugs.webkit.org/show_bug.cgi?id=231801

        Reviewed by Simon Fraser.

        Updated relevant test expectations.

        * platform/gtk/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/ios/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/ios/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:

2021-11-04  Kate Cheney  <katherine_cheney@apple.com>

        Form action with a redirect should report correct blocked URI
        https://bugs.webkit.org/show_bug.cgi?id=232660
        <rdar://problem/84969024>

        Reviewed by Brent Fulgham.

        * http/tests/security/contentSecurityPolicy/form-action-redirect-with-correct-blocked-uri-expected.txt: Added.
        * http/tests/security/contentSecurityPolicy/form-action-redirect-with-correct-blocked-uri.html: Added.
        * http/tests/security/contentSecurityPolicy/1.1/form-action-src-redirect-blocked-expected.txt:
        Update console logging to report the correct URL.

2021-11-04  Lauro Moura  <lmoura@igalia.com>

        [GLIB] Gardening some timeouts

        Unreviewed test gardening.

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:
        * platform/wpe/TestExpectations:

2021-11-04  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        Update global test expectations to skip more rvfc tests (and enable them only on Mac/iOS)
        https://bugs.webkit.org/show_bug.cgi?id=232719

        Unreviewed test gardening.

        * TestExpectations:
        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-11-04  Aditya Keerthi  <akeerthi@apple.com>

        Crash when opening and closing color picker while resetting form
        https://bugs.webkit.org/show_bug.cgi?id=232689
        rdar://84979791

        Reviewed by Simon Fraser.

        Added a layout test to exercise the crash.

        * fast/forms/color/color-input-reset-crash-expected.txt: Added.
        * fast/forms/color/color-input-reset-crash.html: Added.

2021-11-04  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for http/tests/appcache/fail-on-update-2.html.
        https://bugs.webkit.org/show_bug.cgi?id=225665.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-11-04  Mikhail R. Gadelha  <mikhail@igalia.com>

        Unskip tests disabled because of the recent 32 bits issues
        https://bugs.webkit.org/show_bug.cgi?id=230490

        Unreviewed gardening.

        * js/script-tests/reserved-words.js:
        * platform/glib/TestExpectations:

2021-11-03  Antoine Quint  <graouts@webkit.org>

        REGRESSION (r268932): CPU usage higher than expected with sibling elements running WebAnimations
        https://bugs.webkit.org/show_bug.cgi?id=228833
        <rdar://problem/81573075>

        Reviewed by Antti Koivisto.

        Add a new test that checks that accelerated animations on sibling elements do not yield style updates.

        * platform/win/TestExpectations:
        * webanimations/no-style-updates-for-animated-sibling-elements-accelerated-expected.txt: Added.
        * webanimations/no-style-updates-for-animated-sibling-elements-accelerated.html: Added.

2021-11-04  Martin Robinson  <mrobinson@webkit.org>

        implement transform: perspective(none)
        https://bugs.webkit.org/show_bug.cgi?id=231361
        <rdar://problem/84124161>

        Reviewed by Simon Fraser.

        * platform/glib/imported/w3c/web-platform-tests/css/css-transforms/animation/transform-interpolation-001-expected.txt:

2021-11-03  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test expectations and baselines. Unreviewed test gardening.
        https://bugs.webkit.org/show_bug.cgi?id=232683

        * platform/glib/TestExpectations:
        * platform/glib/http/tests/contentextensions/block-private-click-measurement-expected.txt:
        * platform/gtk/fast/dom/navigator-detached-no-crash-expected.txt:
        * platform/wpe/fast/dom/navigator-detached-no-crash-expected.txt:

2021-11-03  Alex Christensen  <achristensen@webkit.org>

        Remove QuickTimePluginReplacement and YouTubePluginReplacement
        https://bugs.webkit.org/show_bug.cgi?id=232400

        Reviewed by Chris Dumez.

        * security/contentSecurityPolicy/object-src-none-blocks-youtube-plugin-replacement-expected.txt: Removed.
        * security/contentSecurityPolicy/object-src-none-blocks-youtube-plugin-replacement.html: Removed.

2021-11-03  Nikos Mouchtaris  <nmouchtaris@apple.com>

        Add platform test expectations for imported/w3c/web-platform-tests/mathml/relations/html5-tree/dynamic-childlist-001.html
        https://bugs.webkit.org/show_bug.cgi?id=232504

        Reviewed by Myles Maxfield.
         
        Fix expectations for Big Sur wk1.

        * platform/glib/imported/w3c/web-platform-tests/mathml/relations/html5-tree/dynamic-childlist-001-expected.txt: Added.
        * platform/mac-bigsur/imported/w3c/web-platform-tests/mathml/relations/html5-tree/dynamic-childlist-001-expected.txt: Added.

2021-11-03  Rob Buis  <rbuis@igalia.com>

        Return nullopt in aspect-ratio+intrinsic width case
        https://bugs.webkit.org/show_bug.cgi?id=230769

        Reviewed by Javier Fernandez.

        * fast/css-grid-layout/aspect-ratio-auto-repeat-crash-expected.txt: Added.
        * fast/css-grid-layout/aspect-ratio-auto-repeat-crash.html: Added.

2021-11-03  Eric Hutchison  <ehutchison@apple.com>

        Rebaseline http/tests/privateClickMeasurement/attribution-conversion-through-fetch-keepalive.html.
        https://bugs.webkit.org/show_bug.cgi?id=231928.

        Unreviewed test gardening.

        * platform/ios/http/tests/privateClickMeasurement/attribution-conversion-through-fetch-keepalive-expected.txt:

2021-11-03  Devin Rousso  <drousso@apple.com>

        [Modern Media Controls] should show tracks button/menu for <audio>
        https://bugs.webkit.org/show_bug.cgi?id=232597

        Reviewed by Eric Carlson.

        * media/modern-media-controls/tracks-support/audio-multiple-tracks.html: Added.
        * media/modern-media-controls/tracks-support/audio-multiple-tracks-expected.txt: Added.
        * media/modern-media-controls/tracks-support/audio-single-track.html: Added.
        * media/modern-media-controls/tracks-support/audio-single-track-expected.txt: Added.

        * media/modern-media-controls/audio/audio-controls-buttons.html:
        * media/modern-media-controls/audio/audio-controls-buttons-expected.txt:

        * platform/ios-wk2/TestExpectations:

2021-11-03  Chris Dumez  <cdumez@apple.com>

        Javascript URLs do not run in the right context when using frame targeting
        https://bugs.webkit.org/show_bug.cgi?id=232382

        Reviewed by Alex Christensen.

        Add layout test coverage. I have verified that these tests are passing in both
        Chrome 94 and Firefox 94.

        * fast/frames/javascript-url-anchor-target-expected.txt: Added.
        * fast/frames/javascript-url-anchor-target-new-window-expected.txt: Added.
        * fast/frames/javascript-url-anchor-target-new-window.html: Added.
        * fast/frames/javascript-url-anchor-target.html: Added.
        * fast/frames/javascript-url-form-target-expected.txt: Added.
        * fast/frames/javascript-url-form-target-new-window-expected.txt: Added.
        * fast/frames/javascript-url-form-target-new-window.html: Added.
        * fast/frames/javascript-url-form-target.html: Added.

2021-11-03  Simon Fraser  <simon.fraser@apple.com>

        Expose fuzzy match data in layout test results
        https://bugs.webkit.org/show_bug.cgi?id=232523

        Reviewed by Jonathan Bedard.

        Add some "image_difference" values to the test JSON and update the resulting
        files.

        * fast/harness/full_results.json:
        * fast/harness/image-diff-template-expected.txt:
        * fast/harness/image-diff-template.html:
        * fast/harness/results.html:

2021-11-03  Jer Noble  <jer.noble@apple.com>

        [iOS] AVAssetResourceLoadingRequest.request does not include a Range: header on iOS 15.
        https://bugs.webkit.org/show_bug.cgi?id=232195
        <rdar://84574375>

        Reviewed by Darin Adler.

        The existing media-blocked-by-willsendrequest.html test only verified that file:// URLs were blocked,
        not http://, so this test is moved to the http/tests/ directory where media will use http:// for loading.

        * http/tests/media/media-blocked-by-willsendrequest-expected.txt: Renamed from LayoutTests/media/media-blocked-by-willsendrequest-expected.txt.
        * http/tests/media/media-blocked-by-willsendrequest.html: Renamed from LayoutTests/media/media-blocked-by-willsendrequest.html.
        * platform/mac/media/video-blob-request-contains-range-header.html:
        * platform/mac/media/video-blob-request-contains-range-header-expected.txt: Added.
        * platform/mac/media/video-blob-request-contains-range-header.html: Added.

2021-11-03  Tim Nguyen  <ntim@apple.com>

        Make render-layer-rebuild-z-order-lists.html use an HTML reference
        https://bugs.webkit.org/show_bug.cgi?id=232658

        Reviewed by Antti Koivisto.

        This not only tests the crash, but also tests that the dialog is rendered (which was not
        the case at the first iteration of the patch which introduced this test).

        Also done some minor cleanups to the test.

        * fast/layers/render-layer-rebuild-z-order-lists-expected.html: Added.
        * fast/layers/render-layer-rebuild-z-order-lists-expected.txt: Removed.
        * fast/layers/render-layer-rebuild-z-order-lists.html:

2021-11-03  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        REGRESSION(r284603) [GTK][WPE] test fast/frames/flattening/scrolling-in-object.html fails
        https://bugs.webkit.org/show_bug.cgi?id=232627

        Use UIHelper.waitForTargetScrollAnimationToSettle rather than a timeout to make the test reliable.

        Reviewed by Martin Robinson.

        * fast/frames/flattening/scrolling-in-object.html:

2021-11-02  Gabriel Nava Marino  <gnavamarino@apple.com>

        Crash in RenderLayer::rebuildZOrderLists
        https://bugs.webkit.org/show_bug.cgi?id=230229

        Reviewed by Simon Fraser.

        * fast/layers/render-layer-rebuild-z-order-lists-expected.txt: Added.
        * fast/layers/render-layer-rebuild-z-order-lists.html: Added.
        * platform/win/TestExpectations: Skip due to diag.showModal undefined in win.

2021-11-02  Robin Morisset  <rmorisset@apple.com>

        Regression (r284330): [ macOS wk1 Debug ] webaudio/AudioBuffer/huge-buffer.html is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=232244
        <rdar://problem/84616427>

        Reviewed by Yusuke Suzuki.

        * platform/mac-wk1/TestExpectations:

2021-11-02  Tyler Wilcock  <tyler_w@apple.com>

        AX: WebKit needs to include NSAccessibilityChildrenInNavigationOrderAttribute in accessibilityAttributeNames
        https://bugs.webkit.org/show_bug.cgi?id=232595

        Reviewed by Andres Gonzalez.

        This patch adds NSAccessibilityChildrenInNavigationOrderAttribute
        (a.k.a. AXChildrenInNavigationOrder) to
        WebAccessibilityObjectWrapperMac::accessibilityAttributeNames. The Mac
        wrapper supported this attribute prior to this patch, but we didn't
        advertise that we supported it because we didn't include it in our
        exported attribute names.

        * accessibility/image-link-expected.txt:
        * accessibility/image-map2-expected.txt:
        * accessibility/internal-link-anchors2-expected.txt:
        * accessibility/mac/aria-columnrowheaders-expected.txt:
        * accessibility/mac/bounds-for-range-expected.txt:
        * accessibility/mac/document-attributes-expected.txt:
        * accessibility/mac/document-links-expected.txt:
        * accessibility/mac/internal-link-anchors-expected.txt:
        * accessibility/math-multiscript-attributes-expected.txt:
        * accessibility/table-attributes-expected.txt:
        * accessibility/table-cell-spans-expected.txt:
        * accessibility/table-cells-expected.txt:
        * accessibility/table-detection-expected.txt:
        * accessibility/table-one-cell-expected.txt:
        * accessibility/table-sections-expected.txt:
        * accessibility/table-with-rules-expected.txt:
        * accessibility/transformed-element-expected.txt:
        * platform/mac/accessibility/lists-expected.txt:
        * platform/mac/accessibility/parent-delete-expected.txt:
        Add expected AXChildrenInNavigationOrder attribute output.

2021-11-02  Kate Cheney  <katherine_cheney@apple.com>

        Followup fix to https://bugs.webkit.org/show_bug.cgi?id=231928

        Unreviewed. Update test expectations now that we report HTTP status
        code in console messages.

        * http/tests/app-privacy-report/app-attribution-preflight-async-expected.txt:
        * http/tests/app-privacy-report/app-attribution-preflight-sync-expected.txt:
        * http/tests/app-privacy-report/user-attribution-preflight-async-expected.txt:
        * http/tests/app-privacy-report/user-attribution-preflight-sync-expected.txt:

2021-11-01  Michael Smith  <mike@w3.org>

        [WebInspector][CORS] Show HTTP status code in CORS messages.
        https://bugs.webkit.org/show_bug.cgi?id=231928

        Reviewed by Darin Adler

        Update tests with CORS messages, by adding the status code.

        * http/tests/eventsource/eventsource-cors-basic-expected.txt:
        * http/tests/loading/cross-origin-XHR-willLoadRequest-expected.txt:
        * http/tests/privateClickMeasurement/attribution-conversion-through-fetch-keepalive-expected.txt:
        * http/tests/security/cached-cross-origin-preloaded-css-stylesheet-expected.txt:
        * http/tests/security/cached-cross-origin-preloading-css-stylesheet-expected.txt:
        * http/tests/security/cannot-read-cssrules-expected.txt:
        * http/tests/security/cannot-read-cssrules-redirect-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/module-scriptnonce-redirect-expected.txt:
        * http/tests/security/cookie-module-import-propagate-expected.txt:
        * http/tests/security/cross-origin-cached-images-expected.txt:
        * http/tests/security/cross-origin-cached-resource-expected.txt:
        * http/tests/security/cross-origin-cached-scripts-expected.txt:
        * http/tests/security/cross-origin-cached-scripts-parallel-expected.txt:
        * http/tests/security/img-with-failed-cors-check-fails-to-load-expected.txt:
        * http/tests/security/import-module-crossorigin-loads-error-expected.txt:
        * http/tests/security/import-module-crossorigin-loads-error-src-expected.txt:
        * http/tests/security/import-script-crossorigin-loads-error-expected.txt:
        * http/tests/security/isolatedWorld/cross-origin-xhr-expected.txt:
        * http/tests/security/load-image-after-redirection-2-expected.txt:
        * http/tests/security/load-image-after-redirection-expected.txt:
        * http/tests/security/script-with-failed-cors-check-fails-to-load-expected.txt:
        * http/tests/security/shape-image-cors-redirect-error-message-logging-1-expected.txt:
        * http/tests/security/shape-image-cors-redirect-error-message-logging-2-expected.txt:
        * http/tests/security/shape-image-cors-redirect-error-message-logging-3-expected.txt:
        * http/tests/security/text-track-crossorigin-expected.txt:
        * http/tests/security/video-cross-origin-accessfailure-expected.txt:
        * http/tests/security/video-poster-cross-origin-crash-expected.txt:
        * http/tests/security/video-poster-cross-origin-crash2-expected.txt:
        * http/tests/subresource-integrity/sri-fetch-expected.txt:
        * http/tests/subresource-integrity/sri-fetch-worker-expected.txt:
        * http/tests/subresource-integrity/sri-module-expected.txt:
        * http/tests/subresource-integrity/sri-script-expected.txt:
        * http/tests/subresource-integrity/sri-style-expected.txt:
        * http/tests/workers/service/service-worker-crossorigin-fetch-expected.txt:
        * http/tests/workers/service/serviceworkerclients-claim.https-expected.txt:
        * http/tests/workers/service/shift-reload-navigation-expected.txt:
        * http/tests/xmlhttprequest/access-control-and-redirects-async-expected.txt:
        * http/tests/xmlhttprequest/access-control-and-redirects-expected.txt:
        * http/tests/xmlhttprequest/access-control-basic-denied-expected.txt:
        * http/tests/xmlhttprequest/access-control-basic-denied-preflight-cache-expected.txt:
        * http/tests/xmlhttprequest/access-control-basic-get-fail-non-simple-expected.txt:
        * http/tests/xmlhttprequest/access-control-basic-post-fail-non-simple-content-type-expected.txt:
        * http/tests/xmlhttprequest/access-control-preflight-async-not-supported-expected.txt:
        * http/tests/xmlhttprequest/access-control-preflight-not-successful-expected.txt:
        * http/tests/xmlhttprequest/access-control-preflight-sync-not-supported-expected.txt:
        * http/tests/xmlhttprequest/access-control-repeated-failed-preflight-crash-expected.txt:
        * http/tests/xmlhttprequest/access-control-sandboxed-iframe-denied-expected.txt:
        * http/tests/xmlhttprequest/access-control-sandboxed-iframe-denied-without-wildcard-expected.txt:
        * http/tests/xmlhttprequest/cross-origin-no-credential-prompt-expected.txt:
        * http/tests/xmlhttprequest/cross-site-denied-response-expected.txt:
        * http/tests/xmlhttprequest/cross-site-denied-response-sync-2-expected.txt:
        * http/tests/xmlhttprequest/cross-site-denied-response-sync-expected.txt:
        * http/tests/xmlhttprequest/onerror-event-expected.txt:
        * http/tests/xmlhttprequest/origin-allow-list-https-expected.txt:
        * http/tests/xmlhttprequest/origin-allow-list-ip-addresses-with-subdomains-expected.txt:
        * http/tests/xmlhttprequest/origin-allow-list-removal-expected.txt:
        * http/tests/xmlhttprequest/origin-exact-matching-expected.txt:
        * http/tests/xmlhttprequest/post-blob-content-type-async-expected.txt:
        * http/tests/xmlhttprequest/post-blob-content-type-sync-expected.txt:
        * http/tests/xmlhttprequest/redirect-cross-origin-2-expected.txt:
        * http/tests/xmlhttprequest/redirect-cross-origin-expected.txt:
        * http/tests/xmlhttprequest/redirect-cross-origin-post-expected.txt:
        * http/tests/xmlhttprequest/redirect-cross-origin-post-sync-expected.txt:
        * http/tests/xmlhttprequest/redirect-cross-origin-sync-expected.txt:
        * http/tests/xmlhttprequest/redirect-cross-origin-tripmine-expected.txt:
        * http/tests/xmlhttprequest/simple-cross-origin-denied-events-expected.txt:
        * http/tests/xmlhttprequest/simple-cross-origin-denied-events-post-expected.txt:
        * http/tests/xmlhttprequest/simple-cross-origin-denied-events-post-sync-expected.txt:
        * http/tests/xmlhttprequest/simple-cross-origin-denied-events-sync-expected.txt:
        * http/tests/xmlhttprequest/simple-cross-origin-progress-events-expected.txt:
        * http/tests/xmlhttprequest/upload-request-error-event-order-expected.txt:
        * http/tests/xmlhttprequest/workers/access-control-basic-get-fail-non-simple-expected.txt:
        * http/tests/xmlhttprequest/xmlhttprequest-sync-no-progress-events-expected.txt:
        * http/tests/xmlhttprequest/xmlhttprequest-unsafe-redirect-expected.txt:
        * http/wpt/resource-timing/rt-resource-errors-expected.txt:
        * http/wpt/webaudio/audioworklet-addModule-cors.sub.https-expected.txt:
        * platform/glib/http/tests/xmlhttprequest/simple-cross-origin-denied-events-post-expected.txt:
        * platform/gtk/http/tests/security/video-cross-origin-accessfailure-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/fetch/api/cors/cors-basic-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/fetch/api/cors/cors-basic-worker-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/fetch/api/cors/cors-origin-worker-expected.txt:
        * platform/ios/http/tests/privateClickMeasurement/attribution-conversion-through-fetch-keepalive-expected.txt:
        * platform/mac-wk1/http/tests/xmlhttprequest/access-control-and-redirects-expected.txt:
        * platform/mac-wk1/http/tests/xmlhttprequest/access-control-preflight-not-successful-expected.txt:
        * platform/mac-wk1/http/tests/xmlhttprequest/post-blob-content-type-async-expected.txt:
        * platform/mac-wk1/http/tests/xmlhttprequest/post-blob-content-type-sync-expected.txt:
        * platform/mac-wk1/http/tests/xmlhttprequest/redirect-cross-origin-post-expected.txt:
        * platform/mac-wk1/http/tests/xmlhttprequest/redirect-cross-origin-tripmine-expected.txt:
        * platform/mac-wk1/http/tests/xmlhttprequest/simple-cross-origin-denied-events-post-expected.txt:
        * platform/mac-wk1/http/tests/xmlhttprequest/xmlhttprequest-unsafe-redirect-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/html/cross-origin-embedder-policy/none-sw-from-none.https-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/html/cross-origin-embedder-policy/none-sw-from-require-corp.https-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/html/cross-origin-embedder-policy/require-corp-sw-from-none.https-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/html/cross-origin-embedder-policy/require-corp-sw-from-require-corp.https-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/fetch/api/cors/cors-basic-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/fetch/api/cors/cors-basic-worker-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/fetch/api/cors/cors-origin-worker-expected.txt:
        * platform/win/http/tests/xmlhttprequest/access-control-and-redirects-async-expected.txt:
        * platform/win/http/tests/xmlhttprequest/access-control-and-redirects-expected.txt:
        * platform/win/http/tests/xmlhttprequest/access-control-preflight-not-successful-expected.txt:
        * platform/win/http/tests/xmlhttprequest/redirect-cross-origin-post-expected.txt:
        * platform/win/http/tests/xmlhttprequest/redirect-cross-origin-tripmine-expected.txt:
        * platform/win/http/tests/xmlhttprequest/simple-cross-origin-denied-events-post-expected.txt:
        * platform/win/http/tests/xmlhttprequest/xmlhttprequest-unsafe-redirect-expected.txt:
        * platform/wincairo-wk1/http/tests/xmlhttprequest/redirect-cross-origin-post-expected.txt:
        * platform/wincairo-wk1/http/tests/xmlhttprequest/simple-cross-origin-denied-events-post-expected.txt:
        * platform/wincairo/http/tests/xmlhttprequest/xmlhttprequest-unsafe-redirect-expected.txt:

2021-11-01  Eric Hutchison  <ehutchison@apple.com>

        [ Catalina Debug wk1 EWS-only ] media/track/track-element-load-event.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=232585.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-11-01  Nikos Mouchtaris  <nmouchtaris@apple.com>

        Add platform test expectations for imported/w3c/web-platform-tests/mathml/relations/html5-tree/dynamic-childlist-001.html
        https://bugs.webkit.org/show_bug.cgi?id=232504

        Reviewed by Myles C. Maxfield.

        * platform/ios-simulator-wk2/TestExpectations:
        * platform/ios-wk2/TestExpectations:
        * platform/mac-bigsur/imported/w3c/web-platform-tests/mathml/relations/html5-tree/dynamic-childlist-001-expected.txt: Added.
        * platform/mac/TestExpectations:

2021-11-01  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS Debug ] http/wpt/push-api tests are flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=232570

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-11-01  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] fast/events/ios/viewport-device-width-allows-double-tap-zoom-out.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=232568

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-11-01  Chris Dumez  <cdumez@apple.com>

        REGRESSION (r283935): fast/css/style-element-process-crash.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=232456
        <rdar://problem/84779240>

        Reviewed by Wenson Hsieh.

        After r283935, focus may happen asynchronously when using autofocus. As a result, we need to
        update the test to use waitUntilDone() / notifyDone().

        * fast/css/style-element-process-crash.html:
        * platform/ios-wk2/TestExpectations:

2021-10-31  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo/TestExpectations:
        * platform/wincairo/editing/selection/3690703-2-expected.txt:
        * platform/wincairo/editing/selection/3690703-expected.txt:
        * platform/wincairo/editing/selection/3690719-expected.txt:

2021-10-30  Wenson Hsieh  <wenson_hsieh@apple.com>

        Layer tree should not be stuck in frozen state after explicitly stopping a page load
        https://bugs.webkit.org/show_bug.cgi?id=232532
        rdar://84522357

        Reviewed by Tim Horton.

        Add a test that verifies that a `requestAnimationFrame()` callback fires even after stopping page load. This
        test fails without the fix in this patch, since the layer tree ends up in a permanently frozen state.

        * http/tests/navigation/unfreeze-layer-tree-after-stopping-load-expected.txt: Added.
        * http/tests/navigation/unfreeze-layer-tree-after-stopping-load.html: Added.

2021-10-30  Myles C. Maxfield  <mmaxfield@apple.com>

        [GPU Process] Small ImageBuffers cause the web process to crash
        https://bugs.webkit.org/show_bug.cgi?id=232470
        <rdar://problem/84626560>

        Reviewed by Tim Horton.

        * compositing/device-pixel-image-buffer-hidpi-expected.html: Added.
        * compositing/device-pixel-image-buffer-hidpi.html: Added.

2021-10-30  Chris Dumez  <cdumez@apple.com>

        [ BigSur wk2 Debug arm64 ] webaudio/AudioBufferSource/audiobuffersource-playbackrate.html is a flaky crash
        https://bugs.webkit.org/show_bug.cgi?id=232500
        <rdar://problem/84816843>

        Reviewed by Eric Carlson.

        Unskip test that is no longer crashing.

        * platform/mac-wk2/TestExpectations:

2021-10-30  Brandon Stewart  <brandonstewart@apple.com>

        Selection extend() should trigger exception with no ranges
        https://bugs.webkit.org/show_bug.cgi?id=232420

        Reviewed by Chris Dumez.

        Resolve errors in test cases introduced by new exception being thrown by extend()
        when no ranges are present.

        * editing/execCommand/null_calc_primitive_value_for_css_property.html:
        * editing/execCommand/transpose-backslash-with-euc.html:
        * editing/inserting/insert-html-crash-02.html:
        * editing/selection/DOMSelection-crossing-document-expected.txt:
        * editing/selection/DOMSelection-crossing-document.html:

2021-10-29  Lauro Moura  <lmoura@igalia.com>

        [GLIB] Gardening timeouts affected by xhtml mimetype misdetection

        Unreviewed test gardening.

        * platform/glib/TestExpectations:

2021-10-29  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GTK] Layout Tests for experimental <attachment> element are failing since added
        https://bugs.webkit.org/show_bug.cgi?id=141699

        Mark the tests that rely on the attachment element as skipped for
        glib platforms, as it is not standard nor supported on that platform.

        Unreviewed test gardening.

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:
        * platform/wpe/TestExpectations:

2021-10-29  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS macOS ] imported/w3c/web-platform-tests/css/css-sizing/aspect-ratio/flex-aspect-ratio-021.html and flex-aspect-ratio-022.html are failing after reverting r284440, r284397, and r284359.
        https://bugs.webkit.org/show_bug.cgi?id=232518

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-10-29  Yusuke Suzuki  <ysuzuki@apple.com>

        Unreviewed, revert r284440, r284397, r284359

        * TestExpectations:

2021-10-29  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur wk1 Debug arm64 ] inspector/audit/run-accessibility.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=232322

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-10-29  Eric Hutchison  <ehutchison@apple.com>

        [ BigSur wk2 Debug arm64 ] webaudio/AudioBufferSource/audiobuffersource-playbackrate.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=232500.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-10-29  Sihui Liu  <sihui_liu@apple.com>

        Release FileSystemStorageHandle when it is not in use
        https://bugs.webkit.org/show_bug.cgi?id=232363

        Reviewed by Youenn Fablet.

        * storage/filesystemaccess/resources/sync-access-handle-basics.js:
        (getDirectory): clean up existing file before test.

2021-10-29  Ayumi Kojima  <ayumi_kojima@apple.com>

        Layout test http/tests/websocket/tests/hybi/send-object-tostring-check.html is flaky.
        https://bugs.webkit.org/show_bug.cgi?id=176030

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-29  Eric Hutchison  <ehutchison@apple.com>

        [ BigSur Debug wk2 arm64 EWS-only ] media/media-source/media-source-istypesupported-case-sensitive.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=232497.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-10-29  Eric Hutchison  <ehutchison@apple.com>

        [ BigSur Debug wk2 arm64 EWS ] webrtc/video-receivers.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=232492.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-10-29  Aditya Keerthi  <akeerthi@apple.com>

        REGRESSION (r283269) disneyplus.com time remaining bar shows an extra line/bar
        https://bugs.webkit.org/show_bug.cgi?id=232461
        rdar://84561981

        Reviewed by Antti Koivisto.

        Added a ref test to verify that the native progress bar is not drawn
        when a <progress> element has custom styling.

        Thanks to Antti Koivisto for the reduction leading to this test case.

        * fast/dom/HTMLProgressElement/progress-element-styled-drop-appearance-expected.html: Added.
        * fast/dom/HTMLProgressElement/progress-element-styled-drop-appearance.html: Added.

2021-10-29  Antti Koivisto  <antti@apple.com>

        Make :-webkit-any() a synonym of :is()
        https://bugs.webkit.org/show_bug.cgi?id=232482

        Reviewed by Simon Fraser.

        * fast/css/pseudo-any-expected.txt:
        * fast/css/pseudo-any.html:
        * fast/dom/SelectorAPI/not-supported-namespace-in-selector-expected.txt:
        * fast/dom/SelectorAPI/not-supported-namespace-in-selector.html:
        * fast/selectors/invalid-functional-pseudo-class-expected.txt:
        * fast/selectors/invalid-functional-pseudo-class.html:

2021-10-29  Ayumi Kojima  <ayumi_kojima@apple.com>

        Unreviewed, reverting r285007.

        Reverting r285007 because it caused storage/filesystemaccess
        /sync-access-handle-basics-worker.html to constantly fail.

        Reverted changeset:

        "Release FileSystemStorageHandle when it is not in use"
        https://bugs.webkit.org/show_bug.cgi?id=232363
        https://commits.webkit.org/r285007

2021-10-29  Martin Robinson  <mrobinson@webkit.org>

        opacity should flatten when combined with transform-style: preserve-3d
        https://bugs.webkit.org/show_bug.cgi?id=73267

        Reviewed by Simon Fraser.

        * compositing/geometry/preserve-3d-switching-expected.txt:
        * platform/ios/compositing/geometry/preserve-3d-switching-expected.txt:

2021-10-28  Gabriel Nava Marino  <gnavamarino@apple.com>

        Add an additional edge case for surrogate pairs to existing tests.
        https://bugs.webkit.org/show_bug.cgi?id=232053

        Reviewed by Alan Bujtas.

        * fast/text/word-break-column-gap-display-flex-utf16-surrogates-expected.txt:
        * fast/text/word-break-column-gap-display-flex-utf16-surrogates.html:
        * fast/text/word-break-letter-spacing-utf16-surrogates-expected.txt:
        * fast/text/word-break-letter-spacing-utf16-surrogates.html:
        * fast/text/word-break-max-width-utf16-surrogates-expected.txt:
        * fast/text/word-break-max-width-utf16-surrogates.html:

2021-10-28  Nikos Mouchtaris  <nmouchtaris@apple.com>

        if border-radius includes a var(), the value is not readable from .style
        https://bugs.webkit.org/show_bug.cgi?id=230389

        Reviewed by Myles Maxfield.

        * css3/short-hand-var-serialization-expected.txt: Added.
        * css3/short-hand-var-serialization.html: Added.

2021-10-28  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test baselines. Unreviewed test gardening.
        https://bugs.webkit.org/show_bug.cgi?id=232464

        * platform/glib/fast/block/positioning/062-expected.txt: Added.
        * platform/glib/fast/block/positioning/replaced-inside-fixed-top-bottom-expected.txt: Added.
        * platform/glib/fast/layers/opacity-stacking-expected.txt: Added.
        * platform/glib/fast/multicol/svg-content-as-column-spanner-crash-expected.txt: Added.
        * platform/glib/fast/repaint/overflow-into-content-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/focus-after-close-expected.txt:
        * platform/glib/imported/w3c/web-platform-tests/media-capabilities/decodingInfo.webrtc-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/media-capabilities/encodingInfo.webrtc-expected.txt: Added.
        * platform/gtk/css1/text_properties/vertical_align-expected.txt:
        * platform/gtk/css2.1/t100801-c544-valgn-00-a-ag-expected.txt:
        * platform/gtk/editing/selection/3690703-2-expected.txt:
        * platform/gtk/editing/selection/3690703-expected.txt:
        * platform/gtk/editing/selection/3690719-expected.txt:
        * platform/gtk/fast/block/float/multiple-float-positioning-expected.txt:
        * platform/gtk/fast/block/margin-collapse/101-expected.txt:
        * platform/gtk/fast/block/margin-collapse/103-expected.txt:
        * platform/gtk/fast/text/updateNewFont-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/html/dom/reflection-forms-expected.txt:

2021-10-28  Myles C. Maxfield  <mmaxfield@apple.com>

        The space glyph in the Filicudi font is not substituted by shaping in the complex text codepath, thereby breaking the visual effect of the font
        https://bugs.webkit.org/show_bug.cgi?id=232293

        Reviewed by Darin Adler.

        Big thanks to Ulrike Rausch and Frank Grießhammer for contributing the test font!!!

        * fast/text/complex-space-glyph-expected.html: Added.
        * fast/text/complex-space-glyph.html: Added.
        * fast/text/resources/Filicudi Dummy BSD2/FilicudiDummy-Barber.otf: Added.
        * fast/text/resources/Filicudi Dummy BSD2/LICENSE.txt: Added.
        * fast/text/resources/Filicudi Dummy BSD2/README.md: Added.
        * fast/text/resources/Filicudi Dummy BSD2/color.html: Added.

2021-10-28  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur wk1 ] webgl/1.0.3/conformance/uniforms/uniform-default-values.html is flaky timing out.
        https://bugs.webkit.org/show_bug.cgi?id=231514

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-28  Sihui Liu  <sihui_liu@apple.com>

        Release FileSystemStorageHandle when it is not in use
        https://bugs.webkit.org/show_bug.cgi?id=232363

        Reviewed by Youenn Fablet.

        * storage/filesystemaccess/resources/sync-access-handle-basics.js:
        (getDirectory): clean up existing file before test.

2021-10-28  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS Debug ] fast/selectors/ backtracking tests are timing out.
        https://bugs.webkit.org/show_bug.cgi?id=230988

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-10-28  Eric Hutchison  <ehutchison@apple.com>

        [ iOS15 Sim ] fast/css/style-element-process-crash.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=232456.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-28  Alex Christensen  <achristensen@webkit.org>

        Disable NETSCAPE_PLUGIN_API at build time on macOS and Windows
        https://bugs.webkit.org/show_bug.cgi?id=232396

        Reviewed by Geoff Garen.

        * TestExpectations:
        * fast/frames/sandboxed-iframe-plugins-expected.txt:
        * fast/frames/sandboxed-iframe-plugins.html:
        * http/tests/contentextensions/plugin-doesnt-crash-expected.txt: Removed.
        * http/tests/contentextensions/plugin-doesnt-crash.html: Removed.
        * http/tests/contentextensions/plugin-doesnt-crash.html.json: Removed.
        * http/tests/security/frameNavigation/xss-DENIED-plugin-navigation-expected.txt: Removed.
        * http/tests/security/frameNavigation/xss-DENIED-plugin-navigation.html: Removed.
        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:
        * platform/ios/TestExpectations:
        * platform/mac-wk1/fast/dom/collection-iterators-expected.txt: Added.
        * platform/mac-wk2/TestExpectations:
        * platform/mac-wk2/plugins/contents-scale-factor-expected.txt:
        * platform/mac-wk2/plugins/contents-scale-factor.html:
        * platform/mac/TestExpectations:
        * platform/win/TestExpectations:
        * platform/wk2/TestExpectations:
        * platform/wpe/TestExpectations:
        * tiled-drawing/scrolling/non-fast-region/wheel-event-plugin-expected.txt: Removed.
        * tiled-drawing/scrolling/non-fast-region/wheel-event-plugin.html: Removed.

2021-10-28  Nikolaos Mouchtaris  <nmouchtaris@apple.com>

        [Debug] imported/w3c/web-platform-tests/html/canvas/element/path-objects/2d.path.ellipse.basics.html is asserting
        https://bugs.webkit.org/show_bug.cgi?id=218671

        Reviewed by Simon Fraser.

        * TestExpectations:

2021-10-28  Eric Hutchison  <ehutchison@apple.com>

        [ Catalina Debug wk1 EWS ] media/track/track-element-dom-change-crash.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=232446.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-10-28  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ macOS Debug] Layout Test fast/selectors/matches-backtracking.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=197068

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-10-28  Tim Horton  <timothy_horton@apple.com>

        DOM GPUP: Yahoo.com has fragments of wrongly-scaled content throughout
        https://bugs.webkit.org/show_bug.cgi?id=232356
        <rdar://83884813>

        Reviewed by Simon Fraser.

        * fast/transforms/interleaved-2d-transforms-with-gpu-process-expected.html: Added.
        * fast/transforms/interleaved-2d-transforms-with-gpu-process.html: Added.

2021-10-28  Aditya Keerthi  <akeerthi@apple.com>

        REGRESSION (r282451): [iOS] Cannot override background of search inputs with 'appearance: textfield'
        https://bugs.webkit.org/show_bug.cgi?id=231503
        rdar://84110684

        Reviewed by Wenson Hsieh.

        * fast/forms/ios/form-control-refresh/search/textfield-appearance-background-styled-expected.txt: Added.
        * fast/forms/ios/form-control-refresh/search/textfield-appearance-background-styled.html: Added.

2021-10-28  Youenn Fablet  <youenn@apple.com>

        [ Mac wk1 ] 2 media-capabilities/webrtc tests are flaky failures
        https://bugs.webkit.org/show_bug.cgi?id=232283
        <rdar://problem/84637007>

        Reviewed by Eric Carlson.

        * platform/mac-wk1/TestExpectations:

2021-10-28  Antti Koivisto  <antti@apple.com>

        Support ::before and ::after pseudo elements after ::slotted
        https://bugs.webkit.org/show_bug.cgi?id=178237

        Reviewed by Ryosuke Niwa.

        * TestExpectations:

2021-10-28  Carlos Garcia Campos  <cgarcia@igalia.com>

        AX: AXValueChanged is only sent for range elements when value is changed with the keyboard
        https://bugs.webkit.org/show_bug.cgi?id=232298
        <rdar://problem/84653767>

        Reviewed by Andres Gonzalez.

        Update the mac test for slider indicator and add a new one for gtk port.

        * accessibility/gtk/html-slider-indicator-expected.txt: Added.
        * accessibility/gtk/html-slider-indicator.html: Added.
        * accessibility/mac/html-slider-indicator-expected.txt:
        * accessibility/mac/html-slider-indicator.html:

2021-10-28  Youenn Fablet  <youenn@apple.com>

        Fetch API: Network process leaks when blobs are unused
        https://bugs.webkit.org/show_bug.cgi?id=232371
        <rdar://problem/84704184>

        Reviewed by Geoffrey Garen.

        * http/wpt/fetch/blob-gc-expected.txt: Added.
        * http/wpt/fetch/blob-gc.html: Added.

2021-10-27  Gabriel Nava Marino  <gnavamarino@apple.com>

        Assertions in findFirstSlotElement hit when removing two slots with the same name in a single shadow tree
        https://bugs.webkit.org/show_bug.cgi?id=232409

        Reviewed by Ryosuke Niwa.

        * fast/shadow-dom/slot-removal-same-name-expected.txt: Added.
        * fast/shadow-dom/slot-removal-same-name.html: Added.

2021-10-27  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] imported/blink/compositing/video/video-controls-layer-creation-squashing.html is a flaky crash/timeout.
        https://bugs.webkit.org/show_bug.cgi?id=232412

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-27  Chris Dumez  <cdumez@apple.com>

        Disable relaxation of BroadcastChannel origin partitioning based on storage access
        https://bugs.webkit.org/show_bug.cgi?id=232401

        Reviewed by John Wilander.

        Dropt test added in r282366.

        * http/tests/messaging/broadcastchannel-partitioning-with-storage-access-expected.txt: Removed.
        * http/tests/messaging/broadcastchannel-partitioning-with-storage-access.html: Removed.
        * http/tests/messaging/resources/broadcastchannel-partitioning-with-storage-access-iframe.html: Removed.
        * http/tests/messaging/resources/broadcastchannel-partitioning-with-storage-access-popup.html: Removed.
        * platform/mac-wk1/TestExpectations:
        * platform/win/TestExpectations:

2021-10-27  Chris Dumez  <cdumez@apple.com>

        autofocus IDL attribute should be exposed on all HTML or SVG elements
        https://bugs.webkit.org/show_bug.cgi?id=232349

        Reviewed by Darin Adler.

        Rebaseline some WPT tests now that more checks are passing.

        * inspector/model/remote-object/dom-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/dom/reflection-embedded-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/dom/reflection-forms-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/dom/reflection-misc-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/dom/reflection-forms-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/dom/reflection-misc-expected.txt:
        * platform/mac/imported/w3c/web-platform-tests/html/dom/reflection-forms-expected.txt:

2021-10-27  Kate Cheney  <katherine_cheney@apple.com>

        REGRESSION (r284650-284661): [iOS15 Sim] imported/w3c/web-platform-tests/content-security-policy/script-src/script-src-multiple-policies-multiple-hashing-algorithms.html is a text failure
        https://bugs.webkit.org/show_bug.cgi?id=232120
        <rdar://problem/84529888>

        Reviewed by Brent Fulgham.

        * platform/ios-wk2/TestExpectations:

2021-10-27  Simon Fraser  <simon.fraser@apple.com>

        Preserve image diff precision until display time
        https://bugs.webkit.org/show_bug.cgi?id=232365

        Reviewed by Martin Robinson.

        * fast/harness/full_results.json:
        * fast/harness/results-expected.txt:
        * fast/harness/results.html:

2021-10-27  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Remove tests that now pass from test expectations. Unreviewed test gardening.
        https://bugs.webkit.org/show_bug.cgi?id=232395

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:

2021-10-27  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test expectations for regressions from r284521. Unreviewed test gardening.
        https://bugs.webkit.org/show_bug.cgi?id=232393

        * platform/glib/TestExpectations:

2021-10-27  Chris Dumez  <cdumez@apple.com>

        [ iOS Release GPUProcess ] fast/forms/form-submission-crash-3.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=232312
        <rdar://problem/84667412>

        Reviewed by Alex Christensen.

        Make sure the focus event has fired before calling finishJSTest since it changes the
        output of the test.

        * fast/forms/form-submission-crash-3.html:

2021-10-27  Eric Hutchison  <ehutchison@apple.com>

        Fix test expectations for imported/w3c/web-platform-tests/html/cross-origin-opener-policy/reporting/navigation-reporting/reporting-coop-navigated-opener.https.html to include DumpJSConsoleLogInStdErr.
        https://bugs.webkit.org/show_bug.cgi?id=232337.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-10-27  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS macOS Debug ] imported/w3c/web-platform-tests/html/dom/idlharness.worker.html is a flaky failure.
        https://trac.webkit.org/changeset/284727/webkit

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-10-27  Martin Robinson  <mrobinson@webkit.org>

        Mark some WPT transforms tests as passing
        https://bugs.webkit.org/show_bug.cgi?id=232377

        Unreviewed.

        * TestExpectations: Mark tests as passing.

2021-10-27  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test expectations. Unreviewed test gardening.
        https://bugs.webkit.org/show_bug.cgi?id=232364

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:

2021-10-27  Antti Koivisto  <antti@apple.com>

        [ iOS ] imported/w3c/web-platform-tests/css/css-shadow-parts/invalidation-part-pseudo.html is failing
        https://bugs.webkit.org/show_bug.cgi?id=232343
        <rdar://problem/84684454>

       Unreviewed test gardening.

        * platform/ios/TestExpectations:

2021-10-26  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur wk2 Debug arm64 ] inspector/audit/run-accessibility.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=232322

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-10-26  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iPad ]Rebaselining compositing/contents-format/deep-color-backing-store.html.
        https://bugs.webkit.org/show_bug.cgi?id=232351

        Unreviewed test gardening.

        * platform/ipad/compositing/contents-format/deep-color-backing-store-expected.txt: Added.

2021-10-26  Eric Hutchison  <ehutchison@apple.com>

        N[ Mac Debug iOS Release wk2 ] imported/w3c/web-platform-tests/html/cross-origin-opener-policy/reporting/navigation-reporting/reporting-coop-navigated-opener.https.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=232337.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-10-26  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS Debug ] imported/w3c/web-platform-tests/html/dom/idlharness.worker.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231030

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-10-26  Chris Dumez  <cdumez@apple.com>

        Changing the src attribute of the <img> element inside an ImageDocument does not trigger a load
        https://bugs.webkit.org/show_bug.cgi?id=232323

        Reviewed by Alex Christensen.

        Unskip test that is no longer timing out.

        * TestExpectations:

2021-10-26  John Wilander  <wilander@apple.com>

        [ iOS 15 ] ASSERTION FAILED: isRunningTest(WebCore::applicationBundleIdentifier())
        https://bugs.webkit.org/show_bug.cgi?id=231255

        Kate's fix in https://commits.webkit.org/r284897 should now have removed the
        cause of these assertion failures.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
            Removed test expectation that was added in https://trac.webkit.org/changeset/284881/webkit

2021-10-26  Chris Dumez  <cdumez@apple.com>

        error event should be fired at <style> element when @import rule fails parsing due to MIME type
        https://bugs.webkit.org/show_bug.cgi?id=232313

        Reviewed by Darin Adler.

        Unskip test that no longer times out.

        * TestExpectations:

2021-10-26  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ macOS Debug ] compositing/video/video-reflection.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=232330

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-10-26  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ macOS ] imported/w3c/web-platform-tests/hr-time/basic.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=232316

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-10-26  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur wk2 Debug arm64 ] inspector/audit/run-accessibility.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=232322

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-10-26  Chris Dumez  <cdumez@apple.com>

        <link> elements should be able to fire more than one load / error event
        https://bugs.webkit.org/show_bug.cgi?id=232309

        Reviewed by Darin Adler.

        Unskip tests that are no longer timing out.

        * TestExpectations:

2021-10-26  Eric Hutchison  <ehutchison@apple.com>

        [ Windows EWS ] imported/mozilla/svg/viewBox-and-pattern-03.svg is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=232321.

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-10-26  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for http/tests/privateClickMeasurement/attribution-conversion-through-cross-site-image-redirect.html.
        https://bugs.webkit.org/show_bug.cgi?id=231255.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-26  Eric Hutchison  <ehutchison@apple.com>

        [ Windows ] fast/ruby/before-block-doesnt-crash.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=232319.

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-10-26  Eric Hutchison  <ehutchison@apple.com>

        [ Windows EWS ] js/function-apply-aliased.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=232317.

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-10-26  Eric Hutchison  <ehutchison@apple.com>

        [ Catalina Debug wk1 EWS ] media/track/track-disabled.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=232315.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-10-26  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS Release ] fast/flexbox/aspect-ratio-intrinsic-adjust.html is a flaky image failure.
        https://bugs.webkit.org/show_bug.cgi?id=232310

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-26  Chris Dumez  <cdumez@apple.com>

        Regression (r284821) : [ iOS 15 ] fast/events/ios/submit-form-target-blank-using-return-key.html is a timeout
        https://bugs.webkit.org/show_bug.cgi?id=232306
        <rdar://problem/84664487>

        Unreviewed, add rel="opener" to the form since it has target="_blank" and the test still expects an
        opener.

        * fast/events/ios/submit-form-target-blank-using-return-key.html:

2021-10-26  Gabriel Nava Marino  <gnavamarino@apple.com>

        ASSERT(parent->element()) triggered in Styleable::fromRenderer
        https://bugs.webkit.org/show_bug.cgi?id=232185

        Reviewed by Tim Nguyen and Antti Koivisto.

        * fast/animation/css-animation-marker-crash-expected.txt: Added.
        * fast/animation/css-animation-marker-crash.html: Added.

2021-10-26  Martin Robinson  <mrobinson@webkit.org>

        Update import of css/css-transform WPT tests
        https://bugs.webkit.org/show_bug.cgi?id=231799

        Reviewed by Simon Fraser.

        * TestExpectations: Mark some tests as newly passing.
        * platform/glib/imported/w3c/web-platform-tests/css/css-transforms/animation/transform-interpolation-computed-value-expected.txt:
        * tests-options.json:

2021-10-26  Philippe Normand  <pnormand@igalia.com>

        REGRESSION(242280@main) fast/mediastream/captureStream/canvas3d.html is timing out
        https://bugs.webkit.org/show_bug.cgi?id=231061
        <rdar://problem/84012523>

        Reviewed by Xabier Rodriguez-Calvar.

        * platform/glib/TestExpectations: Test is passing now. Unflag.

2021-10-26  Antti Koivisto  <antti@apple.com>

        Fix ::part(foo):hover
        https://bugs.webkit.org/show_bug.cgi?id=232301

        Reviewed by Alan Bujtas.

        * TestExpectations:

2021-10-26  Antti Koivisto  <antti@apple.com>

        [CSS Cascade Layers] Media queries should be able to affect layer order
        https://bugs.webkit.org/show_bug.cgi?id=232238

        Reviewed by Simon Fraser.

        * TestExpectations:

2021-10-25  Ryan Haddad  <ryanhaddad@apple.com>

        Change default iOS simulator to one with a larger screen size
        https://bugs.webkit.org/show_bug.cgi?id=231844

        Reviewed by Jonathan Bedard.

        * platform/ios-wk2/TestExpectations:
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt: Removed.
        * platform/ios/compositing/backing/page-scale-overlap-in-iframe-expected.txt: Renamed from LayoutTests/platform/ios-wk2/compositing/backing/page-scale-overlap-in-iframe-expected.txt.
        * platform/ios/compositing/contents-format/deep-color-backing-store-expected.txt: Added.
        * platform/ios/fast/events/ios/keyboard-scrolling-distance-expected.txt: Added.
        * platform/ios/fast/events/ios/keyboard-should-not-trigger-resize-expected.txt: Added.
        * platform/ios/fast/events/ios/rotation/zz-no-rotation-expected.txt: Added.
        * platform/ios/fast/forms/ios/accessory-bar-navigation-expected.txt: Added.
        * platform/ios/fast/forms/ios/focus-input-in-fixed-expected.txt: Added.
        * platform/ios/fast/forms/ios/focus-input-in-iframe-expected.txt: Added.
        * platform/ios/fast/forms/ios/focus-input-via-button-expected.txt: Added.
        * platform/ios/fast/forms/ios/focus-input-via-button-no-scaling-expected.txt: Added.
        * platform/ios/fast/forms/ios/focus-long-textarea-expected.txt: Added.
        * platform/ios/fast/forms/ios/zoom-after-input-tap-expected.txt: Added.
        * platform/ios/fast/forms/ios/zoom-after-input-tap-wide-input-expected.txt: Added.
        * platform/ios/fast/scrolling/ios/clipping-ancestor-with-accelerated-scrolling-ancestor-expected.txt:
        * platform/ios/fast/scrolling/ios/overflow-scrolling-ancestor-clip-expected.txt:
        * platform/ios/fast/scrolling/ios/overflow-scrolling-ancestor-clip-size-expected.txt:
        * platform/ios/fast/scrolling/ios/scrolling-content-clip-to-viewport-expected.txt:
        * platform/ios/fast/scrolling/ios/subpixel-overflow-scrolling-with-ancestor-expected.txt: Copied from LayoutTests/platform/ios/fast/scrolling/ios/overflow-scrolling-ancestor-clip-expected.txt.
        * platform/ios/fast/scrolling/ios/touch-stacking-expected.txt:
        * platform/ios/fast/viewport/ios/device-width-viewport-after-changing-view-scale-expected.txt: Added.
        * platform/ios/fast/viewport/ios/non-responsive-viewport-after-changing-view-scale-expected.txt: Added.
        * platform/ios/fast/viewport/ios/responsive-viewport-with-minimum-width-after-changing-view-scale-expected.txt: Added.
        * platform/ios/fast/viewport/ios/shrink-to-fit-for-page-without-viewport-meta-expected.txt: Added.
        * platform/ios/fast/viewport/ios/use-minimum-device-width-for-page-without-viewport-meta-expected.txt: Added.
        * platform/ios/fast/viewport/ios/width-is-device-width-expected.txt: Added.
        * platform/ios/fast/viewport/ios/width-is-device-width-overflowing-body-overflow-hidden-expected.txt: Added.
        * platform/ios/fast/viewport/ios/width-is-device-width-overflowing-body-overflow-hidden-tall-expected.txt: Added.
        * platform/ios/fast/viewport/ios/width-is-device-width-overflowing-expected.txt: Added.
        * platform/ios/fast/viewport/ios/width-is-device-width-overflowing-no-shrink-to-fit-expected.txt: Added.
        * platform/ios/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/ios/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt: Renamed from LayoutTests/platform/ios-wk2/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt.
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-form-submission-expected.txt:
        * platform/ios/scrollingcoordinator/ios/fixed-in-frame-layer-reconcile-layer-position-expected.txt: Added.
        * platform/ios/scrollingcoordinator/ios/fixed-in-overflow-scroll-scrolling-tree-expected.txt: Added.
        * platform/ios/scrollingcoordinator/ios/fixed-scrolling-with-keyboard-expected.txt: Added.
        * platform/ios/scrollingcoordinator/ios/ui-scrolling-tree-expected.txt: Added.

2021-10-25  Kyle Piddington  <kpiddington@apple.com>

        REGRESSION (iOS 15), safari604.1: Could not link the shader program
        https://bugs.webkit.org/show_bug.cgi?id=231475

        Renaming regex incorrectly substituted an attribute. 
        Update to require exact attribute match

        Add test to expose bug, verify test passes

        Reviewed by Dean Jackson.

        * fast/canvas/webgl/attrib-name-aliasing-bug-expected.txt: Added.
        * fast/canvas/webgl/attrib-name-aliasing-bug.html: Added.

2021-10-25  John Wilander  <wilander@apple.com>

        Remove assert failure expectations after r284846 landed
        https://bugs.webkit.org/show_bug.cgi?id=232048
        <rdar://problem/84479642>
        https://bugs.webkit.org/show_bug.cgi?id=232102
        <rdar://problem/84521189>
        https://bugs.webkit.org/show_bug.cgi?id=231255
        <rdar://problem/83903881>
        https://bugs.webkit.org/show_bug.cgi?id=231431
        <rdar://problem/84029425>

        Unreviewed test gardening.

        Depends on this fix: https://trac.webkit.org/changeset/284846/webkit

        * platform/ios-wk2/TestExpectations:
            Removed crash expectations now that the app bundle ID setting for InAppBrowserPrivacy
            API tests is being cleared after each test.

2021-10-25  Eric Hutchison  <ehutchison@apple.com>

        [ Mac wk1 ] 2 media-capabilities/webrtc tests are flaky failures.
        https://bugs.webkit.org/show_bug.cgi?id=232283.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-10-25  Chris Fleizach  <cfleizach@apple.com>

        WebKit should use img@title as label even if img@alt is exlicitly empty
        https://bugs.webkit.org/show_bug.cgi?id=173870
        <rdar://problem/33010427>

        Reviewed by Andres Gonzalez.

        * accessibility/img-no-alt-not-ignored-with-title-expected.txt: Added.
        * accessibility/img-no-alt-not-ignored-with-title.html: Added.
        * platform/ios-simulator/TestExpectations:
        * platform/win/TestExpectations:

2021-10-25  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for fast/scrolling/mac/scrollbars/overlay-scrollbar-hovered.html.
        https://bugs.webkit.org/show_bug.cgi?id=232282.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-10-25  Eric Hutchison  <ehutchison@apple.com>

        [ Catalina wk1 ] 2 embedded-content/media-elements are flaky failures.
        https://bugs.webkit.org/show_bug.cgi?id=232277.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-10-25  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ macOS wk1 ] imported/w3c/web-platform-tests/html/interaction/focus/the-autofocus-attribute/spin-by-blocking-style-sheet.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=232276

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-10-25  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test baselines and expectations. Unreviewed test gardening.
        https://bugs.webkit.org/show_bug.cgi?id=232258

        * platform/glib/TestExpectations:
        * platform/glib/imported/w3c/web-platform-tests/css/css-cascade/layer-counter-style-override-expected.txt: Renamed from LayoutTests/platform/gtk/imported/w3c/web-platform-tests/css/css-cascade/layer-counter-style-override-expected.txt.
        * platform/gtk/TestExpectations:
        * platform/gtk/imported/w3c/web-platform-tests/css/css-ui/appearance-cssom-001-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/css-cascade/layer-counter-style-override-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/css/css-ui/appearance-cssom-001-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:

2021-10-25  Kate Cheney  <katherine_cheney@apple.com>

        [App Privacy Report] CORS preflight requests attributed incorrectly
        https://bugs.webkit.org/show_bug.cgi?id=232221
        <rdar://problem/84116159>

        Reviewed by Brent Fulgham.

        Layout test coverage.

        * http/tests/app-privacy-report/app-attribution-cors-preflight-redirect-expected.txt: Added.
        * http/tests/app-privacy-report/app-attribution-cors-preflight-redirect.html: Added.
        * http/tests/app-privacy-report/resources/cors-preflight.py: Added.
        * http/tests/app-privacy-report/resources/redirect-with-cors-preflight-check.py: Added.
        * http/tests/app-privacy-report/user-attribution-cors-preflight-redirect-expected.txt: Added.
        * http/tests/app-privacy-report/user-attribution-cors-preflight-redirect.html: Added.

2021-10-25  Chris Dumez  <cdumez@apple.com>

        imported/w3c/web-platform-tests/html/semantics/forms/form-submission-0/form-submission-algorithm.html is timing out
        https://bugs.webkit.org/show_bug.cgi?id=232117

        Reviewed by Alex Christensen.

        Unskip test that no longer times out.

        * TestExpectations:

2021-10-25  Chris Dumez  <cdumez@apple.com>

        Regression (r284610): [ iOS BigSur wk2 ] http/tests/security/window-opened-from-sandboxed-iframe-should-inherit-sandbox.html is failing
        https://bugs.webkit.org/show_bug.cgi?id=232151
        <rdar://problem/84552682>

        Unreviewed follow-up to r284723 since the test is still flaky on iOS.

        * TestExpectations:
        * http/tests/security/resources/anchor-tag-with-blank-target.html:
        * http/tests/security/resources/page-executing-javascript.html:
        * http/tests/security/window-opened-from-sandboxed-iframe-should-inherit-sandbox-expected.txt:
        * http/tests/security/window-opened-from-sandboxed-iframe-should-inherit-sandbox.html:

2021-10-25  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS 15 ] imported/w3c/web-platform-tests/WebCryptoAPI/derive_bits_keys/pbkdf2.https.any.worker.html is flaky timing out.
        https://bugs.webkit.org/show_bug.cgi?id=231544

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-25  Tyler Wilcock  <tyler_w@apple.com>

        AX: Keyboard-focusable leaf nodes with labels should be accessible elements on iOS
        https://bugs.webkit.org/show_bug.cgi?id=232126

        Reviewed by Andres Gonzalez.

        Add test ensuring focusable leaf nodes with labels are accessible elements on iOS.

        * accessibility/ios-simulator/labeled-focusable-leaf-nodes-expected.txt: Added.
        * accessibility/ios-simulator/labeled-focusable-leaf-nodes.html: Added.

2021-10-25  Eric Hutchison  <ehutchison@apple.com>

        [ iOS15 Sim Release ] imported/w3c/web-platform-tests/webrtc/RTCDtlsTransport-state.html is a flaky failure (Harness Error (TIMEOUT)).
        https://bugs.webkit.org/show_bug.cgi?id=232252.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-25  Gabriel Nava Marino  <gnavamarino@apple.com>

        ASSERT(node) triggered after surroundNodeRangeWithElement for node without editable style 
        https://bugs.webkit.org/show_bug.cgi?id=232133

        Reviewed by Wenson Hsieh.

        * fast/editing/apply-relative-font-style-change-crash-003-expected.txt: Added.
        * fast/editing/apply-relative-font-style-change-crash-003.html: Added.

2021-10-25  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS Debug ] fast/selectors/ backtracking tests are timing out.
        https://bugs.webkit.org/show_bug.cgi?id=230988

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-25  Ayumi Kojima  <ayumi_kojima@apple.com>

        Regression (r284330): [ macOS wk1 Debug ] webaudio/AudioBuffer/huge-buffer.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=232244

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-10-25  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Check across inline box boundaries for breakable position
        https://bugs.webkit.org/show_bug.cgi?id=232219

        Reviewed by Antti Koivisto.

        * TestExpectations:

2021-10-25  Chris Lord  <clord@igalia.com>

        [GTK][WPE] REGRESSION(r284596): Scrolling sometimes jumps to the top of the page during smooth mouse-wheel scrolling
        https://bugs.webkit.org/show_bug.cgi?id=232229

        Reviewed by Carlos Garcia Campos.

        Add test to make sure that retargeted smooth scrolling doesn't jump to
        the top of the page unexpectedly.

        * fast/scrolling/gtk/repeated-mouse-wheel-smooth-expected.txt: Added.
        * fast/scrolling/gtk/repeated-mouse-wheel-smooth.html: Added.

2021-10-25  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test baselines after r284521
        https://bugs.webkit.org/show_bug.cgi?id=232231

        Unreviewed test gardening.

        * platform/glib/fast/block/float/014-expected.txt:
        * platform/glib/fast/box-sizing/percentage-height-expected.txt:
        * platform/glib/fast/css-generated-content/016-expected.txt:
        * platform/glib/fast/css/first-letter-recalculation-expected.txt:
        * platform/glib/fast/multicol/pagination/nested-transforms-expected.txt:
        * platform/gtk/fast/block/float/029-expected.txt:
        * platform/gtk/fast/block/float/independent-align-positioning-expected.txt:
        * platform/gtk/fast/block/positioning/window-height-change-expected.txt:
        * platform/gtk/fast/css-generated-content/014-expected.txt:
        * platform/gtk/fast/css-generated-content/hover-style-change-expected.txt:
        * platform/gtk/fast/dom/HTMLHeadElement/head-link-style-href-check-expected.txt:
        * platform/gtk/fast/forms/button-cannot-be-nested-expected.txt:
        * platform/gtk/fast/lists/003-expected.txt:
        * platform/gtk/fast/lists/003-vertical-expected.txt:
        * platform/gtk/fast/table/text-field-baseline-expected.txt:
        * platform/gtk/fast/text/basic/013-expected.txt:
        * platform/gtk/fast/writing-mode/Kusa-Makura-background-canvas-expected.txt:
        * platform/gtk/ietestcenter/css3/text/textshadow-002-expected.txt:
        * platform/gtk/ietestcenter/css3/text/textshadow-009-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug73321-expected.txt:
        * platform/wpe/fast/block/float/029-expected.txt:
        * platform/wpe/fast/block/float/independent-align-positioning-expected.txt:
        * platform/wpe/fast/block/float/multiple-float-positioning-expected.txt:
        * platform/wpe/fast/block/margin-collapse/101-expected.txt:
        * platform/wpe/fast/block/positioning/window-height-change-expected.txt:
        * platform/wpe/fast/css-generated-content/014-expected.txt:
        * platform/wpe/fast/css-generated-content/hover-style-change-expected.txt:
        * platform/wpe/fast/dom/HTMLHeadElement/head-link-style-href-check-expected.txt:
        * platform/wpe/fast/lists/003-expected.txt:
        * platform/wpe/fast/lists/003-vertical-expected.txt:
        * platform/wpe/fast/text/basic/013-expected.txt:
        * platform/wpe/fast/text/line-breaks-after-white-space-expected.txt:
        * platform/wpe/fast/text/updateNewFont-expected.txt:
        * platform/wpe/fast/writing-mode/Kusa-Makura-background-canvas-expected.txt:
        * platform/wpe/ietestcenter/css3/bordersbackgrounds/border-radius-different-width-001-expected.txt:
        * platform/wpe/ietestcenter/css3/text/textshadow-002-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug73321-expected.txt:

2021-10-25  Tim Nguyen  <ntim@apple.com>

        Fix imported/w3c/web-platform-tests/css/selectors/focus-visible-009.html flaky failure on macOS wk1
        https://bugs.webkit.org/show_bug.cgi?id=231647

        Reviewed by Antti Koivisto.

        This only tests a CSS selector feature, use `waitUntilStableAutofocusState()` helper which is more stable on wk1
        to make this test pass.

        * platform/mac-wk1/TestExpectations:

2021-10-25  Ziran Sun  <zsun@igalia.com>

        [css-writing-modes] Fix sizing of orthogonal elements with percentage margins
        https://bugs.webkit.org/show_bug.cgi?id=231951

        Reviewed by Manuel Rego Casasnovas.
        
        * TestExpectations: Unskipped 8 tests that are now passing.

2021-10-24  Wenson Hsieh  <wenson_hsieh@apple.com>

        REGRESSION (iOS 15): Safari shows zoom callout even if -webkit-user-select is none
        https://bugs.webkit.org/show_bug.cgi?id=231161
        rdar://83863266

        Reviewed by Darin Adler.

        See Source/WebKit/ChangeLog for more details.

        * editing/selection/ios/do-not-allow-text-selection-in-user-select-none-expected.txt: Added.
        * editing/selection/ios/do-not-allow-text-selection-in-user-select-none.html: Added.

2021-10-24  Alexey Shvayka  <shvaikalesh@gmail.com>

        document.open() and friends use incorrect document as a source for reseted document's URL
        https://bugs.webkit.org/show_bug.cgi?id=230131

        Reviewed by Chris Dumez.

        * http/tests/security/aboutBlank/security-context-grandchildren-lexical.html:
        * http/tests/security/aboutBlank/security-context-grandchildren-write-lexical.html:
        * http/tests/security/aboutBlank/security-context-grandchildren-writeln-lexical.html:
        Tweak javascript: URLs to evaluate as `undefined` so the tests could be run in Firefox.

        * http/tests/security/aboutBlank/security-context-grandchildren-lexical-expected.txt:
        * http/tests/security/aboutBlank/security-context-grandchildren-write-lexical-expected.txt:
        * http/tests/security/aboutBlank/security-context-grandchildren-writeln-lexical-expected.txt:
        Align expectations with Blink and Gecko.

        * http/tests/security/resources/parent-document-open.html: Added.
        * http/tests/security/xss-DENIED-xsl-document-securityOrigin.xml:
        The test relied on behavior that wasn't spec-compliant, causing timeouts once document.open() is fixed.
        This patch preserves the test semantics of calling document.open() with iframe's global object.
        Similar Blink bug: crbug.com/579493.

2021-10-23  Rob Buis  <rbuis@igalia.com>

        Null check in traverseNodesForSerialization
        https://bugs.webkit.org/show_bug.cgi?id=230704

        Reviewed by Wenson Hsieh.

        * editing/pasteboard/copy-with-shadow-tree-crash-expected.txt: Added.
        * editing/pasteboard/copy-with-shadow-tree-crash.html: Added.

2021-10-23  Cameron McCormack  <heycam@apple.com>

        Update WPT test tolerance and mark some failures as simulator-only
        https://bugs.webkit.org/show_bug.cgi?id=231959
        <rdar://problem/84417651>

        Unreviewed test gardening.

        The ipad failures are really iPad simulator failures.

        * platform/ios-simulator/TestExpectations:
        * platform/ipad/TestExpectations:
        * platform/mac/TestExpectations:

2021-10-23  Chris Dumez  <cdumez@apple.com>

        Add support for rel="noopener/noreferrer" on <form> elements
        https://bugs.webkit.org/show_bug.cgi?id=232170

        Reviewed by Darin Adler.

        * fast/forms/form-relList-expected.txt: Added.
        * fast/forms/form-relList.html: Added.
        Add test coverage for the new form.relList attribute.

        * http/tests/navigation/resources/target-blank-opener-post-window.py:
        * http/tests/navigation/target-blank-opener-post-expected.txt:
        * http/tests/navigation/target-blank-opener-post.html:
        Update existing layout test to reflect behavior change.

        * platform/mac-wk1/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        Rebaseline WPT tests now that more checks are passing.

2021-10-23  Alan Bujtas  <zalan@apple.com>

        LFC][IFC] Unexpected content wrap when the containing block width is relative (take 2)
        https://bugs.webkit.org/show_bug.cgi?id=232192

        Reviewed by Antti Koivisto.

        * TestExpectations:
        * platform/mac/TestExpectations:

2021-10-23  Brandon Stewart  <brandonstewart@apple.com>

        WebContent crash when sending invalid IPC message using IPC testing API
        https://bugs.webkit.org/show_bug.cgi?id=232060

        Reviewed by Wenson Hsieh.

        Add IPC test to verify that an invalid IPC message will not cause a crash in WebContent Process
        when using the IPC testing API.

        * TestExpectations:
        * ipc/send-invalid-message-expected.txt: Added.
        * ipc/send-invalid-message.html: Added.

2021-10-23  Chris Dumez  <cdumez@apple.com>

        anchor.relList.supports("opener") should return true
        https://bugs.webkit.org/show_bug.cgi?id=232182

        Reviewed by Darin Adler.

        Add layout test coverage.

        * fast/dom/DOMTokenList-supports-expected.txt:
        * fast/dom/DOMTokenList-supports.html:

2021-10-22  Jean-Yves Avenard  <jya@apple.com>

        video appears blank with only audio playing if video element isn't appended to the dom tree
        https://bugs.webkit.org/show_bug.cgi?id=232124
        rdar://83438282

        Reviewed by Eric Carlson.

        * TestExpectations:
        * media/remove-video-element-in-pip-from-document-expected.txt:
        * media/remove-video-element-in-pip-from-document.html: update test to improve coverage.
        * media/video-element-fullscreen-not-in-dom-accelerated-iphone-expected.txt: Added.
        * media/video-element-fullscreen-not-in-dom-accelerated-iphone.html: Added.
        * platform/ios/TestExpectations:
        * platform/ipad/TestExpectations:

2021-10-22  Said Abou-Hallawa  <said@apple.com>

        [GPU Process] REGRESSION: Drawing a large SVG image on a canvas may take too much memory
        https://bugs.webkit.org/show_bug.cgi?id=230886
        rdar://83628607

        Reviewed by Simon Fraser.

        * fast/canvas/canvas-draw-large-svg-image-expected.html: Added.
        * fast/canvas/canvas-draw-large-svg-image.html: Added.

2021-10-22  Gabriel Nava Marino  <gnavamarino@apple.com>

        Check if start and end positions are still valid after updating them through mergeStartWithPreviousIfIdentical
        https://bugs.webkit.org/show_bug.cgi?id=232177

        Reviewed by Alan Bujtas.

        * fast/editing/create-link-inline-style-change-crash-001-expected.txt: Added.
        * fast/editing/create-link-inline-style-change-crash-001.html: Added.

2021-10-22  Simon Fraser  <simon.fraser@apple.com>

        Content offset in this codepen when switching tabs
        https://bugs.webkit.org/show_bug.cgi?id=231989

        Reviewed by Tim Horton.

        New baselines.

        * tiled-drawing/scrolling/clamp-out-of-bounds-scrolls-expected.txt:
        * tiled-drawing/scrolling/scrolling-tree-after-scroll-expected.txt:

2021-10-22  Eric Hutchison  <ehutchison@apple.com>

        Updated test expectations for imported/w3c/web-platform-tests/webrtc/RTCPeerConnection-perfect-negotiation-stress-glare.https.html.
        https://bugs.webkit.org/show_bug.cgi?id=229569.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-10-22  Ryan Haddad  <ryanhaddad@apple.com>

        REGRESSION: [Win] fast/ruby/generated-before-counter-doesnt-crash.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=232188

        Unreviewed test gardening.

        * platform/win/TestExpectations: Mark test as flaky.

2021-10-22  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS 15 Debug ] ASSERTION FAILED: sockets.empty().
        https://bugs.webkit.org/show_bug.cgi?id=231451

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-22  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS macOS Debug ] imported/w3c/web-platform-tests/html/dom/idlharness.worker.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231030

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk1/TestExpectations:
        * platform/mac/TestExpectations:

2021-10-22  Joonghun Park  <pjh0718@gmail.com>

        Integer interpolation in animations should be rounded towards positive infinity, not away from zero.
        https://bugs.webkit.org/show_bug.cgi?id=232013

        Currently, interpolation of <integer> is rounding away from 0.
        The interpolation's result should be rounded according to the spec,
        https://drafts.csswg.org/css-values-4/#combine-integers, which is

        "the result is converted to an <integer> by rounding
        to the nearest integer, with values halfway between
        adjacent integers rounded towards positive infinity."

        This patch also removes redundant static_cast<double>s
        and potential overflow(e.g.'to' is the maximum integer and 'from' is
        the minimum integer) from blend in AnimationUtilities.h.

        Reviewed by Darin Adler.

        * animations/animation-order-overflow-expected.txt: Added.
        * animations/animation-order-overflow.html: Added.
        * animations/animation-z-order-overflow-expected.txt: Added.
        * animations/animation-z-order-overflow.html: Added.

2021-10-22  Chris Dumez  <cdumez@apple.com>

        Regression (r284610?): [ iOS BigSur wk2 ]imported/w3c/web-platform-tests/html/cross-origin-opener-policy/coop-csp-sandbox.https.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=232184
        <rdar://problem/84567378>

        Unreviewed, dump CONSOLE messages to stderr to address flakiness.

        * TestExpectations:

2021-10-22  Chris Dumez  <cdumez@apple.com>

        Regression (r284610): [ iOS BigSur wk2 ] http/tests/security/window-opened-from-sandboxed-iframe-should-inherit-sandbox.html is failing
        https://bugs.webkit.org/show_bug.cgi?id=232151
        <rdar://problem/84552682>

        Reviewed by Ryan Haddad.

        The test expects a CONSOLE message to get logged to indicate that a load was blocked.
        Rely on `internals.setConsoleMessageListener` to wait for this CONSOLE message instead
        of using a timer in order the address the flakiness.

        * http/tests/security/window-opened-from-sandboxed-iframe-should-inherit-sandbox.html:
        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-10-22  Ryan Haddad  <ryanhaddad@apple.com>

        [iOS EWS] imported/w3c/web-platform-tests/file-system-access/sandboxed_FileSystemSyncAccessHandle-close.https.tentative.worker.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=232181

        Unreviewed test gardening.

        * platform/ios/TestExpectations: Mark test as flaky.

2021-10-22  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS Debug ] fast/selectors/ backtracking tests are timing out.
        https://bugs.webkit.org/show_bug.cgi?id=230988

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-22  Alicia Boya García  <aboya@igalia.com>

        [MSE][GStreamer] Honor MP4 edit lists, bis
        https://bugs.webkit.org/show_bug.cgi?id=231019

        Reviewed by Xabier Rodriguez-Calvar.

        Update expectations for mediasource-remove.html in the GStreamer
        ports, as a couple subtests get fixed.

        * platform/glib/imported/w3c/web-platform-tests/media-source/mediasource-remove-expected.txt:

2021-10-22  Chris Dumez  <cdumez@apple.com>

        Unreviewed, drop custom iOS expectations for noopener-noreferrer-sizing.window.html.

        It looks like the test is now passing on iOS/iPhone too, not just macOS and iOS/iPad.

        * platform/ios-wk2/TestExpectations:
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/browsers/the-window-object/noopener-noreferrer-sizing.window-expected.txt: Removed.
        * platform/ipad/imported/w3c/web-platform-tests/html/browsers/the-window-object/noopener-noreferrer-sizing.window-expected.txt: Removed.

2021-10-22  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for imported/w3c/web-platform-tests/content-security-policy/script-src/script-src-multiple-policies-multiple-hashing-algorithms.html.
        https://bugs.webkit.org/show_bug.cgi?id=232120.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-22  Eric Hutchison  <ehutchison@apple.com>

        http/wpt/fetch/fetch-response-body-stop-in-worker.html is failing on iOS15 was well.
        https://bugs.webkit.org/show_bug.cgi?id=225528.

        Unreviewed test gardening.

        * platform/ios-14-wk2/TestExpectations:
        * platform/ios-wk2/TestExpectations:

2021-10-22  Ayumi Kojima  <ayumi_kojima@apple.com>

        Regression (r284610): [ iOS BigSur wk2 ] http/tests/security/window-opened-from-sandboxed-iframe-should-inherit-sandbox.html is failing.
        https://bugs.webkit.org/show_bug.cgi?id=232151

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-10-22  Sihui Liu  <sihui_liu@apple.com>

        Followup to r284652: ensure file handle is closed in web process
        https://bugs.webkit.org/show_bug.cgi?id=232127

        Reviewed by Youenn Fablet.

        * storage/filesystemaccess/resources/sync-access-handle-close.js:
        (testSyncFunction):
        (async testAsyncFunction):
        (async testFunctions):
        (async testMultipleHandles):
        (async test):
        * storage/filesystemaccess/sync-access-handle-close-worker-expected.txt:

2021-10-22  Chris Dumez  <cdumez@apple.com>

        [ iOS15 iPad Debug ] imported/w3c/web-platform-tests/webmessaging/MessagePort_onmessage_start.any.worker.html is a flaky failure (reached unreachable code)
        https://bugs.webkit.org/show_bug.cgi?id=231609
        <rdar://problem/84164701>

        Reviewed by Youenn Fablet.

        Unskip test that should no longer be flaky.

        * platform/ipad/TestExpectations:

2021-10-22  Ayumi Kojima  <ayumi_kojima@apple.com>

        Unreviewed, reverting r284654.

        Reverting because this commit caused scrolling tests to fail

        Reverted changeset:

        "Content offset in this codepen when switching tabs"
        https://bugs.webkit.org/show_bug.cgi?id=231989
        https://commits.webkit.org/r284654

2021-10-22  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Check the parent style for content wrapping when collecting wrap opportunities
        https://bugs.webkit.org/show_bug.cgi?id=232056

        Reviewed by Antti Koivisto.

        * TestExpectations:

2021-10-22  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Add missing isAtSoftWrapOpportunity check when between two whitespace inline items
        https://bugs.webkit.org/show_bug.cgi?id=232055

        Reviewed by Antti Koivisto.

        * fast/inline/white-space-nowrap-and-normal-inline-box-expected.html: Added.
        * fast/inline/white-space-nowrap-and-normal-inline-box.html: Added.

2021-10-22  Alan Bujtas  <zalan@apple.com>

        FontCascade::widthForSimpleText fails to produce matching measured width for monospace font
        https://bugs.webkit.org/show_bug.cgi?id=232104
        <rdar://83991027>

        Reviewed by Antti Koivisto.

        * platform/ios-wk2/TestExpectations:

2021-10-21  Cathie Chen  <cathiechen@igalia.com>

        The intrisic size of picture image inside a template is always zero
        https://bugs.webkit.org/show_bug.cgi?id=227682

        Reviewed by Darin Adler.

        * fast/picture/picture-inside-template-expected.txt: Added.
        * fast/picture/picture-inside-template.html: Added.

2021-10-21  Gabriel Nava Marino  <gnavamarino@apple.com>

        Two null box iterators from different paths fail to compare equal
        https://bugs.webkit.org/show_bug.cgi?id=232093

        Reviewed by Antti Koivisto.

        * fast/clip/clip-hit-null-iterator-path-comparison-expected.txt: Added.
        * fast/clip/clip-hit-null-iterator-path-comparison.html: Added.

2021-10-21  Chris Dumez  <cdumez@apple.com>

        Form submission should be cancelled if the form gets detached from inside the formdata event handler
        https://bugs.webkit.org/show_bug.cgi?id=232114

        Reviewed by Alex Christensen.

        Add layout test coverage.

        * fast/forms/remove-form-inside-formdata-event-expected.txt: Added.
        * fast/forms/remove-form-inside-formdata-event.html: Added.

2021-10-21  Eric Hutchison  <ehutchison@apple.com>

        [ iOS15 Sim EWS ]imported/w3c/web-platform-tests/content-security-policy/script-src/script-src-multiple-policies-multiple-hashing-algorithms.html is a text failure.
        https://bugs.webkit.org/show_bug.cgi?id=232120.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-21  Chris Dumez  <cdumez@apple.com>

        Unreviewed, add bug number for skipped test in TestExpectations.

        * TestExpectations:

2021-10-21  Chris Dumez  <cdumez@apple.com>

        RELEASE_ASSERT(result) under FormSubmission::create()
        https://bugs.webkit.org/show_bug.cgi?id=232112

        Reviewed by Geoffrey Garen.

        Add layout test coverage.

        * fast/forms/submit-form-inside-formdata-event-expected.txt: Added.
        * fast/forms/submit-form-inside-formdata-event.html: Added.

2021-10-21  Simon Fraser  <simon.fraser@apple.com>

        Content offset in this codepen when switching tabs
        https://bugs.webkit.org/show_bug.cgi?id=231989

        Reviewed by Tim Horton.

        New baselines.

        * tiled-drawing/scrolling/clamp-out-of-bounds-scrolls-expected.txt:
        * tiled-drawing/scrolling/scrolling-tree-after-scroll-expected.txt:

2021-10-21  John Wilander  <wilander@apple.com>

        PCM: Change expectation to pass so we can investigate http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-in-new-window.html
        https://bugs.webkit.org/show_bug.cgi?id=232115

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
            Removed expectation added in https://trac.webkit.org/changeset/284572/webkit.

2021-10-21  Sihui Liu  <sihui_liu@apple.com>

        FileSystemSyncAccessHandle should close platform file handle on close()
        https://bugs.webkit.org/show_bug.cgi?id=232067
        <rdar://problem/84517013>

        Reviewed by Youenn Fablet.

        * storage/filesystemaccess/resources/sync-access-handle-close.js: Added.
        (finishTest):
        (async testFunctions):
        (async test):
        * storage/filesystemaccess/sync-access-handle-close-worker-expected.txt: Added.
        * storage/filesystemaccess/sync-access-handle-close-worker.html: Added.

2021-10-21  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] http/wpt/service-workers/skipFetchEvent.https.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230374

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-21  Ayumi Kojima  <ayumi_kojima@apple.com>

        REGRESSION: [iOS] ASSERTION FAILED: !m_messageReceiverMapCount under WebKit::RemoteAudioHardwareListener::~RemoteAudioHardwareListener().
        https://bugs.webkit.org/show_bug.cgi?id=228038

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations: Removed test expectations.

2021-10-21  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] media/modern-media-controls/media-documents/media-document-video-with-initial-audio-layout.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=232106

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-21  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ macOS wk2 ] imported/w3c/web-platform-tests/html/cross-origin-opener-policy/iframe-popup-same-origin-to-same-origin.https.html is a flaky failure/ crashing.
        https://bugs.webkit.org/show_bug.cgi?id=232105

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-10-21  Rob Buis  <rbuis@igalia.com>

        [css-contain] Support contain:style for counters
        https://bugs.webkit.org/show_bug.cgi?id=226458

        Reviewed by Antti Koivisto.

        Unskip tests that now pass.

        * TestExpectations:

2021-10-21  Eric Hutchison  <ehutchison@apple.com>

        [ iOS15 EWS ] http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-with-priority.html crashed.
        https://bugs.webkit.org/show_bug.cgi?id=232102.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-21  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS macOS Debug ] imported/w3c/web-platform-tests/html/dom/idlharness.worker.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231030

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-10-21  Eric Hutchison  <ehutchison@apple.com>

        [ iOS15 EWS ] imported/w3c/web-platform-tests/websockets/Close-1000.any.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=232099.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-21  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS 15 ] webrtc/multi-video.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=232097

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-21  Kate Cheney  <katherine_cheney@apple.com>

        http/tests/resourceLoadStatistics/website-data-removal-for-site-navigated-to-with-link-decoration.html is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=231971
        <rdar://problem/84270108>

        Reviewed by John Wilander.

        Update ITP tests to wait for resetCookies() to finish before ending
        the test. Flaky timeouts were being caused by resetCookies() being
        partially finished which resets the top loading frame checked in
        TestRunner::notifyDone().

        * http/tests/cookies/resources/delete-cookie.py: Added.
        (delete_cookie):
        * http/tests/resourceLoadStatistics/operating-dates-all-but-cookies-not-removed-with-user-interaction-6-days-ago.html:
        * http/tests/resourceLoadStatistics/operating-dates-all-but-cookies-removed-with-user-interaction-7-days-ago.html:
        * http/tests/resourceLoadStatistics/operating-dates-all-website-data-removed.html:
        * http/tests/resourceLoadStatistics/resources/util.js:
        (async resetCookiesITP.setUp):
        (async resetCookiesITP):
        * http/tests/resourceLoadStatistics/standalone-web-application-exempt-from-website-data-deletion.html:
        * http/tests/resourceLoadStatistics/website-data-removal-for-site-navigated-to-with-link-decoration.html:
        * http/tests/resourceLoadStatistics/website-data-removal-for-site-with-user-interaction.html:
        * http/tests/resourceLoadStatistics/website-data-removal-for-site-without-user-interaction.html:

2021-10-21  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS macOS wk2 ]compositing/video/video-border-radius-clipping.html is a flakey image failure.
        https://bugs.webkit.org/show_bug.cgi?id=224690

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-21  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GTK] Update test baselines after r284521
        https://bugs.webkit.org/show_bug.cgi?id=232094

        Many render tree dumps need to change upper case tag names to lower
        case.

        Unreviewed test gardening.

        * platform/glib/fast/block/float/013-expected.txt:
        * platform/glib/fast/block/float/016-expected.txt:
        * platform/glib/fast/block/float/clamped-right-float-expected.txt:
        * platform/glib/fast/body-propagation/background-color/002-expected.txt:
        * platform/glib/fast/body-propagation/background-color/003-expected.txt:
        * platform/glib/fast/body-propagation/background-color/004-expected.txt:
        * platform/glib/fast/body-propagation/background-color/006-expected.txt:
        * platform/glib/fast/body-propagation/background-color/007-expected.txt:
        * platform/glib/fast/body-propagation/background-color/008-expected.txt:
        * platform/glib/fast/body-propagation/background-image/002-expected.txt:
        * platform/glib/fast/body-propagation/background-image/003-expected.txt:
        * platform/glib/fast/body-propagation/background-image/004-expected.txt:
        * platform/glib/fast/body-propagation/background-image/006-expected.txt:
        * platform/glib/fast/body-propagation/background-image/007-expected.txt:
        * platform/glib/fast/body-propagation/background-image/008-expected.txt:
        * platform/glib/fast/body-propagation/overflow/001-expected.txt:
        * platform/glib/fast/body-propagation/overflow/002-expected.txt:
        * platform/glib/fast/body-propagation/overflow/003-expected.txt:
        * platform/glib/fast/body-propagation/overflow/004-expected.txt:
        * platform/glib/fast/body-propagation/overflow/006-expected.txt:
        * platform/glib/fast/body-propagation/overflow/007-expected.txt:
        * platform/glib/fast/css/line-height-font-order-expected.txt:
        * platform/glib/fast/table/011-expected.txt:
        * platform/glib/svg/custom/svg-fonts-with-no-element-reference-expected.txt:
        * platform/gtk/compositing/color-matching/pdf-image-match-expected.txt:
        * platform/gtk/compositing/repaint/content-into-overflow-expected.txt:
        * platform/gtk/compositing/repaint/overflow-into-content-expected.txt:
        * platform/gtk/editing/selection/selection-display-block-sibling-expected.txt:
        * platform/gtk/editing/selection/selection-display-flex-expected.txt:
        * platform/gtk/fast/block/positioning/inline-block-relposition-expected.txt:
        * platform/gtk/fast/body-propagation/background-color/001-expected.txt:
        * platform/gtk/fast/body-propagation/background-color/005-expected.txt:
        * platform/gtk/fast/body-propagation/background-image/001-expected.txt:
        * platform/gtk/fast/body-propagation/background-image/005-expected.txt:
        * platform/gtk/fast/body-propagation/background-image/009-expected.txt:
        * platform/gtk/fast/body-propagation/background-image/010-expected.txt:
        * platform/gtk/fast/body-propagation/overflow/005-expected.txt:
        * platform/gtk/fast/forms/search-styled-expected.txt:
        * platform/gtk/fast/forms/select-background-none-expected.txt:
        * platform/gtk/fast/repaint/text-selection-rect-in-overflow-2-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/background-color-applied-to-rounded-inline-element-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/background-color-border-box-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/background-repeat-space-padding-box-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/background-size-002-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/background-size-applies-to-block-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/background_color_padding_box-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/background_position_three_four_values-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/background_properties_greater_than_images-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/background_repeat_space_border_box-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/background_repeat_space_content_box-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-001-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-002-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-003-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-005-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-006-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-007-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-008-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-009-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-010-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-011-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-012-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-013-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-014-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-015-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-016-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-applies-to-017-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-clip-001-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-clip-002-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-content-edge-001-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-initial-value-001-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-not-inherited-001-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-shorthand-001-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-style-001-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-style-002-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-style-003-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-style-004-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-style-005-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-sum-of-radii-001-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-sum-of-radii-002-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-with-three-values-001-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-radius-with-two-values-001-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-top-left-radius-values-001-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-top-left-radius-values-002-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-top-left-radius-values-003-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-top-left-radius-values-004-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/border-top-right-radius-values-004-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/box-shadow-001-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/box-shadow-002-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/box-shadow-003-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/box-shadow-004-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/color-behind-images-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/none-as-image-layer-expected.txt:
        * platform/gtk/ietestcenter/css3/bordersbackgrounds/order-of-images-expected.txt:
        * platform/gtk/ietestcenter/css3/text/textshadow-001-expected.txt:
        * platform/gtk/ietestcenter/css3/text/textshadow-003-expected.txt:
        * platform/gtk/ietestcenter/css3/text/textshadow-004-expected.txt:
        * platform/gtk/ietestcenter/css3/text/textshadow-005-expected.txt:
        * platform/gtk/ietestcenter/css3/text/textshadow-006-expected.txt:
        * platform/gtk/ietestcenter/css3/text/textshadow-007-expected.txt:
        * platform/gtk/ietestcenter/css3/text/textshadow-008-expected.txt:
        * platform/gtk/ietestcenter/css3/text/textshadow-010-expected.txt:

2021-10-21  Devin Rousso  <drousso@apple.com>

        REGRESSION(r283864): Apple Pay named images are missing
        https://bugs.webkit.org/show_bug.cgi?id=232050
        <rdar://problem/84413831>

        Reviewed by Andy Estes.

        * fast/css/webkit-named-image/apple-pay-logo-black/offset.html: Added.
        * fast/css/webkit-named-image/apple-pay-logo-black/offset-expected-mismatch.html: Added.
        * fast/css/webkit-named-image/apple-pay-logo-white/offset.html: Added.
        * fast/css/webkit-named-image/apple-pay-logo-white/offset-expected-mismatch.html: Added.

        * fast/css/webkit-named-image/apple-pay-logo-white/background-size-centered.html:
        * fast/css/webkit-named-image/apple-pay-logo-white/background-size-centered-expected-mismatch.html:
        * fast/css/webkit-named-image/apple-pay-logo-white/background-size.html:
        * fast/css/webkit-named-image/apple-pay-logo-white/background-size-expected-mismatch.html:
        * fast/css/webkit-named-image/apple-pay-logo-white/basic.html:
        * fast/css/webkit-named-image/apple-pay-logo-white/basic-expected-mismatch.html:
        * fast/css/webkit-named-image/apple-pay-logo-white/container-larger-height.html:
        * fast/css/webkit-named-image/apple-pay-logo-white/container-larger-height-expected-mismatch.html:
        * fast/css/webkit-named-image/apple-pay-logo-white/container-larger-width.html:
        * fast/css/webkit-named-image/apple-pay-logo-white/container-larger-width-expected-mismatch.html:
        * fast/css/webkit-named-image/apple-pay-logo-white/mask.html:
        * fast/css/webkit-named-image/apple-pay-logo-white/mask-expected-mismatch.html:
        Drive-by: fix these to also have `background-color: black;` in the `-expected-mismatch.html`.

2021-10-21  Kate Cheney  <katherine_cheney@apple.com>

        crypto/subtle/rsaes-pkcs1-v1_5-import-jwk-public-key-leading-zero.html is a constant timeout
        https://bugs.webkit.org/show_bug.cgi?id=232038
        <rdar://problem/80333758>

        Reviewed by Chris Dumez.

        The modulus n in the existing test was not the result of two primes
        p and q (it ends with 0x66 0x67 0x68). This patch updates the modulus
        which I calculated using SubtleCrypto's generateKey() function then
        prepended some zeros to test the intended functionality.

        * crypto/subtle/rsaes-pkcs1-v1_5-import-jwk-public-key-leading-zero.html:
        * platform/mac/TestExpectations:

2021-10-21  Ayumi Kojima  <ayumi_kojima@apple.com>

        Regression(r284439): [ iPad ] fast/canvas/canvas-createPattern-video-loading.html and imported/w3c/web-platform-tests/html/canvas/element/manual/imagebitmap/canvas-createImageBitmap-video-resize.html are failing.
        https://bugs.webkit.org/show_bug.cgi?id=232090

        Unreviewed test gardening.

        * platform/ipad/TestExpectations:

2021-10-21  Tyler Wilcock  <tyler_w@apple.com>

        AX: Remove redundant insert of autofill button child in AccessibilityRenderObject::addTextFieldChildren
        https://bugs.webkit.org/show_bug.cgi?id=232033

        Reviewed by Chris Fleizach.

        * accessibility/auto-fill-crash-expected.txt:
        * accessibility/auto-fill-crash.html:
        * platform/glib/accessibility/auto-fill-crash-expected.txt:
        Expect one less child because we no longer insert a redundant button
        into the accessibility tree. Also add an expectation confirming the
        autofill button is actually a part of the accessibility tree.
        * platform/win/accessibility/auto-fill-crash-expected.txt: Added.

2021-10-21  Chris Dumez  <cdumez@apple.com>

        Unreviewed, drop test from TestExpectations that no longer exists.

        * platform/ios-wk2/TestExpectations:

2021-10-21  Chris Dumez  <cdumez@apple.com>

        WebKit should process-swap for initial navigation of a popup if it has no opener
        https://bugs.webkit.org/show_bug.cgi?id=231990
        <rdar://84425504>

        Reviewed by Brent Fulgham.

        * fast/dom/open-and-close-by-DOM.html:
        The test is relying on testRunner.windowCount(), which is only able to count windows inside the
        current WebProcess. Add `rel=opener` to the link so that the new window keep opening in the same
        process, so that `testRunner.windowCount()` actually keeps working as expected.
        I added an API test to cover to make sure that windows opened by DOM can still close themselves
        in the case where we swap processes.

2021-10-21  Ayumi Kojima  <ayumi_kojima@apple.com>

        Regression(r284439): [ iPad ] fast/canvas/canvas-createPattern-video-loading.html is failing.
        https://bugs.webkit.org/show_bug.cgi?id=232090

        Unreviewed test gardening.

        * platform/ipad/TestExpectations:

2021-10-21  Antoine Quint  <graouts@webkit.org>

        CSSPropertyZoom needs wrapper that ensures it's always blended into a positive value.
        https://bugs.webkit.org/show_bug.cgi?id=232020
        <rdar://problem/84469930>

        Reviewed by Antti Koivisto.

        Add a test that would crash prior to the source change.

        * webanimations/zoom-animation-crash-expected.txt: Added.
        * webanimations/zoom-animation-crash.html: Added.

2021-10-21  Enrique Ocaña González  <eocanha@igalia.com>

        REGRESSION(r282059) [GStreamer] Test media/media-source/media-source-stalled-holds-sleep-assertion.html timeouts
        https://bugs.webkit.org/show_bug.cgi?id=229979

        Reviewed by Xabier Rodriguez-Calvar.

        Detect stall by monitoring currentTime instead of listening to the 'stall' event. This is needed after
        removing emission of 'stall' event in GStreamer ports after https://bugs.webkit.org/show_bug.cgi?id=226882

        Also remove initial seek, which is irrelevant to the test purpose and causes troubles in GStreamer ports.

        * media/media-source/media-source-stalled-holds-sleep-assertion-expected.txt: Updated expectations.
        * media/media-source/media-source-stalled-holds-sleep-assertion.html: Monitor currentTime instead of stall event, remove initial seek.
        * platform/glib/TestExpectations: Removed timeout expectation.

2021-10-20  Antti Koivisto  <antti@apple.com>

        [ iOS ] fast/inline/inline-background-clip-text-multiline.html is image failing
        https://bugs.webkit.org/show_bug.cgi?id=231961
        <rdar://problem/84418611>

        Unreviewed.

        Fix the test to not depend on font rendering details.

        * fast/inline/inline-background-clip-text-multiline-expected.html:
        * fast/inline/inline-background-clip-text-multiline.html:
        * platform/ios-wk2/TestExpectations:

2021-10-20  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ macOS ] imported/w3c/web-platform-tests/xhr/event-upload-progress-crossorigin.any.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=223804

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-10-20  Alan Bujtas  <zalan@apple.com>

        [TestExpectation] Re-group css-text WPT failures
        https://bugs.webkit.org/show_bug.cgi?id=232027

        Reviewed by Antti Koivisto.

        * TestExpectations:

2021-10-20  Beth Dakin  <bdakin@apple.com> and Dana Estra <destra@apple.com>

        macOS key-driven smooth scrolling does not stop when focus changes
        https://bugs.webkit.org/show_bug.cgi?id=228302

        Reviewed by Simon Fraser.

        EventHandlerDrivenSmoothKeyboardScrollingEnabled keys are WK2 only right now, so skip the new 
        test in general.
        * TestExpectations:

        New test that verifies this bug is resolved.
        * fast/scrolling/unfocusing-page-while-keyboard-scrolling-expected.txt: Added.
        * fast/scrolling/unfocusing-page-while-keyboard-scrolling.html: Added.

        Do run the test for mac-wk2. rawKeyDown / rawKeyUp are currently not implemented 
        elsewhere.
        * platform/mac-wk2/TestExpectations:

        New support for rawKeyDown in order to simulate holding the key down.
        * resources/ui-helper.js:
        (window.UIHelper.rawKeyDown):
        (window.UIHelper.rawKeyUp):

2021-10-20  Eric Hutchison  <ehutchison@apple.com>

        [ iOS15 EWS ] http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-in-new-window.html is crashing.
        https://bugs.webkit.org/show_bug.cgi?id=232048.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-20  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSure wk1 Debug ] fast/selectors/pseudo-element-inside-any.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=232046.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-10-20  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ macOS wk1 ] imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-autofocus.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=232042

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-10-20  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS macOS wk2 ]webanimations/marker-opacity-animation-no-effect.html is a flaky image failure.
        https://bugs.webkit.org/show_bug.cgi?id=232040

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-10-20  Eric Hutchison  <ehutchison@apple.com>

        [ iOS15 gpuprocess ] 2 css/color-filter tests are image-only failing.
        https://bugs.webkit.org/show_bug.cgi?id=232030.

        Unreviewed test gardening.

        * gpu-process/TestExpectations:

2021-10-20  Eric Hutchison  <ehutchison@apple.com>

        [ iOS15 GPUProcess ] Multiple compositing tests are constant image-only failures.
        https://bugs.webkit.org/show_bug.cgi?id=232022.

        Unreviewed test gardening.

        * gpu-process/TestExpectations:

2021-10-20  Eric Hutchison  <ehutchison@apple.com>

        [ iOS15 gpuprocess ] 2 css/color-filter tests are image-only failing.
        https://bugs.webkit.org/show_bug.cgi?id=232030.

        Unreviewed test gardening.

        * gpu-process/TestExpectations:

2021-10-20  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for compositing/scrolling/async-overflow-scrolling/overflow-scroll-paint-order-sibling.html.
        https://bugs.webkit.org/show_bug.cgi?id=232022.

        Unreviewed test gardening.

        * gpu-process/TestExpectations:

2021-10-20  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS macOS wk2 ] imported/w3c/web-platform-tests/html/cross-origin-opener-policy/reporting/navigation-reporting/report-only-four-reports.https.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=232028

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-10-20  Eric Hutchison  <ehutchison@apple.com>

        [ iOS15 GPUProcess ] compositing/shared-backing/sharing-child-contributes-to-overlap.html is a constant image-only failure.
        https://bugs.webkit.org/show_bug.cgi?id=232022.

        Unreviewed test gardening.

        * gpu-process/TestExpectations:

2021-10-20  Eric Hutchison  <ehutchison@apple.com>

        Unreviewed, reverting r284551.

        TestExpectations file not recognized

        Reverted changeset:

        https://commits.webkit.org/r284551

2021-10-20  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS Release ] media/media-can-play-mpeg-audio.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=232025

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-20  Rob Buis  <rbuis@igalia.com>

        Fix percentages on orthogonal replaced children
        https://bugs.webkit.org/show_bug.cgi?id=46496

        Reviewed by Darin Adler.

        * TestExpectations:

2021-10-20  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] imported/w3c/web-platform-tests/html/canvas/element/manual tests, fast/canvas/canvas-createPattern-video-modify.html and media/video-canvas-createPattern.html are failing.
        https://bugs.webkit.org/show_bug.cgi?id=231959

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-20  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS Debug ] http/tests/xmlhttprequest tests are flaky timing out.
        https://bugs.webkit.org/show_bug.cgi?id=232017

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-20  Antti Koivisto  <antti@apple.com>

        fast/images/text-recognition/mac/select-rotated-transparent-image-overlay.html is failing
        https://bugs.webkit.org/show_bug.cgi?id=232008
        rdar://84276269

        Reviewed by Alan Bujtas.

        * fast/block/line-layout/selection-highlight-overlap.html:

        Adopt to the updated legacy behavior.

        * fast/images/text-recognition/mac/select-rotated-transparent-image-overlay.html:

        Change the test so it isn't affected by the behavior change.

2021-10-20  Ayumi Kojima  <ayumi_kojima@apple.com>

        Regression (r282211): [ macOS wk2 ] css3/filters/blur-various-radii.html is a flaky image failure.
        https://bugs.webkit.org/show_bug.cgi?id=231090

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-10-20  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] fast/scrolling/ios/click-events-after-long-press-during-momentum-scroll-in tests are a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=230959

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-20  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS 15 ] fast/scrolling/ios/scroll-snap-with-relayouts tests are flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=232014

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-20  John Pascoe  <j_pascoe@apple.com>

        WebAuthn] Obtain consent to create new credential when platform authenticator in excludedCredentials
        https://bugs.webkit.org/show_bug.cgi?id=219813
        <rdar://problem/72484635>

        Reviewed by Brent Fulgham.

        Modify layout tests to reflect different exception returned when consent is provided

        * http/wpt/webauthn/public-key-credential-create-failure-local-silent.https.html:
        * http/wpt/webauthn/public-key-credential-create-failure-local.https.html:

2021-10-20  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Sometimes "arbitrary mid work break" does not mean "any position"
        https://bugs.webkit.org/show_bug.cgi?id=232001

        Reviewed by Antti Koivisto.

        * TestExpectations:

2021-10-20  Youenn Fablet  <youenn@apple.com>

        Add support for requestVideoFrameCallback API and MediaStreamTrack-based backend support
        https://bugs.webkit.org/show_bug.cgi?id=231803

        Reviewed by Eric Carlson.

        * TestExpectations:
        * fast/mediastream/getUserMedia-rvfc-expected.txt: Added.
        * fast/mediastream/getUserMedia-rvfc.html: Added.
        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:
        * webrtc/peerConnection-rvfc-expected.txt: Added.
        * webrtc/peerConnection-rvfc.html: Added.

2021-10-20  Youenn Fablet  <youenn@apple.com>

        WebRTC p2p call, VP9-SVC only low layer decoded on receiver side
        https://bugs.webkit.org/show_bug.cgi?id=231071
        <rdar://problem/83763291>

        Reviewed by Eric Carlson.

        * webrtc/vp9-svc-expected.txt: Added.
        * webrtc/vp9-svc.html: Added.

2021-10-20  John Cunningham  <johncunningham@apple.com>

        Avoid null pointer dereference when creating ImageBitmap from a null image.
        https://bugs.webkit.org/show_bug.cgi?id=231794

        Reviewed by Said Abou-Hallawa.

        If the image is null, we can reject the promise earlier. Default to sRGB when a
        BitmapImage's nativeImage is null.

        * fast/canvas/createImageBitmap-invalid-image-blob-crash-expected.txt: Added.
        * fast/canvas/createImageBitmap-invalid-image-blob-crash.html: Added.

2021-10-19  Ben Nham  <nham@apple.com>

        Add NetworkProcess stubs for push subscriptions
        https://bugs.webkit.org/show_bug.cgi?id=231922

        Reviewed by Youenn Fablet.

        Modify PushSubscription tests to pass in a ServiceWorkerRegistration.

        * http/wpt/push-api/emptyWorker.js: Renamed from LayoutTests/http/wpt/push-api/pushManager-worker.js.
        * http/wpt/push-api/pushManager.any.js:
        (else.promise_test.async test):
        * http/wpt/push-api/pushSubscription.https.any-expected.txt:
        * http/wpt/push-api/pushSubscription.https.any.js:
        (promise_test.async test):
        (promise_test):
        (test): Deleted.

2021-10-19  Chris Dumez  <cdumez@apple.com>

        Resync COOP /COEP WPT tests from upstream WPT
        https://bugs.webkit.org/show_bug.cgi?id=231746

        Reviewed by Geoffrey Garen.

        Resync COOP /COEP WPT tests from upstream WPT 6ccfe6fafab233e.

        * TestExpectations:
        * tests-options.json:

2021-10-19  Ayumi Kojima  <ayumi_kojima@apple.com>

        Regression(r283935 - r283938): [ macOS wk1 ] imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-autofocus-multiple-times.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231918

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-10-19  Simon Fraser  <simon.fraser@apple.com>

        Regression(r284336): [ iOS 15 ] system-preview/badge.html is image failing
        https://bugs.webkit.org/show_bug.cgi?id=231916

        Reviewed by Antti Koivisto.

        Tests for clip-path on a single-box inline, and a split inline.

        * css3/masking/clip-path-on-inline-expected.html: Added.
        * css3/masking/clip-path-on-inline.html: Added.
        * css3/masking/clip-path-on-split-inline-expected.html: Added.
        * css3/masking/clip-path-on-split-inline.html: Added.

2021-10-19  Chris Dumez  <cdumez@apple.com>

        Resync web-platform-tests/reporting from upstream
        https://bugs.webkit.org/show_bug.cgi?id=231957

        Reviewed by Alex Christensen.

        Resync web-platform-tests/reporting from upstream 207e223d74fdc1f1.

        * TestExpectations:

2021-10-19  Wenson Hsieh  <wenson_hsieh@apple.com>

        REGRESSION (r284079): fast/canvas/gradient-with-clip.html and fast/canvas/gradient-text-with-shadow.html are flaky failures
        https://bugs.webkit.org/show_bug.cgi?id=231681
        rdar://84202478

        Reviewed by Kimmo Kinnunen.

        Remove the flaky failure entries in test expectations. See WebKit2 ChangeLog for more details.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-10-19  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GTK] Update test expectations for still-failing CSS web platform tests
        https://bugs.webkit.org/show_bug.cgi?id=231964

        Unreviewed test gardening.

        * platform/gtk/TestExpectations:

2021-10-19  John Wilander  <wilander@apple.com>

        http/tests/resourceLoadStatistics/sandboxed-nesting-iframe-with-non-sandboxed-iframe-redirect-ip-to-localhost-to-ip.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=231379
        <rdar://problem/83991245>

        Reviewed by Chris Dumez.

        * http/tests/resourceLoadStatistics/resources/redirect.py:
            Added the response header 'Cache-Control: no-cache, no-store'.
            Historically, we've had problems with redirects getting cached
            so that they don't hit the network. In this particular case,
            the same redirect is being done in different orders and might
            fall into the cache trap.
        * platform/mac-wk2/TestExpectations:
            Removed [Pass Failure] expectation for sandboxed-nesting-iframe-with-non-sandboxed-iframe-redirect-ip-to-localhost-to-ip.html.

2021-10-19  Youenn Fablet  <youenn@apple.com>

        Guarantee order of WebSocket events in case of being resumed
        https://bugs.webkit.org/show_bug.cgi?id=231664

        Reviewed by Chris Dumez.

        * http/tests/websocket/tests/hybi/inspector/send-and-receive.html:
        The WebSocket server was racing to close the connection with the User Agent.
        The patch queueing a task to fire events is further amplifying this race.
        To make the test non flaky, we use an echo server that waits for User Agent to close the connection.

2021-10-19  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] http/tests/cache/disk-cache/redirect-chain-limits.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=231630

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-19  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] imported/w3c/web-platform-tests/html/canvas/element/manual tests, fast/canvas/canvas-createPattern-video-modify.html and media/video-canvas-createPattern.html are failing.
        https://bugs.webkit.org/show_bug.cgi?id=231959

        Unreviewed test gardening.

        * platform/ipad/TestExpectations:
        * platform/mac/TestExpectations:

2021-10-19  Antoine Quint  <graouts@webkit.org>

        REGRESSION(r284313): ::marker accelerated animations are broken
        https://bugs.webkit.org/show_bug.cgi?id=231906
        <rdar://problem/84383279>

        Reviewed by Antti Koivisto.

        Add a new test that checks we do not visually account for an opacity animation on a ::marker
        pseudo-element.

        * webanimations/marker-opacity-animation-no-effect-expected.html: Added.
        * webanimations/marker-opacity-animation-no-effect.html: Added.

2021-10-19  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS Win ] editing/selection/modal-dialog-select-paragraph.html is failing.
        https://bugs.webkit.org/show_bug.cgi?id=231962

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/win/TestExpectations:

2021-10-19  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] fast/inline/inline-background-clip-text-multiline.html is image failing.
        https://bugs.webkit.org/show_bug.cgi?id=231961

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-19  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] imported/w3c/web-platform-tests/html/canvas/element/manual/wide-gamut-canvas/canvas-display-p3-drawImage- tests are failing.
        https://bugs.webkit.org/show_bug.cgi?id=231959

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-19  Rob Buis  <rbuis@igalia.com>

        Unskip passing flex-basis: content + aspect ratio WPT tests
        https://bugs.webkit.org/show_bug.cgi?id=231947

        Reviewed by Sergio Villar Senin.

        Unskip passing flex-basis: content + aspect ratio WPT tests. These test cases did not work
        before because there was no support for flex-basis: content, but since r284440 they pass.

        * TestExpectations:

2021-10-19  Youenn Fablet  <youenn@apple.com>

        [ wk2 ] 2 page-cache layout-tests are flakey crashing
        https://bugs.webkit.org/show_bug.cgi?id=224558
        <rdar://problem/76652825>

        Reviewed by Eric Carlson.

        * fast/mediastream/RTCPeerConnection-icecandidate-event-expected.txt: Rebasing after mock changes.
        * platform/mac-wk2/TestExpectations:
        * webrtc/peerconnection-new-candidate-page-cache.html:

2021-10-19  Martin Robinson  <mrobinson@igalia.com>

        [css-scroll-snap] Triggering a layout during scroll causes jittery scrolling on iOS
        https://bugs.webkit.org/show_bug.cgi?id=173887
        <rdar://problem/67153673>

        Reviewed by Simon Fraser.

        * fast/scrolling/ios/scroll-snap-with-relayouts-horizontal-expected.txt: Added.
        * fast/scrolling/ios/scroll-snap-with-relayouts-horizontal.html: Added.
        * fast/scrolling/ios/scroll-snap-with-relayouts-vertical-expected.txt: Added.
        * fast/scrolling/ios/scroll-snap-with-relayouts-vertical.html: Added.

2021-10-19  Rob Buis  <rbuis@igalia.com>

        Remove support for some SVG properties
        https://bugs.webkit.org/show_bug.cgi?id=227897

        Reviewed by Simon Fraser.

        Adjust test expectations to removed properties.

        * fast/css/getComputedStyle/computed-style-expected.txt:
        * fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/glib/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/glib/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/glib/svg/css/getComputedStyle-basic-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:
        * platform/ios/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/ios/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/ios/svg/css/getComputedStyle-basic-expected.txt:
        * platform/mac/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/mac/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/mac/svg/css/getComputedStyle-basic-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * svg/css/getComputedStyle-basic-expected.txt:

2021-10-19  Youenn Fablet  <youenn@apple.com>

        getDisplayMedia MediaStreamTrack.applyConstraints behavior regressed in Safari 15
        https://bugs.webkit.org/show_bug.cgi?id=231286
        <rdar://problem/83930865>

        Reviewed by Eric Carlson.

        * fast/mediastream/getDisplayMedia-size-expected.txt: Added.
        * fast/mediastream/getDisplayMedia-size.html: Added.
        * platform/ios/TestExpectations: Added.

2021-10-19  Youenn Fablet  <youenn@apple.com>

        Close peer connection sockets when entering page cache
        https://bugs.webkit.org/show_bug.cgi?id=231890

        Reviewed by Eric Carlson.

        * webrtc/peerconnection-page-cache-long.html:
        * webrtc/peerconnection-page-cache.html:

2021-10-18  Sergio Villar Senin  <svillar@igalia.com>

        [css-flexbox] Add flex-basis: content support
        https://bugs.webkit.org/show_bug.cgi?id=221479

        Reviewed by Javier Fernandez.

        * TestExpectations: Unskipped 6 tests that are now passing.

2021-10-19  Cameron McCormack  <heycam@apple.com>

        Ensure CanvasRenderingContext2D.drawImage(video) uses the right color space
        https://bugs.webkit.org/show_bug.cgi?id=229025
        <rdar://problem/81828490>

        Reviewed by Sam Weinig.

        * TestExpectations:
        texture-corner-case-videos.html relies on incorrect color space handling
        with drawImage() on a 2D canvas and so now fails.

        * platform/glib/TestExpectations:
        * platform/ios-14/TestExpectations:
        * platform/ios-device/TestExpectations:
        * platform/ios/TestExpectations:
        * platform/mac-wk2/TestExpectations:
        * platform/mac/TestExpectations:
        New tests pass only on macOS Monterey+ and iOS 15+.

        * fast/canvas/canvas-createPattern-video-loading-expected.txt:
        * fast/canvas/canvas-createPattern-video-loading.html:
        * fast/canvas/canvas-createPattern-video-modify-expected.txt:
        * fast/canvas/canvas-createPattern-video-modify.html:
        * media/video-canvas-createPattern-expected.txt:
        * media/video-canvas-createPattern.html:
        * media/video-canvas-drawing-output-expected.txt:
        * media/video-canvas-drawing-output.html:
        * media/video-orientation-canvas-expected.txt:
        * media/video-orientation-canvas.html:
        Update some tests to check for correctly converted color values.

        * platform/mac/media/video-canvas-createPattern-expected.png: Removed.
        * platform/wpe/media/video-canvas-createPattern-expected.png: Removed.

        * platform/mac-wk1/imported/w3c/web-platform-tests/html/canvas/element/manual/imagebitmap/createImageBitmap-flipY-expected.txt:
        An existing failure that changed a bit. This is
        https://bugs.webkit.org/show_bug.cgi?id=231001.

2021-10-18  Jean-Yves Avenard  <jya@apple.com>

        WebM with invalid size should fail to load with error
        https://bugs.webkit.org/show_bug.cgi?id=231886
        rdar://77969801

        Reviewed by Jer Noble.

        * media/content/invalid-size.webm: Added.
        * media/media-webm-invalid-check-expected.txt: Added.
        * media/media-webm-invalid-check.html: Added.

2021-10-18  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r284413.
        https://bugs.webkit.org/show_bug.cgi?id=231936

        BrokeSafariBuildByAddingANewEnum

        Reverted changeset:

        "[WebAuthn] Obtain consent to create new credential when
        platform authenticator in excludedCredentials"
        https://bugs.webkit.org/show_bug.cgi?id=219813
        https://commits.webkit.org/r284413

2021-10-18  Eric Hutchison  <ehutchison@apple.com>

        [ Mac ] inspector/css/modify-css-property.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231924.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-10-18  Ayumi Kojima  <ayumi_kojima@apple.com>

        Regression(r283935 - r283938): [ macOS wk1 ] imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-autofocus-multiple-times.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231918

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-10-18  Eric Hutchison  <ehutchison@apple.com>

        [ Windows EWS ] http/wpt/webxr/xrHandInput_gc.html is failing.
        https://bugs.webkit.org/show_bug.cgi?id=231921.

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-10-15  Sergio Villar Senin  <svillar@igalia.com>

        [css-flexbox] Do not clamp flex base size with {min|max}-{height|width}
        https://bugs.webkit.org/show_bug.cgi?id=225590
        <rdar://problem/78100329>

        Reviewed by Manuel Rego Casasnovas.

        * TestExpectations: Unskipped 3 tests that are now passing.

2021-10-18  Tyler Wilcock  <tyler_w@apple.com>

        AX: Return AXEmptyGroup subrole for groups with no accessible content
        https://bugs.webkit.org/show_bug.cgi?id=231528

        Reviewed by Andres Gonzalez.

        * accessibility/mac/aria-divs-not-ignored-expected.txt:
        * accessibility/mac/aria-divs-not-ignored.html:
        Expect a subrole of AXEmptyGroup because this group has no content.

        * accessibility/roles-exposed.html:
        Changed some math testcases to use valid MathML markup. Otherwise
        they'd be considered to have no children, and therefore be given
        a subrole of AXEmptyGroup, which is not what this test is intended
        to exercise.

        * accessibility/mac/empty-group-computation-expected.txt: Added.
        * accessibility/mac/empty-group-computation.html: Added.

        * platform/mac/accessibility/lists-expected.txt: Added.
        * platform/mac/accessibility/plugin-expected.txt: Added.
        Add these Mac-specific expectations for these tests because this patch
        only causes Mac to expose the AXEmptyGroup subrole.

        * platform/mac/accessibility/svg-element-with-aria-role-expected.txt:
        Add an expected subrole of AXEmptyGroup.

2021-10-18  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS 15 ] Rebaselining 4 fast tests.
        https://bugs.webkit.org/show_bug.cgi?id=231901

        Unreviewed test gardening.

        * platform/ios/fast/backgrounds/border-radius-split-background-expected.txt:
        * platform/ios/fast/backgrounds/border-radius-split-background-image-expected.txt:
        * platform/ios/fast/borders/border-styles-split-expected.txt:
        * platform/ios/fast/text/basic/015-expected.txt:

2021-10-18  Ayumi Kojima  <ayumi_kojima@apple.com>

        Unreviewed, reverting r284377.

        Reverting because the expected.txt files are in the wrong
        folders for rebaselining

        Reverted changeset:

        "[ iOS 15 ] Rebaselining 4 fast tests."
        https://bugs.webkit.org/show_bug.cgi?id=231901
        https://commits.webkit.org/r284377

2021-10-18  Antti Koivisto  <antti@apple.com>

        background-clip:text doesn't paint correctly for inline box spanning multiple lines
        https://bugs.webkit.org/show_bug.cgi?id=231891

        Reviewed by Alan Bujtas.

        * fast/inline/inline-background-clip-text-multiline-expected.html: Added.
        * fast/inline/inline-background-clip-text-multiline.html: Added.

2021-10-18  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS 15 ] Rebaselining 4 fast tests.
        https://bugs.webkit.org/show_bug.cgi?id=231901

        Unreviewed test gardening.

        * fast/backgrounds/border-radius-split-background-expected.txt: Added.
        * fast/backgrounds/border-radius-split-background-image-expected.txt: Added.
        * fast/borders/border-styles-split-expected.txt: Added.
        * fast/text/basic/015-expected.txt: Added.

2021-10-18  Simon Fraser  <simon.fraser@apple.com>

        Cleanup css3/filters/backdrop/backdrop-filter-with-clip-path.html expected results
        https://bugs.webkit.org/show_bug.cgi?id=217804

        Reviewed by Alexey Proskuryakov.

        Change the test to use invert() instead of blur() on backdrop-filter.

        Test still fails on iOS; looks like some pixel snapping issues.

        * css3/filters/backdrop/backdrop-filter-with-clip-path-expected.html: Renamed from LayoutTests/platform/ios/css3/filters/backdrop/backdrop-filter-with-clip-path-expected.html.
        * css3/filters/backdrop/backdrop-filter-with-clip-path-expected.txt: Removed.
        * css3/filters/backdrop/backdrop-filter-with-clip-path.html:
        * platform/glib/css3/filters/backdrop/backdrop-filter-with-clip-path-expected.txt: Removed.
        * platform/mac/css3/filters/backdrop/backdrop-filter-with-clip-path-expected.png: Removed.
        * platform/wpe/css3/filters/backdrop/backdrop-filter-with-clip-path-expected.txt: Removed.

2021-10-18  Philippe Normand  <pnormand@igalia.com>

        [GStreamer] fast/mediastream/video-rotation tests are failing due to missing TestController::takeViewPortSnapshot
        https://bugs.webkit.org/show_bug.cgi?id=231059

        Reviewed by Xabier Rodriguez-Calvar.

        The video-rotation.html test was prone to flakyness in GStreamer ports, so a few changes were made:

        - don't append canvas to the page, that can "poison" future viewport snapshots
        - wait for a timeupdate before checking the first snapshot, that gives us some margin, so
        the player might have repainted
        - catch validation errors so they're not logged to the console, that would introduce result
        diffs in case the first validation was not successful
        - try at most 100 validations attempts. Ideally it would be nicer to rely on the
        requestVideoFrameCallback API for this.

        * fast/mediastream/video-rotation.html:
        * platform/glib/TestExpectations:

2021-10-18  Tim Nguyen  <ntim@apple.com>

        Fix mouse selection on modal <dialog> text nodes
        https://bugs.webkit.org/show_bug.cgi?id=231741

        Reviewed by Antti Koivisto.

        Tests:
        - editing/selection/modal-dialog-select-paragraph.html (tests this bug)
        - imported/w3c/web-platform-tests/inert/inert-node-is-unselectable.tentative.html (tests what
        the canStartSelection check was supposed to fix)

        The inert check in Node::canStartSelection() was too restrictive, which caused this bug to happen because
        we set the root node as inert and then reset it for the modal <dialog> itself, causing the text in the
        <dialog> to be unselectable. Instead, just mirror how -webkit-user-select: none; is implemented by
        introducing RenderStyle::userSelectIncludingInert().

        * editing/selection/modal-dialog-select-paragraph-expected.txt: Added.
        * editing/selection/modal-dialog-select-paragraph.html: Added.

2021-10-18  Enrique Ocaña González  <eocanha@igalia.com>

        [GLIB][GStreamer] test http/tests/security/webaudio-render-remote-audio-allowed-crossorigin-redirect.html is a flaky timeout since r278004
        https://bugs.webkit.org/show_bug.cgi?id=229219
        <rdar://problem/82059333>

        Reviewed by Philippe Normand.

        Give some more time to the frequency analyzer to detect activity.

        * http/tests/security/webaudio-render-remote-audio-allowed-crossorigin-redirect.html:

2021-10-18  Kiet Ho  <tho22@apple.com>

        Implement parsing and animation support for offset-distance, offset-position, offset-anchor
        https://bugs.webkit.org/show_bug.cgi?id=231491

        Reviewed by Antoine Quint.

        Update platform-specific test expectations to accommodate for newly added CSS properties.

        * platform/gtk/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:
        * platform/ios/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:

2021-09-24  Sergio Villar Senin  <svillar@igalia.com>

        [css-flexbox] Improve & simplify the flex-basis computation
        https://bugs.webkit.org/show_bug.cgi?id=230755

        Reviewed by Manuel Rego Casasnovas.

        * TestExpectations: Unskipped flex-basis-011.html which is now working fine.

2021-10-17  Dean Jackson  <dino@apple.com>

        [WebXR] Stubs for WebXR Hand Input Module
        https://bugs.webkit.org/show_bug.cgi?id=231123
        <rdar://problem/83802135>

        Reviewed by Sam Weinig.

        New test that checks an XRHand object can survive garbage collection.

        * http/wpt/webxr/xrHandInput_gc-expected.txt: Added.
        * http/wpt/webxr/xrHandInput_gc.html: Added.

2021-10-17  Alan Bujtas  <zalan@apple.com>

        IFC progression (inline box borders).

        Unreviewed.

        * TestExpectations:

2021-10-17  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo/fast/css/font-face-opentype-expected.txt:
        * platform/wincairo/fast/text/basic/015-expected.txt:
        * platform/wincairo/fast/text/whitespace/004-expected.txt:
        * platform/wincairo/fast/text/whitespace/005-expected.txt:
        * platform/wincairo/fast/text/whitespace/006-expected.txt:
        * platform/wincairo/fast/text/whitespace/007-expected.txt:
        * platform/wincairo/fast/text/whitespace/010-expected.txt:
        * platform/wincairo/fast/text/whitespace/011-expected.txt:
        * platform/wincairo/fast/text/whitespace/015-expected.txt:
        * platform/wincairo/fast/text/whitespace/016-expected.txt:

2021-10-17  Simon Fraser  <simon.fraser@apple.com>

        REGRESSION (r270850): Reference clip path clips in the wrong place when inside non-visible overflow
        https://bugs.webkit.org/show_bug.cgi?id=231852
        <rdar://83186229>

        Reviewed by Tim Horton.
        
        Tests for reference clip-path with box-shadows and enclosing oveflow:hidden.

        * css3/masking/reference-clip-path-bounds-expected.html: Added.
        * css3/masking/reference-clip-path-bounds.html: Added.
        * css3/masking/reference-clip-path-objectBoundingBox-buffer-clip-expected.html: Added.
        * css3/masking/reference-clip-path-objectBoundingBox-buffer-clip.html: Added.
        * css3/masking/reference-clip-path-objectBoundingBox-path-clip-expected.html: Added.
        * css3/masking/reference-clip-path-objectBoundingBox-path-clip.html: Added.

2021-10-17  Tyler Wilcock  <tyler_w@apple.com>

        AX: WebKit should not expose redundant AXGroups with missing role when the label is the same as the contents
        https://bugs.webkit.org/show_bug.cgi?id=169924

        Reviewed by Chris Fleizach.

        Add a test ensuring WebKit appropriately does and doesn't expose
        groups with redundant accessibility text.

        * accessibility/mac/ignore-redundant-accessibility-text-groups-expected.txt: Added.
        * accessibility/mac/ignore-redundant-accessibility-text-groups.html: Added.

2021-10-17  Antti Koivisto  <antti@apple.com>

        [LFC][Integration] Support background-clip:text on inline boxes
        https://bugs.webkit.org/show_bug.cgi?id=231877

        Reviewed by Alan Bujtas.

        * fast/inline/inline-background-clip-text-expected.html: Added.
        * fast/inline/inline-background-clip-text.html: Added.

2021-10-16  Robin Morisset  <rmorisset@apple.com>

        Allow WASM to use up to 4GB
        https://bugs.webkit.org/show_bug.cgi?id=229353
        rdar://81603447

        Reviewed by Yusuke Suzuki.

        Rebaselined three following tests as different or fewer error messages appear on the console.
        Also changed currentVersion in serialized-script-value.html from 9 to 10.

        * fast/canvas/canvas-getImageData-invalid-result-buffer-crash-expected.txt:
        * fast/storage/serialized-script-value.html:
        * webaudio/OfflineAudioContext-bad-buffer-crash-expected.txt:
        * webaudio/OfflineAudioContext/bad-buffer-length-expected.txt:

2021-10-16  Tim Horton  <timothy_horton@apple.com>

        Unreviewed, revert r284181
        
        No longer needed because the root cause was reverted.

        * platform/mac-wk2/TestExpectations:

2021-10-16  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Adjust the logical left side of the line with line spanning inline boxes
        https://bugs.webkit.org/show_bug.cgi?id=231851

        Reviewed by Antti Koivisto.

        * fast/inline/inline-box-with-left-decoration-clone-expected.html: Added.
        * fast/inline/inline-box-with-left-decoration-clone.html: Added.

2021-10-16  Alan Bujtas  <zalan@apple.com>

        Undo some rebaseline in r284296.

        Unreviewed.

        * platform/mac-bigsur/fast/text/capitalize-boundaries-expected.txt:
        * platform/mac-catalina/fast/text/capitalize-boundaries-expected.txt:

2021-10-16  Simon Fraser  <simon.fraser@apple.com>

        Make sure child layers of top layer elements are rendered and correctly z-ordered (top-layer-stacking.html fails)
        https://bugs.webkit.org/show_bug.cgi?id=231832

        Reviewed by Antoine Quint.

        Ref test that compares a dialog with positioned children and one with children place
        with margins.

        * fast/layers/dialog-is-stacking-context-expected.html: Added.
        * fast/layers/dialog-is-stacking-context.html: Added.

2021-10-15  Antoine Quint  <graouts@webkit.org>

        Accelerated animations on ::backdrop shouldn't affect <dialog> (backdrop-animate-002.html fails)
        https://bugs.webkit.org/show_bug.cgi?id=230008
        <rdar://problem/82975766>

        Reviewed by Simon Fraser and Tim Nguyen.

        * TestExpectations: Mark the previously failing test as passing.

2021-10-15  Antoine Quint  <graouts@webkit.org>

        CSS Animations creation and sorting is incorrect and may lead to crash
        https://bugs.webkit.org/show_bug.cgi?id=231812
        <rdar://problem/82980774>

        Reviewed by Dean Jackson.

        Add a new test that used to crash before the source change.

        * animations/animation-remove-element-crash.html: Remove a line that was now a failure since only a
        single animation should be created.
        * webanimations/css-animation-sorting-crash-expected.txt: Added.
        * webanimations/css-animation-sorting-crash.html: Added.

2021-10-15  Antti Koivisto  <antti@apple.com>

        [LFC][Integration] Enable inline boxes with borders
        https://bugs.webkit.org/show_bug.cgi?id=231562

        Reviewed by Alan Bujtas.

        * fast/css/pseudo-first-line-border-width-expected.txt:
        * fast/text/apply-start-width-after-skipped-text-expected.txt:
        * platform/ios/fast/borders/border-image-outset-split-inline-expected.txt:
        * platform/ios/fast/css/pseudo-first-line-border-width-expected.txt:
        * platform/mac/fast/borders/border-image-outset-split-inline-expected.txt:
        * platform/mac/fast/text/basic/015-expected.txt:

2021-10-15  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r284245.
        https://bugs.webkit.org/show_bug.cgi?id=231848

        Caused

        Reverted changeset:

        "AX: WebKit should not expose redundant AXGroups with missing
        role when the label is the same as the contents"
        https://bugs.webkit.org/show_bug.cgi?id=169924
        https://commits.webkit.org/r284245

2021-10-15  Robert Jenner  <Jenner@apple.com>

        REBASELINE: fast/text/capitalize-boundaries.html is a constant text failure
        https://bugs.webkit.org/show_bug.cgi?id=228200

        Uneviewed tes gardening/Removal of no longer needed expectation.

        * platform/ios-wk2/TestExpectations:

2021-10-15  Robert Jenner  <Jenner@apple.com>

        REBASELINE: fast/text/capitalize-boundaries.html is a constant text failure
        https://bugs.webkit.org/show_bug.cgi?id=228200

        Unreviewed test gardening/rebase.

        * platform/ios-wk2/fast/text/capitalize-boundaries-expected.txt:
        * platform/mac-bigsur/fast/text/capitalize-boundaries-expected.txt:
        * platform/mac-catalina/fast/text/capitalize-boundaries-expected.txt:
        * platform/mac/fast/text/capitalize-boundaries-expected.png: Added.
        * platform/mac/fast/text/capitalize-boundaries-expected.txt:

2021-10-15  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS 15 ] Rebaselining platform/ios/ios/fast/text/opticalFontWithWeight.html.
        https://bugs.webkit.org/show_bug.cgi?id=231380

        Unreviewed test gardening.

        * platform/ios-14/platform/ios/ios/fast/text/opticalFontWithWeight-expected.txt: Added.

2021-10-15  Aditya Keerthi  <akeerthi@apple.com>

        [iOS] Support accent-color for button-like controls
        https://bugs.webkit.org/show_bug.cgi?id=231764
        rdar://84261821

        Reviewed by Tim Horton.

        Add new tests for iOS and mark newly passing test.

        * TestExpectations:
        * fast/css/accent-color/button-expected-mismatch.html: Added.
        * fast/css/accent-color/button.html: Added.
        * fast/css/accent-color/date-expected-mismatch.html: Added.
        * fast/css/accent-color/date.html: Added.
        * fast/css/accent-color/submit-expected-mismatch.html: Added.
        * fast/css/accent-color/submit.html: Added.
        * platform/ios/TestExpectations:
        * platform/mac/TestExpectations:

2021-10-15  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test expectations for known failures. Unreviewed test gardening.
        https://bugs.webkit.org/show_bug.cgi?id=231820

        * platform/glib/TestExpectations:

2021-10-15  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS 15 ] imported/w3c/web-platform-tests/WebCryptoAPI/derive_bits_keys/pbkdf2.https.any.worker.html is flaky timing out.
        https://bugs.webkit.org/show_bug.cgi?id=231544

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations: Marked the test slow

2021-10-15  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ macOS wk2 ] http/tests/xmlhttprequest/access-control-repeated-failed-preflight-crash.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=231831

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-10-15  Robert Jenner  <Jenner@apple.com>

        REBASELINE 2 tables/mozilla tests failing constantly
        https://bugs.webkit.org/show_bug.cgi?id=228200

        Unreviewed test gardening/rebase for Monterey.

        * platform/mac-bigsur/tables/mozilla/bugs/bug2479-3-expected.txt: Copied from LayoutTests/platform/mac/tables/mozilla/bugs/bug2479-3-expected.txt.
        * platform/mac-bigsur/tables/mozilla/bugs/bug26178-expected.txt: Copied from LayoutTests/platform/mac/tables/mozilla/bugs/bug26178-expected.txt.
        * platform/mac-catalina/tables/mozilla/bugs/bug26178-expected.txt: Copied from LayoutTests/platform/mac/tables/mozilla/bugs/bug26178-expected.txt.
        * platform/mac/tables/mozilla/bugs/bug2479-3-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug26178-expected.txt:

2021-10-15  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r284244.
        https://bugs.webkit.org/show_bug.cgi?id=231813

        Introduced

        Reverted changeset:

        "AX: Return AXEmptyGroup subrole for groups with no accessible
        content"
        https://bugs.webkit.org/show_bug.cgi?id=231528
        https://commits.webkit.org/r284244

2021-10-15  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] http/tests/workers/service/client-removed-from-clients-while-in-page-cache.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=230376

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations: Removed test expectations

2021-10-15  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] http/wpt/webaudio/the-audio-api/the-audioworklet-interface/context-already-rendering.html is flaky.
        https://bugs.webkit.org/show_bug.cgi?id=230421

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations: Removed test expectations

2021-10-15  Kate Cheney  <katherine_cheney@apple.com>

        CSP: Implement src-elem and src-attr directives
        https://bugs.webkit.org/show_bug.cgi?id=231751
        <rdar://problem/83332874>

        Reviewed by Brent Fulgham.

        * http/tests/security/contentSecurityPolicy/1.1/report-uri-effective-directive-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/script-blocked-sends-multiple-reports-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-allowed-by-enforced-policy-and-blocked-by-report-policy-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-allowed-by-enforced-policy-and-blocked-by-report-policy2-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-allowed-by-legacy-enforced-policy-and-blocked-by-report-policy-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-allowed-by-legacy-enforced-policy-and-blocked-by-report-policy2-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-blocked-by-enforced-policy-and-allowed-by-report-policy-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-blocked-by-legacy-enforced-policy-and-blocked-by-report-policy-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-blocked-by-legacy-enforced-policy-and-blocked-by-report-policy2-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-blocked-by-enforced-policy-and-allowed-by-report-policy-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/securityviolationpolicy-block-frame-using-child-src-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/securityviolationpolicy-block-frame-using-default-src-expected.txt:
        These should both be reproting frame-src as the violated directive,
        confirmed this behavior against Chrome.

        * http/tests/security/contentSecurityPolicy/report-and-enforce-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-only-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-only-from-header-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-only-upgrade-insecure-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-status-code-zero-when-using-https-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-uri-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-uri-from-child-frame-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-uri-scheme-relative-expected.txt:

2021-10-15  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS Catalina ] imported/w3c/web-platform-tests/css/css-transforms/crashtests/transform-marquee-resize-div-image-001.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231816

        Unreviewed test gardning.

        * platform/ios-wk2/TestExpectations:

2021-10-15  Simon Fraser  <simon.fraser@apple.com>

        REGRESSION (r276370): Elements with animated transform property might not properly rendered
        https://bugs.webkit.org/show_bug.cgi?id=230753

        Reviewed by Myles C. Maxfield.

        * fast/repaint/transform-preserve-3d-repaint-expected.txt: Added.
        * fast/repaint/transform-preserve-3d-repaint.html: Added.

2021-10-15  Tyler Wilcock  <tyler_w@apple.com>

        AX: role="math" elements are no longer considered to have presentational children
        https://bugs.webkit.org/show_bug.cgi?id=231756

        Reviewed by Chris Fleizach and Darin Adler.

        * accessibility/math-has-non-presentational-children-expected.txt: Added.
        * accessibility/math-has-non-presentational-children.html: Added.

        * accessibility/presentational-children-expected.txt:
        * accessibility/presentational-children.html:
        Remove the role="math" element from this test because as of WAI-ARIA
        1.2 role="math" is no longer considered to have presentational children.
        Also change this test to ensure role="meter" elements are considered to 
        have presentational children because that testcase was missing.

2021-10-15  Tyler Wilcock  <tyler_w@apple.com>

        AX: WebKit should not expose redundant AXGroups with missing role when the label is the same as the contents
        https://bugs.webkit.org/show_bug.cgi?id=169924

        Reviewed by Andres Gonzalez.

        Add a test ensuring WebKit appropriately does and doesn't expose
        groups with redundant accessibility text.

        * accessibility/mac/ignore-redundant-accessibility-text-groups-expected.txt: Added.
        * accessibility/mac/ignore-redundant-accessibility-text-groups.html: Added.

2021-10-15  Tyler Wilcock  <tyler_w@apple.com>

        AX: Return AXEmptyGroup subrole for groups with no accessible content
        https://bugs.webkit.org/show_bug.cgi?id=231528

        Reviewed by Andres Gonzalez.

        * accessibility/mac/aria-divs-not-ignored-expected.txt:
        * accessibility/mac/aria-divs-not-ignored.html:
        Expect a subrole of AXEmptyGroup because this group has no content.

        * accessibility/mac/empty-group-computation-expected.txt: Added.
        * accessibility/mac/empty-group-computation.html: Added.

        * platform/mac/accessibility/lists-expected.txt: Added.
        * platform/mac/accessibility/plugin-expected.txt: Added.
        Add these Mac-specific expectations for these tests because this patch
        only causes Mac to expose the AXEmptyGroup subrole.

        * platform/mac/accessibility/svg-element-with-aria-role-expected.txt:
        Add an expected subrole of AXEmptyGroup.

2021-10-15  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Do not break the word-wrap: break-word content on inline box boundary
        https://bugs.webkit.org/show_bug.cgi?id=231761

        Reviewed by Antti Koivisto.

        * fast/inline/wordbreak-at-inline-box-boundary-expected.html: Added.
        * fast/inline/wordbreak-at-inline-box-boundary.html: Added.

2021-10-15  Robin Morisset  <rmorisset@apple.com>

        Revert r284230, my last fixes to the watch build make it break tests
        https://bugs.webkit.org/show_bug.cgi?id=231797

        Unreviewed.

        Revert "Allow WASM to use up to 4GB"

        * fast/storage/serialized-script-value.html:
        * webaudio/OfflineAudioContext-bad-buffer-crash-expected.txt:
        * webaudio/OfflineAudioContext/bad-buffer-length-expected.txt:

2021-10-14  Rob Buis  <rbuis@igalia.com>

        Fix grid-auto-repeat-dynamic-003.html
        https://bugs.webkit.org/show_bug.cgi?id=231592

        Reviewed by Alan Bujtas.

        * TestExpectations:

2021-10-14  Aditya Keerthi  <akeerthi@apple.com>

        [iOS] Support accent-color for controls without text
        https://bugs.webkit.org/show_bug.cgi?id=231762
        rdar://84261702

        Reviewed by Tim Horton.

        Add new "Pass" results.

        * TestExpectations:
        * platform/ios/TestExpectations:
        * platform/mac/TestExpectations:

2021-10-14  Alan Bujtas  <zalan@apple.com>

        WPT progression after turning on the IFC codepath for inline boxes with background decoration (r284194).

        Unreviewed.

        * TestExpectations:

2021-10-14  Robin Morisset  <rmorisset@apple.com>

        Allow WASM to use up to 4GB
        https://bugs.webkit.org/show_bug.cgi?id=229353
        rdar://81603447

        Reviewed by Yusuke Suzuki.

        Rebaselined three following tests as different or fewer error messages appear on the console.
        Also changed currentVersion in serialized-script-value.html from 9 to 10.

        * fast/canvas/canvas-getImageData-invalid-result-buffer-crash-expected.txt:
        * fast/storage/serialized-script-value.html:
        * webaudio/OfflineAudioContext-bad-buffer-crash-expected.txt:
        * webaudio/OfflineAudioContext/bad-buffer-length-expected.txt:

2021-10-14  Aditya Keerthi  <akeerthi@apple.com>

        [iOS] Paint <datalist> indicator in RenderTheme
        https://bugs.webkit.org/show_bug.cgi?id=231755
        rdar://84261604

        Reviewed by Tim Horton.

        Rebaseline tests.

        * platform/ios-simulator/fast/forms/datalist/datalist-searchinput-appearance-expected.txt:
        * platform/ios-simulator/fast/forms/datalist/datalist-textinput-appearance-expected.txt:

2021-10-14  Eric Hutchison  <ehutchison@apple.com>

        [ iOS15 Mac wk2 Debug ] imported/w3c/web-platform-tests/webrtc/simulcast/basic.https.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231780.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-10-14  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ MacOS ] http/tests/security/contentSecurityPolicy/frame-src-cross-origin-load.html is a flakey failure.
        https://bugs.webkit.org/show_bug.cgi?id=230428

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-14  Kyle Piddington  <kpiddington@apple.com>

        https://tankionline.com/play/ html5 engine not working: crashes. (Metal shader not working)
        https://bugs.webkit.org/show_bug.cgi?id=231490

        Add argument to RemoveInactiveInterfaceVariables to keep 
        output fragment variables, even if they are 
        Add a new test to  verify that this problem is fixed.

        Reviewed by Kenneth Russell.

        * webgl/pending/conformance2/glsl3/empty-shader-with-output-expected.txt: Added.
        * webgl/pending/conformance2/glsl3/empty-shader-with-output.html: Added.
        * webgl/pending/resources/webgl_test_files/conformance2/glsl3/empty-shader-with-output.html: Added.

2021-10-14  Eric Hutchison  <ehutchison@apple.com>

        Rebaseline for fast/css/font-face-implicit-local-font.html.
        https://bugs.webkit.org/show_bug.cgi?id=231770.

        Unreviewed rebaseline.

        * platform/ios/fast/css/font-face-implicit-local-font-expected.txt:

2021-10-14  Antti Koivisto  <antti@apple.com>

        [LFC][Integration] Enable inline boxes with background
        https://bugs.webkit.org/show_bug.cgi?id=231556

        Reviewed by Alan Bujtas.

        * platform/ios/fast/text/whitespace/004-expected.txt:
        * platform/ios/fast/text/whitespace/005-expected.txt:
        * platform/ios/fast/text/whitespace/006-expected.txt:
        * platform/ios/fast/text/whitespace/007-expected.txt:
        * platform/ios/fast/text/whitespace/010-expected.txt:
        * platform/ios/fast/text/whitespace/011-expected.txt:
        * platform/ios/fast/text/whitespace/015-expected.txt:
        * platform/ios/fast/text/whitespace/016-expected.txt:
        * platform/mac/fast/text/whitespace/004-expected.txt:
        * platform/mac/fast/text/whitespace/005-expected.txt:
        * platform/mac/fast/text/whitespace/006-expected.txt:
        * platform/mac/fast/text/whitespace/007-expected.txt:
        * platform/mac/fast/text/whitespace/010-expected.txt:
        * platform/mac/fast/text/whitespace/011-expected.txt:
        * platform/mac/fast/text/whitespace/015-expected.txt:
        * platform/mac/fast/text/whitespace/016-expected.txt:

2021-10-14  Eric Hutchison  <ehutchison@apple.com>

        [ Mac wk2 Release x86 ] http/tests/resourceLoadStatistics/website-data-removal-for-site-navigated-to-with-link-decoration.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=231765.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-10-14  Eric Hutchison  <ehutchison@apple.com>

        [ BigSur ] inspector/canvas/updateShader-webgl.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231757.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-10-14  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS macOS wk2 Debug ] ASSERTION FAILED: other.underlyingStringIsValid().
        https://bugs.webkit.org/show_bug.cgi?id=231752

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-10-14  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS EWS ] http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-ephemeral.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=231748

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-14  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS Mac wk2 Debug ] imported/w3c/web-platform-tests/content-security-policy/generic/policy-inherited-correctly-by-plznavigate.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231083

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-14  Aditya Keerthi  <akeerthi@apple.com>

        REGRESSION (r283858): Intense white hover state appears on playback controls on Netflix/YouTube
        https://bugs.webkit.org/show_bug.cgi?id=231719
        rdar://84213404

        Reviewed by Tim Horton.

        Added a mismatch test to ensure that animating the background color
        of a button drops native appearance. Verified that the test passes
        before r283858, on Safari 15, and fails on r283858.

        * fast/forms/button-animation-appearance-expected-mismatch.html: Added.
        * fast/forms/button-animation-appearance.html: Added.

2021-10-14  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Apply the line-gap font metrics when computing the layout bounds for inline boxes
        https://bugs.webkit.org/show_bug.cgi?id=231699

        Reviewed by Antti Koivisto.

        * fast/inline/fallback-font-with-line-spacing-expected.html: Added.
        * fast/inline/fallback-font-with-line-spacing.html: Added.
        * platform/mac/fast/text/international/003-expected.txt: Progression.

2021-10-13  Eric Hutchison  <ehutchison@apple.com>

        [ iOS15 ] fast/scrolling/ios/click-events-during-momentum-scroll-in-overflow.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=231714.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-13  Patrick Angle  <pangle@apple.com>

        HTTP method in web inspector network tab is not what WebKit actually sent after a redirect from POST to GET
        https://bugs.webkit.org/show_bug.cgi?id=222558

        Reviewed by Michael Catanzaro.

        Test that redirect requests and responses have the appropriate method and status code and the correct number of
        redirect records were created.

        * http/tests/inspector/network/resource-redirect-request-headers-expected.txt: Added.
        * http/tests/inspector/network/resource-redirect-request-headers.html: Added.

2021-10-13  Megan Gardner  <megan_gardner@apple.com>

        Remove adjustForIOSCaretWhenScrolling() code
        https://bugs.webkit.org/show_bug.cgi?id=230454

        Reviewed by Simon Fraser.

        Rebase tests with the unified code path.

        * platform/ios-wk2/editing/input/caret-at-the-edge-of-input-expected.txt:
        * platform/ios-wk2/fast/layers/scroll-rect-to-visible-expected.txt:
        * platform/ios/fast/forms/input-text-scroll-left-on-blur-expected.txt:
        * platform/ios/fast/forms/textfield-outline-expected.txt:

2021-10-13  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Windows EWS ] js/dom & js/dfg- tests are a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=231703

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-10-13  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Preserved tab is not a word separator
        https://bugs.webkit.org/show_bug.cgi?id=231687

        Reviewed by Antti Koivisto.

        * fast/text/preserved-white-space-with-word-spacing-expected.html: Added.
        * fast/text/preserved-white-space-with-word-spacing.html: Added.

2021-10-13  Jean-Yves Avenard  <jya@apple.com>

        Add mp3 and aac web audio test
        https://bugs.webkit.org/show_bug.cgi?id=231643
        rdar://problem/84178398

        Add MP3 / AAC webaudio decodeAudioData tests.
        Existing tests were disabled by default, likely due to
        https://bugs.webkit.org/show_bug.cgi?id=230974

        Reviewed by Eric Carlson.

        * platform/mac/TestExpectations:
        * platform/wk2/TestExpectations:
        * webaudio/decode-audio-data-basic-expected.txt:
        * webaudio/decode-audio-data-basic.html:

2021-10-13  Sihui Liu  <sihui_liu@apple.com>

        Implement FileSystemHandle move()
        https://bugs.webkit.org/show_bug.cgi?id=231676
        <rdar://problem/84199823>

        Reviewed by Youenn Fablet.

        * storage/filesystemaccess/handle-move-expected.txt: Added.
        * storage/filesystemaccess/handle-move-worker-expected.txt: Added.
        * storage/filesystemaccess/handle-move-worker.html: Added.
        * storage/filesystemaccess/handle-move.html: Added.
        * storage/filesystemaccess/resources/handle-move.js: Added.
        (finishTest):
        (async test):

2021-10-13  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo/TestExpectations:

2021-10-13  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for fast/events/ios/dom-update-on-keydown-quirk.html.
        https://bugs.webkit.org/show_bug.cgi?id=230509.

        Unreviewed test gardening.

        * platform/ios-14-wk2/TestExpectations:
        * platform/ios-wk2/TestExpectations:

2021-10-13  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Windows EWS ] fast/text/hanging-punctuation-allow-end-basic.html is image failing.
        https://bugs.webkit.org/show_bug.cgi?id=231690

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-10-13  Tim Nguyen  <ntim@apple.com>

        Implement <dialog> focusing steps
        https://bugs.webkit.org/show_bug.cgi?id=227537

        Reviewed by Darin Adler.

        https://html.spec.whatwg.org/multipage/interactive-elements.html#dialog-focusing-steps

        * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-cancel-with-select-expected.txt: Added (test_driver.send_keys not working on iOS)

2021-10-13  Aditya Keerthi  <akeerthi@apple.com>

        [macOS] Add support for accent-color
        https://bugs.webkit.org/show_bug.cgi?id=231464
        rdar://84049511

        Reviewed by Tim Horton.

        Added ref tests for accent-color. These are not WPT, since the spec does
        not specify which controls accent-color applies to.

        * TestExpectations:
        * fast/css/accent-color/checkbox-expected-mismatch.html: Added.
        * fast/css/accent-color/checkbox.html: Added.
        * fast/css/accent-color/datalist-expected-mismatch.html: Added.
        * fast/css/accent-color/datalist.html: Added.
        * fast/css/accent-color/progress-expected-mismatch.html: Added.
        * fast/css/accent-color/progress.html: Added.
        * fast/css/accent-color/radio-expected-mismatch.html: Added.
        * fast/css/accent-color/radio.html: Added.
        * fast/css/accent-color/range-expected-mismatch.html: Added.
        * fast/css/accent-color/range.html: Added.
        * fast/css/accent-color/select-expected-mismatch.html: Added.
        * fast/css/accent-color/select.html: Added.
        * fast/css/accent-color/text-expected.html: Added.
        * fast/css/accent-color/text.html: Added.
        * platform/mac/TestExpectations:

2021-10-13  Eric Hutchison  <ehutchison@apple.com>

        [ iOS15 Catalina Debug ] requestidlecallback/requestidlecallback-document-gc.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=231684.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk1/TestExpectations:

2021-10-13  Chris Dumez  <cdumez@apple.com>

        MessagePort messages sent in iframe unload event not received
        https://bugs.webkit.org/show_bug.cgi?id=231167
        <rdar://problem/84095357>

        Reviewed by Alex Christensen.

        Add layout test coverage.

        * fast/frames/message-port-postMessage-unload-event-expected.txt: Added.
        * fast/frames/message-port-postMessage-unload-event.html: Added.

2021-10-13  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS MacOS wk2 Release ] 2 fast/canvas tests are flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=231681

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-10-13  Aditya Keerthi  <akeerthi@apple.com>

        Unprefix -webkit-appearance
        https://bugs.webkit.org/show_bug.cgi?id=231534
        rdar://84112934

        Reviewed by Wenson Hsieh.

        * TestExpectations:

        Mark two tests ref tests as failing. These tests were incorrectly passing
        due to lack of support for 'appearance'. The tests use <compat-auto> values
        which we do not yet support due to compat risk with internal apps. These
        tests will be addressed on a case-by-case basis.

        * fast/css/getComputedStyle/computed-style-expected.txt:
        * fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * fast/css/getComputedStyle/resources/property-names.js:
        * platform/glib/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/glib/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/glib/svg/css/getComputedStyle-basic-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/css-ui/appearance-cssom-001-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/rendering/widgets/appearance/default-styles-expected.txt:
        * platform/ios/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/ios/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/ios/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/ios/svg/css/getComputedStyle-basic-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/html/rendering/widgets/appearance/default-styles-expected.txt:
        * platform/mac/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/mac/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/mac/svg/css/getComputedStyle-basic-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * svg/css/getComputedStyle-basic-expected.txt:

2021-10-13  Simon Fraser  <simon.fraser@apple.com>

        [WK1] Tests for smooth scrolling of a window fail
        https://bugs.webkit.org/show_bug.cgi?id=191357

        Reviewed by Sam Weinig.

        Some cssom-view tests pass now in WK1.

        * platform/mac-wk1/TestExpectations:

2021-10-13  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Do not break at the inline box boundary when wrapping is not allowed
        https://bugs.webkit.org/show_bug.cgi?id=231581

        Reviewed by Antti Koivisto.

        * fast/inline/no-soft-wrap-opportunity-at-inline-box-expected.html: Added.
        * fast/inline/no-soft-wrap-opportunity-at-inline-box.html: Added.

2021-10-13  Alicia Boya García  <aboya@igalia.com>

        Unreviewed, reverting r283609

        Build failure with GStreamer 1.14 and regression causing frame
        corruption.

        Reverted changeset:

        "[MSE][GStreamer] Honor MP4 edit lists"
        https://bugs.webkit.org/show_bug.cgi?id=231019
        https://commits.webkit.org/r283609

2021-10-13  Youenn Fablet  <youenn@apple.com>

        Add support for WebRTC media capabilities
        https://bugs.webkit.org/show_bug.cgi?id=231568

        Reviewed by Eric Carlson.

        * media/mediacapabilities/mock-encodingInfo-expected.txt:
        * media/mediacapabilities/mock-encodingInfo.html:
        * platform/ios/media/mediacapabilities/mediacapabilities-encodingInfo-undefined-expected.txt: Removed.
        * platform/ios/media/mediacapabilities/mediacapabilities-encodingInfo-undefined.html: Removed.
        * platform/ios/media/mediacapabilities/mediacapabilities-types-expected.txt: Removed.
        * platform/mac/media/mediacapabilities/mediacapabilities-types-expected.txt: Removed.
        * platform/mac/media/mediacapabilities/mediacapabilities-encodingInfo-undefined-expected.txt: Removed.
        * platform/mac/media/mediacapabilities/mediacapabilities-encodingInfo-undefined.html: Removed.
        * platform/mac/media/mediacapabilities/mediacapabilities-types-expected.txt:
        * tests-options.json:

2021-10-13  Martin Robinson  <mrobinson@webkit.org>

        Sticky element inside another sticky element does not redraw properly on scroll
        https://bugs.webkit.org/show_bug.cgi?id=199915
        <rdar://problem/53375284>

        Reviewed by Simon Fraser.

        When calculating layer position for sticky nodes in the scrolling tree, take into
        account situations where the sticky parents of sticky nodes don't stick (due to
        sizing). This was handled properly in layout, but not in the scrolling tree, which
        caused these kinds of nodes to jump around.

        * scrollingcoordinator/mac/nested-sticky-with-nonsticking-sticky-parent-expected.html: Added.
        * scrollingcoordinator/mac/nested-sticky-with-nonsticking-sticky-parent.html: Added.

2021-10-12  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GTK] Update test expectations for CSS web platform tests.
        https://bugs.webkit.org/show_bug.cgi?id=231632

        Unreviewed test gardening.

        * platform/gtk/TestExpectations:
        * platform/gtk/fast/css/empty-inline-line-height-first-line-expected.txt: Added.
        * platform/gtk/fast/css/empty-inline-line-height-first-line-quirksmode-expected.txt: Added.
        * platform/gtk/fast/parser/entities-in-xhtml-expected.txt: Added.

2021-10-12  Kate Cheney  <katherine_cheney@apple.com>

        CSP: Implement unsafe-hashes
        https://bugs.webkit.org/show_bug.cgi?id=231313
        <rdar://problem/83724376>

        Reviewed by Brent Fulgham.

        Mostly updating blockedURI to be "inline" in the case of inline script
        or style violations to match the CSP3 spec. 

        * TestExpectations:
        javascript_src_allowed-href_blank.html times out because it can't find
        opener.t1. This is unrelated to unsafe-hashes and seems to be another
        bug in our DOM code.

        * http/tests/security/contentSecurityPolicy/1.1/report-uri-effective-directive-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-allowed-by-enforced-policy-and-blocked-by-report-policy-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-allowed-by-enforced-policy-and-blocked-by-report-policy2-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-allowed-by-legacy-enforced-policy-and-blocked-by-report-policy-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-allowed-by-legacy-enforced-policy-and-blocked-by-report-policy2-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-blocked-by-enforced-policy-and-allowed-by-report-policy-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-blocked-by-legacy-enforced-policy-and-blocked-by-report-policy-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-blocked-by-legacy-enforced-policy-and-blocked-by-report-policy2-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-blocked-by-enforced-policy-and-allowed-by-report-policy-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-and-enforce-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-only-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-only-from-header-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-only-upgrade-insecure-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-status-code-zero-when-using-https-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-uri-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-uri-from-child-frame-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-uri-scheme-relative-expected.txt:

2021-10-12  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Do not collapse whitespace with zero-width space separator in-between
        https://bugs.webkit.org/show_bug.cgi?id=231595

        Reviewed by Antti Koivisto.

        * fast/text/whitespace-with-zero-width-space-in-between-expected.html: Added.
        * fast/text/whitespace-with-zero-width-space-in-between.html: Added.

2021-10-12  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ macOS wk1 ] imported/w3c/web-platform-tests/css/selectors/focus-visible-009.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231647

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-10-12  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] LazyLineBreakIterator should be correctly setup for the prior context case
        https://bugs.webkit.org/show_bug.cgi?id=231608

        Reviewed by Antti Koivisto.

        * fast/inline/line-break-loose-with-inline-box-boundary-expected.html: Added.
        * fast/inline/line-break-loose-with-inline-box-boundary.html: Added.

2021-10-12  Sihui Liu  <sihui_liu@apple.com>

        Implement FileSystemSyncAccessHandle read() and write()
        https://bugs.webkit.org/show_bug.cgi?id=231466
        <rdar://problem/84050394>

        Reviewed by Youenn Fablet.

        * storage/filesystemaccess/resources/sync-access-handle-read-write.js: Added.
        (finishTest):
        (arrayBufferToString):
        (stringToArrayBuffer):
        (write):
        (read):
        (async test):
        * storage/filesystemaccess/sync-access-handle-read-write-worker-expected.txt: Added.
        * storage/filesystemaccess/sync-access-handle-read-write-worker.html: Added.

2021-10-12  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS, Mac ] imported/w3c/web-platform-tests/css/css-cascade/layer-counter-style-override.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230905

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-10-12  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] fast/scrolling/ios/scroll-snap-with-momentum-scroll-in-overflow-scroll-area.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231641

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-12  Eric Hutchison  <ehutchison@apple.com>

        [ iOS15 iPad Debug ] webrtc/video-mute.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=231640.

        Unreviewed test gardening.

        * platform/ios-14-wk2/TestExpectations:
        * platform/ipad/TestExpectations:

2021-10-12  Eric Hutchison  <ehutchison@apple.com>

        [ iOS15 Debug ] webgl/pending/conformance/glsl/misc/shader-with-reserved-words-2.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=231638.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-12  Gabriel Nava Marino  <gnavamarino@apple.com>

        ASSERT hit in surrogatePairAwareIndex and surrogatePairAwareStart lambdas for text with unpaired surrogates
        https://bugs.webkit.org/show_bug.cgi?id=231606

        Reviewed by Myles C. Maxfield.

        * fast/text/word-break-column-gap-display-flex-utf16-surrogates-expected.txt: Added.
        * fast/text/word-break-column-gap-display-flex-utf16-surrogates.html: Added.
        * fast/text/word-break-letter-spacing-utf16-surrogates-expected.txt: Added.
        * fast/text/word-break-letter-spacing-utf16-surrogates.html: Added.
        * fast/text/word-break-max-width-utf16-surrogates-expected.txt: Added.
        * fast/text/word-break-max-width-utf16-surrogates.html: Added.

2021-10-12  Eric Hutchison  <ehutchison@apple.com>

        Update expectations for webgl/1.0.3/conformance/uniforms/uniform-default-values.html.
        https://bugs.webkit.org/show_bug.cgi?id=231514.

        Unreviewed test gardening.

        * platform/ios-simulator/TestExpectations:

2021-10-12  Eric Hutchison  <ehutchison@apple.com>

        [ iOS15 Debug ] media/media-fragments/TC0001.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=231636.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-12  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iPad Release ] editing/selection/ios/scroll-to-reveal-selection-when-showing-software-keyboard.html is timing out.
        https://bugs.webkit.org/show_bug.cgi?id=231635

        Unreviewed test gardening.

        * platform/ipad/TestExpectations:

2021-10-12  Eric Hutchison  <ehutchison@apple.com>

        [ iOS15 Debug ] fast/selectors/case-insensitive-attribute-bascis.html is failing).
        https://bugs.webkit.org/show_bug.cgi?id=231631.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-12  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] http/tests/cache/disk-cache/redirect-chain-limits.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=231630

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-12  Eric Hutchison  <ehutchison@apple.com>

        [ iOS15 Debug ] fast/scrolling/ios/click-events-during-momentum-scroll-in-main-frame.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=231623.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-12  Eric Hutchison  <ehutchison@apple.com>

        [ iOS15 ] 2 iOS rotation tests are timing out constantly.
        https://bugs.webkit.org/show_bug.cgi?id=231622.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-12  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS & macOS wk2 ] imported/w3c/web-platform-tests/webrtc/RTCDataChannel-close.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230696

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-12  Eric Hutchison  <ehutchison@apple.com>

        [ iOS15 Debug ] 4 dom-paste tests are flaky timeouts.
        https://bugs.webkit.org/show_bug.cgi?id=231619.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-12  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] fast/mediastream/apply-constraints-video.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231618

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-12  Eric Hutchison  <ehutchison@apple.com>

        media/track/track-cue-css.html is a flaky image failure and timeout.
        https://bugs.webkit.org/show_bug.cgi?id=230070.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-12  Eric Hutchison  <ehutchison@apple.com>

        [ iOS15 iPad Debug ] compositing/layer-creation/scale-rotation-transition-overlap.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=231616.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/ipad/TestExpectations:

2021-10-12  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] imported/blink/fast/dom/importNode-cdata.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=231612

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-12  Eric Hutchison  <ehutchison@apple.com>

        [ iOS15 iPad Debug ] imported/w3c/web-platform-tests/webrtc-encoded-transform/sframe-transform-in-worker.https.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231611.

        Unreviewed test gardening.

        * platform/ipad/TestExpectations:

2021-10-12  Eric Hutchison  <ehutchison@apple.com>

        [ iOS15 iPad Debug ] imported/w3c/web-platform-tests/webmessaging/MessagePort_onmessage_start.any.worker.html is a flaky failure (reached unreachable code).
        https://bugs.webkit.org/show_bug.cgi?id=231609.

        Unreviewed test gardening.

        * platform/ipad/TestExpectations:

2021-10-12  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] applicationmanifest/developer-warnings.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=231610

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-12  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] fast/scrolling/ios/reconcile-layer-position-recursive.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231603

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-12  Eric Hutchison  <ehutchison@apple.com>

        REGRESSION: (r283871) [ macOS wk2 Release ] 2 CSS tests are failing.
        https://bugs.webkit.org/show_bug.cgi?id=231600.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-10-12  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] imported/w3c/web-platform-tests/webrtc/simulcast/getStats.https.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231602

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-12  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS Release ] fast/mediastream/mediaElement-gc.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231601

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-12  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] http/tests/resourceLoadStatistics/switch-session-on-navigation-to-prevalent-without-interaction.py is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231586

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-12  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS 15 Debug ] imported/w3c/web-platform-tests/IndexedDB/interleaved-cursors-small.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231387

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-12  Ayumi Kojima  <ayumi_kojima@apple.com>

        media/track/track-cue-css.html is a flaky image failure.
        https://bugs.webkit.org/show_bug.cgi?id=230070

        Unreviewed test gardening.

        * platform/ios-14-wk2/TestExpectations:
        * platform/ios-wk2/TestExpectations:

2021-10-12  Ayumi Kojima  <ayumi_kojima@apple.com>

        [Release WK2] imported/w3c/web-platform-tests/file-system-access/sandboxed_FileSystemBaseHandle-postMessage-windows.https.window.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231348

        Unreviewed test gardening.

        * platform/wk2/TestExpectations:

2021-10-12  Kimmo Kinnunen  <kkinnunen@apple.com>

        WebGL first clear is lost when scissor is used for preserveDrawingBuffer:true in some conditions
        https://bugs.webkit.org/show_bug.cgi?id=230618
        <rdar://problem/83668270>

        Reviewed by Dean Jackson.

        Add a pixel test to verify that scissor is not applied when blitting drawing buffer
        to display buffer in preserveDrawingBuffer: true case.

        * webgl/gl-clear-preserve-drawing-buffer-bug-expected.html: Added.
        * webgl/gl-clear-preserve-drawing-buffer-bug.html: Added.

2021-10-11  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test expectations for failing CSS tests.
        https://bugs.webkit.org/show_bug.cgi?id=231547

        Unreviewed test gardening.

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:

2021-10-11  Chris Dumez  <cdumez@apple.com>

        [COOP] Crash under ReportingEndpointsCache::addEndpointFromDictionary()
        https://bugs.webkit.org/show_bug.cgi?id=231537
        <rdar://83530643>

        Reviewed by Geoffrey Garen.

        Add layout test coverage.

        * http/wpt/cross-origin-opener-policy/report-to-multiple-endpoints-expected.txt: Added.
        * http/wpt/cross-origin-opener-policy/report-to-multiple-endpoints.html: Added.
        * http/wpt/cross-origin-opener-policy/report-to-multiple-endpoints.html.headers: Added.

2021-10-11  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS 15 ] imported/w3c/web-platform-tests/WebCryptoAPI/derive_bits_keys/pbkdf2.https.any.worker.html is flaky timing out.
        https://bugs.webkit.org/show_bug.cgi?id=231544

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-11  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS macOS Debug ] webgl/1.0.3/conformance/glsl/bugs/long-expressions-should-not-crash.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=231541

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk1/TestExpectations:

2021-10-11  Tim Nguyen  <ntim@apple.com>

        Implement new autofocus behavior
        https://bugs.webkit.org/show_bug.cgi?id=203139
        <rdar://problem/56397019>

        Reviewed by Wenson Hsieh.

        Make WebKit match the new autofocus spec:
        - https://html.spec.whatwg.org/multipage/interaction.html#the-autofocus-attribute
        - https://html.spec.whatwg.org/multipage/interaction.html#focusing-steps

        The new autofocus behavior queues up all autofocusable elements (visible or not), then
        fires autofocus asynchronously during the "update rendering" steps, unlike the old behavior
        which runs focus synchronously whenever it finds a visible autofocusable element.

        Original patch by Ryosuke Niwa.

        * TestExpectations:
        * fast/dom/Window/window-scroll-ignore-null-frame.html:
        * fast/dom/adopt-node-crash-2-expected.txt:
        * fast/dom/adopt-node-crash-2.html:
        * fast/dom/window-inner-width-crash.html:
        * fast/forms/autofocus-in-sandbox-with-allow-scripts-expected.txt:
        * fast/forms/autofocus-in-sandbox-with-allow-scripts.html:
        * fast/forms/autofocus-keygen.html:
        * fast/forms/autofocus-opera-001.html:
        * fast/forms/autofocus-opera-002.html:
        * fast/forms/autofocus-opera-003.html:
        * fast/forms/autofocus-opera-006.html:
        * fast/forms/autofocus-opera-007.html:
        * fast/forms/change-input-type-in-focus-handler.html:
        * fast/frames/crash-when-iframe-is-remove-in-eventhandler.html:
        * fast/history/page-cache-execute-script-during-restore.html:
        * platform/ios-wk2/TestExpectations:
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/interaction/focus/the-autofocus-attribute/update-the-rendering-expected.txt:
        * platform/ios/imported/w3c/web-platform-tests/selection/selection-select-all-move-input-crash-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/html/interaction/focus/the-autofocus-attribute/update-the-rendering-expected.txt:
        * platform/win/TestExpectations:

2021-10-11  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS BigSur wk1 ] webgl/1.0.3/conformance/uniforms/uniform-default-values.html is flaky timing out.
        https://bugs.webkit.org/show_bug.cgi?id=231514

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk1/TestExpectations:

2021-10-11  Ben Nham  <nham@apple.com>

        Add push registration stubs
        https://bugs.webkit.org/show_bug.cgi?id=231064

        Reviewed by Youenn Fablet.

        Add basic tests for PushManager.subscribe in both the window and service worker contexts.

        * http/wpt/push-api/pushManager-worker.js: Added.
        * http/wpt/push-api/pushManager.any-expected.txt: Added.
        * http/wpt/push-api/pushManager.any.html: Added.
        * http/wpt/push-api/pushManager.any.js: Added.
        (isServiceWorker.promise_test.async test):
        (else.promise_test.async test):
        (promise_test.async test):
        * http/wpt/push-api/pushManager.any.serviceworker-expected.txt: Added.
        * http/wpt/push-api/pushManager.any.serviceworker.html: Added.

2021-10-11  Antti Koivisto  <antti@apple.com>

        Remove inline box decoration painting quirk
        https://bugs.webkit.org/show_bug.cgi?id=231510

        Reviewed by Alan Bujtas.

        * fast/backgrounds/quirks-mode-line-box-backgrounds-expected-mismatch.html: Added.
        * fast/backgrounds/quirks-mode-line-box-backgrounds.html:
        * platform/glib/fast/backgrounds/quirks-mode-line-box-backgrounds-expected.txt: Removed.
        * platform/gtk/fast/backgrounds/quirks-mode-line-box-backgrounds-expected.png: Removed.
        * platform/ios/fast/backgrounds/quirks-mode-line-box-backgrounds-expected.txt: Removed.
        * platform/mac/fast/backgrounds/quirks-mode-line-box-backgrounds-expected.png: Removed.
        * platform/mac/fast/backgrounds/quirks-mode-line-box-backgrounds-expected.txt: Removed.
        * platform/win/fast/backgrounds/quirks-mode-line-box-backgrounds-expected.txt: Removed.
        * platform/wincairo/fast/backgrounds/quirks-mode-line-box-backgrounds-expected.txt: Removed.

2021-10-11  Tim Nguyen  <ntim@apple.com>

        Import new top layer WPTs
        https://bugs.webkit.org/show_bug.cgi?id=229318

        Reviewed by Youenn Fablet.

        Sync html/semantics/interactive-elements/the-dialog-element/ WPTs from https://github.com/web-platform-tests/wpt/commit/023d5aa5d338569ae12988190705e1d570930d61

        * TestExpectations:

2021-10-10  Sihui Liu  <sihui_liu@apple.com>

        Add support for iterating FileSystemDirectoryHandle
        https://bugs.webkit.org/show_bug.cgi?id=231142
        <rdar://problem/83848092>

        Reviewed by Youenn Fablet and Yusuke Suzuki.

        * platform/wk2/TestExpectations: mark some tests as flaky failure on release builds. They were flaky at import,
        but they didn't get to run due to missing directory iteration support.
        * storage/filesystemaccess/directory-handle-iteration-expected.txt: Added.
        * storage/filesystemaccess/directory-handle-iteration-worker-expected.txt: Added.
        * storage/filesystemaccess/directory-handle-iteration-worker.html: Added.
        * storage/filesystemaccess/directory-handle-iteration.html: Added.
        * storage/filesystemaccess/resources/directory-handle-iteration.js: Added.
        (testPrototype):
        (async testNext):
        (async test):

2021-10-10  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Do no bail out on boundary neutral characters
        https://bugs.webkit.org/show_bug.cgi?id=231485

        Reviewed by Antti Koivisto.

        * TestExpectations:

2021-10-09  Alan Bujtas  <zalan@apple.com>

        Ideographic space behaves as breaking space
        https://bugs.webkit.org/show_bug.cgi?id=231480

        Reviewed by Antti Koivisto.

        * TestExpectations:

2021-10-09  Simon Fraser  <simon.fraser@apple.com>

        Run smooth scroll animations on the scrolling thread
        https://bugs.webkit.org/show_bug.cgi?id=231481

        Reviewed by Tim Horton.

        imported/w3c/web-platform-tests/css/cssom-view/idlharness.html seems to pass just fine.
        imported/w3c/web-platform-tests/css/cssom-view/scroll-behavior-smooth.html has some problems
        indicated by the github issue.
        
        Three tests pass now on iOS (but they are not yet scrolling in the UI process).

        * TestExpectations:
        * platform/ios/TestExpectations:

2021-10-09  Rob Buis  <rbuis@igalia.com>

        Remove scrollbars explicitly when destroying render tree
        https://bugs.webkit.org/show_bug.cgi?id=229274

        Reviewed by Simon Fraser.

        * editing/inserting/insert-html-crash-02-expected.txt: Added.
        * editing/inserting/insert-html-crash-02.html: Added.

2021-10-08  Devin Rousso  <drousso@apple.com>

        [GPU Process] support rendering Apple Pay logos
        https://bugs.webkit.org/show_bug.cgi?id=230664
        <rdar://problem/83187282>

        Reviewed by Tim Horton.

        * fast/css/webkit-named-image/apple-pay-logo-black/background-size-centered.html: Added.
        * fast/css/webkit-named-image/apple-pay-logo-black/background-size-centered-expected-mismatch.html: Added.
        * fast/css/webkit-named-image/apple-pay-logo-black/background-size.html: Added.
        * fast/css/webkit-named-image/apple-pay-logo-black/background-size-expected-mismatch.html: Added.
        * fast/css/webkit-named-image/apple-pay-logo-black/basic.html: Added.
        * fast/css/webkit-named-image/apple-pay-logo-black/basic-expected-mismatch.html: Added.
        * fast/css/webkit-named-image/apple-pay-logo-black/container-larger-height.html: Added.
        * fast/css/webkit-named-image/apple-pay-logo-black/container-larger-height-expected-mismatch.html: Added.
        * fast/css/webkit-named-image/apple-pay-logo-black/container-larger-width.html: Added.
        * fast/css/webkit-named-image/apple-pay-logo-black/container-larger-width-expected-mismatch.html: Added.
        * fast/css/webkit-named-image/apple-pay-logo-black/mask.html: Added.
        * fast/css/webkit-named-image/apple-pay-logo-black/mask-expected-mismatch.html: Added.
        * fast/css/webkit-named-image/apple-pay-logo-white/background-size-centered.html: Added.
        * fast/css/webkit-named-image/apple-pay-logo-white/background-size-centered-expected-mismatch.html: Added.
        * fast/css/webkit-named-image/apple-pay-logo-white/background-size.html: Added.
        * fast/css/webkit-named-image/apple-pay-logo-white/background-size-expected-mismatch.html: Added.
        * fast/css/webkit-named-image/apple-pay-logo-white/basic.html: Added.
        * fast/css/webkit-named-image/apple-pay-logo-white/basic-expected-mismatch.html: Added.
        * fast/css/webkit-named-image/apple-pay-logo-white/container-larger-height.html: Added.
        * fast/css/webkit-named-image/apple-pay-logo-white/container-larger-height-expected-mismatch.html: Added.
        * fast/css/webkit-named-image/apple-pay-logo-white/container-larger-width.html: Added.
        * fast/css/webkit-named-image/apple-pay-logo-white/container-larger-width-expected-mismatch.html: Added.
        * fast/css/webkit-named-image/apple-pay-logo-white/mask.html: Added.
        * fast/css/webkit-named-image/apple-pay-logo-white/mask-expected-mismatch.html: Added.

        * TestExpectations:
        * platform/ios/TestExpectations:
        * platform/mac/TestExpectations:
        Skip the above tests everywhere except iOS and macOS.

2021-10-08  Simon Fraser  <simon.fraser@apple.com>

        Unreviewed. Fix up some TestExpectations errors.

        * platform/ios/TestExpectations:
        * platform/mac/TestExpectations:

2021-10-08  Aditya Keerthi  <akeerthi@apple.com>

        Add support for '-webkit-appearance: auto'
        https://bugs.webkit.org/show_bug.cgi?id=231203
        rdar://83696133

        Reviewed by Wenson Hsieh.

        * platform/gtk/imported/w3c/web-platform-tests/css/css-ui/appearance-cssom-001-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/css-ui/appearance-cssom-001-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/css-ui/appearance-cssom-001-expected.txt:

2021-10-08  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS 15 Debug ] ASSERTION FAILED: sockets.empty().
        https://bugs.webkit.org/show_bug.cgi?id=231451

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-08  Alan Bujtas  <zalan@apple.com>

        ASSERTION FAILED: m_collapsibleLogicalWidth <= m_logicalWidth in WebCore::Layout::InlineContentBreaker::ContinuousContent::append
        https://bugs.webkit.org/show_bug.cgi?id=231274

        Reviewed by Antti Koivisto.

        * fast/inline/negative-margin-with-collapsible-content-assert-expected.txt: Added.
        * fast/inline/negative-margin-with-collapsible-content-assert.html: Added.

2021-10-08  Eric Hutchison  <ehutchison@apple.com>

        [ iOS15 ] imported/blink/fast/dom/shadow/shadowdom-for-keygen-only-shadow.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=231444.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-08  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS Release & macOS wk2 ] http/wpt/mediarecorder/set-srcObject-MediaStream-Blob.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231442

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-08  Andres Gonzalez  <andresg_22@apple.com>

        AX: AXMathRootRadicand should return an array of elements, not just the first
        https://bugs.webkit.org/show_bug.cgi?id=230986
        <rdar://83688829>

        Reviewed by Chris Fleizach.

        Instead of getting the root radicand as the first child of the root
        element, use the readonly property mathRootRadicand.
        Added a check for the length of the mathRootRadicand array.

        * accessibility/mac/mathml-elements-expected.txt:
        * accessibility/mac/mathml-elements.html:
        * accessibility/mac/mathml-root-expected.txt:
        * accessibility/mac/mathml-root.html:
        Added the test case where the square root element has a radicand
        consisting of more than one AX object.
        
        * platform/mac-wk1/TestExpectations:

2021-10-08  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS 15 ] Rebaselining platform/ios/ios/fast/text/opticalFontWithWeight.html.
        https://bugs.webkit.org/show_bug.cgi?id=231380

        Unreviewed test gardening.

        * platform/ios/platform/ios/ios/fast/text/opticalFontWithWeight-expected.txt:

2021-10-08  Youenn Fablet  <youenn@apple.com>

        Move deviceChange handling from CoreAudioSharedUnit to BaseAudioSharedUnit
        https://bugs.webkit.org/show_bug.cgi?id=231284

        Reviewed by Eric Carlson.

        * fast/mediastream/microphone-change-while-capturing-expected.txt: Added.
        * fast/mediastream/microphone-change-while-capturing.html: Added.

2021-10-08  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS14 EWS ] http/tests/privateClickMeasurement/attribution-conversion-through-fetch-keepalive.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=231431

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-08  Antti Koivisto  <antti@apple.com>

        REGRESSION (r277818): XHR with requestType document broken for larger HTML files
        https://bugs.webkit.org/show_bug.cgi?id=231138
        <rdar://problem/83823282>

        Reviewed by Darin Adler.

        * http/tests/xmlhttprequest/resources/large-html-with-script-tags.py: Added.
        * http/tests/xmlhttprequest/xhr-and-parse-large-document-expected.txt: Added.
        * http/tests/xmlhttprequest/xhr-and-parse-large-document.html: Added.
        * http/tests/xmlhttprequest/xhr-large-document-expected.txt: Added.
        * http/tests/xmlhttprequest/xhr-large-document.html: Added.

2021-10-08  Sergio Villar Senin  <svillar@igalia.com>

        [GTK] web-platform-tests/css/css-flexbox/text-as-flexitem-size-001.html is failing
        https://bugs.webkit.org/show_bug.cgi?id=231429

        Unreviewed gardening. Adding GTK expectations for a test that has been failing since it was imported.

        * platform/gtk/imported/w3c/web-platform-tests/css/css-flexbox/text-as-flexitem-size-001-expected.txt: Added.

2021-10-08  Tyler Wilcock  <tyler_w@apple.com>

        AX: Expose the URL attribute of <video> elements
        https://bugs.webkit.org/show_bug.cgi?id=231384

        Reviewed by Chris Fleizach.

        Add test ensuring <video> accessibility elements return
        a URL attribute when appropriate.

        * accessibility/resources/test.mp4: Added.
        * accessibility/video-element-url-attribute-expected.txt: Added.
        * accessibility/video-element-url-attribute.html: Added.
        * platform/ios/TestExpectations: Enable new test.
        * platform/win/TestExpectations: Skip new test due to lack of mp4
        support.

2021-10-08  Tim Nguyen  <ntim@apple.com>

        Re-sync the-dialog-element and inert WPT from upstream
        https://bugs.webkit.org/show_bug.cgi?id=231392

        Reviewed by Youenn Fablet.

        Upstream commit: https://github.com/web-platform-tests/wpt/commit/a44515b7c7774abf1256f488bf0e9dc02459fced

        * TestExpectations:
        * platform/gtk/imported/w3c/web-platform-tests/inert/inert-retargeting-iframe.tentative-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/inert/inert-retargeting-iframe.tentative-expected.txt: Removed.

2021-10-07  Alan Bujtas  <zalan@apple.com>

        Do not check for firstLineStyle while constructing RenderText
        https://bugs.webkit.org/show_bug.cgi?id=231370
        <rdar://83973189>

        Reviewed by Antti Koivisto.

        * TestExpectations: existing bug surfaced by this change.
        * fast/inline/first-line-style-too-early-crash-expected.txt: Added.
        * fast/inline/first-line-style-too-early-crash.html: Added.

2021-10-07  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] Marking expectations as slow for the tests that are flaky timing out.
        https://bugs.webkit.org/show_bug.cgi?id=231397

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-07  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS 15 Debug ] fast/selectors/is-complex.html is timing out.
        https://bugs.webkit.org/show_bug.cgi?id=231391

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-07  Aditya Keerthi  <akeerthi@apple.com>

        [css-ui] Parsing support for accent-color
        https://bugs.webkit.org/show_bug.cgi?id=231334
        rdar://83955508

        Reviewed by Antti Koivisto.

        Platform-specific rebaselines.

        * platform/gtk/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:
        * platform/ios/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:

2021-10-07  Ayumi Kojima  <ayumi_kojima@apple.com>

        Cleaning up expectations for iOS 15.
        https://bugs.webkit.org/show_bug.cgi?id=230968

        Unreviewed test gardening.

        * platform/ios/TestExpectations:

2021-10-07  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS 15 Debug ] imported/w3c/web-platform-tests/IndexedDB/interleaved-cursors-small.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231387

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-07  Eric Hutchison  <ehutchison@apple.com>

        [ BigSur wk2 ] http/tests/resourceLoadStatistics/website-data-removal-for-site-with-user-interaction.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=231386.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-10-07  Truitt Savell  <tsavell@apple.com>

        Remove expectation for accessibility/misspelling-range.html from ios-simulator
        https://bugs.webkit.org/show_bug.cgi?id=231261

        Unreviewed test gardening.

        * platform/ios-simulator/TestExpectations:

2021-10-07  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GTK][WPE] Disable privateClickMeasurement when creating the network process
        https://bugs.webkit.org/show_bug.cgi?id=231175

        Reviewed by Adrian Perez de Castro.

        Skip privateClickMeasurement tests on GTK and WPE.

        * platform/glib/TestExpectations:
        * platform/glib/http/tests/privateClickMeasurement/attribution-conversion-through-cross-site-image-redirect-expected.txt: Removed.
        * platform/glib/http/tests/privateClickMeasurement/attribution-conversion-through-fetch-keepalive-expected.txt: Removed.
        * platform/glib/http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-ephemeral-expected.txt: Removed.
        * platform/glib/http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-in-new-window-expected.txt: Removed.
        * platform/glib/http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-with-priority-expected.txt: Removed.
        * platform/glib/http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-without-priority-expected.txt: Removed.
        * platform/glib/http/tests/privateClickMeasurement/conversion-disabled-in-ephemeral-session-expected.txt: Removed.
        * platform/glib/http/tests/privateClickMeasurement/private-click-measurement-with-source-nonce-null-content-expected.txt: Removed.
        * platform/glib/http/tests/privateClickMeasurement/private-click-measurement-with-source-nonce-wrong-content-type-expected.txt: Removed.
        * platform/glib/http/tests/privateClickMeasurement/second-attribution-converted-with-higher-priority-expected.txt: Removed.
        * platform/glib/http/tests/privateClickMeasurement/second-attribution-converted-with-lower-priority-expected.txt: Removed.
        * platform/glib/http/tests/privateClickMeasurement/second-conversion-with-higher-priority-expected.txt: Removed.
        * platform/glib/http/tests/privateClickMeasurement/second-conversion-with-lower-priority-expected.txt: Removed.
        * platform/glib/http/tests/privateClickMeasurement/store-private-click-measurement-expected.txt: Removed.
        * platform/wpe/TestExpectations:

2021-10-07  Ayumi Kojima  <ayumi_kojima@apple.com>

        security/contentSecurityPolicy/video-with-blob-url-allowed-by-media-src-star.html and security/contentSecurityPolicy/video-with-data-url-allowed-by-media-src-star.html are flaky.
        https://bugs.webkit.org/show_bug.cgi?id=155196

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-07  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS 15 ] Rebaselining platform/ios/ios/fast/text/opticalFontWithWeight.html.
        https://bugs.webkit.org/show_bug.cgi?id=231380

        Unreviewed test gardening.

        * platform/ios/ios/fast/text/opticalFontWithWeight-expected.txt: 

2021-10-07  Eric Hutchison  <ehutchison@apple.com>

        [ BigSur wk2 Release ] http/tests/resourceLoadStatistics/sandboxed-nesting-iframe-with-non-sandboxed-iframe-redirect-ip-to-localhost-to-ip.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231379.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-10-07  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS 15 ] platform/ios/fast/text/system-monospaced-numbers.html is failing.
        https://bugs.webkit.org/show_bug.cgi?id=231378

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-07  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] CSS Flexbox tests are constant failure (fixed-table-layout-with-percentage-width-in-flex-item.html and flex-item-compressible-001.html).
        https://bugs.webkit.org/show_bug.cgi?id=230773

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-07  Nikita Vasilyev  <nvasilyev@apple.com>

        Web Inspector: Styles: format style declarations after editing
        https://bugs.webkit.org/show_bug.cgi?id=178835
        <rdar://problem/35185060>

        Reviewed by Devin Rousso.

        - Indent text of expected CSS properties.
        - Test generateFormattedText with all permutations of its options.
        - Add a basic test ensuring styleSheetTextRange updates correctly from the backend.

        * inspector/css/add-css-property.html:
        * inspector/css/generateCSSRuleString-expected.txt: Removed.
        * inspector/css/generateCSSRuleString.html: Removed.
        * inspector/css/generateFormattedText-expected.txt: Added.
        * inspector/css/generateFormattedText.html: Added.
        * inspector/css/modify-css-property-expected.txt:
        * inspector/css/modify-css-property.html:
        * inspector/css/modify-inline-style-expected.txt:
        * inspector/css/resources/modify-css-property.css: Added.
        (.rule-a):
        (.rule-b):
        (.rule-c):
        (.rule-d):

2021-10-07  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur AS EWS ] http/tests/xmlhttprequest/access-control-response-with-body.html is flaky crashing.
        https://bugs.webkit.org/show_bug.cgi?id=231372

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-10-07  Antti Koivisto  <antti@apple.com>

        REGRESSION (IFC selections): Overlapping selection rectangles when selecting preformatted text
        https://bugs.webkit.org/show_bug.cgi?id=231291
        <rdar://problem/83939949>

        Reviewed by Alan Bujtas.

        * editing/selection/soft-line-break-no-paint-expected.html: Added.
        * editing/selection/soft-line-break-no-paint.html: Added.

2021-10-07  Tim Nguyen  <ntim@apple.com>

        Stop relying on autofocus for deleteFromDocument-crash.html
        https://bugs.webkit.org/show_bug.cgi?id=231357

        Reviewed by Antti Koivisto.

        Stop relying on current autofocus sync timing which will become async.

        * imported/blink/editing/selection/deleteFromDocument-crash-expected.html:
        * imported/blink/editing/selection/deleteFromDocument-crash.html:

2021-10-07  Rob Buis  <rbuis@igalia.com>

        Resync the-img-element WPT tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=231297

        Reviewed by Youenn Fablet.

        No lazy image loading available on wk1.

        * platform/mac-wk1/TestExpectations:

2021-10-06  Ben Nham  <nham@apple.com>

        Add PushSubscription stubs
        https://bugs.webkit.org/show_bug.cgi?id=231278

        Reviewed Alex Christensen.

        Added a basic test for PushSubscription. Right now the test only runs in the window global
        scope because it relies on a constructor called via window.internals. I'll add more test
        cases and test it in the worker scope as well once we change the test to create a
        subscription via a mocked PushManager.subscribe call instead.

        * http/wpt/push-api/pushSubscription.https.any-expected.txt: Added.
        * http/wpt/push-api/pushSubscription.https.any.html: Added.
        * http/wpt/push-api/pushSubscription.https.any.js: Added.
        (bytesFrom):
        (test):

2021-10-06  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS 15 Debug ] imported/w3c/web-platform-tests/xhr/send-timeout-events.htm is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231337

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-06  Sihui Liu  <sihui_liu@apple.com>

        Add support for FileSystemSyncAccessHandle
        https://bugs.webkit.org/show_bug.cgi?id=231185
        <rdar://problem/83847859>

        Reviewed by Youenn Fablet.

        * storage/filesystemaccess/resources/sync-access-handle-basics.js: Added.
        (finishTest):
        (getDirectory):
        * storage/filesystemaccess/sync-access-handle-basics-worker-expected.txt: Added.
        * storage/filesystemaccess/sync-access-handle-basics-worker.html: Added.

2021-10-06  Wenson Hsieh  <wenson_hsieh@apple.com>

        Make ImageBuffer::drawingContext() return GraphicsContext instead of DisplayList::DrawingContext
        https://bugs.webkit.org/show_bug.cgi?id=231296

        Reviewed by Simon Fraser.

        Remove support for display list tracking in the canvas element. See WebCore ChangeLog for more details.

        * displaylists/canvas-display-list-expected.txt: Removed.
        * displaylists/canvas-display-list.html: Removed.
        * platform/ios/TestExpectations:
        * platform/mac-wk1/TestExpectations:

2021-10-06  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS 15 ] media/track/track-forced-subtitles-in-band.html is failing.
        https://bugs.webkit.org/show_bug.cgi?id=231333

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-06  Ryan Haddad  <ryanhaddad@apple.com>

        [ iOS 15 ]2 fast/dom/HTMLAnchorElement tests are failing
        https://bugs.webkit.org/show_bug.cgi?id=231293

        Unreviewed test gardening.

        Add iOS 14 baselines.

        * platform/ios-14/fast/dom/HTMLAnchorElement/anchor-file-blob-convert-to-download-async-delegate-expected.txt: Added.
        * platform/ios-14/fast/dom/HTMLAnchorElement/anchor-file-blob-convert-to-download-expected.txt: Added.

2021-10-06  Kyle Piddington  <kpiddington@apple.com>

        Shadertoy "truchet district" fails to compile with error: Internal error compiling shader with Metal backend"
        https://bugs.webkit.org/show_bug.cgi?id=229378
        <rdar://problem/82299053>

        Reviewed by Kenneth Russell.

        Add a test testing Metal reserved words and standard library macros.

        * webgl/pending/conformance/glsl/misc/shader-with-reserved-words-2-expected.txt: Added.
        * webgl/pending/conformance/glsl/misc/shader-with-reserved-words-2.html: Added.
        * webgl/pending/resources/webgl_test_files/conformance/glsl/misc/shader-with-reserved-words-2.html: Added.


2021-10-06  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS 15 ] http/tests/websocket/tests/hybi/close-code-and-reason.html is failing.
        https://bugs.webkit.org/show_bug.cgi?id=231329

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-06  Tim Nguyen  <ntim@apple.com>

        Replace setTimeout(x, 0) with requestAnimationFrame(x) in some autofocus tests
        https://bugs.webkit.org/show_bug.cgi?id=231323

        Reviewed by Chris Dumez.

        Reason being the new autofocus behavior will happen asynchronously during "update rendering"
        steps which is caught by the first, but not the second method.

        Other minor changes:
        - Remove "in XHTML", because the file extensions aren't actually XHTML...
        - Remove not needed attributes from <script> tag
        - Remove unneeded whitespace

        * fast/forms/autofocus-opera-001.html:
        * fast/forms/autofocus-opera-002.html:
        * fast/forms/autofocus-opera-003.html:
        * fast/forms/autofocus-opera-004.html:
        * fast/forms/autofocus-opera-005.html:
        * fast/forms/autofocus-opera-006.html:
        * fast/forms/autofocus-opera-007.html:
        * fast/forms/autofocus-opera-008.html:
        * fast/forms/textarea/textarea-autofocus-removal-while-focusing.html:

2021-10-06  Tim Nguyen  <ntim@apple.com>

        Rewrite plugins/object-onfocus-mutation-crash.html to stop relying on autofocus
        https://bugs.webkit.org/show_bug.cgi?id=231327

        Reviewed by Chris Dumez.

        This test mostly tests onfocus and <object>, we don't need it to use autofocus.
        The new autofocus timing will be async so we don't want this test to break with the new
        behavior implemented. Use input.focus() instead.

        * plugins/object-onfocus-mutation-crash.html:

2021-10-06  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS macOS wk2 ] http/tests/preload/onload_event.html is flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=231328

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-10-06  Chris Dumez  <cdumez@apple.com>

        [ iOS 15 ]2 fast/dom/HTMLAnchorElement tests are failing
        https://bugs.webkit.org/show_bug.cgi?id=231293
        <rdar://problem/83935262>

        Unreviewed, land iOS15 baselines for those tests.

        * platform/ios-wk2/TestExpectations:
        * platform/ios/fast/dom/HTMLAnchorElement/anchor-file-blob-convert-to-download-async-delegate-expected.txt: Added.
        * platform/ios/fast/dom/HTMLAnchorElement/anchor-file-blob-convert-to-download-expected.txt: Added.

2021-10-06  Kiet Ho  <tho22@apple.com>

        Import css/motion tests from WPT
        https://bugs.webkit.org/show_bug.cgi?id=231195

        Reviewed by Myles C. Maxfield.

        * TestExpectations: Added ImageOnlyFailure expectations for css/motion reftests.

2021-10-06  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS 15 ] fast/text/accessibility-bold-system-font-2.html is image failing.
        https://bugs.webkit.org/show_bug.cgi?id=231316

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-06  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] fast/events/ios/rotation/safe-area-insets-during-safari-type-rotation.html is timing out/ flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=231315

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-06  Aditya Keerthi  <akeerthi@apple.com>

        Fix serialization of CSSMediaRule
        https://bugs.webkit.org/show_bug.cgi?id=231249

        Reviewed by Chris Dumez.

        Rebaseline tests to account for the correct serialization.

        * css3/supports-cssom-expected.txt:
        * css3/supports-cssom.html:
        * fast/css/resources/insertRule-media.js:

2021-10-06  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] fast/events/ios/fast-click-double-tap-to-zoom-in-on-text-and-then-again-to-zoom-out.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231311

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-06  Tim Nguyen  <ntim@apple.com>

        Reset m_isModal flag when removing <dialog> from document
        https://bugs.webkit.org/show_bug.cgi?id=231290

        Reviewed by Alan Bujtas.

        m_isModal triggers the :-internal-modal-dialog pseudo class, which changes position from absolute to fixed.

        When removing a modal <dialog> from the document, it is also removed from the top layer, so it makes sense
        to reset the m_isModal flag as well as a result.

        Updated test expectations to reflect new passing tests.

        * TestExpectations:
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/abspos-dialog-layout-expected.txt: Removed.

2021-10-06  Ayumi Kojima  <ayumi_kojima@apple.com>

        media/modern-media-controls tests are timing out.
        https://bugs.webkit.org/show_bug.cgi?id=231187

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-06  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS 15 Debug ] 3 imported/w3c/web-platform-tests/selection tests are a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=231299

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-06  Chris Lord  <clord@igalia.com>

        [GTK][WPE] CSS scroll snapping interacts badly with smooth scrolling
        https://bugs.webkit.org/show_bug.cgi?id=229037

        Reviewed by Simon Fraser.

        Add a GTK-only test to verify CSS scroll snapping and kinetic/touchpad
        scrolling behave correctly.

        * TestExpectations:
        * fast/scrolling/gtk/user-scroll-snapping-interaction-expected.txt: Added.
        * fast/scrolling/gtk/user-scroll-snapping-interaction.html: Added.
        * platform/gtk/TestExpectations:

2021-10-06  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS 15 ] 2 http/tests/app-privacy-report tests are timing out.
        https://bugs.webkit.org/show_bug.cgi?id=231295

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-06  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS 15 ]2 fast/dom/HTMLAnchorElement tests are failing.
        https://bugs.webkit.org/show_bug.cgi?id=231293

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-06  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS 15 ] fast/events/ios/rotation/safari-like-rotation.html is failing.
        https://bugs.webkit.org/show_bug.cgi?id=231269

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-06  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] word-break: break-all only allows mid-word arbitrary breaking positions
        https://bugs.webkit.org/show_bug.cgi?id=231247

        Reviewed by Antti Koivisto.

        * TestExpectations:

2021-10-06  Alicia Boya García  <aboya@igalia.com>

        [MSE][GStreamer] Honor MP4 edit lists
        https://bugs.webkit.org/show_bug.cgi?id=231019

        Reviewed by Xabier Rodriguez-Calvar.

        Update expectations for mediasource-remove.html in the GStreamer
        ports, as a couple subtests get fixed.

        * platform/glib/imported/w3c/web-platform-tests/media-source/mediasource-remove-expected.txt:

2021-10-05  John Wilander  <wilander@apple.com>

        PCM: Allow measurement of links in nested, cross-site iframes
        https://bugs.webkit.org/show_bug.cgi?id=229204
        <rdar://problem/82310386>

        Reviewed by Alex Christensen.

        Developers have said it would be great to allow measurement of links served in
        nested, cross-site iframes on the click source. The click still count as if it
        happened on the first party click source site, and any attribution report still
        goes to that first party. This change enables the *serving* of measurable links
        in nested, cross-site iframes.

        The standards issue where this was discussed:
        https://github.com/privacycg/private-click-measurement/issues/7

        * http/tests/privateClickMeasurement/resources/nestedTargetLink.html: Added.
        * http/tests/privateClickMeasurement/store-private-click-measurement-nested-expected.txt: Added.
        * http/tests/privateClickMeasurement/store-private-click-measurement-nested.html: Added.

2021-10-05  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening after r283550

        * platform/wincairo/editing/deleting/delete-at-paragraph-boundaries-002-expected.txt:
        * platform/wincairo/editing/deleting/delete-at-paragraph-boundaries-003-expected.txt:
        * platform/wincairo/editing/deleting/delete-at-paragraph-boundaries-004-expected.txt:
        * platform/wincairo/editing/deleting/delete-at-paragraph-boundaries-005-expected.txt:
        * platform/wincairo/editing/deleting/delete-at-paragraph-boundaries-006-expected.txt:
        * platform/wincairo/editing/deleting/delete-at-paragraph-boundaries-007-expected.txt:
        * platform/wincairo/editing/deleting/delete-at-paragraph-boundaries-008-expected.txt:
        * platform/wincairo/editing/deleting/delete-at-paragraph-boundaries-009-expected.txt:
        * platform/wincairo/editing/deleting/delete-at-paragraph-boundaries-010-expected.txt:
        * platform/wincairo/editing/deleting/delete-at-paragraph-boundaries-011-expected.txt:
        * platform/wincairo/editing/deleting/non-smart-delete-expected.txt:
        * platform/wincairo/editing/input/emacs-ctrl-o-expected.txt:
        * platform/wincairo/editing/inserting/insert-br-quoted-001-expected.txt:
        * platform/wincairo/editing/inserting/insert-br-quoted-002-expected.txt:
        * platform/wincairo/editing/inserting/insert-br-quoted-003-expected.txt:
        * platform/wincairo/editing/inserting/insert-br-quoted-004-expected.txt:
        * platform/wincairo/editing/inserting/insert-br-quoted-005-expected.txt:
        * platform/wincairo/editing/inserting/insert-br-quoted-006-expected.txt:
        * platform/wincairo/editing/inserting/insert-div-026-expected.txt:
        * platform/wincairo/editing/inserting/return-key-with-selection-001-expected.txt:
        * platform/wincairo/editing/inserting/return-key-with-selection-002-expected.txt:
        * platform/wincairo/editing/inserting/return-key-with-selection-003-expected.txt:
        * platform/wincairo/editing/style/block-styles-007-expected.txt:
        * platform/wincairo/editing/style/smoosh-styles-001-expected.txt:
        * platform/wincairo/editing/style/smoosh-styles-003-expected.txt:
        * platform/wincairo/editing/style/style-3998892-fix-expected.txt:
        * platform/wincairo/editing/style/style-boundary-001-expected.txt:
        * platform/wincairo/editing/style/style-boundary-002-expected.txt:
        * platform/wincairo/editing/style/style-boundary-003-expected.txt:
        * platform/wincairo/editing/style/style-boundary-004-expected.txt:
        * platform/wincairo/editing/style/style-boundary-005-expected.txt:
        * platform/wincairo/editing/unsupported-content/list-delete-001-expected.txt:
        * platform/wincairo/editing/unsupported-content/list-delete-003-expected.txt:
        * platform/wincairo/editing/unsupported-content/list-type-after-expected.txt:
        * platform/wincairo/editing/unsupported-content/list-type-before-expected.txt:
        * platform/wincairo/editing/unsupported-content/table-delete-002-expected.txt:
        * platform/wincairo/editing/unsupported-content/table-type-after-expected.txt:
        * platform/wincairo/editing/unsupported-content/table-type-before-expected.txt:
        * platform/wincairo/fast/css/first-line-text-decoration-expected.txt:
        * platform/wincairo/fast/css/first-line-text-decoration-inherited-from-parent-expected.txt:
        * platform/wincairo/fast/text/firstline/001-expected.txt:

2021-10-05  Chris Dumez  <cdumez@apple.com>

        ASSERT(m_callback->hasCallback()) under IntersectionObserver::notify()
        https://bugs.webkit.org/show_bug.cgi?id=231235
        <rdar://80837616>

        Reviewed by Ryosuke Niwa.

        Add layout test coverage both for the crash and the Web facing behavior.

        * intersection-observer/observe-disconnected-target-crash-expected.txt: Added.
        * intersection-observer/observe-disconnected-target-crash.html: Added.
        * intersection-observer/observe-disconnected-target-expected.txt: Added.
        * intersection-observer/observe-disconnected-target.html: Added.

2021-10-05  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS Release ] fast/events/ios/rotation/layout-viewport-during-safari-type-rotation.html is flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=231266

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-05  Jean-Yves Avenard  <jya@apple.com>

        createImageBitmap using a HLS video as source always return a black image.
        https://bugs.webkit.org/show_bug.cgi?id=231225
        rdar://83884031

        Reviewed by Eric Carlson.

        * http/tests/media/video-hls-copy-into-canvas-expected.txt: Added.
        * http/tests/media/video-hls-copy-into-canvas.html: Added.

2021-10-05  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS 15 ] fast/events/ios/rotation/layout-viewport-during-rotation.html is failing.
        https://bugs.webkit.org/show_bug.cgi?id=231264

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-05  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] fast/events/ios/rotation/resize-iframe-after-orientation-change.html is crashing/ failing.
        https://bugs.webkit.org/show_bug.cgi?id=231262

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-05  Truitt Savell  <tsavell@apple.com>

        [ iOS ] accessibility/misspelling-range.html is constantly failing
        https://bugs.webkit.org/show_bug.cgi?id=231261

        Unreviewed test gardening.

        * platform/ios/TestExpectations:

2021-10-05  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS 15 ] ASSERTION FAILED: isRunningTest(WebCore::applicationBundleIdentifier()).
        https://bugs.webkit.org/show_bug.cgi?id=231255

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-05  Gabriel Nava Marino  <gnavamarino@apple.com>

        Incorrect Length constructor used after blending negative Length
        https://bugs.webkit.org/show_bug.cgi?id=230873

        Reviewed by Antoine Quint.

        * fast/borders/border-radius-cubic-bezier-timing-function-negative-value-expected.txt: Added.
        * fast/borders/border-radius-cubic-bezier-timing-function-negative-value.html: Added.

2021-10-05  Chris Dumez  <cdumez@apple.com>

        Authorization header lost on 30x redirects
        https://bugs.webkit.org/show_bug.cgi?id=230935
        <rdar://problem/83689955>

        Reviewed by Darin Adler.

        * http/tests/fetch/fetch-redirect-same-origin-authorization-expected.txt: Added.
        * http/tests/fetch/fetch-redirect-same-origin-authorization.html: Added.
        * http/tests/fetch/resources/dump-authorization-header.py: Added.
        Add layout test coverage.

        * http/tests/xmlhttprequest/redirections-and-user-headers.html:
        Update existing test to reflect behavior change.

2021-10-05  Gabriel Nava Marino  <gnavamarino@apple.com>

        Unsupported blending of mixed length types leads to nullptr deref when accessing m_value.calc in CSSPrimitiveValue::primitiveType()
        https://bugs.webkit.org/show_bug.cgi?id=230929

        Reviewed by Reviewed by Darin Adler.

        * fast/layoutformattingcontext/fit-content-min-height-animation-expected.txt: Added.
        * fast/layoutformattingcontext/fit-content-min-height-animation.html: Added.

2021-10-05  Nikos Mouchtaris  <nmouchtaris@apple.com>

        radial-gradient does not accept calc values that combine length and percent
        https://bugs.webkit.org/show_bug.cgi?id=230388

        Reviewed by Simon Fraser.

        * css3/calc/css3-radial-gradients-expected.html:
        * css3/calc/css3-radial-gradients.html:

2021-10-05  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS15 WK2 ] http/tests/media/modern-media-controls/overflow-support/playback-speed-live-broadcast.html is a constant timeout.
        <rdar://80393995>

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-10-05  Simon Fraser  <simon.fraser@apple.com>

        REGRESSION (r283335): Momentum scrolling is no longer locked to an axis
        https://bugs.webkit.org/show_bug.cgi?id=231206

        Reviewed by Wenson Hsieh.

        * fast/scrolling/mac/momentum-axis-locking-expected.txt: Added.
        * fast/scrolling/mac/momentum-axis-locking.html: Added.

2021-10-05  Alan Bujtas  <zalan@apple.com>

        [IFC][Integration] Enable first-line style for modern line layout
        https://bugs.webkit.org/show_bug.cgi?id=231178

        Reviewed by Antti Koivisto.

        * fast/css/empty-inline-line-height-first-line-expected.txt:
        * fast/css/empty-inline-line-height-first-line-quirksmode-expected.txt:
        * platform/ios/editing/deleting/delete-at-paragraph-boundaries-002-expected.txt:
        * platform/ios/editing/deleting/delete-at-paragraph-boundaries-003-expected.txt:
        * platform/ios/editing/deleting/delete-at-paragraph-boundaries-004-expected.txt:
        * platform/ios/editing/deleting/delete-at-paragraph-boundaries-005-expected.txt:
        * platform/ios/editing/deleting/delete-at-paragraph-boundaries-006-expected.txt:
        * platform/ios/editing/deleting/delete-at-paragraph-boundaries-007-expected.txt:
        * platform/ios/editing/deleting/delete-at-paragraph-boundaries-008-expected.txt:
        * platform/ios/editing/deleting/delete-at-paragraph-boundaries-009-expected.txt:
        * platform/ios/editing/deleting/delete-at-paragraph-boundaries-010-expected.txt:
        * platform/ios/editing/deleting/delete-at-paragraph-boundaries-011-expected.txt:
        * platform/ios/editing/deleting/non-smart-delete-expected.txt:
        * platform/ios/editing/inserting/insert-br-quoted-001-expected.txt:
        * platform/ios/editing/inserting/insert-br-quoted-002-expected.txt:
        * platform/ios/editing/inserting/insert-br-quoted-003-expected.txt:
        * platform/ios/editing/inserting/insert-br-quoted-004-expected.txt:
        * platform/ios/editing/inserting/insert-br-quoted-005-expected.txt:
        * platform/ios/editing/inserting/insert-br-quoted-006-expected.txt:
        * platform/ios/editing/inserting/insert-div-026-expected.txt:
        * platform/ios/editing/inserting/return-key-with-selection-001-expected.txt:
        * platform/ios/editing/inserting/return-key-with-selection-002-expected.txt:
        * platform/ios/editing/inserting/return-key-with-selection-003-expected.txt:
        * platform/ios/editing/pasteboard/paste-4038267-fix-expected.txt:
        * platform/ios/editing/pasteboard/paste-line-endings-001-expected.txt:
        * platform/ios/editing/pasteboard/paste-line-endings-002-expected.txt:
        * platform/ios/editing/pasteboard/paste-line-endings-003-expected.txt:
        * platform/ios/editing/pasteboard/paste-line-endings-004-expected.txt:
        * platform/ios/editing/pasteboard/paste-line-endings-005-expected.txt:
        * platform/ios/editing/pasteboard/paste-line-endings-006-expected.txt:
        * platform/ios/editing/pasteboard/paste-line-endings-007-expected.txt:
        * platform/ios/editing/pasteboard/paste-line-endings-008-expected.txt:
        * platform/ios/editing/pasteboard/paste-line-endings-009-expected.txt:
        * platform/ios/editing/pasteboard/paste-line-endings-010-expected.txt:
        * platform/ios/editing/pasteboard/paste-match-style-001-expected.txt:
        * platform/ios/editing/pasteboard/paste-match-style-002-expected.txt:
        * platform/ios/editing/pasteboard/paste-text-019-expected.txt:
        * platform/ios/editing/style/block-styles-007-expected.txt:
        * platform/ios/editing/style/style-3998892-fix-expected.txt:
        * platform/ios/editing/style/style-boundary-001-expected.txt:
        * platform/ios/editing/style/style-boundary-004-expected.txt:
        * platform/ios/editing/unsupported-content/list-delete-003-expected.txt:
        * platform/ios/editing/unsupported-content/list-type-after-expected.txt:
        * platform/ios/fast/css/empty-inline-line-height-first-line-expected.txt:
        * platform/ios/fast/css/empty-inline-line-height-first-line-quirksmode-expected.txt:
        * platform/ios/fast/css/first-line-text-decoration-expected.txt:
        * platform/ios/fast/css/first-line-text-decoration-inherited-from-parent-expected.txt:
        * platform/ios/fast/text/firstline/001-expected.txt:
        * platform/mac/editing/deleting/delete-at-paragraph-boundaries-002-expected.txt:
        * platform/mac/editing/deleting/delete-at-paragraph-boundaries-003-expected.txt:
        * platform/mac/editing/deleting/delete-at-paragraph-boundaries-004-expected.txt:
        * platform/mac/editing/deleting/delete-at-paragraph-boundaries-005-expected.txt:
        * platform/mac/editing/deleting/delete-at-paragraph-boundaries-006-expected.txt:
        * platform/mac/editing/deleting/delete-at-paragraph-boundaries-007-expected.txt:
        * platform/mac/editing/deleting/delete-at-paragraph-boundaries-008-expected.txt:
        * platform/mac/editing/deleting/delete-at-paragraph-boundaries-009-expected.txt:
        * platform/mac/editing/deleting/delete-at-paragraph-boundaries-010-expected.txt:
        * platform/mac/editing/deleting/delete-at-paragraph-boundaries-011-expected.txt:
        * platform/mac/editing/deleting/non-smart-delete-expected.txt:
        * platform/mac/editing/inserting/insert-br-quoted-001-expected.txt:
        * platform/mac/editing/inserting/insert-br-quoted-002-expected.txt:
        * platform/mac/editing/inserting/insert-br-quoted-003-expected.txt:
        * platform/mac/editing/inserting/insert-br-quoted-004-expected.txt:
        * platform/mac/editing/inserting/insert-br-quoted-005-expected.txt:
        * platform/mac/editing/inserting/insert-br-quoted-006-expected.txt:
        * platform/mac/editing/inserting/insert-div-026-expected.txt:
        * platform/mac/editing/inserting/return-key-with-selection-001-expected.txt:
        * platform/mac/editing/inserting/return-key-with-selection-002-expected.txt:
        * platform/mac/editing/inserting/return-key-with-selection-003-expected.txt:
        * platform/mac/editing/pasteboard/emacs-cntl-y-001-expected.txt:
        * platform/mac/editing/pasteboard/emacs-ctrl-k-y-001-expected.txt:
        * platform/mac/editing/pasteboard/paste-4038267-fix-expected.txt:
        * platform/mac/editing/pasteboard/paste-line-endings-001-expected.txt:
        * platform/mac/editing/pasteboard/paste-line-endings-002-expected.txt:
        * platform/mac/editing/pasteboard/paste-line-endings-003-expected.txt:
        * platform/mac/editing/pasteboard/paste-line-endings-004-expected.txt:
        * platform/mac/editing/pasteboard/paste-line-endings-005-expected.txt:
        * platform/mac/editing/pasteboard/paste-line-endings-006-expected.txt:
        * platform/mac/editing/pasteboard/paste-line-endings-007-expected.txt:
        * platform/mac/editing/pasteboard/paste-line-endings-008-expected.txt:
        * platform/mac/editing/pasteboard/paste-line-endings-009-expected.txt:
        * platform/mac/editing/pasteboard/paste-line-endings-010-expected.txt:
        * platform/mac/editing/pasteboard/paste-match-style-001-expected.txt:
        * platform/mac/editing/pasteboard/paste-match-style-002-expected.txt:
        * platform/mac/editing/pasteboard/paste-text-019-expected.txt:
        * platform/mac/editing/style/block-styles-007-expected.txt:
        * platform/mac/editing/style/smoosh-styles-001-expected.txt:
        * platform/mac/editing/style/smoosh-styles-003-expected.txt:
        * platform/mac/editing/style/style-3998892-fix-expected.txt:
        * platform/mac/editing/style/style-boundary-001-expected.txt:
        * platform/mac/editing/style/style-boundary-002-expected.txt:
        * platform/mac/editing/style/style-boundary-003-expected.txt:
        * platform/mac/editing/style/style-boundary-004-expected.txt:
        * platform/mac/editing/style/style-boundary-005-expected.txt:
        * platform/mac/editing/unsupported-content/list-delete-001-expected.txt:
        * platform/mac/editing/unsupported-content/list-delete-003-expected.txt:
        * platform/mac/editing/unsupported-content/list-type-after-expected.txt:
        * platform/mac/editing/unsupported-content/list-type-before-expected.txt:
        * platform/mac/editing/unsupported-content/table-delete-002-expected.txt:
        * platform/mac/editing/unsupported-content/table-type-after-expected.txt:
        * platform/mac/editing/unsupported-content/table-type-before-expected.txt:
        * platform/mac/fast/css/first-line-text-decoration-expected.txt:
        * platform/mac/fast/css/first-line-text-decoration-inherited-from-parent-expected.txt:
        * platform/mac/fast/text/firstline/001-expected.txt:
        * platform/win/editing/deleting/delete-at-paragraph-boundaries-002-expected.txt:
        * platform/win/editing/deleting/delete-at-paragraph-boundaries-003-expected.txt:
        * platform/win/editing/deleting/delete-at-paragraph-boundaries-004-expected.txt:
        * platform/win/editing/deleting/delete-at-paragraph-boundaries-005-expected.txt:
        * platform/win/editing/deleting/delete-at-paragraph-boundaries-006-expected.txt:
        * platform/win/editing/deleting/delete-at-paragraph-boundaries-007-expected.txt:
        * platform/win/editing/deleting/delete-at-paragraph-boundaries-008-expected.txt:
        * platform/win/editing/deleting/delete-at-paragraph-boundaries-009-expected.txt:
        * platform/win/editing/deleting/delete-at-paragraph-boundaries-010-expected.txt:
        * platform/win/editing/deleting/delete-at-paragraph-boundaries-011-expected.txt:
        * platform/win/editing/deleting/non-smart-delete-expected.txt:
        * platform/win/editing/inserting/insert-br-quoted-001-expected.txt:
        * platform/win/editing/inserting/insert-br-quoted-002-expected.txt:
        * platform/win/editing/inserting/insert-br-quoted-003-expected.txt:
        * platform/win/editing/inserting/insert-br-quoted-004-expected.txt:
        * platform/win/editing/inserting/insert-br-quoted-005-expected.txt:
        * platform/win/editing/inserting/insert-br-quoted-006-expected.txt:
        * platform/win/editing/inserting/insert-div-026-expected.txt:
        * platform/win/editing/inserting/return-key-with-selection-001-expected.txt:
        * platform/win/editing/inserting/return-key-with-selection-002-expected.txt:
        * platform/win/editing/inserting/return-key-with-selection-003-expected.txt:
        * platform/win/editing/style/block-styles-007-expected.txt:
        * platform/win/editing/style/smoosh-styles-001-expected.txt:
        * platform/win/editing/style/smoosh-styles-003-expected.txt:
        * platform/win/editing/style/style-3998892-fix-expected.txt:
        * platform/win/editing/style/style-boundary-001-expected.txt:
        * platform/win/editing/style/style-boundary-002-expected.txt:
        * platform/win/editing/style/style-boundary-003-expected.txt:
        * platform/win/editing/style/style-boundary-004-expected.txt:
        * platform/win/editing/style/style-boundary-005-expected.txt:
        * platform/win/editing/unsupported-content/list-delete-001-expected.txt:
        * platform/win/editing/unsupported-content/list-delete-003-expected.txt:
        * platform/win/editing/unsupported-content/list-type-after-expected.txt:
        * platform/win/editing/unsupported-content/list-type-before-expected.txt:
        * platform/win/editing/unsupported-content/table-delete-002-expected.txt:
        * platform/win/editing/unsupported-content/table-type-after-expected.txt:
        * platform/win/editing/unsupported-content/table-type-before-expected.txt:

2021-10-05  Martin Robinson  <mrobinson@webkit.org>

        [css-position-sticky] scrollIntoView should not take into account sticky positioning offsets
        https://bugs.webkit.org/show_bug.cgi?id=230689

        Reviewed by Simon Fraser.

        * platform/ios-wk2/imported/w3c/web-platform-tests/css/css-position/sticky/position-sticky-scrollIntoView-expected.txt: Removed.

2021-10-05  Youenn Fablet  <youenn@apple.com>

        Removing no longer needed flaky expectations from WebRTC tests
        https://bugs.webkit.org/show_bug.cgi?id=231223

        Unreviewed.

        Update expectations based on results.webkit.org results.

        * TestExpectations:
        * platform/ios-simulator-wk2/TestExpectations:
        * platform/ios-wk2/TestExpectations:
        * platform/ios/TestExpectations:
        * platform/mac-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-10-05  Tim Nguyen  <ntim@apple.com>

        Remove unnecessary autofocus attribute dependencies in tests
        https://bugs.webkit.org/show_bug.cgi?id=231219

        Reviewed by Antti Koivisto.

        The new autofocus behaviour timing happens asynchronously with the page "update rendering" steps.

        Some tests are using it solely to focus synchronously on elements. We should just use HTMLElement.focus()
        there so they don't rely on the current synchronous timing of autofocus.

        * fast/forms/number/number-placeholder-with-unacceptable-value-expected.html:
        * fast/forms/number/number-placeholder-with-unacceptable-value.html:
        * fast/forms/range/range-type-change-onchange.html:

2021-10-04  Tim Nguyen  <ntim@apple.com>

        Update ios-wk2 test expectations for select-validity.html WPT
        https://bugs.webkit.org/show_bug.cgi?id=231217

        Unreviewed test gardening.

        * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/forms/the-select-element/select-validity-expected.txt:

2021-10-04  Cameron McCormack  <heycam@apple.com>

        Choose an appropriate color space when converting an SVG image into a NativeImage for canvas drawImage
        https://bugs.webkit.org/show_bug.cgi?id=231062
        <rdar://problem/83752451>

        Reviewed by Simon Fraser.

        * TestExpectations:
        * platform/ios-14/TestExpectations:
        * platform/ios/TestExpectations:
        * platform/mac/TestExpectations:

2021-10-04  Cameron McCormack  <heycam@apple.com>

        Update test expectations for canvas color space tests in simulator
        https://bugs.webkit.org/show_bug.cgi?id=231204
        <rdar://problem/83865405>

        Unreviewed test gardening.

        * platform/ios-simulator/TestExpectations:

2021-10-04  Tim Nguyen  <ntim@apple.com>

        Re-import html/semantics/forms/ WPT
        https://bugs.webkit.org/show_bug.cgi?id=231168

        Reviewed by Youenn Fablet.

        https://github.com/web-platform-tests/wpt/commit/dc29fc4ff101c1c216494a88a1f8a31a0f21d0aa

        * TestExpectations:
        * tests-options.json:

2021-10-04  Ayumi Kojima  <ayumi_kojima@apple.com>

        Cleaning up expectations for iOS 15.
        https://bugs.webkit.org/show_bug.cgi?id=230968

        Unreviewed test gardening.

        * platform/ios-14/TestExpectations:
        * platform/ios-15/fast/events/ios/keydown-keyup-keypress-keys-in-non-editable-using-chinese-keyboard-expected.txt: Added.

2021-10-04  Eric Hutchison  <ehutchison@apple.com>

        Remove test expectations since 'crash' has been resolved.
        https://bugs.webkit.org/show_bug.cgi?id=230245.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-10-04  Ayumi Kojima  <ayumi_kojima@apple.com>

        Cleaning up expectations for iOS 15.
        https://bugs.webkit.org/show_bug.cgi?id=230968

        Unreviewed test gardening.

        * platform/ios-14/TestExpectations:
        * platform/ios-15/fast/forms/ios/accessory-bar-navigation-expected.txt: Added.
        * platform/ios-15/fast/forms/ios/focus-input-in-fixed-expected.txt: Added.
        * platform/ios-15/fast/forms/ios/focus-input-in-iframe-expected.txt: Added.
        * platform/ios-15/fast/forms/ios/focus-input-via-button-expected.txt: Added.
        * platform/ios-15/fast/forms/ios/focus-input-via-button-no-scaling-expected.txt: Added.
        * platform/ios-15/fast/forms/ios/focus-long-textarea-expected.txt: Added.
        * platform/ios-15/fast/forms/ios/zoom-after-input-tap-expected.txt: Added.
        * platform/ios-15/fast/forms/ios/zoom-after-input-tap-wide-input-expected.txt: Added.
        * platform/ios/TestExpectations:
        * platform/ipad/TestExpectations:

2021-10-04  Lauro Moura  <lmoura@igalia.com>

        Make preload referrer-img.py compatible with Python 3.9
        https://bugs.webkit.org/show_bug.cgi?id=231099

        Reviewed by Jonathan Bedard.

        Python 3.9 removed[1] the deprecated `base64.decodestring`. We should use
        `base64.decodebytes` instead (available since 3.1).

        [1] https://bugs.python.org/issue39351

        * http/wpt/preload/resources/referrer-img.py: Replace deprecated method.

2021-10-04  Alan Bujtas  <zalan@apple.com>

        'overflow-wrap: anywhere' should be considered when calculating min-content intrinsic sizes.
        https://bugs.webkit.org/show_bug.cgi?id=231152

        Reviewed by Javier Fernandez.

        * TestExpectations: Progressions.

2021-10-04  Ziran Sun  <zsun@igalia.com>

        [css-grid] Resync web-platform-tests/css/css-grid tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=231020

        Reviewed by Sergio Villar Senin.

        * TestExpectations:

2021-10-04  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Mark more font-palette tests as failing. Unreviewed test gardening.
        https://bugs.webkit.org/show_bug.cgi?id=231165

        * platform/glib/TestExpectations:

2021-10-03  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Do not take hanging whitespace sequence into account while finding expansion opportunities
        https://bugs.webkit.org/show_bug.cgi?id=231132

        Reviewed by Antti Koivisto.

        * TestExpectations:

2021-10-03  Alan Bujtas  <zalan@apple.com>

        Incorrect preferred width computation when trimmable leading whitespace is present
        https://bugs.webkit.org/show_bug.cgi?id=231139

        Reviewed by Antti Koivisto.

        * TestExpectations: IFC already supports these cases. Preferred width computation produced an incorrect shrink-fit width.

2021-10-03  Simon Fraser  <simon.fraser@apple.com>

        REGRESSION (r283335): rubber-banding no longer locks to an axis
        https://bugs.webkit.org/show_bug.cgi?id=231131

        Reviewed by Tim Horton.

        * fast/scrolling/mac/rubberband-axis-locking-expected.txt: Added.
        * fast/scrolling/mac/rubberband-axis-locking.html: Added.

2021-10-02  Youenn Fablet  <youenn@apple.com>

        Add support for ServiceWorkerGlobalScope push event handler
        https://bugs.webkit.org/show_bug.cgi?id=231008
        <rdar://problem/83710760>

        Reviewed by Chris Dumez.

        * http/wpt/push-api/pushEvent.any.js:
        * http/wpt/push-api/pushEvent.any.serviceworker-expected.txt:

2021-10-01  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r283293.
        https://bugs.webkit.org/show_bug.cgi?id=231116

        changing print() broke a lot of random things

        Reverted changeset:

        "Print values in a nicer way in the jsc shell"
        https://bugs.webkit.org/show_bug.cgi?id=230931
        https://commits.webkit.org/r283293

2021-10-01  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ macOS wk2 Release ] http/tests/loading/preload-slow-loading.py is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231088

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-10-01  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS Release & macOS wk2 ] http/tests/misc/repeat-open-cancel.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=231097

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-10-01  Yusuke Suzuki  <ysuzuki@apple.com>

        Disable new incumbent-window until it is fully implemented
        https://bugs.webkit.org/show_bug.cgi?id=230261
        <rdar://problem/83099726>

        Reviewed by Chris Dumez and Geoffrey Garen.

        * http/tests/security/frameNavigation/context-for-location-href-gopd-expected.txt:

2021-10-01  Lauro Moura  <lmoura@igalia.com>

        [GLIB] A few more rebaselines

        Unreviewed test gardening.

        svg/zoom/page manually tested and working on GTK.

        * platform/gtk/TestExpectations:
        * platform/gtk/svg/zoom/page/zoom-svg-through-object-with-absolute-size-2-expected.txt:
        * platform/gtk/svg/zoom/page/zoom-svg-through-object-with-absolute-size-expected.txt:
        * platform/gtk/svg/zoom/page/zoom-svg-through-object-with-percentage-size-expected.txt:
        * platform/wpe/scrollingcoordinator/scrolling-tree/coordinated-frame-expected.txt:
        * platform/wpe/scrollingcoordinator/scrolling-tree/coordinated-frame-gain-scrolling-ancestor-expected.txt:
        * platform/wpe/scrollingcoordinator/scrolling-tree/coordinated-frame-in-fixed-expected.txt:
        * platform/wpe/scrollingcoordinator/scrolling-tree/coordinated-frame-lose-scrolling-ancestor-expected.txt:
        * platform/wpe/svg/custom/svg-fonts-without-missing-glyph-expected.txt:
        * platform/wpe/svg/hixie/intrinsic/003-expected.txt:
        * platform/wpe/svg/zoom/page/zoom-svg-through-object-with-absolute-size-2-expected.txt:
        * platform/wpe/svg/zoom/page/zoom-svg-through-object-with-absolute-size-expected.txt:
        * platform/wpe/svg/zoom/page/zoom-svg-through-object-with-percentage-size-expected.txt:

2021-10-01  Ayumi Kojima  <ayumi_kojima@apple.com>

        [BigSur wk2 Debug] webgl/1.0.3/conformance/glsl/constructors/glsl-construct-bvec2.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=229472

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-10-01  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ macOS wk1 ] imported/w3c/web-platform-tests/css/css-multicol/multicol-gap-percentage-001.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231103

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-10-01  Chris Dumez  <cdumez@apple.com>

        GC may not know about memory used by AudioBufferSourceNode's buffer
        https://bugs.webkit.org/show_bug.cgi?id=230966

        Reviewed by Darin Adler.

        Add layout test coverage.

        * webaudio/AudioBufferSource/audiobuffersource-buffer-gc-expected.txt: Added.
        * webaudio/AudioBufferSource/audiobuffersource-buffer-gc.html: Added.

2021-10-01  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur wk1 ] printing/css2.1/page-break-after-000.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231102

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-10-01  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ macOS wk2 Release ] http/tests/loading/preload-slow-loading.py is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231088

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-10-01  Chris Dumez  <cdumez@apple.com>

        Unreviewed, reverting r283274.

        Broke HSTS.CrossOriginRedirect API test

        Reverted changeset:

        "Use isolated NSURLSessions for each first party registrable
        domain"
        https://bugs.webkit.org/show_bug.cgi?id=230750
        https://commits.webkit.org/r283274

2021-10-01  Simon Fraser  <simon.fraser@apple.com>

        Fix flaky test: fast/scrolling/mac/scrollbars/overflow-overlay-scrollbar-hovered.html
        https://bugs.webkit.org/show_bug.cgi?id=231093

        Reviewed by Alan Bujtas.

        This test dumped overlay scrollbar state, but that state is timing-dependent since
        AppKit changes it via animations. Rather than printing the full state, just
        print the expanded and enabled states, since those are the states necessary for
        the test to pass.

        * fast/scrolling/mac/scrollbars/overflow-overlay-scrollbar-hovered-expected.txt:
        * fast/scrolling/mac/scrollbars/overflow-overlay-scrollbar-hovered.html:

2021-10-01  Ayumi Kojima  <ayumi_kojima@apple.com>

        Regression (r282210/r282211): [ macOS wk2 ] css3/filters/blur-various-radii.html is a flaky image failure.
        https://bugs.webkit.org/show_bug.cgi?id=231090

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-10-01  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ macOS ] imported/w3c/web-platform-tests/html/semantics/embedded-content/the-video-element/resize-during-playback.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231084

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-10-01  Eric Hutchison  <ehutchison@apple.com>

        Reset test expectations regarding bMalloc issue causing flaky crashes on wk1 Debug.
        https://bugs.webkit.org/show_bug.cgi?id=230245.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-10-01  Youenn Fablet  <youenn@apple.com>

        Add support for PushEvent
        https://bugs.webkit.org/show_bug.cgi?id=231007
        <rdar://problem/83707470>

        Reviewed by Chris Dumez.

        Skip tests in WK1.

        * http/wpt/push-api/pushEvent.any.js: Added.
        * http/wpt/push-api/pushEvent.any.serviceworker-expected.txt: Added.
        * http/wpt/push-api/pushEvent.any.serviceworker.html: Added.
        * platform/mac-wk1/TestExpectations:
        * platform/win/TestExpectations:
        * platform/wincairo-wk1/TestExpectations:

2021-10-01  Eric Hutchison  <ehutchison@apple.com>

        [ iOS Mac wk2 Debug ] imported/w3c/web-platform-tests/content-security-policy/generic/policy-inherited-correctly-by-plznavigate.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=231083.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-10-01  Kevin Turner  <kevin_turner@apple.com>

        Add support for pow(), sqrt() and hypot() per https://drafts.csswg.org/css-values-4/#exponent-funcs. 
        https://bugs.webkit.org/show_bug.cgi?id=203312

        Reviewed by Simon Fraser.       

        Tests performing CSS calculations with pow(), sqrt(), and hypot() with a range of inputs.
        * fast/css/calc-parsing-expected.txt:
        * fast/css/calc-parsing.html:

2021-09-30  Lauro Moura  <lmoura@igalia.com>

        [GLIB] Gardening some mediastream consistent failures

        Unreviewed test gardening.

        * platform/glib/TestExpectations:
        * platform/wpe/TestExpectations:

2021-09-30  Sihui Liu  <sihui_liu@apple.com>

        Make File System Access API available in Worker
        https://bugs.webkit.org/show_bug.cgi?id=230805
        <rdar://problem/83552511>

        Reviewed by Youenn Fablet.

        * storage/filesystemaccess/directory-handle-basics-worker-expected.txt: Added.
        * storage/filesystemaccess/directory-handle-basics-worker.html: Added.
        * storage/filesystemaccess/directory-handle-basics.html:
        * storage/filesystemaccess/resources/directory-handle-basics.js: Copied from LayoutTests/storage/filesystemaccess/directory-handle-basics.html.
        (finishTest):
        (getDirectory):

2021-09-30  John Wilander  <wilander@apple.com>

        PCM: Change WebIDL attributes from all lowercase to camelcase to match spec and align with Attribution Reporting API
        https://bugs.webkit.org/show_bug.cgi?id=230914
        <rdar://problem/83639923>

        Reviewed by Brent Fulgham.

        This patch changes Private Click Measurement's WebIDL attributes from
        all lowercase to camelcase to match the spec and align with the
        Attribution Reporting API proposal.

        References
        - Private Click Measurement proposal: https://privacycg.github.io/private-click-measurement/#linkformat
        - Attribution Reporting API proposal: https://wicg.github.io/conversion-measurement-api/#monkeypatch-anchor

        * http/tests/privateClickMeasurement/anchor-tag-attributes-reflect-expected.txt:
        * http/tests/privateClickMeasurement/anchor-tag-attributes-reflect.html:
        * http/tests/privateClickMeasurement/anchor-tag-attributes-validation.html:

2021-09-30  Ziran Sun  <zsun@igalia.com>

        [css-grid]  Transfer sizes from the aspect-ratio while resolving min-length for auto repetitions
        https://bugs.webkit.org/show_bug.cgi?id=230676

        Reviewed by Sergio Villar Senin.

        Updated TestExpectations file as two tests with image failures are now passing.

        * TestExpectations:

2021-09-30  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Rebaseline a number of tests. Unreviewed test gardening.
        https://bugs.webkit.org/show_bug.cgi?id=230996

        * platform/glib/http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-in-new-window-expected.txt: Added.
        * platform/glib/http/tests/security/contentSecurityPolicy/report-only-from-header-expected.txt:
        * platform/glib/security/block-test-expected.txt:
        * platform/gtk/fast/encoding/charset-replacement-expected.txt: Copied from LayoutTests/platform/glib/fast/encoding/charset-replacement-expected.txt.
        * platform/gtk/imported/w3c/web-platform-tests/css/css-cascade/layer-counter-style-override-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:
        * platform/gtk/inspector/dom/getAccessibilityPropertiesForNode-expected.txt:
        * platform/wpe/fast/encoding/charset-replacement-expected.txt: Renamed from LayoutTests/platform/glib/fast/encoding/charset-replacement-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/css/css-cascade/layer-counter-style-override-expected.txt: Added.
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:

2021-09-30  John Wilander  <wilander@apple.com>

        PCM: Take app bundle ID into consideration when matching triggering events with pending clicks
        https://bugs.webkit.org/show_bug.cgi?id=230778
        <rdar://problem/83516528>

        Reviewed by Alex Christensen.

        https://commits.webkit.org/r282884 added app bundle IDs to unattributed
        and attributed clicks in PCM. This patch makes sure we take those IDs
        into consideration in PCM::Database::attributePrivateClickMeasurement().

        * http/tests/privateClickMeasurement/multiple-app-bundle-ids-expected.txt: Added.
        * http/tests/privateClickMeasurement/multiple-app-bundle-ids.html: Added.
        * http/tests/privateClickMeasurement/resources/util.js:
        (tearDownAndFinish):

2021-09-30  Alan Bujtas  <zalan@apple.com>

        (REGRESSION r282150) Missing background-color on inline box while hovering
        https://bugs.webkit.org/show_bug.cgi?id=230977
        <rdar://problem/83682736>

        Reviewed by Antti Koivisto.

        * fast/inline/inline-box-background-dynamic-expected.html: Added.
        * fast/inline/inline-box-background-dynamic.html: Added.

2021-09-30  Antti Koivisto  <antti@apple.com>

        Having unused TextIterator instance shouldn't crash if document is mutated
        https://bugs.webkit.org/show_bug.cgi?id=231013
        rdar://83690985

        Reviewed by Alan Bujtas.

        * editing/text-iterator/text-iterator-document-mutation-expected.txt: Added.
        * editing/text-iterator/text-iterator-document-mutation.html: Added.

2021-09-30  Lauro Moura  <lmoura@igalia.com>

        [WPE] Rebaseline a number of text-only text-related failures

        Unreviewed test gardening.

        Also small spacing diffs like the previous gardening commit.

        * platform/wpe/fast/encoding/invalid-UTF-8-expected.txt:
        * platform/wpe/fast/events/updateLayoutForHitTest-expected.txt:
        * platform/wpe/fast/multicol/vertical-rl/float-multicol-expected.txt:
        * platform/wpe/fast/multicol/vertical-rl/nested-columns-expected.txt:
        * platform/wpe/fast/table/col-and-colgroup-offsets-expected.txt:
        * platform/wpe/fast/text/capitalize-boundaries-expected.txt:
        * platform/wpe/fast/text/emoji-expected.txt:
        * platform/wpe/fast/text/fallback-traits-fixup-expected.txt:
        * platform/wpe/fast/text/fixed-pitch-control-characters-expected.txt:
        * platform/wpe/fast/text/in-rendered-text-rtl-expected.txt:
        * platform/wpe/fast/text/international/bidi-L2-run-reordering-expected.txt:
        * platform/wpe/fast/text/international/bidi-LDB-2-CSS-expected.txt:
        * platform/wpe/fast/text/international/bidi-LDB-2-HTML-expected.txt:
        * platform/wpe/fast/text/international/bidi-LDB-2-formatting-characters-expected.txt:
        * platform/wpe/fast/text/international/bidi-european-terminators-expected.txt:
        * platform/wpe/fast/text/international/bidi-ignored-for-first-child-inline-expected.txt:
        * platform/wpe/fast/text/international/bidi-innertext-expected.txt:
        * platform/wpe/fast/text/international/bidi-listbox-atsui-expected.txt:
        * platform/wpe/fast/text/international/bidi-listbox-expected.txt:
        * platform/wpe/fast/text/international/bidi-menulist-expected.txt:
        * platform/wpe/fast/text/international/bidi-override-expected.txt:
        * platform/wpe/fast/text/international/rtl-caret-expected.txt:
        * platform/wpe/fast/text/midword-break-after-breakable-char-expected.txt:
        * platform/wpe/fast/text/midword-break-before-surrogate-pair-expected.txt:
        * platform/wpe/fast/text/orientation-sideways-expected.txt:
        * platform/wpe/fast/text/whitespace/pre-wrap-overflow-selection-expected.txt:

2021-09-30  Enrique Ocaña González  <eocanha@igalia.com>

        [MSE][GStreamer] Allow infinite duration on MSE
        https://bugs.webkit.org/show_bug.cgi?id=231017

        Reviewed by Alicia Boya Garcia.

        * platform/glib/TestExpectations: mediasource-seekable.html now passes.
        * platform/glib/imported/w3c/web-platform-tests/media-source/mediasource-changetype-play-implicit-expected.txt: Changed expectations because this test now passes for audio/mpeg <-> audio/mpeg.

2021-09-30  Youenn Fablet  <youenn@apple.com>

        Layout Test imported/w3c/web-platform-tests/webrtc/RTCPeerConnection-iceConnectionState.https.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=203256
        <rdar://problem/56506063>

        Reviewed by Eric Carlson.

        * TestExpectations:
        Mark webrtc/connection-state.html as flaky as it is probably too restrictive and should be reworked.
        * platform/mac-wk2/TestExpectations:
        Unflake test.

2021-09-29  Youenn Fablet  <youenn@apple.com>

        Import WPT push api tests
        https://bugs.webkit.org/show_bug.cgi?id=230945

        Reviewed by Alex Christensen.

        * platform/mac-wk1/TestExpectations:
        Skip tests in WK1

2021-09-29  Youenn Fablet  <youenn@apple.com>

        Import WPT notification service worker test
        https://bugs.webkit.org/show_bug.cgi?id=230944

        Reviewed by Alex Christensen.

        * platform/mac-wk1/TestExpectations:
        Skip test in WK1

2021-09-29  Saam Barati  <sbarati@apple.com>

        Print values in a nicer way in the jsc shell
        https://bugs.webkit.org/show_bug.cgi?id=230931

        Reviewed by Tadeu Zagallo.

        * resources/standalone-pre.js:

2021-09-29  Chris Dumez  <cdumez@apple.com>

        [ iOS Debug ] http/tests/xmlhttprequest/access-control-preflight-credential-sync.html is a flaky crash
        https://bugs.webkit.org/show_bug.cgi?id=228305
        <rdar://problem/81136891>

        Reviewed by Alex Christensen.

        Unskip test that should no longer be flaky.

        * platform/ios-wk2/TestExpectations:

2021-09-29  Kiet Ho  <tho22@apple.com>

        Implement the 'ic' unit from CSS Values 4
        https://bugs.webkit.org/show_bug.cgi?id=204276
        <rdar://problem/57256127>

        Reviewed by Myles C. Maxfield.

        Added tests for behavior of CSSPrimitiveValue on ic unit.

        * TestExpectations: remove ImageOnlyFailure expectations for ic-unit-* tests, now that they should pass.
        * fast/css/CSSPrimitiveValue-ic-expected.txt: Added.
        * fast/css/CSSPrimitiveValue-ic.html: Added.

2021-09-29  Chris Dumez  <cdumez@apple.com>

        Use isolated NSURLSessions for each first party registrable domain
        https://bugs.webkit.org/show_bug.cgi?id=230750
        <rdar://83159358>

        Reviewed by Alex Christensen.

        This test is now passing more checks on WebKit2 but still completely fails on WebKit1 so I am
        adding a WK1-specific baseline.

        * platform/mac-wk1/imported/w3c/web-platform-tests/fetch/connection-pool/network-partition-key-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/fetch/connection-pool/network-partition-key-expected.txt.

2021-09-29  Aditya Keerthi  <akeerthi@apple.com>

        [css-ui] getComputedStyle() must return the specified value for '-webkit-appearance'
        https://bugs.webkit.org/show_bug.cgi?id=230916
        rdar://83640938

        Reviewed by Simon Fraser.

        * platform/gtk/imported/w3c/web-platform-tests/css/css-ui/appearance-cssom-001-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/css-ui/appearance-cssom-001-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/css-ui/appearance-cssom-001-expected.txt:

2021-09-29  Robert Jenner  <Jenner@apple.com>

        [ Catalina+ Debug wk2 ] fast/speechrecognition/start-recognition-after-gum.html is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=228209

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-29  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS Debug ] fast/selectors/ backtracking tests are timing out.
        https://bugs.webkit.org/show_bug.cgi?id=230988

        Unreviewed test gardening.

        * platform/ios-14/TestExpectations:
        * platform/ios-wk2/TestExpectations:

2021-09-29  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] fast/events/ios/viewport-shrink-to-fit-allows-double-tap.html is flaky timing out.
        https://bugs.webkit.org/show_bug.cgi?id=230987

        Unreviewed test gardening.

        * platform/ios-14/TestExpectations:
        * platform/ios-wk2/TestExpectations:

2021-09-29  Eric Hutchison  <ehutchison@apple.com>

        [ BigSur Debug arm64 ] streams/readableStream-then.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=230984.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-09-29  Truitt Savell  <tsavell@apple.com>

        Unreviewed, reverting r281602.

        These tests are working now

        Reverted changeset:

        "25 webkit imported/w3c/web-platform-tests/css/ layout tests
        failing with black bars"
        https://commits.webkit.org/r281602

2021-09-29  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations to include x86 for imported/w3c/web-platform-tests/resource-timing/sizes-redirect-img.html.
        https://bugs.webkit.org/show_bug.cgi?id=230862.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-09-29  Eric Hutchison  <ehutchison@apple.com>

        [iOS EWS] imported/w3c/web-platform-tests/content-security-policy/script-src/script-src-strict_dynamic_worker.https.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230979.

        Unreviewed test gardening.

        * platform/ios-14-wk2/TestExpectations:

2021-09-29  Alan Bujtas  <zalan@apple.com>

        Thin hairline gap displayed for subpixel sized inset box-shadows
        https://bugs.webkit.org/show_bug.cgi?id=230814

        Reviewed by Simon Fraser.

        * fast/box-shadow/hidpi-box-shadow-inset-on-subpixel-position-expected.html: Added.
        * fast/box-shadow/hidpi-box-shadow-inset-on-subpixel-position.html: Added.
        * platform/win/TestExpectations:

2021-09-29  Eric Hutchison  <ehutchison@apple.com>

        Fixed incorrect test expectations for imported/w3c/web-platform-tests/mediacapture-streams/MediaStream-default-feature-policy.https.html.
        https://bugs.webkit.org/show_bug.cgi?id=230866.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-29  Kimmo Kinnunen  <kkinnunen@apple.com>

        MediaStream canvas.captureStream() fails for WebGL
        https://bugs.webkit.org/show_bug.cgi?id=230613
        <rdar://82307293>

        Reviewed by Youenn Fablet.

        Add new expectations, a warning was removed.
        CONSOLE MESSAGE: Turning drawing buffer preservation for the WebGL canvas being captured

        * fast/mediacapturefromelement/CanvasCaptureMediaStream-webgl-events-expected.txt:
        * fast/mediastream/captureStream/canvas3d-expected.txt:

2021-09-29  Youenn Fablet  <youenn@apple.com>

        [ iOS macOS wk2 ] webrtc/datachannel/mdns-ice-candidates.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=230700
        <rdar://problem/83456565>

        Reviewed by Eric Carlson.

        * platform/mac-wk2/TestExpectations:
        * webrtc/datachannel/mdns-ice-candidates.html:
        Close connections test after test.

2021-09-29  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] fast/scrolling/ios/click-events-after-long-press-during-momentum-scroll-in-overflow.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=230959

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-09-29  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS BigSur ] http/tests/appcache/fail-on-update.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=227891

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-09-29  Aditya Keerthi  <akeerthi@apple.com>

        Update css-ui WPT
        https://bugs.webkit.org/show_bug.cgi?id=230900
        rdar://83641111

        Reviewed by Simon Fraser.

        * TestExpectations:

        Remove deleted tests.

        * platform/gtk/imported/w3c/web-platform-tests/css/css-ui/appearance-cssom-001-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/css-ui/appearance-cssom-001-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/css-ui/appearance-cssom-001-expected.txt:

2021-09-29  Ayumi Kojima  <ayumi_kojima@apple.com>

        [iOS] http/tests/appcache/fail-on-update.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=227891

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations: 

2021-09-29  Eric Carlson  <eric.carlson@apple.com>

        [Cocoa] Support in-band chapter tracks
        https://bugs.webkit.org/show_bug.cgi?id=230380
        <rdar://problem/83218578>

        Reviewed by Jer Noble.

        * media/content/multi-language-chapters.mp4: Added.
        * media/track/track-in-band-chapters-expected.txt: Added.
        * media/track/track-in-band-chapters.html: Added.
        * media/track/track-manual-mode.html: Updated because the movie file this uses has
        in-band chapter tracks.
        * media/track/track-manual-mode-expected.txt: Ditto.
        * platform/glib/TestExpectations: Skipped.
        * platform/win/TestExpectations: Skipped.

2021-09-28  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test expectations and baselines. Unreviewed test gardening.
        https://bugs.webkit.org/show_bug.cgi?id=230927

        * platform/glib/TestExpectations:
        * platform/glib/imported/w3c/web-platform-tests/content-security-policy/media-src/media-src-7_1-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/content-security-policy/media-src/media-src-7_2-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/content-security-policy/media-src/media-src-7_3.sub-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/content-security-policy/media-src/media-src-redir-bug.sub-expected.txt: Added.

2021-09-28  Truitt Savell  <tsavell@apple.com>

        Marking more tests crashing with uncaught exception 'NSInvalidArgumentException'
        rdar://83592102

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-09-28  Cameron McCormack  <heycam@apple.com>

        Preserve color space when structured cloning ImageBitmaps
        https://bugs.webkit.org/show_bug.cgi?id=230429
        <rdar://problem/83293533>

        Reviewed by Sam Weinig.

        * fast/storage/serialized-script-value.html: Bump the current version
        number.

2021-09-28  Kate Cheney  <katherine_cheney@apple.com>

        CSP: Implement 'strict-dynamic' source expression
        https://bugs.webkit.org/show_bug.cgi?id=184031
        <rdar://problem/38900632>

        Reviewed by Brent Fulgham.

        * TestExpectations:

2021-09-28  Eric Hutchison  <ehutchison@apple.com>

        [ Catalina BigSur wk1 Debug ] storage/websql/multiple-databases-garbage-collection.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=230910.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-28  Eric Hutchison  <ehutchison@apple.com>

        [ iOS, Mac ] imported/w3c/web-platform-tests/css/css-cascade/layer-counter-style-override.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230905.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk1/TestExpectations:

2021-09-28  Youenn Fablet  <youenn@apple.com>

        applyConstraints throws OverconstrainedError if specify exact for deviceId
        https://bugs.webkit.org/show_bug.cgi?id=230819
        <rdar://problem/83577361>

        Reviewed by Eric Carlson.

        * fast/mediastream/applyConstraints-deviceId-expected.txt: Added.
        * fast/mediastream/applyConstraints-deviceId.html: Added.

2021-09-28  Antti Koivisto  <antti@apple.com>

        [CSS Cascade Layers] Add CSSOM interface
        https://bugs.webkit.org/show_bug.cgi?id=230882

        Reviewed by Simon Fraser.

        * TestExpectations:

2021-09-28  Antti Koivisto  <antti@apple.com>

        [CSS Cascade Layers] Import more WPT tests
        https://bugs.webkit.org/show_bug.cgi?id=230883

        Reviewed by Youenn Fablet.

        * TestExpectations:

2021-09-27  Eric Hutchison  <ehutchison@apple.com>

        [ Catalina BigSur wk2 ] imported/w3c/web-platform-tests/mediacapture-streams/MediaStream-default-feature-policy.https.html is a flaky failure and crash.
        https://bugs.webkit.org/show_bug.cgi?id=230866.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-27  Eric Hutchison  <ehutchison@apple.com>

        [BigSur wk2 Debug iOS14 ] webrtc/video-mute.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230865.

        Unreviewed test gardening.

        * platform/ios-14-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-09-27  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ macOS wk1 ] webanimations/relative-ordering-of-translate-and-rotate-properties-accelerated.html is a flaky image failure.
        https://bugs.webkit.org/show_bug.cgi?id=230863

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-27  Eric Hutchison  <ehutchison@apple.com>

        [ Catalina BigSur arm64 ] imported/w3c/web-platform-tests/resource-timing/sizes-redirect-img.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230862.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-09-27  Truitt Savell  <tsavell@apple.com>

        6 editing spelling tests crashing with uncaught exception 'NSInvalidArgumentException'
        rdar://83592102

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-09-27  Truitt Savell  <tsavell@apple.com>

        8 editing/ tests crashing with Assertion failed
        rdar://83591040

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-09-27  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS 14 & 15 ] fast/images/image-subsampling.html is a flaky image failure.
        https://bugs.webkit.org/show_bug.cgi?id=230857

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-09-27  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS 14 ] remote-layer-tree/ios/uiview-tree-basic.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230850

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-09-27  Tyler Wilcock  <tyler_w@apple.com>

        [ MacOS ] inspector/dom/getAccessibilityPropertiesForNode.html is failing
        https://bugs.webkit.org/show_bug.cgi?id=230840

        Reviewed by Ryan Haddad.

        Remove `expanded` property from expected output for this test.
        Following https://trac.webkit.org/changeset/283078/webkit, we don't
        expose expanded in this case anymore.

        * inspector/dom/getAccessibilityPropertiesForNode-expected.txt:

2021-09-27  Eric Hutchison  <ehutchison@apple.com>

        [ Catalina BigSur wk1 Debug ] webrtc/datachannel/datachannel-gc.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=230848.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-27  Eric Hutchison  <ehutchison@apple.com>

        [ Catalina Debug wk1 EWS ] svg/filters/big-height-filter.svg is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=230846.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-27  Eric Hutchison  <ehutchison@apple.com>

        [ Catalina Debug wk1 EWS ] storage/indexeddb/mozilla/cursor-mutation.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=230844.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-27  Lauro Moura  <lmoura@igalia.com>

        Garden passing flexbox abspos tests since updated in 242101@main

        Unreviewed test gardening.

        These tests are passing in all platforms according to
        results.webkit.org.

        * TestExpectations:

2021-09-27  Eric Hutchison  <ehutchison@apple.com>

        [ Catalina BigSur wk1 Debug ] media/track/audio-track.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=230842.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-27  Youenn Fablet  <youenn@apple.com>

        Make sure to reset presenting application pid in case of mediaserverd crash
        https://bugs.webkit.org/show_bug.cgi?id=230822
        <rdar://83474184>

        Reviewed by Eric Carlson.

        * fast/mediastream/video-rotation-gpu-process-crash-expected.txt: Added.
        * fast/mediastream/video-rotation-gpu-process-crash.html: Added.
        * platform/ios-simulator/fast/mediastream/video-rotation-gpu-process-crash-expected.png: Added.
        * platform/mac/fast/mediastream/video-rotation-gpu-process-crash-expected.png: Added.

2021-09-27  Eric Hutchison  <ehutchison@apple.com>

        [ Windows ] svg/as-background-image/svg-as-background-body.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=230838.

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-09-27  Kate Cheney  <katherine_cheney@apple.com>

        Send CSP violation reports to the DOM window
        https://bugs.webkit.org/show_bug.cgi?id=230728

        Reviewed by Brent Fulgham.

        Unskip tests that are no longer timing out after this fix. Rebaseline
        tests that previously expected a different violated directive text.

        * TestExpectations:
        * http/tests/security/contentSecurityPolicy/1.1/frame-ancestors/report-frame-ancestors-cross-origin-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/frame-ancestors/report-frame-ancestors-cross-origin-https-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/frame-ancestors/report-frame-ancestors-same-origin-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/frame-ancestors/report-frame-ancestors-same-origin-https-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/report-uri-effective-directive-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/script-blocked-sends-multiple-reports-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-allowed-by-enforced-policy-and-blocked-by-report-policy-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-allowed-by-enforced-policy-and-blocked-by-report-policy2-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-allowed-by-legacy-enforced-policy-and-blocked-by-report-policy-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-allowed-by-legacy-enforced-policy-and-blocked-by-report-policy2-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-blocked-by-enforced-policy-and-allowed-by-report-policy-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-blocked-by-legacy-enforced-policy-and-blocked-by-report-policy-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-blocked-by-legacy-enforced-policy-and-blocked-by-report-policy2-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-blocked-by-enforced-policy-and-allowed-by-report-policy-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/securitypolicyviolation-block-cross-origin-image-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/securitypolicyviolation-block-cross-origin-image-from-script-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/securitypolicyviolation-block-image-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/securitypolicyviolation-block-image-from-script-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/securitypolicyviolation-block-image-https-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/securityviolationpolicy-block-frame-using-child-src-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/securityviolationpolicy-block-frame-using-default-src-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/securityviolationpolicy-block-frame-using-frame-src-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-and-enforce-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-blocked-data-uri-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-blocked-file-uri-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-blocked-uri-and-do-not-follow-redirect-when-sending-report-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-blocked-uri-cross-origin-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-blocked-uri-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-cross-origin-no-cookies-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-cross-origin-no-cookies-when-private-browsing-enabled-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-multiple-violations-01-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-multiple-violations-02-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-only-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-only-from-header-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-only-upgrade-insecure-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-same-origin-with-cookies-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-same-origin-with-cookies-when-private-browsing-enabled-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-status-code-zero-when-using-https-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-uri-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-uri-from-child-frame-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-uri-from-inline-javascript-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-uri-from-javascript-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-uri-scheme-relative-expected.txt:
        * http/tests/security/contentSecurityPolicy/same-origin-plugin-document-blocked-in-child-window-report-expected.txt:

2021-09-27  Eric Hutchison  <ehutchison@apple.com>

        [ Catalina BigSur wk1 Debug ] Assertion Failure: WebGL tests are flaky crashes.
        https://bugs.webkit.org/show_bug.cgi?id=230835.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-27  Eric Hutchison  <ehutchison@apple.com>

        [ Catalina Debug wk1 EWS] performance-api/performance-observer-order.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=230833.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-27  Eric Hutchison  <ehutchison@apple.com>

        [ Catalina Debug wk1 EWS ] storage/websql/multiple-transactions-on-different-handles.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=230831.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-27  Eric Hutchison  <ehutchison@apple.com>

        imported/w3c/web-platform-tests/webrtc/RTCDataChannel-close.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230696.

        Unreviewed test gardening.

        * platform/ios-14-wk2/TestExpectations:

2021-09-27  Martin Robinson  <mrobinson@webkit.org>

        Mandatory scroll snapping doesn't work correctly in tables with position:sticky
        https://bugs.webkit.org/show_bug.cgi?id=227300
        <rdar://problem/79971196>

        Reviewed by Simon Fraser.

        Add a test which exercises the original bug.

        * css3/scroll-snap/scroll-snap-drag-scrollbar-thumb-with-sticky-expected.txt: Added.
        * css3/scroll-snap/scroll-snap-drag-scrollbar-thumb-with-sticky.html: Added.
        * platform/ios/TestExpectations: Skip this test on iOS, which doesn't support thumb dragging.

2021-09-26  Cameron McCormack  <heycam@apple.com>

        Remove old test files from canvas WPTs that were moved
        https://bugs.webkit.org/show_bug.cgi?id=230811
        <rdar://problem/83554404>

        Reviewed by Tim Horton.

        * TestExpectations:
        * platform/glib/TestExpectations:
        * platform/glib/imported/w3c/web-platform-tests/html/canvas/element/image-smoothing/imagesmoothing-expected.txt: Removed.
        * platform/glib/imported/w3c/web-platform-tests/html/canvas/element/imagebitmap/canvas-createImageBitmap-resize-expected.txt: Removed.
        * platform/glib/imported/w3c/web-platform-tests/html/canvas/element/imagebitmap/createImageBitmap-drawImage-expected.txt: Removed.
        * platform/glib/imported/w3c/web-platform-tests/html/canvas/element/imagebitmap/createImageBitmap-flipY-expected.txt: Removed.
        * platform/glib/imported/w3c/web-platform-tests/html/canvas/element/imagebitmap/createImageBitmap-invalid-args-expected.txt: Removed.
        * platform/glib/imported/w3c/web-platform-tests/html/canvas/element/imagebitmap/createImageBitmap-serializable-expected.txt: Removed.
        * platform/glib/imported/w3c/web-platform-tests/html/canvas/element/imagebitmap/createImageBitmap-transfer-expected.txt: Removed.
        * platform/ios-14/TestExpectations:
        * platform/ios-simulator-wk2/TestExpectations:
        * platform/ios-wk2/TestExpectations:
        * platform/ios/TestExpectations:
        * platform/mac-wk1/imported/w3c/web-platform-tests/html/canvas/element/imagebitmap/createImageBitmap-flipY-expected.txt: Removed.
        * platform/mac/TestExpectations:

2021-09-26  Jean-Yves Avenard  <jya@apple.com>

        [MSE] appending to the source buffer will not throw when the source buffer is full.
        https://bugs.webkit.org/show_bug.cgi?id=230672
        rdar://problem/83496195

        Reviewed by Eric Carlson.

        * media/media-source/media-source-append-buffer-full-quota-exceeded-error-expected.txt:
        * media/media-source/media-source-append-buffer-full-quota-exceeded-error.html:

2021-09-26  Lauro Moura  <lmoura@igalia.com>

        [WPE] Rebaseline a number of text-only failures

        Unreviewed test gardening.

        Most are 1-pixel differences after some recent LFC-related commits.

        * platform/glib/fast/css/getComputedStyle/computed-style-font-family-expected.txt:
        * platform/glib/fast/encoding/charset-replacement-expected.txt:
        * platform/wpe/TestExpectations:
        * platform/wpe/css2.1/t0805-c5518-brdr-t-01-e-expected.txt:
        * platform/wpe/css2.1/t0805-c5519-brdr-r-00-a-expected.txt:
        * platform/wpe/css2.1/t0805-c5519-brdr-r-01-e-expected.txt:
        * platform/wpe/css2.1/t0805-c5520-brdr-b-01-e-expected.txt:
        * platform/wpe/css2.1/t0805-c5521-brdr-l-00-a-expected.txt:
        * platform/wpe/css2.1/t0805-c5521-brdr-l-01-e-expected.txt:
        * platform/wpe/css2.1/t0905-c414-flt-02-c-expected.txt:
        * platform/wpe/css2.1/t0905-c414-flt-03-c-expected.txt:
        * platform/wpe/css2.1/t0905-c414-flt-04-c-expected.txt:
        * platform/wpe/css2.1/t0905-c414-flt-fit-01-d-g-expected.txt:
        * platform/wpe/css2.1/t0905-c5525-fltblck-00-d-ag-expected.txt:
        * platform/wpe/css2.1/t0905-c5525-fltblck-01-d-expected.txt:
        * platform/wpe/css2.1/t0905-c5525-fltcont-00-d-g-expected.txt:
        * platform/wpe/css2.1/t0905-c5525-flthw-00-c-g-expected.txt:
        * platform/wpe/css2.1/t0905-c5525-fltwidth-00-c-g-expected.txt:
        * platform/wpe/css2.1/t0905-c5525-fltwidth-02-c-g-expected.txt:
        * platform/wpe/css2.1/t0905-c5525-fltwidth-03-c-g-expected.txt:
        * platform/wpe/css2.1/t0905-c5525-fltwrap-00-b-expected.txt:
        * platform/wpe/css2.1/t0905-c5526-flthw-00-c-g-expected.txt:
        * platform/wpe/css2.1/t090501-c414-flt-01-b-expected.txt:
        * platform/wpe/css2.1/t100304-c43-rpl-bbx-01-d-g-expected.txt:
        * platform/wpe/css2.1/t1202-counter-04-b-expected.txt:
        * platform/wpe/css2.1/t1202-counter-09-b-expected.txt:
        * platform/wpe/css2.1/t1202-counters-04-b-expected.txt:
        * platform/wpe/css2.1/t1202-counters-09-b-expected.txt:
        * platform/wpe/fast/attachment/attachment-select-on-click-expected.txt:
        * platform/wpe/fast/attachment/attachment-select-on-click-inside-user-select-all-expected.txt:
        * platform/wpe/fast/borders/rtl-border-05-expected.txt:
        * platform/wpe/fast/css/font-face-implicit-local-font-expected.txt:
        * platform/wpe/fast/css/font-face-locally-installed-expected.txt:
        * platform/wpe/fast/css/font-face-opentype-expected.txt:
        * platform/wpe/fast/css/font-face-unicode-range-expected.txt:

2021-09-26  Lauro Moura  <lmoura@igalia.com>

        [GLIB] Update baselines after 242013@main

        Unreviewed test gardening.

        These tests were updated to use the application bundle ID, which is
        not used by the GLIB ports.

        * platform/glib/http/tests/contentextensions/block-private-click-measurement-expected.txt: Added.
        * platform/glib/http/tests/privateClickMeasurement/attribution-conversion-through-cross-site-image-redirect-expected.txt: Added.
        * platform/glib/http/tests/privateClickMeasurement/attribution-conversion-through-fetch-keepalive-expected.txt: Added.
        * platform/glib/http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-ephemeral-expected.txt: Added.
        * platform/glib/http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-with-priority-expected.txt: Added.
        * platform/glib/http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-without-priority-expected.txt: Added.
        * platform/glib/http/tests/privateClickMeasurement/conversion-disabled-in-ephemeral-session-expected.txt: Added.
        * platform/glib/http/tests/privateClickMeasurement/private-click-measurement-with-source-nonce-null-content-expected.txt: Added.
        * platform/glib/http/tests/privateClickMeasurement/private-click-measurement-with-source-nonce-wrong-content-type-expected.txt: Added.
        * platform/glib/http/tests/privateClickMeasurement/second-attribution-converted-with-higher-priority-expected.txt: Added.
        * platform/glib/http/tests/privateClickMeasurement/second-attribution-converted-with-lower-priority-expected.txt: Added.
        * platform/glib/http/tests/privateClickMeasurement/second-conversion-with-higher-priority-expected.txt: Added.
        * platform/glib/http/tests/privateClickMeasurement/second-conversion-with-lower-priority-expected.txt: Added.
        * platform/glib/http/tests/privateClickMeasurement/store-private-click-measurement-expected.txt: Added.

2021-09-26  Eric Hutchison  <ehutchison@apple.com>

        [ Catalina Debug wk1 EWS ] media/modern-media-controls/media-controls/media-controls-placard-compressed-metrics.html is a flay crash.
        https://bugs.webkit.org/show_bug.cgi?id=230808.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-26  Eric Hutchison  <ehutchison@apple.com>

        [ Catalina Debug wk1 EWS ] Media tests flakily crashing.
        https://bugs.webkit.org/show_bug.cgi?id=230807.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-26  Antti Koivisto  <antti@apple.com>

        Line iterator firstRun/lastRun may return runs from wrong lines
        https://bugs.webkit.org/show_bug.cgi?id=230770
        <rdar://problem/83509753>

        Reviewed by Alan Bujtas.

        * editing/iterator-line-start-end-expected.txt: Added.
        * editing/iterator-line-start-end.html: Added.

2021-09-23  Tim Nguyen  <ntim@apple.com>

        Make inert nodes invisible to hit testing
        https://bugs.webkit.org/show_bug.cgi?id=229330

        Reviewed by Antti Koivisto.

        Test: LayoutTests/imported/w3c/web-platform-tests/inert/inert-inlines.tentative.html

        This adds an internal inherited effectiveInert style property in RenderStyle and starts using it for hit testing checks.
        Invalidation is done through style invalidation.

        Skipped and removed test expectations for inert event retargeting tests that should soon become irrelevant per
        this CSSWG discussion:
        https://logs.csswg.org/irc.w3.org/css/2021-09-08/#e1431357
        https://lists.w3.org/Archives/Public/www-style/2021Sep/0004.html

        Pending WPT PR to remove inert event retargeting tests: https://github.com/web-platform-tests/wpt/pull/30866

        * TestExpectations:
        * platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-retargeting-iframe.tentative-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-retargeting.tentative-expected.txt: Removed.

2021-09-25  Joanmarie Diggs  <jdiggs@igalia.com>

        AX: aria-expanded is no longer supported on quite a few roles in ARIA 1.2
        https://bugs.webkit.org/show_bug.cgi?id=230609

        Reviewed by Chris Fleizach.

        * accessibility/aria-expanded-supported-roles.html: Added.
        * accessibility/mac/aria-expanded-not-exposed-when-undefined.html: Updated.
        * accessibility/mac/aria-expanded-standard-items.html: Updated.
        * platform/glib/accessibility/aria-expanded-supported-roles-expected.txt: Added.
        * platform/mac/accessibility/aria-expanded-supported-roles-expected.txt: Added.
        * platform/win/TestExpectations:

2021-09-24  Eric Hutchison  <ehutchison@apple.com>

        [ Catalina BigSur Debug ] fast/workers/use-machine-stack.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=230780.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-09-24  Eric Hutchison  <ehutchison@apple.com>

        [ Catalina Debug wk1 EWS ]transitions/transition-end-event-destroy-renderer.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=230777.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-24  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur wk2 Release arm64 ] imported/w3c/web-platform-tests/resource-timing/status-codes-create-entry.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230775

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-24  Eric Hutchison  <ehutchison@apple.com>

        [ Catalina Debug wk1 EWS ] Multiple WebGL tests are flaky timeouts.
        https://bugs.webkit.org/show_bug.cgi?id=230774.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-24  Eric Hutchison  <ehutchison@apple.com>

        [ iOS ] CSS Flexbox tests are constant failure.
        https://bugs.webkit.org/show_bug.cgi?id=230773.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-09-24  Eric Hutchison  <ehutchison@apple.com>

        [ Catalina Debug wk1 EWS ] storage/indexeddb/mozilla/cursors-private.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=230765.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-24  Eric Hutchison  <ehutchison@apple.com>

        [ Catalina Debug wk1 EWS ] svg/dom/SVGAnimatedListPropertyTearOff-crash-2.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=230756.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-24  Sergio Villar Senin  <svillar@igalia.com>

        [css-flexbox] Import latest changes from css-flexbox WPT repo
        https://bugs.webkit.org/show_bug.cgi?id=230748

        Reviewed by Manuel Rego Casasnovas.

        * TestExpectations: Added 6 new tests that fail since the import.

2021-09-24  Youenn Fablet  <youenn@apple.com>

        <video> element rendered incorrectly when provided with a portrait orientation stream in Safari 15
        https://bugs.webkit.org/show_bug.cgi?id=229792
        <rdar://problem/82776741>

        Reviewed by Eric Carlson.

        * fast/mediastream/video-rotation-expected.txt: Added.
        * fast/mediastream/video-rotation.html: Added.
        * platform/ios-simulator/fast/mediastream/video-rotation-expected.png: Added.
        * platform/mac/fast/mediastream/video-rotation-expected.png: Added.

2021-09-24  Youenn Fablet  <youenn@apple.com>

        [IOS 15] Video track does not get unmuted in case of tab was inactive less than ~500 ms
        https://bugs.webkit.org/show_bug.cgi?id=230538
        <rdar://problem/83355705>

        Reviewed by Eric Carlson.

        * fast/mediastream/media-stream-video-track-interrupted-expected.txt: Added.
        * fast/mediastream/media-stream-video-track-interrupted.html: Added.

2021-09-24  Brandon Stewart  <brandonstewart@apple.com>

        [RenderTreeUpdater] NULL ptr deref in updateRenderTree
        https://bugs.webkit.org/show_bug.cgi?id=230581

        Reviewed by Antti Koivisto.

        New regression test to handle case where we trigger a text update,
        and then switch the node to a new unrendered document.

        * fast/dom/Document/clearPendingRenderTreeUpdater-expected.txt: Added.
        * fast/dom/Document/clearPendingRenderTreeUpdater.html: Added.

2021-09-24  Sihui Liu  <sihui_liu@apple.com>

        Add initial support for File System Access API
        https://bugs.webkit.org/show_bug.cgi?id=230484
        rdar://83405890

        Reviewed by Youenn Fablet.

        * TestExpectations:
        * platform/wk2/TestExpectations:
        * storage/filesystemaccess/directory-handle-basics-expected.txt: Added.
        * storage/filesystemaccess/directory-handle-basics.html: Added.

2021-09-23  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo/TestExpectations:
        * platform/wincairo/fast/css/font-face-implicit-local-font-expected.txt:
        * platform/wincairo/fast/css/font-face-opentype-expected.txt:
        * platform/wincairo/fast/text/fixed-pitch-control-characters-expected.txt:
        * platform/wincairo/fast/text/whitespace/pre-wrap-overflow-selection-expected.txt:

2021-09-23  Eric Hutchison  <ehutchison@apple.com>

        [Catalina Release wk1] imported/w3c/web-platform-tests/html/browsers/origin/cross-origin-objects/cross-origin-objects.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230729.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-23  Eric Hutchison  <ehutchison@apple.com>

        [ Windows ] fast/images/exif-orientation-composited.html is a flaky image-only failure.
        https://bugs.webkit.org/show_bug.cgi?id=230727.

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-09-23  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for js/dfg-float64array.html.
        https://bugs.webkit.org/show_bug.cgi?id=229594.

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-09-23  Eric Hutchison  <ehutchison@apple.com>

        [Catalina BigSur wk1 Debug ] resize-observer/delete-observers-in-callbacks.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=230717.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-23  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ macOS wk1 Debug ] editing/selection/navigation-clears-editor-state.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=230719

        Unreviewed test gardening.


        * platform/mac-wk1/TestExpectations:

2021-09-23  Devin Rousso  <drousso@apple.com>

        Web Inspector: Graphics: add instrumentation for new `CanvasRenderingContext2DSettings`
        https://bugs.webkit.org/show_bug.cgi?id=225180
        <rdar://problem/77587429>

        Reviewed by BJ Burg.

        * inspector/canvas/context-attributes-expected.txt:
        * inspector/canvas/recording-2d-frameCount-expected.txt:
        * inspector/canvas/recording-2d-full-expected.txt:
        * inspector/canvas/recording-2d-memoryLimit-expected.txt:
        * inspector/canvas/recording-bitmaprenderer-frameCount-expected.txt:
        * inspector/canvas/recording-bitmaprenderer-full-expected.txt:
        * inspector/canvas/recording-bitmaprenderer-memoryLimit-expected.txt:
        * inspector/canvas/recording-html-2d-expected.txt:
        * inspector/canvas/recording-webgl-frameCount-expected.txt:
        * inspector/canvas/recording-webgl-full-expected.txt:
        * inspector/canvas/recording-webgl-memoryLimit-expected.txt:
        * inspector/canvas/recording-webgl-snapshots-expected.txt:
        * inspector/canvas/recording-webgl2-frameCount-expected.txt:
        * inspector/canvas/recording-webgl2-full-expected.txt:
        * inspector/canvas/recording-webgl2-memoryLimit-expected.txt:
        * inspector/canvas/recording-webgl2-snapshots-expected.txt:

2021-09-23  Eric Hutchison  <ehutchison@apple.com>

        [ BigSur Debug ]http/tests/inspector/network/resource-initiatorNode.html is a flaky crash/failure.
        https://bugs.webkit.org/show_bug.cgi?id=230711.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-09-23  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS macOS Debug ] media/video-ended-seek-crash.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=230708

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-09-23  Eric Hutchison  <ehutchison@apple.com>

        LayoutTest memory/memory-pressure-simulation.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=170629.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-09-23  Eric Hutchison  <ehutchison@apple.com>

        [ Catalina Debug wk1 ] performance-api/performance-observer-callback-after-gc.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=230701.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-23  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS macOS wk2 ] webrtc/datachannel/mdns-ice-candidates.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230700

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-09-23  Eric Hutchison  <ehutchison@apple.com>

        [iOS] multiple CSS tests with image-only failures.
        https://bugs.webkit.org/show_bug.cgi?id=230695.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-09-23  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ macOS wk2 ] imported/w3c/web-platform-tests/webrtc/RTCDataChannel-close.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230696

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-23  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ macOS wk1 Debug ] http/wpt/fetch/navigation-post-to-get-origin.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=230693

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-23  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur wk2 Release ] imported/w3c/web-platform-tests/html/cross-origin-opener-policy/iframe-popup-unsafe-none-to-unsafe-none.https.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230691

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-22  Jean-Yves Avenard  <jya@apple.com>

        Make SharedBuffer inherit from ThreadSafeRefCounted
        https://bugs.webkit.org/show_bug.cgi?id=230662
        rdar://83419269

        Revert bug 230644.

        Reviewed by Chris Dumez.

        * platform/mac-wk1/TestExpectations:

2021-09-22  Andres Gonzalez  <andresg_22@apple.com>

        Fix for LayoutTests/accessibility/heading-level.html in isolated tree mode.
        https://bugs.webkit.org/show_bug.cgi?id=230654
        <rdar://problem/83422965>

        Reviewed by Chris Fleizach.

        Rewrote this test using Promises so that it works in isolated tree mode.

        * accessibility/heading-level-expected.txt:
        * accessibility/heading-level.html:

2021-09-22  Ayumi Kojima  <ayumi_kojima@apple.com>

        REGRESSION (r282865?): ASSERTION FAILED: Unsafe to ref/deref from different threads m_isOwnedByMainThread == isMainThread().
        https://bugs.webkit.org/show_bug.cgi?id=230644

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-22  Alan Bujtas  <zalan@apple.com>

        IFC progression gardening.

        Unreviewed.

        * TestExpectations: progressed with r282764 and r282872

2021-09-22  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS & macOS wk2 Debug ] imported/w3c/web-platform-tests/webrtc/simulcast/setParameters-active.https.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230653

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-09-22  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for js/dfg-uint8clampedarray.html.
        https://bugs.webkit.org/show_bug.cgi?id=229594.

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-09-22  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur wk2 ] http/tests/cache/disk-cache/shattered-deduplication.html is flaky image failure.
        https://bugs.webkit.org/show_bug.cgi?id=230650

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-22  Alex Christensen  <achristensen@webkit.org>

        PCM should include the bundle ID of the app from which it originated
        https://bugs.webkit.org/show_bug.cgi?id=230576
        <rdar://83065221>

        Reviewed by Kate Cheney.

        * http/tests/contentextensions/block-private-click-measurement-expected.txt:
        * http/tests/privateClickMeasurement/attribution-conversion-through-cross-site-image-redirect-expected.txt:
        * http/tests/privateClickMeasurement/attribution-conversion-through-fetch-keepalive-expected.txt:
        * http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-ephemeral-expected.txt:
        * http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-in-new-window-expected.txt:
        * http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-with-priority-expected.txt:
        * http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-without-priority-expected.txt:
        * http/tests/privateClickMeasurement/conversion-disabled-in-ephemeral-session-expected.txt:
        * http/tests/privateClickMeasurement/private-click-measurement-with-source-nonce-null-content-expected.txt:
        * http/tests/privateClickMeasurement/private-click-measurement-with-source-nonce-wrong-content-type-expected.txt:
        * http/tests/privateClickMeasurement/second-attribution-converted-with-higher-priority-expected.txt:
        * http/tests/privateClickMeasurement/second-attribution-converted-with-lower-priority-expected.txt:
        * http/tests/privateClickMeasurement/second-conversion-with-higher-priority-expected.txt:
        * http/tests/privateClickMeasurement/second-conversion-with-lower-priority-expected.txt:
        * http/tests/privateClickMeasurement/store-private-click-measurement-expected.txt:

2021-09-22  Ryan Haddad  <ryanhaddad@apple.com>

        Unreviewed test gardening.

        fast/canvas/canvas-color-space-display-p3-ImageData.html should be marked as a text failure.

        * TestExpectations:
        * platform/ios-14/TestExpectations:

2021-09-22  Gabriel Nava Marino  <gnavamarino@apple.com>

        RenderListMarker::imageChanged RenderBox image handling
        https://bugs.webkit.org/show_bug.cgi?id=230431

        Reviewed by Darin Adler.

        * fast/lists/list-marker-image-changed-expected.txt: Added.
        * fast/lists/list-marker-image-changed.html: Added.

2021-09-22  Philippe Normand  <pnormand@igalia.com>

        [Flatpak SDK] Switch runtime to 21.08 SDK
        https://bugs.webkit.org/show_bug.cgi?id=229919

        Reviewed by Michael Catanzaro.

        Tests expectations update for the new SDK runtime.

        * platform/glib/fast/xsl/xslt-mismatched-tags-in-xslt-expected.txt:
        * platform/glib/svg/custom/use-invalid-pattern-expected.txt: Added.
        * platform/glib/svg/custom/use-invalid-style-expected.txt: Added.
        * platform/gtk/fast/invalid/missing-end-tag-expected.txt:
        * platform/gtk/http/tests/security/xss-DENIED-xsl-external-entity-expected.txt: Added.
        * platform/gtk/http/tests/security/xss-DENIED-xsl-external-entity-redirect-expected.txt:
        * platform/gtk/svg/hixie/error/012-expected.png: Removed.
        * platform/gtk/svg/hixie/error/012-expected.txt:
        * platform/wpe/fast/invalid/missing-end-tag-expected.txt:
        * platform/wpe/fast/multicol/pagination/LeftToRight-tb-hittest-expected.txt:
        * platform/wpe/fast/table/table-split-on-insert-with-section-crash-expected.txt: Added.
        * platform/wpe/fast/text/international/spaces-combined-in-vertical-text-expected.txt:
        * platform/wpe/fast/text/justify-nbsp-expected.txt: Added.
        * platform/wpe/svg/W3C-SVG-1.1-SE/filters-image-03-f-expected.txt:
        * platform/wpe/svg/W3C-SVG-1.1-SE/svgdom-over-01-f-expected.txt:
        * platform/wpe/svg/hixie/error/012-expected.txt:
        * platform/wpe/svg/text/text-altglyph-01-b-expected.txt:
        * platform/wpe/svg/text/text-text-04-t-expected.txt:
        * platform/wpe/svg/text/text-text-06-t-expected.txt:

2021-09-22  Alan Bujtas  <zalan@apple.com>

        [WIN] Unreviewed test gardening

        * platform/win/TestExpectations:

2021-09-22  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Add fallback font support
        https://bugs.webkit.org/show_bug.cgi?id=228685
        <rdar://problem/81661514>

        Reviewed by Antti Koivisto.

        * TestExpectations:
        * fast/text/multiple-feature-properties-expected.html: see webkit.org/b/206168
        * fast/text/multiple-feature-properties.html:
        * fast/text/simple-line-layout-do-not-support-unicode-range-expected.html: Removed.
        * fast/text/simple-line-layout-do-not-support-unicode-range.html: Removed.
        * fast/text/simple-line-layout-no-surrogate-pairs-expected.html: Removed.
        * fast/text/simple-line-layout-no-surrogate-pairs.html: Removed.
        * platform/ios-14/TestExpectations:
        * platform/ios/TestExpectations:
        * platform/ios/fast/css/font-face-implicit-local-font-expected.txt:
        * platform/mac-bigsur/fast/text/capitalize-boundaries-expected.txt:
        * platform/mac-catalina/fast/text/capitalize-boundaries-expected.txt: unused soft hyphens make the lines grow
        * platform/mac/fast/text/international/003-expected.txt:

2021-09-22  Cameron McCormack  <heycam@apple.com>

        Tweak canvas test failure expectations to be more accurate
        https://bugs.webkit.org/show_bug.cgi?id=230590

        Unreviewed test gardening.

        * TestExpectations:
        * platform/ios-14/TestExpectations:

2021-09-21  Eric Hutchison  <ehutchison@apple.com>

        [ BigSur wk2 Debug] imported/w3c/web-platform-tests/html/rendering/replaced-elements/svg-embedded-sizing/svg-in-iframe-fixed.html.
        https://bugs.webkit.org/show_bug.cgi?id=230588.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-21  Myles C. Maxfield  <mmaxfield@apple.com>

        Parsing support for font-palette
        https://bugs.webkit.org/show_bug.cgi?id=230394

        Reviewed by Simon Fraser.

        * platform/ios-wk2/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:
        * platform/ios/fast/css/getComputedStyle/computed-style-font-family-expected.txt:
        * platform/mac/fast/css/getComputedStyle/computed-style-font-family-expected.txt:

2021-09-21  Brent Fulgham  <bfulgham@apple.com>

        Remove XSS Auditor: Part 2 (Remove engine support)
        https://bugs.webkit.org/show_bug.cgi?id=230499
        <rdar://problem/83318883>

        Reviewed by Yusuke Suzuki.

        This patch removes the implementation of the XSS Auditor from the engine, but leave the API in place so that
        client software doesn't see any change in interface.

        * fast/frames/xss-auditor-handles-file-urls-expected.txt: Removed.
        * fast/frames/xss-auditor-handles-file-urls.html: Removed.
        * http/tests/security/xssAuditor/anchor-url-dom-write-location-expected.txt: Removed.
        * http/tests/security/xssAuditor/anchor-url-dom-write-location-inline-event-expected.txt: Removed.
        * http/tests/security/xssAuditor/anchor-url-dom-write-location-inline-event-null-char-expected.txt: Removed.
        * http/tests/security/xssAuditor/anchor-url-dom-write-location-inline-event-null-char.html: Removed.
        * http/tests/security/xssAuditor/anchor-url-dom-write-location-inline-event.html: Removed.
        * http/tests/security/xssAuditor/anchor-url-dom-write-location-javascript-URL-expected.txt: Removed.
        * http/tests/security/xssAuditor/anchor-url-dom-write-location-javascript-URL.html: Removed.
        * http/tests/security/xssAuditor/anchor-url-dom-write-location.html: Removed.
        * http/tests/security/xssAuditor/anchor-url-dom-write-location2-expected.txt: Removed.
        * http/tests/security/xssAuditor/anchor-url-dom-write-location2.html: Removed.
        * http/tests/security/xssAuditor/base-href-control-char-expected.txt: Removed.
        * http/tests/security/xssAuditor/base-href-control-char.html: Removed.
        * http/tests/security/xssAuditor/base-href-direct-expected.txt: Removed.
        * http/tests/security/xssAuditor/base-href-direct.html: Removed.
        * http/tests/security/xssAuditor/base-href-expected.txt: Removed.
        * http/tests/security/xssAuditor/base-href-null-char-expected.txt: Removed.
        * http/tests/security/xssAuditor/base-href-null-char.html: Removed.
        * http/tests/security/xssAuditor/base-href-safe-expected.txt: Removed.
        * http/tests/security/xssAuditor/base-href-safe.html: Removed.
        * http/tests/security/xssAuditor/base-href-safe2-expected.txt: Removed.
        * http/tests/security/xssAuditor/base-href-safe2.html: Removed.
        * http/tests/security/xssAuditor/base-href-safe3-expected.txt: Removed.
        * http/tests/security/xssAuditor/base-href-safe3.html: Removed.
        * http/tests/security/xssAuditor/base-href-scheme-relative-expected.txt: Removed.
        * http/tests/security/xssAuditor/base-href-scheme-relative.html: Removed.
        * http/tests/security/xssAuditor/base-href.html: Removed.
        * http/tests/security/xssAuditor/block-does-not-leak-location-expected.txt: Removed.
        * http/tests/security/xssAuditor/block-does-not-leak-location.html: Removed.
        * http/tests/security/xssAuditor/block-does-not-leak-referrer-expected.txt: Removed.
        * http/tests/security/xssAuditor/block-does-not-leak-referrer.html: Removed.
        * http/tests/security/xssAuditor/block-does-not-leak-that-page-was-blocked-using-empty-data-url-expected.txt: Removed.
        * http/tests/security/xssAuditor/block-does-not-leak-that-page-was-blocked-using-empty-data-url.html: Removed.
        * http/tests/security/xssAuditor/cached-frame-expected.txt: Removed.
        * http/tests/security/xssAuditor/cached-frame.html: Removed.
        * http/tests/security/xssAuditor/cookie-injection-expected.txt: Removed.
        * http/tests/security/xssAuditor/cookie-injection.html: Removed.
        * http/tests/security/xssAuditor/crash-while-loading-tag-with-pause-expected.txt: Removed.
        * http/tests/security/xssAuditor/crash-while-loading-tag-with-pause.html: Removed.
        * http/tests/security/xssAuditor/data-urls-work-expected.txt: Removed.
        * http/tests/security/xssAuditor/data-urls-work.html: Removed.
        * http/tests/security/xssAuditor/dom-write-URL-expected.txt: Removed.
        * http/tests/security/xssAuditor/dom-write-URL.html: Removed.
        * http/tests/security/xssAuditor/dom-write-innerHTML-expected.txt: Removed.
        * http/tests/security/xssAuditor/dom-write-innerHTML.html: Removed.
        * http/tests/security/xssAuditor/dom-write-location-dom-write-open-img-onerror-expected.txt: Removed.
        * http/tests/security/xssAuditor/dom-write-location-dom-write-open-img-onerror.html: Removed.
        * http/tests/security/xssAuditor/dom-write-location-expected.txt: Removed.
        * http/tests/security/xssAuditor/dom-write-location-inline-event-expected.txt: Removed.
        * http/tests/security/xssAuditor/dom-write-location-inline-event.html: Removed.
        * http/tests/security/xssAuditor/dom-write-location-javascript-URL-expected.txt: Removed.
        * http/tests/security/xssAuditor/dom-write-location-javascript-URL.html: Removed.
        * http/tests/security/xssAuditor/dom-write-location-open-img-onerror-expected.txt: Removed.
        * http/tests/security/xssAuditor/dom-write-location-open-img-onerror.html: Removed.
        * http/tests/security/xssAuditor/dom-write-location.html: Removed.
        * http/tests/security/xssAuditor/embed-tag-code-attribute-2-expected.txt: Removed.
        * http/tests/security/xssAuditor/embed-tag-code-attribute-2.html: Removed.
        * http/tests/security/xssAuditor/embed-tag-code-attribute-expected.txt: Removed.
        * http/tests/security/xssAuditor/embed-tag-code-attribute.html: Removed.
        * http/tests/security/xssAuditor/embed-tag-control-char-expected.txt: Removed.
        * http/tests/security/xssAuditor/embed-tag-control-char.html: Removed.
        * http/tests/security/xssAuditor/embed-tag-expected.txt: Removed.
        * http/tests/security/xssAuditor/embed-tag-in-path-unterminated-expected.txt: Removed.
        * http/tests/security/xssAuditor/embed-tag-in-path-unterminated.html: Removed.
        * http/tests/security/xssAuditor/embed-tag-javascript-url-expected.txt: Removed.
        * http/tests/security/xssAuditor/embed-tag-javascript-url.html: Removed.
        * http/tests/security/xssAuditor/embed-tag-null-char-expected.txt: Removed.
        * http/tests/security/xssAuditor/embed-tag-null-char.html: Removed.
        * http/tests/security/xssAuditor/embed-tag.html: Removed.
        * http/tests/security/xssAuditor/faux-script1-expected.txt: Removed.
        * http/tests/security/xssAuditor/faux-script1.html: Removed.
        * http/tests/security/xssAuditor/faux-script2-expected.txt: Removed.
        * http/tests/security/xssAuditor/faux-script2.html: Removed.
        * http/tests/security/xssAuditor/faux-script3-expected.txt: Removed.
        * http/tests/security/xssAuditor/faux-script3.html: Removed.
        * http/tests/security/xssAuditor/form-action-expected.txt: Removed.
        * http/tests/security/xssAuditor/form-action.html: Removed.
        * http/tests/security/xssAuditor/formaction-on-button-expected.txt: Removed.
        * http/tests/security/xssAuditor/formaction-on-button.html: Removed.
        * http/tests/security/xssAuditor/formaction-on-input-expected.txt: Removed.
        * http/tests/security/xssAuditor/formaction-on-input.html: Removed.
        * http/tests/security/xssAuditor/frameset-injection-expected.txt: Removed.
        * http/tests/security/xssAuditor/frameset-injection.html: Removed.
        * http/tests/security/xssAuditor/full-block-base-href-expected.txt: Removed.
        * http/tests/security/xssAuditor/full-block-base-href.html: Removed.
        * http/tests/security/xssAuditor/full-block-get-from-iframe-expected.txt: Removed.
        * http/tests/security/xssAuditor/full-block-get-from-iframe.html: Removed.
        * http/tests/security/xssAuditor/full-block-iframe-javascript-url-expected.txt: Removed.
        * http/tests/security/xssAuditor/full-block-iframe-javascript-url.html: Removed.
        * http/tests/security/xssAuditor/full-block-iframe-no-inherit-expected.txt: Removed.
        * http/tests/security/xssAuditor/full-block-iframe-no-inherit.py: Removed.
        * http/tests/security/xssAuditor/full-block-javascript-link-expected.txt: Removed.
        * http/tests/security/xssAuditor/full-block-javascript-link.html: Removed.
        * http/tests/security/xssAuditor/full-block-link-onclick-expected.txt: Removed.
        * http/tests/security/xssAuditor/full-block-link-onclick.html: Removed.
        * http/tests/security/xssAuditor/full-block-object-tag-expected.txt: Removed.
        * http/tests/security/xssAuditor/full-block-object-tag.html: Removed.
        * http/tests/security/xssAuditor/full-block-post-from-iframe-expected.txt: Removed.
        * http/tests/security/xssAuditor/full-block-post-from-iframe.html: Removed.
        * http/tests/security/xssAuditor/full-block-script-tag-cross-domain-expected.txt: Removed.
        * http/tests/security/xssAuditor/full-block-script-tag-cross-domain.html: Removed.
        * http/tests/security/xssAuditor/full-block-script-tag-expected.txt: Removed.
        * http/tests/security/xssAuditor/full-block-script-tag-with-source-expected.txt: Removed.
        * http/tests/security/xssAuditor/full-block-script-tag-with-source.html: Removed.
        * http/tests/security/xssAuditor/full-block-script-tag.html: Removed.
        * http/tests/security/xssAuditor/get-from-iframe-expected.txt: Removed.
        * http/tests/security/xssAuditor/get-from-iframe.html: Removed.
        * http/tests/security/xssAuditor/iframe-injection-allowed-2-expected.txt: Removed.
        * http/tests/security/xssAuditor/iframe-injection-allowed-2.html: Removed.
        * http/tests/security/xssAuditor/iframe-injection-allowed-3-expected.txt: Removed.
        * http/tests/security/xssAuditor/iframe-injection-allowed-3.html: Removed.
        * http/tests/security/xssAuditor/iframe-injection-allowed-expected.txt: Removed.
        * http/tests/security/xssAuditor/iframe-injection-allowed.html: Removed.
        * http/tests/security/xssAuditor/iframe-injection-expected.txt: Removed.
        * http/tests/security/xssAuditor/iframe-injection.html: Removed.
        * http/tests/security/xssAuditor/iframe-javascript-url-expected.txt: Removed.
        * http/tests/security/xssAuditor/iframe-javascript-url-more-encoding-expected.txt: Removed.
        * http/tests/security/xssAuditor/iframe-javascript-url-more-encoding.html: Removed.
        * http/tests/security/xssAuditor/iframe-javascript-url-twice-url-encode-expected.txt: Removed.
        * http/tests/security/xssAuditor/iframe-javascript-url-twice-url-encode.html: Removed.
        * http/tests/security/xssAuditor/iframe-javascript-url-twice-url-encode2-expected.txt: Removed.
        * http/tests/security/xssAuditor/iframe-javascript-url-twice-url-encode2.html: Removed.
        * http/tests/security/xssAuditor/iframe-javascript-url-twice-url-encode3-expected.txt: Removed.
        * http/tests/security/xssAuditor/iframe-javascript-url-twice-url-encode3.html: Removed.
        * http/tests/security/xssAuditor/iframe-javascript-url-url-encoded-expected.txt: Removed.
        * http/tests/security/xssAuditor/iframe-javascript-url-url-encoded.html: Removed.
        * http/tests/security/xssAuditor/iframe-javascript-url.html: Removed.
        * http/tests/security/xssAuditor/iframe-onload-GBK-char-expected.txt: Removed.
        * http/tests/security/xssAuditor/iframe-onload-GBK-char.html: Removed.
        * http/tests/security/xssAuditor/iframe-onload-in-svg-tag-expected.txt: Removed.
        * http/tests/security/xssAuditor/iframe-onload-in-svg-tag.html: Removed.
        * http/tests/security/xssAuditor/iframe-srcdoc-expected.txt: Removed.
        * http/tests/security/xssAuditor/iframe-srcdoc-property-blocked-expected.txt: Removed.
        * http/tests/security/xssAuditor/iframe-srcdoc-property-blocked.html: Removed.
        * http/tests/security/xssAuditor/iframe-srcdoc.html: Removed.
        * http/tests/security/xssAuditor/img-onerror-GBK-char-expected.txt: Removed.
        * http/tests/security/xssAuditor/img-onerror-GBK-char.html: Removed.
        * http/tests/security/xssAuditor/img-onerror-accented-char-expected.txt: Removed.
        * http/tests/security/xssAuditor/img-onerror-accented-char.html: Removed.
        * http/tests/security/xssAuditor/img-onerror-non-ASCII-char-default-encoding-expected.txt: Removed.
        * http/tests/security/xssAuditor/img-onerror-non-ASCII-char-default-encoding.html: Removed.
        * http/tests/security/xssAuditor/img-onerror-non-ASCII-char-expected.txt: Removed.
        * http/tests/security/xssAuditor/img-onerror-non-ASCII-char.html: Removed.
        * http/tests/security/xssAuditor/img-onerror-non-ASCII-char2-default-encoding-expected.txt: Removed.
        * http/tests/security/xssAuditor/img-onerror-non-ASCII-char2-default-encoding.html: Removed.
        * http/tests/security/xssAuditor/img-onerror-non-ASCII-char2-expected.txt: Removed.
        * http/tests/security/xssAuditor/img-onerror-non-ASCII-char2.html: Removed.
        * http/tests/security/xssAuditor/img-onerror-tricky-expected.txt: Removed.
        * http/tests/security/xssAuditor/img-onerror-tricky.html: Removed.
        * http/tests/security/xssAuditor/img-tag-with-comma-expected.txt: Removed.
        * http/tests/security/xssAuditor/img-tag-with-comma.html: Removed.
        * http/tests/security/xssAuditor/inline-event-HTML-entities-expected.txt: Removed.
        * http/tests/security/xssAuditor/inline-event-HTML-entities.html: Removed.
        * http/tests/security/xssAuditor/intercept/.htaccess: Removed.
        * http/tests/security/xssAuditor/javascript-link-HTML-entities-control-char-expected.txt: Removed.
        * http/tests/security/xssAuditor/javascript-link-HTML-entities-control-char.html: Removed.
        * http/tests/security/xssAuditor/javascript-link-HTML-entities-expected.txt: Removed.
        * http/tests/security/xssAuditor/javascript-link-HTML-entities-named-expected.txt: Removed.
        * http/tests/security/xssAuditor/javascript-link-HTML-entities-named.html: Removed.
        * http/tests/security/xssAuditor/javascript-link-HTML-entities-null-char-expected.txt: Removed.
        * http/tests/security/xssAuditor/javascript-link-HTML-entities-null-char.html: Removed.
        * http/tests/security/xssAuditor/javascript-link-HTML-entities.html: Removed.
        * http/tests/security/xssAuditor/javascript-link-ampersand-expected.txt: Removed.
        * http/tests/security/xssAuditor/javascript-link-ampersand.html: Removed.
        * http/tests/security/xssAuditor/javascript-link-control-char-expected.txt: Removed.
        * http/tests/security/xssAuditor/javascript-link-control-char.html: Removed.
        * http/tests/security/xssAuditor/javascript-link-control-char2-expected.txt: Removed.
        * http/tests/security/xssAuditor/javascript-link-control-char2.html: Removed.
        * http/tests/security/xssAuditor/javascript-link-expected.txt: Removed.
        * http/tests/security/xssAuditor/javascript-link-null-char-expected.txt: Removed.
        * http/tests/security/xssAuditor/javascript-link-null-char.html: Removed.
        * http/tests/security/xssAuditor/javascript-link-one-plus-one-expected.txt: Removed.
        * http/tests/security/xssAuditor/javascript-link-one-plus-one.html: Removed.
        * http/tests/security/xssAuditor/javascript-link-safe-expected.txt: Removed.
        * http/tests/security/xssAuditor/javascript-link-safe.html: Removed.
        * http/tests/security/xssAuditor/javascript-link-url-encoded-expected.txt: Removed.
        * http/tests/security/xssAuditor/javascript-link-url-encoded.html: Removed.
        * http/tests/security/xssAuditor/javascript-link.html: Removed.
        * http/tests/security/xssAuditor/link-onclick-ampersand-expected.txt: Removed.
        * http/tests/security/xssAuditor/link-onclick-ampersand.html: Removed.
        * http/tests/security/xssAuditor/link-onclick-control-char-expected.txt: Removed.
        * http/tests/security/xssAuditor/link-onclick-control-char.html: Removed.
        * http/tests/security/xssAuditor/link-onclick-entities-expected.txt: Removed.
        * http/tests/security/xssAuditor/link-onclick-entities.html: Removed.
        * http/tests/security/xssAuditor/link-onclick-expected.txt: Removed.
        * http/tests/security/xssAuditor/link-onclick-null-char-expected.txt: Removed.
        * http/tests/security/xssAuditor/link-onclick-null-char.html: Removed.
        * http/tests/security/xssAuditor/link-onclick.html: Removed.
        * http/tests/security/xssAuditor/link-opens-new-window-expected.txt: Removed.
        * http/tests/security/xssAuditor/link-opens-new-window.html: Removed.
        * http/tests/security/xssAuditor/malformed-HTML-expected.txt: Removed.
        * http/tests/security/xssAuditor/malformed-HTML.html: Removed.
        * http/tests/security/xssAuditor/malformed-xss-protection-header-1-expected.txt: Removed.
        * http/tests/security/xssAuditor/malformed-xss-protection-header-1.html: Removed.
        * http/tests/security/xssAuditor/malformed-xss-protection-header-2-expected.txt: Removed.
        * http/tests/security/xssAuditor/malformed-xss-protection-header-2.html: Removed.
        * http/tests/security/xssAuditor/malformed-xss-protection-header-3-expected.txt: Removed.
        * http/tests/security/xssAuditor/malformed-xss-protection-header-3.html: Removed.
        * http/tests/security/xssAuditor/malformed-xss-protection-header-4-expected.txt: Removed.
        * http/tests/security/xssAuditor/malformed-xss-protection-header-4.html: Removed.
        * http/tests/security/xssAuditor/malformed-xss-protection-header-5-expected.txt: Removed.
        * http/tests/security/xssAuditor/malformed-xss-protection-header-5.html: Removed.
        * http/tests/security/xssAuditor/malformed-xss-protection-header-6-expected.txt: Removed.
        * http/tests/security/xssAuditor/malformed-xss-protection-header-6.html: Removed.
        * http/tests/security/xssAuditor/malformed-xss-protection-header-7-expected.txt: Removed.
        * http/tests/security/xssAuditor/malformed-xss-protection-header-7.html: Removed.
        * http/tests/security/xssAuditor/malformed-xss-protection-header-8-expected.txt: Removed.
        * http/tests/security/xssAuditor/malformed-xss-protection-header-8.html: Removed.
        * http/tests/security/xssAuditor/malformed-xss-protection-header-9-expected.txt: Removed.
        * http/tests/security/xssAuditor/malformed-xss-protection-header-9.html: Removed.
        * http/tests/security/xssAuditor/meta-tag-http-refresh-javascript-url-expected.txt: Removed.
        * http/tests/security/xssAuditor/meta-tag-http-refresh-javascript-url.html: Removed.
        * http/tests/security/xssAuditor/meta-tag-http-refresh-x-frame-options-ignored-expected.txt: Removed.
        * http/tests/security/xssAuditor/meta-tag-http-refresh-x-frame-options-ignored.html: Removed.
        * http/tests/security/xssAuditor/nested-dom-write-location-open-img-onerror-expected.txt: Removed.
        * http/tests/security/xssAuditor/nested-dom-write-location-open-img-onerror.html: Removed.
        * http/tests/security/xssAuditor/no-protection-script-tag-expected.txt: Removed.
        * http/tests/security/xssAuditor/no-protection-script-tag.html: Removed.
        * http/tests/security/xssAuditor/non-block-javascript-url-frame-expected.txt: Removed.
        * http/tests/security/xssAuditor/non-block-javascript-url-frame.html: Removed.
        * http/tests/security/xssAuditor/object-embed-tag-control-char-expected.txt: Removed.
        * http/tests/security/xssAuditor/object-embed-tag-control-char.html: Removed.
        * http/tests/security/xssAuditor/object-embed-tag-expected.txt: Removed.
        * http/tests/security/xssAuditor/object-embed-tag-null-char-expected.txt: Removed.
        * http/tests/security/xssAuditor/object-embed-tag-null-char.html: Removed.
        * http/tests/security/xssAuditor/object-embed-tag.html: Removed.
        * http/tests/security/xssAuditor/object-src-inject-expected.txt: Removed.
        * http/tests/security/xssAuditor/object-src-inject.html: Removed.
        * http/tests/security/xssAuditor/object-tag-expected.txt: Removed.
        * http/tests/security/xssAuditor/object-tag-javascript-url-expected.txt: Removed.
        * http/tests/security/xssAuditor/object-tag-javascript-url.html: Removed.
        * http/tests/security/xssAuditor/object-tag.html: Removed.
        * http/tests/security/xssAuditor/open-attribute-body-expected.txt: Removed.
        * http/tests/security/xssAuditor/open-attribute-body.html: Removed.
        * http/tests/security/xssAuditor/open-event-handler-iframe-expected.txt: Removed.
        * http/tests/security/xssAuditor/open-event-handler-iframe.html: Removed.
        * http/tests/security/xssAuditor/open-iframe-src-01-expected.txt: Removed.
        * http/tests/security/xssAuditor/open-iframe-src-01.html: Removed.
        * http/tests/security/xssAuditor/open-iframe-src-02-expected.txt: Removed.
        * http/tests/security/xssAuditor/open-iframe-src-02.html: Removed.
        * http/tests/security/xssAuditor/open-iframe-src-03-expected.txt: Removed.
        * http/tests/security/xssAuditor/open-iframe-src-03.html: Removed.
        * http/tests/security/xssAuditor/open-script-src-01-expected.txt: Removed.
        * http/tests/security/xssAuditor/open-script-src-01.html: Removed.
        * http/tests/security/xssAuditor/open-script-src-02-expected.txt: Removed.
        * http/tests/security/xssAuditor/open-script-src-02.html: Removed.
        * http/tests/security/xssAuditor/open-script-src-03-expected.txt: Removed.
        * http/tests/security/xssAuditor/open-script-src-03.html: Removed.
        * http/tests/security/xssAuditor/open-script-src-04-expected.txt: Removed.
        * http/tests/security/xssAuditor/open-script-src-04.html: Removed.
        * http/tests/security/xssAuditor/post-from-iframe-expected.txt: Removed.
        * http/tests/security/xssAuditor/post-from-iframe.html: Removed.
        * http/tests/security/xssAuditor/property-escape-comment-01-expected.txt: Removed.
        * http/tests/security/xssAuditor/property-escape-comment-01.html: Removed.
        * http/tests/security/xssAuditor/property-escape-comment-02-expected.txt: Removed.
        * http/tests/security/xssAuditor/property-escape-comment-02.html: Removed.
        * http/tests/security/xssAuditor/property-escape-comment-03-expected.txt: Removed.
        * http/tests/security/xssAuditor/property-escape-comment-03.html: Removed.
        * http/tests/security/xssAuditor/property-escape-entity-01-expected.txt: Removed.
        * http/tests/security/xssAuditor/property-escape-entity-01.html: Removed.
        * http/tests/security/xssAuditor/property-escape-entity-02-expected.txt: Removed.
        * http/tests/security/xssAuditor/property-escape-entity-02.html: Removed.
        * http/tests/security/xssAuditor/property-escape-entity-03-expected.txt: Removed.
        * http/tests/security/xssAuditor/property-escape-entity-03.html: Removed.
        * http/tests/security/xssAuditor/property-escape-expected.txt: Removed.
        * http/tests/security/xssAuditor/property-escape-long-expected.txt: Removed.
        * http/tests/security/xssAuditor/property-escape-long.html: Removed.
        * http/tests/security/xssAuditor/property-escape-noquotes-expected.txt: Removed.
        * http/tests/security/xssAuditor/property-escape-noquotes-tab-slash-chars-expected.txt: Removed.
        * http/tests/security/xssAuditor/property-escape-noquotes-tab-slash-chars.html: Removed.
        * http/tests/security/xssAuditor/property-escape-noquotes.html: Removed.
        * http/tests/security/xssAuditor/property-escape-quote-01-expected.txt: Removed.
        * http/tests/security/xssAuditor/property-escape-quote-01.html: Removed.
        * http/tests/security/xssAuditor/property-escape-quote-02-expected.txt: Removed.
        * http/tests/security/xssAuditor/property-escape-quote-02.html: Removed.
        * http/tests/security/xssAuditor/property-escape-quote-03-expected.txt: Removed.
        * http/tests/security/xssAuditor/property-escape-quote-03.html: Removed.
        * http/tests/security/xssAuditor/property-escape.html: Removed.
        * http/tests/security/xssAuditor/property-inject-expected.txt: Removed.
        * http/tests/security/xssAuditor/property-inject.html: Removed.
        * http/tests/security/xssAuditor/reflection-in-path-expected.txt: Removed.
        * http/tests/security/xssAuditor/reflection-in-path.html: Removed.
        * http/tests/security/xssAuditor/regress-167121-expected.txt: Removed.
        * http/tests/security/xssAuditor/regress-167121.html: Removed.
        * http/tests/security/xssAuditor/report-script-tag-and-do-not-follow-redirect-when-sending-report-expected.txt: Removed.
        * http/tests/security/xssAuditor/report-script-tag-and-do-not-follow-redirect-when-sending-report.html: Removed.
        * http/tests/security/xssAuditor/report-script-tag-expected.txt: Removed.
        * http/tests/security/xssAuditor/report-script-tag-full-block-and-do-not-follow-redirect-when-sending-report-expected.txt: Removed.
        * http/tests/security/xssAuditor/report-script-tag-full-block-and-do-not-follow-redirect-when-sending-report.html: Removed.
        * http/tests/security/xssAuditor/report-script-tag-full-block-expected.txt: Removed.
        * http/tests/security/xssAuditor/report-script-tag-full-block.html: Removed.
        * http/tests/security/xssAuditor/report-script-tag-replace-state-expected.txt: Removed.
        * http/tests/security/xssAuditor/report-script-tag-replace-state.html: Removed.
        * http/tests/security/xssAuditor/report-script-tag.html: Removed.
        * http/tests/security/xssAuditor/resources/anchor-url-dom-write-location-click.html: Removed.
        * http/tests/security/xssAuditor/resources/base-href/base-href-safe2.html: Removed.
        * http/tests/security/xssAuditor/resources/base-href/base-href-safe3.html: Removed.
        * http/tests/security/xssAuditor/resources/base-href/really-safe-script.js: Removed.
        * http/tests/security/xssAuditor/resources/base-href/safe-script.js: Removed.
        * http/tests/security/xssAuditor/resources/echo-dom-write-URL.html: Removed.
        * http/tests/security/xssAuditor/resources/echo-dom-write-innerHTML.html: Removed.
        * http/tests/security/xssAuditor/resources/echo-dom-write-location.html: Removed.
        * http/tests/security/xssAuditor/resources/echo-dom-write-unescaped-location.html: Removed.
        * http/tests/security/xssAuditor/resources/echo-form-action.pl: Removed.
        * http/tests/security/xssAuditor/resources/echo-frame-src.pl: Removed.
        * http/tests/security/xssAuditor/resources/echo-head-base-href-direct.pl: Removed.
        * http/tests/security/xssAuditor/resources/echo-head-base-href.pl: Removed.
        * http/tests/security/xssAuditor/resources/echo-head.pl: Removed.
        * http/tests/security/xssAuditor/resources/echo-inner-tag.pl: Removed.
        * http/tests/security/xssAuditor/resources/echo-inspan.pl: Removed.
        * http/tests/security/xssAuditor/resources/echo-intertag-addslashes.pl: Removed.
        * http/tests/security/xssAuditor/resources/echo-intertag-click-and-notify.pl: Removed.
        * http/tests/security/xssAuditor/resources/echo-intertag-decode-16bit-unicode.pl: Removed.
        * http/tests/security/xssAuditor/resources/echo-intertag-default-encode.pl: Removed.
        * http/tests/security/xssAuditor/resources/echo-intertag.pl: Removed.
        * http/tests/security/xssAuditor/resources/echo-nested-dom-write-location.html: Removed.
        * http/tests/security/xssAuditor/resources/echo-object-src.pl: Removed.
        * http/tests/security/xssAuditor/resources/echo-property-noquotes.pl: Removed.
        * http/tests/security/xssAuditor/resources/echo-property.pl: Removed.
        * http/tests/security/xssAuditor/resources/echo-script-src.pl: Removed.
        * http/tests/security/xssAuditor/resources/javascript-link-safe.html: Removed.
        * http/tests/security/xssAuditor/resources/nph-cached.pl: Removed.
        * http/tests/security/xssAuditor/resources/safe-script-noquotes.js: Removed.
        * http/tests/security/xssAuditor/resources/safe-script.js: Removed.
        * http/tests/security/xssAuditor/resources/script-tag-safe2.html: Removed.
        * http/tests/security/xssAuditor/resources/script-tag-safe3.html: Removed.
        * http/tests/security/xssAuditor/resources/script-tag-safe4-frame.html: Removed.
        * http/tests/security/xssAuditor/resources/tag-with-pause.py: Removed.
        * http/tests/security/xssAuditor/resources/utilities.js: Removed.
        * http/tests/security/xssAuditor/resources/xss-filter-bypass-long-string-reply.html: Removed.
        * http/tests/security/xssAuditor/resources/xss.js: Removed.
        * http/tests/security/xssAuditor/script-tag-Big5-char-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-Big5-char-twice-url-encode-16bit-unicode-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-Big5-char-twice-url-encode-16bit-unicode.html: Removed.
        * http/tests/security/xssAuditor/script-tag-Big5-char-twice-url-encode-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-Big5-char-twice-url-encode.html: Removed.
        * http/tests/security/xssAuditor/script-tag-Big5-char.html: Removed.
        * http/tests/security/xssAuditor/script-tag-Big5-char2-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-Big5-char2.html: Removed.
        * http/tests/security/xssAuditor/script-tag-addslashes-backslash-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-addslashes-backslash.html: Removed.
        * http/tests/security/xssAuditor/script-tag-addslashes-double-quote-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-addslashes-double-quote.html: Removed.
        * http/tests/security/xssAuditor/script-tag-addslashes-null-char-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-addslashes-null-char.html: Removed.
        * http/tests/security/xssAuditor/script-tag-addslashes-single-quote-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-addslashes-single-quote.html: Removed.
        * http/tests/security/xssAuditor/script-tag-control-char-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-control-char.html: Removed.
        * http/tests/security/xssAuditor/script-tag-convoluted-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-convoluted.html: Removed.
        * http/tests/security/xssAuditor/script-tag-entities-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-entities.html: Removed.
        * http/tests/security/xssAuditor/script-tag-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-expression-follows-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-expression-follows.html: Removed.
        * http/tests/security/xssAuditor/script-tag-inside-svg-tag-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-inside-svg-tag.html: Removed.
        * http/tests/security/xssAuditor/script-tag-inside-svg-tag2-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-inside-svg-tag2.html: Removed.
        * http/tests/security/xssAuditor/script-tag-inside-svg-tag3-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-inside-svg-tag3.html: Removed.
        * http/tests/security/xssAuditor/script-tag-near-start-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-near-start.html: Removed.
        * http/tests/security/xssAuditor/script-tag-null-char-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-null-char.html: Removed.
        * http/tests/security/xssAuditor/script-tag-open-redirect-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-open-redirect.html: Removed.
        * http/tests/security/xssAuditor/script-tag-post-control-char-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-post-control-char.html: Removed.
        * http/tests/security/xssAuditor/script-tag-post-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-post-null-char-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-post-null-char.html: Removed.
        * http/tests/security/xssAuditor/script-tag-post.html: Removed.
        * http/tests/security/xssAuditor/script-tag-redirect-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-redirect.html: Removed.
        * http/tests/security/xssAuditor/script-tag-safe-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-safe.html: Removed.
        * http/tests/security/xssAuditor/script-tag-safe2-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-safe2.html: Removed.
        * http/tests/security/xssAuditor/script-tag-safe3-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-safe3.html: Removed.
        * http/tests/security/xssAuditor/script-tag-safe4-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-safe4.html: Removed.
        * http/tests/security/xssAuditor/script-tag-src-redirect-safe-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-src-redirect-safe.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-16bit-unicode-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-16bit-unicode-surrogate-pair-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-16bit-unicode-surrogate-pair.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-16bit-unicode.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-16bit-unicode2-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-16bit-unicode2.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-16bit-unicode3-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-16bit-unicode3.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-16bit-unicode4-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-16bit-unicode4.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-16bit-unicode5-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-16bit-unicode5.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-actual-comma-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-actual-comma.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-callbacks-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-callbacks.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-comma-01-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-comma-01.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-comma-02-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-comma-02.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-fancy-unicode-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-fancy-unicode.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-injected-comment-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-injected-comment.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-invalid-closing-tag-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-invalid-closing-tag.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-invalid-url-encoding-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-invalid-url-encoding.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-control-char-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-control-char.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-data-url-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-data-url.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-data-url2-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-data-url2.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-data-url3-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-data-url3.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-data-url4-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-data-url4.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-data-url5-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-data-url5.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-double-quote-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-double-quote.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-entities-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-entities.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-no-quote-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-no-quote.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-null-char-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-null-char.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-relative-scheme-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-relative-scheme.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-same-host-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-same-host-with-query-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-same-host-with-query.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-same-host.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-unterminated-01-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-unterminated-01.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-unterminated-02-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-unterminated-02.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-unterminated-03-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source-unterminated-03.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-source.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-three-times-url-encoded-16bit-unicode-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-three-times-url-encoded-16bit-unicode.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-trailing-comment-U2028-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-trailing-comment-U2028.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-trailing-comment-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-trailing-comment.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-trailing-comment2-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-trailing-comment2.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-trailing-comment3-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-trailing-comment3.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-trailing-comment4-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-trailing-comment4.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-trailing-comment5-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-trailing-comment5.html: Removed.
        * http/tests/security/xssAuditor/script-tag-with-trailing-script-and-urlencode-expected.txt: Removed.
        * http/tests/security/xssAuditor/script-tag-with-trailing-script-and-urlencode.html: Removed.
        * http/tests/security/xssAuditor/script-tag.html: Removed.
        * http/tests/security/xssAuditor/svg-animate-expected.txt: Removed.
        * http/tests/security/xssAuditor/svg-animate.html: Removed.
        * http/tests/security/xssAuditor/svg-script-tag-expected.txt: Removed.
        * http/tests/security/xssAuditor/svg-script-tag.html: Removed.
        * http/tests/security/xssAuditor/window-open-without-url-should-not-assert-expected.txt: Removed.
        * http/tests/security/xssAuditor/window-open-without-url-should-not-assert.html: Removed.
        * http/tests/security/xssAuditor/xss-filter-bypass-big5-expected.txt: Removed.
        * http/tests/security/xssAuditor/xss-filter-bypass-big5.html: Removed.
        * http/tests/security/xssAuditor/xss-filter-bypass-long-string-expected.txt: Removed.
        * http/tests/security/xssAuditor/xss-filter-bypass-long-string.html: Removed.
        * http/tests/security/xssAuditor/xss-filter-bypass-sjis-expected.txt: Removed.
        * http/tests/security/xssAuditor/xss-filter-bypass-sjis.html: Removed.
        * http/tests/security/xssAuditor/xss-protection-parsing-01-expected.txt: Removed.
        * http/tests/security/xssAuditor/xss-protection-parsing-01.html: Removed.
        * http/tests/security/xssAuditor/xss-protection-parsing-02-expected.txt: Removed.
        * http/tests/security/xssAuditor/xss-protection-parsing-02.html: Removed.
        * http/tests/security/xssAuditor/xss-protection-parsing-03-expected.txt: Removed.
        * http/tests/security/xssAuditor/xss-protection-parsing-03.html: Removed.
        * http/tests/security/xssAuditor/xss-protection-parsing-04-expected.txt: Removed.
        * http/tests/security/xssAuditor/xss-protection-parsing-04.html: Removed.
        * platform/gtk/TestExpectations:
        * platform/ios-simulator-wk2/TestExpectations:
        * platform/ios-wk1/TestExpectations:
        * platform/win/TestExpectations:

2021-09-21  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test expectations for newly passing tests.
        https://bugs.webkit.org/show_bug.cgi?id=230577

        Unreviewed test gardening.

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:

2021-09-21  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ macOS wk2 Release ] imported/w3c/web-platform-tests/page-visibility/unload-bubbles.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230571

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-21  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Monterey GuardMalloc ] accessibility/* tests are timing out.
        <rdar://82147955>

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations: Removed expectations

2021-09-21  Youenn Fablet  <youenn@apple.com>

        [BigSur E Wk2 Release] imported/w3c/web-platform-tests/webrtc/RTCRtpSender-encode-same-track-twice.https.html in flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=226054
        <rdar://problem/78284384>

        Unreviewed.

        * platform/mac-wk2/TestExpectations:
        Remove flaky expectation.


2021-09-21  Antti Koivisto  <antti@apple.com>

        REGRESSION(r282129): Double clicking margin of a block inside a <span> may select a wrong block
        https://bugs.webkit.org/show_bug.cgi?id=230535

        Reviewed by Alan Bujtas.

        * editing/selection/hit-test-continuation-margin-expected.html: Added.
        * editing/selection/hit-test-continuation-margin.html: Added.

2021-09-21  Antti Koivisto  <antti@apple.com>

        [LFC][Integration] Enable markers and highlights
        https://bugs.webkit.org/show_bug.cgi?id=230542

        Reviewed by Alan Bujtas.

        * platform/mac/editing/mac/spelling/delete-autocorrected-word-2-expected.txt:

2021-09-21  Myles C. Maxfield  <mmaxfield@apple.com>

        Maplike infrastructure ASSERT()s if the first operation is a delete of a existing values
        https://bugs.webkit.org/show_bug.cgi?id=230530

        Reviewed by Youenn Fablet.

        * js/dom/maplike.html:

2021-09-21  Youenn Fablet  <youenn@apple.com>

        Update list of WebRTC senders and receivers when updating local or remote descriptions
        https://bugs.webkit.org/show_bug.cgi?id=230403

        Reviewed by Eric Carlson.

        * platform/mac-wk2/TestExpectations:

2021-09-20  Kimmo Kinnunen  <kkinnunen@apple.com>

        ANGLE Metal: single-component swizzles do not compile
        https://bugs.webkit.org/show_bug.cgi?id=230472
        <rdar://problem/83310780>

        Reviewed by Dean Jackson.

        Add a test for testing the swizzles as lvalues.

        * webgl/pending/conformance/glsl/misc/swizzle-as-lvalue-expected.txt: Added.
        * webgl/pending/conformance/glsl/misc/swizzle-as-lvalue.html: Added.
        * webgl/pending/resources/webgl_test_files/conformance/glsl/misc/swizzle-as-lvalue.html: Added.
        * webgl/pending/resources/webgl_test_files/resources/glsl-feature-tests.css: Added.

2021-09-20  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] http/tests/websocket/tests/hybi/alert-in-event-handler.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=230522

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-09-20  Eric Hutchison  <ehutchison@apple.com>

        [ Catalina wk2 Release EWS ] imported/w3c/web-platform-tests/subresource-integrity/subresource-integrity.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=230518.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-20  Eric Hutchison  <ehutchison@apple.com>

        [ BigSur Catalina iOS14 wk2 Release ] imported/w3c/web-platform-tests/html/webappapis/structured-clone/structured-clone.any.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=230514.

        Unreviewed test gardening.

        * platform/ios-14-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-09-20  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] fast/viewport/scroll-delegates-switch-on-page-with-no-composition-mode-asserts.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=230513

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-09-20  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for js/dfg-uint32array-overflow-values.html.
        https://bugs.webkit.org/show_bug.cgi?id=229594.

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-09-20  Eric Hutchison  <ehutchison@apple.com>

        [iOS14] fast/events/ios/dom-update-on-keydown-quirk.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230509.

        Unreviewed test gardening.

        * platform/ios-14-wk2/TestExpectations:

2021-09-20  Eric Hutchison  <ehutchison@apple.com>

        [ Catalina, BigSur wk2 Release ] css3/masking/reference-clip-path-animate-transform-repaint.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230504.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-20  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test baselines and expectation. Unreviewed test gardening.
        https://bugs.webkit.org/show_bug.cgi?id=230501

        * platform/glib/TestExpectations:
        * platform/glib/imported/w3c/web-platform-tests/css/css-typed-om/stylevalue-subclasses/cssTransformComponent-toMatrix-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/css/css-typed-om/rotate-by-added-angle-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/css-typed-om/rotate-by-added-angle-expected.txt:

2021-09-20  Eric Hutchison  <ehutchison@apple.com>

        [ Win EWS] js/dfg-int16array.html is a flaky crash under WebCore::LayoutIntegration::LineLayout::constructContent.
        https://bugs.webkit.org/show_bug.cgi?id=229594.

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-09-20  Eric Hutchison  <ehutchison@apple.com>

        [Mac wk2 Debug arm64] storage/indexeddb/request-with-null-open-db-request.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=230502.

        Unreviewed test gardening .

        * platform/mac-wk2/TestExpectations:

2021-09-20  Antti Koivisto  <antti@apple.com>

        [LFC][Integration] Enable selections
        https://bugs.webkit.org/show_bug.cgi?id=230463

        Reviewed by Alan Bujtas.

        * fast/repaint/selection-paint-invalidation-expected.txt: Added.
        * fast/repaint/selection-paint-invalidation.html: Added.
        * platform/mac/fast/text/whitespace/pre-wrap-overflow-selection-expected.txt:

2021-09-20  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for http/tests/misc/iframe-reparenting-id-collision.html.
        https://bugs.webkit.org/show_bug.cgi?id=230427.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:
        * platform/win/TestExpectations:

2021-09-20  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur wk2 arm64 ] imported/w3c/web-platform-tests/infrastructure/reftest-wait.html is a flaky image failure.
        https://bugs.webkit.org/show_bug.cgi?id=230488

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-20  Johnson Zhou  <qiaosong_zhou@apple.com>

        Add support for CSSUnparsedValue parsing through CSSStyleValue.parse()
        https://bugs.webkit.org/show_bug.cgi?id=229702

        Reviewed by Alex Christensen.

        * css-typedom/css-style-value-parse-expected.txt: Added.
        * css-typedom/css-style-value-parse.html: Added.

2021-09-20  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS macOS wk2] imported/w3c/web-platform-tests/webrtc/RTCSctpTransport-events.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230485

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-09-20  Ayumi Kojima  <ayumi_kojima@apple.com>

        REGRESSION (r281102?): [ Mac ] media/track/track-in-band.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=229478

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-20  Aditya Keerthi  <akeerthi@apple.com>

        Implement input-security
        https://bugs.webkit.org/show_bug.cgi?id=184510
        rdar://79979992

        Reviewed by Antti Koivisto.

        Add a test to verify the interaction between the new input-security
        property, and the existing -webkit-text-security property. See the
        WebCore ChangeLog for more details.

        Rebaselined existing tests to account for the existence of a new CSS
        property.

        * fast/css/computed-text-security-for-input-security-expected.txt: Added.
        * fast/css/computed-text-security-for-input-security.html: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:
        * platform/ios/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:

2021-09-20  Chris Dumez  <cdumez@apple.com>

        Unskip COOP tests that were marked as flaky as they have no recent failures on the bots.

        * platform/mac/TestExpectations:

2021-09-20  Marcos Caceres  <marcos@marcosc.com>

        Web Share permission policy "web-share" and "self" as the allowlist
        https://bugs.webkit.org/show_bug.cgi?id=214448

        Reviewed by Youenn Fablet.

        * http/tests/webshare/resources/webshare-postmessage.html: Added.
        * http/tests/webshare/webshare-allow-attribute-canShare.https-expected.txt: Added.
        * http/tests/webshare/webshare-allow-attribute-canShare.https.html: Added.
        * http/tests/webshare/webshare-allow-attribute-share.https-expected.txt: Added.
        * http/tests/webshare/webshare-allow-attribute-share.https.html: Added.
        * platform/mac-wk1/TestExpectations:
        * platform/win/TestExpectations:

2021-09-20  Marcos Caceres  <marcos@marcosc.com>

        Web Share tests are out of date
        https://bugs.webkit.org/show_bug.cgi?id=229489

        Reviewed by Youenn Fablet.

        * platform/ios-wk2/imported/w3c/web-platform-tests/web-share/canShare.https-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/web-share/share-empty.https-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/web-share/canShare.https-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/web-share/share-empty.https-expected.txt:

2021-09-20  Youenn Fablet  <youenn@apple.com>

        Resync WPT webrtc tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=229549
        <rdar://problem/82670236>

        Reviewed by Eric Carlson.

        Unskipping some tests that are no longer flaky.
        Marking some new tests as flaky.

        * TestExpectations:
        * platform/mac/TestExpectations:
        * tests-options.json:

2021-09-19  Alan Bujtas  <zalan@apple.com>

        Unreviewed gardening after r282738.

        * TestExpectations: remove passing test.

2021-09-18  Myles C. Maxfield  <mmaxfield@apple.com>

        [iOS Family] Delete letterpress support
        https://bugs.webkit.org/show_bug.cgi?id=230441

        Reviewed by Tim Horton.

        * TestExpectations:
        * fast/text/letterpress-different-expected-mismatch.html: Removed.
        * fast/text/letterpress-different.html: Removed.
        * fast/text/letterpress-paint-expected-mismatch.html: Removed.
        * fast/text/letterpress-paint.html: Removed.
        * platform/ios/TestExpectations:
        * platform/ios/ios/getComputedStyle-text-decoration-letterpress-expected.txt: Removed.
        * platform/ios/ios/getComputedStyle-text-decoration-letterpress.html: Removed.
        * platform/ios/ios/resources/getComputedStyle-text-decoration-letterpress.js: Removed.

2021-09-17  Chris Dumez  <cdumez@apple.com>

        [ Catalina+ Win WK1 ] http/tests/misc/iframe-reparenting-id-collision.html is a flaky text failure
        https://bugs.webkit.org/show_bug.cgi?id=230423
        <rdar://problem/83252545>

        Reviewed by Geoffrey Garen.

        The test opens 2 identical windows. Each of these windows has an iframe which starts an XHR and then
        calls iframeXHRStarted() and end up outputing the following line:
        "Started loading iframe XHR request."

        When the test fails, we see this line logged a third time, even though there are 2 popup windows.
        The reason for this is that iframeXHRStarted() transfers an iframe from one popup to another once
        both XHRs have started. When transferring the iframe a new XHR starts. The test calls
        testRunner.notifyDone() right away but in some cases, the XHR still has time to start and print
        the extra line.

        * http/tests/misc/iframe-reparenting-id-collision.html:

2021-09-17  Simon Fraser  <simon.fraser@apple.com>

        css/cssom-view/mouseEvent-offsetXY-svg.html passes now
        https://bugs.webkit.org/show_bug.cgi?id=230271

        Reviewed by Ryan Haddad.

        css/cssom-view/mouseEvent-offsetXY-svg.html passes after r282316.

        * TestExpectations:

2021-09-17  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ MacOS ] http/tests/media/track-in-band-hls-metadata.htm is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230435

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-09-17  Eric Hutchison  <ehutchison@apple.com>

        [iOS] http/tests/navigation/back-to-slow-frame.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=230434.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-09-17  Eric Hutchison  <ehutchison@apple.com>

        http/wpt/fetch/fetch-response-body-stop-in-worker.html crashing on EWS in iOS.
        https://bugs.webkit.org/show_bug.cgi?id=225528.

        Unreviewed test gardening.

        * platform/ios-14-wk2/TestExpectations:

2021-09-17  Cameron McCormack  <heycam@apple.com>

        Preserve color space when creating ImageBuffers for ImageBitmaps
        https://bugs.webkit.org/show_bug.cgi?id=229022
        <rdar://problem/81828459>

        Reviewed by Sam Weinig.

        * TestExpectations:
        * platform/ios-14/TestExpectations:
        * platform/ios/TestExpectations:
        * platform/mac/TestExpectations:

2021-09-17  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for js/dfg-int32array-overflow-values.html.
        https://bugs.webkit.org/show_bug.cgi?id=229594.

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-09-17  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur iOS14 ] http/tests/xmlhttprequest/redirect-cross-origin-tripmine.html (layout-test) is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=225668

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-09-17  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS MacOS ] http/tests/security/contentSecurityPolicy/frame-src-cross-origin-load.html is a flakey failure/timeout.
        https://bugs.webkit.org/show_bug.cgi?id=230428

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-09-17  Eric Hutchison  <ehutchison@apple.com>

        [Mac wk1, Win] http/tests/misc/iframe-reparenting-id-collision.html is a flaky image failure.
        https://bugs.webkit.org/show_bug.cgi?id=230427.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:
        * platform/win/TestExpectations:

2021-09-17  Ayumi Kojima  <ayumi_kojima@apple.com>

        [MacOS Debug] http/tests/security/contentSecurityPolicy/frame-src-cross-origin-load.html is a flakey failure.
        https://bugs.webkit.org/show_bug.cgi?id=222748

        Unreviewed test gardening.

        * platform/mac/TestExpectations: Removed test expectation

2021-09-17  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur wk1 ] printing/allowed-breaks.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230425

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-17  Simon Fraser  <simon.fraser@apple.com>

        Convert usesMockScrollAnimator from a DeprecatedGlobalSettings to a WebPreference
        https://bugs.webkit.org/show_bug.cgi?id=230371

        Reviewed by Tim Horton.
        
        Convert to use the  <!-- webkit-test-runner --> format for specifying MockScrollAnimatorEnabled.

        * fast/scrolling/scroll-animator-basic-events.html:
        * fast/scrolling/scroll-animator-overlay-scrollbars-clicked.html:
        * fast/scrolling/scroll-animator-overlay-scrollbars-hovered.html:
        * fast/scrolling/scroll-animator-select-list-events.html:

2021-09-17  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] http/wpt/webaudio/the-audio-api/the-audioworklet-interface/context-already-rendering.html is flaky.
        https://bugs.webkit.org/show_bug.cgi?id=230421

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-09-17  Eric Hutchison  <ehutchison@apple.com>

        [iOS wk2 iPad] platform/ipad/media/modern-media-controls/media-documents/media-document-video-ios-sizing.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=230419.

        Unreviewed test gardening.

        * platform/ipad/TestExpectations:

2021-09-17  Philippe Normand  <pnormand@igalia.com>

        REGRESSION(r282220): [GCC] Several flaky crashes on media/track/cue tests
        https://bugs.webkit.org/show_bug.cgi?id=230318

        Reviewed by Xabier Rodriguez-Calvar.

        * platform/glib/TestExpectations: Unflag tests no longer flaky.

2021-09-17  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test expectations. Unreviewed test gardening.
        https://bugs.webkit.org/show_bug.cgi?id=230416

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:

2021-09-17  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] imported/w3c/web-platform-tests/fetch/data-urls/base64.any.worker.html is flaky crashing.
        https://bugs.webkit.org/show_bug.cgi?id=230418

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-09-17  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS Debug & Mac wk2 ] media/video-seek-with-negative-playback.html is a flaky failure..
        https://bugs.webkit.org/show_bug.cgi?id=228087

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-09-17  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS Debug & macOS wk2 ] fast/canvas/canvas-drawImage-detached-leak.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230413

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-09-17  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] imported/w3c/web-platform-tests/html/dom/idlharness.https.html is flaky failing after rebaselining.
        https://bugs.webkit.org/show_bug.cgi?id=230407

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-09-17  Eric Hutchison  <ehutchison@apple.com>

        [Mac iOS] imported/w3c/web-platform-tests/service-workers/service-worker/clients-matchall-client-types.https.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230412.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-09-17  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ macOS ] http/tests/media/hls/video-controller-getStartDate.html is flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=230411

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-09-17  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for imported/w3c/web-platform-tests/css/css-transforms/crashtests/transform-marquee-resize-div-image-001.html to include wk1.
        https://bugs.webkit.org/show_bug.cgi?id=230327.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-09-16  Youenn Fablet  <youenn@apple.com>

        WPT webrtc RTCPeerConnection-setLocalDescription-offer.html and RTCPeerConnection-setLocalDescription-answer.html are flaky due to always changing failing assertion
        https://bugs.webkit.org/show_bug.cgi?id=230302

        Reviewed by Eric Carlson.

        * TestExpectations:
        Unflake tests.

2021-09-16  Cameron McCormack  <heycam@apple.com>

        Preserve canvas color space when producing JPEGs from toDataURL/toBlob
        https://bugs.webkit.org/show_bug.cgi?id=230209
        <rdar://82948457>

        Reviewed by Sam Weinig.

        * TestExpectations:
        * platform/ios-14/TestExpectations:
        * platform/ios/TestExpectations:
        * platform/mac/TestExpectations:

2021-09-16  Alex Christensen  <achristensen@webkit.org>

        Regression (r282484): [ Catalina ] 2 imported/w3c/web-platform-tests/content-security-policy/ tests are failing
        https://bugs.webkit.org/show_bug.cgi?id=230353

        * platform/mac/TestExpectations:
        r282613 was too optimistic.  It made bots red.  This makes them green again.

2021-09-16  Kyle Piddington  <kpiddington@apple.com>

        webgl/2.0.y/conformance/extensions/webgl-compressed-texture-s3tc-srgb.html fails on Intel+AMD Metal
        https://bugs.webkit.org/show_bug.cgi?id=229941

        Zero-initialize compressed textures explicitly, as they aren't implicitly initalized in Metal.
        Reviewed by Kenneth Russell <kbr@chromium.org>.

        * TestExpectations:

2021-09-16  Cameron McCormack  <heycam@apple.com>

        Support drawImage with a wide gamut image painting into a display-p3 canvas
        https://bugs.webkit.org/show_bug.cgi?id=229021
        <rdar://problem/81828450>

        Reviewed by Sam Weinig.

        * TestExpectations:
        * platform/ios-14/TestExpectations:
        * platform/ios/TestExpectations:
        * platform/mac/TestExpectations:

2021-09-16  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] mark webgl/1.0.x/conformance/extensions/oes-vertex-array-object.html as failing
        https://bugs.webkit.org/show_bug.cgi?id=230379

        Unreviewed test gardening.

        * platform/glib/TestExpectations:

2021-09-16  Alex Christensen  <achristensen@webkit.org>

        Regression (r282484): [ iOS macOS ] imported/w3c/web-platform-tests/service-workers/service-worker/clients-matchall-client-types.https.html is failing
        https://bugs.webkit.org/show_bug.cgi?id=230354

        Reviewed by Chris Dumez.

        This test started failing on iOS, and this updates the expectations to make it pass again.
        The test is flaky on WK2, but it is already marked as such, to be fixed in webkit.org/b/182341

        * platform/ios-wk2/imported/w3c/web-platform-tests/service-workers/service-worker/clients-matchall-client-types.https-expected.txt:

2021-09-16  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ MacOS EWS ] imported/w3c/web-platform-tests/html/dom/idlharness.https.html is flaky failing
        https://bugs.webkit.org/show_bug.cgi?id=229831

        Unreviewed test gardening. 

        * platform/ios-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:

2021-09-16  Ayumi Kojima  <ayumi_kojima@apple.com>

        Unreviewed, reverting r282592.

        Rebaselined wrong on macOS

        Reverted changeset:

        "[ MacOS EWS ] imported/w3c/web-platform-
        tests/html/dom/idlharness.https.html is flaky failing."
        https://bugs.webkit.org/show_bug.cgi?id=229831
        https://commits.webkit.org/r282592

2021-09-16  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for js/dfg-uint8array.html.
        https://bugs.webkit.org/show_bug.cgi?id=229594.

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-09-16  Alex Christensen  <achristensen@webkit.org>

        Regression (r282484): [ Catalina ] 2 imported/w3c/web-platform-tests/content-security-policy/ tests are failing
        https://bugs.webkit.org/show_bug.cgi?id=230353

        Reviewed by Chris Dumez.

        A change unrelated to CSP made some tests fail on some bots.  This makes them pass on those bots.

        connect-src-eventsource-allowed.sub.html switched from failing everywhere except Catalina to failing only on Catalina because I updated the test expectations.
        It also needs iOS test expectations.

        form-action-src-blocked.sub.html needs iOS test expectations.

        * platform/ios/imported/w3c/web-platform-tests/content-security-policy/connect-src/connect-src-eventsource-allowed.sub-expected.txt: Added.
        * platform/ios/imported/w3c/web-platform-tests/content-security-policy/form-action/form-action-src-blocked.sub-expected.txt: Added.
        * platform/mac/TestExpectations:

2021-09-16  Chris Dumez  <cdumez@apple.com>

        [ MacOS & iOS ] imported/w3c/web-platform-tests/html/semantics/links/links-created-by-a-and-area-elements/htmlanchorelement_noopener.html is flaky failing
        https://bugs.webkit.org/show_bug.cgi?id=228089
        <rdar://problem/80801807>

        Reviewed by Darin Adler.

        Unskip test that should no longer be flaky.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk1/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-09-16  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] http/tests/workers/service/client-removed-from-clients-while-in-page-cache.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=230376

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-09-16  Chris Dumez  <cdumez@apple.com>

        Add violations reporting support for Cross-Origin-Embedder-Policy
        https://bugs.webkit.org/show_bug.cgi?id=230269

        Reviewed by Youenn Fablet.

        * TestExpectations:
        Unskip test that is now passing.

        * http/wpt/service-workers/no-cors-css-worker.js:
        (async doFetch):
        Fix existing test now that I added support for Fetch destination="iframe".

2021-09-16  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for imported/w3c/web-platform-tests/css/css-transforms/crashtests/transform-marquee-resize-div-image-001.html.
        https://bugs.webkit.org/show_bug.cgi?id=230327.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-16  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] http/wpt/service-workers/skipFetchEvent.https.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230374

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-09-16  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur wk2 Release ] 2 fast/canvas/ tests are flaky failing (230366).
        <rdar://83207621>

        Unreviewed test gardening.

        * platform/ios-15/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-09-16  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur wk2 Release ] 2 fast/canvas/ tests are flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=230366

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-16  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test baselines. Unreviewed test gardening.
        https://bugs.webkit.org/show_bug.cgi?id=230369

        * platform/glib/fast/table/border-collapsing/cached-change-row-border-width-expected.txt:
        * platform/glib/imported/w3c/web-platform-tests/mathml/relations/css-styling/default-properties-on-the-math-root-expected.txt:
        * platform/gtk/editing/deleting/delete-first-list-item-expected.txt:
        * platform/gtk/editing/inserting/insert-div-022-expected.txt:
        * platform/gtk/editing/pasteboard/3976872-expected.txt:
        * platform/gtk/editing/pasteboard/paste-match-style-001-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:

2021-09-16  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for fast/css-custom-paint/out-of-memory-while-adding-worklet-module.html.
        https://bugs.webkit.org/show_bug.cgi?id=227273.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-16  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ MacOS EWS ] imported/w3c/web-platform-tests/html/dom/idlharness.https.html is flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=229831

        Unreviewed test gardening.

        * platform/ios-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt: Rebaselined 
        * platform/mac-wk2/TestExpectations: Removed expectations
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt: Rebaselined

2021-09-16  Youenn Fablet  <youenn@apple.com>

        REGRESSION (r281981): [iOS, BigSur+] webrtc/datachannel/getStats-no-prflx-remote-candidate.html is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=229877
        <rdar://problem/82728080>

        Unreviewed.

        * platform/mac-wk1/TestExpectations:
        Test is no longer flaky.

2021-09-16  Eric Hutchison  <ehutchison@apple.com>

        [BigSur+ wk2 Debug] webrtc/video-mute-vp8.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230359.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-16  Chris Dumez  <cdumez@apple.com>

        [ iOS Mac Debug ] imported/w3c/web-platform-tests/html/cross-origin-opener-policy/coop-navigated-history-popup.https.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=230268
        <rdar://problem/83104971>

        Unreviewed, move console logging to stderr to address flakiness.

        * TestExpectations:
        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-09-16  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for imported/w3c/web-platform-tests/css/cssom/stylesheet-same-origin.sub.html.
        https://bugs.webkit.org/show_bug.cgi?id=214682.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-16  Tyler Wilcock <twilco.o@protonmail.com> and Myles C. Maxfield  <mmaxfield@apple.com>

        font-weight should always serialize as a number
        https://bugs.webkit.org/show_bug.cgi?id=214230
        <rdar://problem/65623540>

        Reviewed by Antti Koivisto.

        * css3/font-weight-expected.txt:
        * css3/font-weight-multiple-selectors-expected.txt:
        * css3/font-weight-multiple-selectors.html:
        * css3/font-weight.html:
        * editing/pasteboard/paste-and-sanitize-expected.txt:
        * editing/pasteboard/paste-and-sanitize.html:
        * editing/pasteboard/paste-text-with-style-4-expected.txt:
        * fast/css/child-selector-implicit-tbody.html:
        * fast/css/css-properties-case-insensitive.html:
        * fast/css/font-shorthand-from-longhands-expected.txt:
        * fast/css/font-shorthand-from-longhands.html:
        * fast/css/getComputedStyle/computed-style-expected.txt:
        * fast/css/getComputedStyle/computed-style-font-family-expected.txt:
        * fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * fast/events/before-input-events-prevent-drag-and-drop-expected.txt:
        * fast/html/article-element-expected.txt:
        * fast/html/article-element.html:
        * fast/html/aside-element-expected.txt:
        * fast/html/aside-element.html:
        * fast/html/figcaption-element-expected.txt:
        * fast/html/figcaption-element.html:
        * fast/html/figure-element-expected.txt:
        * fast/html/figure-element.html:
        * fast/html/footer-element-expected.txt:
        * fast/html/footer-element.html:
        * fast/html/header-element-expected.txt:
        * fast/html/header-element.html:
        * fast/html/hgroup-element-expected.txt:
        * fast/html/hgroup-element.html:
        * fast/html/main-element-expected.txt:
        * fast/html/main-element.html:
        * fast/html/mark-element-expected.txt:
        * fast/html/mark-element.html:
        * fast/html/section-element-expected.txt:
        * fast/html/section-element.html:
        * fast/text/accessibility-bold-system-font-expected.txt:
        * fast/text/accessibility-bold-system-font.html:
        * fast/text/font-weight-1-1000-expected.txt:
        * fast/text/font-weight-parse-expected.txt:
        * fast/text/font-weight-parse.html:
        * fast/text/variations/out-of-bounds-selection-properties-expected.txt:
        * fast/text/variations/out-of-bounds-selection-properties.html:
        * mathml/presentation/mstyle-css-attributes-expected.html:
        * platform/glib/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/glib/fast/css/getComputedStyle/computed-style-font-family-expected.txt:
        * platform/glib/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/glib/svg/css/getComputedStyle-basic-expected.txt:
        * platform/gtk/editing/deleting/delete-first-list-item-expected.png:
        * platform/gtk/editing/deleting/delete-first-list-item-expected.txt:
        * platform/gtk/editing/inserting/insert-div-022-expected.txt:
        * platform/gtk/editing/pasteboard/3976872-expected.png:
        * platform/gtk/editing/pasteboard/3976872-expected.txt:
        * platform/gtk/editing/pasteboard/paste-match-style-001-expected.png:
        * platform/gtk/editing/pasteboard/paste-match-style-001-expected.txt:
        * platform/gtk/fast/text/font-weight-parse-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/relations/css-styling/default-properties-on-the-math-root-expected.txt:
        * platform/ios/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/ios/fast/css/getComputedStyle/computed-style-font-family-expected.txt:
        * platform/ios/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/ios/fast/text/font-weight-parse-expected.txt:
        * platform/ios/svg/css/getComputedStyle-basic-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/relations/css-styling/default-properties-on-the-math-root-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/relations/css-styling/default-properties-on-the-math-root-expected.txt:
        * platform/mac/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/mac/fast/css/getComputedStyle/computed-style-font-family-expected.txt:
        * platform/mac/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/mac/fast/events/ondrop-text-html-expected.txt:
        * platform/mac/fast/text/font-weight-parse-expected.txt:
        * platform/mac/svg/css/getComputedStyle-basic-expected.txt:
        * platform/wpe/fast/text/font-weight-parse-expected.txt:
        * svg/css/getComputedStyle-basic-expected.txt:

2021-09-16  Youenn Fablet  <youenn@apple.com>

        Enable RTCRtpScriptTransform by default
        https://bugs.webkit.org/show_bug.cgi?id=230220
        <rdar://problem/83090247>

        Reviewed by Eric Carlson.

        * http/wpt/webrtc/no-webrtc-transform.html:
        Migrate to new internal setting.

2021-09-16  Cameron McCormack  <heycam@apple.com>

        Disable display-p3 canvas and ImageData on platforms other than Monterey+ and iOS 15+
        https://bugs.webkit.org/show_bug.cgi?id=230139
        <rdar://81828819>

        Reviewed by Sam Weinig.

        * TestExpectations:
        * platform/glib/imported/w3c/web-platform-tests/html/canvas/element/manual/wide-gamut-canvas/canvas-draw-high-bit-depth-images-expected.txt: Removed.
        * platform/ios-14/TestExpectations:
        * platform/ios/TestExpectations:
        * platform/ios/imported/w3c/web-platform-tests/html/canvas/element/manual/wide-gamut-canvas/canvas-draw-high-bit-depth-images-expected.txt: Removed.
        * platform/mac-bigsur/imported/w3c/web-platform-tests/html/canvas/element/manual/wide-gamut-canvas/canvas-draw-high-bit-depth-images-expected.txt: Removed.
        * platform/mac-catalina/imported/w3c/web-platform-tests/html/canvas/element/manual/wide-gamut-canvas/canvas-draw-high-bit-depth-images-expected.txt: Removed.
        * platform/mac/TestExpectations:

2021-09-15  Alex Christensen  <achristensen@webkit.org>

        Add IDL skeleton for SharedWorker
        https://bugs.webkit.org/show_bug.cgi?id=230293

        Reviewed by Geoff Garen.

        * platform/mac-wk1/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:

2021-09-15  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for security/contentSecurityPolicy/plugins-types-allows-quicktime-plugin-replacement.html.
        https://bugs.webkit.org/show_bug.cgi?id=229505.

        Unreviewed test gardening .

        * TestExpectations:

2021-09-15  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS Mac Debug ] imported/w3c/web-platform-tests/html/cross-origin-opener-policy/coop-navigated-history-popup.https.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230268

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations: Removed [ Debug ]
        * platform/mac-wk2/TestExpectations: Updated bug number

2021-09-15  Robert Jenner  <Jenner@apple.com>

        [ Monterey wk2 ] imported/w3c/web-platform-tests/service-workers/service-worker/import-scripts-cross-origin.https.html is a constant text failure
        https://bugs.webkit.org/show_bug.cgi?id=228200

        Unreviewed test gardening. Removing no longer needed test expectation.

        * platform/mac-wk2/TestExpectations:

2021-09-15  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur ] fast/canvas/canvas-draw-canvas-on-canvas-flushing-order.html is a flaky image failure.
        https://bugs.webkit.org/show_bug.cgi?id=230313

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-09-15  Carlos Alberto Lopez Perez  <clopez@igalia.com>

        [GTK][WPE] Gardening of tests: report new failures and rebaseline tests.

        Unreviewed test gardening.

        Mark some expected new failures and also rebaseline several tests.

        rebaseline after r282356
            imported/w3c/web-platform-tests/css/css-typed-om/rotate-by-added-angle.html
            imported/w3c/web-platform-tests/css/css-typed-om/width-by-max-px-em.html
            imported/w3c/web-platform-tests/css/css-typed-om/width-by-min-px-em.html

        rebaseline after r282341
            imported/w3c/web-platform-tests/css/cssom-view/getBoundingClientRect-empty-inline.html
            imported/w3c/web-platform-tests/css/cssom-view/getBoundingClientRect-shy.html
            imported/w3c/web-platform-tests/css/cssom-view/offsetTopLeft-empty-inline.html
            imported/w3c/web-platform-tests/css/cssom-view/offsetTopLeft-leading-space-inline.html

        rebaseline after r282143
            imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext.html
            imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree.html

        rebaseline after r282357
            imported/w3c/web-platform-tests/css/mediaqueries/test_media_queries.html

        rebaseline after r282441
            imported/w3c/web-platform-tests/resize-observer/svg.html

        rebaseline after r282306
            tables/mozilla/bugs/bug39209.html
            tables/mozilla/bugs/bug44505.html
            tables/mozilla/marvin/x_col_valign_baseline.xml
            tables/mozilla/marvin/x_colgroup_valign_baseline.xml
            tables/mozilla_expected_failures/bugs/bug1725.html
            fast/forms/file/file-input-direction.html
            fast/multicol/span/span-as-immediate-child-property-removal.html
            fast/replaced/width100percent-button.html
            fast/table/mozilla-bug10296-vertical-align-1.html
            fast/table/mozilla-bug10296-vertical-align-2.html
            fast/table/rowspan-paint-order-vertical.html

        * platform/glib/TestExpectations:
        * platform/glib/imported/w3c/web-platform-tests/css/cssom-view/getBoundingClientRect-shy-expected.txt: Added.
        * platform/gtk/TestExpectations:
        * platform/gtk/fast/forms/file/file-input-direction-expected.txt:
        * platform/gtk/fast/multicol/span/span-as-immediate-child-property-removal-expected.txt:
        * platform/gtk/fast/replaced/width100percent-button-expected.txt:
        * platform/gtk/fast/table/mozilla-bug10296-vertical-align-1-expected.txt:
        * platform/gtk/fast/table/mozilla-bug10296-vertical-align-2-expected.txt:
        * platform/gtk/fast/table/rowspan-paint-order-vertical-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/css/css-typed-om/rotate-by-added-angle-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/css/css-typed-om/width-by-max-px-em-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/css/css-typed-om/width-by-min-px-em-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/css/cssom-view/getBoundingClientRect-empty-inline-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/css/cssom-view/offsetTopLeft-empty-inline-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/css/cssom-view/offsetTopLeft-leading-space-inline-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/css/mediaqueries/test_media_queries-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/links/links-created-by-a-and-area-elements/htmlanchorelement_noopener-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/resize-observer/svg-expected.txt: Removed.
        * platform/gtk/tables/mozilla/bugs/bug39209-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug44505-expected.txt:
        * platform/gtk/tables/mozilla/marvin/x_col_valign_baseline-expected.txt:
        * platform/gtk/tables/mozilla/marvin/x_colgroup_valign_baseline-expected.txt:
        * platform/gtk/tables/mozilla_expected_failures/bugs/bug1725-expected.txt:
        * platform/wpe/fast/forms/file/file-input-direction-expected.txt: Added.
        * platform/wpe/fast/multicol/span/span-as-immediate-child-property-removal-expected.txt:
        * platform/wpe/fast/replaced/width100percent-button-expected.txt:
        * platform/wpe/fast/table/mozilla-bug10296-vertical-align-1-expected.txt:
        * platform/wpe/fast/table/mozilla-bug10296-vertical-align-2-expected.txt:
        * platform/wpe/fast/table/rowspan-paint-order-vertical-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/css-typed-om/rotate-by-added-angle-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/css-typed-om/width-by-max-px-em-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/css-typed-om/width-by-min-px-em-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom-view/offsetTopLeft-empty-inline-expected.txt: Added.
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom-view/offsetTopLeft-leading-space-inline-expected.txt: Added.
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/mediaqueries/test_media_queries-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/resize-observer/svg-expected.txt: Removed.
        * platform/wpe/tables/mozilla/bugs/bug39209-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug44505-expected.txt:
        * platform/wpe/tables/mozilla/marvin/x_col_valign_baseline-expected.txt:
        * platform/wpe/tables/mozilla/marvin/x_colgroup_valign_baseline-expected.txt:
        * platform/wpe/tables/mozilla_expected_failures/bugs/bug1725-expected.txt:

2021-09-15  Yusuke Suzuki  <ysuzuki@apple.com>

        [JSC] Optimize leaf object creation in JSON.parse
        https://bugs.webkit.org/show_bug.cgi?id=230298

        Reviewed by Keith Miller.

        * js/dom/JSON-parse-expected.txt:

2021-09-15  Chris Dumez  <cdumez@apple.com>

        Unreviewed, skip a layout worklet test as it is not supported.

        * TestExpectations:

2021-09-15  Chris Dumez  <cdumez@apple.com>

        Unreviewed, skip a couple of SharedWorker tests.

        These tests are flaky and we do not support SharedWorkers at the moment.

        * TestExpectations:

2021-09-15  Martin Robinson  <mrobinson@webkit.org>

        imported/w3c/web-platform-tests/css/css-position/sticky/position-sticky-writing-modes.html depends on scrollbar placement and width
        https://bugs.webkit.org/show_bug.cgi?id=230305

        Reviewed by Manuel Rego Casasnovas.

        * TestExpectations: Unskip newly passing test.

2021-09-15  Aditya Keerthi  <akeerthi@apple.com>

        [iOS] Search inputs with '-webkit-appearance: textfield' should have a textfield background color
        https://bugs.webkit.org/show_bug.cgi?id=229883
        rdar://82146288

        Reviewed by Tim Horton.

        * fast/forms/ios/form-control-refresh/search/textfield-appearance-background-expected.txt: Added.
        * fast/forms/ios/form-control-refresh/search/textfield-appearance-background.html: Added.
        * platform/ios/fast/css/input-search-padding-expected.txt: Rebaseline.

2021-09-15  Martin Robinson  <mrobinson@webkit.org>

        offsetLeft on display:inline element in vertical-rl parent can return a negative number
        https://bugs.webkit.org/show_bug.cgi?id=230217

        Reviewed by Darin Adler.

        * TestExpectations: Unskip a newly passing test.
        * platform/ios-simulator-wk2/imported/w3c/web-platform-tests/css/cssom-view/offsetTopLeft-empty-inline-expected.txt:
        * platform/ios-simulator-wk2/imported/w3c/web-platform-tests/css/cssom-view/offsetTopLeft-leading-space-inline-expected.txt:

2021-09-15  Youenn Fablet  <youenn@apple.com>

        Use event queue to fire RTCPeerConnection events
        https://bugs.webkit.org/show_bug.cgi?id=229944
        <rdar://problem/83045723>

        Reviewed by Eric Carlson.

        * fast/mediastream/RTCPeerConnection-media-setup-single-dialog-expected.txt:
        * fast/mediastream/RTCPeerConnection-setLocalDescription-offer-expected.txt:
        * fast/mediastream/RTCPeerConnection-setRemoteDescription-offer-expected.txt:
        * webrtc/peerconnection-page-cache-long.html:
        The peer connection object might not be in disconnected state synchronously in 
        pageshow event handler. In that case, we should wait for disconnected state.

2021-09-15  Said Abou-Hallawa  <said@apple.com>

        Linear gradient sometimes is drawn incorrectly and sometimes hangs
        https://bugs.webkit.org/show_bug.cgi?id=230145
        <rdar://82428383>

        Reviewed by Simon Fraser.

        * svg/gradients/gradient-flipped-start-end-points-expected.svg: Added.
        * svg/gradients/gradient-flipped-start-end-points.svg: Added.

2021-09-15  Myles C. Maxfield  <mmaxfield@apple.com>

        CSSFontFaceSrcValue.cssText should be quoted consistently with other browsers
        https://bugs.webkit.org/show_bug.cgi?id=230273

        Reviewed by Darin Adler.

        Addressing post-review comments.

        * fast/css/font-face-src-parsing-expected.txt:
        * fast/css/font-face-src-parsing.html:

2021-09-14  Simon Fraser  <simon.fraser@apple.com>

        Implement the borderBoxSize/contentBoxSize parts of ResizeObserver
        https://bugs.webkit.org/show_bug.cgi?id=230242

        Reviewed by Sam Weinig.

        Give macOS a platform expectation for this test since its results seem to be the odd one out.

        * platform/ios/imported/w3c/web-platform-tests/resize-observer/svg-expected.txt: Removed.
        * platform/mac/imported/w3c/web-platform-tests/resize-observer/svg-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/resize-observer/svg-expected.txt.

2021-09-14  Rob Buis  <rbuis@igalia.com>

        imported/w3c/web-platform-tests/css/css-sizing/image-min-max-content-intrinsic-size-change* tests fail
        https://bugs.webkit.org/show_bug.cgi?id=203508

        Reviewed by Simon Fraser.

        * TestExpectations:

2021-09-14  Eric Hutchison  <ehutchison@apple.com>

        Remove test expectations for imported/w3c/web-platform-tests/resource-timing/status-codes-create-entry.html.
        https://bugs.webkit.org/show_bug.cgi?id=229516.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-14  Eric Hutchison  <ehutchison@apple.com>

        Remove test expectations for imported/w3c/web-platform-tests/css/css-fonts/downloadable-font-in-iframe-print.html.
        https://bugs.webkit.org/show_bug.cgi?id=229506.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-14  Ayumi Kojima  <ayumi_kojima@apple.com>

        [MacOS wk2 & iOS] 2 fast/canvas tests are flaky timeouts.
        https://bugs.webkit.org/show_bug.cgi?id=228082

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-09-14  Ayumi Kojima  <ayumi_kojima@apple.com>

        REGRESSION: http/tests/security/frameNavigation/xss-DENIED-plugin-navigation.html is timing out on some bots.
        https://bugs.webkit.org/show_bug.cgi?id=227973

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-14  Eric Hutchison  <ehutchison@apple.com>

        Remove test expectations for 3 iOS tests.
        https://bugs.webkit.org/show_bug.cgi?id=229573.

        Unreviewed test gardening.

        * platform/ios-14/TestExpectations:

2021-09-14  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update platform test expectations and baselines after WPT import in r282287
        https://bugs.webkit.org/show_bug.cgi?id=230281

        Unreviewed test gardening.

        * platform/glib/TestExpectations:
        * platform/glib/imported/w3c/web-platform-tests/css/css-transforms/animation/transform-interpolation-001-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/css/css-transforms/animation/transform-interpolation-computed-value-expected.txt:
        * platform/glib/imported/w3c/web-platform-tests/css/css-transforms/css-transform-inherit-rotate-expected.png: Added.
        * platform/glib/imported/w3c/web-platform-tests/css/css-transforms/css-transform-inherit-rotate-expected.txt: Added.
        * platform/gtk/TestExpectations:
        * platform/wpe/TestExpectations:

2021-09-14  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Catalina EWS ] http/tests/media/hls/range-request.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229424

        Unreviewed test gardening.

        * platform/mac/TestExpectations: Removed expectation

2021-09-14  Eric Hutchison  <ehutchison@apple.com>

        Remove test expectations for pointerevents/mouse/compatibility-mouse-events-prevention-mouse-released.html.
        https://bugs.webkit.org/show_bug.cgi?id=229522.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-14  Ryan Haddad  <ryanhaddad@apple.com>

        Unreviewed, reverting r282408.

        Breaks internal builds.

        Reverted changeset:

        "Enable RTCRtpScriptTransform by default"
        https://bugs.webkit.org/show_bug.cgi?id=230220
        https://commits.webkit.org/r282408

2021-09-14  Myles C. Maxfield  <mmaxfield@apple.com>

        CSSFontFaceSrcValue.cssText should be quoted consistently with other browsers
        https://bugs.webkit.org/show_bug.cgi?id=230273
        <rdar://problem/79644124>

        Reviewed by Darin Adler.

        * fast/css/font-face-src-parsing-expected.txt:

2021-09-14  Ayumi Kojima  <ayumi_kojima@apple.com>

        Run tests in fast/forms/ios by default in EWS.
        https://bugs.webkit.org/show_bug.cgi?id=229656

        Unreviewed test gardening.

        * platform/ipad/TestExpectations:

2021-09-14  Youenn Fablet  <youenn@apple.com>

        Enable RTCRtpScriptTransform by default
        https://bugs.webkit.org/show_bug.cgi?id=230220
        <rdar://problem/83090247>

        Reviewed by Eric Carlson.

        * http/wpt/webrtc/no-webrtc-transform.html:
        Migrate to new internal setting.

2021-09-14  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS Mac Debug ] imported/w3c/web-platform-tests/html/cross-origin-opener-policy/coop-navigated-history-popup.https.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230268

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-09-14  Darin Adler  <darin@apple.com>

        URLs in CSS variables must be resolved against the base URL of the stylesheet, not the document
        https://bugs.webkit.org/show_bug.cgi?id=230243

        Reviewed by Antti Koivisto.

        * fast/css/variables/support/styles/url-with-variable-is-sheet-relative.css: Added 10 more test cases.
        * fast/css/variables/url-with-variable-is-sheet-relative-expected.html: Ditto.
        * fast/css/variables/url-with-variable-is-sheet-relative.html: Ditto.

2021-09-14  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Create platform specific baselines for new web platform tests imported in r282287
        https://bugs.webkit.org/show_bug.cgi?id=230272

        Unreviewed test gardening.

        * platform/glib/imported/w3c/web-platform-tests/css/css-transforms/crashtests/large-scaley-001-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/css/css-transforms/crashtests/preserve3d-scene-001-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/css/css-transforms/crashtests/w-negative-001-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/css/css-transforms/crashtests/w-negative-002-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/css/css-transforms/crashtests/w-negative-003-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/css/css-transforms/large-matrix-crash-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/css/css-transforms/text-perspective-001-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/css/css-transforms/crashtests/preserve3d-scene-002-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/css/css-transforms/rotate-180-degrees-001-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/css/css-transforms/rotate-270-degrees-001-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/css/css-transforms/rotate-90-degrees-001-expected.txt: Added.
        * platform/wpe/imported/w3c/web-platform-tests/css/css-transforms/crashtests/preserve3d-scene-002-expected.txt: Added.
        * platform/wpe/imported/w3c/web-platform-tests/css/css-transforms/crashtests/transform-marquee-resize-div-image-001-expected.txt: Added.
        * platform/wpe/imported/w3c/web-platform-tests/css/css-transforms/rotate-180-degrees-001-expected.txt: Added.
        * platform/wpe/imported/w3c/web-platform-tests/css/css-transforms/rotate-270-degrees-001-expected.txt: Added.
        * platform/wpe/imported/w3c/web-platform-tests/css/css-transforms/rotate-90-degrees-001-expected.txt: Added.

2021-09-14  Myles C. Maxfield  <mmaxfield@apple.com>

        Implement text-decoration-skip-ink
        https://bugs.webkit.org/show_bug.cgi?id=230244

        Reviewed by Antti Koivisto.

        * fast/css3-text/css3-text-decoration/text-decoration-skip/text-decoration-skip-roundtrip-expected.txt:
        * fast/css3-text/css3-text-decoration/text-decoration-skip/text-decoration-skip-roundtrip.html:
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:

2021-09-14  Sam Sneddon  <gsnedders@apple.com>

        Support the `x` resolution unit
        https://bugs.webkit.org/show_bug.cgi?id=229777

        Reviewed by Simon Fraser.

        Update tests so that they expect the x unit to serialize as the x unit
        (and not magically change to the dppx unit).

        * fast/css/cursor-parsing-image-set-expected.txt:
        * fast/css/cursor-parsing-image-set.html:
        * fast/css/image-set-parsing-expected.txt:
        * fast/css/image-set-parsing-generated-expected.txt:
        * fast/css/image-set-parsing-generated.html:
        * fast/css/image-set-parsing.html:
        * fast/css/image-set-setting-expected.txt:
        * fast/css/image-set-setting.html:
        * fast/css/image-set-unprefixed.html:

2021-09-14  Ayumi Kojima  <ayumi_kojima@apple.com>

        REGRESSION (r281981): [iOS, BigSur+] webrtc/datachannel/getStats-no-prflx-remote-candidate.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=229877

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk1/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-09-14  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test baselines after r282307
        https://bugs.webkit.org/show_bug.cgi?id=230267

        Unreviewed test gardening.

        * platform/gtk/fast/dom/navigator-detached-no-crash-expected.txt:
        * platform/wpe/fast/dom/navigator-detached-no-crash-expected.txt:

2021-09-14  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Mac wk2 iOS ] imported/w3c/web-platform-tests/webrtc/RTCPeerConnection-explicit-rollback-iceGatheringState.html is failing.
        https://bugs.webkit.org/show_bug.cgi?id=230266

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-09-14  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ MacOS & iOS ] imported/w3c/web-platform-tests/html/semantics/links/links-created-by-a-and-area-elements/htmlanchorelement_noopener.html is flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=228089

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-09-14  Xabier Rodriguez Calvar  <calvaris@igalia.com>

        [GStreamer] Enable H265 codec
        https://bugs.webkit.org/show_bug.cgi?id=229920

        Reviewed by Philippe Normand.

        * media/media-can-play-h265-video-expected.txt: Added.
        * media/media-can-play-h265-video.html: Added.
        * platform/ios/media/media-can-play-h265-video-expected.txt: Added.
        * platform/mac/media/media-can-play-h265-video-expected.txt: Added.

2021-09-13  Ryan Haddad  <ryanhaddad@apple.com>

        [ Mac iOS ] 2 imported/w3c/web-platform-tests/css/cssom-view/ (layout-tests) are constant text failures
        https://bugs.webkit.org/show_bug.cgi?id=230237

        Unreviewed test gardening.

        * TestExpectations: Mark newly imported tests as failing.

2021-09-13  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo-wk1/TestExpectations:
        * platform/wincairo/TestExpectations:

2021-09-13  Ayumi Kojima  <ayumi_kojima@apple.com>

        [iOS] Investigate unclassified CSS LayoutTest failures.
        https://bugs.webkit.org/show_bug.cgi?id=178588

        Unreviewed test gardening.

        * platform/ios/TestExpectations:

2021-09-13  Andres Gonzalez  <andresg_22@apple.com>

        AX: set insertion point to the end of a native text control does not work when passing a collapsed TextMarkerRange with both start and end equals to the end TextMarker for the element.
        https://bugs.webkit.org/show_bug.cgi?id=230166

        Reviewed by Chris Fleizach.

        * accessibility/mac/bounds-for-range-expected.txt:
        Added AXTextMarkerRangeForTextMarkers attribute name.
        * accessibility/mac/native-text-control-set-selected-textmarker-range-expected.txt:
        * accessibility/mac/native-text-control-set-selected-textmarker-range.html:
        Expanded to include the test cases to move the insertion point to the
        beginning and end of the text cotnrol.
        * accessibility/text-marker/text-marker-previous-next-expected.txt:
        * accessibility/text-marker/text-marker-previous-next.html:
        Adjusted expected value to include linebreak character.

2021-09-13  Chris Dumez  <cdumez@apple.com>

        Relax BroadcastChannel origin partitioning if iframe has storage access
        https://bugs.webkit.org/show_bug.cgi?id=230164

        Reviewed by Alex Christensen.

        Add layout test coverage.

        * http/tests/messaging/broadcastchannel-partitioning-with-storage-access-expected.txt: Added.
        * http/tests/messaging/broadcastchannel-partitioning-with-storage-access.html: Added.
        * http/tests/messaging/resources/broadcastchannel-partitioning-with-storage-access-iframe.html: Added.
        * http/tests/messaging/resources/broadcastchannel-partitioning-with-storage-access-popup.html: Added.

2021-09-13  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test baselines after r282306
        https://bugs.webkit.org/show_bug.cgi?id=230221

        Unreviewed test gardening.

        * platform/glib/css2.1/t080301-c411-vt-mrgn-00-b-expected.txt:
        * platform/glib/css2.1/t0804-c5510-padn-00-b-ag-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-01-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-02-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-03-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-04-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-05-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-06-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-07-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-08-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-11-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-12-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-13-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-14-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-15-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-16-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-17-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-18-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-19-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-21-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-22-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-23-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-24-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-25-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-26-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-27-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-28-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-29-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-31-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-32-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-33-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-34-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-35-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-36-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-37-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-38-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-39-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-41-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-42-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-43-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-44-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-45-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-46-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-47-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-48-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-49-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-51-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-52-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-53-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-54-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-55-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-56-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-57-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-58-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-59-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-61-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-62-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-63-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-64-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-65-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-66-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-67-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-68-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-69-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-71-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-72-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-73-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-74-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-75-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-76-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-77-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-78-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-79-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-81-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-82-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-83-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-84-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-85-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-86-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-87-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-88-d-expected.txt:
        * platform/glib/css2.1/t170602-bdr-conflct-w-89-d-expected.txt:
        * platform/glib/css3/flexbox/flexbox-baseline-expected.txt:
        * platform/glib/fast/css/empty-pseudo-class-expected.txt:
        * platform/glib/fast/css/fieldset-display-row-expected.txt:
        * platform/glib/fast/css/first-child-pseudo-class-expected.txt:
        * platform/glib/fast/css/first-of-type-pseudo-class-expected.txt:
        * platform/glib/fast/css/last-child-pseudo-class-expected.txt:
        * platform/glib/fast/css/last-of-type-pseudo-class-expected.txt:
        * platform/glib/fast/css/only-child-pseudo-class-expected.txt:
        * platform/glib/fast/css/only-of-type-pseudo-class-expected.txt:
        * platform/glib/fast/dynamic/013-expected.txt:
        * platform/glib/fast/invalid/td-inside-object-expected.txt:
        * platform/glib/fast/table/multiple-percent-height-rows-expected.txt:
        * platform/glib/fast/table/rowspan-paint-order-expected.txt:
        * platform/glib/tables/mozilla/bugs/bug110566-expected.txt:
        * platform/glib/tables/mozilla/bugs/bug1296-expected.txt:
        * platform/glib/tables/mozilla/bugs/bug18440-expected.txt:
        * platform/glib/tables/mozilla/bugs/bug3103-expected.txt:
        * platform/glib/tables/mozilla/bugs/bug45055-2-expected.txt:
        * platform/glib/tables/mozilla/bugs/bug55527-expected.txt:
        * platform/glib/tables/mozilla/bugs/bug7714-expected.txt:
        * platform/glib/tables/mozilla/bugs/bug8950-expected.txt:
        * platform/glib/tables/mozilla/bugs/bug97138-expected.txt:
        * platform/glib/tables/mozilla/bugs/bug97383-expected.txt:
        * platform/glib/tables/mozilla/core/cell_heights-expected.txt:
        * platform/glib/tables/mozilla/marvin/backgr_layers-opacity-expected.txt:
        * platform/glib/tables/mozilla/marvin/backgr_position-table-expected.txt:
        * platform/glib/tables/mozilla/marvin/backgr_simple-table-cell-expected.txt:
        * platform/glib/tables/mozilla/marvin/backgr_simple-table-column-expected.txt:
        * platform/glib/tables/mozilla/marvin/backgr_simple-table-column-group-expected.txt:
        * platform/glib/tables/mozilla/marvin/backgr_simple-table-expected.txt:
        * platform/glib/tables/mozilla/marvin/backgr_simple-table-row-expected.txt:
        * platform/glib/tables/mozilla/marvin/backgr_simple-table-row-group-expected.txt:
        * platform/glib/tables/mozilla_expected_failures/bugs/97619-expected.txt:
        * platform/glib/tables/mozilla_expected_failures/collapsing_borders/bug41262-1-expected.txt:
        * platform/glib/tables/mozilla_expected_failures/marvin/backgr_border-table-cell-expected.txt:
        * platform/glib/tables/mozilla_expected_failures/marvin/backgr_border-table-column-expected.txt:
        * platform/glib/tables/mozilla_expected_failures/marvin/backgr_border-table-column-group-expected.txt:
        * platform/glib/tables/mozilla_expected_failures/marvin/backgr_border-table-expected.txt:
        * platform/glib/tables/mozilla_expected_failures/marvin/backgr_border-table-quirks-expected.txt:
        * platform/glib/tables/mozilla_expected_failures/marvin/backgr_border-table-row-expected.txt:
        * platform/glib/tables/mozilla_expected_failures/marvin/backgr_border-table-row-group-expected.txt:
        * platform/glib/tables/mozilla_expected_failures/marvin/backgr_fixed-bg-expected.txt:
        * platform/glib/tables/mozilla_expected_failures/marvin/backgr_layers-hide-expected.txt:
        * platform/glib/tables/mozilla_expected_failures/marvin/backgr_layers-show-expected.txt:
        * platform/glib/tables/mozilla_expected_failures/marvin/backgr_position-table-cell-expected.txt:
        * platform/glib/tables/mozilla_expected_failures/marvin/backgr_position-table-column-expected.txt:
        * platform/glib/tables/mozilla_expected_failures/marvin/backgr_position-table-column-group-expected.txt:
        * platform/glib/tables/mozilla_expected_failures/marvin/backgr_position-table-row-expected.txt:
        * platform/glib/tables/mozilla_expected_failures/marvin/backgr_position-table-row-group-expected.txt:
        * platform/gtk/css1/basic/id_as_selector-expected.txt:
        * platform/gtk/css1/basic/inheritance-expected.txt:
        * platform/gtk/css1/box_properties/border_bottom-expected.txt:
        * platform/gtk/css1/box_properties/border_bottom_width-expected.txt:
        * platform/gtk/css1/box_properties/border_left-expected.txt:
        * platform/gtk/css1/box_properties/border_right_inline-expected.txt:
        * platform/gtk/css1/box_properties/border_top-expected.txt:
        * platform/gtk/css1/box_properties/clear_float-expected.txt:
        * platform/gtk/css1/box_properties/float_elements_in_series-expected.txt:
        * platform/gtk/css1/box_properties/float_margin-expected.txt:
        * platform/gtk/css1/box_properties/float_on_text_elements-expected.txt:
        * platform/gtk/css1/box_properties/margin-expected.txt:
        * platform/gtk/css1/box_properties/margin_bottom-expected.txt:
        * platform/gtk/css1/box_properties/margin_top-expected.txt:
        * platform/gtk/css1/box_properties/padding-expected.txt:
        * platform/gtk/css1/box_properties/padding_bottom-expected.txt:
        * platform/gtk/css1/box_properties/padding_top-expected.txt:
        * platform/gtk/css1/box_properties/width-expected.txt:
        * platform/gtk/css1/classification/list_style-expected.txt:
        * platform/gtk/css1/classification/list_style_image-expected.txt:
        * platform/gtk/css1/color_and_background/background_attachment-expected.txt:
        * platform/gtk/css1/font_properties/font-expected.txt:
        * platform/gtk/css1/font_properties/font_size-expected.txt:
        * platform/gtk/css1/font_properties/font_weight-expected.txt:
        * platform/gtk/css1/formatting_model/floating_elements-expected.txt:
        * platform/gtk/css1/formatting_model/replaced_elements-expected.txt:
        * platform/gtk/css1/formatting_model/vertical_formatting-expected.txt:
        * platform/gtk/css1/pseudo/firstletter-expected.txt:
        * platform/gtk/css1/pseudo/firstline-expected.txt:
        * platform/gtk/css1/pseudo/multiple_pseudo_elements-expected.txt:
        * platform/gtk/css1/text_properties/line_height-expected.txt:
        * platform/gtk/css1/text_properties/text_decoration-expected.txt:
        * platform/gtk/css1/text_properties/vertical_align-expected.txt:
        * platform/gtk/css2.1/t0905-c414-flt-wrap-00-e-expected.txt:
        * platform/gtk/editing/deleting/5144139-2-expected.txt:
        * platform/gtk/editing/selection/3690703-2-expected.txt:
        * platform/gtk/editing/selection/3690703-expected.txt:
        * platform/gtk/editing/selection/3690719-expected.txt:
        * platform/gtk/fast/forms/basic-buttons-expected.txt:
        * platform/gtk/fast/forms/input-value-expected.txt:
        * platform/gtk/fast/line-grid/line-grid-contains-value-expected.txt:
        * platform/gtk/fast/multicol/nested-columns-expected.txt:
        * platform/gtk/fast/multicol/span/span-as-immediate-columns-child-expected.txt:
        * platform/gtk/fast/replaced/width100percent-image-expected.txt:
        * platform/gtk/fast/table/003-expected.txt:
        * platform/gtk/fast/table/025-expected.txt:
        * platform/gtk/fast/table/empty-cells-expected.txt:
        * platform/gtk/fast/table/frame-and-rules-expected.txt:
        * platform/gtk/fast/text/capitalize-boundaries-expected.txt:
        * platform/gtk/fast/text/international/bidi-override-expected.txt:
        * platform/gtk/fast/text/textIteratorNilRenderer-expected.txt:
        * platform/gtk/fast/text/whitespace/024-expected.txt:
        * platform/gtk/fast/transforms/bounding-rect-zoom-expected.txt:
        * platform/gtk/svg/custom/svg-fonts-in-html-expected.txt:
        * platform/gtk/svg/zoom/page/zoom-img-preserveAspectRatio-support-1-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug101674-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug10296-1-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug1055-1-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug11944-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug133756-2-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug1430-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug14323-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug17138-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug2267-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug32205-2-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug3977-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug46368-1-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug46368-2-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug57300-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug6304-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug7342-expected.txt:
        * platform/gtk/tables/mozilla/collapsing_borders/bug41262-3-expected.txt:
        * platform/gtk/tables/mozilla/marvin/tbody_valign_middle-expected.txt:
        * platform/gtk/tables/mozilla/marvin/td_valign_middle-expected.txt:
        * platform/gtk/tables/mozilla/marvin/tfoot_valign_middle-expected.txt:
        * platform/gtk/tables/mozilla/marvin/th_valign_middle-expected.txt:
        * platform/gtk/tables/mozilla/marvin/thead_valign_middle-expected.txt:
        * platform/gtk/tables/mozilla/marvin/tr_valign_middle-expected.txt:
        * platform/gtk/tables/mozilla_expected_failures/bugs/bug19526-expected.txt:
        * platform/gtk/tables/mozilla_expected_failures/bugs/bug89315-expected.txt:
        * platform/wpe/css1/basic/id_as_selector-expected.txt:
        * platform/wpe/css1/basic/inheritance-expected.txt:
        * platform/wpe/css1/box_properties/border_bottom-expected.txt:
        * platform/wpe/css1/box_properties/border_bottom_width-expected.txt:
        * platform/wpe/css1/box_properties/border_left-expected.txt:
        * platform/wpe/css1/box_properties/border_right_inline-expected.txt:
        * platform/wpe/css1/box_properties/border_top-expected.txt:
        * platform/wpe/css1/box_properties/clear_float-expected.txt:
        * platform/wpe/css1/box_properties/float_elements_in_series-expected.txt:
        * platform/wpe/css1/box_properties/float_margin-expected.txt:
        * platform/wpe/css1/box_properties/float_on_text_elements-expected.txt:
        * platform/wpe/css1/box_properties/margin-expected.txt:
        * platform/wpe/css1/box_properties/margin_bottom-expected.txt:
        * platform/wpe/css1/box_properties/margin_top-expected.txt:
        * platform/wpe/css1/box_properties/padding-expected.txt:
        * platform/wpe/css1/box_properties/padding_bottom-expected.txt:
        * platform/wpe/css1/box_properties/padding_top-expected.txt:
        * platform/wpe/css1/box_properties/width-expected.txt:
        * platform/wpe/css1/classification/list_style-expected.txt:
        * platform/wpe/css1/classification/list_style_image-expected.txt:
        * platform/wpe/css1/color_and_background/background_attachment-expected.txt:
        * platform/wpe/css1/font_properties/font-expected.txt:
        * platform/wpe/css1/font_properties/font_size-expected.txt:
        * platform/wpe/css1/font_properties/font_weight-expected.txt:
        * platform/wpe/css1/formatting_model/floating_elements-expected.txt:
        * platform/wpe/css1/formatting_model/replaced_elements-expected.txt:
        * platform/wpe/css1/formatting_model/vertical_formatting-expected.txt:
        * platform/wpe/css1/pseudo/firstletter-expected.txt:
        * platform/wpe/css1/pseudo/firstline-expected.txt:
        * platform/wpe/css1/pseudo/multiple_pseudo_elements-expected.txt:
        * platform/wpe/css1/text_properties/line_height-expected.txt:
        * platform/wpe/css1/text_properties/text_decoration-expected.txt:
        * platform/wpe/css1/text_properties/vertical_align-expected.txt:
        * platform/wpe/css2.1/t0905-c414-flt-wrap-00-e-expected.txt:
        * platform/wpe/fast/line-grid/line-grid-contains-value-expected.txt:
        * platform/wpe/fast/multicol/nested-columns-expected.txt:
        * platform/wpe/fast/multicol/span/span-as-immediate-columns-child-expected.txt:
        * platform/wpe/fast/replaced/width100percent-image-expected.txt:
        * platform/wpe/fast/table/025-expected.txt:
        * platform/wpe/fast/table/empty-cells-expected.txt:
        * platform/wpe/fast/table/frame-and-rules-expected.txt:
        * platform/wpe/fast/text/capitalize-boundaries-expected.txt:
        * platform/wpe/fast/text/textIteratorNilRenderer-expected.txt:
        * platform/wpe/fast/text/whitespace/024-expected.txt:
        * platform/wpe/fast/transforms/bounding-rect-zoom-expected.txt:
        * platform/wpe/svg/zoom/page/zoom-img-preserveAspectRatio-support-1-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug101674-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug10296-1-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug1055-1-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug11944-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug133756-2-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug1430-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug14323-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug17138-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug18359-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug2267-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug32205-2-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug3977-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug46368-1-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug46368-2-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug57300-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug6304-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug7342-expected.txt:
        * platform/wpe/tables/mozilla/collapsing_borders/bug41262-3-expected.txt:
        * platform/wpe/tables/mozilla/marvin/tbody_valign_middle-expected.txt:
        * platform/wpe/tables/mozilla/marvin/td_valign_middle-expected.txt:
        * platform/wpe/tables/mozilla/marvin/tfoot_valign_middle-expected.txt:
        * platform/wpe/tables/mozilla/marvin/th_valign_middle-expected.txt:
        * platform/wpe/tables/mozilla/marvin/thead_valign_middle-expected.txt:
        * platform/wpe/tables/mozilla/marvin/tr_valign_middle-expected.txt:
        * platform/wpe/tables/mozilla_expected_failures/bugs/bug19526-expected.txt:

2021-09-13  Sihui Liu  <sihui_liu@apple.com>

        Add stub for File System Access API
        https://bugs.webkit.org/show_bug.cgi?id=230101

        Reviewed by Youenn Fablet.

        Enable file-system-access/ tests only on WK2 platforms where StorageManager is implemented.

        * TestExpectations:
        * platform/wk2/TestExpectations:

2021-09-13  Tyler Wilcock  <tyler_w@apple.com>

        AX: Make PDFs loaded via <embed> accessible
        https://bugs.webkit.org/show_bug.cgi?id=229556

        Reviewed by Chris Fleizach and Andres Gonzalez.

        Add a test ensuring the PDF accessibility tree of PDFs loaded via
        `<embed>` elements is accessible.

        * accessibility/mac/basic-embed-pdf-accessibility-expected.txt: Added.
        * accessibility/mac/basic-embed-pdf-accessibility.html: Added.
        * accessibility/resources/simple-webkit-pages.pdf: Added.

2021-09-13  Sam Sneddon  <gsnedders@apple.com>

        Move ENABLE_RESOLUTION_MEDIA_QUERY to a runtime flag, start running tests again
        https://bugs.webkit.org/show_bug.cgi?id=229776

        Reviewed by Simon Fraser.

        * fast/media/mq-resolution-expected.txt:
        * fast/media/mq-resolution.html: Use the backing scale-factor, not zoom
        * platform/gtk/TestExpectations:
        * platform/ios/TestExpectations:
        * platform/mac/TestExpectations:
        * platform/win/TestExpectations:

2021-09-13  Simon Fraser  <simon.fraser@apple.com>

        Add the ability to show a flat list of the slowest 200 tests in the tests treemap viewer
        https://bugs.webkit.org/show_bug.cgi?id=230203

        Reviewed by Jonathan Bedard.
        
        Every test run produces a stats.json file that can be dragged into test-duration-treemap.html
        to show data about how long tests take to run. The treemap is useful, but it's also useful to
        see a flat list of the slowest tests, so add a button to show/hide that list in the
        treemap viewer.

        * fast/harness/test-duration-treemap-expected.txt:
        * fast/harness/test-duration-treemap.html:

2021-09-13  Eric Hutchison  <ehutchison@apple.com>

        Removed test expectations for inspector/css/getMatchedStylesForNodeMarkerPseudoId.html.
        <rdar://82039967>.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-13  Eric Hutchison  <ehutchison@apple.com>

        Remove test expectations for inspector/timeline/timeline-event-TimerInstall.html.
        <rdar://82039288>.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-13  Eric Hutchison  <ehutchison@apple.com>

        Updated test expectations for performance-api/paint-timing/paint-timing-with-worker.html.
        <rdar://82036119>.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-13  Simon Fraser  <simon.fraser@apple.com>

        Update css/cssom-view WPT tests
        https://bugs.webkit.org/show_bug.cgi?id=230196

        Reviewed by Antti Koivisto.

        Update CSS OM View tests from WPT efb73b2ce6da4c65350be9a0c8aa23700e253f07.

        * TestExpectations:
        * tests-options.json:

2021-09-13  Kimmo Kinnunen  <kkinnunen@apple.com>

        image-rendering: pixelated does not work with WebGL (but does with Canvas2D)
        https://bugs.webkit.org/show_bug.cgi?id=193895
        <rdar://problem/47656086>

        Reviewed by Simon Fraser.

        Add a test comparing upscaling of WebGL canvas element and an image element
        with the same contents when using image-rendering: properties.

        * platform/mac/webgl/webgl-image-rendering-expected.png: Added.
        * webgl/webgl-image-rendering-expected.txt: Added.
        * webgl/webgl-image-rendering.html: Added.

2021-09-13  Eric Hutchison  <ehutchison@apple.com>

        Updated test expectations for performance-api/performance-observer-no-document-leak.html.
        <rdar://82035182>.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-13  Eric Hutchison  <ehutchison@apple.com>

        Updated test expectations for security/contentSecurityPolicy/image-with-file-url-allowed-by-img-src-star.html.
        <rdar://82034073>.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-13  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for css3/background/background-repeat-round-padding.html and css3/background/background-repeat-round-border.html.
        <rdar://82000141>.

        Unreviewed test gardening.

        * platform/ios/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-09-12  Myles C. Maxfield  <mmaxfield@apple.com>

        [Cocoa] Drawing the rounded system ui font into canvas causes a crash
        https://bugs.webkit.org/show_bug.cgi?id=230187
        <rdar://problem/81436658>

        Reviewed by Wenson Hsieh.

        * fast/text/canvas-fonts-expected.txt: Added.
        * fast/text/canvas-fonts.html: Added.

2021-09-12  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        Rebaselined after r282256 and r282306.

        * platform/wincairo/css1/basic/contextual_selectors-expected.txt:
        * platform/wincairo/css1/basic/id_as_selector-expected.txt:
        * platform/wincairo/css1/basic/inheritance-expected.txt:
        * platform/wincairo/css1/box_properties/border-expected.txt:
        * platform/wincairo/css1/box_properties/border_bottom-expected.txt:
        * platform/wincairo/css1/box_properties/border_bottom_width-expected.txt:
        * platform/wincairo/css1/box_properties/border_left-expected.txt:
        * platform/wincairo/css1/box_properties/border_right_inline-expected.txt:
        * platform/wincairo/css1/box_properties/border_top-expected.txt:
        * platform/wincairo/css1/box_properties/clear_float-expected.txt:
        * platform/wincairo/css1/box_properties/float_elements_in_series-expected.txt:
        * platform/wincairo/css1/box_properties/float_margin-expected.txt:
        * platform/wincairo/css1/box_properties/margin-expected.txt:
        * platform/wincairo/css1/box_properties/margin_bottom-expected.txt:
        * platform/wincairo/css1/box_properties/margin_top-expected.txt:
        * platform/wincairo/css1/box_properties/padding-expected.txt:
        * platform/wincairo/css1/box_properties/padding_bottom-expected.txt:
        * platform/wincairo/css1/box_properties/padding_top-expected.txt:
        * platform/wincairo/css1/box_properties/width-expected.txt:
        * platform/wincairo/css1/color_and_background/background_attachment-expected.txt:
        * platform/wincairo/css1/font_properties/font-expected.txt:
        * platform/wincairo/css1/font_properties/font_size-expected.txt:
        * platform/wincairo/css1/font_properties/font_weight-expected.txt:
        * platform/wincairo/css1/formatting_model/floating_elements-expected.txt:
        * platform/wincairo/css1/formatting_model/vertical_formatting-expected.txt:
        * platform/wincairo/css1/pseudo/firstletter-expected.txt:
        * platform/wincairo/css1/pseudo/firstline-expected.txt:
        * platform/wincairo/css1/text_properties/vertical_align-expected.txt:
        * platform/wincairo/css2.1/t080301-c411-vt-mrgn-00-b-expected.txt:
        * platform/wincairo/css2.1/t0804-c5510-padn-00-b-ag-expected.txt:
        * platform/wincairo/css2.1/t0905-c414-flt-wrap-00-e-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-01-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-02-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-03-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-04-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-05-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-06-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-07-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-08-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-11-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-12-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-13-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-14-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-15-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-16-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-17-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-18-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-19-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-21-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-22-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-23-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-24-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-25-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-26-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-27-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-28-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-29-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-31-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-32-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-33-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-34-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-35-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-36-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-37-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-38-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-39-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-41-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-42-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-43-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-44-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-45-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-46-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-47-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-48-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-49-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-51-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-52-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-53-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-54-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-55-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-56-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-57-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-58-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-59-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-61-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-62-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-63-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-64-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-65-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-66-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-67-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-68-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-69-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-71-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-72-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-73-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-74-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-75-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-76-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-77-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-78-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-79-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-81-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-82-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-83-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-84-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-85-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-86-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-87-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-88-d-expected.txt:
        * platform/wincairo/css2.1/t170602-bdr-conflct-w-89-d-expected.txt:
        * platform/wincairo/css3/flexbox/flexbox-baseline-expected.txt:
        * platform/wincairo/fast/css/acid2-expected.txt:
        * platform/wincairo/fast/css/acid2-pixel-expected.txt:
        * platform/wincairo/fast/css/empty-pseudo-class-expected.txt:
        * platform/wincairo/fast/css/fieldset-display-row-expected.txt:
        * platform/wincairo/fast/css/first-child-pseudo-class-expected.txt:
        * platform/wincairo/fast/css/first-of-type-pseudo-class-expected.txt:
        * platform/wincairo/fast/css/last-child-pseudo-class-expected.txt:
        * platform/wincairo/fast/css/last-of-type-pseudo-class-expected.txt:
        * platform/wincairo/fast/css/only-child-pseudo-class-expected.txt:
        * platform/wincairo/fast/css/only-of-type-pseudo-class-expected.txt:
        * platform/wincairo/fast/dynamic/013-expected.txt:
        * platform/wincairo/fast/dynamic/insert-before-table-part-in-continuation-expected.txt:
        * platform/wincairo/fast/line-grid/line-grid-contains-value-expected.txt:
        * platform/wincairo/fast/text/capitalize-boundaries-expected.txt:
        * platform/wincairo/fast/text/whitespace/024-expected.txt:
        * platform/wincairo/http/tests/misc/acid2-expected.txt:
        * platform/wincairo/http/tests/misc/acid2-pixel-expected.txt:

2021-09-12  Simon Fraser  <simon.fraser@apple.com>

        Implement getClientRects() for SVG elements
        https://bugs.webkit.org/show_bug.cgi?id=230197

        Reviewed by Sam Weinig.

        * svg/custom/getClientRects-expected.txt: Added.
        * svg/custom/getClientRects.xhtml: Added.

2021-09-11  Philippe Normand  <pnormand@igalia.com>

        [GLIB] MediaSession is not enabled
        https://bugs.webkit.org/show_bug.cgi?id=217991
        <rdar://problem/70740119>

        Reviewed by Michael Catanzaro.

        * platform/glib/TestExpectations: Unskip media-session tests.

2021-09-10  Alan Bujtas  <zalan@apple.com>

        [Legacy Line Layout] Do not integral round the root inlinebox's top position
        https://bugs.webkit.org/show_bug.cgi?id=227751
        <rdar://problem/80584346>

        Reviewed by Antti Koivisto.

        * TestExpectations: This bug was hiding behind the integral rounding. see https://bugs.webkit.org/show_bug.cgi?id=230171
        * fast/layoutformattingcontext/table-basic-row-baseline-with-nested-table-expected.txt:
        * fast/layoutformattingcontext/table-fixed-width-with-max-distribution-expected.txt:
        * platform/ios/css1/basic/id_as_selector-expected.txt:
        * platform/ios/css1/basic/inheritance-expected.txt:
        * platform/ios/css1/box_properties/border-expected.txt:
        * platform/ios/css1/box_properties/border_bottom-expected.txt:
        * platform/ios/css1/box_properties/border_bottom_width-expected.txt:
        * platform/ios/css1/box_properties/border_left-expected.txt:
        * platform/ios/css1/box_properties/border_right_inline-expected.txt:
        * platform/ios/css1/box_properties/border_top-expected.txt:
        * platform/ios/css1/box_properties/clear_float-expected.txt:
        * platform/ios/css1/box_properties/float_elements_in_series-expected.txt:
        * platform/ios/css1/box_properties/margin-expected.txt:
        * platform/ios/css1/box_properties/margin_bottom-expected.txt:
        * platform/ios/css1/box_properties/margin_top-expected.txt:
        * platform/ios/css1/box_properties/padding-expected.txt:
        * platform/ios/css1/box_properties/padding_bottom-expected.txt:
        * platform/ios/css1/box_properties/padding_top-expected.txt:
        * platform/ios/css1/box_properties/width-expected.txt:
        * platform/ios/css1/color_and_background/background_attachment-expected.txt:
        * platform/ios/css1/font_properties/font-expected.txt:
        * platform/ios/css1/font_properties/font_family-expected.txt:
        * platform/ios/css1/font_properties/font_size-expected.txt:
        * platform/ios/css1/font_properties/font_weight-expected.txt:
        * platform/ios/css1/formatting_model/floating_elements-expected.txt:
        * platform/ios/css1/formatting_model/vertical_formatting-expected.txt:
        * platform/ios/css1/text_properties/line_height-expected.txt:
        * platform/ios/css1/text_properties/vertical_align-expected.txt:
        * platform/ios/css1/units/length_units-expected.txt:
        * platform/ios/css2.1/20110323/border-conflict-style-079-expected.txt:
        * platform/ios/css2.1/20110323/border-conflict-style-088-expected.txt:
        * platform/ios/css2.1/t080301-c411-vt-mrgn-00-b-expected.txt:
        * platform/ios/css2.1/t0804-c5510-padn-00-b-ag-expected.txt:
        * platform/ios/css2.1/t0905-c414-flt-wrap-00-e-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-01-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-02-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-03-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-04-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-05-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-06-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-07-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-08-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-11-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-12-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-13-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-14-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-15-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-16-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-17-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-18-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-19-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-21-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-22-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-23-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-24-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-25-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-26-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-27-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-28-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-29-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-31-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-32-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-33-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-34-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-35-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-36-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-37-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-38-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-39-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-41-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-42-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-43-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-44-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-45-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-46-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-47-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-48-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-49-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-51-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-52-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-53-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-54-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-55-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-56-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-57-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-58-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-59-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-61-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-62-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-63-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-64-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-65-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-66-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-67-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-68-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-69-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-71-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-72-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-73-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-74-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-75-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-76-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-77-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-78-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-79-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-81-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-82-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-83-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-84-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-85-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-86-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-87-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-88-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-89-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-91-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-92-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-93-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-94-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-95-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-96-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-97-d-expected.txt:
        * platform/ios/css2.1/t170602-bdr-conflct-w-98-d-expected.txt:
        * platform/ios/css3/flexbox/flexbox-baseline-expected.txt:
        * platform/ios/editing/selection/3690703-2-expected.txt:
        * platform/ios/editing/selection/3690703-expected.txt:
        * platform/ios/editing/selection/3690719-expected.txt:
        * platform/ios/fast/css/empty-pseudo-class-expected.txt:
        * platform/ios/fast/css/fieldset-display-row-expected.txt:
        * platform/ios/fast/css/first-child-pseudo-class-expected.txt:
        * platform/ios/fast/css/first-of-type-pseudo-class-expected.txt:
        * platform/ios/fast/css/last-child-pseudo-class-expected.txt:
        * platform/ios/fast/css/last-of-type-pseudo-class-expected.txt:
        * platform/ios/fast/css/only-child-pseudo-class-expected.txt:
        * platform/ios/fast/css/only-of-type-pseudo-class-expected.txt:
        * platform/ios/fast/dynamic/013-expected.txt:
        * platform/ios/fast/forms/input-table-expected.txt:
        * platform/ios/fast/forms/input-value-expected.txt:
        * platform/ios/fast/invalid/td-inside-object-expected.txt:
        * platform/ios/fast/multicol/nested-columns-expected.txt:
        * platform/ios/fast/multicol/span/span-as-immediate-columns-child-expected.txt:
        * platform/ios/fast/replaced/width100percent-image-expected.txt:
        * platform/ios/fast/replaced/width100percent-searchfield-expected.txt:
        * platform/ios/fast/replaced/width100percent-textfield-expected.txt:
        * platform/ios/fast/table/border-collapsing/002-expected.txt:
        * platform/ios/fast/table/border-collapsing/002-vertical-expected.txt:
        * platform/ios/fast/table/border-collapsing/004-expected.txt:
        * platform/ios/fast/table/border-collapsing/border-collapsing-head-foot-expected.txt:
        * platform/ios/fast/table/colgroup-spanning-groups-rules-expected.txt:
        * platform/ios/fast/table/empty-cells-expected.txt:
        * platform/ios/fast/table/frame-and-rules-expected.txt:
        * platform/ios/fast/table/multiple-percent-height-rows-expected.txt:
        * platform/ios/fast/table/rowspan-paint-order-expected.txt:
        * platform/ios/fast/table/rules-attr-dynchange1-expected.txt:
        * platform/ios/fast/table/rules-attr-dynchange2-expected.txt:
        * platform/ios/fast/text/international/bidi-override-expected.txt:
        * platform/ios/fast/transforms/bounding-rect-zoom-expected.txt:
        * platform/ios/svg/as-background-image/background-image-preserveaspectRatio-support-expected.txt:
        * platform/ios/svg/as-image/img-preserveAspectRatio-support-1-expected.txt:
        * platform/ios/svg/custom/svg-fonts-in-html-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug101674-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug10296-1-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug1055-1-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug10633-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug110566-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug11944-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug1296-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug133756-2-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug1430-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug14323-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug17138-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug18359-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug18440-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug2267-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug24200-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug3103-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug32205-2-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug3977-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug43854-2-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug55527-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug55545-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug57300-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug59354-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug6304-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug7342-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug7714-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug8950-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug97138-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug97383-expected.txt:
        * platform/ios/tables/mozilla/collapsing_borders/bug41262-3-expected.txt:
        * platform/ios/tables/mozilla/collapsing_borders/bug41262-4-expected.txt:
        * platform/ios/tables/mozilla/core/cell_heights-expected.txt:
        * platform/ios/tables/mozilla/core/table_rules-expected.txt:
        * platform/ios/tables/mozilla/marvin/backgr_layers-opacity-expected.txt:
        * platform/ios/tables/mozilla/marvin/backgr_position-table-expected.txt:
        * platform/ios/tables/mozilla/marvin/backgr_simple-table-cell-expected.txt:
        * platform/ios/tables/mozilla/marvin/backgr_simple-table-column-expected.txt:
        * platform/ios/tables/mozilla/marvin/backgr_simple-table-column-group-expected.txt:
        * platform/ios/tables/mozilla/marvin/backgr_simple-table-expected.txt:
        * platform/ios/tables/mozilla/marvin/backgr_simple-table-row-expected.txt:
        * platform/ios/tables/mozilla/marvin/backgr_simple-table-row-group-expected.txt:
        * platform/ios/tables/mozilla/marvin/table_rules_all-expected.txt:
        * platform/ios/tables/mozilla/marvin/table_rules_none-expected.txt:
        * platform/ios/tables/mozilla/marvin/tbody_valign_middle-expected.txt:
        * platform/ios/tables/mozilla/marvin/td_valign_middle-expected.txt:
        * platform/ios/tables/mozilla/marvin/tfoot_valign_middle-expected.txt:
        * platform/ios/tables/mozilla/marvin/th_valign_middle-expected.txt:
        * platform/ios/tables/mozilla/marvin/thead_valign_middle-expected.txt:
        * platform/ios/tables/mozilla/marvin/tr_valign_middle-expected.txt:
        * platform/ios/tables/mozilla/marvin/x_col_valign_baseline-expected.txt:
        * platform/ios/tables/mozilla/marvin/x_col_valign_bottom-expected.txt:
        * platform/ios/tables/mozilla/marvin/x_col_valign_middle-expected.txt:
        * platform/ios/tables/mozilla/marvin/x_col_valign_top-expected.txt:
        * platform/ios/tables/mozilla/marvin/x_colgroup_valign_baseline-expected.txt:
        * platform/ios/tables/mozilla/marvin/x_colgroup_valign_bottom-expected.txt:
        * platform/ios/tables/mozilla/marvin/x_colgroup_valign_middle-expected.txt:
        * platform/ios/tables/mozilla/marvin/x_colgroup_valign_top-expected.txt:
        * platform/ios/tables/mozilla/marvin/x_table_rules_groups-expected.txt:
        * platform/ios/tables/mozilla/marvin/x_table_rules_none-expected.txt:
        * platform/ios/tables/mozilla/marvin/x_tbody_valign_middle-expected.txt:
        * platform/ios/tables/mozilla/marvin/x_td_valign_middle-expected.txt:
        * platform/ios/tables/mozilla/marvin/x_tfoot_valign_middle-expected.txt:
        * platform/ios/tables/mozilla/marvin/x_th_valign_middle-expected.txt:
        * platform/ios/tables/mozilla/marvin/x_thead_valign_middle-expected.txt:
        * platform/ios/tables/mozilla/marvin/x_tr_valign_middle-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/bugs/97619-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/bugs/bug1055-2-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/bugs/bug19526-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/bugs/bug89315-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/bugs/bug92647-1-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/collapsing_borders/bug41262-1-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/collapsing_borders/bug41262-6-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/marvin/backgr_border-table-cell-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/marvin/backgr_border-table-column-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/marvin/backgr_border-table-column-group-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/marvin/backgr_border-table-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/marvin/backgr_border-table-quirks-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/marvin/backgr_border-table-row-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/marvin/backgr_border-table-row-group-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/marvin/backgr_fixed-bg-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/marvin/backgr_layers-hide-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/marvin/backgr_layers-show-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/marvin/backgr_position-table-cell-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/marvin/backgr_position-table-column-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/marvin/backgr_position-table-column-group-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/marvin/backgr_position-table-row-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/marvin/backgr_position-table-row-group-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/marvin/table_rules_cols-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/marvin/table_rules_rows-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/marvin/x_table_rules_all-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/marvin/x_table_rules_cols-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/marvin/x_table_rules_rows-expected.txt:
        * platform/mac-catalina/editing/selection/3690703-2-expected.txt:
        * platform/mac-catalina/editing/selection/3690703-expected.txt:
        * platform/mac-catalina/editing/selection/3690719-expected.txt:
        * platform/mac-catalina/fast/forms/input-table-expected.txt:
        * platform/mac-catalina/fast/forms/input-value-expected.txt:
        * platform/mac-catalina/fast/text/capitalize-boundaries-expected.txt:
        * platform/mac-catalina/tables/mozilla/bugs/bug18359-expected.txt:
        * platform/mac-catalina/tables/mozilla/bugs/bug7342-expected.txt:
        * platform/mac/css1/basic/id_as_selector-expected.txt:
        * platform/mac/css1/basic/inheritance-expected.txt:
        * platform/mac/css1/box_properties/border_bottom-expected.txt:
        * platform/mac/css1/box_properties/border_bottom_width-expected.txt:
        * platform/mac/css1/box_properties/border_left-expected.txt:
        * platform/mac/css1/box_properties/border_right_inline-expected.txt:
        * platform/mac/css1/box_properties/border_top-expected.txt:
        * platform/mac/css1/box_properties/clear_float-expected.txt:
        * platform/mac/css1/box_properties/float_elements_in_series-expected.txt:
        * platform/mac/css1/box_properties/float_margin-expected.txt:
        * platform/mac/css1/box_properties/float_on_text_elements-expected.txt:
        * platform/mac/css1/box_properties/margin-expected.txt:
        * platform/mac/css1/box_properties/margin_bottom-expected.txt:
        * platform/mac/css1/box_properties/margin_top-expected.txt:
        * platform/mac/css1/box_properties/padding-expected.txt:
        * platform/mac/css1/box_properties/padding_bottom-expected.txt:
        * platform/mac/css1/box_properties/padding_top-expected.txt:
        * platform/mac/css1/box_properties/width-expected.txt:
        * platform/mac/css1/classification/list_style-expected.txt:
        * platform/mac/css1/classification/list_style_image-expected.txt:
        * platform/mac/css1/color_and_background/background_attachment-expected.txt:
        * platform/mac/css1/font_properties/font-expected.txt:
        * platform/mac/css1/font_properties/font_size-expected.txt:
        * platform/mac/css1/font_properties/font_weight-expected.txt:
        * platform/mac/css1/formatting_model/floating_elements-expected.txt:
        * platform/mac/css1/formatting_model/replaced_elements-expected.txt:
        * platform/mac/css1/formatting_model/vertical_formatting-expected.txt:
        * platform/mac/css1/pseudo/firstletter-expected.txt:
        * platform/mac/css1/pseudo/firstline-expected.txt:
        * platform/mac/css1/pseudo/multiple_pseudo_elements-expected.txt:
        * platform/mac/css1/text_properties/text_decoration-expected.txt:
        * platform/mac/css1/text_properties/vertical_align-expected.txt:
        * platform/mac/css2.1/t080301-c411-vt-mrgn-00-b-expected.txt:
        * platform/mac/css2.1/t0804-c5510-padn-00-b-ag-expected.txt:
        * platform/mac/css2.1/t0905-c414-flt-wrap-00-e-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-01-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-02-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-03-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-04-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-05-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-06-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-07-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-08-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-11-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-12-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-13-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-14-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-15-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-16-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-17-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-18-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-19-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-21-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-22-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-23-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-24-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-25-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-26-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-27-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-28-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-29-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-31-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-32-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-33-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-34-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-35-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-36-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-37-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-38-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-39-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-41-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-42-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-43-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-44-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-45-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-46-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-47-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-48-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-49-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-51-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-52-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-53-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-54-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-55-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-56-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-57-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-58-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-59-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-61-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-62-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-63-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-64-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-65-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-66-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-67-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-68-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-69-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-71-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-72-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-73-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-74-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-75-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-76-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-77-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-78-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-79-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-81-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-82-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-83-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-84-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-85-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-86-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-87-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-88-d-expected.txt:
        * platform/mac/css2.1/t170602-bdr-conflct-w-89-d-expected.txt:
        * platform/mac/css3/flexbox/flexbox-baseline-expected.txt:
        * platform/mac/editing/deleting/5144139-2-expected.txt:
        * platform/mac/editing/selection/3690703-2-expected.txt:
        * platform/mac/editing/selection/3690703-expected.txt:
        * platform/mac/editing/selection/3690719-expected.txt:
        * platform/mac/fast/css/empty-pseudo-class-expected.txt:
        * platform/mac/fast/css/fieldset-display-row-expected.txt:
        * platform/mac/fast/css/first-child-pseudo-class-expected.txt:
        * platform/mac/fast/css/first-of-type-pseudo-class-expected.txt:
        * platform/mac/fast/css/last-child-pseudo-class-expected.txt:
        * platform/mac/fast/css/last-of-type-pseudo-class-expected.txt:
        * platform/mac/fast/css/only-child-pseudo-class-expected.txt:
        * platform/mac/fast/css/only-of-type-pseudo-class-expected.txt:
        * platform/mac/fast/dynamic/013-expected.txt:
        * platform/mac/fast/forms/basic-buttons-expected.txt:
        * platform/mac/fast/forms/input-table-expected.txt:
        * platform/mac/fast/forms/input-value-expected.txt:
        * platform/mac/fast/invalid/td-inside-object-expected.txt:
        * platform/mac/fast/line-grid/line-grid-contains-value-expected.txt:
        * platform/mac/fast/multicol/nested-columns-expected.txt:
        * platform/mac/fast/multicol/span/span-as-immediate-columns-child-expected.txt:
        * platform/mac/fast/replaced/width100percent-image-expected.txt:
        * platform/mac/fast/replaced/width100percent-searchfield-expected.txt:
        * platform/mac/fast/replaced/width100percent-textfield-expected.txt:
        * platform/mac/fast/table/003-expected.txt:
        * platform/mac/fast/table/025-expected.txt:
        * platform/mac/fast/table/empty-cells-expected.txt:
        * platform/mac/fast/table/frame-and-rules-expected.txt:
        * platform/mac/fast/table/multiple-percent-height-rows-expected.txt:
        * platform/mac/fast/table/rowspan-paint-order-expected.txt:
        * platform/mac/fast/text/capitalize-boundaries-expected.txt:
        * platform/mac/fast/text/international/bidi-LDB-2-CSS-expected.txt:
        * platform/mac/fast/text/international/bidi-LDB-2-HTML-expected.txt:
        * platform/mac/fast/text/international/bidi-LDB-2-formatting-characters-expected.txt:
        * platform/mac/fast/text/international/bidi-override-expected.txt:
        * platform/mac/fast/text/textIteratorNilRenderer-expected.txt:
        * platform/mac/fast/text/whitespace/024-expected.txt:
        * platform/mac/fast/text/word-break-expected.txt:
        * platform/mac/fast/transforms/bounding-rect-zoom-expected.txt:
        * platform/mac/svg/zoom/page/zoom-img-preserveAspectRatio-support-1-expected.txt:
        * platform/mac/svg/zoom/page/zoom-svg-through-object-with-absolute-size-2-expected.txt:
        * platform/mac/svg/zoom/page/zoom-svg-through-object-with-absolute-size-expected.txt:
        * platform/mac/svg/zoom/page/zoom-svg-through-object-with-percentage-size-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug101674-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug10296-1-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug1055-1-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug110566-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug11944-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug126742-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug1296-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug133756-2-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug1430-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug14323-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug17138-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug18359-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug18440-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug2267-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug3103-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug32205-2-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug3977-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug45055-2-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug46368-1-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug46368-2-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug55527-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug55545-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug57300-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug59354-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug6304-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug7342-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug7714-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug8950-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug97138-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug97383-expected.txt:
        * platform/mac/tables/mozilla/collapsing_borders/bug41262-3-expected.txt:
        * platform/mac/tables/mozilla/core/cell_heights-expected.txt:
        * platform/mac/tables/mozilla/marvin/backgr_layers-opacity-expected.txt:
        * platform/mac/tables/mozilla/marvin/backgr_position-table-expected.txt:
        * platform/mac/tables/mozilla/marvin/backgr_simple-table-cell-expected.txt:
        * platform/mac/tables/mozilla/marvin/backgr_simple-table-column-expected.txt:
        * platform/mac/tables/mozilla/marvin/backgr_simple-table-column-group-expected.txt:
        * platform/mac/tables/mozilla/marvin/backgr_simple-table-expected.txt:
        * platform/mac/tables/mozilla/marvin/backgr_simple-table-row-expected.txt:
        * platform/mac/tables/mozilla/marvin/backgr_simple-table-row-group-expected.txt:
        * platform/mac/tables/mozilla/marvin/tbody_valign_middle-expected.txt:
        * platform/mac/tables/mozilla/marvin/td_valign_middle-expected.txt:
        * platform/mac/tables/mozilla/marvin/tfoot_valign_middle-expected.txt:
        * platform/mac/tables/mozilla/marvin/th_valign_middle-expected.txt:
        * platform/mac/tables/mozilla/marvin/thead_valign_middle-expected.txt:
        * platform/mac/tables/mozilla/marvin/tr_valign_middle-expected.txt:
        * platform/mac/tables/mozilla_expected_failures/bugs/97619-expected.txt:
        * platform/mac/tables/mozilla_expected_failures/bugs/bug19526-expected.txt:
        * platform/mac/tables/mozilla_expected_failures/bugs/bug92647-1-expected.txt:
        * platform/mac/tables/mozilla_expected_failures/collapsing_borders/bug41262-1-expected.txt:
        * platform/mac/tables/mozilla_expected_failures/marvin/backgr_border-table-cell-expected.txt:
        * platform/mac/tables/mozilla_expected_failures/marvin/backgr_border-table-column-expected.txt:
        * platform/mac/tables/mozilla_expected_failures/marvin/backgr_border-table-column-group-expected.txt:
        * platform/mac/tables/mozilla_expected_failures/marvin/backgr_border-table-expected.txt:
        * platform/mac/tables/mozilla_expected_failures/marvin/backgr_border-table-quirks-expected.txt:
        * platform/mac/tables/mozilla_expected_failures/marvin/backgr_border-table-row-expected.txt:
        * platform/mac/tables/mozilla_expected_failures/marvin/backgr_border-table-row-group-expected.txt:
        * platform/mac/tables/mozilla_expected_failures/marvin/backgr_fixed-bg-expected.txt:
        * platform/mac/tables/mozilla_expected_failures/marvin/backgr_layers-hide-expected.txt:
        * platform/mac/tables/mozilla_expected_failures/marvin/backgr_layers-show-expected.txt:
        * platform/mac/tables/mozilla_expected_failures/marvin/backgr_position-table-cell-expected.txt:
        * platform/mac/tables/mozilla_expected_failures/marvin/backgr_position-table-column-expected.txt:
        * platform/mac/tables/mozilla_expected_failures/marvin/backgr_position-table-column-group-expected.txt:
        * platform/mac/tables/mozilla_expected_failures/marvin/backgr_position-table-row-expected.txt:
        * platform/mac/tables/mozilla_expected_failures/marvin/backgr_position-table-row-group-expected.txt:

2021-09-10  Chris Dumez  <cdumez@apple.com>

        Implement navigation reporting for Cross-Origin-Opener-Policy
        https://bugs.webkit.org/show_bug.cgi?id=230046

        Reviewed by Alex Christensen.

        Unskip COOP navigation reporting tests.

        * TestExpectations:

2021-09-10  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for fast/events/ios/rotation/basic-rotation.html.
        <rdar://82259067>.

        Unreviewed test gardening .

        * platform/ios-wk2/TestExpectations:

2021-09-10  Eric Hutchison  <ehutchison@apple.com>

        Remove test expectations for storage/indexeddb/dont-wedge-private.html.
        <rdar://82134088>.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-09-10  Robert Jenner  <Jenner@apple.com>

        [ macOS ] media/modern-media-controls/seek-forward-support/seek-forward-support.html is a flakey timeout
        https://bugs.webkit.org/show_bug.cgi?id=224297

        Unreviewed test gardening. Removing no longer needed expectation.

        * platform/mac/TestExpectations:

2021-09-10  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur arm64 EWS ] ASSERTION FAILED: !needsLayout() ./rendering/RenderView.cpp(306) : virtual void WebCore::RenderView::paint(WebCore::PaintInfo 
        https://bugs.webkit.org/show_bug.cgi?id=230105

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-10  Simon Fraser  <simon.fraser@apple.com>

        Update css-transforms WPT
        https://bugs.webkit.org/show_bug.cgi?id=230115

        Reviewed by Alan Bujtas.

        Update css/css-transforms and css/supports from WPT 35ca181a5e60c920f21c58333238e303e140bb9b.

        * TestExpectations:
        * platform/ios-wk2/TestExpectations:
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/css-transforms/crashtests/large-scaley-001-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/css-transforms/crashtests/preserve3d-scene-001-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/css-transforms/crashtests/preserve3d-scene-002-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/css-transforms/crashtests/transform-marquee-resize-div-image-001-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/css-transforms/crashtests/w-negative-001-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/css-transforms/crashtests/w-negative-002-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/css-transforms/crashtests/w-negative-003-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/css-transforms/css-transform-inherit-rotate-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/css-transforms/large-matrix-crash-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/css-transforms/rotate-180-degrees-001-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/css-transforms/rotate-270-degrees-001-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/css-transforms/rotate-90-degrees-001-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/css-transforms/text-perspective-001-expected.txt: Added.
        * tests-options.json:

2021-09-10  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Add platform-specific baselines for WPT canvas tests added in r282203
        https://bugs.webkit.org/show_bug.cgi?id=230163

        Unreviewed test gardening.

        * platform/glib/imported/w3c/web-platform-tests/html/canvas/element/manual/drawing-images-to-the-canvas/drawimage_canvas-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/html/canvas/element/manual/image-smoothing/imagesmoothing-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/html/canvas/element/manual/imagebitmap/canvas-createImageBitmap-resize-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/html/canvas/element/manual/imagebitmap/createImageBitmap-drawImage-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/html/canvas/element/manual/imagebitmap/createImageBitmap-flipY-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/html/canvas/element/manual/imagebitmap/createImageBitmap-invalid-args-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/html/canvas/element/manual/imagebitmap/createImageBitmap-serializable-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/html/canvas/element/manual/imagebitmap/createImageBitmap-transfer-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/html/canvas/element/manual/shadows/shadowBlur_gaussian_tolerance.1-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/html/canvas/element/manual/wide-gamut-canvas/canvas-createImageBitmap-e_srgb-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/html/canvas/element/manual/wide-gamut-canvas/canvas-draw-high-bit-depth-images-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/html/canvas/element/manual/wide-gamut-canvas/canvas-drawImage-offscreenCanvas-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/html/canvas/element/manual/wide-gamut-canvas/canvas-getImageData-e_srgb-expected.txt: Added.

2021-09-10  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test baselines after r282256
        https://bugs.webkit.org/show_bug.cgi?id=230160

        Unreviewed test gardening.

        * platform/glib/fast/css/acid2-pixel-expected.txt:
        * platform/glib/tables/mozilla/bugs/bug3037-1-expected.txt:
        * platform/gtk/fast/css/acid2-expected.txt:
        * platform/gtk/fast/dynamic/insert-before-table-part-in-continuation-expected.txt:
        * platform/gtk/http/tests/misc/acid2-expected.txt:
        * platform/gtk/http/tests/misc/acid2-pixel-expected.txt:
        * platform/wpe/fast/css/acid2-expected.txt:
        * platform/wpe/fast/dynamic/insert-before-table-part-in-continuation-expected.txt:
        * platform/wpe/http/tests/misc/acid2-expected.txt:
        * platform/wpe/http/tests/misc/acid2-pixel-expected.txt:

2021-09-10  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ MacOS EWS ] imported/w3c/web-platform-tests/html/dom/idlharness.https.html is flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=229831

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations: Added DumpJSConsoleLogInStdErr property.

2021-09-10  Youenn Fablet  <youenn@apple.com>

        Migrate some WPT WebRTC tests off of legacy offerToReceive parameters
        https://bugs.webkit.org/show_bug.cgi?id=230000

        Reviewed by Eric Carlson.

        * TestExpectations:
        Mark new test as flaky.

2021-09-10  Alan Bujtas  <zalan@apple.com>

        css/css-position/position-absolute-dynamic-static-position-table-cell.html fails
        https://bugs.webkit.org/show_bug.cgi?id=203448

        Unreviewed.

        * TestExpectations: Progressed at r268616.

2021-09-10  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ MacOS wk2 & iOS Release ]imported/w3c/web-platform-tests/webrtc/no-media-call.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230157

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-09-10  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Mac WK2 & iOS ] imported/w3c/web-platform-tests/webrtc/RTCPeerConnection-connectionState.https.html is flaky.
        https://bugs.webkit.org/show_bug.cgi?id=214286

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-09-10  Alan Bujtas  <zalan@apple.com>

        Unreviewed test gardening after r282266.

        * platform/ios/fast/table/border-collapsing/cached-change-row-border-width-expected.txt:

2021-09-07  Sergio Villar Senin  <svillar@igalia.com>

        [css-flexbox] Add support for self-start & self-end css-align-3 positional alignment properties
        https://bugs.webkit.org/show_bug.cgi?id=229996

        Reviewed by Manuel Rego Casasnovas.

        * TestExpectations: Removed a couple of tests that are now passing.

2021-09-10  Alan Bujtas  <zalan@apple.com>

        changing border size on rows with border-collapse not redrawing
        https://bugs.webkit.org/show_bug.cgi?id=116868
        <rdar://problem/82844412>

        Reviewed by Simon Fraser.

        * fast/table/collapsed-border-width-change-on-row-expected.html: Added.
        * fast/table/collapsed-border-width-change-on-row.html: Added.

2021-09-10  Rob Buis  <rbuis@igalia.com>

        Fix aspect-ratio-intrinsic-size-004.html
        https://bugs.webkit.org/show_bug.cgi?id=228283

        Reviewed by Sergio Villar Senin.

        * TestExpectations:

2021-09-09  Frédéric Wang  <fwang@igalia.com>

        Nullptr crash in CompositeEditCommand::splitTreeToNode via InsertParagraphSeparatorCommand::doApply
        https://bugs.webkit.org/show_bug.cgi?id=229276

        Reviewed by Ryosuke Niwa.

        Add regression tests for a crash and an assert in CompositeEditCommand::splitTreeToNode.

        * editing/execCommand/indent-input-in-image-crash-expected.txt: Added.
        * editing/execCommand/indent-input-in-image-crash.html: Added.
        * editing/execCommand/indent-input-in-image-editing-ignores-content-assert-expected.txt: Added.
        * editing/execCommand/indent-input-in-image-editing-ignores-content-assert.html: Added.

2021-09-09  Alan Bujtas  <zalan@apple.com>

        [Table layout] Incorrect vertical position when the inline level box has 0px used height.
        https://bugs.webkit.org/show_bug.cgi?id=230118

        Reviewed by Antti Koivisto.

        * fast/table/vertical-position-with-0-height-box-expected.txt: Added.
        * fast/table/vertical-position-with-0-height-box.html: Added.

2021-09-09  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo-wk1/TestExpectations:
        * platform/wincairo/TestExpectations:

2021-09-09  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] editing/selection/ios/select-text-under-hidden-subframe.html is timing out.
        https://bugs.webkit.org/show_bug.cgi?id=230127#c4

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-09-09  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] Rebaselining 2 imported/w3c/web-platform-tests/css/cssom-view/* tests.
        https://bugs.webkit.org/show_bug.cgi?id=230123

        Unreviewed test gardening.

        * platform/ios-simulator-wk2/imported/w3c/web-platform-tests/css/cssom-view/offsetTopLeft-empty-inline-expected.txt:
        * platform/ios-simulator-wk2/imported/w3c/web-platform-tests/css/cssom-view/offsetTopLeft-leading-space-inline-expected.txt:

2021-09-09  Simon Fraser  <simon.fraser@apple.com>

        right- and bottom-relative values in background-position-x/y don't work
        https://bugs.webkit.org/show_bug.cgi?id=202148

        Reviewed by Antti Koivisto.

        Ref test for various background-position-* values. Adjust for serialization output changes.

        * fast/backgrounds/background-position-xy-expected.html: Added.
        * fast/backgrounds/background-position-xy.html: Added.
        * fast/css/background-position-serialize-expected.txt:
        * fast/css/background-position-serialize.html:
        * transitions/background-position-transitions-expected.txt:
        * transitions/background-position-transitions.html:

2021-09-09  Eric Hutchison  <ehutchison@apple.com>

        [BigSur wk2 Debug] 4 http/tests/inspector/network/ tests are flaky fails.
        https://bugs.webkit.org/show_bug.cgi?id=230117.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-09  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ MacOS ] imported/w3c/web-platform-tests/webrtc-extensions/transfer-datachannel.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230116

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-09-09  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for http/tests/inspector/network/har/har-page-aggressive-gc.html.
        https://bugs.webkit.org/show_bug.cgi?id=230056.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-09  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur arm64 EWS ] ASSERTION FAILED: !needsLayout() ./rendering/RenderView.cpp(305) : virtual void WebCore::RenderView::paint(WebCore::PaintInfo &, const WebCore::LayoutPoint &).
        https://bugs.webkit.org/show_bug.cgi?id=230113

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-09  Eric Hutchison  <ehutchison@apple.com>

        [BigSur wk2] http/tests/fetch/redirectmode-and-preload.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230112.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-09  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur arm64 EWS ] ASSERTION FAILED: m_globalScope->hasOneRef() ./workers/WorkerOrWorkletThread.cpp(155) : void WebCore::WorkerOrWorkletThread::workerOrWorkletThread().
        https://bugs.webkit.org/show_bug.cgi?id=230109

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-09  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur arm64 EWS ] ASSERTION FAILED: !needsLayout() ./rendering/RenderView.cpp(306) : virtual void WebCore::RenderView::paint(WebCore::PaintInfo &, const WebCore::LayoutPoint &).
        https://bugs.webkit.org/show_bug.cgi?id=230105

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-09  Youenn Fablet  <youenn@apple.com>

        Update RTCPeerConnection descriptions as per specification
        https://bugs.webkit.org/show_bug.cgi?id=229963

        Reviewed by Eric Carlson.

        Now that we update descriptions at specific times,
        we need to wait a bit to get the description.

        * webrtc/datachannel/mdns-ice-candidates.html:

2021-09-09  Eric Hutchison  <ehutchison@apple.com>

         [iOS14 Sim Release iPhone] fast/sub-pixel/auto-table-layout-should-avoid-text-wrapping.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=230099.

        Unreviewed test gardening.

        * platform/ios-14-wk2/TestExpectations:

2021-09-09  Frederic Wang  <fwang@igalia.com>

        Chromium test-case asserts with ASSERTION FAILED: propertyMissingOrEqualToNone
        https://bugs.webkit.org/show_bug.cgi?id=202904

        Reviewed by Darin Adler.

        Import regression test from Blink.

        * imported/blink/editing/execCommand/justify-right-in-effect-crash-expected.txt: Added.
        * imported/blink/editing/execCommand/justify-right-in-effect-crash.html: Added.

2021-09-09  Manuel Rego Casasnovas  <rego@igalia.com>

        [css-text-decor] Update WPT test suite
        https://bugs.webkit.org/show_bug.cgi?id=230042

        Reviewed by Rob Buis.

        * TestExpectations: Mark some test failures.

2021-09-09  Enrique Ocaña González  <eocanha@igalia.com>

        [Gstreamer] timeouts in media/media-source/media-source-has-audio-video.html and media/media-source/media-source-seek-unbuffered.html
        https://bugs.webkit.org/show_bug.cgi?id=227258
        <rdar://problem/79625722>

        Reviewed by Alicia Boya Garcia.

        The media-source-seek-unbuffered.html test was feeding only one segment
        (1 second) to the SourceBuffer, but the libav h264 decoder used by the
        glib ports needs more data to start producing decoded output.
        The test was modified to append two segments (2 seconds) instead and now
        the test passes.

        The concatArrayBuffers() function from the media-source-error-crash.html
        test was refactored as MediaSourceLoader.concatenateMediaSegments() and
        reused in media-source-seek-unbuffered.html.

        * media/media-source/media-source-error-crash-expected.txt: Expect different concatenation expression.
        * media/media-source/media-source-error-crash.html: Removed concatArrayBuffers() and use MediaSourceLoader.concatenateMediaSegments() instead.
        * media/media-source/media-source-loader.js:
        (MediaSourceLoader.prototype.concatenateMediaSegments): New method that concatenates two media segments (ArrayBuffers).
        * media/media-source/media-source-seek-unbuffered-expected.txt: Modified expectations to expect a different removed range and a more legible currentTime check.
        * media/media-source/media-source-seek-unbuffered.html: Append 2 segments, remove [0.5, 2] instead of [0.5, 1] and improve legibility of currentTime check.
        * platform/glib/TestExpectations: Unskipped test.

2021-09-09  Cameron McCormack  <heycam@apple.com>

        Update WPT tests under /html/canvas/element
        https://bugs.webkit.org/show_bug.cgi?id=229750
        <rdar://problem/82610102>

        Reviewed by Youenn Fablet.

        * TestExpectations:
        * platform/ios/TestExpectations:
        * platform/ios/imported/w3c/web-platform-tests/html/canvas/element/manual/wide-gamut-canvas/canvas-draw-high-bit-depth-images-expected.txt: Added.
        * platform/mac-bigsur/imported/w3c/web-platform-tests/html/canvas/element/manual/wide-gamut-canvas/canvas-draw-high-bit-depth-images-expected.txt: Added.
        * platform/mac-catalina/TestExpectations:
        * platform/mac-catalina/imported/w3c/web-platform-tests/html/canvas/element/manual/wide-gamut-canvas/canvas-draw-high-bit-depth-images-expected.txt: Added.
        * platform/mac-wk1/TestExpectations:
        * platform/mac-wk1/imported/w3c/web-platform-tests/html/canvas/element/manual/imagebitmap/createImageBitmap-flipY-expected.txt: Added.
        * platform/mac/TestExpectations:

2021-09-09  Antti Koivisto  <antti@apple.com>

        RenderInline offsetTop/Left should not switch to legacy layout
        https://bugs.webkit.org/show_bug.cgi?id=230040

        Reviewed by Alan Bujtas.

        * editing/selection/doubleclick-beside-cr-span.html:

        Update the test for more standards compliant first inline box position.

2021-09-09  Youenn Fablet  <youenn@apple.com>

        Add support for RTCDataChannel closing event
        https://bugs.webkit.org/show_bug.cgi?id=229988

        Reviewed by Eric Carlson.

        * TestExpectations:
        Unskip no longer timing out test.

2021-09-09  Youenn Fablet  <youenn@apple.com>

        Add support for RTCSctpTransport
        https://bugs.webkit.org/show_bug.cgi?id=229292
        <rdar://problem/82394152>

        Reviewed by Eric Carlson.

        * webrtc/datachannel/dtls10.html:
        We should now check for the RTCSctpTransport's RTCDtlsTransport state
        to identify whether connection is successful or not.

2021-09-09  Jean-Yves Avenard  <jya@apple.com>

        [WebAudio/WebM] Incorrect number of frames returned if decoding frame rate doesn't match original
        https://bugs.webkit.org/show_bug.cgi?id=229251
        rdar://problem/82095650

        Reviewed by Eric Carlson.

        * webaudio/decode-audio-data-webm-opus-resample-expected.txt: Added.
        * webaudio/decode-audio-data-webm-opus-resample.html: Added.

2021-09-07  Tim Nguyen  <ntim@apple.com>

        Re-import css/css-pseudo WPT
        https://bugs.webkit.org/show_bug.cgi?id=230002

        Reviewed by Youenn Fablet.

        https://github.com/web-platform-tests/wpt/commit/b3958a2b77988a3e4c6948dfce1b62f7b0ab04cf

        * tests-options.json:
        * TestExpectations:
        * platform/ios-wk2/TestExpectations:

2021-09-08  Kimmo Kinnunen  <kkinnunen@apple.com>

        webgl/2.0.y/conformance2/vertex_arrays/vertex-array-object.html fails
        https://bugs.webkit.org/show_bug.cgi?id=223360
        <rdar://problem/75774546>

        Reviewed by Dean Jackson.

        Test webgl/2.0.y/conformance2/vertex_arrays/vertex-array-object.html explicitly
        until 2.0.y suite is run by default. Same for 1.0.x.

        * TestExpectations:
        * fast/canvas/webgl/drawElements-empty-vertex-data-expected.txt:
        * fast/canvas/webgl/vertexAttribPointer-with-bad-offset-expected.txt:
        Add console logs for the added errors.
        * platform/ios/TestExpectations:
        * platform/mac/TestExpectations:
        For consistency, remove all skips for vertex-array-object tests.
        They should now work.

2021-09-08  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Unreviewed test gardening. Update some test baselines.
        https://bugs.webkit.org/show_bug.cgi?id=230074

        * platform/glib/webgl/webgl-allow-shared-expected.txt:
        * platform/gtk/fast/dom/navigator-detached-no-crash-expected.txt:
        * platform/wpe/fast/dom/navigator-detached-no-crash-expected.txt:

2021-09-08  Eric Hutchison  <ehutchison@apple.com>

        media/track/track-cue-css.html is a flaky image failure.
        https://bugs.webkit.org/show_bug.cgi?id=230070.

        Unreviewed test gardening.

        * platform/ios-14-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-09-08  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ MacOS wk1 Release ] inspector/dom/shadow-and-non-shadow-children.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230072

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-08  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ MacOS wk1 ] media/video-preload.html is flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=230071

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-08  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur wk2 Debug ] accessibility/mac/native-text-control-set-selected-textmarker-range.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230066

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-08  Eric Hutchison  <ehutchison@apple.com>

        Rebaseline: REGRESSION (282129):[iOS] 3 Layout tests failing consistently.
        https://bugs.webkit.org/show_bug.cgi?id=230063.

        Unreviewed rebaseline.

        * platform/ios/fast/multicol/vertical-lr/float-multicol-expected.txt:
        * platform/ios/fast/multicol/vertical-rl/float-multicol-expected.txt:
        * platform/ios/fast/table/border-collapsing/004-vertical-expected.txt:

2021-09-08  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ MacOS & iOS ] http/tests/loading/basic-auth-load-URL-with-consecutive-slashes.html is a flakey failure.
        https://bugs.webkit.org/show_bug.cgi?id=222563

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk1/TestExpectations:
        * platform/mac/TestExpectations:

2021-09-08  Sihui Liu  <sihui_liu@apple.com>

        Regression (r282130): [ macOS iOS wk2 ] imported/w3c/web-platform-tests/storage/persisted.https.any.html is failing
        https://bugs.webkit.org/show_bug.cgi?id=230053
        <rdar://problem/82879548>

        Reviewed by Chris Dumez.

        Skip storage/ tests on WebKitLegacy platforms as the API is not implemented there.

        * TestExpectations:
        * platform/wk2/TestExpectations:

2021-09-08  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ macOS wk1 ] fast/text/FontFaceSet-check-after-style-update.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230062

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-08  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo/TestExpectations:

2021-09-08  Eric Hutchison  <ehutchison@apple.com>

        [iOS14 Release iPhone] fast/shapes/shape-outside-floats/shape-outside-big-box-border-radius-001.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=230060.

        Unreviewed test gardening .

        * platform/ios-14-wk2/TestExpectations:

2021-09-08  Fujii Hironori  <Hironori.Fujii@sony.com>

        KeyboardEvent should setDefaultHandled if EventHandler::startKeyboardScrolling returns true
        https://bugs.webkit.org/show_bug.cgi?id=229784

        Reviewed by Darin Adler.

        * fast/scrolling/keyboard-scrolling-last-timestamp-expected.txt: Added.
        * fast/scrolling/keyboard-scrolling-last-timestamp.html: Added.

2021-09-08  Myles C. Maxfield  <mmaxfield@apple.com>

        fast/text/FontFaceSet-status-after-style-update.html is flaky.
        https://bugs.webkit.org/show_bug.cgi?id=229975

        Unreviewed.

        internals.clearMemoryCache() only works for fonts if you put it before the @font-face block.

        * TestExpectations:
        * fast/text/FontFaceSet-check-after-style-update.html:
        * fast/text/FontFaceSet-status-after-style-update.html:

2021-09-08  Nikos Mouchtaris  <nmouchtaris@apple.com>

        Implement sin, cos, tan, e and pi for calc
        https://bugs.webkit.org/show_bug.cgi?id=229507

        Reviewed by Simon Fraser.

        * fast/css/calc-parsing.html:
        Added parsing tests for sin, cos, tan, e and pi.

        * css3/calc/trig-functions-with-constants.html: Added.
        Added additional tests for expected behavior of sin, cos, tan, e and pi.

        * LayoutTests/animations/calc-animation-test.html: Added.
        Added animation test for expanding width of box given a width defined using a calc expression
        Involving sin and cos.
        

2021-09-08  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur wk2 Debug ] http/tests/inspector/network/resource-request-headers.html is flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=230056

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-08  Kimmo Kinnunen  <kkinnunen@apple.com>

        webgl/2.0.y/conformance/extensions/webgl-compressed-texture-etc.html fails on Metal
        https://bugs.webkit.org/show_bug.cgi?id=229940

        Reviewed by Dean Jackson.

        Enable webgl/2.0.y/conformance/extensions/webgl-compressed-texture-etc.html
        explicitly until 2.0.y is activated. Same for 1.0.x.

        * webgl/TestExpectations:
        * webgl/webgl-allow-shared-expected.txt:
        The test tests that SharedArrayBuffer does not produce an error for
        when used as TexImageSource. The change makes two compressedTexImage
        calls produce new GL errors due to the extension not being enabled.
        The errors are added to the expected.txt. This does not invalidate
        the objective of the change -- the SharedArrayBuffer type validation
        happens before the GL validation and as such will be visible if
        the objective of the test is broken.

2021-09-08  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur wk1 ] webrtc/datachannel/datachannel-page-cache-send.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=230055

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-08  Chris Dumez  <cdumez@apple.com>

        [ MacOS wk1 ] plugins/get-url-that-the-resource-load-delegate-will-disallow.html is a flaky crash
        https://bugs.webkit.org/show_bug.cgi?id=230050
        <rdar://problem/82877497>

        Unreviewed, prevent popup windows in the test to restore pre-r282103 behavior.

        * platform/mac-wk1/TestExpectations:
        * plugins/get-url-that-the-resource-load-delegate-will-disallow.html:

2021-09-08  Youenn Fablet  <youenn@apple.com>

        Make webrtc/datachannel/getStats-no-prflx-remote-candidate.html provide more meaningful errors
        https://bugs.webkit.org/show_bug.cgi?id=230003

        Reviewed by Eric Carlson.

        * webrtc/datachannel/getStats-no-prflx-remote-candidate.html:
        The test is timing out flakily, add some errors to know where it is timing out.
        Make sure to call send once the local channel is opened.

2021-09-08  Youenn Fablet  <youenn@apple.com>

        webrtc/ephemeral-certificates-and-cnames.html needs to close its connections between two tests
        https://bugs.webkit.org/show_bug.cgi?id=229931

        Reviewed by Eric Carlson.

        * webrtc/ephemeral-certificates-and-cnames.html:
        Close old connections so that we do not start adding ICE candidates from an old connection to a new one.

2021-09-08  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test baselines after r282129
        https://bugs.webkit.org/show_bug.cgi?id=230049

        Unreviewed test gardening.

        * platform/glib/fast/multicol/table-vertical-align-expected.txt:
        * platform/gtk/css1/text_properties/vertical_align-expected.txt:
        * platform/gtk/fast/dom/HTMLProgressElement/progress-element-expected.txt:
        * platform/gtk/fast/multicol/vertical-lr/float-multicol-expected.txt:
        * platform/gtk/fast/multicol/vertical-rl/float-multicol-expected.txt:
        * platform/gtk/fast/text/textIteratorNilRenderer-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug1188-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug126742-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug1318-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug16252-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug4527-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug57828-2-expected.txt:
        * platform/gtk/tables/mozilla/other/ms-expected.txt:
        * platform/wpe/fast/multicol/vertical-lr/float-multicol-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug1188-expected.txt:

2021-09-08  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ MacOS wk1 ]plugins/get-url-that-the-resource-load-delegate-will-disallow.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=230050

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-08  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ macOS and iOS ] editing/deleting/forward-delete-crash.html is timing out.
        https://bugs.webkit.org/show_bug.cgi?id=230047

        Unreviewed test gardening.

        * platform/ipad/TestExpectations:
        * platform/mac/TestExpectations:

2021-09-08  Simon Fraser  <simon.fraser@apple.com>

        Support percentages in the scale() transform functions, and the scale property
        https://bugs.webkit.org/show_bug.cgi?id=202501

        Reviewed by Sam Weinig.
        
        Ref test for scales with %.

        * transforms/2d/scale-percent-expected.html: Added.
        * transforms/2d/scale-percent.html: Added.

2021-09-08  Simon Fraser  <simon.fraser@apple.com>

        Add a temporarily prefixed property for mask-mode, aliased to -webkit-mask-source-type
        https://bugs.webkit.org/show_bug.cgi?id=229915

        Reviewed by Antti Koivisto.

        * fast/masking/parsing-mask-mode-expected.txt: Added.
        * fast/masking/parsing-mask-mode.html: Added.

2021-09-08  Martin Robinson  <mrobinson@webkit.org>

        [css-position-sticky] Sticky constraints are calculated incorrectly when scrolling container has padding and borders
        https://bugs.webkit.org/show_bug.cgi?id=229997

        Reviewed by Simon Fraser.

        * TestExpectations: Unskip two newly passing tests.
        * platform/ios-wk2/scrollingcoordinator/scrolling-tree/coordinated-frame-expected.txt: Rebaseline.
        * platform/ios-wk2/scrollingcoordinator/scrolling-tree/coordinated-frame-gain-scrolling-ancestor-expected.txt: Ditto.
        * platform/ios-wk2/scrollingcoordinator/scrolling-tree/coordinated-frame-in-fixed-expected.txt: Ditto.
        * platform/ios-wk2/scrollingcoordinator/scrolling-tree/coordinated-frame-lose-scrolling-ancestor-expected.txt: Ditto.

2021-09-08  Kimmo Kinnunen  <kkinnunen@apple.com>

        webgl/2.0.y/deqp/functional/gles3/negativeshaderapi.html fails on Metal
        https://bugs.webkit.org/show_bug.cgi?id=229946

        Reviewed by Kenneth Russell.

        Enable webgl/2.0.y/deqp/functional/gles3/negativeshaderapi.html
        explicitly until 2.0.y is activated.

        * webgl/TestExpectations:

2021-09-08  Kimmo Kinnunen  <kkinnunen@apple.com>

        webgl/2.0.y/deqp/functional/gles3/negativetextureapi.html fails on Metal
        https://bugs.webkit.org/show_bug.cgi?id=229948

        Reviewed by Dean Jackson.

        Enable webgl/2.0.y/deqp/functional/gles3/negativetextureapi.html
        explicitly until 2.0.y is activated.

        * webgl/TestExpectations:
        * webgl/2.0.0/conformance2/textures/misc/tex-storage-and-subimage-3d-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/negativetextureapi-expected.txt:

2021-09-08  Frédéric Wang  <fwang@igalia.com>

        Testing for the fact that media elements are treated as replaced elements
        https://bugs.webkit.org/show_bug.cgi?id=229857

        Reviewed by Darin Adler.

        This is a follow-up of r281979. backwards-text-iterator-basic.html is extended to check that
        SimplifiedBackwardsTextIterator emits a comma for a media element. The a11y test from r274810
        which verified audio/video elements emit an object replacement character is restored, as it
        seems it was removed by mistake and so this case was no longer checked explicitly.
        text-marker-previous-next.html is also extended to cover the case of media element.

        * accessibility/text-marker/media-emits-object-replacement-expected.txt: Added.
        * accessibility/text-marker/media-emits-object-replacement.html: Added.
        * accessibility/text-marker/text-marker-previous-next-expected.txt:
        * accessibility/text-marker/text-marker-previous-next.html:
        * editing/text-iterator/backwards-text-iterator-basic-expected.txt:
        * editing/text-iterator/backwards-text-iterator-basic.html:

2021-09-08  Tim Nguyen  <ntim@apple.com>

        Support animations on ::backdrop
        https://bugs.webkit.org/show_bug.cgi?id=229042

        Reviewed by Antoine Quint.

        * TestExpectations:

2021-09-08  Kimmo Kinnunen  <kkinnunen@apple.com>

        webgl/2.0.y/deqp/functional/gles3/rbostatequery.html fails on Metal
        https://bugs.webkit.org/show_bug.cgi?id=229950

        Reviewed by Dean Jackson.

        Enable webgl/2.0.y/deqp/functional/gles3/rbostatequery.html
        explicitly until 2.0.y is activated.

        * webgl/TestExpectations:

2021-09-07  Kimmo Kinnunen  <kkinnunen@apple.com>

        webgl/2.0.y/deqp/functional/gles3/negativestateapi.html get_query_parameter  fails on Metal
        https://bugs.webkit.org/show_bug.cgi?id=229982

        Reviewed by Dean Jackson.

        Enable webgl/2.0.y/deqp/functional/gles3/negativestateapi.html
        explicitly until 2.0.y is activated.

        * webgl/TestExpectations:

2021-09-07  Sihui Liu  <sihui_liu@apple.com>

        Add basic support for Storage API
        https://bugs.webkit.org/show_bug.cgi?id=229925

        Reviewed by Darin Adler.

        * platform/mac-wk1/fast/dom/navigator-detached-no-crash-expected.txt:
        * platform/mac-wk2/fast/dom/navigator-detached-no-crash-expected.txt:

2021-09-07  Antti Koivisto  <antti@apple.com>

        Disable inline culling
        https://bugs.webkit.org/show_bug.cgi?id=229993

        Reviewed by Alan Bujtas.

        * fast/flexbox/line-clamp-link-after-ellipsis.html:
        * platform/mac/fast/multicol/table-vertical-align-expected.txt:
        * platform/mac/fast/multicol/vertical-lr/float-multicol-expected.txt:
        * platform/mac/fast/multicol/vertical-rl/float-multicol-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug1188-expected.txt:

2021-09-07  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Support prefers-color-scheme media query
        https://bugs.webkit.org/show_bug.cgi?id=229976

        Reviewed by Don Olmstead.

        * platform/wincairo/TestExpectations:

2021-09-07  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Unreviewed test gardening, update expectations for some flaky tests.
        https://bugs.webkit.org/show_bug.cgi?id=230029

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:

2021-09-07  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test baselines after r281617
        https://bugs.webkit.org/show_bug.cgi?id=230010

        Unreviewed test gardening.

        * platform/glib/imported/w3c/web-platform-tests/media-source/mediasource-changetype-play-implicit-expected.txt:

2021-09-07  Eric Hutchison  <ehutchison@apple.com>

        [BigSur wk2 Debug x86] http/tests/media/media-document-referer.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230027.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-07  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo/TestExpectations:

2021-09-07  Chris Dumez  <cdumez@apple.com>

        Unreviewed minor test fix after r282105.

        The test conflicted with another change that landed recently.

        * http/tests/messaging/broadcastchannel-partitioning.html:

2021-09-07  Chris Dumez  <cdumez@apple.com>

        Implement origin partitioning (top-origin/frame-origin) for BroadcastChannel
        https://bugs.webkit.org/show_bug.cgi?id=229814

        Reviewed by Alex Christensen.

        Add layout test coverage.

        * http/tests/messaging/broadcastchannel-partitioning-expected.txt: Added.
        * http/tests/messaging/broadcastchannel-partitioning.html: Added.
        * http/tests/messaging/resources/broadcastchannel-partitioning-iframe.html: Added.
        * http/tests/messaging/resources/broadcastchannel-partitioning-popup.html: Added.

2021-09-07  Ayumi Kojima  <ayumi_kojima@apple.com>

        [iOS, BigSur+] webrtc/datachannel/getStats-no-prflx-remote-candidate.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=229877

        Unreviewed test gardning.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk1/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-09-07  Chris Dumez  <cdumez@apple.com>

        Allow layout tests to open popups by default
        https://bugs.webkit.org/show_bug.cgi?id=229881

        Reviewed by Darin Adler.

        Stop calling testRunner.setCanOpenWindow() as tests are now allowed to open
        popups by default.

        * animations/crash-on-removing-animation.html:
        * editing/execCommand/show-modal-dialog-during-execCommand.html:
        * editing/mac/input/unconfirmed-text-navigation-with-page-cache.html:
        * fast/animation/request-animation-frame-during-modal.html:
        * fast/animation/request-animation-frame-in-two-pages.html:
        * fast/dom/DeviceMotion/no-page-cache.html:
        * fast/dom/DeviceOrientation/no-page-cache.html:
        * fast/dom/Document/early-document-access.html:
        * fast/dom/Geolocation/window-close-crash.html:
        * fast/dom/HTMLAnchorElement/anchor-file-blob-download-blank-target.html:
        * fast/dom/Window/Location/set-location-after-close.html:
        * fast/dom/Window/child-window-focus.html:
        * fast/dom/Window/closure-access-after-navigation-window.html:
        * fast/dom/Window/dom-access-from-closure-window-with-gc.html:
        * fast/dom/Window/dom-access-from-closure-window.html:
        * fast/dom/Window/mozilla-focus-blur.html:
        * fast/dom/Window/new-window-opener.html:
        * fast/dom/Window/open-invalid-url.html:
        * fast/dom/Window/open-window-min-size.html:
        * fast/dom/Window/open-zero-size-as-default.html:
        * fast/dom/Window/resources/rel-noopener.js:
        * fast/dom/Window/resources/window-open-opener-cycle2.html:
        * fast/dom/Window/resources/window-open-opener-cycle3.html:
        * fast/dom/Window/setting-properties-on-closed-window.html:
        * fast/dom/Window/window-early-properties.html:
        * fast/dom/Window/window-open-activeWindow-null-frame.html:
        * fast/dom/Window/window-open-opener-cycle.html:
        * fast/dom/Window/window-open-pending-url.html:
        * fast/dom/Window/window-open-self-as-opener.html:
        * fast/dom/Window/window-opener-set-to-null.html:
        * fast/dom/Window/window-property-invalid-characters-ignored.html:
        * fast/dom/location-new-window-no-crash.html:
        * fast/dom/open-and-close-by-DOM.html:
        * fast/dom/window-domurl-crash.html:
        * fast/dom/window-open-ephemeral.html:
        * fast/events/attempt-scroll-with-no-scrollbars.html:
        * fast/events/before-unload-navigate-different-window.html:
        * fast/events/before-unload-open-window.html:
        * fast/events/beforeunload-showModalDialog.html:
        * fast/events/ios/submit-form-target-blank-using-return-key.html:
        * fast/events/open-window-from-another-frame.html:
        * fast/events/page-visibility-iframe-move-test.html:
        * fast/events/pagehide-showModalDialog.html:
        * fast/events/popup-allowed-from-gesture-initiated-event.html:
        * fast/events/popup-allowed-from-gesture-initiated-form-submit.html:
        * fast/events/popup-blocked-from-fake-button-click.html:
        * fast/events/popup-blocked-from-fake-focus.html:
        * fast/events/popup-blocked-from-fake-user-gesture.html:
        * fast/events/popup-blocked-from-history-reload.html:
        * fast/events/popup-blocked-from-iframe-script.html:
        * fast/events/popup-blocked-from-iframe-src.html:
        * fast/events/popup-blocked-from-mousemove.html:
        * fast/events/popup-blocked-from-sandboxed-frame-via-window-open-named-sibling-frame.html:
        * fast/events/popup-blocked-from-sandboxed-frame-via-window-open-named-sibling-frame2.html:
        * fast/events/popup-blocked-from-unique-frame-via-window-open-named-sibling-frame.html:
        * fast/events/popup-blocked-from-untrusted-click-event-on-anchor.html:
        * fast/events/popup-blocked-from-untrusted-mouse-click.html:
        * fast/events/popup-blocked-from-window-open.html:
        * fast/events/popup-blocked-to-post-blank.html:
        * fast/events/popup-blocking-click-in-iframe.html:
        * fast/events/popup-blocking-timers1.html:
        * fast/events/popup-blocking-timers2.html:
        * fast/events/popup-blocking-timers3.html:
        * fast/events/popup-blocking-timers5.html:
        * fast/events/popup-blocking-timers6.html:
        * fast/events/popup-when-select-change.html:
        * fast/events/scroll-event-during-modal-dialog.html:
        * fast/events/show-modal-dialog-onblur-onfocus.html:
        * fast/events/unload-showModalDialog.html:
        * fast/files/domurl-script-execution-context-crash.html:
        * fast/forms/multiple-form-submission-protection-mouse.html:
        * fast/forms/submit-to-blank-multiple-times.html:
        * fast/frames/frame-crash-with-page-cache.html:
        * fast/frames/page-hide-document-open.html:
        * fast/frames/page-unload-document-open.html:
        * fast/frames/restoring-page-cache-should-not-run-scripts-via-style-update.html:
        * fast/frames/restoring-page-cache-should-not-run-scripts.html:
        * fast/frames/sandboxed-iframe-close-top-noclose.html:
        * fast/frames/sandboxed-iframe-close-top.html:
        * fast/frames/sandboxed-iframe-navigation-windowopen.html:
        * fast/harness/page-cache-crash-on-data-urls.html:
        * fast/harness/show-modal-dialog.html:
        * fast/harness/use-page-cache.html:
        * fast/history/history-subframe-with-name.html:
        * fast/history/history_reload.html:
        * fast/history/location-replace-hash.html:
        * fast/history/page-cache-after-window-open.html:
        * fast/history/page-cache-back-navigation-crash.html:
        * fast/history/page-cache-with-opener.html:
        * fast/history/window-open.html:
        * fast/html/broadcast-channel-between-different-sessions.html:
        * fast/images/animated-gif-window-resizing.html:
        * fast/loader/cancel-load-during-port-block-timer.html:
        * fast/loader/crash-copying-backforwardlist.html:
        * fast/loader/fragment-navigation-base-blank.html:
        * fast/loader/iframe-meta-refresh-base-blank.html:
        * fast/loader/iframe-set-location-base-blank.html:
        * fast/loader/image-in-page-cache.html:
        * fast/loader/navigate-with-new-target-after-back-forward-navigation.html:
        * fast/loader/navigate-with-post-to-new-target-after-back-forward-navigation.html:
        * fast/loader/ping-error.html:
        * fast/loader/refresh-iframe-base-blank.html:
        * fast/loader/reload-zero-byte-plugin.html:
        * fast/loader/stateobjects/no-popstate-when-back-to-stateless-entry-with-page-cache.html:
        * fast/loader/stateobjects/no-popstate-when-back-to-stateless-entry.html:
        * fast/loader/stateobjects/popstate-fires-with-page-cache.html:
        * fast/loader/stateobjects/pushstate-without-history.html:
        * fast/loader/stateobjects/replacestate-in-iframe.html:
        * fast/loader/url-selected-user-gesture.html:
        * fast/loader/window-open-to-invalid-url-calls-policy-delegate.html:
        * fast/loader/window-open-to-invalid-url-disallowed.html:
        * fast/parser/xhtml-close-while-parsing.xhtml:
        * fullscreen/full-screen-exit-when-popup.html:
        * http/tests/app-privacy-report/app-attribution-post-request.html:
        * http/tests/app-privacy-report/user-attribution-post-request.html:
        * http/tests/appcache/crash-when-navigating-away-then-back.html:
        * http/tests/appcache/identifier-test.html:
        * http/tests/blink/sendbeacon/beacon-detached-no-crash.html:
        * http/tests/cache/display-image-unset-allows-cached-image-load.html:
        * http/tests/cache/history-navigation-no-resource-revalidation.html:
        * http/tests/cache/history-only-cached-subresource-loads-max-age-https.html:
        * http/tests/cache/history-only-cached-subresource-loads.html:
        * http/tests/cache/reload-expired-only.html:
        * http/tests/contentextensions/block-everything-unless-domain.html:
        * http/tests/contentextensions/popups.html:
        * http/tests/cookies/document-cookie-after-showModalDialog.html:
        * http/tests/cookies/resources/cookie-utilities.js:
        * http/tests/dom/new-window-can-target-opener.html:
        * http/tests/dom/noopener-window-cannot-target-opener.html:
        * http/tests/dom/noopener-window-not-targetable.html:
        * http/tests/dom/noopener-window-not-targetable2.html:
        * http/tests/dom/noreferrer-window-not-targetable.html:
        * http/tests/dom/opened-window-not-targetable-after-disowning-opener.html:
        * http/tests/dom/resources/new-window-can-target-opener-win.html:
        * http/tests/dom/resources/noopener-window-cannot-target-opener-win.html:
        * http/tests/dom/window-location-set-href-relative-url.html:
        * http/tests/dom/window-open-about-blank-and-access-document.html:
        * http/tests/dom/window-open-about-uppercase-blank-and-access-document.html:
        * http/tests/dom/window-open-about-webkit-org-and-access-document-async-delegates.html:
        * http/tests/dom/window-open-about-webkit-org-and-access-document.html:
        * http/tests/download/anchor-load-after-download.html:
        * http/tests/inspector/resources/protocol-test.js:
        * http/tests/media/user-gesture-preserved-across-xmlhttprequest.html:
        * http/tests/media/video-cancel-load.html:
        * http/tests/misc/href-attribute-resolves-with-respect-to-document.html:
        * http/tests/misc/iframe-reparenting-id-collision.html:
        * http/tests/misc/set-window-opener-to-null.html:
        * http/tests/misc/slow-preload-cancel.html:
        * http/tests/misc/window-open-then-write.html:
        * http/tests/misc/xml-document-origin.html:
        * http/tests/navigation/anchor-blank-target-implies-rel-noopener.html:
        * http/tests/navigation/new-window-redirect-history.html:
        * http/tests/navigation/no-referrer-reset.html:
        * http/tests/navigation/no-referrer-target-blank.html:
        * http/tests/navigation/process-swap-window-open.html:
        * http/tests/navigation/target-blank-opener-post.html:
        * http/tests/navigation/target-blank-opener.html:
        * http/tests/navigation/target-frame-from-window.html:
        * http/tests/navigation/window-open-cross-origin-then-navigated-back-same-origin.html:
        * http/tests/notifications/window-show-on-click.html:
        * http/tests/plugins/plugin-document-has-focus.html:
        * http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-in-new-window.html:
        * http/tests/security/aboutBlank/security-context-window-open.html:
        * http/tests/security/aboutBlank/window-open-self-about-blank.html:
        * http/tests/security/aboutBlank/xss-DENIED-navigate-opener-document-write.html:
        * http/tests/security/aboutBlank/xss-DENIED-navigate-opener-javascript-url.html:
        * http/tests/security/aboutBlank/xss-DENIED-set-opener.html:
        * http/tests/security/blob-null-url-location-origin.html:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/data-url-iframe-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-css-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-iframe-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-image-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-plugin-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-script-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-xhr-asynchronous-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-xhr-synchronous-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/cross-origin-plugin-document-allowed-in-child-window.html:
        * http/tests/security/contentSecurityPolicy/image-blocked-in-about-blank-window.html:
        * http/tests/security/contentSecurityPolicy/plugin-blocked-in-about-blank-window.html:
        * http/tests/security/contentSecurityPolicy/resources/window-open-javascript-url-blocked.js:
        * http/tests/security/contentSecurityPolicy/same-origin-plugin-document-allowed-in-child-window.html:
        * http/tests/security/contentSecurityPolicy/same-origin-plugin-document-blocked-in-child-window-report.py:
        * http/tests/security/contentSecurityPolicy/same-origin-plugin-document-blocked-in-child-window.html:
        * http/tests/security/contentSecurityPolicy/same-origin-plugin-document-with-csp-blocked-in-child-window.html:
        * http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/https-header-auxiliary.html:
        * http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/https-header-subresource.html:
        * http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/https-header-top-level.html:
        * http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/proper-open-window-upgrades.html:
        * http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/resources/nested-window.html:
        * http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/upgrade-insecure-audio-video-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/upgrade-insecure-fetch-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/upgrade-insecure-fetch-in-worker.html:
        * http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/upgrade-insecure-image-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/upgrade-insecure-sync-xhr-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/upgrade-insecure-xhr-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/window-open-javascript-url-with-target-blocked.html:
        * http/tests/security/cookies/cookie-theft-with-javascript-doc.html:
        * http/tests/security/credentials-from-different-domains.html:
        * http/tests/security/credentials-iframes-allowCrossOriginSubresourcesToAskForCredentials.html:
        * http/tests/security/credentials-iframes.html:
        * http/tests/security/cross-frame-access-call.html:
        * http/tests/security/cross-origin-modal-dialog-base.html:
        * http/tests/security/cross-origin-window-open-insert-script.html:
        * http/tests/security/cross-origin-window-open-javascript-url.html:
        * http/tests/security/cross-origin-worker-indexeddb.html:
        * http/tests/security/dataURL/xss-DENIED-from-data-url-in-foreign-domain-window-open.html:
        * http/tests/security/dataURL/xss-DENIED-from-javascript-url-window-open.html:
        * http/tests/security/dataURL/xss-DENIED-to-data-url-in-foreign-domain-window-open.html:
        * http/tests/security/dataURL/xss-DENIED-to-data-url-window-open.html:
        * http/tests/security/frameNavigation/cross-origin-opener.html:
        * http/tests/security/frameNavigation/inactive-function-in-popup-navigate-child.html:
        * http/tests/security/frameNavigation/not-opener.html:
        * http/tests/security/frameNavigation/opener.html:
        * http/tests/security/frameNavigation/xss-DENIED-plugin-navigation.html:
        * http/tests/security/frameNavigation/xss-DENIED-targeted-link-navigation.html:
        * http/tests/security/history-username-password.html:
        * http/tests/security/inactive-document-with-empty-security-origin.html:
        * http/tests/security/insecure-geolocation.html:
        * http/tests/security/isolatedWorld/userGestureEvents.html:
        * http/tests/security/javascriptURL/xss-ALLOWED-from-javascript-url-window-open.html:
        * http/tests/security/javascriptURL/xss-ALLOWED-to-javascript-url-window-open.html:
        * http/tests/security/javascriptURL/xss-DENIED-from-javascript-url-in-foreign-domain-window-open.html:
        * http/tests/security/javascriptURL/xss-DENIED-to-javascript-url-in-foreign-domain-window-open.html:
        * http/tests/security/mixedContent/about-blank-iframe-in-main-frame.html:
        * http/tests/security/mixedContent/data-url-iframe-in-main-frame.html:
        * http/tests/security/mixedContent/insecure-audio-video-in-main-frame.html:
        * http/tests/security/mixedContent/insecure-css-in-main-frame.html:
        * http/tests/security/mixedContent/insecure-css-with-secure-cookies.html:
        * http/tests/security/mixedContent/insecure-executable-css-with-secure-cookies.html:
        * http/tests/security/mixedContent/insecure-form-in-main-frame.html:
        * http/tests/security/mixedContent/insecure-iframe-in-main-frame.html:
        * http/tests/security/mixedContent/insecure-image-in-main-frame.html:
        * http/tests/security/mixedContent/insecure-image-redirects-to-basic-auth-secure-image-allowCrossOriginSubresourcesToAskForCredentials.html:
        * http/tests/security/mixedContent/insecure-image-redirects-to-basic-auth-secure-image.html:
        * http/tests/security/mixedContent/insecure-image-with-securecookie-block.html:
        * http/tests/security/mixedContent/insecure-image-with-securecookie.html:
        * http/tests/security/mixedContent/insecure-script-in-data-iframe-in-main-frame-blocked.html:
        * http/tests/security/mixedContent/insecure-script-redirects-to-basic-auth-secure-script.html:
        * http/tests/security/mixedContent/insecure-stylesheet-redirects-to-basic-auth-secure-stylesheet.html:
        * http/tests/security/mixedContent/insecure-xhr-in-main-frame.html:
        * http/tests/security/mixedContent/insecure-xhr-sync-in-main-frame.html:
        * http/tests/security/mixedContent/javascript-url-form-in-main-frame.html:
        * http/tests/security/mixedContent/redirect-http-to-https-iframe-in-main-frame.html:
        * http/tests/security/mixedContent/redirect-https-to-http-iframe-in-main-frame.html:
        * http/tests/security/mixedContent/redirect-https-to-http-image-secure-cookies-block.html:
        * http/tests/security/mixedContent/redirect-https-to-http-image-secure-cookies.html:
        * http/tests/security/mixedContent/websocket/insecure-websocket-in-main-frame.html:
        * http/tests/security/mixedcontent-geolocation-block-insecure-content.html:
        * http/tests/security/mixedcontent-geolocation.html:
        * http/tests/security/navigate-when-restoring-cached-page.html:
        * http/tests/security/no-popup-from-sandbox-top.html:
        * http/tests/security/no-popup-from-sandbox.html:
        * http/tests/security/originHeader/origin-header-for-empty.html:
        * http/tests/security/popup-allowed-by-sandbox-is-sandboxed-control.html:
        * http/tests/security/popup-allowed-by-sandbox-is-sandboxed.html:
        * http/tests/security/popup-allowed-by-sandbox-when-allowed.html:
        * http/tests/security/popup-blocked-from-fake-event.html:
        * http/tests/security/popup-blocked-from-window-open.html:
        * http/tests/security/referrer-policy-nested-window-open.html:
        * http/tests/security/referrer-policy-redirect-link-downgrade.html:
        * http/tests/security/referrer-policy-redirect-link.html:
        * http/tests/security/referrer-policy-subframe-window-open.html:
        * http/tests/security/referrer-policy-window-open-subframe.html:
        * http/tests/security/referrer-policy-window-open.html:
        * http/tests/security/showModalDialog-sync-cross-origin-page-load.html:
        * http/tests/security/showModalDialog-sync-cross-origin-page-load2.html:
        * http/tests/security/top-level-unique-origin2.https.html:
        * http/tests/security/window-events-clear-domain.html:
        * http/tests/security/window-events-clear-port.html:
        * http/tests/security/window-events-pass.html:
        * http/tests/security/window-name-after-cross-origin-aux-frame-navigation.html:
        * http/tests/security/window-name-after-same-origin-aux-frame-navigation.html:
        * http/tests/security/window-named-valueOf.html:
        * http/tests/security/window-opened-from-sandboxed-iframe-should-inherit-sandbox.html:
        * http/tests/security/xss-DENIED-click-and-form-submission-from-inactive-domwindow.html:
        * http/tests/security/xss-DENIED-script-inject-into-inactive-window.html:
        * http/tests/security/xss-DENIED-script-inject-into-inactive-window2-pson.html:
        * http/tests/security/xss-DENIED-script-inject-into-inactive-window2.html:
        * http/tests/security/xss-DENIED-script-inject-into-inactive-window3.html:
        * http/tests/security/xss-DENIED-synchronous-frame-load-in-javascript-url.html:
        * http/tests/security/xss-DENIED-xsl-document-securityOrigin.xml:
        * http/tests/security/xssAuditor/link-opens-new-window.html:
        * http/tests/security/xssAuditor/window-open-without-url-should-not-assert.html:
        * http/tests/storageAccess/deny-storage-access-under-opener-ephemeral.html:
        * http/tests/storageAccess/deny-storage-access-under-opener-if-auto-dismiss-ephemeral.html:
        * http/tests/storageAccess/deny-storage-access-under-opener-if-auto-dismiss.html:
        * http/tests/storageAccess/deny-storage-access-under-opener.html:
        * http/tests/storageAccess/deny-with-prompt-does-not-preserve-gesture.html:
        * http/tests/storageAccess/deny-without-prompt-preserves-gesture.html:
        * http/tests/storageAccess/grant-storage-access-under-opener-at-popup-user-gesture-ephemeral.html:
        * http/tests/storageAccess/grant-storage-access-under-opener-at-popup-user-gesture.html:
        * http/tests/storageAccess/grant-with-prompt-preserves-gesture.html:
        * http/tests/storageAccess/resources/request-storage-access-iframe-and-pop-window.html:
        * http/tests/workers/service/Client-properties-auxiliary.html:
        * http/tests/workers/service/client-added-to-clients-when-restored-from-page-cache.html:
        * http/tests/workers/service/client-removed-from-clients-while-in-page-cache.html:
        * http/tests/workers/service/resources/registration-task-queue-scheduling-1.js:
        * http/tests/xmlhttprequest/close-window.html:
        * http/tests/xmlhttprequest/cross-origin-authorization-with-embedder.html:
        * http/tests/xmlhttprequest/cross-origin-authorization.html:
        * http/tests/xmlhttprequest/cross-origin-cookie-storage.html:
        * http/tests/xmlhttprequest/cross-origin-no-authorization.html:
        * http/tests/xmlhttprequest/request-from-popup.html:
        * http/tests/xmlhttprequest/sync-xhr-in-beforeunload.html:
        * http/tests/xmlhttprequest/sync-xhr-in-unload.html:
        * imported/blink/fast/dom/Window/open-window-features-fuzz.html:
        * imported/blink/fast/events/popup-forwarded-gesture.html:
        * js/dom/function-constructor-this-value.html:
        * js/instance-property-getter-other-instance.html:
        * loader/go-back-cached-main-resource.html:
        * loader/navigation-policy/should-open-external-urls/resources/user-gesture-target-blank-to-notify-done.html:
        * loader/navigation-policy/should-open-external-urls/resources/user-gesture-window-open-to-notify-done.html:
        * loader/navigation-policy/should-open-external-urls/resources/window-open-to-notify-done.html:
        * media/crash-closing-page-with-media-as-plugin-fallback.html:
        * platform/ipad/media/controls/close-page-with-picture-in-picture-video-assertion-failure.html:
        * plugins/access-after-page-destroyed-2.html:
        * plugins/access-after-page-destroyed.html:
        * plugins/destroy-during-npp-new-object-with-fallback-content.html:
        * plugins/destroy-during-npp-new.html:
        * plugins/geturlnotify-during-document-teardown.html:
        * plugins/navigator-plugin-crash.html:
        * plugins/open-and-close-window-with-plugin.html:
        * plugins/plugin-initiate-popup-window.html:
        * plugins/window-open.html:
        * printing/print-close-crash.html:
        * resources/testharnessreport.js:
        * storage/domstorage/localstorage/access-storage-after-window-close.html:
        * storage/domstorage/localstorage/access-storage-then-set-value-in-storage-after-window-close.html:
        * storage/domstorage/localstorage/set-value-in-storage-after-window-close.html:
        * storage/domstorage/localstorage/window-open.html:
        * storage/domstorage/sessionstorage/window-open.html:
        * storage/indexeddb/modern/blob-cursor.html:
        * storage/indexeddb/modern/blob-svg-image.html:
        * tiled-drawing/tiled-drawing-scroll-position-page-cache-restoration.html:
        * webarchive/adopt-attribute-styled-body-webarchive-expected.webarchive:
        * webarchive/adopt-attribute-styled-body-webarchive.html:
        * webarchive/adopt-attribute-styled-node-webarchive-expected.webarchive:
        * webarchive/adopt-attribute-styled-node-webarchive.html:
        * webarchive/adopt-inline-styled-node-webarchive-expected.webarchive:
        * webarchive/adopt-inline-styled-node-webarchive.html:

2021-09-07  Eric Hutchison  <ehutchison@apple.com>

        [BigSur wk2 Debug x86] http/tests/inspector/network/x-frame-options.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=230013.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-07  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS EWS ] media/modern-media-controls/media-documents/media-document-invalid.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=230012

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-09-07  Kimmo Kinnunen  <kkinnunen@apple.com>

        webgl/2.0.y/deqp/functional/gles3/negativestateapi.html get_framebuffer_attachment_parameter fails on Metal
        https://bugs.webkit.org/show_bug.cgi?id=229947

        Reviewed by Kenneth Russell.

        The fix fixed the test partially. This would affect the test results.
        WebGL tests do not commonly have partially succeeding test results, rather
        the -expected.txt is always the "success".

        webgl/2.0.0/deqp/functional/gles3/negativestateapi.html had its result generated with
        buggy implementation, e.g. the result had failures listed. Regenerate the result and
        add expected failure to test expectations instead.

        * webgl/2.0.0/deqp/functional/gles3/negativestateapi-expected.txt:
        Reset the expected.txt to test success instead of incorrect failure.
        * webgl/TestExpectations:
        Mark the test failing.

2021-09-07  Megan Gardner  <megan_gardner@apple.com>

        Rewrite long press and drag tests to be more robust.
        https://bugs.webkit.org/show_bug.cgi?id=229779
        rdar://40917203

        Reviewed by Wenson Hsieh.

        Rewrite long press and drag tests to use more modern methods and make the test more
        robust to small changes in UIKit's selection code. 

        * fast/events/touch/ios/long-press-on-editable-content-then-drag-down-to-change-selected-text-expected.txt:
        * fast/events/touch/ios/long-press-on-editable-content-then-drag-down-to-change-selected-text.html:
        * fast/events/touch/ios/long-press-on-editable-content-then-drag-left-to-change-selected-text-expected.txt:
        * fast/events/touch/ios/long-press-on-editable-content-then-drag-left-to-change-selected-text.html:
        * fast/events/touch/ios/long-press-on-editable-content-then-drag-right-to-change-selected-text-expected.txt:
        * fast/events/touch/ios/long-press-on-editable-content-then-drag-right-to-change-selected-text.html:
        * fast/events/touch/ios/long-press-on-editable-content-then-drag-up-to-change-selected-text-expected.txt:
        * fast/events/touch/ios/long-press-on-editable-content-then-drag-up-to-change-selected-text.html:
        * resources/ui-helper.js:
        (window.UIHelper.midPointOfRect):

2021-09-07  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS EWS ] imported/w3c/web-platform-tests/html/cross-origin-opener-policy/resource-popup.https.html is flaky.
        https://bugs.webkit.org/show_bug.cgi?id=230011

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-09-07  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for http/tests/security/no-indexeddb-from-sandbox.html.
        https://bugs.webkit.org/show_bug.cgi?id=229723.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-07  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r282086.
        https://bugs.webkit.org/show_bug.cgi?id=230005

        Turns out -webkit-line-clamp with link is used by iTunes store

        Reverted changeset:

        "Remove -webkit-line-clamp behaviour where last link is placed
        after ellipsis box"
        https://bugs.webkit.org/show_bug.cgi?id=229985
        https://commits.webkit.org/r282086

2021-09-07  Antti Koivisto  <antti@apple.com>

        Remove -webkit-line-clamp behaviour where last link is placed after ellipsis box
        https://bugs.webkit.org/show_bug.cgi?id=229985

        Reviewed by Alan Bujtas.

        * fast/flexbox/line-clamp-link-after-ellipsis-expected.txt: Removed.
        * fast/flexbox/line-clamp-link-after-ellipsis.html: Removed.

2021-08-26  Sergio Villar Senin  <svillar@igalia.com>

        Interoperability issue in margin collapsing with overflow:hidden elements
        https://bugs.webkit.org/show_bug.cgi?id=224185

        Reviewed by Alan Bujtas.

        * TestExpectations: Unskipped 3 flexbox tests that are working fine now.
        * fast/block/margin-collapse/self-collapsing-block-with-overflow-hidden-expected.html: Added.
        * fast/block/margin-collapse/self-collapsing-block-with-overflow-hidden.html: Added.

2021-09-01  Sergio Villar Senin  <svillar@igalia.com>

        [css-flexbox] Add support for left & right css-align-3 positional alignment properties
        https://bugs.webkit.org/show_bug.cgi?id=229756

        Reviewed by Javier Fernandez.

        * TestExpectations: Removed 13 WPT tests that are now passing.

2021-09-07  Rob Buis  <rbuis@igalia.com>

        Nullptr crash in DeleteSelectionCommand::removeNodeUpdatingStates
        https://bugs.webkit.org/show_bug.cgi?id=229279

        Reviewed by Ryosuke Niwa.

        * editing/deleting/delete-shadow-tree-crash-expected.txt: Added.
        * editing/deleting/delete-shadow-tree-crash.html: Added.

2021-09-07  Rob Buis  <rbuis@igalia.com>

        Nullptr crash in CSSValue::cssText() via DeleteSelectionCommand::calculateTypingStyleAfterDelete
        https://bugs.webkit.org/show_bug.cgi?id=229281

        Reviewed by Ryosuke Niwa.

        * editing/deleting/forward-delete-crash-expected.txt: Added.
        * editing/deleting/forward-delete-crash.html: Added.

2021-09-06  Antti Koivisto  <antti@apple.com>

        Add layout test for performance of adding children to a shadow host
        https://bugs.webkit.org/show_bug.cgi?id=229960

        Reviewed by Ryosuke Niwa.

        Add test for https://trac.webkit.org/changeset/281813/webkit

        * fast/shadow-dom/host-child-append-performance-expected.txt: Added.
        * fast/shadow-dom/host-child-append-performance.html: Added.

2021-09-06  Carlos Alberto Lopez Perez  <clopez@igalia.com>

        [GTK][WPE] Gardening of two flaky tests and timeout.

        Unreviewed test gardening.

        * TestExpectations:
        * platform/glib/TestExpectations:

2021-09-06  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [Gstreamer] Mark tests media/track/in-band/track-in-band-*-added-once.html as flaky
        https://bugs.webkit.org/show_bug.cgi?id=229973

        Unreviewed test gardening.

        * platform/glib/TestExpectations:

2021-09-06  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r282058.
        https://bugs.webkit.org/show_bug.cgi?id=229978

        broken two css layout tests on iOS

        Reverted changeset:

        "Add a temporarily prefixed property for mask-mode, aliased to
        -webkit-mask-source-type"
        https://bugs.webkit.org/show_bug.cgi?id=229915
        https://commits.webkit.org/r282058

2021-09-06  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r282057.
        https://bugs.webkit.org/show_bug.cgi?id=229977

        made a layout test extremely flaky

        Reverted changeset:

        "Add support for RTCSctpTransport"
        https://bugs.webkit.org/show_bug.cgi?id=229292
        https://commits.webkit.org/r282057

2021-09-06  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r282025.
        https://bugs.webkit.org/show_bug.cgi?id=229970

        broken layout test on mac-debug-wk1

        Reverted changeset:

        "Allow layout tests to open popups by default"
        https://bugs.webkit.org/show_bug.cgi?id=229881
        https://commits.webkit.org/r282025

2021-09-06  Simon Fraser  <simon.fraser@apple.com>

        REGRESSION (r280017): Calling getBoundingClientRect() on an empty element with "break-before: column" in columns returns a rect with all zeros
        https://bugs.webkit.org/show_bug.cgi?id=229747

        Reviewed by Alan Bujtas.

        * fast/multicol/newmulticol/client-rects-column-breakers-expected.txt: Added.
        * fast/multicol/newmulticol/client-rects-column-breakers.html: Added.

2021-09-06  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Garden tests related to the experimetal <attachment> element
        https://bugs.webkit.org/show_bug.cgi?id=229966

        All the tests fail for the same basic reason: this element is not
        enabled on GLIB platforms, so all these failures should be tracked
        under one bug.

        Unreviewed test gardening.

        * platform/gtk/TestExpectations:
        * platform/wpe/TestExpectations:

2021-09-06  Enrique Ocaña González  <eocanha@igalia.com>

        [MSE] Prevent false-positive "stalled" event iff MSE used
        https://bugs.webkit.org/show_bug.cgi?id=226882
        <rdar://problem/79454993>

        Reviewed by Alicia Boya Garcia.

        * platform/glib/imported/w3c/web-platform-tests/media-source/mediasource-append-buffer-expected.txt: Updated expectations.

2021-09-06  Simon Fraser  <simon.fraser@apple.com>

        Add a temporarily prefixed property for mask-mode, aliased to -webkit-mask-source-type
        https://bugs.webkit.org/show_bug.cgi?id=229915

        Reviewed by Antti Koivisto.

        * fast/masking/parsing-mask-mode-expected.txt: Added.
        * fast/masking/parsing-mask-mode.html: Added.

2021-09-06  Youenn Fablet  <youenn@apple.com>

        Add support for RTCSctpTransport
        https://bugs.webkit.org/show_bug.cgi?id=229292
        <rdar://problem/82394152>

        Reviewed by Eric Carlson.

        * webrtc/datachannel/dtls10.html:
        We should now check for the RTCSctpTransport's RTCDtlsTransport state
        to identify whether connection is successful or not.

2021-09-06  Enrique Ocaña González  <eocanha@igalia.com>

        [GTK] webaudio/silent-audio-interrupted-in-background.html is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=229964

        Unreviewed test gardening.

        Flagged flaky timeout for webaudio/silent-audio-interrupted-in-background.html.

        * platform/gtk/TestExpectations:

2021-09-06  Youenn Fablet  <youenn@apple.com>

        Implement libwebrtc network manager GetMdnsResponder
        https://bugs.webkit.org/show_bug.cgi?id=229757

        Reviewed by Eric Carlson.

        Update tests given mDNS ICE candidates are now showing up in descriptions.
        Make sure to consider mDNS candidates as if they are filtered.

        * http/wpt/webrtc/resources/third-party-frame-ice-candidate-filtering-iframe.html:
        * webrtc/datachannel/filter-ice-candidate.html:
        * webrtc/filtering-ice-candidate-after-reload.html:

2021-09-06  Kimmo Kinnunen  <kkinnunen@apple.com>

        webgl/1.0.x/conformance/context/constants-and-properties.html fails
        https://bugs.webkit.org/show_bug.cgi?id=223311
        <rdar://problem/75772425>

        Reviewed by Antti Koivisto.

        * TestExpectations:
        Mark the skipped tests as Pass until all 1.0.x/2.0.y tests
        are unskipped.
        Skip the 2.0.0/1.0.3 test that is invalid now.
        * fast/canvas/webgl/constants-on-interface.html: Removed.
        * fast/canvas/webgl/constants.html: Removed.
        Remove failing tests that serve the same purpose.
        They seem to, according to best effort inspection, test 
        the same properties.


2021-09-05  Alan Bujtas  <zalan@apple.com>

        In-page search results overlay broken if the result spans more than two elements
        https://bugs.webkit.org/show_bug.cgi?id=229926
        <rdar://82741616>

        Reviewed by Tim Horton.

        * fast/shrink-wrap/rect-shrink-wrap-expected.html:
        * fast/shrink-wrap/rect-shrink-wrap.html: Add the out-of-order rect case.

2021-09-05  Antti Koivisto  <antti@apple.com>

        [LFC][Integration] Skip inline boxes in iterator
        https://bugs.webkit.org/show_bug.cgi?id=229922

        Reviewed by Alan Bujtas.

        * fast/repaint/iframe-on-subpixel-position-expected.txt:

2021-09-04  Antti Koivisto  <antti@apple.com>

        REGRESSION(r275515): pointer-events:none may get stuck in LFC runs
        https://bugs.webkit.org/show_bug.cgi?id=229854
        rdar://81165275

        Reviewed by Alan Bujtas.

        * fast/events/pointer-events-mutation-expected.txt: Added.
        * fast/events/pointer-events-mutation.html: Added.

2021-09-03  Myles C. Maxfield  <mmaxfield@apple.com>

        Test gardening after r281291
        https://bugs.webkit.org/show_bug.cgi?id=228176

        Unreviewed.

        There is a fast/text/trak-optimizeLegibility-expected-mismatch.html.

        * platform/ios/fast/text/trak-optimizeLegibility-expected.txt: Removed.
        * platform/mac/fast/text/trak-optimizeLegibility-expected.txt: Removed.
        * platform/win/fast/text/trak-optimizeLegibility-expected.txt: Removed.

2021-09-03  Chris Dumez  <cdumez@apple.com>

        [iOS] Regression(r282025) fast/forms/ios/remove-and-add-view-during-focus.html is timing out
        https://bugs.webkit.org/show_bug.cgi?id=229908

        Reviewed by Wenson Hsieh.

        The test is calling window.open() and it was causing a sync IPC to the UIProcess and a call
        to uiController.willCreateNewPageCallback. However, because the test wasn't calling
        `testRunner.setCanOpenWindows()`, it wasn't actually opening a popup.

        Now that tests can open popups by default (since r282025), the popup actually opens and
        its view becomes fist responder, which is confusing the test. To address the issue,
        close the window as soon as it opens.

        * fast/forms/ios/remove-and-add-view-during-focus.html:

2021-09-03  Robert Jenner  <Jenner@apple.com>

        [Monterey Wk2 Debug] fast/history/visited-href-mutation.html is a flaky image failure
        https://bugs.webkit.org/show_bug.cgi?id=228200

        Unreviewed test gardening/removal of no longer needed expectation.

        * platform/mac-wk2/TestExpectations:

2021-09-03  Myles C. Maxfield  <mmaxfield@apple.com>

        Test gardening after r281293
        https://bugs.webkit.org/show_bug.cgi?id=228177

        Unreviewed.

        The macOS port of WebKitTestRunner acts as if it was linked after every OS version.

        * platform/mac/TestExpectations:

2021-09-03  Devin Rousso  <drousso@apple.com>

        [Web App Manifest] Always fetch the first manifest if provided
        https://bugs.webkit.org/show_bug.cgi?id=229059
        <rdar://problem/82148333>

        Reviewed by Brent Fulgham.

        * applicationmanifest/multiple-links.html:
        * applicationmanifest/multiple-links-expected.txt:
        * http/tests/security/contentSecurityPolicy/manifest-src-blocked.html:

2021-09-03  Chris Dumez  <cdumez@apple.com>

        Allow layout tests to open popups by default
        https://bugs.webkit.org/show_bug.cgi?id=229881

        Reviewed by Darin Adler.

        Stop calling testRunner.setCanOpenWindow() as tests are now allowed to open
        popups by default.

        * animations/crash-on-removing-animation.html:
        * editing/execCommand/show-modal-dialog-during-execCommand.html:
        * editing/mac/input/unconfirmed-text-navigation-with-page-cache.html:
        * fast/animation/request-animation-frame-during-modal.html:
        * fast/animation/request-animation-frame-in-two-pages.html:
        * fast/dom/DeviceMotion/no-page-cache.html:
        * fast/dom/DeviceOrientation/no-page-cache.html:
        * fast/dom/Document/early-document-access.html:
        * fast/dom/Geolocation/window-close-crash.html:
        * fast/dom/HTMLAnchorElement/anchor-file-blob-download-blank-target.html:
        * fast/dom/Window/Location/set-location-after-close.html:
        * fast/dom/Window/child-window-focus.html:
        * fast/dom/Window/closure-access-after-navigation-window.html:
        * fast/dom/Window/dom-access-from-closure-window-with-gc.html:
        * fast/dom/Window/dom-access-from-closure-window.html:
        * fast/dom/Window/mozilla-focus-blur.html:
        * fast/dom/Window/new-window-opener.html:
        * fast/dom/Window/open-invalid-url.html:
        * fast/dom/Window/open-window-min-size.html:
        * fast/dom/Window/open-zero-size-as-default.html:
        * fast/dom/Window/resources/rel-noopener.js:
        * fast/dom/Window/resources/window-open-opener-cycle2.html:
        * fast/dom/Window/resources/window-open-opener-cycle3.html:
        * fast/dom/Window/setting-properties-on-closed-window.html:
        * fast/dom/Window/window-early-properties.html:
        * fast/dom/Window/window-open-activeWindow-null-frame.html:
        * fast/dom/Window/window-open-opener-cycle.html:
        * fast/dom/Window/window-open-pending-url.html:
        * fast/dom/Window/window-open-self-as-opener.html:
        * fast/dom/Window/window-opener-set-to-null.html:
        * fast/dom/Window/window-property-invalid-characters-ignored.html:
        * fast/dom/location-new-window-no-crash.html:
        * fast/dom/open-and-close-by-DOM.html:
        * fast/dom/window-domurl-crash.html:
        * fast/dom/window-open-ephemeral.html:
        * fast/events/attempt-scroll-with-no-scrollbars.html:
        * fast/events/before-unload-navigate-different-window.html:
        * fast/events/before-unload-open-window.html:
        * fast/events/beforeunload-showModalDialog.html:
        * fast/events/ios/submit-form-target-blank-using-return-key.html:
        * fast/events/open-window-from-another-frame.html:
        * fast/events/page-visibility-iframe-move-test.html:
        * fast/events/pagehide-showModalDialog.html:
        * fast/events/popup-allowed-from-gesture-initiated-event.html:
        * fast/events/popup-allowed-from-gesture-initiated-form-submit.html:
        * fast/events/popup-blocked-from-fake-button-click.html:
        * fast/events/popup-blocked-from-fake-focus.html:
        * fast/events/popup-blocked-from-fake-user-gesture.html:
        * fast/events/popup-blocked-from-history-reload.html:
        * fast/events/popup-blocked-from-iframe-script.html:
        * fast/events/popup-blocked-from-iframe-src.html:
        * fast/events/popup-blocked-from-mousemove.html:
        * fast/events/popup-blocked-from-sandboxed-frame-via-window-open-named-sibling-frame.html:
        * fast/events/popup-blocked-from-sandboxed-frame-via-window-open-named-sibling-frame2.html:
        * fast/events/popup-blocked-from-unique-frame-via-window-open-named-sibling-frame.html:
        * fast/events/popup-blocked-from-untrusted-click-event-on-anchor.html:
        * fast/events/popup-blocked-from-untrusted-mouse-click.html:
        * fast/events/popup-blocked-from-window-open.html:
        * fast/events/popup-blocked-to-post-blank.html:
        * fast/events/popup-blocking-click-in-iframe.html:
        * fast/events/popup-blocking-timers1.html:
        * fast/events/popup-blocking-timers2.html:
        * fast/events/popup-blocking-timers3.html:
        * fast/events/popup-blocking-timers5.html:
        * fast/events/popup-blocking-timers6.html:
        * fast/events/popup-when-select-change.html:
        * fast/events/scroll-event-during-modal-dialog.html:
        * fast/events/show-modal-dialog-onblur-onfocus.html:
        * fast/events/unload-showModalDialog.html:
        * fast/files/domurl-script-execution-context-crash.html:
        * fast/forms/multiple-form-submission-protection-mouse.html:
        * fast/forms/submit-to-blank-multiple-times.html:
        * fast/frames/frame-crash-with-page-cache.html:
        * fast/frames/page-hide-document-open.html:
        * fast/frames/page-unload-document-open.html:
        * fast/frames/restoring-page-cache-should-not-run-scripts-via-style-update.html:
        * fast/frames/restoring-page-cache-should-not-run-scripts.html:
        * fast/frames/sandboxed-iframe-close-top-noclose.html:
        * fast/frames/sandboxed-iframe-close-top.html:
        * fast/frames/sandboxed-iframe-navigation-windowopen.html:
        * fast/harness/page-cache-crash-on-data-urls.html:
        * fast/harness/show-modal-dialog.html:
        * fast/harness/use-page-cache.html:
        * fast/history/history-subframe-with-name.html:
        * fast/history/history_reload.html:
        * fast/history/location-replace-hash.html:
        * fast/history/page-cache-after-window-open.html:
        * fast/history/page-cache-back-navigation-crash.html:
        * fast/history/page-cache-with-opener.html:
        * fast/history/window-open.html:
        * fast/html/broadcast-channel-between-different-sessions.html:
        * fast/images/animated-gif-window-resizing.html:
        * fast/loader/cancel-load-during-port-block-timer.html:
        * fast/loader/crash-copying-backforwardlist.html:
        * fast/loader/fragment-navigation-base-blank.html:
        * fast/loader/iframe-meta-refresh-base-blank.html:
        * fast/loader/iframe-set-location-base-blank.html:
        * fast/loader/image-in-page-cache.html:
        * fast/loader/navigate-with-new-target-after-back-forward-navigation.html:
        * fast/loader/navigate-with-post-to-new-target-after-back-forward-navigation.html:
        * fast/loader/ping-error.html:
        * fast/loader/refresh-iframe-base-blank.html:
        * fast/loader/reload-zero-byte-plugin.html:
        * fast/loader/stateobjects/no-popstate-when-back-to-stateless-entry-with-page-cache.html:
        * fast/loader/stateobjects/no-popstate-when-back-to-stateless-entry.html:
        * fast/loader/stateobjects/popstate-fires-with-page-cache.html:
        * fast/loader/stateobjects/pushstate-without-history.html:
        * fast/loader/stateobjects/replacestate-in-iframe.html:
        * fast/loader/url-selected-user-gesture.html:
        * fast/loader/window-open-to-invalid-url-calls-policy-delegate.html:
        * fast/loader/window-open-to-invalid-url-disallowed.html:
        * fast/parser/xhtml-close-while-parsing.xhtml:
        * fullscreen/full-screen-exit-when-popup.html:
        * http/tests/app-privacy-report/app-attribution-post-request.html:
        * http/tests/app-privacy-report/user-attribution-post-request.html:
        * http/tests/appcache/crash-when-navigating-away-then-back.html:
        * http/tests/appcache/identifier-test.html:
        * http/tests/blink/sendbeacon/beacon-detached-no-crash.html:
        * http/tests/cache/display-image-unset-allows-cached-image-load.html:
        * http/tests/cache/history-navigation-no-resource-revalidation.html:
        * http/tests/cache/history-only-cached-subresource-loads-max-age-https.html:
        * http/tests/cache/history-only-cached-subresource-loads.html:
        * http/tests/cache/reload-expired-only.html:
        * http/tests/contentextensions/block-everything-unless-domain.html:
        * http/tests/contentextensions/popups.html:
        * http/tests/cookies/document-cookie-after-showModalDialog.html:
        * http/tests/cookies/resources/cookie-utilities.js:
        * http/tests/dom/new-window-can-target-opener.html:
        * http/tests/dom/noopener-window-cannot-target-opener.html:
        * http/tests/dom/noopener-window-not-targetable.html:
        * http/tests/dom/noopener-window-not-targetable2.html:
        * http/tests/dom/noreferrer-window-not-targetable.html:
        * http/tests/dom/opened-window-not-targetable-after-disowning-opener.html:
        * http/tests/dom/resources/new-window-can-target-opener-win.html:
        * http/tests/dom/resources/noopener-window-cannot-target-opener-win.html:
        * http/tests/dom/window-location-set-href-relative-url.html:
        * http/tests/dom/window-open-about-blank-and-access-document.html:
        * http/tests/dom/window-open-about-uppercase-blank-and-access-document.html:
        * http/tests/dom/window-open-about-webkit-org-and-access-document-async-delegates.html:
        * http/tests/dom/window-open-about-webkit-org-and-access-document.html:
        * http/tests/download/anchor-load-after-download.html:
        * http/tests/inspector/resources/protocol-test.js:
        * http/tests/media/user-gesture-preserved-across-xmlhttprequest.html:
        * http/tests/media/video-cancel-load.html:
        * http/tests/misc/href-attribute-resolves-with-respect-to-document.html:
        * http/tests/misc/iframe-reparenting-id-collision.html:
        * http/tests/misc/set-window-opener-to-null.html:
        * http/tests/misc/slow-preload-cancel.html:
        * http/tests/misc/window-open-then-write.html:
        * http/tests/misc/xml-document-origin.html:
        * http/tests/navigation/anchor-blank-target-implies-rel-noopener.html:
        * http/tests/navigation/new-window-redirect-history.html:
        * http/tests/navigation/no-referrer-reset.html:
        * http/tests/navigation/no-referrer-target-blank.html:
        * http/tests/navigation/process-swap-window-open.html:
        * http/tests/navigation/target-blank-opener-post.html:
        * http/tests/navigation/target-blank-opener.html:
        * http/tests/navigation/target-frame-from-window.html:
        * http/tests/navigation/window-open-cross-origin-then-navigated-back-same-origin.html:
        * http/tests/notifications/window-show-on-click.html:
        * http/tests/plugins/plugin-document-has-focus.html:
        * http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-in-new-window.html:
        * http/tests/security/aboutBlank/security-context-window-open.html:
        * http/tests/security/aboutBlank/window-open-self-about-blank.html:
        * http/tests/security/aboutBlank/xss-DENIED-navigate-opener-document-write.html:
        * http/tests/security/aboutBlank/xss-DENIED-navigate-opener-javascript-url.html:
        * http/tests/security/aboutBlank/xss-DENIED-set-opener.html:
        * http/tests/security/blob-null-url-location-origin.html:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/data-url-iframe-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-css-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-iframe-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-image-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-plugin-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-script-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-xhr-asynchronous-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-xhr-synchronous-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/cross-origin-plugin-document-allowed-in-child-window.html:
        * http/tests/security/contentSecurityPolicy/image-blocked-in-about-blank-window.html:
        * http/tests/security/contentSecurityPolicy/plugin-blocked-in-about-blank-window.html:
        * http/tests/security/contentSecurityPolicy/resources/window-open-javascript-url-blocked.js:
        * http/tests/security/contentSecurityPolicy/same-origin-plugin-document-allowed-in-child-window.html:
        * http/tests/security/contentSecurityPolicy/same-origin-plugin-document-blocked-in-child-window-report.py:
        * http/tests/security/contentSecurityPolicy/same-origin-plugin-document-blocked-in-child-window.html:
        * http/tests/security/contentSecurityPolicy/same-origin-plugin-document-with-csp-blocked-in-child-window.html:
        * http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/https-header-auxiliary.html:
        * http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/https-header-subresource.html:
        * http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/https-header-top-level.html:
        * http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/proper-open-window-upgrades.html:
        * http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/resources/nested-window.html:
        * http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/upgrade-insecure-audio-video-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/upgrade-insecure-fetch-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/upgrade-insecure-fetch-in-worker.html:
        * http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/upgrade-insecure-image-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/upgrade-insecure-sync-xhr-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/upgrade-insecure-xhr-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/window-open-javascript-url-with-target-blocked.html:
        * http/tests/security/cookies/cookie-theft-with-javascript-doc.html:
        * http/tests/security/credentials-from-different-domains.html:
        * http/tests/security/credentials-iframes-allowCrossOriginSubresourcesToAskForCredentials.html:
        * http/tests/security/credentials-iframes.html:
        * http/tests/security/cross-frame-access-call.html:
        * http/tests/security/cross-origin-modal-dialog-base.html:
        * http/tests/security/cross-origin-window-open-insert-script.html:
        * http/tests/security/cross-origin-window-open-javascript-url.html:
        * http/tests/security/cross-origin-worker-indexeddb.html:
        * http/tests/security/dataURL/xss-DENIED-from-data-url-in-foreign-domain-window-open.html:
        * http/tests/security/dataURL/xss-DENIED-from-javascript-url-window-open.html:
        * http/tests/security/dataURL/xss-DENIED-to-data-url-in-foreign-domain-window-open.html:
        * http/tests/security/dataURL/xss-DENIED-to-data-url-window-open.html:
        * http/tests/security/frameNavigation/cross-origin-opener.html:
        * http/tests/security/frameNavigation/inactive-function-in-popup-navigate-child.html:
        * http/tests/security/frameNavigation/not-opener.html:
        * http/tests/security/frameNavigation/opener.html:
        * http/tests/security/frameNavigation/xss-DENIED-plugin-navigation.html:
        * http/tests/security/frameNavigation/xss-DENIED-targeted-link-navigation.html:
        * http/tests/security/history-username-password.html:
        * http/tests/security/inactive-document-with-empty-security-origin.html:
        * http/tests/security/insecure-geolocation.html:
        * http/tests/security/isolatedWorld/userGestureEvents.html:
        * http/tests/security/javascriptURL/xss-ALLOWED-from-javascript-url-window-open.html:
        * http/tests/security/javascriptURL/xss-ALLOWED-to-javascript-url-window-open.html:
        * http/tests/security/javascriptURL/xss-DENIED-from-javascript-url-in-foreign-domain-window-open.html:
        * http/tests/security/javascriptURL/xss-DENIED-to-javascript-url-in-foreign-domain-window-open.html:
        * http/tests/security/mixedContent/about-blank-iframe-in-main-frame.html:
        * http/tests/security/mixedContent/data-url-iframe-in-main-frame.html:
        * http/tests/security/mixedContent/insecure-audio-video-in-main-frame.html:
        * http/tests/security/mixedContent/insecure-css-in-main-frame.html:
        * http/tests/security/mixedContent/insecure-css-with-secure-cookies.html:
        * http/tests/security/mixedContent/insecure-executable-css-with-secure-cookies.html:
        * http/tests/security/mixedContent/insecure-form-in-main-frame.html:
        * http/tests/security/mixedContent/insecure-iframe-in-main-frame.html:
        * http/tests/security/mixedContent/insecure-image-in-main-frame.html:
        * http/tests/security/mixedContent/insecure-image-redirects-to-basic-auth-secure-image-allowCrossOriginSubresourcesToAskForCredentials.html:
        * http/tests/security/mixedContent/insecure-image-redirects-to-basic-auth-secure-image.html:
        * http/tests/security/mixedContent/insecure-image-with-securecookie-block.html:
        * http/tests/security/mixedContent/insecure-image-with-securecookie.html:
        * http/tests/security/mixedContent/insecure-script-in-data-iframe-in-main-frame-blocked.html:
        * http/tests/security/mixedContent/insecure-script-redirects-to-basic-auth-secure-script.html:
        * http/tests/security/mixedContent/insecure-stylesheet-redirects-to-basic-auth-secure-stylesheet.html:
        * http/tests/security/mixedContent/insecure-xhr-in-main-frame.html:
        * http/tests/security/mixedContent/insecure-xhr-sync-in-main-frame.html:
        * http/tests/security/mixedContent/javascript-url-form-in-main-frame.html:
        * http/tests/security/mixedContent/redirect-http-to-https-iframe-in-main-frame.html:
        * http/tests/security/mixedContent/redirect-https-to-http-iframe-in-main-frame.html:
        * http/tests/security/mixedContent/redirect-https-to-http-image-secure-cookies-block.html:
        * http/tests/security/mixedContent/redirect-https-to-http-image-secure-cookies.html:
        * http/tests/security/mixedContent/websocket/insecure-websocket-in-main-frame.html:
        * http/tests/security/mixedcontent-geolocation-block-insecure-content.html:
        * http/tests/security/mixedcontent-geolocation.html:
        * http/tests/security/navigate-when-restoring-cached-page.html:
        * http/tests/security/no-popup-from-sandbox-top.html:
        * http/tests/security/no-popup-from-sandbox.html:
        * http/tests/security/originHeader/origin-header-for-empty.html:
        * http/tests/security/popup-allowed-by-sandbox-is-sandboxed-control.html:
        * http/tests/security/popup-allowed-by-sandbox-is-sandboxed.html:
        * http/tests/security/popup-allowed-by-sandbox-when-allowed.html:
        * http/tests/security/popup-blocked-from-fake-event.html:
        * http/tests/security/popup-blocked-from-window-open.html:
        * http/tests/security/referrer-policy-nested-window-open.html:
        * http/tests/security/referrer-policy-redirect-link-downgrade.html:
        * http/tests/security/referrer-policy-redirect-link.html:
        * http/tests/security/referrer-policy-subframe-window-open.html:
        * http/tests/security/referrer-policy-window-open-subframe.html:
        * http/tests/security/referrer-policy-window-open.html:
        * http/tests/security/showModalDialog-sync-cross-origin-page-load.html:
        * http/tests/security/showModalDialog-sync-cross-origin-page-load2.html:
        * http/tests/security/top-level-unique-origin2.https.html:
        * http/tests/security/window-events-clear-domain.html:
        * http/tests/security/window-events-clear-port.html:
        * http/tests/security/window-events-pass.html:
        * http/tests/security/window-name-after-cross-origin-aux-frame-navigation.html:
        * http/tests/security/window-name-after-same-origin-aux-frame-navigation.html:
        * http/tests/security/window-named-valueOf.html:
        * http/tests/security/window-opened-from-sandboxed-iframe-should-inherit-sandbox.html:
        * http/tests/security/xss-DENIED-click-and-form-submission-from-inactive-domwindow.html:
        * http/tests/security/xss-DENIED-script-inject-into-inactive-window.html:
        * http/tests/security/xss-DENIED-script-inject-into-inactive-window2-pson.html:
        * http/tests/security/xss-DENIED-script-inject-into-inactive-window2.html:
        * http/tests/security/xss-DENIED-script-inject-into-inactive-window3.html:
        * http/tests/security/xss-DENIED-synchronous-frame-load-in-javascript-url.html:
        * http/tests/security/xss-DENIED-xsl-document-securityOrigin.xml:
        * http/tests/security/xssAuditor/link-opens-new-window.html:
        * http/tests/security/xssAuditor/window-open-without-url-should-not-assert.html:
        * http/tests/storageAccess/deny-storage-access-under-opener-ephemeral.html:
        * http/tests/storageAccess/deny-storage-access-under-opener-if-auto-dismiss-ephemeral.html:
        * http/tests/storageAccess/deny-storage-access-under-opener-if-auto-dismiss.html:
        * http/tests/storageAccess/deny-storage-access-under-opener.html:
        * http/tests/storageAccess/deny-with-prompt-does-not-preserve-gesture.html:
        * http/tests/storageAccess/deny-without-prompt-preserves-gesture.html:
        * http/tests/storageAccess/grant-storage-access-under-opener-at-popup-user-gesture-ephemeral.html:
        * http/tests/storageAccess/grant-storage-access-under-opener-at-popup-user-gesture.html:
        * http/tests/storageAccess/grant-with-prompt-preserves-gesture.html:
        * http/tests/storageAccess/resources/request-storage-access-iframe-and-pop-window.html:
        * http/tests/workers/service/Client-properties-auxiliary.html:
        * http/tests/workers/service/client-added-to-clients-when-restored-from-page-cache.html:
        * http/tests/workers/service/client-removed-from-clients-while-in-page-cache.html:
        * http/tests/workers/service/resources/registration-task-queue-scheduling-1.js:
        * http/tests/xmlhttprequest/close-window.html:
        * http/tests/xmlhttprequest/cross-origin-authorization-with-embedder.html:
        * http/tests/xmlhttprequest/cross-origin-authorization.html:
        * http/tests/xmlhttprequest/cross-origin-cookie-storage.html:
        * http/tests/xmlhttprequest/cross-origin-no-authorization.html:
        * http/tests/xmlhttprequest/request-from-popup.html:
        * http/tests/xmlhttprequest/sync-xhr-in-beforeunload.html:
        * http/tests/xmlhttprequest/sync-xhr-in-unload.html:
        * imported/blink/fast/dom/Window/open-window-features-fuzz.html:
        * imported/blink/fast/events/popup-forwarded-gesture.html:
        * js/dom/function-constructor-this-value.html:
        * js/instance-property-getter-other-instance.html:
        * loader/go-back-cached-main-resource.html:
        * loader/navigation-policy/should-open-external-urls/resources/user-gesture-target-blank-to-notify-done.html:
        * loader/navigation-policy/should-open-external-urls/resources/user-gesture-window-open-to-notify-done.html:
        * loader/navigation-policy/should-open-external-urls/resources/window-open-to-notify-done.html:
        * media/crash-closing-page-with-media-as-plugin-fallback.html:
        * platform/ipad/media/controls/close-page-with-picture-in-picture-video-assertion-failure.html:
        * plugins/access-after-page-destroyed-2.html:
        * plugins/access-after-page-destroyed.html:
        * plugins/destroy-during-npp-new-object-with-fallback-content.html:
        * plugins/destroy-during-npp-new.html:
        * plugins/geturlnotify-during-document-teardown.html:
        * plugins/navigator-plugin-crash.html:
        * plugins/open-and-close-window-with-plugin.html:
        * plugins/plugin-initiate-popup-window.html:
        * plugins/window-open.html:
        * printing/print-close-crash.html:
        * resources/testharnessreport.js:
        * storage/domstorage/localstorage/access-storage-after-window-close.html:
        * storage/domstorage/localstorage/access-storage-then-set-value-in-storage-after-window-close.html:
        * storage/domstorage/localstorage/set-value-in-storage-after-window-close.html:
        * storage/domstorage/localstorage/window-open.html:
        * storage/domstorage/sessionstorage/window-open.html:
        * storage/indexeddb/modern/blob-cursor.html:
        * storage/indexeddb/modern/blob-svg-image.html:
        * tiled-drawing/tiled-drawing-scroll-position-page-cache-restoration.html:
        * webarchive/adopt-attribute-styled-body-webarchive-expected.webarchive:
        * webarchive/adopt-attribute-styled-body-webarchive.html:
        * webarchive/adopt-attribute-styled-node-webarchive-expected.webarchive:
        * webarchive/adopt-attribute-styled-node-webarchive.html:
        * webarchive/adopt-inline-styled-node-webarchive-expected.webarchive:
        * webarchive/adopt-inline-styled-node-webarchive.html:

2021-09-03  Tim Nguyen  <ntim@apple.com>

        AX: findModalNodes() and currentModalNode() should include modal <dialog>
        https://bugs.webkit.org/show_bug.cgi?id=229815

        Reviewed by Chris Fleizach.

        * accessibility/dialog-showModal-expected.txt: Added.
        * accessibility/dialog-showModal.html: Added.
        * platform/win/TestExpectations:

2021-09-03  Myles C. Maxfield  <mmaxfield@apple.com>

        Test gardening after r281419
        https://bugs.webkit.org/show_bug.cgi?id=149128

        Unreviewed.

        * platform/mac/TestExpectations:

2021-09-03  Aditya Keerthi  <akeerthi@apple.com>

        iframes should get an opaque background when the embedding element and embedded root color-schemes do not match
        https://bugs.webkit.org/show_bug.cgi?id=228124
        <rdar://problem/80922070>

        Reviewed by Simon Fraser.

        Remove failure expectations for newly passing tests.

        * TestExpectations:

2021-09-03  Alan Bujtas  <zalan@apple.com>

        Add a layout test for custom scrollbars with relative width/height values
        https://bugs.webkit.org/show_bug.cgi?id=229871

        Reviewed by Simon Fraser.

        * fast/scrolling/scrollbar-size-with-relative-value-expected.html: Added.
        * fast/scrolling/scrollbar-size-with-relative-value.html: Added.

2021-09-03  Myles C. Maxfield  <mmaxfield@apple.com>

        @font-face rules accessed over file: urls to a file which does not exist are not visible to document.fonts
        https://bugs.webkit.org/show_bug.cgi?id=229639

        Reviewed by Alan Bujtas.

        Keep a local copy of these tests, because WPT tests don't run from file: URLs, but layout tests do.
        The behavior is different depending on the scheme of the main page.

        * fast/text/font-file-failed-expected.txt: Added.
        * fast/text/font-file-failed.html: Added.

2021-09-03  Myles C. Maxfield  <mmaxfield@apple.com>

        FontFaceSet.check() needs to react to style changes
        https://bugs.webkit.org/show_bug.cgi?id=229844

        Reviewed by Sam Weinig.

        This can't be a WPT test because it requires internals.invalidateFontCache().

        * fast/text/FontFaceSet-check-after-style-update-expected.txt: Added.
        * fast/text/FontFaceSet-check-after-style-update.html: Added.

2021-09-03  Myles C. Maxfield  <mmaxfield@apple.com>

        FontFaceSet.status needs to react to style changes
        https://bugs.webkit.org/show_bug.cgi?id=229839

        Reviewed by Sam Weinig.

        This is not a WPT test because it requires internals.invalidateFontCache().

        * fast/text/FontFaceSet-status-after-style-update-expected.txt: Added.
        * fast/text/FontFaceSet-status-after-style-update.html: Added.

2021-09-03  Ziran Sun  <zsun@igalia.com>

        REGRESSION(r280078): broke fast/images/exif-orientation-composited.html on windows
        https://bugs.webkit.org/show_bug.cgi?id=228325

        Reviewed by Javier Fernandez.

        * platform/win/TestExpectations:

2021-09-03  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS EWS ] imported/w3c/web-platform-tests/content-security-policy/worker-src/service-* tests are flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=229875

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-09-03  Chris Dumez  <cdumez@apple.com>

        Drop calls to testRunner.setCloseRemainingWindowsWhenComplete() from layout tests
        https://bugs.webkit.org/show_bug.cgi?id=229873

        Reviewed by Sam Weinig.

        Drop calls to testRunner.setCloseRemainingWindowsWhenComplete() from layout tests as it is
        a no-op.

        * fast/dom/Geolocation/window-close-crash.html:
        * fast/dom/Window/closure-access-after-navigation-window.html:
        * fast/dom/Window/dom-access-from-closure-window-with-gc.html:
        * fast/dom/Window/dom-access-from-closure-window.html:
        * fast/dom/Window/open-window-min-size.html:
        * fast/dom/open-and-close-by-DOM.html:
        * fast/dom/window-domurl-crash.html:
        * fast/events/before-unload-navigate-different-window.html:
        * fast/events/before-unload-open-window.html:
        * fast/events/ios/submit-form-target-blank-using-return-key.html:
        * fast/events/open-window-from-another-frame.html:
        * fast/events/popup-allowed-from-gesture-initiated-event.html:
        * fast/events/popup-allowed-from-gesture-initiated-form-submit.html:
        * fast/events/popup-blocked-from-fake-button-click.html:
        * fast/events/popup-blocked-from-fake-focus.html:
        * fast/events/popup-blocked-from-fake-user-gesture.html:
        * fast/events/popup-blocked-from-history-reload.html:
        * fast/events/popup-blocked-from-iframe-script.html:
        * fast/events/popup-blocked-from-iframe-src.html:
        * fast/events/popup-blocked-from-mousemove.html:
        * fast/events/popup-blocked-from-sandboxed-frame-via-window-open-named-sibling-frame.html:
        * fast/events/popup-blocked-from-sandboxed-frame-via-window-open-named-sibling-frame2.html:
        * fast/events/popup-blocked-from-unique-frame-via-window-open-named-sibling-frame.html:
        * fast/events/popup-blocked-from-untrusted-click-event-on-anchor.html:
        * fast/events/popup-blocked-from-untrusted-mouse-click.html:
        * fast/events/popup-blocked-from-window-open.html:
        * fast/events/popup-blocked-to-post-blank.html:
        * fast/events/popup-blocking-click-in-iframe.html:
        * fast/events/popup-when-select-change.html:
        * fast/files/domurl-script-execution-context-crash.html:
        * fast/forms/submit-to-blank-multiple-times.html:
        * fast/frames/sandboxed-iframe-close-top-noclose.html:
        * fast/frames/sandboxed-iframe-close-top.html:
        * fast/history/window-open.html:
        * fast/loader/cancel-load-during-port-block-timer.html:
        * fast/loader/navigate-with-new-target-after-back-forward-navigation.html:
        * fast/loader/navigate-with-post-to-new-target-after-back-forward-navigation.html:
        * fast/loader/reload-zero-byte-plugin.html:
        * fullscreen/full-screen-exit-when-popup.html:
        * http/tests/contentextensions/block-everything-unless-domain.html:
        * http/tests/contentextensions/popups.html:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/data-url-iframe-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-css-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-iframe-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-image-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-plugin-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-script-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-xhr-asynchronous-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-xhr-synchronous-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/cross-origin-plugin-document-allowed-in-child-window.html:
        * http/tests/security/contentSecurityPolicy/image-blocked-in-about-blank-window.html:
        * http/tests/security/contentSecurityPolicy/plugin-blocked-in-about-blank-window.html:
        * http/tests/security/contentSecurityPolicy/resources/window-open-javascript-url-blocked.js:
        * http/tests/security/contentSecurityPolicy/same-origin-plugin-document-allowed-in-child-window.html:
        * http/tests/security/contentSecurityPolicy/same-origin-plugin-document-blocked-in-child-window-report.py:
        * http/tests/security/contentSecurityPolicy/same-origin-plugin-document-blocked-in-child-window.html:
        * http/tests/security/contentSecurityPolicy/same-origin-plugin-document-with-csp-blocked-in-child-window.html:
        * http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/proper-open-window-upgrades.html:
        * http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/resources/nested-window.html:
        * http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/upgrade-insecure-audio-video-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/upgrade-insecure-fetch-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/upgrade-insecure-fetch-in-worker.html:
        * http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/upgrade-insecure-image-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/upgrade-insecure-sync-xhr-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/upgrade-insecure-xhr-in-main-frame.html:
        * http/tests/security/contentSecurityPolicy/window-open-javascript-url-with-target-blocked.html:
        * http/tests/security/cookies/cookie-theft-with-javascript-doc.html:
        * http/tests/security/cross-origin-worker-indexeddb.html:
        * http/tests/security/frameNavigation/inactive-function-in-popup-navigate-child.html:
        * http/tests/security/frameNavigation/xss-DENIED-plugin-navigation.html:
        * http/tests/security/frameNavigation/xss-DENIED-targeted-link-navigation.html:
        * http/tests/security/inactive-document-with-empty-security-origin.html:
        * http/tests/security/insecure-geolocation.html:
        * http/tests/security/mixedContent/about-blank-iframe-in-main-frame.html:
        * http/tests/security/mixedContent/data-url-iframe-in-main-frame.html:
        * http/tests/security/mixedContent/insecure-audio-video-in-main-frame.html:
        * http/tests/security/mixedContent/insecure-css-in-main-frame.html:
        * http/tests/security/mixedContent/insecure-css-with-secure-cookies.html:
        * http/tests/security/mixedContent/insecure-executable-css-with-secure-cookies.html:
        * http/tests/security/mixedContent/insecure-form-in-main-frame.html:
        * http/tests/security/mixedContent/insecure-iframe-in-main-frame.html:
        * http/tests/security/mixedContent/insecure-image-in-main-frame.html:
        * http/tests/security/mixedContent/insecure-image-redirects-to-basic-auth-secure-image-allowCrossOriginSubresourcesToAskForCredentials.html:
        * http/tests/security/mixedContent/insecure-image-redirects-to-basic-auth-secure-image.html:
        * http/tests/security/mixedContent/insecure-image-with-securecookie-block.html:
        * http/tests/security/mixedContent/insecure-image-with-securecookie.html:
        * http/tests/security/mixedContent/insecure-script-in-data-iframe-in-main-frame-blocked.html:
        * http/tests/security/mixedContent/insecure-script-redirects-to-basic-auth-secure-script.html:
        * http/tests/security/mixedContent/insecure-stylesheet-redirects-to-basic-auth-secure-stylesheet.html:
        * http/tests/security/mixedContent/insecure-xhr-in-main-frame.html:
        * http/tests/security/mixedContent/insecure-xhr-sync-in-main-frame.html:
        * http/tests/security/mixedContent/javascript-url-form-in-main-frame.html:
        * http/tests/security/mixedContent/redirect-http-to-https-iframe-in-main-frame.html:
        * http/tests/security/mixedContent/redirect-https-to-http-iframe-in-main-frame.html:
        * http/tests/security/mixedContent/redirect-https-to-http-image-secure-cookies-block.html:
        * http/tests/security/mixedContent/redirect-https-to-http-image-secure-cookies.html:
        * http/tests/security/mixedContent/websocket/insecure-websocket-in-main-frame.html:
        * http/tests/security/mixedcontent-geolocation-block-insecure-content.html:
        * http/tests/security/mixedcontent-geolocation.html:
        * http/tests/security/originHeader/origin-header-for-empty.html:
        * http/tests/security/popup-allowed-by-sandbox-is-sandboxed-control.html:
        * http/tests/security/popup-allowed-by-sandbox-is-sandboxed.html:
        * http/tests/security/popup-allowed-by-sandbox-when-allowed.html:
        * http/tests/security/popup-blocked-from-fake-event.html:
        * http/tests/security/popup-blocked-from-window-open.html:
        * http/tests/security/referrer-policy-redirect-link-downgrade.html:
        * http/tests/security/referrer-policy-redirect-link.html:
        * http/tests/security/window-named-valueOf.html:
        * http/tests/security/xss-DENIED-click-and-form-submission-from-inactive-domwindow.html:
        * http/tests/security/xss-DENIED-script-inject-into-inactive-window.html:
        * http/tests/security/xss-DENIED-script-inject-into-inactive-window2-pson.html:
        * http/tests/security/xss-DENIED-script-inject-into-inactive-window2.html:
        * http/tests/security/xss-DENIED-script-inject-into-inactive-window3.html:
        * http/tests/security/xss-DENIED-synchronous-frame-load-in-javascript-url.html:
        * http/tests/security/xss-DENIED-xsl-document-securityOrigin.xml:
        * http/tests/security/xssAuditor/link-opens-new-window.html:
        * http/tests/security/xssAuditor/window-open-without-url-should-not-assert.html:
        * http/tests/storageAccess/deny-storage-access-under-opener-ephemeral.html:
        * http/tests/storageAccess/deny-storage-access-under-opener-if-auto-dismiss-ephemeral.html:
        * http/tests/storageAccess/deny-storage-access-under-opener-if-auto-dismiss.html:
        * http/tests/storageAccess/deny-storage-access-under-opener.html:
        * http/tests/storageAccess/grant-storage-access-under-opener-at-popup-user-gesture-ephemeral.html:
        * http/tests/storageAccess/grant-storage-access-under-opener-at-popup-user-gesture.html:
        * http/tests/storageAccess/resources/request-storage-access-iframe-and-pop-window.html:
        * imported/blink/fast/events/popup-forwarded-gesture.html:
        * js/dom/function-constructor-this-value.html:
        * media/crash-closing-page-with-media-as-plugin-fallback.html:
        * platform/ipad/media/controls/close-page-with-picture-in-picture-video-assertion-failure.html:
        * plugins/geturlnotify-during-document-teardown.html:
        * plugins/navigator-plugin-crash.html:
        * plugins/open-and-close-window-with-plugin.html:
        * plugins/plugin-initiate-popup-window.html:
        * printing/print-close-crash.html:

2021-09-03  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for imported/w3c/web-platform-tests/html/cross-origin-opener-policy/javascript-url.https.html.
        https://bugs.webkit.org/show_bug.cgi?id=228642.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-09-03  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for imported/w3c/web-platform-tests/html/cross-origin-opener-policy/iframe-popup-unsafe-none-to-unsafe-none.https.html.
        https://bugs.webkit.org/show_bug.cgi?id=228642.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-09-03  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS EWS ] imported/w3c/web-platform-tests/css/css-sizing/percentage-height-in-flexbox.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229874

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-09-03  Chris Dumez  <cdumez@apple.com>

        [Mac] imported/w3c/web-platform-tests/html/cross-origin-opener-policy/coop-csp-sandbox-navigate.https.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=229766
        <rdar://problem/82642738>

        Reviewed by Alex Christensen.

        Unskip test that should no longer be flaky.

        * platform/mac/TestExpectations:

2021-09-03  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for imported/w3c/web-platform-tests/html/cross-origin-opener-policy/iframe-popup.
        https://bugs.webkit.org/show_bug.cgi?id=228642.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-08-18  Sergio Villar Senin  <svillar@igalia.com>

        [css-writing-modes] Fix absolutely positioning with orthogonal writing modes
        https://bugs.webkit.org/show_bug.cgi?id=228914

        Reviewed by Manuel Rego Casasnovas.

        * TestExpectations: Removed 48 tests that are now passing.
        * fast/repaint/selection-gap-flipped-absolute-child-expected.txt: Updated expectations.
        * fast/writing-mode/table-percent-width-quirk-expected.txt: Ditto.
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/css-flexbox/position-absolute-013-expected.txt: Removed.
        * platform/ios/TestExpectations: Skipped several tests that show 1px diff in the result.
        * platform/ios/imported/w3c/web-platform-tests/css/css-flexbox/abspos/position-absolute-012-expected.txt: Removed.
        * platform/ios/imported/w3c/web-platform-tests/css/css-flexbox/abspos/position-absolute-013-expected.txt: Removed.

2021-09-03  Simon Fraser  <simon.fraser@apple.com>

        Scrollbars on pointer-events: none element still intercepts events
        https://bugs.webkit.org/show_bug.cgi?id=225229

        Reviewed by Alan Bujtas.

        * fast/events/hittest-pointer-event-none-scrollbars-expected.txt: Added.
        * fast/events/hittest-pointer-event-none-scrollbars.html: Added.

2021-09-03  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r281973.
        https://bugs.webkit.org/show_bug.cgi?id=229861

        broke two ios-wk2 layout tests

        Reverted changeset:

        "Web Share tests are out of date"
        https://bugs.webkit.org/show_bug.cgi?id=229489
        https://commits.webkit.org/r281973

2021-09-03  Youenn Fablet  <youenn@apple.com>

        Signaling state check when applying a local or remote description is no longer aligned with the WebRTC spec
        https://bugs.webkit.org/show_bug.cgi?id=229138

        Reviewed by Eric Carlson.

        * fast/mediastream/RTCPeerConnection-setRemoteDescription-offer-expected.txt:
        * fast/mediastream/RTCPeerConnection-stable-expected.txt:

2021-09-03  Youenn Fablet  <youenn@apple.com>

        Migrate to latest libwebrtc AddIceCandidate
        https://bugs.webkit.org/show_bug.cgi?id=229700

        Reviewed by Eric Carlson.

        * TestExpectations: mark failing test as flaky as an exception sometimes happen.
        * fast/mediastream/RTCPeerConnection-addIceCandidate-expected.txt:
        * fast/mediastream/RTCPeerConnection-addIceCandidate.html:
        Update the test to match implementation, which makes it consistent with other browsers.

2021-09-03  Said Abou-Hallawa  <said@apple.com>

        Add a layout test to detect memory leaks when drawing images to a detached canvas
        https://bugs.webkit.org/show_bug.cgi?id=229790

        Reviewed by Darin Adler.

        Draw frames on an animated image to a detached canvas. Verify at the end
        and after releasing all the image decoded frames that there are no remote
        cached images.

        * fast/canvas/canvas-drawImage-detached-leak-expected.txt: Added.
        * fast/canvas/canvas-drawImage-detached-leak.html: Added.

2021-09-03  Frédéric Wang  <fwang@igalia.com>

        Use isRendererReplacedElement for SimplifiedBackwardsTextIterator
        https://bugs.webkit.org/show_bug.cgi?id=229798

        Reviewed by Darin Adler.

        Add new tests for SimplifiedBackwardsTextIterator, covering all new cases except media
        elements. media-emits-object-replacement.html was added in r158743 but removed in r274810
        with all the tests relying on ModernMediaControlsEnabled=false. Also, similar tests for
        TextIterator (plainTextWithTextIterator) are note added, because its handleReplacedElement
        function is more more complex and does not emit a comma by default.

        * editing/text-iterator/backwards-text-iterator-attachment-expected.txt: Added.
        * editing/text-iterator/backwards-text-iterator-attachment.html: Added. Checks that a comma
        is emited for <attachment> element.
        * editing/text-iterator/backwards-text-iterator-basic-expected.txt: Add the new result.
        * editing/text-iterator/backwards-text-iterator-basic.html: Check the remaining cases besides
        attachment and media.

2021-09-02  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Mark fast/text/trak-optimizeLegibility.html as ImageOnlyFailure rather than Skip
        https://bugs.webkit.org/show_bug.cgi?id=229823

        This test is not applicable for GLIB as nothing different is done when
        optimizeLegibility is set, but at least it should not crash.

        Unreviewed test gardening.

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:

2021-09-02  Myles C. Maxfield  <mmaxfield@apple.com>

        The CSS Font Loading API shouldn't be able to delete a CSS-connected font
        https://bugs.webkit.org/show_bug.cgi?id=229640

        Reviewed by Alan Bujtas.

        * TestExpectations:

2021-09-02  Marcos Caceres  <marcos@marcosc.com>

        Web Share tests are out of date
        https://bugs.webkit.org/show_bug.cgi?id=229489

        Reviewed by Tim Horton.

        * platform/mac-wk2/imported/w3c/web-platform-tests/web-share/canShare.https-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/web-share/share-empty.https-expected.txt:

2021-09-02  Wenson Hsieh  <wenson_hsieh@apple.com>

        REGRESSION (r280767): Caret color is black after pasting rich text in Mail compose in dark mode
        https://bugs.webkit.org/show_bug.cgi?id=229808
        rdar://82600990

        Reviewed by Tim Horton.

        Add a test to exercise the behavior of different `caret-color` values in nested editable elements.

        * editing/caret/ios/caret-color-in-nested-editable-containers-expected.txt: Added.
        * editing/caret/ios/caret-color-in-nested-editable-containers.html: Added.

2021-09-02  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo/TestExpectations:
        * platform/wincairo/editing/caret/caret-color-expected.txt:
        * platform/wincairo/fast/css/font-face-weight-matching-expected.txt:
        * platform/wincairo/fast/text/fixed-pitch-control-characters-expected.txt: Added.
        * platform/wincairo/fast/text/international/text-combine-image-test-expected.txt:

2021-09-02  Simon Fraser  <simon.fraser@apple.com>

        Changes to clip-path and filter SVG elements referenced by CSS don't trigger repaints
        https://bugs.webkit.org/show_bug.cgi?id=204204

        Reviewed by Antti Koivisto.

        Repaint tests that detect repaints when referenced clips or filters change.

        * css3/filters/reference-filter-change-repaint-expected.txt: Added.
        * css3/filters/reference-filter-change-repaint.html: Added.
        * css3/masking/clip-path-reference-local-url-with-base.html:
        * css3/masking/reference-clip-path-animate-transform-repaint-expected.txt: Added.
        * css3/masking/reference-clip-path-animate-transform-repaint.html: Added.
        * css3/masking/reference-clip-path-change-repaint-expected.txt: Added.
        * css3/masking/reference-clip-path-change-repaint.html: Added.

2021-09-02  Chris Dumez  <cdumez@apple.com>

        [ BigSur arm64 Debug EWS ] ASSERTION FAILED: m_uncommittedState.state == State::Provisional
        https://bugs.webkit.org/show_bug.cgi?id=229769
        <rdar://problem/82645706>

        Reviewed by Alex Christensen.

        Unskip test that should no longer be flakily crashing in debug.

        * platform/mac-wk2/TestExpectations:

2021-09-02  Alex Christensen  <achristensen@webkit.org>

        Reject non-IPv4 hostnames that end in numbers
        https://bugs.webkit.org/show_bug.cgi?id=228826

        Reviewed by Tim Horton.

        * fast/url/ipv4-expected.txt:
        * fast/url/ipv4.html:

2021-09-02  Eric Hutchison  <ehutchison@apple.com>

        [BigSur Release wk2] webgl/2.0.0/conformance2/textures/video/tex-2d-r8ui-red_integer-unsigned_byte.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=229837.

        Unreviewed test gardening.

        * platform/mac-bigsur-wk2/TestExpectations:

2021-09-02  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Mac EWS ] imported/w3c/web-platform-tests/beacon/beacon-redirect.https.window.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229832

        Unreviewed test gardening.

        * platform/ios-15/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-09-02  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ MacOS EWS ] imported/w3c/web-platform-tests/html/dom/idlharness.https.html is flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=229831

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-02  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS & Win ] css3/filters/canvas-with-filter-after-repaint.html is flaky image failing.
        https://bugs.webkit.org/show_bug.cgi?id=229829

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/win/TestExpectations:

2021-09-02  Myles C. Maxfield  <mmaxfield@apple.com>

        FontFaceSet.add() needs to throw when called on a CSS-connected font
        https://bugs.webkit.org/show_bug.cgi?id=229641

        Reviewed by Simon Fraser.

        * fast/text/font-face-set-document-expected.txt:
        * fast/text/font-face-set-document.html:

2021-09-02  Peng Liu  <peng.liu6@apple.com>

        [MSE][GPUP] SourceBufferPrivateAVFObjC does not work properly when audio and video exchange their track IDs
        https://bugs.webkit.org/show_bug.cgi?id=229617

        Reviewed by Jer Noble.

        * media/media-source/content/test-fragmented-swap-track-ids-manifest.json: Added.
        * media/media-source/content/test-fragmented-swap-track-ids.mp4: Added.
        * media/media-source/media-source-init-segment-swap-track-ids-expected.txt: Added.
        * media/media-source/media-source-init-segment-swap-track-ids.html: Added.

2021-09-02  Eric Hutchison  <ehutchison@apple.com>

        [iOS14] imported/w3c/web-platform-tests/css/css-text/line-breaking/line-breaking-atomic-nowrap-001.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=229821.

        Unreviewed test gardening.

        * platform/ios-14/TestExpectations:

2021-09-02  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur arm64 EWS ] ASSERTION FAILED: !needsLayout() ./rendering/RenderView.cpp(305) : virtual void WebCore::RenderView::paint(WebCore::PaintInfo &, const WebCore::LayoutPoint &).
        https://bugs.webkit.org/show_bug.cgi?id=229820

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-02  Eric Hutchison  <ehutchison@apple.com>

        Reset expectations for fast/mediastream/get-display-media-capabilities.html.
        https://bugs.webkit.org/show_bug.cgi?id=229812.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-09-02  Chris Dumez  <cdumez@apple.com>

        [COOP] Cross origin isolation doesn't happen when going from an HTTP URL to a HTTPS one with COOP+COEP
        https://bugs.webkit.org/show_bug.cgi?id=229745
        <rdar://problem/82630927>

        Reviewed by Alex Christensen.

        Add layout test coverage.

        * http/wpt/cross-origin-opener-policy/non-secure-to-secure-context-navigation.https-expected.txt: Added.
        * http/wpt/cross-origin-opener-policy/non-secure-to-secure-context-navigation.https.html: Added.
        * http/wpt/cross-origin-opener-policy/resources/non-secure-to-secure-context-navigation-popup.html: Added.

2021-09-02  Eric Hutchison  <ehutchison@apple.com>

        [iOS] fast/mediastream/get-display-media-capabilities.html is a flaky failure and crash.
        https://bugs.webkit.org/show_bug.cgi?id=229812.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-09-02  Tim Nguyen  <ntim@apple.com>

        Add more inert checks for selection-related functionality
        https://bugs.webkit.org/show_bug.cgi?id=229728

        Reviewed by Antti Koivisto.

        * TestExpectations:

2021-09-02  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] SHOULD NEVER BE REACHED ./Modules/mediastream/MediaStreamTrack.cpp(294) : WebCore::DoubleRange WebCore::capabilityDoubleRange(const WebCore::CapabilityValueOrRange &).
        https://bugs.webkit.org/show_bug.cgi?id=229810

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations: Now test is skipping on iOS

2021-09-02  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] SHOULD NEVER BE REACHED ./Modules/mediastream/MediaStreamTrack.cpp(294) : WebCore::DoubleRange WebCore::capabilityDoubleRange(const WebCore::CapabilityValueOrRange &).
        https://bugs.webkit.org/show_bug.cgi?id=229810

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-09-02  Philippe Normand  <pnormand@igalia.com>

        REGRESSION(r277763): [Debug][GLib] fast/mediastream timeouts
        https://bugs.webkit.org/show_bug.cgi?id=229665

        Reviewed by Xabier Rodriguez-Calvar.

        * platform/glib/TestExpectations: Update expectations, some tests pass now, apart from two
        getDisplayMedia tests, to be handled in another patch.

2021-09-02  Andres Gonzalez  <andresg_22@apple.com>

        Braille display is blank in contenteditable elements when the field is followed by another element.
        https://bugs.webkit.org/show_bug.cgi?id=229713
        rdar://82095237

        Reviewed by Chris Fleizach.

        * accessibility/mac/range-for-line-index-expected.txt: Added.
        * accessibility/mac/range-for-line-index.html: Added.
        * platform/mac/accessibility/content-editable-as-textarea-expected.txt:
        * platform/win/accessibility/content-editable-as-textarea-expected.txt:

2021-09-02  Philippe Normand  <pnormand@igalia.com>

        Unreviewed, GLib gardening

        * platform/glib/TestExpectations: Remove duplicate test expectation landed by mistake.

2021-09-02  Rob Buis  <rbuis@igalia.com>

        Absolutely positioned and negative z-index div with canvas child gets drawn with wrong stacking order
        https://bugs.webkit.org/show_bug.cgi?id=217154

        Reviewed by Simon Fraser.

        Add test based on bug report test case.

        * compositing/subtree-div-overlaps-multiple-negative-z-divs-expected.html: Added.
        * compositing/subtree-div-overlaps-multiple-negative-z-divs.html: Added.

2021-09-01  Sonia Singla  <ssingla@igalia.com>

        Replace webkit- prefix logical properties with Standard Properties in LayoutTests/
        https://bugs.webkit.org/show_bug.cgi?id=228730

        Reviewed by Frédéric Wang.

        List of webkit- prefixed logical properties replaced with
        - webkit-border-after >> border-block-end
        - webkit-border-after-width >> border-block-end-width
        - webkit-border-before-style >> border-block-start-style
        - webkit-border-before-width >> border-block-start-width
        - webkit-border-end >> border-inline-end
        - webkit-border-end-color >> border-inline-end-color
        - webkit-border-end-style >> border-inline-end-style
        - webkit-border-end-width >> border-inline-end-width
        - webkit-border-start >> border-inline-start
        - webkit-border-start-color >> border-inline-start-color
        - webkit-border-start-style >> border-inline-start-style
        - webkit-border-start-width >> border-inline-start-width
        - webkit-logical-height >> block-size
        - webkit-logical-width >> inline-size
        - webkit-margin-after >> margin-block-end
        - webkit-margin-before >> margin-block-start
        - webkit-margin-end >> margin-inline-end
        - webkit-margin-start >> margin-inline-start
        - webkit-min-logical-height >> min-block-size
        - webkit-padding-after >> padding-block-end
        - webkit-padding-before >> padding-block-start
        - webkit-padding-end >> padding-inline-end
        - webkit-padding-start >> padding-inline-start

        * compositing/bounds-in-flipped-writing-mode.html:
        * css3/flexbox/flex-flow-auto-margins.html:
        * css3/flexbox/flex-flow-border.html:
        * css3/flexbox/flex-flow-margins.html:
        * css3/flexbox/flex-flow-padding.html:
        * css3/flexbox/flex-flow.html:
        * css3/flexbox/multiline-align-self.html:
        * css3/flexbox/multiline-justify-content.html:
        * css3/flexbox/negative-flex-rounding-assert.html:
        * css3/flexbox/writing-modes.html:
        * editing/deleting/delete-blockquote-large-offsets.html:
        * editing/deleting/delete-selection-crash.html:
        * editing/selection/move-by-word-visually-crash-test-5.html:
        * fast/block/float/float-list-changed-before-layout-crash.html:
        * fast/block/float/intruding-float-not-removed-from-next-sibling-crash.html:
        * fast/block/positioning/vertical-lr/003.html:
        * fast/block/positioning/vertical-lr/004.html:
        * fast/block/positioning/vertical-rl/003.html:
        * fast/block/positioning/vertical-rl/004.html:
        * fast/borders/border-styles-split.html:
        * fast/borders/empty-drawrect-assert-after-pixelsnap.html:
        * fast/css/fontMetric-webkit-border-end-width-null-crash.html:
        * fast/css/identical-logical-height-decl.html:
        * fast/css/logical-property-resolution.html:
        * fast/css/overflow-btt-border-after.html:
        * fast/css/overflow-rtl-border-after.html:
        * fast/css/style-resolver-cache-direction-1.html:
        * fast/css/style-resolver-cache-direction-2.html:
        * fast/css/style-resolver-cache-direction-3.html:
        * fast/css/variables/direction-dependent-variable-properties.html:
        * fast/dom/HTMLElement/attr-dir-auto-change-before-text-node.html:
        * fast/dom/HTMLElement/attr-dir-auto-change-child-node.html:
        * fast/dom/HTMLElement/attr-dir-auto-change-text-form-control.html:
        * fast/dom/HTMLElement/attr-dir-auto-change-text.html:
        * fast/dom/HTMLElement/attr-dir-auto-children.html:
        * fast/dom/HTMLElement/attr-dir-auto-remove-add-children.html:
        * fast/dom/HTMLElement/attr-dir-auto-text-form-control-child.html:
        * fast/dom/HTMLElement/attr-dir-auto-text-form-control.html:
        * fast/dom/HTMLElement/attr-dir-auto.html:
        * fast/dom/HTMLElement/attr-dir-value-change.html:
        * fast/dynamic/crash-paint-no-documentElement-renderer-expected.txt:
        * fast/dynamic/crash-paint-no-documentElement-renderer.html:
        * fast/forms/fieldset/fieldset-deprecated-flexbox-expected.html:
        * fast/forms/fieldset/fieldset-deprecated-flexbox.html:
        * fast/forms/fieldset/fieldset-flexbox-expected.html:
        * fast/forms/fieldset/fieldset-flexbox.html:
        * fast/forms/fieldset/fieldset-overflow-auto-expected.html:
        * fast/forms/fieldset/fieldset-overflow-auto.html:
        * fast/forms/fieldset/fieldset-overflow-hidden-expected.html:
        * fast/forms/fieldset/fieldset-overflow-hidden.html:
        * fast/forms/fieldset/fieldset-positioned-children-expected.html:
        * fast/forms/fieldset/fieldset-positioned-children.html:
        * fast/forms/fieldset/fieldset-positioned-legend-expected.html:
        * fast/forms/fieldset/fieldset-positioned-legend.html:
        * fast/forms/fieldset/fieldset-self-painting-legend-expected.html:
        * fast/forms/fieldset/fieldset-self-painting-legend.html:
        * fast/forms/fieldset/fieldset-writing-modes-expected.html:
        * fast/forms/fieldset/fieldset-writing-modes.html:
        * fast/images/mask-box-image-crash.html:
        * fast/layers/geometry-map-saturated-offset-assert.html:
        * fast/multicol/client-rects-spanners-complex.html:
        * fast/multicol/client-rects-spanners.html:
        * fast/multicol/client-rects.html:
        * fast/multicol/crash-when-line-grid-is-shorter-than-half-px.html:
        * fast/multicol/negativeColumnGap.html:
        * fast/multicol/newmulticol/client-rects.html:
        * fast/multicol/newmulticol/compare-with-old-impl/overflow-content-expected.html:
        * fast/multicol/newmulticol/compare-with-old-impl/overflow-content.html:
        * fast/multicol/newmulticol/hide-box-vertical-lr-expected.html:
        * fast/multicol/newmulticol/hide-box-vertical-lr.html:
        * fast/multicol/newmulticol/hide-box-vertical-rl-expected.html:
        * fast/multicol/newmulticol/hide-box-vertical-rl.html:
        * fast/multicol/newmulticol/multicol-inside-multicol.html:
        * fast/multicol/newmulticol/progression-reverse-expected.html:
        * fast/multicol/newmulticol/progression-reverse-overflow-expected.html:
        * fast/multicol/newmulticol/progression-reverse-overflow.html:
        * fast/multicol/newmulticol/progression-reverse.html:
        * fast/multicol/offset-top-left.html:
        * fast/multicol/overflow-content-expected.html:
        * fast/multicol/overflow-content.html:
        * fast/multicol/pageLogicalOffset-vertical.html:
        * fast/multicol/progression-reverse-overflow-expected.html:
        * fast/multicol/progression-reverse-overflow.html:
        * fast/multicol/progression-reverse.html:
        * fast/multicol/resources/block-axis.css:
        (div):
        * fast/multicol/vertical-lr/column-break-with-balancing.html:
        * fast/multicol/vertical-lr/float-paginate-complex.html:
        * fast/multicol/vertical-lr/float-truncation.html:
        * fast/multicol/vertical-lr/rules-with-border-before.html:
        * fast/multicol/vertical-rl/column-break-with-balancing.html:
        * fast/multicol/vertical-rl/float-paginate-complex.html:
        * fast/multicol/vertical-rl/float-truncation.html:
        * fast/multicol/vertical-rl/rules-with-border-before.html:
        * fast/ruby/position-after.html:
        * fast/table/border-collapsing/001-vertical.html:
        * fast/table/border-collapsing/border-collapsing-head-foot-vertical.html:
        * fast/table/border-collapsing/equal-precedence-resolution-vertical.html:
        * fast/table/border-collapsing/rtl-border-collapsing-vertical.html:
        * fast/table/fixed-with-auto-with-colspan-vertical.html:
        * fast/text/decorations-with-text-combine.html:
        * fast/text/dirty-inline-textbox-crash.html:
        * fast/writing-mode/Kusa-Makura-background-canvas.html:
        * fast/writing-mode/block-level-images.html:
        * fast/writing-mode/border-radius-clipping-vertical-lr.html:
        * fast/writing-mode/border-styles-vertical-lr-mixed.html:
        * fast/writing-mode/border-styles-vertical-lr.html:
        * fast/writing-mode/border-styles-vertical-rl-mixed.html:
        * fast/writing-mode/border-styles-vertical-rl.html:
        * fast/writing-mode/fieldsets.html:
        * fast/writing-mode/flipped-blocks-text-map-local-to-container.html:
        * fast/writing-mode/horizontal-bt-replaced-selection.html:
        * fast/writing-mode/logical-height-after-clear-expected.html:
        * fast/writing-mode/logical-height-after-clear.html:
        * fast/writing-mode/root-lr-basic.html:
        * fast/writing-mode/vertical-lr-replaced-selection-mixed.html:
        * fast/writing-mode/vertical-lr-replaced-selection.html:
        * fast/writing-mode/vertical-rl-replaced-selection-mixed.html:
        * fast/writing-mode/vertical-rl-replaced-selection.html:
        * js/suppress-asan-on-clobberize-to-workaround-asan-bug.html:
        * mathml/presentation/dir-mo-expected.html:
        * mathml/presentation/mo-lspace-rspace-expected.html:
        * scrollbars/scrollbar-part-created-with-no-parent-crash.html:
        * scrollbars/scrollbar-percent-padding-crash.html:
        * svg/as-image/svg-intrinsic-size-rectangular-vertical-expected.html:
        * svg/as-image/svg-intrinsic-size-rectangular-vertical.html:

2021-09-01  Lauro Moura  <lmoura@igalia.com>

        [WPE] Update baselines of some failing tests

        Unreviewed test gardening.

        * platform/wpe/fast/css/font-face-multiple-faces-expected.txt: After r266118.
        * platform/wpe/fast/css/font-face-synthetic-bold-italic-expected.txt: Ditto.
        * platform/wpe/fast/css/font-face-weight-matching-expected.txt: Ditto.
        * platform/wpe/fast/dom/52776-expected.txt: After r281419.
        * platform/wpe/fast/editing/insert-paragraph-with-text-in-table-crash-expected.txt: Added.
        * platform/wpe/fast/editing/paste-and-match-style-with-table-2-crash-expected.txt: Added.
        * platform/wpe/fast/frames/onlyCommentInIFrame-expected.txt: After r281357.
        * platform/wpe/fast/text/font-weights-zh-expected.txt:
        * platform/wpe/svg/W3C-SVG-1.1-SE/paths-dom-02-f-expected.txt: After r266118.
        * platform/wpe/svg/W3C-SVG-1.1-SE/pservers-pattern-03-f-expected.txt: Ditto.
        * platform/wpe/svg/W3C-SVG-1.1-SE/struct-use-14-f-expected.txt: Ditto.

2021-09-01  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for 2 webrtc tests..
        https://bugs.webkit.org/show_bug.cgi?id=229517.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-09-01  Marcos Caceres  <marcos@marcosc.com>

        Add "payment" permissions policy
        https://bugs.webkit.org/show_bug.cgi?id=229406

        Reviewed by Devin Rousso.

        * http/tests/paymentrequest/payment-allow-attribute.https-expected.txt: Added.
        * http/tests/paymentrequest/payment-allow-attribute.https.html: Added.
        * http/tests/paymentrequest/resources/payment-postmessage.html: Added.

2021-09-01  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS15 ] editing/caret/ios/caret-in-overflow-area.html is failing.
        <rdar://82190832>

        Unreviewed test gardening.

        * platform/ios-15/TestExpectations:

2021-09-01  Eric Carlson  <eric.carlson@apple.com>

        [macOS] getDisplayMedia should capture at the constrained size if possible
        https://bugs.webkit.org/show_bug.cgi?id=229357
        <rdar://problem/82191109>

        Reviewed by Youenn Fablet.

        * fast/mediastream/get-display-media-capabilities-expected.txt: Added.
        * fast/mediastream/get-display-media-capabilities.html: Added.

2021-09-01  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur arm64 Debug EWS ] ASSERTION FAILED: m_uncommittedState.state == State::Provisional.
        https://bugs.webkit.org/show_bug.cgi?id=229769

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-01  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Garden a couple of flaky tests.
        https://bugs.webkit.org/show_bug.cgi?id=229767

        Unreviewed test gardening.

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:

2021-09-01  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [Gstreamer] mark http/tests/media/media-stream/audio-capture-and-category.https.html as failing
        https://bugs.webkit.org/show_bug.cgi?id=229761

        Unreviewed test gardening.

        * platform/glib/TestExpectations:

2021-09-01  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ macOS & Win ] fast/repaint/list-item-equal-style-change-no-repaint.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=215723

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-09-01  Eric Hutchison  <ehutchison@apple.com>

        [Mac] imported/w3c/web-platform-tests/html/cross-origin-opener-policy/coop-csp-sandbox-navigate.https.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229766.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-09-01  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Catalina Debug EWS ] ASSERTION FAILED: m_wrapper ./bindings/js/JSEventListener.h(128) : JSC::JSObject *WebCore::JSEventListener::ensureJSFunction(WebCore::ScriptExecutionContext &) const.
        https://bugs.webkit.org/show_bug.cgi?id=229765

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-09-01  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Monterey GuardMalloc ] accessibility/* tests are timing out.
        <rdar://82147955>

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-01  Eric Hutchison  <ehutchison@apple.com>

        [Mac wk2] animations/background-position.html is a flaky image-only failure.
        https://bugs.webkit.org/show_bug.cgi?id=229764.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-09-01  Sihui Liu  <sihui_liu@apple.com>

        Unreviewed test gardening after r281818.

        * platform/mac-wk1/TestExpectations:

2021-09-01  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for fast/iOS/events.
        https://bugs.webkit.org/show_bug.cgi?id=229691.

        Unreviewed test gardening.

        * platform/ios-14/TestExpectations:
        * platform/ios-wk2/TestExpectations:
        * platform/ipad/TestExpectations:

2021-09-01  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [Gstreamer] mark http/tests/media/media-stream/audio-capture-and-category.https.html as failing
        https://bugs.webkit.org/show_bug.cgi?id=229761

        Unreviewed test gardening.

        * platform/glib/TestExpectations:

2021-09-01  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GTK] Update baselines after r281685
        https://bugs.webkit.org/show_bug.cgi?id=229717

        Unreviewed test gardening.

        * platform/gtk/editing/caret/caret-color-expected.txt:

2021-09-01  Chris Dumez  <cdumez@apple.com>

        Regression(r272607) Removal of alert()/confirm() in third-party iframes breaks Salesforce
        https://bugs.webkit.org/show_bug.cgi?id=229737
        <rdar://82591122>

        Unreviewed, Update existing tests to reflect behavior change.

        * http/tests/security/cross-origin-js-prompt-allowed-expected.txt: Added.
        * http/tests/security/cross-origin-js-prompt-allowed.html: Renamed from LayoutTests/http/tests/security/cross-origin-js-prompt-forbidden.html.
        * http/tests/security/cross-origin-js-prompt-forbidden-expected.txt: Removed.
        * http/tests/security/resources/cross-origin-js-prompt-allowed.html: Renamed from LayoutTests/http/tests/security/resources/cross-origin-js-prompt-forbidden.html.
        * http/tests/security/same-origin-different-domain-js-prompt-allowed-expected.txt: Added.
        * http/tests/security/same-origin-different-domain-js-prompt-allowed.html: Renamed from LayoutTests/http/tests/security/same-origin-different-domain-js-prompt-forbidden.html.
        * http/tests/security/same-origin-different-domain-js-prompt-forbidden-expected.txt: Removed.

2021-09-01  Myles C. Maxfield  <mmaxfield@apple.com>

        CSSFontFaceSet.clear() should not clear CSS-connected members
        https://bugs.webkit.org/show_bug.cgi?id=229643

        Reviewed by Darin Adler.

        * TestExpectations:

2021-08-13  Sergio Villar Senin  <svillar@igalia.com>

        [css-flexbox] Add initial support for css-align-3 positional alignment properties
        https://bugs.webkit.org/show_bug.cgi?id=229074

        Reviewed by Simon Fraser.

        * TestExpectations: Unskipped 4 WPT tests that are passing now.

2021-08-31  Myles C. Maxfield  <mmaxfield@apple.com>

        Import web-platform-tests/css/css-font-loading
        https://bugs.webkit.org/show_bug.cgi?id=229729

        Reviewed by Simon Fraser.

        * TestExpectations:
        * tests-options.json:

2021-08-31  Yusuke Suzuki  <ysuzuki@apple.com>

        [JSC] Enable Object.hasOwn
        https://bugs.webkit.org/show_bug.cgi?id=229730

        Reviewed by Saam Barati.

        * js/Object-getOwnPropertyNames-expected.txt:
        * js/script-tests/Object-getOwnPropertyNames.js:

2021-08-31  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Monterey GuardMalloc ] accessibility/* tests are timing out.
        <rdar://82147955>

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-31  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS Release ] svg/W3C-SVG-1.1/struct-dom-06-b.svg is flaky text failing.
        https://bugs.webkit.org/show_bug.cgi?id=229743

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-08-31  Marcos Caceres  <marcos@marcosc.com>

        [Payment Request] Calling PaymentRequest's show() should consume user activation
        https://bugs.webkit.org/show_bug.cgi?id=217365

        Reviewed by Youenn Fablet and Devin Rousso.

        * http/tests/paymentrequest/payment-is-showing.https.html:
        * http/tests/paymentrequest/payment-request-show-method.https.html:
        * platform/ios-wk2/imported/w3c/web-platform-tests/payment-request/show-method-optional-promise-rejects.https-expected.txt: Removed.

2021-08-31  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for iOS14 fast/ tests.
        https://bugs.webkit.org/show_bug.cgi?id=229656.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/ipad/TestExpectations:

2021-08-31  Carlos Alberto Lopez Perez  <clopez@igalia.com>

        [GTK][WPE] Gardening of test failures

        Unreviewed test gardening.

        Report and mark new expected failures and rebase-line a few tests.

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:
        * platform/gtk/fast/forms/basic-textareas-expected.png:
        * platform/gtk/fast/forms/basic-textareas-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/inert/inert-retargeting-iframe.tentative-expected.txt: Added.
        * platform/wpe/fast/forms/basic-textareas-expected.png: Added.
        * platform/wpe/fast/forms/basic-textareas-expected.txt: Added.
        * platform/wpe/imported/w3c/web-platform-tests/inert/inert-retargeting-iframe.tentative-expected.txt: Added.

2021-08-31  Eric Hutchison  <ehutchison@apple.com>

        [Big Sur wk2] fast/hidpi/image-srcset-svg-canvas-2x.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229736.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-31  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for imported/w3c/web-platform-tests/webrtc/RTCRtpSender-encode-same-track-twice.https.html.
        https://bugs.webkit.org/show_bug.cgi?id=226054.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-31  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur EWS ] ASSERTION FAILED: reasonForSuspendingActiveDOMObjects() == ReasonForSuspension::PageWillBeSuspended.
        https://bugs.webkit.org/show_bug.cgi?id=229723

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-31  Wenson Hsieh  <wenson_hsieh@apple.com>

        EWS should run tests in fast/events/ios by default
        https://bugs.webkit.org/show_bug.cgi?id=229691

        Reviewed by Tim Horton.

        Enable most of the tests in fast/events/ios in open source test runners, so that they can run in pre-commit
        automation (EWS). We move a handful of tests that have explicit dependencies on touch events out of this
        directory and into fast/events/touch/ios instead.

        * fast/events/touch/ios/no-touch-events-when-stopping-momentum-scroll-in-mainframe-expected.txt: Renamed from LayoutTests/fast/events/ios/no-touch-events-when-stopping-momentum-scroll-in-mainframe-expected.txt.
        * fast/events/touch/ios/no-touch-events-when-stopping-momentum-scroll-in-mainframe.html: Renamed from LayoutTests/fast/events/ios/no-touch-events-when-stopping-momentum-scroll-in-mainframe.html.
        * fast/events/touch/ios/no-touch-events-when-stopping-momentum-scroll-in-overflow-expected.txt: Renamed from LayoutTests/fast/events/ios/no-touch-events-when-stopping-momentum-scroll-in-overflow-expected.txt.
        * fast/events/touch/ios/no-touch-events-when-stopping-momentum-scroll-in-overflow.html: Renamed from LayoutTests/fast/events/ios/no-touch-events-when-stopping-momentum-scroll-in-overflow.html.
        * fast/events/touch/ios/touch-events-during-scroll-deceleration-in-overflow-expected.txt: Renamed from LayoutTests/fast/events/ios/touch-events-during-scroll-deceleration-in-overflow-expected.txt.
        * fast/events/touch/ios/touch-events-during-scroll-deceleration-in-overflow.html: Renamed from LayoutTests/fast/events/ios/touch-events-during-scroll-deceleration-in-overflow.html.
        * platform/ios-14/TestExpectations:
        * platform/ios-wk2/TestExpectations:

        Mark tests in both fast/events/ios and fast/forms/ios as PASS by default, while skipping the "ipad" directories
        that are underneath them. These ipad-specific test directories are then marked PASS by default below, in
        platform/ipad/TestExpectations.

        * platform/ios/TestExpectations:
        * platform/ipad/TestExpectations:

2021-08-31  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test baselines after r281771
        https://bugs.webkit.org/show_bug.cgi?id=229718

        Unreviewed test gardening.

        * platform/gtk/fast/dom/navigator-detached-no-crash-expected.txt:
        * platform/wpe/fast/dom/navigator-detached-no-crash-expected.txt:

2021-08-31  Ayumi Kojima  <ayumi_kojima@apple.com>

        ASSERTION FAILED: willBeComposited == needsToBeComposited(layer, queryData) on "youtube-plugin-replacement" & "quicktime-plugin-replacement tests".
        https://bugs.webkit.org/show_bug.cgi?id=229505

        Unreviewed test gardening.

        * TestExpectations: Moved expectations from mac-wk2 so that the tests skip on all platforms
        * platform/mac-wk2/TestExpectations:

2021-08-31  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ EWS Catalina Debug ] Fast/* tests are flaky with ASSERTION FAILED: !m_deletionHasBegun.
        https://bugs.webkit.org/show_bug.cgi?id=229714

        Unreveiwed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-08-31  Rob Buis  <rbuis@igalia.com>

        Nullptr crash in TypingCommand::willAddTypingToOpenCommand via TypingCommand::deleteKeyPressed
        https://bugs.webkit.org/show_bug.cgi?id=229277

        Reviewed by Ryosuke Niwa.

        * editing/deleting/delete-key-crash-expected.txt: Added.
        * editing/deleting/delete-key-crash.html: Added.

2021-08-31  Kimmo Kinnunen  <kkinnunen@apple.com>

        webgl/1.0.x/conformance/glsl/misc/fragcolor-fragdata-invariant.html fails
        https://bugs.webkit.org/show_bug.cgi?id=223317
        <rdar://problem/75772659>

        Reviewed by Kenneth Russell.

       Fixes tests:
       webgl/1.0.x/conformance/glsl/misc/fragcolor-fragdata-invariant.html
       webgl/2.0.y/conformance/glsl/misc/fragcolor-fragdata-invariant.html

        * TestExpectations:
        Mark the skipped tests as Pass until all 1.0.x/2.0.y tests
        are unskipped.

2021-08-31  Myles C. Maxfield  <mmaxfield@apple.com>

        [Cocoa] Drawing system fallback fonts to canvas causes a crash
        https://bugs.webkit.org/show_bug.cgi?id=229633
        <rdar://problem/81889036>

        Reviewed by Wenson Hsieh.

        * fast/text/system-fallback-canvas-expected.txt: Added.
        * fast/text/system-fallback-canvas.html: Added.

2021-08-30  Megan Gardner  <megan_gardner@apple.com>

        Update fast/events/touch/ios/long-press-to-select-text.html 
        https://bugs.webkit.org/show_bug.cgi?id=229689
        rdar://29333567

        Reviewed by Wenson Hsieh.

        Test marked as failing on an old build. Seems to be fine now, but taking the opportunity to update
        the test to use the latest helper functions.

        * fast/events/touch/ios/long-press-to-select-text.html:

2021-08-30  Megan Gardner  <megan_gardner@apple.com>

        Fix double-tap-on-editable-content-for-selection-then-drag-* tests.
        https://bugs.webkit.org/show_bug.cgi?id=229683
        rdar://59571151

        Reviewed by Wenson Hsieh.

        Add delay to allow double-tap gesture to reset before the other gestures can be invoked.
        Also update to use more functions from UIHelper, which is newer and more maintained.

        * fast/events/touch/ios/double-tap-on-editable-content-for-selection-then-drag-down-to-change-selected-text.html:
        * fast/events/touch/ios/double-tap-on-editable-content-for-selection-then-drag-left-to-change-selected-text.html:
        * fast/events/touch/ios/double-tap-on-editable-content-for-selection-then-drag-right-to-change-selected-text.html:
        * fast/events/touch/ios/double-tap-on-editable-content-for-selection-then-drag-up-to-change-selected-text.html:

2021-08-30  Lauro Moura  <lmoura@igalia.com>

        [GLIB] Add new baselines after css-masking WPT update from r281580

        Unreviewed test gardening.

        * platform/glib/imported/w3c/web-platform-tests/css/css-masking/clip-path-svg-content/clip-path-text-001-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/css/css-masking/clip-path-svg-content/clip-path-text-002-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/css/css-masking/clip-path-svg-content/clip-path-text-003-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/css/css-masking/clip-path-svg-content/clip-path-text-004-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/css/css-masking/clip-path-svg-content/clip-path-text-005-expected.txt: Added.

2021-08-30  Chris Dumez  <cdumez@apple.com>

        Resync COOP / COEP WPT tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=229678

        Reviewed by Alex Christensen.

        * TestExpectations:
        * tests-options.json:

2021-08-30  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Mark more css-backgrounds tests as expected failures
        https://bugs.webkit.org/show_bug.cgi?id=229685

        Unreviewed test gardening.

        * platform/glib/TestExpectations:

2021-08-30  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Mac ] http/tests/media/hls/hls-webvtt-seek-backwards.html is a flaky timeout..
        https://bugs.webkit.org/show_bug.cgi?id=228189

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations: Moved expectations from mac-wk2 to mac
        * platform/mac/TestExpectations:

2021-08-30  Sihui Liu  <sihui_liu@apple.com>

        Add stubs for Permissions API
        https://bugs.webkit.org/show_bug.cgi?id=229339
        <rdar://problem/82442205>

        Reviewed by Chris Dumez.

        * TestExpectations:
        * platform/mac-wk1/fast/dom/navigator-detached-no-crash-expected.txt:
        * platform/mac-wk2/fast/dom/navigator-detached-no-crash-expected.txt:
        * platform/wk2/TestExpectations:

2021-08-30  Chris Dumez  <cdumez@apple.com>

        SubmitEvent.submitter property isn't set for <button type="submit">
        https://bugs.webkit.org/show_bug.cgi?id=229660

        Reviewed by Ryosuke Niwa.

        Add layout test coverage.

        * fast/forms/submit-button-submit-event-expected.txt: Added.
        * fast/forms/submit-button-submit-event.html: Added.

2021-08-30  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur arm64 EWS ] ASSERTION FAILED: !needsLayout() ./rendering/RenderView.cpp(305) : virtual void WebCore::RenderView::paint(WebCore::PaintInfo &, const WebCore::LayoutPoint &).
        https://bugs.webkit.org/show_bug.cgi?id=229671

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-30  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Win EWS ] http/tests/websocket/tests/hybi/simple-wss.html is failing.
        https://bugs.webkit.org/show_bug.cgi?id=229669

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-08-30  Philippe Normand  <pnormand@igalia.com>

        Unreviewed, GLib mediastream gardening

        * platform/glib/TestExpectations: A few tests timing out in Debug, since r277763.

2021-08-29  Lauro Moura  <lmoura@igalia.com>

        [GLIB] Update fast/border baselines after r281724

        Unreviewed test gardening.

        * platform/glib/fast/borders/border-fit-expected.txt: Renamed from LayoutTests/platform/gtk/fast/borders/border-fit-expected.txt.
        * platform/glib/fast/borders/border-image-01-expected.txt:
        * platform/glib/fast/borders/border-image-longhand-expected.txt:
        * platform/glib/fast/borders/border-image-massive-scale-expected.txt:
        * platform/glib/fast/borders/border-image-omit-right-slice-expected.txt:
        * platform/glib/fast/borders/border-image-outset-expected.txt:
        * platform/glib/fast/borders/border-image-outset-in-shorthand-expected.txt:
        * platform/glib/fast/borders/border-image-outset-split-inline-expected.txt:
        * platform/glib/fast/borders/border-image-outset-split-inline-vertical-lr-expected.txt:
        * platform/glib/fast/borders/border-image-repeat-expected.txt:
        * platform/glib/fast/borders/border-image-rotate-transform-expected.txt:
        * platform/glib/fast/borders/border-image-scale-transform-expected.txt:
        * platform/glib/fast/borders/border-image-scaled-expected.txt:
        * platform/glib/fast/borders/border-image-scrambled-expected.txt:
        * platform/glib/fast/borders/border-image-side-reduction-expected.txt:
        * platform/glib/fast/borders/border-image-slice-constrained-expected.txt:
        * platform/glib/fast/borders/border-image-slices-expected.txt:
        * platform/glib/fast/borders/border-image-source-expected.txt:
        * platform/glib/fast/borders/border-image-trumps-radius-expected.txt: Added.
        * platform/glib/fast/borders/fieldsetBorderRadius-expected.txt: Renamed from LayoutTests/platform/gtk/fast/borders/fieldsetBorderRadius-expected.txt.
        * platform/glib/fast/borders/scaled-border-image-expected.txt:
        * platform/glib/fast/gradients/border-image-gradient-expected.txt: Added.
        * platform/glib/fast/hidpi/image-set-border-image-comparison-expected.txt:
        * platform/glib/fast/hidpi/image-set-border-image-dynamic-expected.txt: Renamed from LayoutTests/platform/gtk/fast/hidpi/image-set-border-image-dynamic-expected.txt.
        * platform/glib/fast/hidpi/image-set-border-image-simple-expected.txt:
        * platform/glib/fast/writing-mode/border-image-horizontal-bt-expected.txt:
        * platform/glib/fast/writing-mode/border-image-vertical-lr-expected.txt:
        * platform/glib/fast/writing-mode/border-image-vertical-rl-expected.txt:
        * platform/glib/svg/as-border-image/svg-as-border-image-2-expected.txt:
        * platform/glib/svg/as-border-image/svg-as-border-image-expected.txt:
        * platform/gtk/fast/borders/border-image-border-radius-expected.txt:
        * platform/wpe/fast/borders/border-fit-expected.txt: Removed.
        * platform/wpe/fast/borders/border-image-border-radius-expected.txt:
        * platform/wpe/fast/borders/fieldsetBorderRadius-expected.txt: Removed.
        * platform/wpe/fast/hidpi/image-set-border-image-dynamic-expected.txt: Removed.

2021-08-29  Wenson Hsieh  <wenson_hsieh@apple.com>

        Run tests in fast/forms/ios by default in EWS
        https://bugs.webkit.org/show_bug.cgi?id=229656

        Reviewed by Tim Horton.

        Adjust test expectations so that tests added to fast/forms/ios run on (open source) iOS simulator test runners
        in EWS.

        * platform/ios-14/TestExpectations:
        * platform/ios-wk2/TestExpectations:

        Mark "fast/forms/ios" as PASS by default in the WebKit2 port on iOS, but add a few more expectations for tests
        that are currently failing or flaky in non-internal iOS 14 simulator builds.

        * pointerevents/ios/inputmode-change-update-keyboard-after-pointerup-expected.txt: Renamed from LayoutTests/fast/forms/ios/inputmode-change-update-keyboard-after-pointerup-expected.txt.
        * pointerevents/ios/inputmode-change-update-keyboard-after-pointerup.html: Renamed from LayoutTests/fast/forms/ios/inputmode-change-update-keyboard-after-pointerup.html.

        Move a layout tests that depends on pointer events ("pointerup" and "pointerdown") into
        LayoutTests/pointerevents/ios, so that we don't start attempting to run this in OpenSource.

2021-08-29  Rob Buis  <rbuis@igalia.com>

        Nullptr crash in ReplaceSelectionCommand::removeRedundantStylesAndKeepStyleSpanInline
        https://bugs.webkit.org/show_bug.cgi?id=229280

        Reviewed by Ryosuke Niwa.

        * editing/selection/replace-selection-crash-02-expected.txt: Added.
        * editing/selection/replace-selection-crash-02.html: Added.

2021-08-28  Simon Fraser  <simon.fraser@apple.com>

        Zooming browser does not properly scale SVG clip paths
        https://bugs.webkit.org/show_bug.cgi?id=224795

        Reviewed by Tim Horton.
        
        Tests for various clipping configurations which use the 'zoom' property which
        has the same impact as Command+ zooming.

        * css3/masking/clip-path-reference-painted-mask-zoom-expected.html: Added.
        * css3/masking/clip-path-reference-painted-mask-zoom.html: Added.
        * css3/masking/clip-path-reference-zoom-expected.html: Added.
        * css3/masking/clip-path-reference-zoom-objectBoundingBox-expected.html: Added.
        * css3/masking/clip-path-reference-zoom-objectBoundingBox.html: Added.
        * css3/masking/clip-path-reference-zoom.html: Added.

2021-08-28  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Move content builder functionality to a dedicated class
        https://bugs.webkit.org/show_bug.cgi?id=229631

        Reviewed by Antti Koivisto.

        * TestExpectations:

2021-08-27  Myles C. Maxfield  <mmaxfield@apple.com>

        The simple text codepath does not handle unpaired surrogates
        https://bugs.webkit.org/show_bug.cgi?id=229392

        Reviewed by Alan Bujtas.

        * fast/text/unpaired-surrogate-expected-mismatch.html: Added.
        * fast/text/unpaired-surrogate.html: Added.

2021-08-27  Eric Carlson  <eric.carlson@apple.com>

        [ Catalina EWS ] media/track/track-disabled-addcue.html is flaky crashing
        https://bugs.webkit.org/show_bug.cgi?id=229462
        <rdar://problem/82302915>

        Reviewed by Darin Adler.

        * platform/mac-wk1/TestExpectations:

2021-08-27  Simon Fraser  <simon.fraser@apple.com>

        [CSS3 Backgrounds and Borders] The border image area should be empty if border-style is none and border-image-width is not set
        https://bugs.webkit.org/show_bug.cgi?id=99922

        Reviewed by Alan Bujtas.

        Rebaselines for "solid" in output, and border-image no longer affecting layout.

        Fix tests to add "border-style: solid" when the old behavior was expected.

        * fast/borders/border-image-01.html:
        * fast/borders/border-image-border-radius.html:
        * fast/borders/border-image-fill-no-intrinsic-size.html:
        * fast/borders/border-image-longhand.html:
        * fast/borders/border-image-massive-scale.html:
        * fast/borders/border-image-omit-right-slice.html:
        * fast/borders/border-image-outset-in-shorthand.html:
        * fast/borders/border-image-outset-split-inline-vertical-lr.html:
        * fast/borders/border-image-outset-split-inline.html:
        * fast/borders/border-image-outset.html:
        * fast/borders/border-image-repeat.html:
        * fast/borders/border-image-rotate-transform.html:
        * fast/borders/border-image-scale-transform.html:
        * fast/borders/border-image-scaled.html:
        * fast/borders/border-image-scrambled.html:
        * fast/borders/border-image-should-not-display-expected.html: Added.
        * fast/borders/border-image-should-not-display.html: Added.
        * fast/borders/border-image-side-reduction.html:
        * fast/borders/border-image-slice-constrained.html:
        * fast/borders/border-image-slice-missing-right.html:
        * fast/borders/border-image-slices.html:
        * fast/borders/border-image-source.html:
        * fast/borders/border-image-trumps-radius-expected.txt:
        * fast/borders/border-image-trumps-radius.html:
        * fast/borders/hidpi-border-image-gradient-on-subpixels.html:
        * fast/borders/scaled-border-image.html:
        * fast/gradients/border-image-gradient-expected.txt:
        * fast/gradients/border-image-gradient.html:
        * fast/hidpi/image-set-border-image-comparison.html:
        * fast/hidpi/image-set-border-image-dynamic.html:
        * fast/hidpi/image-set-border-image-simple.html:
        * fast/writing-mode/border-image-horizontal-bt.html:
        * fast/writing-mode/border-image-vertical-lr.html:
        * fast/writing-mode/border-image-vertical-rl.html:
        * platform/ios/fast/borders/border-image-01-expected.txt:
        * platform/ios/fast/borders/border-image-border-radius-expected.txt:
        * platform/ios/fast/borders/border-image-longhand-expected.txt:
        * platform/ios/fast/borders/border-image-massive-scale-expected.txt:
        * platform/ios/fast/borders/border-image-omit-right-slice-expected.txt:
        * platform/ios/fast/borders/border-image-outset-expected.txt:
        * platform/ios/fast/borders/border-image-outset-in-shorthand-expected.txt:
        * platform/ios/fast/borders/border-image-outset-split-inline-expected.txt:
        * platform/ios/fast/borders/border-image-outset-split-inline-vertical-lr-expected.txt:
        * platform/ios/fast/borders/border-image-repeat-expected.txt:
        * platform/ios/fast/borders/border-image-rotate-transform-expected.txt:
        * platform/ios/fast/borders/border-image-scale-transform-expected.txt:
        * platform/ios/fast/borders/border-image-scaled-expected.txt:
        * platform/ios/fast/borders/border-image-scrambled-expected.txt:
        * platform/ios/fast/borders/border-image-side-reduction-expected.txt:
        * platform/ios/fast/borders/border-image-slice-constrained-expected.txt:
        * platform/ios/fast/borders/border-image-slices-expected.txt:
        * platform/ios/fast/borders/border-image-source-expected.txt:
        * platform/ios/fast/borders/scaled-border-image-expected.txt:
        * platform/ios/fast/hidpi/image-set-border-image-comparison-expected.txt:
        * platform/ios/fast/hidpi/image-set-border-image-dynamic-expected.txt:
        * platform/ios/fast/hidpi/image-set-border-image-simple-expected.txt:
        * platform/ios/fast/writing-mode/border-image-horizontal-bt-expected.txt:
        * platform/ios/fast/writing-mode/border-image-vertical-lr-expected.txt:
        * platform/ios/fast/writing-mode/border-image-vertical-rl-expected.txt:
        * platform/ios/svg/as-border-image/svg-as-border-image-2-expected.txt:
        * platform/ios/svg/as-border-image/svg-as-border-image-expected.txt:
        * platform/mac/fast/borders/border-image-01-expected.txt:
        * platform/mac/fast/borders/border-image-border-radius-expected.txt:
        * platform/mac/fast/borders/border-image-longhand-expected.txt:
        * platform/mac/fast/borders/border-image-massive-scale-expected.txt:
        * platform/mac/fast/borders/border-image-omit-right-slice-expected.txt:
        * platform/mac/fast/borders/border-image-outset-expected.txt:
        * platform/mac/fast/borders/border-image-outset-in-shorthand-expected.txt:
        * platform/mac/fast/borders/border-image-outset-split-inline-expected.txt:
        * platform/mac/fast/borders/border-image-outset-split-inline-vertical-lr-expected.txt:
        * platform/mac/fast/borders/border-image-repeat-expected.txt:
        * platform/mac/fast/borders/border-image-rotate-transform-expected.txt:
        * platform/mac/fast/borders/border-image-scale-transform-expected.txt:
        * platform/mac/fast/borders/border-image-scaled-expected.txt:
        * platform/mac/fast/borders/border-image-scrambled-expected.txt:
        * platform/mac/fast/borders/border-image-side-reduction-expected.txt:
        * platform/mac/fast/borders/border-image-slice-constrained-expected.txt:
        * platform/mac/fast/borders/border-image-slices-expected.txt:
        * platform/mac/fast/borders/border-image-source-expected.txt:
        * platform/mac/fast/borders/scaled-border-image-expected.txt:
        * platform/mac/fast/hidpi/image-set-border-image-comparison-expected.txt:
        * platform/mac/fast/hidpi/image-set-border-image-dynamic-expected.txt:
        * platform/mac/fast/hidpi/image-set-border-image-simple-expected.txt:
        * platform/mac/fast/writing-mode/border-image-horizontal-bt-expected.txt:
        * platform/mac/fast/writing-mode/border-image-vertical-lr-expected.txt:
        * platform/mac/fast/writing-mode/border-image-vertical-rl-expected.txt:
        * platform/mac/svg/as-border-image/svg-as-border-image-2-expected.txt:
        * platform/mac/svg/as-border-image/svg-as-border-image-expected.txt:
        * svg/as-border-image/svg-as-border-image-2.html:
        * svg/as-border-image/svg-as-border-image.html:

2021-08-27  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Win EWS ] 2 js/dfg-* tests are flaky crashing.
        https://bugs.webkit.org/show_bug.cgi?id=229626

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-08-27  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur EWS] webrtc/video-mediastreamtrack-stats.html is a flaky crash / failing.
        https://bugs.webkit.org/show_bug.cgi?id=229614

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-27  Chris Dumez  <cdumez@apple.com>

        [WK2] Reuse the same network load when process-swapping on resource response due to COOP
        https://bugs.webkit.org/show_bug.cgi?id=229465
        <rdar://problem/82307611>

        Reviewed by Alex Christensen.

        Add layout test coverage.

        * http/wpt/cross-origin-opener-policy/resources/single-request-to-server-popup.py: Added.
        (main):
        * http/wpt/cross-origin-opener-policy/single-request-to-server-expected.txt: Added.
        * http/wpt/cross-origin-opener-policy/single-request-to-server.html: Added.

2021-08-27  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for webrtc/datachannel/multiple-connections.html.
        https://bugs.webkit.org/show_bug.cgi?id=209878.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:
        * platform/mac-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-08-27  Antti Koivisto  <antti@apple.com>

        REGRESSION (r276882): Shadow trees may use stale style information after inline stylesheet is mutated via CSSOM
        https://bugs.webkit.org/show_bug.cgi?id=228917
        rdar://81483998

        Reviewed by Alan Bujtas.

        Original reduction by Thomas Ladd.

        * fast/shadow-dom/shadow-stylesheet-mutation-expected.html: Added.
        * fast/shadow-dom/shadow-stylesheet-mutation.html: Added.

2021-08-27  Chris Dumez  <cdumez@apple.com>

        REGRESSION (r281516): imported/w3c/web-platform-tests/IndexedDB/serialize-sharedarraybuffer-throws.https.html is failing
        https://bugs.webkit.org/show_bug.cgi?id=229501
        <rdar://problem/82346152>

        Reviewed by Darin Adler.

        Unskip tests now that they should no longer be flaky.

        * platform/ios/TestExpectations:
        * platform/mac/TestExpectations:

2021-08-27  Martin Robinson  <mrobinson@webkit.org>

        [css-position-sticky] createIndicatorForStickyElements testing function races with font loading
        https://bugs.webkit.org/show_bug.cgi?id=229602

        Reviewed by Žan Doberšek.

        * TestExpectations: Mark a test as newly passing.

2021-08-27  Ayumi Kojima  <ayumi_kojima@apple.com>

        [Mac wk2] http/tests/media/hls/hls-webvtt-seek-backwards.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=228189

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-27  Andres Gonzalez  <andresg_22@apple.com>

        Make AXCoreObject::setSelectedVisiblePositionRange work in native text controls on MacOS.
        https://bugs.webkit.org/show_bug.cgi?id=229529

        Reviewed by Chris Fleizach.

        * accessibility/mac/native-text-control-set-selected-textmarker-range-expected.txt: Added.
        * accessibility/mac/native-text-control-set-selected-textmarker-range.html: Added.

2021-08-27  Martin Robinson  <mrobinson@webkit.org>

        [css-position-sticky] Update WPT position:sticky tests
        https://bugs.webkit.org/show_bug.cgi?id=229555

        Reviewed by Sergio Villar Senin.

        * TestExpectations: Unskip newly passing tests.

2021-08-26  Myles C. Maxfield  <mmaxfield@apple.com>

        Synthetic bold additional advances need to be applied after shaping
        https://bugs.webkit.org/show_bug.cgi?id=189448
        <rdar://problem/40994395>

        Reviewed by Alan Bujtas.

        These tests are progressions.

        * fast/text/osaka-synthetic-bold-expected.txt: Added.
        * fast/text/osaka-synthetic-bold.html: Added.
        * platform/ios/imported/w3c/web-platform-tests/mathml/relations/css-styling/ignored-properties-001-expected.txt:
        * platform/mac-catalina/imported/w3c/web-platform-tests/mathml/relations/css-styling/ignored-properties-001-expected.txt:
        * platform/mac-mojave/imported/w3c/web-platform-tests/mathml/relations/css-styling/ignored-properties-001-expected.txt:
        * platform/mac/fast/text/atsui-multiple-renderers-expected.png: Added.
        * platform/mac/fast/text/atsui-multiple-renderers-expected.txt:
        * platform/mac/fonts/cursive-expected.png: Added.
        * platform/mac/fonts/cursive-expected.txt:
        * platform/mac/imported/w3c/web-platform-tests/mathml/relations/css-styling/ignored-properties-001-expected.txt:
        * platform/mac/TestExpectations:
        * platform/win/fast/text-indicator/text-indicator-estimated-color-with-implicit-newline-expected.txt: Added.
        * platform/win/svg/W3C-SVG-1.1-SE/svgdom-over-01-f-expected.txt:

2021-08-26  Joone Hur  <joone@webkit.org>

        Caret should respect text background color
        https://bugs.webkit.org/show_bug.cgi?id=117493

        Reviewed by Ryosuke Niwa.

        Rebaselined caret rendering tests.

        * editing/caret/caret-color.html:
        * editing/caret/color-span-inside-editable-background-expected.html:
        * editing/caret/color-span-inside-editable-expected.html:
        * fast/css/caret-color-auto-expected.html:
        * platform/ios-wk2/editing/caret/caret-color-expected.png:
        * platform/ios/editing/caret/caret-color-expected.txt:
        * platform/mac/editing/caret/caret-color-expected.png:
        * platform/mac/editing/caret/caret-color-expected.txt:
        * platform/win/editing/caret/caret-color-expected.txt:

2021-08-26  Simon Fraser  <simon.fraser@apple.com>

        CSS keyframed animations don't respect edges in 4 value background-position
        https://bugs.webkit.org/show_bug.cgi?id=228995

        Reviewed by Darin Adler.

        For some background-position animations we'd fail to set backgroundOriginX/Y in the
        destination style's FillLayer, because this is not set in the destination style initially.
        
        So have FillLayerPositionPropertyWrapper::blend() always set it.

        * animations/background-position-expected.html: Added.
        * animations/background-position.html: Added.

2021-08-26  Simon Fraser  <simon.fraser@apple.com>

        Remove some historical iOS CGContext flipping
        https://bugs.webkit.org/show_bug.cgi?id=229589

        Reviewed by Tim Horton.

        Mark some iOS tests as passing now. A couple of tests that were skipped everywhere now
        only fail on macOS.

        * TestExpectations:
        * platform/ios-wk2/TestExpectations:
        * platform/ios/TestExpectations:
        * platform/mac/TestExpectations:

2021-08-26  Myles C. Maxfield  <mmaxfield@apple.com>

        [Cocoa] Enforce the policy against WebKit causing Core Text font download prompts in WebKit1
        https://bugs.webkit.org/show_bug.cgi?id=229391

        Reviewed by Alan Bujtas.

        Make sure content which uses these fonts doesn't cause a blocking prompt.

        * fast/text/mobileasset-font-expected-mismatch.html: Added.
        * fast/text/mobileasset-font.html: Added.
        * platform/mac/TestExpectations: Skip the test on Catalina, because apparently the prompts can't be skipped?

2021-08-26  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Skip the webgl/pending/conformance2 tests, as WebGL2 is not yet supported
        https://bugs.webkit.org/show_bug.cgi?id=229598

        Unreviewed test gardening.

        * platform/gtk/TestExpectations:
        * platform/wpe/TestExpectations:

2021-08-26  Robert Jenner  <Jenner@apple.com>

        [ Catalina+ Debug wk2 ] fast/speechrecognition/start-recognition-after-gum.html is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=228209

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-26  Eric Hutchison  <ehutchison@apple.com>

         [Mac wk2 Debug] imported/w3c/web-platform-tests/fetch/http-cache/invalidate.any.worker.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229595.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-26  Robert Jenner  <Jenner@apple.com>

        [ Win EWS] js/dfg-int16array.html is a flaky crash
        https://bugs.webkit.org/show_bug.cgi?id=229594

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-08-26  Eric Hutchison  <ehutchison@apple.com>

        [Mac] media/modern-media-controls/seek-backward-support/seek-backward-support.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=229473.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-08-26  Truitt Savell  <tsavell@apple.com>

        Rebase fast/text/capitalize-boundaries.html after changes in r281422
        https://bugs.webkit.org/show_bug.cgi?id=228217

        Unreviewed test gardening.

        * platform/mac/fast/text/capitalize-boundaries-expected.txt:

2021-08-26  Eric Hutchison  <ehutchison@apple.com>

        [BigSur wk2 Debug] http/tests/misc/acid3.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229592.

        Unreviewed test gardening .

        * platform/mac-wk2/TestExpectations:

2021-08-26  Ryan Haddad  <ryanhaddad@apple.com>

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations: Remove an expectation that was added to the wrong file.

2021-08-26  Eric Hutchison  <ehutchison@apple.com>

        [Mac] http/tests/media/user-gesture-preserved-across-xmlhttprequest.html is a flaky fail/crash/timeout.
        https://bugs.webkit.org/show_bug.cgi?id=229588.

        Unreviewed test gardening .

        * platform/mac/TestExpectations:

2021-08-26  Patrick Angle  <pangle@apple.com>

        [ EWS Catalina ] http/tests/websocket/tests/hybi/inspector/send-and-recieve-debugger.html is flaky timing out / failing
        https://bugs.webkit.org/show_bug.cgi?id=229459

        Reviewed by Devin Rousso.

        Increase timings slightly to widen the window during which we receive messages while paused in the debugger and
        also delay the echo server's response further.

        * http/tests/websocket/tests/hybi/inspector/echo-delayed_wsh.py:
        (web_socket_transfer_data):
        * http/tests/websocket/tests/hybi/inspector/send-and-recieve-debugger.html:
        * platform/mac/TestExpectations:

2021-08-26  Robert Jenner  <Jenner@apple.com>

        [ Catalina+ wk1 ] css2.1/20110323/replaced-intrinsic-003.htm is a flaky text failure
        https://bugs.webkit.org/show_bug.cgi?id=228211

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-08-26  Eric Hutchison  <ehutchison@apple.com>

        [Mac,iOS wk2] imported/w3c/web-platform-tests/navigation-timing/test_performance_attributes.sub.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229585.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-08-26  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] mark fast/text/trak-optimizeLegibility.html as a skip
        https://bugs.webkit.org/show_bug.cgi?id=229572

        optimizeLegibility doesn't affect text rendering on GLIB platforms,
        effectively being always enabled.

        Unreviewed test gardening.

        * platform/glib/TestExpectations:
        * platform/gtk/fast/text/trak-optimizeLegibility-expected.txt: Removed.
        * platform/wpe/fast/text/trak-optimizeLegibility-expected.txt: Removed.

2021-08-26  Eric Hutchison  <ehutchison@apple.com>

        REGRESSION: [BigSur wk2 Release, iOS15] animations/fill-mode-forwards.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229584.

        Unreviewed test gardening.

        * platform/ios-15/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-08-26  Myles C. Maxfield  <mmaxfield@apple.com>

        Drawing small caps web fonts into canvas causes the GPU process to hang
        https://bugs.webkit.org/show_bug.cgi?id=229401
        <rdar://problem/82282054>

        Reviewed by Wenson Hsieh.

        * fast/text/small-caps-canvas-expected.txt: Added.
        * fast/text/small-caps-canvas.html: Added.

2021-08-26  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for webgl tests.
        https://bugs.webkit.org/show_bug.cgi?id=228703.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:
        * webgl/TestExpectations:

2021-08-26  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for 4 media tests.
        https://bugs.webkit.org/show_bug.cgi?id=229474.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-26  Wenson Hsieh  <wenson_hsieh@apple.com>

        [iOS] editing/input/cocoa/autocorrect-on.html occasionally fails with a text diff
        https://bugs.webkit.org/show_bug.cgi?id=229560
        rdar://82191308

        Reviewed by Andy Estes.

        Adjust the test so that it doesn't require "Tset" to be autocorrected to "Test". Instead, just check that it was
        changed from "Tset" to anything else.

        * editing/input/cocoa/autocorrect-on-expected.txt:
        * editing/input/cocoa/autocorrect-on.html:

2021-08-26  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur arm64 EWS ] ASSERTION FAILED: willBeComposited == needsToBeComposited(layer, queryData) on security/contentSecurityPolicy/plugins-types-blocks-quicktime-plugin-replacement.html (flaky crash).
        https://bugs.webkit.org/show_bug.cgi?id=229505

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-26  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Catalina EWS ] webgl/2.0.0/* tests are flaky crashing ASSERTION FAILED: !needsLayout().
        https://bugs.webkit.org/show_bug.cgi?id=229580.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-08-26  Eric Hutchison  <ehutchison@apple.com>

        REGRESSION (281486?):[BigSur wk2 Debug] http/tests/loading/preload-img-test.html is flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=229579.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-26  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for media/modern-media-controls/tracks-support/text-track-selected-via-media-api.html.
        https://bugs.webkit.org/show_bug.cgi?id=229474.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-26  Eric Hutchison  <ehutchison@apple.com>

        [iOS] 3 service worker tests failing.
        https://bugs.webkit.org/show_bug.cgi?id=229573.

        Unreviewed test gardening.

        * platform/ios-14/TestExpectations:

2021-08-26  Chris Dumez  <cdumez@apple.com>

        REGRESSION (r281516): [AppleSilicon WK2] fast/loader/reload-zero-byte-plugin.html is timing out
        https://bugs.webkit.org/show_bug.cgi?id=229532
        <rdar://problem/82370692>

        Unreviewed, unskip test that should not longer be timing out.

        * platform/mac-wk2/TestExpectations:

2021-08-26  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r281616.
        https://bugs.webkit.org/show_bug.cgi?id=229570

        It is crashing in iOS Debug

        Reverted changeset:

        "Signaling state check when applying a local or remote
        description is no longer aligned with the WebRTC spec"
        https://bugs.webkit.org/show_bug.cgi?id=229138
        https://commits.webkit.org/r281616

2021-08-26  Eric Hutchison  <ehutchison@apple.com>

        [iOS wk2 release] imported/w3c/web-platform-tests/html/semantics/embedded-content/the-img-element/image-loading-subpixel-clip.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229567.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-08-26  Eric Hutchison  <ehutchison@apple.com>

        [iOS wk2 iPad] imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-form-submission.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229566.

        Unreviewed test gardening.

        * platform/ipad/TestExpectations:

2021-08-26  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS MacOS ] imported/w3c/web-platform-tests/encoding/sharedarraybuffer.https.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229565

        Unreviewed test gardening.

        * platform/ios/TestExpectations:
        * platform/mac/TestExpectations:

2021-08-26  Eric Hutchison  <ehutchison@apple.com>

        [iOS wk2 release] imported/w3c/web-platform-tests/css/css-display/display-contents-blockify-dynamic.html is a flaky timeout).
        https://bugs.webkit.org/show_bug.cgi?id=229563.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-08-26  Eric Hutchison  <ehutchison@apple.com>

        [iOS14 wk2, BigSur wk2] http/tests/navigation/page-cache-video.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229561.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-08-26  Eric Hutchison  <ehutchison@apple.com>

        [iOS14] http/tests/navigation/page-cache-getUserMedia-pending-promise.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229558.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-08-26  Enrique Ocaña González  <eocanha@igalia.com>

        [GLIB][Media] imported/w3c/web-platform-tests/media-source/mediasource-changetype-play-without-codecs-parameter.html fails after r281617
        https://bugs.webkit.org/show_bug.cgi?id=229548

        Unreviewed test gardening.

        The patch from https://bugs.webkit.org/show_bug.cgi?id=210341 caused a regression in
        mediasource-changetype-play-without-codecs-parameter.html. The test tries to change the
        media type and codecs of a SourceBuffer on the fly. That operation is unsupported in glib
        ports, so there is a custom expectation file that expects failures on the transitions
        between supported types. Bug 210341 adds audio/mpeg (without container) as a new supported
        format, so new "failures" appear in the test. This patch adds expectations for those new
        failures.

        * platform/glib/imported/w3c/web-platform-tests/media-source/mediasource-changetype-play-without-codecs-parameter-expected.txt:

2021-08-26  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update baselines after r281512
        https://bugs.webkit.org/show_bug.cgi?id=229530

        Unreviewed test gardening.

        * platform/glib/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/glib/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/glib/svg/css/getComputedStyle-basic-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:

2021-08-26  Enrique Ocaña González  <eocanha@igalia.com>

        [GStreamer][MSE] Implement the "sequence" mode in SourceBuffer for the GStreamer ports
        https://bugs.webkit.org/show_bug.cgi?id=210341

        Reviewed by Alicia Boya Garcia.

        * platform/glib/TestExpectations: Unskipped test

2021-08-26  Youenn Fablet  <youenn@apple.com>

        Signaling state check when applying a local or remote description is no longer aligned with the WebRTC spec
        https://bugs.webkit.org/show_bug.cgi?id=229138

        Reviewed by Eric Carlson.

        * fast/mediastream/RTCPeerConnection-setRemoteDescription-offer-expected.txt:
        * fast/mediastream/RTCPeerConnection-stable-expected.txt:

2021-08-25  Alex Christensen  <achristensen@webkit.org>

        Crash in GraphicsContextGLOpenGL::reshapeDisplayBufferBacking
        https://bugs.webkit.org/show_bug.cgi?id=229309

        Reviewed by Myles C. Maxfield.

        * fast/canvas/xr-compatible-crash.html: Added.
        * fast/canvas/xr-compatible-crash-expected.txt: Added.

2021-08-25  Aditya Keerthi  <akeerthi@apple.com>

        [iOS] Unable to select files when the accept attribute is set to "*/*"
        https://bugs.webkit.org/show_bug.cgi?id=229456
        rdar://82346315

        Reviewed by Chris Dumez.

        Updated tests to verify that setting the accept attribute to "*/*" does
        not impose any restrictions on the types of files that can be selected,
        and gives the user access to all menu options.

        * fast/forms/ios/file-upload-panel-accept-expected.txt:
        * fast/forms/ios/file-upload-panel-accept.html:
        * fast/forms/ios/file-upload-panel-expected.txt:
        * fast/forms/ios/file-upload-panel.html:

2021-08-25  Chris Dumez  <cdumez@apple.com>

        REGRESSION (r281516): [AppleSilicon WK2] fast/loader/reload-zero-byte-plugin.html is timing out
        https://bugs.webkit.org/show_bug.cgi?id=229532
        <rdar://problem/82370692>

        Unreviewed, temporarily skip the test on macOS WK2 while I investigate, so that the bots don't
        complain.

        * platform/mac-wk2/TestExpectations:

2021-08-25  Truitt Savell  <tsavell@apple.com>

        25 webkit imported/w3c/web-platform-tests/css/ layout tests failing with black bars
        rdar://82132196

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-08-25  Eric Hutchison  <ehutchison@apple.com>

        [Catalina GPU] fast/canvas/webgl/lose-context-on-timeout.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=229523.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-25  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for fast/events/ios/key-events-comprehensive/key-events-meta-shift.html.
        <rdar://80385777>.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-08-25  Eric Hutchison  <ehutchison@apple.com>

        WebGL conformance: Failures and Timeouts in suite 2.0.0/conformance2.
        https://bugs.webkit.org/show_bug.cgi?id=189672.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-08-25  Eric Hutchison  <ehutchison@apple.com>

        [BigSur wk1] pointerevents/mouse/compatibility-mouse-events-prevention-mouse-released.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229522.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-08-25  Eric Hutchison  <ehutchison@apple.com>

        [Mac] pointer-lock/lock-already-locked.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229521.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-08-25  Eric Hutchison  <ehutchison@apple.com>

        [Mac wk1] media/media-session/actionHandlerInternalMappings.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229519.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-08-25  Eric Hutchison  <ehutchison@apple.com>

        REGRESSION(r281297): 2 webrtc tests failing.
        https://bugs.webkit.org/show_bug.cgi?id=229517.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-08-25  Eric Hutchison  <ehutchison@apple.com>

        [Mac wk2 Release] imported/w3c/web-platform-tests/resource-timing/status-codes-create-entry.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229516.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-25  Chris Dumez  <cdumez@apple.com>

        [Mac wk2] imported/w3c/web-platform-tests/html/cross-origin-embedder-policy/reporting-to-frame-owner.https.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=229511
        <rdar://problem/82356082>

        Unreviewed, address test flakiness by silencing console logging.

        * TestExpectations:

2021-08-25  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for  imported/w3c/web-platform-tests/html/cross-origin-embedder-policy/reporting-to-frame-owner.https.html .
        https://bugs.webkit.org/show_bug.cgi?id=229511.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-25  Eric Hutchison  <ehutchison@apple.com>

        [Mac wk2] imported/w3c/web-platform-tests/html/cross-origin-embedder-policy/reporting-to-frame-owner.https.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229511.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-25  Simon Fraser  <simon.fraser@apple.com>

        Update css-masking WPT
        https://bugs.webkit.org/show_bug.cgi?id=229373

        Reviewed by Tim Horton.

        Re-import css-masking tests from WPT fe104253de3197002a2600a4ed7e3b5e18fc9121.

        * TestExpectations:
        * platform/ios-simulator/imported/w3c/web-platform-tests/css/css-masking/clip-path-svg-content/clip-path-text-001-expected.txt: Added.
        * platform/ios-simulator/imported/w3c/web-platform-tests/css/css-masking/clip-path-svg-content/clip-path-text-002-expected.txt: Added.
        * platform/ios-simulator/imported/w3c/web-platform-tests/css/css-masking/clip-path-svg-content/clip-path-text-003-expected.txt: Added.
        * platform/ios-simulator/imported/w3c/web-platform-tests/css/css-masking/clip-path-svg-content/clip-path-text-004-expected.txt: Added.
        * platform/ios-simulator/imported/w3c/web-platform-tests/css/css-masking/clip-path-svg-content/clip-path-text-005-expected.txt: Added.
        * platform/ios-simulator/imported/w3c/web-platform-tests/css/css-masking/clip-path-svg-content/mask-nested-clip-path-010-expected.txt: Added.
        * platform/ios-simulator/imported/w3c/web-platform-tests/css/css-masking/mask-svg-content/mask-text-001-expected.txt: Added.
        * platform/ios/TestExpectations:
        * platform/mac/imported/w3c/web-platform-tests/css/css-masking/clip-path/svg-clipPath-expected.txt: Removed.

2021-08-25  Aditya Keerthi  <akeerthi@apple.com>

        [iOS] Crash when tapping <select> element and calling window.open()
        https://bugs.webkit.org/show_bug.cgi?id=229468
        rdar://82122972

        Reviewed by Wenson Hsieh.

        Added a test to verify a crash does not occur when tapping a <select>
        element and unparenting the webview.

        * fast/forms/ios/show-select-menu-in-unparented-view-crash-expected.txt: Added.
        * fast/forms/ios/show-select-menu-in-unparented-view-crash.html: Added.

2021-08-25  Alan Bujtas  <zalan@apple.com>

        Unreviewed test gardening after r228617.

        * TestExpectations:

2021-08-25  Wenson Hsieh  <wenson_hsieh@apple.com>

        [iOS 15] editing/input/cocoa/autocorrect-on.html times out when run after editing/input/cocoa/autocorrect-off.html
        https://bugs.webkit.org/show_bug.cgi?id=229486
        rdar://82191308

        Reviewed by Tim Horton.

        Remove the failing test expectations.

        * platform/ios-wk2/TestExpectations:

2021-08-25  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update baselines after r281419
        https://bugs.webkit.org/show_bug.cgi?id=229503

        Unreviewed test gardening.

        * platform/gtk/fast/text/fixed-pitch-control-characters-expected.png:
        * platform/gtk/fast/text/fixed-pitch-control-characters-expected.txt: Added.
        * platform/gtk/fast/text/wide-zero-width-space-expected.png:
        * platform/gtk/fast/text/wide-zero-width-space-expected.txt:
        * platform/wpe/fast/text/fixed-pitch-control-characters-expected.txt: Added.
        * platform/wpe/fast/text/wide-zero-width-space-expected.txt:

2021-08-25  Eric Hutchison  <ehutchison@apple.com>

        [Mac] imported/w3c/web-platform-tests/html/cross-origin-opener-policy/iframe-popup-same-origin-allow-popups-to-same-origin-allow-popups.https.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229509.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-08-25  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS EWS ] editing/inserting/insert-paragraph-separator-with-html-elements-crash.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=228718

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/ipad/TestExpectations:

2021-08-25  Sonia Singla  <ssingla@igalia.com>

        Add onsecuritypolicyviolation on GlobalEventHandlers
        https://bugs.webkit.org/show_bug.cgi?id=229381

        Reviewed by Frédéric Wang.

        * http/tests/security/contentSecurityPolicy/1.1/securitypolicyviolation-basics-expected.txt:
        * platform/glib/imported/w3c/web-platform-tests/mathml/relations/html5-tree/math-global-event-handlers.tentative-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/relations/html5-tree/math-global-event-handlers.tentative-expected.txt:
        * platform/ipad/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/relations/html5-tree/math-global-event-handlers.tentative-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/relations/html5-tree/math-global-event-handlers.tentative-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:

2021-08-25  Eric Hutchison  <ehutchison@apple.com>

        [Mac wk1]imported/w3c/web-platform-tests/css/css-fonts/downloadable-font-in-iframe-print.html is a flaky image-only failure.
        https://bugs.webkit.org/show_bug.cgi?id=229506.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-08-25  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur arm64 EWS ] security/contentSecurityPolicy/plugins-types-blocks-quicktime-plugin-replacement.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=229505

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-25  Ayumi Kojima  <ayumi_kojima@apple.com>

        Added expectations for ios-wk2: security/contentSecurityPolicy/video-with-blob-url-allowed-by-media-src-star.html and security/contentSecurityPolicy/video-with-data-url-allowed-by-media-src-star.html are flaky.
        https://bugs.webkit.org/show_bug.cgi?id=155196

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-08-25  Eric Hutchison  <ehutchison@apple.com>

        [BigSur wk2 Debug] http/tests/inspector/paymentrequest/payment-request-internal-properties.https.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229502.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-25  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Win EWS ] storage/indexeddb/getdatabases.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229457

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-08-25  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ MacOs iOS EWS ] imported/w3c/web-platform-tests/IndexedDB/serialize-sharedarraybuffer-throws.https.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229501

        Unreviewed test gardening.

        * platform/ios/TestExpectations:
        * platform/mac/TestExpectations:

2021-08-25  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for webrtc/datachannel/multiple-connections.html.
        https://bugs.webkit.org/show_bug.cgi?id=209878.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:
        * platform/mac-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-08-25  Peng Liu  <peng.liu6@apple.com>

        [Monterey] LayoutTest media/element-containing-pip-video-going-into-fullscreen.html is flaky timeout/crash
        https://bugs.webkit.org/show_bug.cgi?id=229453
        <rdar://80346428>

        Reviewed by Eric Carlson.

        * media/element-containing-pip-video-going-into-fullscreen.html:
        Enable the mock video presentation mode for testing.
        * platform/mac-wk2/TestExpectations:

2021-08-25  Tyler Wilcock  <tyler_w@apple.com>

        AX: Return radiobuttons part of ad-hoc radiogroups from AX search queries
        https://bugs.webkit.org/show_bug.cgi?id=229415

        Reviewed by Chris Fleizach.

        Add test to ensure WebKit UI element accessibility searches can find
        ad-hoc radiogroups. An ad-hoc radiogroup is a group of radiobuttons
        connected only by `name` attributes, missing an appropriate role="radiogroup"
        container.

        * accessibility/mac/search-predicate-for-adhoc-radio-groups-expected.txt: Added.
        * accessibility/mac/search-predicate-for-adhoc-radio-groups.html: Added.
        * platform/mac-wk1/TestExpectations: Skip new test due to lack of
        AccessibilityUIElement::domIdentifier implementation.

2021-08-25  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Mark wide gamut canvas tests as unsupported
        https://bugs.webkit.org/show_bug.cgi?id=229483

        Unreviewed test gardening.

        * platform/glib/TestExpectations:
        * platform/glib/imported/w3c/web-platform-tests/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.to.srgb-expected.txt: Removed.

2021-08-24  Kimmo Kinnunen  <kkinnunen@apple.com>

        ANGLE Metal infinities and NaNs generated with incorrect syntax
        https://bugs.webkit.org/show_bug.cgi?id=229439
        <rdar://81033366>

        Reviewed by Dean Jackson.

        Add tests that test some aspects of NaN and -+inf that the GLSL ES 3.00 spec
        talks about.

        * webgl/pending/conformance2/glsl3/float-constant-expressions-expected.txt: Added.
        * webgl/pending/conformance2/glsl3/float-constant-expressions.html: Added.
        * webgl/pending/resources/webgl_test_files/conformance2/glsl3/float-constant-expressions.html: Added.
        * webgl/pending/resources/webgl_test_files/js/glsl-conformance-test.js: Added.

2021-08-24  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo/TestExpectations:
        * platform/wincairo/css2.1/t100801-c544-valgn-00-a-ag-expected.txt:
        * platform/wincairo/editing/selection/3690703-2-expected.txt:
        * platform/wincairo/editing/selection/3690703-expected.txt:
        * platform/wincairo/editing/selection/3690719-expected.txt:
        * platform/wincairo/fast/dom/52776-expected.txt:
        * platform/wincairo/fast/text/capitalize-boundaries-expected.txt:
        * platform/wincairo/fast/text/whitespace/020-expected.txt:
        * platform/wincairo/fast/text/wide-zero-width-space-expected.txt:

2021-08-24  Eric Hutchison  <ehutchison@apple.com>

        [BigSur+ wk1 Release] media/video-poster-background.html is flakily failing.
        https://bugs.webkit.org/show_bug.cgi?id=229481.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-08-24  Eric Hutchison  <ehutchison@apple.com>

        REGRESSION (r281102?): [Mac wk2] media/track/track-in-band.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=229478.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-24  Eric Hutchison  <ehutchison@apple.com>

        [ Mac,iOS ] media/track/track-in-band-duplicate-tracks-when-source-changes.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=228364.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-08-24  Chris Dumez  <cdumez@apple.com>

        change event is dispatched when .files property is set at <input type="file"> element
        https://bugs.webkit.org/show_bug.cgi?id=180465

        Reviewed by Darin Adler.

        Add layout test coverage.

        * fast/dom/HTMLInputElement/input-setFiles-no-change-event-expected.txt: Added.
        * fast/dom/HTMLInputElement/input-setFiles-no-change-event.html: Added.

2021-08-24  Aditya Keerthi  <akeerthi@apple.com>

        REGRESSION (r276598): [ iOS ] fast/forms/ios/accessory-bar-navigation.html is a constant timeout
        https://bugs.webkit.org/show_bug.cgi?id=229471
        rdar://80390931

        Reviewed by Wenson Hsieh.

        * fast/forms/ios/accessory-bar-navigation.html:

        r276598 updated this test so that the second input is positioned out of
        the viewport on larger devices. However, the change (increasing the margin)
        also lead to the first input being positioned out of the viewport on
        smaller devices. Consequently, the test times out when run on an iPhone SE
        as it is unable to tap on the first input.

        To fix, the original margin for the first input is restored, ensuring it is
        positioned within the viewport, and can be tapped. Then, a separate margin
        is applied to the second input, ensuring it remains positioned outside the
        viewport, and the test can verify accessory bar navigation with an
        element outside the viewport.

        * platform/ios-wk2/TestExpectations:

2021-08-24  Eric Hutchison  <ehutchison@apple.com>

        REGRESSION (r281182?): 4 Media tests flakily timing out.
        https://bugs.webkit.org/show_bug.cgi?id=229474.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-24  Eric Hutchison  <ehutchison@apple.com>

        [Mac] media/modern-media-controls/seek-backward-support/seek-backward-support.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=229473.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-08-24  Chris Dumez  <cdumez@apple.com>

        Geolocation API should callback with error if doc is not fully active
        https://bugs.webkit.org/show_bug.cgi?id=228319
        <rdar://problem/81450315>

        Reviewed by Ryosuke Niwa.

        Update / rebaseline existing layout tests to reflect behavior change.

        * fast/dom/Geolocation/callback-to-deleted-context-expected.txt:
        * fast/dom/Geolocation/callback-to-deleted-context.html:
        * fast/dom/Geolocation/disconnected-frame-already-expected.txt:
        * fast/dom/Geolocation/disconnected-frame-already.html:
        * fast/dom/Geolocation/disconnected-frame-expected.txt:
        * fast/dom/Geolocation/disconnected-frame-permission-denied-expected.txt:
        * fast/dom/Geolocation/disconnected-frame-permission-denied.html:
        * fast/dom/Geolocation/disconnected-frame.html:
        * fast/dom/Geolocation/resources/callback-to-deleted-context-inner1.html:
        * fast/events/detached-svg-parent-window-events-expected.txt:
        * fast/events/detached-svg-parent-window-events.html:

2021-08-24  Eric Hutchison  <ehutchison@apple.com>

        [BigSur wk2 Debug] webgl/1.0.3/conformance/glsl/constructors/glsl-construct-bvec2.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=229472.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-24  Eric Hutchison  <ehutchison@apple.com>

        4 webgl/2.0.0/deqp/functional/gles3/ tests are failing.
        https://bugs.webkit.org/show_bug.cgi?id=228703.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-24  Ayumi Kojima  <ayumi_kojima@apple.com>

        REGRESSION: [ Mac ] http/tests/media/modern-media-controls/pip-support/pip-support-live-broadcast.html is flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=229101

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-08-24  Chris Dumez  <cdumez@apple.com>

        [WK2] Implement process-swapping based on Cross-Origin-Opener-Policy HTTP header
        https://bugs.webkit.org/show_bug.cgi?id=229203
        <rdar://problem/82047686>

        Reviewed by Alex Christensen.

        Skip COOP tests on WK1 as we only have a working implementation for WK2.

        * platform/mac-wk1/TestExpectations:
        * platform/win/TestExpectations:

2021-08-24  Alex Christensen  <achristensen@webkit.org>

        Unprefix -webkit-backface-visibility
        https://bugs.webkit.org/show_bug.cgi?id=170983

        Reviewed by Simon Fraser.

        * platform/ios-wk2/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/ios/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/ios/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/ios/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/ios/svg/css/getComputedStyle-basic-expected.txt:
        * platform/mac/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/mac/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/mac/svg/css/getComputedStyle-basic-expected.txt:

2021-08-24  Eric Hutchison  <ehutchison@apple.com>

        CONSOLE ASSERT ERROR:[BigSur] http/tests/inspector/network/resource-mime-type.html is a flaky failure on wk2 and flaky timeout on wk1.
        https://bugs.webkit.org/show_bug.cgi?id=229463.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-08-24  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Catalina EWS ] media/track/track-disabled-addcue.html is flaky crashing.
        https://bugs.webkit.org/show_bug.cgi?id=229462

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-08-24  Eric Hutchison  <ehutchison@apple.com>

        [BigSur wk2 Debug x86] http/tests/inspector/network/ping-type.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229460.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-24  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ EWS Catalina ] http/tests/websocket/tests/hybi/inspector/send-and-recieve-debugger.html is flaky timing out / failing.
        https://bugs.webkit.org/show_bug.cgi?id=229459

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-08-24  Lauro Moura  <lmoura@igalia.com>

        [WPE] Gardening two WebXR-related failures

        Unreviewed test gardening.

        * platform/wpe/TestExpectations:
        * platform/wpe/http/wpt/webxr/xrViewport_singleView_valid.https-expected.txt: Added.

2021-08-24  Eric Hutchison  <ehutchison@apple.com>

        [Mac] http/tests/inspector/network/har/har-page.html, flaky failure on wk2, constant failure on wk1.
        https://bugs.webkit.org/show_bug.cgi?id=229458.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-24  Jer Noble  <jer.noble@apple.com>

        Add support for new pseudo-selectors for media from CSS Selectors Level 4.
        https://bugs.webkit.org/show_bug.cgi?id=229431

        Reviewed by Eric Carlson.

        * media/media-css-muted-expected.txt: Added.
        * media/media-css-muted.html: Added.
        * media/media-css-playing-paused-expected.txt: Added.
        * media/media-css-playing-paused.html: Added.
        * media/media-css-volume-locked-expected.txt: Added.
        * media/media-css-volume-locked.html: Added.

2021-08-24  Eric Hutchison  <ehutchison@apple.com>

        [BigSur wk2 Debug x86] http/tests/inspector/network/resource-timing.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229454.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-24  Ayumi Kojima  <ayumi_kojima@apple.com>

        Removing test expectations for fixed bug [ Win EWS ] fast/forms/* tests are flaky crashing FAULTING_IP:  WebKit!WebCore::FontCache::lastResortFallbackFont+ec [C:\cygwin\home\buildbot\worker\Windows-EWS\build\Source\WebCore\platform\graphics\win\FontCacheWin.cpp @ 424].
        https://bugs.webkit.org/show_bug.cgi?id=229009

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-08-24  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update baselines after r281422
        https://bugs.webkit.org/show_bug.cgi?id=229450

        Unreviewed test gardening.

        * platform/gtk/css1/text_properties/vertical_align-expected.txt:
        * platform/gtk/css2.1/t100801-c544-valgn-00-a-ag-expected.txt:
        * platform/gtk/editing/selection/3690703-2-expected.txt:
        * platform/gtk/editing/selection/3690703-expected.txt:
        * platform/gtk/editing/selection/3690719-expected.txt:
        * platform/gtk/fast/selectors/018b-expected.txt: Copied from LayoutTests/platform/glib/fast/selectors/018b-expected.txt.
        * platform/gtk/fast/text/capitalize-boundaries-expected.txt:
        * platform/gtk/fast/text/whitespace/020-expected.txt:
        * platform/wpe/css2.1/t100801-c544-valgn-00-a-ag-expected.txt:
        * platform/wpe/editing/selection/3690703-2-expected.txt: Copied from LayoutTests/platform/gtk/editing/selection/3690703-2-expected.txt.
        * platform/wpe/editing/selection/3690703-expected.txt: Copied from LayoutTests/platform/gtk/editing/selection/3690703-expected.txt.
        * platform/wpe/editing/selection/3690719-expected.txt: Copied from LayoutTests/platform/gtk/editing/selection/3690719-expected.txt.
        * platform/wpe/fast/selectors/018b-expected.txt: Renamed from LayoutTests/platform/glib/fast/selectors/018b-expected.txt.
        * platform/wpe/fast/text/capitalize-boundaries-expected.txt:
        * platform/wpe/fast/text/whitespace/020-expected.txt:

2021-08-24  Philippe Normand  <pnormand@igalia.com>

        REGRESSION(r281305) [GStreamer] fast/mediastream/getDisplayMedia-frame-rate.html timeouts
        https://bugs.webkit.org/show_bug.cgi?id=229343

        Reviewed by Youenn Fablet.

        * platform/glib/TestExpectations: Test is now passing, in Release at least. Timing out in
        Debug but that will be investigated next, there are other mediastream timeouts in Debug.

2021-08-24  Tim Nguyen  <ntim@apple.com>

        Implement inert attribute behind feature flag
        https://bugs.webkit.org/show_bug.cgi?id=165279

        Reviewed by Chris Dumez.

        Create iOS baselines.

        * platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-node-is-uneditable.tentative-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-retargeting-iframe.tentative-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/inert/inert-retargeting.tentative-expected.txt: Added.

2021-08-23  Rob Buis  <rbuis@igalia.com>

        Null check scriptExecutionContext
        https://bugs.webkit.org/show_bug.cgi?id=229272

        Reviewed by Ryosuke Niwa.

        * fast/text/font-face-set-add-crash-expected.txt: Added.
        * fast/text/font-face-set-add-crash.html: Added.

2021-08-23  John Wilander  <wilander@apple.com>

        PCM: Support ephemeral measurement with non-persistent WebCore::PrivateClickMeasurement
        https://bugs.webkit.org/show_bug.cgi?id=228984
        <rdar://problem/81778213>

        Reviewed by Kate Cheney.

        This patch adds support for ephemeral measurement with non-persistent
        WebCore::PrivateClickMeasurement for direct response advertising.
        Such advertising means there is only one pending click, held in memory,
        and only stored right before the triggering event causes attribution
        reports to be scheduled.

        * http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-ephemeral-expected.txt: Added.
        * http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-ephemeral.html: Added.
        * http/tests/privateClickMeasurement/resources/util.js:
        (tearDownAndFinish):
            Resets the new testRunner.setPrivateClickMeasurementEphemeralMeasurementForTesting().

2021-08-23  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Catalina EWS ] http/tests/media/hls/range-request.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229424

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-08-23  Wenson Hsieh  <wenson_hsieh@apple.com>

        fast/events/ios/key-events-comprehensive/key-events-meta-shift.html is failing in iOS 15
        https://bugs.webkit.org/show_bug.cgi?id=229417
        rdar://80385777

        Reviewed by Tim Horton.

        This test is failing in iOS 15 because "command + shift + /" now triggers a system-wide key command that shows
        a help menu; this key command is handled very early on in UIKit, before keyboard code gets a chance to handle
        the event as a WebEvent and dispatch it to the page.

        rdar://82257764 tracks making this key command preventable by marking it as a key command that should be handled
        after dispatching key events. For the time being, add this to the list of system key commands that we should
        avoid in `key-tester.js`, and rebaseline the test.

        * fast/events/ios/key-events-comprehensive/key-events-meta-shift-expected.txt:
        * fast/events/ios/resources/key-tester.js:
        * platform/ios-14/TestExpectations:
        * platform/ios/TestExpectations:

2021-08-23  Eric Hutchison  <ehutchison@apple.com>

        [BigSur wk2 Debug] http/tests/inspector/network/fetch-network-data.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229429.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-23  Eric Hutchison  <ehutchison@apple.com>

        [Mac wk1] fast/canvas/webgl/texImage2D-video-flipY-false.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=229425.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-08-23  Alex Christensen  <achristensen@webkit.org>

        Setting window.location.href to an invalid URL should throw a TypeError
        https://bugs.webkit.org/show_bug.cgi?id=229303

        Reviewed by Chris Dumez.

        * fast/dom/location-new-window-no-crash-expected.txt:
        * fast/dom/location-new-window-no-crash.html:
        * fast/loader/file-URL-with-port-number.html:
        * fast/loader/location-port.html:
        * fast/loader/redirect-to-invalid-url-using-javascript-disallowed-expected.txt:
        * fast/loader/redirect-to-invalid-url-using-javascript-disallowed.html:
        * fast/url/navigate-non-ascii.html:
        * platform/ios-wk1/fast/loader/redirect-to-invalid-url-using-javascript-disallowed-expected.txt: Removed.
        * platform/mac-wk1/fast/loader/redirect-to-invalid-url-using-javascript-disallowed-expected.txt: Removed.

2021-08-23  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur EWS ] http/tests/paymentrequest/payment-response-reference-cycle-leak.https.html is flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=229423

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-23  Ayumi Kojima  <ayumi_kojima@apple.com>

        [iOS 14] imported/w3c/web-platform-tests/webstorage/event_case_sensitive.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=226789

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-23  Wenson Hsieh  <wenson_hsieh@apple.com>

        editing/selection/ios/select-text-in-existing-selection.html fails on iOS 15
        https://bugs.webkit.org/show_bug.cgi?id=229411
        rdar://80385434

        Reviewed by Tim Horton.

        Remove this failing layout test, along with its test expectations. See API test in Tools/ChangeLog for more
        details.

        * editing/selection/ios/select-text-in-existing-selection-expected.txt: Removed.
        * editing/selection/ios/select-text-in-existing-selection.html: Removed.
        * platform/ios-14/TestExpectations:
        * platform/ios/TestExpectations:

2021-08-23  Eric Hutchison  <ehutchison@apple.com>

        Set test expectations for fast/events/ios/rotation/basic-rotation.html.
        <rdar://82259067>.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-08-23  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for fast/events/ios/key-events-comprehensive/key-events-meta-shift.html.
        <rdar://80385777>.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-08-23  Alan Bujtas  <zalan@apple.com>

        Simplified text measuring only works with the primary font
        https://bugs.webkit.org/show_bug.cgi?id=228617
        <rdar://problem/81588175>

        Reviewed by Myles C. Maxfield.

        While running DumpRenderTree:
          - DOMContentLoaded event is dispatched (parsing is done, DOM is built)
          - window load event is dispatched (JS, CSS are finished loading)
          - dispatchDidFinishLoad is called (this is when all the loads are complete, including web fonts)

        dispatchDidFinishLoad is when DumpRenderTree declares the test complete and takes the snapshot.

        Without the early font access (i.e. requesting the font during paint), the window load event and
        dispatchDidFinishLoad happen the same time.
        As dispatchDidFinishLoad triggers the snapshot, we initiate the font load,
        but at this point the test is already declared complete so we are not going to wait for these pending loads.
        We simply paint the content with whatever is available.

        Now the early font access (at render tree building) triggers the font load which in turn delays the dispatchDidFinishLoad callback.
        It also means the snapshot is taken at a later time when the font load is complete.

        Let's adjust these test cases to make sure the test framework is not going to wait for the font loads.

        * TestExpectations: Fails both with FF and Chrome (tested locally).
        * fast/text/font-promises-gc-expected.txt:
        * http/tests/webfont/font-loading-system-fallback-visibility-FontRanges.html:
        * http/tests/webfont/font-loading-system-fallback-visibility.html:

2021-08-23  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] imported/w3c/web-platform-tests/css/css-text/white-space/control-chars-* fail
        https://bugs.webkit.org/show_bug.cgi?id=229389

        Unreviewed test gardening.

        * platform/glib/TestExpectations:

2021-08-23  Alan Bujtas  <zalan@apple.com>

        Pre-formatted content gets distorted when attempting to select content
        https://bugs.webkit.org/show_bug.cgi?id=228655
        <rdar://81288187>

        Reviewed by Simon Fraser.

        * fast/text/no-wrap-in-pre-with-word-wrap-expected.html: Added.
        * fast/text/no-wrap-in-pre-with-word-wrap.html: Added.

2021-08-23  Eric Hutchison  <ehutchison@apple.com>

        [Monterey] fast/animation/request-animation-frame-throttling-detached-iframe.html is failing.
        <rdar://80333935>.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-08-23  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for fast/events/ios/key-events-comprehensive/key-events-meta-shift.html.
        <rdar://80385777>.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-08-23  Eric Hutchison  <ehutchison@apple.com>

        Updated test expectations for fast/events/touch/ios/long-press-on-editable-content-then-drag-up-to-change-selected-text.html and fast/events/touch/ios/long-press-then-drag-to-select-text.html.
        <rdar://80386523>, <rdar://80386061>.

        Unreviewed test gardening.

        * platform/ios-14/TestExpectations:
        * platform/ios-wk2/TestExpectations:

2021-08-23  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for fast/events/touch/page-scaled-touch-gesture-click.html.
        https://bugs.webkit.org/show_bug.cgi?id=168961.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-08-23  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for fast/events/wheelevent-in-frame.html.
        https://bugs.webkit.org/show_bug.cgi?id=168961.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-08-23  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for fast/forms/ios/ipad/open-picker-using-keyboard.html and fast/forms/ios/accessory-bar-navigation.html.
        <rdar://80391927>, <rdar://80390931>.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-08-23  Wenson Hsieh  <wenson_hsieh@apple.com>

        REGRESSION (r271146): editing/selection/ios/scrolling-to-focused-element-inside-iframe.html is failing
        https://bugs.webkit.org/show_bug.cgi?id=229376
        rdar://80384683

        Reviewed by Megan Gardner.

        Adjust test expectations for the layout test, which should now pass.

        * platform/ios-wk2/TestExpectations:
        * platform/ios/TestExpectations:

2021-08-23  Chris Dumez  <cdumez@apple.com>

        WebKit2 can only have one active navigation policy check for a given frame
        https://bugs.webkit.org/show_bug.cgi?id=229012

        Reviewed by Youenn Fablet.

        Unskip a couple of tests that are no longer timing out in WebKit2.

        * platform/ios-wk1/imported/w3c/web-platform-tests/html/browsers/windows/noreferrer-window-name-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/html/browsers/windows/noreferrer-window-name-expected.txt: Removed.
        * platform/wk2/TestExpectations:

2021-08-23  Carlos Garcia Campos  <cgarcia@igalia.com>

        Create a RenderLineBreak when BR element has unsupported content data style
        https://bugs.webkit.org/show_bug.cgi?id=224849

        Reviewed by Antti Koivisto.

        * editing/execCommand/insert-image-in-composed-list-expected.txt: Rebaseline.

2021-08-23  Chris Dumez  <cdumez@apple.com>

        HTMLStyleElement should be able to fire the load event more than once
        https://bugs.webkit.org/show_bug.cgi?id=228975

        Reviewed by Youenn Fablet.

        Unskip test that is no longer timing out.

        * TestExpectations:

2021-08-23  Xan Lopez  <xan@igalia.com>

        Skip failing test on 32bit (ARMv7/MIPS)
        https://bugs.webkit.org/show_bug.cgi?id=229407

        Unreviewed test gardening.

        * js/script-tests/reserved-words.js:

2021-08-23  Alicia Boya García  <aboya@igalia.com>

        [MSE][GStreamer] Implement multi-track support
        https://bugs.webkit.org/show_bug.cgi?id=229072

        Reviewed by Xabier Rodriguez-Calvar.

        Update expectations and rebaseline one test is which the buffered
        ranges have changed slightly due to the audio track previously
        discarded now being parsed.

        * platform/glib/TestExpectations:
        * platform/glib/imported/w3c/web-platform-tests/media-source/mediasource-remove-expected.txt:

2021-08-22  Yusuke Suzuki  <ysuzuki@apple.com>

        [JSC] Remove already-shipped wasm option flags
        https://bugs.webkit.org/show_bug.cgi?id=229386

        Reviewed by Ross Kirsling.

        * workers/wasm-references.html:

2021-08-22  Alan Bujtas  <zalan@apple.com>

        [iOS] Unreviewed test gardening.

        * platform/ios-wk2/fast/repaint/placeholder-after-caps-lock-hidden-expected.txt:

2021-08-22  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Add support for vertical-align: super
        https://bugs.webkit.org/show_bug.cgi?id=228235

        Reviewed by Antti Koivisto.

        * platform/mac/css1/text_properties/vertical_align-expected.txt:

2021-08-22  Kate Cheney  <katherine_cheney@apple.com>

        Report correct blocked URI in CSP violation report
        https://bugs.webkit.org/show_bug.cgi?id=226316
        <rdar://problem/78552912>

        Reviewed by Alex Christensen.

        * http/tests/security/contentSecurityPolicy/report-blocked-uri-after-blocked-redirect-expected.txt: Added.
        * http/tests/security/contentSecurityPolicy/report-blocked-uri-after-blocked-redirect.html: Added.
        * http/tests/security/contentSecurityPolicy/report-blocked-uri-after-multiple-redirects-expected.txt: Added.
        * http/tests/security/contentSecurityPolicy/report-blocked-uri-after-multiple-redirects.html: Added.
        * platform/mac-wk1/http/tests/security/contentSecurityPolicy/report-blocked-uri-after-multiple-redirects-expected.txt: Added.
        * platform/mac-wk1/http/tests/security/contentSecurityPolicy/report-blocked-uri-after-blocked-redirect-expected.txt: Added.
        * platform/win/http/tests/security/contentSecurityPolicy/report-blocked-uri-after-blocked-redirect-expected.txt: Added.
        * platform/win/http/tests/security/contentSecurityPolicy/report-blocked-uri-after-multiple-redirects-expected.txt: Added.
        WebKitLegacy and Win have different console logging.

2021-08-22  Yusuke Suzuki  <ysuzuki@apple.com>

        [JSC] Remove already-shipped JS feature flags
        https://bugs.webkit.org/show_bug.cgi?id=229387

        Reviewed by Ross Kirsling.

        * js/script-tests/weakref-async-is-collected.js:
        * js/script-tests/weakref-eventually-collects-values.js:
        * js/script-tests/weakref-finalizationregistry.js:
        * js/script-tests/weakref-microtasks-dont-collect.js:
        * js/script-tests/weakref-weakset-consistency.js:
        * js/weakref-async-is-collected.html:
        * js/weakref-eventually-collects-values.html:
        * js/weakref-finalizationregistry.html:
        * js/weakref-microtasks-dont-collect.html:
        * js/weakref-weakset-consistency.html:
        * webaudio/finished-audio-buffer-source-nodes-should-be-collectable.html:

2021-08-22  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Add support for out-of-flow box static positioning
        https://bugs.webkit.org/show_bug.cgi?id=229103

        Reviewed by Antti Koivisto.

        * fast/inline/out-of-flow-with-static-position-in-ifc-expected.html: Added.
        * fast/inline/out-of-flow-with-static-position-in-ifc.html: Added.

2021-08-22  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Add support for vertical-align: sub
        https://bugs.webkit.org/show_bug.cgi?id=228217

        Reviewed by Antti Koivisto.

        * platform/mac/css1/text_properties/vertical_align-expected.txt:
        * platform/mac/fast/selectors/018b-expected.txt:
        * platform/mac/fast/text/whitespace/020-expected.txt:

2021-08-22  Wenson Hsieh  <wenson_hsieh@apple.com>

        [iOS] Fix and reenable several layout tests to account for the changes in rdar://80384564
        https://bugs.webkit.org/show_bug.cgi?id=229316

        Reviewed by Tim Horton.

        See WebKit/ChangeLog for more details.

        * fast/images/text-recognition/ios/reselect-word-in-image-overlay.html:

        Add a short delay to avoid timing out, due to the second long press gesture to select text not triggering.

        * platform/ios-14/TestExpectations:

        Remove iOS 14-specific PASS expectations, and remove the more generic FAIL expectation in the ios directory.
        Instead, just mark these three layout tests as FAIL on iOS 15, and PASS elsewhere.

        * platform/ios-15/TestExpectations: Added.
        * platform/ios/TestExpectations:

2021-08-22  Myles C. Maxfield  <mmaxfield@apple.com>

        Control characters (Unicode category Cc) should be rendered visibly
        https://bugs.webkit.org/show_bug.cgi?id=149128
        <rdar://problem/79224941>

        Reviewed by Alan Bujtas.

        Update existing tests.

        * fast/text/fixed-pitch-control-characters-expected.txt:
        * fast/text/wide-zero-width-space.html:
        * fast/text/zero-width-characters.html:
        * platform/ios/fast/dom/52776-expected.txt:
        * platform/mac/fast/dom/52776-expected.txt:
        * platform/mac/fast/text/wide-zero-width-space-expected.txt: This actually shows
          that there's a difference between the fast text codepath and the complex text
          codepath, but that's okay for now because the complex text codepath is going
          away. Also, it's not practical to fix this in the complex text codepath,
          because that would require a CoreText change. So, for now, we can just encode
          the behavior difference in our test, and when the complex codepath finally 
          goes away, this test will be updated to be working correctly again.

2021-08-21  Myles C. Maxfield  <mmaxfield@apple.com>

        overwriteCodePoint() in createAndFillGlyphPage() is wrong
        https://bugs.webkit.org/show_bug.cgi?id=215643
        <rdar://problem/67430461>

        Reviewed by Alan Bujtas.

        * fast/text/resources/Ahem-GSUB-ligatures.ttf: Added.
        * fast/text/zwj-ligature-expected.html: Added.
        * fast/text/zwj-ligature.html: Added.
        * platform/mac/fast/text/format-control-expected.txt: Progression! A new ligature is formed that wasn't formed before.
              Also, this ligature is formed in both Chrome and Firefox, so we match them now.
        * platform/win/TestExpectations:

2021-08-21  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Add support for -webkit-text-security: disc
        https://bugs.webkit.org/show_bug.cgi?id=229047

        Reviewed by Antti Koivisto.
        
        Let's dump the actual disc characters.

        * platform/ios-simulator/fast/forms/auto-fill-button/hide-auto-fill-strong-password-viewable-treatment-when-form-is-reset-expected.txt:
        * platform/ios/fast/css/text-overflow-input-expected.txt:
        * platform/ios/fast/forms/basic-inputs-expected.txt:
        * platform/ios/fast/forms/input-value-expected.txt:
        * platform/mac/fast/css/text-overflow-input-expected.txt:
        * platform/mac/fast/forms/auto-fill-button/hide-auto-fill-strong-password-viewable-treatment-when-form-is-reset-expected.txt:
        * platform/mac/fast/forms/basic-inputs-expected.txt:
        * platform/mac/fast/forms/input-value-expected.txt:

2021-08-21  Alan Bujtas  <zalan@apple.com>

        [IFC][Integration] Enable modern line layout for placeholder elements
        https://bugs.webkit.org/show_bug.cgi?id=228887

        Reviewed by Antti Koivisto.

        * platform/ios-wk2/fast/repaint/placeholder-after-caps-lock-hidden-expected.txt:

2021-08-21  Per Arne  <pvollan@apple.com>

        [Win] The layout test fast/visual-viewport/resize-event-fired-window-resized.html is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=229379

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-08-21  Per Arne  <pvollan@apple.com>

        [Win] The layout test http/tests/websocket/tests/hybi/inspector/send-and-recieve-debugger.html is timing out
        https://bugs.webkit.org/show_bug.cgi?id=229372

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-08-21  Myles C. Maxfield  <mmaxfield@apple.com>

        [Cocoa] Single characters don't get shaped in the fast text codepath
        https://bugs.webkit.org/show_bug.cgi?id=186804

        Reviewed by Alan Bujtas.

        Huge thanks to Laurence Penney to contributing this test font!!!

        * fast/text/resources/UniversTofu-GSUB-rvrn.ttf: Added. The license is Apache 2.0.
        * fast/text/single-character-shaping-expected.html: Added.
        * fast/text/single-character-shaping.html: Added.

2021-08-21  Yusuke Suzuki  <ysuzuki@apple.com>

        [JSC] Enable Array#findLast method
        https://bugs.webkit.org/show_bug.cgi?id=229355

        Reviewed by Saam Barati.

        * inspector/model/remote-object-get-properties-expected.txt:
        * js/Object-getOwnPropertyNames-expected.txt:
        * js/array-unscopables-properties-expected.txt:
        * js/script-tests/Object-getOwnPropertyNames.js:
        * js/script-tests/array-unscopables-properties.js:

2021-08-21  Youenn Fablet  <youenn@apple.com>

        Prevent AudioSession category from moving out of PlayAndRecord too quickly
        https://bugs.webkit.org/show_bug.cgi?id=229327
        <rdar://81997024>

        Reviewed by Eric Carlson.

        * http/tests/media/media-stream/audio-capture-and-category.https-expected.txt: Added.
        * http/tests/media/media-stream/audio-capture-and-category.https.html: Added.

2021-08-20  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r281343.
        https://bugs.webkit.org/show_bug.cgi?id=229362

        caused iOS test failure

        Reverted changeset:

        "Update baseline for http/tests/websocket/tests/hybi/close-
        code-and-reason.html."
        https://commits.webkit.org/r281343

2021-08-20  Zalan Bujtas  <zalan@apple.com>

        [IFC][Integration] Enable inline level boxes with relative (min/max)width and (min/max)height values
        https://bugs.webkit.org/show_bug.cgi?id=229065

        Reviewed by Antti Koivisto.

        * platform/ios/fast/frames/onlyCommentInIFrame-expected.txt:
        * platform/mac/fast/frames/onlyCommentInIFrame-expected.txt:

2021-08-20  Alan Bujtas  <zalan@apple.com>

        [IFC][Integration] Enable non-auto line-break values
        https://bugs.webkit.org/show_bug.cgi?id=228842

        Reviewed by Antti Koivisto.

        * TestExpectations: progressions
        * platform/mac/fast/text/trailing-white-space-expected.txt: collapsed trailing whitespace cleanup.

2021-08-20  Patrick Angle  <pangle@apple.com>

        Web Inspector: Style rules declared after a rule whose selector has over 8192 components are not shown correctly
        https://bugs.webkit.org/show_bug.cgi?id=229218

        Reviewed by Devin Rousso.

        Test very large (8192 individual component) selectors to ensure surrounding styles are correctly resolved.

        * inspector/css/getMatchedStylesForNodeLargeSelectors-expected.txt: Added.
        * inspector/css/getMatchedStylesForNodeLargeSelectors.html: Added.

2021-08-20  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for fast/scrolling/ios/overflow-div-scrolling.html.
        <rdar://80392444>.

        Unreviewed test gardening.

        * platform/ios-wk1/TestExpectations:

2021-08-20  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Sky ] editing/input/cocoa/autocorrect-on.html is timing out.
        <rdar://82191308>

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-08-20  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for http/tests/media/modern-media-controls/overflow-support/playback-speed-live-broadcast.html.
        <rdar://80393995>.

        Unreviewed test gardening.

        * platform/ios-14/TestExpectations:
        * platform/ios-wk2/TestExpectations:
        * platform/ios/TestExpectations:

2021-08-20  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS & BigSur Debug wk2 ] compositing/video/video-update-rendering.html is a flakey text failure.
        https://bugs.webkit.org/show_bug.cgi?id=223900

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-08-20  Eric Hutchison  <ehutchison@apple.com>

        Update baseline for http/tests/websocket/tests/hybi/close-code-and-reason.html.
        <rdar://82186597>.

        Unreviewed rebaseline.

        * http/tests/websocket/tests/hybi/close-code-and-reason-expected.txt:

2021-08-20  Mikhail R. Gadelha  <mikhail@igalia.com>

        Unreviewed. Skip failing tests in 32 bits archs
        https://bugs.webkit.org/show_bug.cgi?id=229345

        Reviewed by Yusuke Suzuki.

        * platform/glib/TestExpectations:
        * platform/wpe/TestExpectations:

2021-08-20  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS 15 ]editing/selection/ios/hide-selection-in-tiny-contenteditable.html is a flaky failure.
        <rdar://82183980>

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-08-20  Dean Jackson  <dino@apple.com>

        [WebXR] A session with only one view should cover the full screen
        https://bugs.webkit.org/show_bug.cgi?id=229110
        <rdar://problem/81940621>

        Reviewed by Tim Horton.

        Add a test that provides an immersive session with only one view.
        This required copying a few more things over from the WPT directory.

        * http/wpt/webxr/resources/test-only-api.js: Added.
        (loadScript):
        * http/wpt/webxr/resources/webxr_test_constants_single_view.js: Added.
        * http/wpt/webxr/resources/webxr_util.js: Added.
        * http/wpt/webxr/xrViewport_singleView_valid.https-expected.txt: Added.
        * http/wpt/webxr/xrViewport_singleView_valid.https.html: Added.

2021-08-20  Carlos Alberto Lopez Perez  <clopez@igalia.com>

        [GTK][WPE] Gardening of expected failures

        Unreviewed gardening.

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:

2021-08-20  Eric Hutchison  <ehutchison@apple.com>

        [iOS wk2, Mac wk2] http/wpt/mediarecorder/video-rotation.html is a flaky failure.
        <rdar://76434263>.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-08-20  Patrick Angle  <pangle@apple.com>

        Release assert in ScriptController::canExecuteScripts via WebCore::WebSocket::didReceiveMessage
        https://bugs.webkit.org/show_bug.cgi?id=229301

        Reviewed by Ryosuke Niwa.

        * http/tests/websocket/tests/hybi/inspector/echo-delayed_wsh.py: Added.
        (web_socket_do_extra_handshake):
        (web_socket_transfer_data):
        - Similar to `echo_wsh.py`, respond with the provided message when received, but delay the response by 100ms.
        * http/tests/websocket/tests/hybi/inspector/send-and-recieve-debugger-expected.txt: Added.
        * http/tests/websocket/tests/hybi/inspector/send-and-recieve-debugger.html: Added.

2021-08-20  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS Debug ] animations/unprefixed-events.html is flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=229338

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-08-20  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r281307.
        https://bugs.webkit.org/show_bug.cgi?id=229336

        broke layout tests

        Reverted changeset:

        "[IFC][Integration] Enable non-auto line-break values"
        https://bugs.webkit.org/show_bug.cgi?id=228842
        https://commits.webkit.org/r281307

2021-08-20  Antti Koivisto  <antti@apple.com>

        [LFC][Integration] Enable full underline support
        https://bugs.webkit.org/show_bug.cgi?id=229322

        Reviewed by Alan Bujtas.

        Remove a test that just checks we are forcing legacy for underline-position:under.

        * fast/text/simple-line-layout-with-text-underline-position-expected.html: Removed.
        * fast/text/simple-line-layout-with-text-underline-position.html: Removed.

2021-08-20  Alan Bujtas  <zalan@apple.com>

        [IFC][Integration] Enable non-auto line-break values
        https://bugs.webkit.org/show_bug.cgi?id=228842

        Reviewed by Antti Koivisto.

        * TestExpectations: progressions
        * platform/mac/fast/text/trailing-white-space-expected.txt: collapsed trailing whitespace cleanup.

2021-08-20  Philippe Normand  <pnormand@igalia.com>

        REGRESSION(r280732) [GStreamer] fast/mediastream/getDisplayMedia-max-constraints1.html and other are failing
        https://bugs.webkit.org/show_bug.cgi?id=228941

        Reviewed by Youenn Fablet.

        * platform/glib/TestExpectations: Unflag tests now passing.

2021-08-20  Youenn Fablet  <youenn@apple.com>

        Add support for RTCPeerConnection.canTrickleIceCandidates
        https://bugs.webkit.org/show_bug.cgi?id=229287

        Reviewed by Eric Carlson.

        * webrtc/rtcpeerconnection-error-messages-expected.txt:

2021-08-19  Tim Nguyen  <ntim@apple.com>

        Implement top layer rendering bits
        https://bugs.webkit.org/show_bug.cgi?id=84796

        Reviewed by Simon Fraser.

        Enabled relevant WPTs. Some WPTs need extra layout work.

        * TestExpectations:

2021-08-19  Myles C. Maxfield  <mmaxfield@apple.com>

        [Cocoa] Stop honoring any dot-prefixed font names
        https://bugs.webkit.org/show_bug.cgi?id=228177

        Reviewed by Sam Weinig.

        * fast/text/font-lookup-dot-prefix-case-sensitive-expected.html: Renamed from LayoutTests/fast/text/font-lookup-dot-prefix-case-sensitive-expected-mismatch.html.
        * platform/ios/TestExpectations:
        * platform/mac/TestExpectations:

2021-08-19  Myles C. Maxfield  <mmaxfield@apple.com>

        [Cocoa] Stop treating the system font as a non-variable font
        https://bugs.webkit.org/show_bug.cgi?id=228176

        Reviewed by Sam Weinig.

        Update tests.

        * fast/text/resources/Ahem-trak.ttf: Added. This is a font which has a trak table.
        * fast/text/trak-optimizeLegibility-expected-mismatch.html: Added.
        * fast/text/trak-optimizeLegibility-expected.txt: Removed.
        * fast/text/trak-optimizeLegibility.html:
        * fast/text/variable-system-font-2-expected-mismatch.html: Added.
        * fast/text/variable-system-font-2.html: Added.
        * fast/text/variable-system-font-expected-mismatch.html: Added.
        * fast/text/variable-system-font.html: Added.
        * svg/dom/altGlyph-dom-expected.txt:
        * svg/dom/resources/altGlyph-dom.js:

2021-08-19  Eric Hutchison  <ehutchison@apple.com>

        [iOS] 3 imported/w3c/web-platform-tests/css/css-typed-om/ tests are flaky failure.
        <rdar://82147623>.

        Unreviewed test gardening.

        * platform/ios/TestExpectations:

2021-08-19  Eric Hutchison  <ehutchison@apple.com>

        [Mac, iOS Release] imported/w3c/web-platform-tests/worklets/layout-worklet-csp.https.html is a flaky failure.
        <rdar://82146367>.

        Unreviewed test gardening.

        * platform/ios/TestExpectations:
        * platform/mac/TestExpectations:

2021-08-19  Wenson Hsieh  <wenson_hsieh@apple.com>

        [iOS] Remove support for the meaningful tap heuristic
        https://bugs.webkit.org/show_bug.cgi?id=229298
        rdar://82130066

        Reviewed by Tim Horton.

        Remove all layout tests that exercised the meaningful tap heuristic.

        * fast/events/ios/did-not-handle-meaningful-click-expected.txt: Removed.
        * fast/events/ios/did-not-handle-meaningful-click.html: Removed.
        * fast/events/ios/meaningful-click-when-focusing-body-expected.txt: Removed.
        * fast/events/ios/meaningful-click-when-focusing-body.html: Removed.
        * fast/events/ios/meaningful-click-when-playing-media-expected.txt: Removed.
        * fast/events/ios/meaningful-click-when-playing-media.html: Removed.
        * fast/events/ios/meaningful-click-when-tapping-draggable-content-expected.txt: Removed.
        * fast/events/ios/meaningful-click-when-tapping-draggable-content.html: Removed.
        * fast/events/ios/non-meaningful-click-when-tapping-document-expected.txt: Removed.
        * fast/events/ios/non-meaningful-click-when-tapping-document.html: Removed.

2021-08-19  Andres Gonzalez  <andresg_22@apple.com>

        Rename AccessibilityUIElement::setSelectedVisibleTextRange to setSelectedTextMarkerRange for naming consistency and maintainability.
        https://bugs.webkit.org/show_bug.cgi?id=229290
        <rdar://problem/82128453>

        Reviewed by Chris Fleizach.

        Updated all test files to use new name.

        * accessibility/mac/selected-visible-position-range.html:
        * accessibility/mac/selection-sync.html:
        * accessibility/mac/wk1-set-selected-text-marker-range-input-element.html:

2021-08-19  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Add support for overflow-wrap: anywhere
        https://bugs.webkit.org/show_bug.cgi?id=227695

        Reviewed by Antti Koivisto.

        * TestExpectations: Progressions.

2021-08-19  Eric Hutchison  <ehutchison@apple.com>

        [iOS 15 wk2] storage/indexeddb/dont-wedge-private.html is a flaky failure.
        rdar://82134088.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-08-19  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Win EWS ] http/tests/security/no-javascript-refresh-spaces.py is flaky crashing.
        https://bugs.webkit.org/show_bug.cgi?id=229300

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-08-13  Tim Nguyen  <ntim@apple.com>

        Top layer: handle display: contents and non out-of-flow position values
        https://bugs.webkit.org/show_bug.cgi?id=229093

        Reviewed by Simon Fraser.

        From: https://fullscreen.spec.whatwg.org/#new-stacking-layer
        If its specified display property is contents, it computes to block.
        If its specified position property is not absolute or fixed, it computes to absolute.

        Test: imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/modal-dialog-display-contents.html

        * TestExpectations:

2021-08-19  Tim Nguyen  <ntim@apple.com>

        Re-import html/semantics/interactive-elements/the-dialog-element WPT - August 19th 2021
        https://bugs.webkit.org/show_bug.cgi?id=229297

        Unreviewed.

        Also removed LayoutTests/imported/blink/dialog since the tests are now in the WPT repo.

        https://github.com/web-platform-tests/wpt/commit/02c0e1b2b1b316a20d5377a202d83799794ce510

        * TestExpectations:

2021-08-19  Eric Hutchison  <ehutchison@apple.com>

        [Mac, iOS] imported/w3c/web-platform-tests/html/rendering/replaced-elements/images/revoked-blob-print.html is an image-only failure.
        https://bugs.webkit.org/show_bug.cgi?id=229291.

        Unreviewed test gardening.

        * platform/ios/TestExpectations:
        * platform/mac-wk1/TestExpectations:
        * platform/mac/TestExpectations:

2021-08-19  Kyle Piddington  <kpiddington@apple.com>

        WebGL via Metal experimental feature does not correctly toggle metal backend
        https://bugs.webkit.org/show_bug.cgi?id=229267
        <rdar://81855735>

        Add tests to verify WebGL feature flag works as intended.

        Reviewed by Dean Jackson.

        * webgl/webgl-metal-disabled-expected.txt: Added.
        * webgl/webgl-metal-disabled.html: Added.
        * webgl/webgl-metal-enabled-expected.txt: Added.
        * webgl/webgl-metal-enabled.html: Added.

2021-08-19  Antti Koivisto  <antti@apple.com>

        TextDecorationPainter should not depend on LegacyInlineTextBox
        https://bugs.webkit.org/show_bug.cgi?id=228814

        Reviewed by Alan Bujtas.

        Fix the expected results to not depend on inline culling (which this patch ignores).

        * fast/text/text-underline-first-line-decoration-expected.html:
        * fast/text/text-underline-vertical-first-line-decoration-expected.html:

2021-08-19  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Win EWS ] fast/forms/* tests are flaky crashing FAULTING_IP:  WebKit!WebCore::FontCache::lastResortFallbackFont+ec [C:\cygwin\home\buildbot\worker\Windows-EWS\build\Source\WebCore\platform\graphics\win\FontCacheWin.cpp @ 424].
        https://bugs.webkit.org/show_bug.cgi?id=229009

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-08-19  Kate Cheney  <katherine_cheney@apple.com>

        [App Privacy Report] Some HTTP Redirects from non app initiated requests are marked app initiated
        https://bugs.webkit.org/show_bug.cgi?id=229202
        <rdar://problem/79467871>

        Reviewed by Brent Fulgham.

        Layout test coverage. This bug was only reproducing with media-related
        loading, so these tests redirect to load an mp4.

        * http/tests/app-privacy-report/app-attribution-media-redirect-expected.txt: Added.
        * http/tests/app-privacy-report/app-attribution-media-redirect.html: Added.
        * http/tests/app-privacy-report/user-attribution-media-redirect-expected.txt: Added.
        * http/tests/app-privacy-report/user-attribution-media-redirect.html: Added.

2021-08-19  Philippe Normand  <pnormand@igalia.com>

        Unreviewed, GStreamer gardening

        * platform/glib/TestExpectations: http/tests/images/image-supports-video.html no longer crashes.

2021-08-19  Tim Nguyen  <ntim@apple.com>

        Implement ::backdrop pseudo element
        https://bugs.webkit.org/show_bug.cgi?id=227801

        Reviewed by Antti Koivisto.

        This adds UA styles, RenderTreeBuilder support and WebInspector support for ::backdrop.
        Some imported blink tests now start passing, some still need proper top layer support.

        * TestExpectations:

2021-08-19  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo/TestExpectations:

2021-08-18  Carlos Alberto Lopez Perez  <clopez@igalia.com>

        [GTK][WPE] Gardening of layout tests

        Unreviewed test gardening.

        Mark expected failures after r281108 and others and update list of flaky tests.
        Rebaseline tests after r281136, r281127 and r281097.

        * platform/glib/TestExpectations:
        * platform/glib/imported/w3c/web-platform-tests/html/semantics/scripting-1/the-script-element/module/integrity-expected.txt: Added.
        * platform/gtk/TestExpectations:
        * platform/gtk/fast/repaint/line-layout-block-shrink-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/css/css-typed-om/rotate-by-added-angle-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/css/css-typed-om/width-by-max-px-em-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/css/css-typed-om/width-by-min-px-em-expected.txt: Added.
        * platform/wpe/imported/w3c/web-platform-tests/css/css-typed-om/rotate-by-added-angle-expected.txt: Added.
        * platform/wpe/imported/w3c/web-platform-tests/css/css-typed-om/width-by-max-px-em-expected.txt: Added.
        * platform/wpe/imported/w3c/web-platform-tests/css/css-typed-om/width-by-min-px-em-expected.txt: Added.

2021-08-18  Fujii Hironori  <Hironori.Fujii@sony.com>

        [Fetch API][WebKit1] http/tests/fetch/keepalive-fetch-2.html is randomly failing
        https://bugs.webkit.org/show_bug.cgi?id=229247

        Unreviewed test gardening.

        WebKit1 doesn't properly support keepalive fetch. Marked it as
        flaky. Increased the number of fetches for testing WebKit2 more.

        * http/tests/fetch/keepalive-fetch-2.html:
        * http/tests/fetch/resources/keepalive-fetch-2-window.html:
        * platform/ios-wk1/TestExpectations:
        * platform/mac-wk1/TestExpectations:

2021-08-18  Eric Hutchison  <ehutchison@apple.com>

        [Mac wk1 Debug] imported/w3c/web-platform-tests/IndexedDB/idbcursor-advance-continue-async.htm is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=229252.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-08-18  Fujii Hironori  <Hironori.Fujii@sony.com>

        [Win] http/tests/fetch/keepalive-fetch-2.html is randomly failing
        https://bugs.webkit.org/show_bug.cgi?id=229247

        Unreviewed test gardening.

        * platform/win/TestExpectations: Marked it as flaky.
        * platform/wincairo-wk1/TestExpectations: Ditto.

2021-08-18  Eric Hutchison  <ehutchison@apple.com>

        [Mac Debug] imported/w3c/web-platform-tests/IndexedDB/key-generators/reading-autoincrement-indexes-cursors.any.worker.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=229244.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-08-18  Andres Gonzalez  <andresg_22@apple.com>

        Add layout test for WebAccessibilityObjectWrapper handler for attribute AXLineForTextMarker on MacOS.
        https://bugs.webkit.org/show_bug.cgi?id=229220
        <rdar://problem/82057459>

        Reviewed by Chris Fleizach.

        * accessibility/mac/line-index-for-textmarker-expected.txt: Added.
        * accessibility/mac/line-index-for-textmarker.html: Added.
        * platform/mac-wk1/TestExpectations:

2021-08-18  Wenson Hsieh  <wenson_hsieh@apple.com>

        Add a layout test for webkit.org/b/229200
        https://bugs.webkit.org/show_bug.cgi?id=229222
        rdar://81636256

        Reviewed by Simon Fraser.

        Add a layout test to exercise the hang fixed in bug #229200. This test can be manually run by opening it in
        browser and verifying that the page does not hang (and outputs the expected PASS messages).

        * fast/canvas/draw-text-repeatedly-into-disconnected-canvas-expected.txt: Added.
        * fast/canvas/draw-text-repeatedly-into-disconnected-canvas.html: Added.

2021-08-18  Eric Hutchison  <ehutchison@apple.com>

        [Mac wk1] css/css-position/position-relative-table* tests fail.
        https://bugs.webkit.org/show_bug.cgi?id=203449.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-08-18  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ MacOS EWS ] inspector/canvas/recording-2d-memoryLimit.html is flaky crashing..
        https://bugs.webkit.org/show_bug.cgi?id=229237

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-18  Martin Robinson  <mrobinson@webkit.org>

        position: sticky with display: inline-block
        https://bugs.webkit.org/show_bug.cgi?id=224415
        <rdar://problem/76811968>

        Reviewed by Simon Fraser.

        * TestExpectations: Unskip newly passing tests and skip one test which was
        a false pass previously.

2021-08-17  Alex Christensen  <achristensen@webkit.org>

        Mark test as flaky: imported/w3c/web-platform-tests/navigation-timing/nav2_test_attributes_values.html
        https://bugs.webkit.org/show_bug.cgi?id=229181

        * TestExpectations:
        r281147 changed this test from flaky to differently flaky.
        It used to pass sometimes because the whole document would load before any script was executed, so there was no PerformanceNavigationTiming
        object to update as the document loaded.  r281147 fixed that, making it basically always pass when loaded over the real internet.
        Now, sometimes it loads locally so fast that Performance::reduceTimeResolution makes some of the values 0, which is allowed by the spec but not
        by the tests.  In practice, pages don't load over the internet in less than 1ms, so this isn't much of an issue, just in our test bots.
        I'll propose a fix for the web platform test, but for now I mark it as flaky.

2021-08-17  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] test http/tests/security/webaudio-render-remote-audio-allowed-crossorigin-redirect.html is a flaky timeout since r278004
        https://bugs.webkit.org/show_bug.cgi?id=229219

        Unreviewed test gardening.

        * platform/glib/TestExpectations:

2021-08-17  Fujii Hironori  <Hironori.Fujii@sony.com>

        [curl] Kept alive NetworkResourceLoaders should be cancelled by NetworkLoad::didCompleteWithError on PolicyAction::Ignore of didReceiveResponse
        https://bugs.webkit.org/show_bug.cgi?id=228095
        <rdar://problem/81393898>

        Unreviewed test failure fix.

        * http/tests/fetch/resources/get-set-temp-file.py: chmod +x.

2021-08-17  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ MacOS wk2 Debug ] http/wpt/webrtc/sframe-transform-error.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229206

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-17  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Win EWS ] Rebaselining 2 http/tests/security/contentSecurityPolicy/worker-* tests.
        https://bugs.webkit.org/show_bug.cgi?id=229216

        Unreviewed test gardening.

        * platform/win/http/tests/security/contentSecurityPolicy/worker-blob-inherits-csp-importScripts-redirect-cross-origin-blocked-expected.txt:
        * platform/win/http/tests/security/contentSecurityPolicy/worker-csp-importScripts-redirect-cross-origin-blocked-expected.txt:

2021-08-17  Eric Hutchison  <ehutchison@apple.com>

        [Mac Guard-Malloc] imported/w3c/web-platform-tests/mathml/relations/html5-tree/display-2.html is a flaky failure.
        rdar://82053210.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-08-17  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Win EWS ] http/tests/security/no-javascript-refresh-percent-escaped.py is flaky crashing.
        https://bugs.webkit.org/show_bug.cgi?id=229215

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-08-17  Robert Jenner  <Jenner@apple.com>

        REGRESSION (r271146): [ iOS ] editing/selection/ios/scrolling-to-focused-element-inside-iframe.html is failing
        https://bugs.webkit.org/show_bug.cgi?id=228200

        Unreviewed test gardening.

        * platform/ios/TestExpectations:

2021-08-17  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Win EWS ] performance-api/performance-timeline-api.html needs to be rebaselined.
        https://bugs.webkit.org/show_bug.cgi?id=229214

        Unreviewed test gardening.

        * platform/win/performance-api/performance-timeline-api-expected.txt:

2021-08-17  Robert Jenner  <Jenner@apple.com>

        REBASELINE : [ iOS ] 3X imported/w3c/web-platform-t ests/css/css-typed-om layout-tests are constant text failures
        https://bugs.webkit.org/show_bug.cgi?id=229207

        Unreviewed test gardening/ iOS rebaseline.

        * platform/ios/imported/w3c/web-platform-tests/css/css-typed-om/rotate-by-added-angle-expected.txt: Added.
        * platform/ios/imported/w3c/web-platform-tests/css/css-typed-om/width-by-max-px-em-expected.txt: Added.
        * platform/ios/imported/w3c/web-platform-tests/css/css-typed-om/width-by-min-px-em-expected.txt: Added.

2021-08-17  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Mac wk2 ] http/tests/webAPIStatistics/screen-functions-accessed-data-collection.html is a flaky timeout.
        rdar://82047046

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-17  Ayumi Kojima  <ayumi_kojima@apple.com>

        Rebaselining [ Win EWS ] http/tests/misc/webtiming-slow-load.py.
        https://bugs.webkit.org/show_bug.cgi?id=229099

        Unreviewed test gardening.

        * platform/win/TestExpectations:
        * platform/win/http/tests/misc/webtiming-slow-load-expected.txt:

2021-08-17  Eric Hutchison  <ehutchison@apple.com>

        [Monterey] imported/w3c/web-platform-tests/service-workers/service-worker/fetch-canvas-tainting-double-write.https.html is a constant failure.
        rdar://82044002.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-17  Eric Hutchison  <ehutchison@apple.com>

        [Monterey wk2 Debug arm64,iOS 15 wk2] imported/w3c/web-platform-tests/xhr/xhr-timeout-longtask.any.html is a flaky failure.
        rdar://82043074.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-17  Fujii Hironori  <Hironori.Fujii@sony.com>

        [curl] Kept alive NetworkResourceLoaders should be cancelled by NetworkLoad::didCompleteWithError on PolicyAction::Ignore of didReceiveResponse
        https://bugs.webkit.org/show_bug.cgi?id=228095
        <rdar://problem/81393898>

        Reviewed by Don Olmstead.

        * http/tests/fetch/keepalive-fetch-2-expected.txt: Added.
        * http/tests/fetch/keepalive-fetch-2.html: Added.
        * http/tests/fetch/resources/get-set-temp-file.py: Added.
        * http/tests/fetch/resources/keepalive-fetch-2-window.html: Added.

2021-08-17  Mikhail R. Gadelha  <mikhail@igalia.com>

        Unreviewed. Skip failing MIPS tests
        https://bugs.webkit.org/show_bug.cgi?id=229198

        * platform/wpe/TestExpectations:

2021-08-17  Eric Hutchison  <ehutchison@apple.com>

        [Monterey wk1 Debug Intel] inspector/css/getMatchedStylesForNodeMarkerPseudoId.html is a flaky failure).
        rdar://82039967.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-08-17  Eric Hutchison  <ehutchison@apple.com>

        [Monterey wk1 Debug] inspector/timeline/timeline-event-TimerInstall.html is a flaky crash.
        rdar://82039288.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-08-17  Alex Christensen  <achristensen@webkit.org>

        Document load events should update timing in PerformanceNavigationTiming even after its instantiation
        https://bugs.webkit.org/show_bug.cgi?id=229181

        Reviewed by Chris Dumez.

        * TestExpectations:
        * platform/mac-wk1/TestExpectations:
        This test now always passes in WK2.

2021-08-17  Eric Hutchison  <ehutchison@apple.com>

        [Monterey wk2 Release] performance-api/paint-timing/paint-timing-with-worker.html is a flaky crash.
        rdar://82036119.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-17  Eric Hutchison  <ehutchison@apple.com>

        [Monterey wk2 Release] performance-api/performance-observer-no-document-leak.html is a flaky crash.
        rdar://82035182.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-17  Eric Hutchison  <ehutchison@apple.com>

        [Monterey wk2 Release] security/contentSecurityPolicy/image-with-file-url-allowed-by-img-src-star.html is flaky image-only fail.
        rdar://82034073.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-17  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GTK] Mark webgl/1.0.3/conformance/textures/tex-image-and-sub-image-2d-with-video.html as flaky
        https://bugs.webkit.org/show_bug.cgi?id=229192

        This test now consistently either passes or fails and no longer times out.

        Unreviewed test gardening.

        * platform/gtk/TestExpectations:

2021-08-17  Eric Hutchison  <ehutchison@apple.com>

        [Mac wk2] webanimations/translate-property-and-translate-animation-with-delay-on-forced-layer.html is a flaky image-only fail.
        rdar://82032946.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-17  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Win EWS ] fast/forms/number/number-spinbutton-state.html is flaky crashing.
        https://bugs.webkit.org/show_bug.cgi?id=229194

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-08-17  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Win EWS ] svg/custom/animate-initial-pause-unpause.html is flaky timing out.
        https://bugs.webkit.org/show_bug.cgi?id=229195

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-08-17  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Debug wk2 ] ASSERTION FAILED: willBeComposited == needsToBeComposited(layer, queryData).
        https://bugs.webkit.org/show_bug.cgi?id=223750

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-17  Eric Hutchison  <ehutchison@apple.com>

        [Win10 wk1] animations/shadow-host-child-change.html is a constant failure.
        https://bugs.webkit.org/show_bug.cgi?id=229191.

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-08-17  Antti Koivisto  <antti@apple.com>

        Incorrect repaint when inline level box style change triggers line height change
        https://bugs.webkit.org/show_bug.cgi?id=229140
        <rdar://problem/81980863>

        Reviewed by Alan Bujtas.

        * fast/repaint/line-layout-block-shrink-expected.txt: Added.
        * fast/repaint/line-layout-block-shrink.html: Added.

2021-08-17  Jean-Yves Avenard  <jya@apple.com>

        Implement API to ensure MediaRemote key mapping is correct
        https://bugs.webkit.org/show_bug.cgi?id=229070
        <rdar://problem/81894480>

        Reviewed by Eric Carlson.

        * media/media-session/actionHandlerInternalMappings-expected.txt: Added.
        * media/media-session/actionHandlerInternalMappings.html: Added.

2021-08-16  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening. Update baselines after r277970.

        This change removes the remaining test failures filed under webkit.org/b/186638.

        * platform/glib/TestExpectations:
        * platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-combining-expected.txt:
        * platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-001-expected.txt: Renamed from LayoutTests/platform/gtk/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-001-expected.txt.
        * platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-002-expected.txt:

2021-08-16  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB][GTK] Unreviewed test gardening. Reassign bugs filed under webkit.org/b/186638.

        webkit.org/b/186638 was used to track tests failing in EWS-GTK, but
        all the current tests filed under this bug are actually failing in the
        post-commit bot. The failing tests should be filed under their own bug.

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:

2021-08-16  Antti Koivisto  <antti@apple.com>

        REGRESSION (r275756): Accelerated animations freeze when invalidating layout with shadow dom
        https://bugs.webkit.org/show_bug.cgi?id=228954
        <rdar://problem/81750217>

        Reviewed by Ryosuke Niwa.

        Original test by Liam DeBeasi

        * animations/shadow-host-child-change-expected.html: Added.
        * animations/shadow-host-child-change.html: Added.

2021-08-16  Dean Jackson  <dino@apple.com>

        WebXR contexts have to use high-power GPUs
        https://bugs.webkit.org/show_bug.cgi?id=229111
        <rdar://81658893>

        Reviewed by Sam Weinig.

        * webxr/high-performance-expected.txt: Added.
        * webxr/high-performance.html: Added.

2021-08-16  Eric Hutchison  <ehutchison@apple.com>

        [Monterey] webaudio/codec-tests/mp3/128kbps-44khz.html is a constant failure.
        rdar://82003714.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-08-16  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Monterey wk2 Release ] css3/blending/background-blend-mode-background-clip-content-box.html is flaky image failing.
        rdar://82002352

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-16  Eric Hutchison  <ehutchison@apple.com>

        [Mac wk2] webrtc/utf8-sdp.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229166.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-16  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Monterey wk2 Release ] 2 css3/background/* tests are flaky image failing.
        rdar://82000141

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-16  Eric Hutchison  <ehutchison@apple.com>

        [Mac wk2] webrtc/video-addTransceiver.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229163.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-16  Andres Gonzalez  <andresg_22@apple.com>

        Expose [WebAccessibilityObjectWrapper lineRectsAndText] on MacOS.
        https://bugs.webkit.org/show_bug.cgi?id=229045
        <rdar://81819301>

        Reviewed by Chris Fleizach.

        * accessibility/element-line-rects-and-text.html: Renamed from LayoutTests/accessibility/ios-simulator/element-line-rects-and-text.html.
        * platform/ios/TestExpectations:
        * platform/ios/accessibility/element-line-rects-and-text-expected.txt: Renamed from LayoutTests/accessibility/ios-simulator/element-line-rects-and-text-expected.txt.
        * platform/mac/accessibility/element-line-rects-and-text-expected.txt: Added.
        * platform/mac-wk1/TestExpectations:
        * platform/win/TestExpectations:

2021-08-16  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Monterey wk1 GuardMalloc ] fast/borders/hidpi-3x-input-hairline-border.html is timing out.
        rdar://81996454

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-08-16  Wenson Hsieh  <wenson_hsieh@apple.com>

        REGRESSION (r281054): [ iOS14 ] fast/events/touch/ios/long-press-then-drag-to-select-text.html is a constant text failure
        https://bugs.webkit.org/show_bug.cgi?id=229157
        <rdar://problem/81993820>

        Unreviewed, mark this test as passing on iOS 14 again.

        * platform/ios-14/TestExpectations:

2021-08-16  Eric Hutchison  <ehutchison@apple.com>

        [Mac wk2] webrtc/video-setDirection.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229158.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-16  Wenson Hsieh  <wenson_hsieh@apple.com>

        [iOS 15] editing/selection/ios/hide-selection-after-tap-on-prevent-default-element.html is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=229147
        rdar://80384447

        Reviewed by Tim Horton.

        This test verifies that we clear the text selection when tapping on an element that prevents the `click` event
        on iOS (which matches behavior on macOS as well). To do this, the test:

        1. Long presses a piece of text to select it
        2. Taps the text we just selected (for reasons that are unclear to me)
        3. Taps the button with the click event listener, and then
        4. Waits for the platform text selection to disappear.

        Currently, this test occasionally times out after step (3), and the selection is never cleared. In the success
        case, the selection is cleared when UIKit's internal UITextTapRecognizer fires. Similar to the flaky timeout of
        editing/selection/ios/select-all-in-readonly-input-does-not-overflow.html that was fixed in bug #229126, we
        fail in the case where the text tap gesture is not reset before the synthetic touches in (3) are dispatched.

        While the mitigations in #229126 sometimes kick in and keep this test from timing out, this test may still time
        out after that change because the touches in steps (2) and (3) are synthesized so quickly that the text tap
        gesture is still in Possible state when sending touches in (3), because the HID events created in step (2)
        haven't been delivered to the UIWindow yet in the form of UITouchEvents.

        As such, one potential way to fix this is to teach HIDEventGenerator to wait until the HID events synthesized
        underneath `-sendTaps:location:withNumberOfTouches:withNumberOfTouches:delay:completionBlock:` have been
        delivered to the window. However, in the context of this test failure, there's a much less intrusive way to
        avoid this race.

        In the failure case, we avoid resetting UITextTapRecognizer immediately after the touches in step (2) are
        processed because the tap-and-a-half gesture for selecting a range of text has not failed or ended yet; this
        happens because the long press in step (1) followed by the tap in the same location in step (2) causes
        UITapAndAHalfRecognizer to *sometimes* remain in Possible state with gesture failure requirements that connect
        it to the other text interactions (including UITextTapRecognizer) in the same gesture dependency subgraph; this
        in turn causes UITapAndAHalfRecognizer to defer reset of UITextTapRecognizer *just* long enough for the tap in
        step (3) not be delivered to UITextTapRecognizer.

        Interestingly, it's not clear that the tap in step (2) is necessary for the purposes of this test, and
        importantly, removing it prevents the UITapAndAHalfRecognizer from remaining in Possible state when tapping on
        the button after the long press, which ensures that the gesture subgraph containing UITextTapRecognizer is reset
        in time for the touches to be delivered to the window. Thus, we can fix this bug simply by removing step (2).

        * editing/selection/ios/hide-selection-after-tap-on-prevent-default-element.html:
        * platform/ios-14/TestExpectations:
        * platform/ios/TestExpectations:

2021-08-16  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Monterey wk2 Guard-Malloc arm64 ] fast/text/canvas-color-fonts/* tests are image failing.
        rdar://81988829

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-16  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GTK] fast/inline/incorrect-middle-baseline-alignment-with-line-height.html is passing since r277325
        https://bugs.webkit.org/show_bug.cgi?id=225293

        Unreviewed test gardening

        * platform/gtk/TestExpectations:

2021-08-16  Brent Fulgham  <bfulgham@apple.com>

        REGRESSION (r281012): WebInspector console no longer shows script integrity information
        https://bugs.webkit.org/show_bug.cgi?id=229097
        <rdar://problem/81915909>

        Reviewed by Youenn Fablet.

        * http/tests/subresource-integrity/sri-fetch-expected.txt:
        * http/tests/subresource-integrity/sri-module-expected.txt:
        * js/dom/modules/module-fetch-failure-not-cached-expected.txt:

2021-08-16  Eric Hutchison  <ehutchison@apple.com>

        [ BigSur+ ] webrtc/video-addTrack.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229156.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-16  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Win EWS ] fast/forms/* tests are flaky crashing FAULTING_IP:  WebKit!WebCore::FontCache::lastResortFallbackFont+ec [C:\cygwin\home\buildbot\worker\Windows-EWS\build\Source\WebCore\platform\graphics\win\FontCacheWin.cpp @ 424].
        https://bugs.webkit.org/show_bug.cgi?id=229009

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-08-16  Eric Hutchison  <ehutchison@apple.com>

        [iOS wk2 Release] webrtc/peer-connection-audio-mute2.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=229154.

        Unreviewed test gardening.

        * platform/ios/TestExpectations:

2021-08-16  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Win EWS ] fast/forms/input-appearance-spinbutton-size.html is flaky crashing.
        https://bugs.webkit.org/show_bug.cgi?id=229143

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-08-16  Philippe Normand  <pnormand@igalia.com>

        [GTK][WPE] Test fast/mediastream/mediastreamtrack-video-clone.html is flaky timeout since r280775
        https://bugs.webkit.org/show_bug.cgi?id=229063

        Reviewed by Xabier Rodriguez-Calvar.

        * platform/glib/TestExpectations:

2021-08-16  Eric Hutchison  <ehutchison@apple.com>

        [Win10 wk1 Release] http/tests/security/contentSecurityPolicy/worker-blob-inherits-csp-importScripts-redirect-cross-origin-blocked.html is failing.
        https://bugs.webkit.org/show_bug.cgi?id=229146.

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-08-15  Wenson Hsieh  <wenson_hsieh@apple.com>

        [iOS 15] editing/selection/ios/select-all-in-readonly-input-does-not-overflow.html is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=229126
        rdar://80384801

        Reviewed by Tim Horton.

        Update test expectations for this flaky test.

        * platform/ios-14/TestExpectations:
        * platform/ios/TestExpectations:

2021-08-15  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test expectations after r280077
        https://bugs.webkit.org/show_bug.cgi?id=229124

        Unreviewed test gardening.

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:
        * platform/wpe/TestExpectations:

2021-08-14  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update baselines after r281012
        https://bugs.webkit.org/show_bug.cgi?id=229108

        Unreviewed test gardening.

        * platform/glib/imported/w3c/web-platform-tests/FileAPI/url/url-with-fetch.any-expected.txt: Removed.
        * platform/glib/imported/w3c/web-platform-tests/FileAPI/url/url-with-fetch.any.worker-expected.txt: Removed.
        * platform/glib/imported/w3c/web-platform-tests/content-security-policy/inside-worker/dedicatedworker-report-only-expected.txt: Removed.
        * platform/glib/imported/w3c/web-platform-tests/fetch/h1-parsing/status-code.window-expected.txt:
        * platform/glib/imported/w3c/web-platform-tests/html/semantics/scripting-1/the-script-element/module/integrity-expected.txt: Removed.

2021-08-13  Chris Dumez  <cdumez@apple.com>

        Add Cross-Origin-Embedder-Policy support for Blob URLs
        https://bugs.webkit.org/show_bug.cgi?id=229041

        Reviewed by Alex Christensen.

        Update test expectations to unskip tests that are now passing.

        * TestExpectations:

2021-08-13  Wenson Hsieh  <wenson_hsieh@apple.com>

        [iOS 15] fast/events/touch/ios/long-press-on-link.html is a constant crash
        https://bugs.webkit.org/show_bug.cgi?id=229095
        rdar://80386326

        Reviewed by Tim Horton.

        Remove the failing test expectation (and remove a passing expectation for iOS 14 which is no longer necessary
        after this fix).

        * platform/ios-14/TestExpectations:
        * platform/ios/TestExpectations:

2021-08-13  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Win EWS ] http/tests/misc/webtiming-slow-load.py is failing.
        https://bugs.webkit.org/show_bug.cgi?id=229099

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-08-13  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Win EWS ] fast/forms/caps-lock-indicator-width.html is crashing.
        https://bugs.webkit.org/show_bug.cgi?id=229098

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-08-13  Youenn Fablet  <youenn@apple.com>

        Use profile auto level for WebRTC H264 encoder on Apple Silicon
        https://bugs.webkit.org/show_bug.cgi?id=229071
        <rdar://80345048>

        Reviewed by Eric Carlson.

        * platform/mac/TestExpectations:

2021-08-13  Alex Christensen  <achristensen@webkit.org>

        Unreviewed, reverting r281009.

        Timing not quite right

        Reverted changeset:

        "Unprefix -webkit-backface-visibility"
        https://bugs.webkit.org/show_bug.cgi?id=170983
        https://commits.webkit.org/r281009

2021-08-13  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur Debug wk2 EWS ] webrtc/video-interruption.html is flaky crashing.
        https://bugs.webkit.org/show_bug.cgi?id=229076

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-13  Ayumi Kojima  <ayumi_kojima@apple.com>

        REGRESSION(r280078): broke fast/images/exif-orientation-composited.html on windows.
        https://bugs.webkit.org/show_bug.cgi?id=228325.

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-08-13  Youenn Fablet  <youenn@apple.com>

        Overly verbose catchable fetch error messages lead to cross-origin leaks
        https://bugs.webkit.org/show_bug.cgi?id=228861

        Reviewed by Brent Fulgham.

        * http/tests/contentextensions/block-ping-resource-type-raw-expected.txt:
        * http/tests/contentextensions/fetch-redirect-blocked.html:
        * http/tests/security/contentSecurityPolicy/worker-blob-inherits-csp-importScripts-redirect-cross-origin-blocked-expected.txt:
        * http/tests/security/contentSecurityPolicy/worker-csp-importScripts-redirect-cross-origin-blocked-expected.txt:
        * http/tests/subresource-integrity/sri-module-expected.txt:
        * http/tests/workers/service/shift-reload-navigation-expected.txt:
        * http/tests/workers/resources/worker-importScripts.js: changed error logging for better readability.
        * http/tests/workers/worker-importScripts-expected.txt:
        * http/wpt/service-workers/cors-preflight-star.any-serviceworker-expected.txt:
        * js/dom/modules/module-fetch-failure-not-cached-expected.txt:
        * platform/mac-wk1/http/tests/security/contentSecurityPolicy/worker-blob-inherits-csp-importScripts-redirect-cross-origin-blocked-expected.txt:
        * platform/mac-wk1/http/tests/security/contentSecurityPolicy/worker-csp-importScripts-redirect-cross-origin-blocked-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/FileAPI/url/url-with-fetch.any-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/FileAPI/url/url-with-fetch.any.worker-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/clipboard-apis/async-navigator-clipboard-basics.https-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/content-security-policy/inside-worker/dedicatedworker-report-only-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/fetch/api/request/request-cache-only-if-cached.any-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/fetch/api/request/request-cache-only-if-cached.any.worker-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/fetch/http-cache/cc-request.any-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/fetch/http-cache/cc-request.any.worker-expected.txt:

2021-08-13  Martin Robinson  <mrobinson@webkit.org>

        Get lint-test-expectations passing
        https://bugs.webkit.org/show_bug.cgi?id=228999

        Reviewed by Ryan Haddad.

        * TestExpectations: Remove expectation for non-existent test.
        * platform/ios-simulator/TestExpectations: Ditto.
        * platform/ios-wk2/TestExpectations: Ditto.
        * platform/ios/TestExpectations: Dito.
        * platform/mac-wk1/TestExpectations: Ditto. Also, the expectations for the non-test
        'boot.xml' and 'root.xml' have been moved to workarounds in webkitpy.
        * platform/mac/TestExpectations: Remove references to non-existent tests. Also combined
        one expectation that was not linting due to a problem like the one described in bug
        120081.
        * platform/win/TestExpectations: Ditto.

2021-08-12  Alex Christensen  <achristensen@webkit.org>

        Unprefix -webkit-backface-visibility
        https://bugs.webkit.org/show_bug.cgi?id=170983

        Reviewed by Simon Fraser.

        * platform/ios-wk2/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/ios/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/ios/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/ios/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/ios/svg/css/getComputedStyle-basic-expected.txt:
        * platform/mac/fast/css/getComputedStyle/computed-style-expected.txt:
        * platform/mac/fast/css/getComputedStyle/computed-style-without-renderer-expected.txt:
        * platform/mac/svg/css/getComputedStyle-basic-expected.txt:

2021-08-12  Carlos Alberto Lopez Perez  <clopez@igalia.com>

        [GTK][WPE] Gardening of layout test failures

        Unreviewed gardening

        Rebaseline tests after r280953 and r279838 and report and mark new expected failures.

        * platform/glib/TestExpectations:
        * platform/glib/imported/w3c/web-platform-tests/content-security-policy/inside-worker/dedicatedworker-report-only-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/content-security-policy/inside-worker/serviceworker-report-only.https.sub-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/html/cross-origin-embedder-policy/header-parsing.https-expected.txt: Added.
        * platform/gtk/TestExpectations:

2021-08-12  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Mac wk1 ] imported/w3c/web-platform-tests/FileAPI/url/url-in-tags.window.html is flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=229058

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-08-12  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ MacOS EWS ] 3 inspector/canvas/* tests are flaky failing/ crashing.
        https://bugs.webkit.org/show_bug.cgi?id=229043

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-12  Wenson Hsieh  <wenson_hsieh@apple.com>

        [ iOS Debug] 3 editing/pasteboard/smart-paste-paragraph tests are flaky failing
        https://bugs.webkit.org/show_bug.cgi?id=228285
        rdar://81118724

        Reviewed by Tim Horton and Aditya Keerthi.

        Remove the flaky test failure expectations.

        * platform/ios-wk2/TestExpectations:

2021-08-12  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ MacOS EWS ] inspector/canvas/recording-webgl-snapshots.html is flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=229043

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-12  Sam Weinig  <weinig@apple.com>

        Allow testing of the final UIView tree on iOS platforms
        https://bugs.webkit.org/show_bug.cgi?id=229016

        Reviewed by Tim Horton.

        * remote-layer-tree: Added.
        * remote-layer-tree/ios: Added.
        * remote-layer-tree/ios/uiview-tree-basic-expected.txt: Added.
        * remote-layer-tree/ios/uiview-tree-basic.html: Added.
        Add basic test case excercising UIView tree dumping to ensure
        it is working properly.

        * resources/ui-helper.js:
        (window.UIHelper.getUIViewTree):
        Add helper to use get the UIView tree as text.

        * TestExpectations:
        * platform/ios/TestExpectations:
        Ensure these tests are only run on iOS.

2021-08-12  Martin Robinson  <mrobinson@webkit.org>

        Update import of css/css-position from WPT
        https://bugs.webkit.org/show_bug.cgi?id=228988

        Reviewed by Youenn Fablet.

        * TestExpectations: Update test expectations.
        * platform/mac-wk1/TestExpectations: Ditto.
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/css-position/sticky/position-sticky-scrollIntoView-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/css-position/sticky/sticky-after-input-expected.txt: Added.

2021-08-12  Youenn Fablet  <youenn@apple.com>

        Implement SFrameTransform error handling
        https://bugs.webkit.org/show_bug.cgi?id=228947

        Reviewed by Eric Carlson.

        * http/wpt/webrtc/sframe-transform-error-worker.js: Added.
        (onrtctransform.async event):
        * http/wpt/webrtc/sframe-transform-error.html: Added.
        * http/wpt/webrtc/sframe-transform-error-expected: Added.

2021-08-11  Lauro Moura  <lmoura@igalia.com>

        [GLIB] Gardening a few failures and passes

        Unreviewed test gardening.

        * platform/glib/TestExpectations:
        * platform/wpe/TestExpectations:

2021-08-11  Chris Dumez  <cdumez@apple.com>

        Add initial support for Cross-Origin-Embedder-Policy (COEP)
        https://bugs.webkit.org/show_bug.cgi?id=228754

        Reviewed by Alex Christensen.

        Update test expectations now that we support COEP on WK2.

        * TestExpectations:
        * http/wpt/html/cross-origin-embedder-policy/require-corp.https-expected.txt: Added.
        * http/wpt/html/cross-origin-embedder-policy/require-corp.https.html: Added.
        * http/wpt/html/cross-origin-embedder-policy/require-corp.https.html.headers: Added.
        * platform/mac-wk1/TestExpectations:
        * platform/win/TestExpectations:

2021-08-11  Jean-Yves Avenard  <jya@apple.com>

        Audio buffer may contain more frames than decoded.
        https://bugs.webkit.org/show_bug.cgi?id=228732
        rdar://problem/81447014

        Reviewed by Eric Carlson.

        * platform/mac/TestExpectations:
        * webaudio/decode-audio-data-wav-expected.txt: Added.
        * webaudio/decode-audio-data-wav.html: Added.
        * webaudio/pinknoise.wav: Added. Generated with command
        sox -b 16 -r 44100 -n pinknoise.wav synth 4 pinknoise

2021-08-11  Wenson Hsieh  <wenson_hsieh@apple.com>

        [ iOS ] fast/scrolling/ios/click-events-during-momentum-scroll-in-overflow-after-tap-on-body.html is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=228672
        rdar://81348960

        Reviewed by Simon Fraser.

        On rare occasion, this test times out when the synthesized swipe gesture fails to cause the scrollable overflow
        container to scroll past an arbitrary scroll position threshold (previously 400px). Mitigate this by rewriting
        the test, such that we'll swipe _until_ we scroll past the threshold (which has also been lowered to just
        100px).

        Additionally, rewrite parts of this test to be generally easier to follow; for example, remove the scroll event
        listener and instead just synthesize swipe gestures until `scroller.scrollTop` crosses 100px.

        * fast/scrolling/ios/click-events-during-momentum-scroll-in-overflow-after-tap-on-body-expected.txt:
        * fast/scrolling/ios/click-events-during-momentum-scroll-in-overflow-after-tap-on-body.html:
        * platform/ios-wk2/TestExpectations: Remove the failing test expectation.

2021-08-11  Chris Dumez  <cdumez@apple.com>

        http/tests/xmlhttprequest/interactive-state.html is flaky
        https://bugs.webkit.org/show_bug.cgi?id=229006
        <rdar://80343834>

        Reviewed by Alex Christensen.

        * http/tests/xmlhttprequest/interactive-state-expected.txt:
        Rebaseline test as the output is a bit different now.

        * http/tests/xmlhttprequest/interactive-state.cgi:
        Use sleep instead of writing a lot of data to make sure that
        the data is processed in chunks.

        * http/tests/xmlhttprequest/interactive-state.html:
        Modernize test a bit.

        * platform/mac-wk1/TestExpectations:
        Unskip test as it should no longer be flaky.

2021-08-11  Alex Christensen  <achristensen@webkit.org>

        REGRESSION (r278392) performance.measure should never throw an InvalidAccessError for fetchStart
        https://bugs.webkit.org/show_bug.cgi?id=229008
        <rdar://79960877>

        Reviewed by Chris Dumez.

        * http/tests/performance/performance-measure-fetch-start-expected.txt: Added.
        * http/tests/performance/performance-measure-fetch-start.html: Added.

2021-08-11  Dana Estra  <destra@apple.com>

        Start smooth keyboard scrolling animation when pageUp or pageDown key is pressed.
        https://bugs.webkit.org/show_bug.cgi?id=228156

        Reviewed by Tim Horton.
        
        Tests check that at least 2 scroll events occur when the downArrow key or pageDown key is pressed, and
        that with each event, the page's offset from its original position increases.

        * fast/scrolling/keyboard-scrolling-distance-downArrow-expected.txt: Added.
        * fast/scrolling/keyboard-scrolling-distance-downArrow.html: Added.
        * fast/scrolling/keyboard-scrolling-distance-pageDown-expected.txt: Added.
        * fast/scrolling/keyboard-scrolling-distance-pageDown.html: Added.

2021-08-11  Aditya Keerthi  <akeerthi@apple.com>

        REGRESSION (r273072): Caps lock indicator in password field is too large
        https://bugs.webkit.org/show_bug.cgi?id=228970
        rdar://81546781

        Reviewed by Wenson Hsieh.

        Added a layout test to verify that the width of the caps lock indicator
        adapts to the height of the password field, but does not exceed a
        maximum width.

        The added test is skipped on WK1, since DumpRenderTree does not support
        toggling caps lock state. Implementing the testing hook in DRT is made
        difficult by the fact that, in WK1, the caps lock state is queried
        directly from the OS, using GetCurrentKeyModifiers.

        * fast/forms/caps-lock-indicator-width-expected.txt: Added.
        * fast/forms/caps-lock-indicator-width.html: Added.
        * platform/ios-wk1/TestExpectations:
        * platform/mac-wk1/TestExpectations:

2021-08-11  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Win EWS ] fast/forms/input-baseline.html is flaky crashing.
        https://bugs.webkit.org/show_bug.cgi?id=229009

        Unreviewed Windows test gardening to seed up EWS.

        * platform/win/TestExpectations:

2021-08-11  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Win EWS ] http/tests/xmlhttprequest/xmlhttprequest-50ms-download-dispatch.html is flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=229007

        Unreviewed Windows test gardening to seed up EWS.

        * platform/win/TestExpectations:

2021-08-11  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [Gstreamer] mark media/media-source/media-mp4-h264-sequence-mode.html as failing
        https://bugs.webkit.org/show_bug.cgi?id=228976

        Unreviewed test gardening.

        * platform/glib/TestExpectations:

2021-08-11  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Win EWS ] fast/events/dropzone-005.html is flaky crashing.
        https://bugs.webkit.org/show_bug.cgi?id=229005

        Unreviewed Windows test gardening to seed up EWS.

        * platform/win/TestExpectations:

2021-08-11  Eric Hutchison  <ehutchison@apple.com>

        [BigSur wk2] webgl/2.0.0/conformance2/textures/image_bitmap_from_video/tex-2d-rgb565-rgb-unsigned_short_5_6_5.html.
        https://bugs.webkit.org/show_bug.cgi?id=229015.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-11  Kimmo Kinnunen  <kkinnunen@apple.com>

        Cherry-pick ANGLE: Revise WebGL's shaderSource validation
        https://bugs.webkit.org/show_bug.cgi?id=228951

        Reviewed by Kenneth Russell.

        Fixes tests:
        webgl/1.0.x/conformance/misc/invalid-passed-params.html
        webgl/1.0.x/conformance/glsl/bugs/character-set.html
        webgl/2.0.y/conformance/misc/invalid-passed-params.html
        webgl/2.0.y/conformance/glsl/bugs/character-set.html

        * TestExpectations:

2021-08-11  Cathie Chen  <cathiechen@igalia.com>

        REGRESSION (r277997): Max-height not applied for image
        https://bugs.webkit.org/show_bug.cgi?id=228872

        Reviewed by Antti Koivisto.

        * TestExpectations:

2021-08-10  Lauro Moura  <lmoura@igalia.com>

        [WPE] Garden new css-counter imageonly failures

        Unreviewed test gardening.

        Some width issues in some specific cases of upper/lower roman style.

        * platform/wpe/TestExpectations:

2021-08-10  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test expectations after r280742
        https://bugs.webkit.org/show_bug.cgi?id=228972

        Unreviewed test gardening.

        * platform/glib/TestExpectations:
        * platform/glib/compositing/backing/form-controls-backing-expected.txt: Removed.

2021-08-10  Chris Dumez  <cdumez@apple.com>

        Meta HTTP refresh should not navigate if document has sandboxed automatic features browsing context flag set
        https://bugs.webkit.org/show_bug.cgi?id=228965

        Reviewed by Darin Adler.

        Unskip tests that should no longer be flaky now that they are passing.

        * TestExpectations:

2021-08-10  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Win EWS ] fast/forms/search/search-zoom-computed-style-height.html is flaky crashing.
        https://bugs.webkit.org/show_bug.cgi?id=228968

        Unreviewed Windows test gardening to seed up EWS.

        * platform/win/TestExpectations:

2021-08-10  Chris Dumez  <cdumez@apple.com>

        Document.baseURI is inaccurate for iframe srcdoc documents
        https://bugs.webkit.org/show_bug.cgi?id=228933

        Reviewed by Alex Christensen.

        Update existing layout test to reflect behavior change.

        * fast/dom/HTMLBaseElement/href-attribute-resolves-with-respect-to-document.html: Removed.
        * http/tests/misc/href-attribute-resolves-with-respect-to-document-expected.txt: Renamed from LayoutTests/fast/dom/HTMLBaseElement/href-attribute-resolves-with-respect-to-document-expected.txt.
        * http/tests/misc/href-attribute-resolves-with-respect-to-document.html: Added.

2021-08-10  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update crypto test baselines after r280790
        https://bugs.webkit.org/show_bug.cgi?id=228957

        Unreviewed test gardening.

        * platform/glib/TestExpectations:
        * platform/glib/crypto/subtle/aes-cbc-cfb-decrypt-malformed-parameters-expected.txt:
        * platform/glib/crypto/subtle/aes-cbc-cfb-encrypt-malformed-parameters-expected.txt:

2021-08-10  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ MacOS ] inspector/canvas/shaderProgram-add-remove-webgl2.html is flaky.
        https://bugs.webkit.org/show_bug.cgi?id=228934

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-10  Cathie Chen  <cathiechen@igalia.com>

        Import css/css-sizing/aspect-ratio tests from WPT
        https://bugs.webkit.org/show_bug.cgi?id=228945

        Reviewed by Rob Buis.

        * TestExpectations:

2021-08-09  Yusuke Suzuki  <ysuzuki@apple.com>

        Partially revert r280256 behavior change since it broke Facetime
        https://bugs.webkit.org/show_bug.cgi?id=228943
        rdar://81700268

        Reviewed by Mark Lam.

        * fast/frames/sandboxed-iframe-navigation-parent-expected.txt:
        * fast/frames/sandboxed-iframe-navigation-parent.html:
        * http/tests/security/frameNavigation/context-for-location-assign-expected.txt:

2021-08-09  Chris Dumez  <cdumez@apple.com>

        Blob URL changes after loading it
        https://bugs.webkit.org/show_bug.cgi?id=228923

        Reviewed by Geoff Garen.

        Add layout test coverage.

        * fast/files/blob-as-frame-url-expected.txt: Added.
        * fast/files/blob-as-frame-url.html: Added.

2021-08-09  Lauro Moura  <lmoura@igalia.com>

        [GLIB] Garden two getUserMedia timeouts

        Unreviewed test gardening.

        * platform/glib/TestExpectations:

2021-08-09  Robert Jenner  <Jenner@apple.com>

        [ Monterey Release wk2 ] platform/mac/fast/overflow/overflow-scrollbar-hit-test.html is a flaky crash
        https://bugs.webkit.org/show_bug.cgi?id=228200

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-09  Simon Fraser  <simon.fraser@apple.com>

        Vertical scroll with mouse wheel in horizontal scroller fails to propagate to the document
        https://bugs.webkit.org/show_bug.cgi?id=228891
        <rdar://81640239>

        Reviewed by Antti Koivisto.

        * fast/scrolling/mac/vertical-scroll-in-horizontal-scroller-expected.txt: Added.
        * fast/scrolling/mac/vertical-scroll-in-horizontal-scroller.html: Added.
        * tiled-drawing/scrolling/overflow-scroll-reduced-content.html: Convert this test to use 
        async scrolling. webkit.org/b/228898 tracks an existing problem that caused the test
        to fail with non-async scrolling.

2021-08-09  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ MacOS wk2 ] tiled-drawing/scrolling/scroll-snap/scroll-snap-momentum-in-non-snapping-axis.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=228930

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-09  Robert Jenner  <Jenner@apple.com>

        (rebaseline) [ iOS ] 2 imported/w3c/web-platform-tests/css/cssom/* tests failing
        https://bugs.webkit.org/show_bug.cgi?id=228200

        Unreviewed iOS 15 rebase being added to OpenSource.

        * platform/ios/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt: Added.

2021-08-09  Wenson Hsieh  <wenson_hsieh@apple.com>

        Enable layout tests in editing/selection/ios by default in EWS
        https://bugs.webkit.org/show_bug.cgi?id=228916

        Reviewed by Tim Horton.

        Enable tests in editing/selection/ios in OpenSource EWS. This greatly improves pre-commit test coverage of
        various WebKit2 editing behaviors that are currently only covered by Apple-internal post-commit testers.

        * fast/events/touch/ios/become-key-window-when-focusing-editable-area-expected.txt: Renamed from LayoutTests/editing/selection/ios/become-key-window-when-focusing-editable-area-expected.txt.
        * fast/events/touch/ios/become-key-window-when-focusing-editable-area.html: Renamed from LayoutTests/editing/selection/ios/become-key-window-when-focusing-editable-area.html.
        * fast/events/touch/ios/selection-handles-after-touch-end-expected.txt: Renamed from LayoutTests/editing/selection/ios/selection-handles-after-touch-end-expected.txt.
        * fast/events/touch/ios/selection-handles-after-touch-end.html: Renamed from LayoutTests/editing/selection/ios/selection-handles-after-touch-end.html.

        Move a couple of tests that rely on touch events out of this directory, and into `fast/events/touch/ios`
        instead.

        * platform/ios-wk2/TestExpectations:
        * platform/ios/TestExpectations:

2021-08-09  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Mark 2 imported/w3c/web-platform-tests/css/css-overflow/clip-* tests as failing.
        https://bugs.webkit.org/show_bug.cgi?id=228920

        Unreviewed test gardening.

        * platform/glib/TestExpectations:

2021-08-09  Kate Cheney  <katherine_cheney@apple.com>

        Add console logging to encourage the use of authenticated encryption in WebCrypto
        https://bugs.webkit.org/show_bug.cgi?id=228879
        <rdar://problem/80655397>

        Reviewed by Brent Fulgham.

        Update layout tests.

        * crypto/subtle/aes-cbc-cfb-decrypt-malformed-parameters-expected.txt:
        * crypto/subtle/aes-cbc-cfb-encrypt-malformed-parameters-expected.txt:
        * crypto/subtle/aes-cbc-generate-key-encrypt-decrypt-expected.txt:
        * crypto/subtle/aes-cbc-import-key-decrypt-expected.txt:
        * crypto/subtle/aes-cbc-import-key-encrypt-expected.txt:
        * crypto/subtle/aes-ctr-encrypt-malformed-parameters-expected.txt:
        * crypto/subtle/aes-ctr-generate-key-encrypt-decrypt-expected.txt:
        * crypto/subtle/aes-ctr-import-key-decrypt-expected.txt:
        * crypto/subtle/aes-ctr-import-key-encrypt-expected.txt:
        * crypto/subtle/decrypt-malformed-parameters-expected.txt:
        * crypto/subtle/encrypt-malformed-parameters-expected.txt:
        * TestExpectations:
        We should probably not change imported test expectations, this marks
        those tests as having console logging go to stderr. Additionally, some
        tests call encrypt/decrypt functions up to 1000 times to test for
        crashing, we should probably not log console to stdout in that case.

2021-08-09  Said Abou-Hallawa  <said@apple.com>

        Ease sandboxing restrictions for Mail to allow HEIF image decoding
        https://bugs.webkit.org/show_bug.cgi?id=228812
        <rdar://80967782>

        Reviewed by Per Arne Vollan.

        Delete the only HEIF ref test since the HEIF format has not been enabled
        in WebKit and it requires a sandbox extension to be decoded correctly on
        recent macOS versions.

        * TestExpectations:
        * fast/images/heic-as-background-image-expected.html: Removed.
        * fast/images/heic-as-background-image.html: Removed.
        * fast/images/resources/green-400x400.heic: Removed.
        * platform/ios/TestExpectations:
        * platform/mac/TestExpectations:

2021-08-06  Robert Jenner  <Jenner@apple.com>

        (rebaseline) [ iOS ] 2 imported/w3c/web-platform-tests/css/cssom/* tests failing
        https://bugs.webkit.org/show_bug.cgi?id=228200

        Uneviewed test gardening.

        * platform/ios/imported/w3c/web-platform-tests/css/cssom/css-style-attr-decl-block-expected.txt: Added.

2021-08-09  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] fast/events/check-defocus-event-order-when-triggered-by-mouse-click.html fails due to rounded corners
        https://bugs.webkit.org/show_bug.cgi?id=228877

        Reviewed by Adrian Perez de Castro.

        In the test, move the cursor to the center of the input element to be
        clicked on to avoid issues with rounded corners.

        * fast/events/check-defocus-event-order-when-triggered-by-mouse-click.html:

2021-08-09  Lauro Moura  <lmoura@igalia.com>

        [GLIB] Garden accessibility/selected-state-changed-notifications.html timeouts

        Unreviewed test gardening.

        * platform/glib/TestExpectations:

2021-08-08  Wenson Hsieh  <wenson_hsieh@apple.com>

        caret-color does not work on first click in ios
        https://bugs.webkit.org/show_bug.cgi?id=228859
        rdar://81674787

        Reviewed by Tim Horton.

        Add a new layout test that exercises the issue, as reported in Bugzilla (the call to `-resignFirstResponder`
        simulates backgrounding Safari). To achieve this, we also introduce a script controller testing helper to grab
        the native background color of the `UITextSelectionView`'s caret view; see Tools/ChangeLog for more details.

        * editing/caret/ios/caret-color-after-refocusing-input-expected.txt: Added.
        * editing/caret/ios/caret-color-after-refocusing-input.html: Added.
        * resources/ui-helper.js:
        (window.UIHelper.selectionCaretBackgroundColor):

2021-08-08  Jer Noble  <jer.noble@apple.com>

        REGRESSION: http/tests/preload/onload_event.html is a flaky timeout on Big Sur wk1 Release
        https://bugs.webkit.org/show_bug.cgi?id=227366
        <rdar://problem/79733280>

        Reviewed by Eric Carlson.

        * platform/mac-wk1/TestExpectations:

2021-08-07  Wenson Hsieh  <wenson_hsieh@apple.com>

        [macOS] Web process crashes when detaching Document with uncommitted marked text
        https://bugs.webkit.org/show_bug.cgi?id=228841
        rdar://79960890

        Reviewed by Ryosuke Niwa.

        Add a layout test to exercise the crash.

        * editing/inserting/remove-frame-with-marked-text-expected.txt: Added.
        * editing/inserting/remove-frame-with-marked-text.html: Added.

2021-08-06  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [SOUP] test imported/w3c/web-platform-tests/html/cross-origin-opener-policy/header-parsing.https.html fails
        https://bugs.webkit.org/show_bug.cgi?id=228851

        Unreviewed test gardening. Add a GLIB-specific baseline for the
        failing subtest

        * platform/glib/imported/w3c/web-platform-tests/html/cross-origin-opener-policy/header-parsing.https-expected.txt: Added.

2021-08-06  Robert Jenner  <Jenner@apple.com>

        [ Monterey wk2 Release ] fast/scrolling/iframe-scrollable-after-back.html is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=228200

        Unreviewed test gardening. Remove no longer needed expectation.

        * platform/mac-wk2/TestExpectations:

2021-08-06  Robert Jenner  <Jenner@apple.com>

        [BigSur Release Wk2 Arm64] imported/w3c/web-platform-tests/navigation-timing/test_performance_attributes.sub.html is flaky failing 
        https://bugs.webkit.org/show_bug.cgi?id=224784
        Unreviewed test gardening. Removing no longer needed expectation.

        * platform/mac-wk2/TestExpectations:

2021-08-06  Robert Jenner  <Jenner@apple.com>

        [BigSur Wk2 Arm64] http/tests/privateClickMeasurement/store-private-click-measurement-with-source-nonce.html is flaky failing
        https://bugs.webkit.org/show_bug.cgi?id=224783

        Unreviewed test gardening. Removing no longer needed test expectation.

        * platform/mac-wk2/TestExpectations:

2021-08-06  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GTK] Remove some expectations for tests that don't fail anymore
        https://bugs.webkit.org/show_bug.cgi?id=225644

        Unreviewed test gardening.

        * platform/gtk/TestExpectations:

2021-08-06  Robert Jenner  <Jenner@apple.com>

        [ Monterey Release wk2 arm64 ] platform/mac/fast/overflow/overflow-scrollbar-hit-test.html is a flaky crash
        https://bugs.webkit.org/show_bug.cgi?id=228200

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-06  Fujii Hironori  <Hironori.Fujii@sony.com>

        ASSERTION FAILED: !m_networkLoad in NetworkResourceLoader::~NetworkResourceLoader()
        https://bugs.webkit.org/show_bug.cgi?id=228853

        Reviewed by Alex Christensen.

        * http/tests/fetch/keepalive-fetch-expected.txt: Added.
        * http/tests/fetch/keepalive-fetch.html: Added.

2021-08-06  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GTK] Mark some WPT CSS tests as still failing on GTK
        https://bugs.webkit.org/show_bug.cgi?id=228871

        These tests were fixed for most platforms in r279568 and r279698 but
        still fail on GTK.
        Unreviewed test gardening.

        * platform/gtk/TestExpectations:

2021-08-06  Eric Hutchison  <ehutchison@apple.com>

        Re-baselined imported/w3c/web-platform-tests/html/dom/idlharness.https.html.
        https://bugs.webkit.org/show_bug.cgi?id=228751.

        Unreviewed test gardening.

        * platform/ipad/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:

2021-08-06  Peng Liu  <peng.liu6@apple.com>

        [macOS] Clean up Feature Flags related code
        https://bugs.webkit.org/show_bug.cgi?id=228803
        <rdar://problem/81142982>

        Reviewed by Tim Horton.

        Update a mac-bigsur specific test expectation file because the test is passing now.

        * platform/mac/imported/w3c/web-platform-tests/media-source/mediasource-addsourcebuffer-expected.txt: Removed.
        * platform/mac-bigsur/imported/w3c/web-platform-tests/media-source/mediasource-addsourcebuffer-expected.txt:

2021-08-06  Antti Koivisto  <antti@apple.com>

        REGRESSION (r274038): Keyframe animation with top/left with percentages fails to animate
        https://bugs.webkit.org/show_bug.cgi?id=228811
        <rdar://problem/81568266>

        Reviewed by Alan Bujtas.

        * animations/top-left-percent-interpolation-expected.txt: Added.
        * animations/top-left-percent-interpolation.html: Added.

2021-08-06  Youenn Fablet  <youenn@apple.com>

        MediaPlayerPrivateMediaStreamAVFObjC should skip enqueuing frames when not visible
        https://bugs.webkit.org/show_bug.cgi?id=228816
        <rdar://81077972>

        Reviewed by Eric Carlson.

        * fast/mediastream/mediaPlayer-visibility-expected.txt: Added.
        * fast/mediastream/mediaPlayer-visibility.html: Added.

2021-08-05  Ryan Haddad  <ryanhaddad@apple.com>

        Unreviewed test garening, skip test that is unsupported on WK1.

        * platform/win/TestExpectations:

2021-08-05  Tim Horton  <timothy_horton@apple.com>

        fast/canvas/canvas-crash.html doesn't test what it intends to on iOS
        https://bugs.webkit.org/show_bug.cgi?id=228747

        Reviewed by Simon Fraser.

        * fast/canvas/canvas-crash.html:
        * fast/canvas/canvas-skia-excessive-size.html:
        * platform/ios-simulator/fast/canvas/canvas-crash-expected.txt: Removed.
        * platform/ios-simulator/fast/canvas/canvas-skia-excessive-size-expected.txt: Removed.
        Delete the iOS-specific results, and adopt the new overrides in these two tests.

2021-08-05  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Unreviewed test gardening, move some expected results to GTK/WPE specific directories
        https://bugs.webkit.org/show_bug.cgi?id=228844

        Some expected results have diverged between GTK and WPE and need to be
        moved to the more specific directories.

        * platform/gtk/fast/selectors/unqualified-hover-strict-expected.txt: Copied from LayoutTests/platform/glib/fast/selectors/unqualified-hover-strict-expected.txt.
        * platform/gtk/media/video-playing-and-pause-expected.txt: Copied from LayoutTests/platform/glib/media/video-playing-and-pause-expected.txt.
        * platform/gtk/tables/mozilla/core/col_span-expected.txt: Copied from LayoutTests/platform/glib/tables/mozilla/core/col_span-expected.txt.
        * platform/wpe/fast/selectors/unqualified-hover-strict-expected.txt: Renamed from LayoutTests/platform/glib/fast/selectors/unqualified-hover-strict-expected.txt.
        * platform/wpe/media/video-playing-and-pause-expected.txt: Renamed from LayoutTests/platform/glib/media/video-playing-and-pause-expected.txt.
        * platform/wpe/tables/mozilla/core/col_span-expected.txt: Renamed from LayoutTests/platform/glib/tables/mozilla/core/col_span-expected.txt.

2021-08-05  Chris Dumez  <cdumez@apple.com>

        REGRESSION (r280541): [ BigSur Debug ] accessibility/roles-computedRoleString.html is timing out
        https://bugs.webkit.org/show_bug.cgi?id=228744
        <rdar://problem/81472432>

        Unreviewed, speed up test a bit as it is timing out flakily in Debug.

        * accessibility/roles-computedRoleString.html:

2021-08-05  Andres Gonzalez  <andresg_22@apple.com>

        VoiceOver is not announcing the state as selected/unselected when an item is selected in a grid.
        https://bugs.webkit.org/show_bug.cgi?id=228840
        <rdar://78225826>

        Reviewed by Chris Fleizach.

        * accessibility/selected-state-changed-notifications.html:
        * platform/ios/TestExpectations:
        * platform/ios/accessibility/selected-state-changed-notifications-expected.txt: Added.

2021-08-05  Tim Nguyen  <ntim@apple.com>

        Implement support for <dialog> element cancel event
        https://bugs.webkit.org/show_bug.cgi?id=227534

        Reviewed by Chris Dumez.

        This makes <dialog> emit a cancel event then close when the escape key is pressed.

        Updated relevant WPT:
        - <dialog> cancel event WPTs: used send_keys instead of test_driver.Actions() (which are unsupported by WebKit test runner)
        - oncancel now is recognized

        Failing WPT:
        - dialog-cancel-with-input.html: needs <dialog> focusing steps (webkit.org/b/227537) to be implemented for <input> to get focus
        - dialog-cancel-with-select.html: needs <dialog> focusing steps (webkit.org/b/227537) to be implemented for <select> to get focus
        - dialog-keydown-preventDefault.html: current implementation does not prevent canceling from happening when keydown event has preventDefault()

        * platform/glib/imported/w3c/web-platform-tests/mathml/relations/html5-tree/math-global-event-handlers.tentative-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-cancel-events-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-cancel-preventDefault-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-cancel-with-input-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-keydown-preventDefault-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/relations/html5-tree/math-global-event-handlers.tentative-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/relations/html5-tree/math-global-event-handlers.tentative-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/relations/html5-tree/math-global-event-handlers.tentative-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:

2021-08-04  Robert Jenner  <Jenner@apple.com>

        ( Rebaseline) [ iOS ] fast/forms/ios/inputmode-none.html is a constant failure
        https://bugs.webkit.org/show_bug.cgi?id=228200

        Uneviewed test gardening.

        * platform/ios/fast/forms/ios/inputmode-none-expected.txt: Added.

2021-08-05  Alicia Boya García  <aboya@igalia.com>

        Unreviewed GStreamer MSE microgardening
        https://bugs.webkit.org/show_bug.cgi?id=228823

        * platform/glib/TestExpectations:

2021-08-04  Wenson Hsieh  <wenson_hsieh@apple.com>

        Adjust editing/deleting/ios/backspace-last-character.html to check that pressing backspace deletes one character
        https://bugs.webkit.org/show_bug.cgi?id=228806

        Reviewed by Tim Horton.

        Add test coverage for r280671 by augmenting an existing iOS editing test to verify that hitting backspace only
        deletes a single character in a `textarea`.

        * editing/deleting/ios/backspace-last-character-expected.txt:
        * editing/deleting/ios/backspace-last-character.html:

2021-08-04  Diego Pino Garcia  <dpino@igalia.com>

        [WPE] Unreviewed test gardening. Update baselines after r280672.

        * platform/glib/fast/selectors/unqualified-hover-strict-expected.txt:
        * platform/glib/imported/w3c/web-platform-tests/html/dom/idlharness.worker-expected.txt:
        * platform/glib/imported/w3c/web-platform-tests/mathml/relations/html5-tree/math-global-event-handlers.tentative-expected.txt:
        * platform/glib/media/video-playing-and-pause-expected.png:
        * platform/glib/media/video-playing-and-pause-expected.txt:
        * platform/glib/tables/mozilla/core/col_span-expected.txt:
        * platform/wpe/fast/selectors/unqualified-hover-strict-expected.png: Added.
        * platform/wpe/fast/text/text-letter-spacing-expected.png: Added.
        * platform/wpe/fast/text/text-letter-spacing-expected.txt:
        * platform/wpe/fast/text/wbr-expected.png: Added.
        * platform/wpe/fast/text/wbr-expected.txt:
        * platform/wpe/fast/text/whitespace/span-in-word-space-causes-overflow-expected.png: Added.
        * platform/wpe/fast/text/whitespace/span-in-word-space-causes-overflow-expected.txt:
        * platform/wpe/fast/text/word-break-expected.txt:
        * platform/wpe/http/wpt/webxr/xrSession_end_device_reports_shutdown.https-expected.txt:
        * platform/wpe/http/wpt/webxr/xrSession_ended_by_system.https-expected.txt:
        * platform/wpe/http/wpt/webxr/xrSession_reject_multiple_end.https-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/css-color-adjust/inheritance-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/mediaqueries/test_media_queries-expected.txt: Added.
        * platform/wpe/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/html/dom/reflection-embedded-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/webxr/render_state_vertical_fov_inline.https-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrFrame_lifetime.https-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrPose_transform_sameObject.https-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrStationaryReferenceSpace_floorlevel_updates.https-expected.txt:
        * platform/wpe/tables/mozilla/core/col_span-expected.png: Added.
        * platform/wpe/tables/mozilla/marvin/x_col_width_rel-expected.png: Added.
        * platform/wpe/tables/mozilla/marvin/x_col_width_rel-expected.txt:
        * platform/wpe/tables/mozilla/marvin/x_colgroup_width_rel-expected.png: Added.
        * platform/wpe/tables/mozilla/marvin/x_colgroup_width_rel-expected.txt:
        * platform/wpe/tables/mozilla/other/ms-expected.txt:

2021-08-04  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update some WPT baselines after recent improvements.
        https://bugs.webkit.org/show_bug.cgi?id=228804

        Update WPT test baselines after r279971, r279978, r279979, and r280310
        to account for more passing tests.
        Unreviewed test gardening.

        * platform/glib/imported/w3c/web-platform-tests/html/dom/idlharness.worker-expected.txt:
        * platform/glib/imported/w3c/web-platform-tests/mathml/relations/html5-tree/math-global-event-handlers.tentative-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:

2021-08-04  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ MacOS wk1 Release ] media/video-page-visibility-restriction.html is flaky timing out.
        https://bugs.webkit.org/show_bug.cgi?id=228801

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-08-04  Robert Jenner  <Jenner@apple.com>

        REGRESSION: [ BigSur wk2 rosetta ] compositing/contents-scale/hidpi-compositing-layer-positioned-on-scaled-context.html is a flaky failure
        <rdar://68957822>

        Uneviewed test expectation removal.

        * platform/mac/TestExpectationsRosetta:

2021-08-04  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ MacOS ] webaudio/silent-audio-interrupted-in-background.html is flaky timing out.
        https://bugs.webkit.org/show_bug.cgi?id=228796

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-08-04  Chris Dumez  <cdumez@apple.com>

        REGRESSION (r280541): [ BigSur Debug ] accessibility/roles-computedRoleString.html is timing out
        https://bugs.webkit.org/show_bug.cgi?id=228744
        <rdar://problem/81472432>

        Unreviewed, the test's JS was getting in some sort of infinite loop. Tweak the code a bit
        so that it keeps running without infinite looping.

        * accessibility/roles-computedRoleString.html:
        * platform/mac/TestExpectations:
        * platform/mac/accessibility/roles-computedRoleString-expected.txt:

2021-08-04  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r280630.
        https://bugs.webkit.org/show_bug.cgi?id=228788

        broke some downstream tests

        Reverted changeset:

        "fast/canvas/canvas-crash.html doesn't test what it intends to
        on iOS"
        https://bugs.webkit.org/show_bug.cgi?id=228747
        https://commits.webkit.org/r280630

2021-08-04  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Unreviewed test gardening, update baselines after r280017
        https://bugs.webkit.org/show_bug.cgi?id=228783

        * platform/glib/fast/multicol/client-rects-expected.txt:
        * platform/glib/fast/multicol/client-rects-spanners-complex-expected.txt:
        * platform/glib/fast/multicol/client-rects-spanners-expected.txt:
        * platform/glib/fast/multicol/newmulticol/client-rects-expected.txt:
        * platform/gtk/fast/multicol/client-rects-expected.png:
        * platform/gtk/fast/multicol/newmulticol/client-rects-expected.png:

2021-08-04  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Mark mhtml tests as flaky. Unreviewed test gardening.
        https://bugs.webkit.org/show_bug.cgi?id=228778

        * platform/glib/TestExpectations:

2021-08-04  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur Debug ] accessibility/roles-computedRoleString.html is timing out
        https://bugs.webkit.org/show_bug.cgi?id=228744

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-08-04  Ayumi Kojima  <ayumi_kojima@apple.com>

        Removed testexpectations from iPad and updated them in ios-wk2 for 3 editing/pasteboard/smart-paste-paragraph tests.
        https://bugs.webkit.org/show_bug.cgi?id=228285

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/ipad/TestExpectations:

2021-08-04  Andres Gonzalez  <andresg_22@apple.com>

        Add support for aria-selected value changes in table cells.
        https://bugs.webkit.org/show_bug.cgi?id=228756
        <rdar://problem/81483071>

        Reviewed by Chris Fleizach.

        * accessibility/selected-state-changed-notifications-expected.txt: Added.
        * accessibility/selected-state-changed-notifications.html: Added.

2021-08-04  Cathie Chen  <cathiechen@igalia.com>

        REGRESSION (r277997) Images get stretched with aspect-ratio and max-width: x%
        https://bugs.webkit.org/show_bug.cgi?id=228076

        Reviewed by Antti Koivisto.

        * TestExpectations:

2021-08-04  Tim Horton  <timothy_horton@apple.com>

        fast/canvas/canvas-crash.html doesn't test what it intends to on iOS
        https://bugs.webkit.org/show_bug.cgi?id=228747

        Reviewed by Simon Fraser.

        * fast/canvas/canvas-crash.html:
        * fast/canvas/canvas-skia-excessive-size.html:
        * platform/ios-simulator/fast/canvas/canvas-crash-expected.txt: Removed.
        * platform/ios-simulator/fast/canvas/canvas-skia-excessive-size-expected.txt: Removed.
        Delete the iOS-specific results, and adopt the new overrides in these two tests.

2021-08-03  Lauro Moura  <lmoura@igalia.com>

        [WPE] Remove deprecated color-scheme baselines and expectations

        Unreviewed test gardening.

        * platform/glib/TestExpectations:
        * platform/wpe/imported/w3c/web-platform-tests/css/css-color-adjust/meta/meta-color-scheme-attribute-changes-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/css/css-color-adjust/meta/meta-color-scheme-empty-content-value-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/css/css-color-adjust/meta/meta-color-scheme-first-valid-applies-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/css/css-color-adjust/meta/meta-color-scheme-insert-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/css/css-color-adjust/meta/meta-color-scheme-no-content-value-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/css/css-color-adjust/meta/meta-color-scheme-presentational-hint-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/css/css-color-adjust/meta/meta-color-scheme-remove-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/css/css-color-adjust/meta/meta-color-scheme-remove-head-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/css/css-color-adjust/meta/meta-color-scheme-single-value-in-body-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/css/css-color-adjust/meta/meta-color-scheme-single-value-in-head-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/css/css-color-adjust/meta/meta-color-scheme-single-value-in-shadow-tree-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/css/css-color-adjust/parsing/color-scheme-computed-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/css/css-color-adjust/parsing/color-scheme-invalid-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/css/css-color-adjust/parsing/color-scheme-valid-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/css/mediaqueries/prefers-color-scheme-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/html/semantics/document-metadata/the-meta-element/color-scheme/meta-color-scheme-attribute-changes-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/html/semantics/document-metadata/the-meta-element/color-scheme/meta-color-scheme-empty-content-value-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/html/semantics/document-metadata/the-meta-element/color-scheme/meta-color-scheme-first-valid-applies-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/html/semantics/document-metadata/the-meta-element/color-scheme/meta-color-scheme-insert-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/html/semantics/document-metadata/the-meta-element/color-scheme/meta-color-scheme-no-content-value-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/html/semantics/document-metadata/the-meta-element/color-scheme/meta-color-scheme-presentational-hint-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/html/semantics/document-metadata/the-meta-element/color-scheme/meta-color-scheme-remove-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/html/semantics/document-metadata/the-meta-element/color-scheme/meta-color-scheme-remove-head-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/html/semantics/document-metadata/the-meta-element/color-scheme/meta-color-scheme-single-value-in-body-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/html/semantics/document-metadata/the-meta-element/color-scheme/meta-color-scheme-single-value-in-head-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/html/semantics/document-metadata/the-meta-element/color-scheme/meta-color-scheme-single-value-in-shadow-tree-expected.txt: Removed.

2021-08-03  Eric Hutchison  <ehutchison@apple.com>

        Re-baseline imported/w3c/web-platform-tests/html/dom/idlharness.https.html.
        https://bugs.webkit.org/show_bug.cgi?id=228198.

        Unreviewed re-baseline.

        * platform/ipad/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:

2021-08-03  Tim Horton  <timothy_horton@apple.com>

        fast/dom/navigator-iOS-userAgent.html fails on iPad because the platform is not "iPhone" or "iPad"
        https://bugs.webkit.org/show_bug.cgi?id=228750

        Reviewed by Dean Jackson.

        * fast/dom/navigator-iOS-userAgent.html:
        * platform/ipad/fast/dom/navigator-iOS-userAgent-expected.txt: Removed.
        This test fails on iPad in the default configuration because navigator.platform is MacIntel
        due to desktop-class browsing. To maintain previous behavior of the test, revert to mobile mode.
        This lets us delete the iPad-specific results.
        Also, fix a typo in the variable names.

2021-08-03  Tim Horton  <timothy_horton@apple.com>

        [ iPad ] fast/dom/collection-iterators.html fails
        https://bugs.webkit.org/show_bug.cgi?id=228657

        Unreviewed rebaseline.

        * platform/ipad/fast/dom/collection-iterators-expected.txt:
        Actually land the expected file, not a diff like in r280494.

2021-08-03  Lauro Moura  <lmoura@igalia.com>

        [GLIB] Garden some passing tests

        Unreviewed test gardening.

        Covering latest WPE expected to fail but passing tests.

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:
        * platform/wpe/TestExpectations:

2021-08-03  Kimmo Kinnunen  <kkinnunen@apple.com>

        Crash while reading WebGL drawing buffer if canvas image buffer allocation fails
        https://bugs.webkit.org/show_bug.cgi?id=228737
        <rdar://81150042>

        Reviewed by Brent Fulgham.

        Add a test for failure to paint the WebGL canvas to document.
        Trigger the mode by using printing.

        Other code-paths that invoke CanvasBase::makeRenderingResultsAvailable,
        e.g. toDataURL and drawImage will check for the buffer before, and
        as such are not testable in the sense that adding the test would trigger
        the bug.

        * webgl/webgl-oom-paint-document-no-crash-expected.html: Added.
        * webgl/webgl-oom-paint-document-no-crash.html: Added.

2021-08-03  Antti Koivisto  <antti@apple.com>

        REGRESSION(r279050): Crash under CSSImageValue::createDeprecatedCSSOMWrapper with cursor images
        https://bugs.webkit.org/show_bug.cgi?id=228735

        Reviewed by Alex Christensen.

        * fast/css/cursor-image-cssvalue-expected.txt: Added.
        * fast/css/cursor-image-cssvalue.html: Added.

2021-08-03  Cathie Chen  <cathiechen@igalia.com>

        Import css/css-sizing/aspect-ratio tests from WPT
        https://bugs.webkit.org/show_bug.cgi?id=228734

        Reviewed by Rob Buis.

        * TestExpectations:

2021-08-03  Rob Buis  <rbuis@igalia.com>

        Check that shadow root is connected in invalidateStyleAfterStyleSheetChange
        https://bugs.webkit.org/show_bug.cgi?id=227383

        Reviewed by Antti Koivisto.

        Add test for this.

        * fast/shadow-dom/shadow-tree-removal-crash-expected.txt: Added.
        * fast/shadow-dom/shadow-tree-removal-crash.html: Added.

2021-08-02  Jean-Yves Avenard  <jya@apple.com>

        https://bugs.webkit.org/show_bug.cgi?id=228140
        rdar://problem/80883882

        Reviewed by Eric Carlson.

        https://bugs.webkit.org/show_bug.cgi?id=228140

        * webaudio/decode-audio-data-webm-opus-expected.txt:
        * webaudio/decode-audio-data-webm-opus.html:

2021-08-02  Chris Dumez  <cdumez@apple.com>

        [COOP] Cross-Origin-Opener-Policy header parsing fails when report-to parameter is present
        https://bugs.webkit.org/show_bug.cgi?id=228719

        Reviewed by Geoff Garen.

        Add layout test coverage.

        * http/wpt/cross-origin-opener-policy/header-parsing-with-report-to.https-expected.txt: Added.
        * http/wpt/cross-origin-opener-policy/header-parsing-with-report-to.https.html: Added.

2021-08-02  Lauro Moura  <lmoura@igalia.com>

        [GLIB] Garden some passing tests

        Unreviewed test gardening.

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:
        * platform/wpe/TestExpectations:

2021-08-02  Jean-Yves Avenard  <jya@apple.com>

        [WebAudio] Add webm/vorbis container support
        https://bugs.webkit.org/show_bug.cgi?id=228139
        rdar://80883073

        Reviewed by Jer Noble.

        * platform/mac/TestExpectations:
        * webaudio/decode-audio-data-webm-vorbis-expected.txt: Added.
        * webaudio/decode-audio-data-webm-vorbis.html: Added.

2021-08-02  Eric Hutchison  <ehutchison@apple.com>

        [ iOS iPad ] editing/inserting/insert-paragraph-separator-with-html-elements-crash.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=228718.

        Unreviewed test gardening.

        * platform/ipad/TestExpectations:

2021-08-02  Lauro Moura  <lmoura@igalia.com>

        [GLIB] Gardening some failures and removing deprecated baseline.

        Unreviewed test gardening.

        Also unified skips for tests loading pdf as img.src.

        * platform/glib/TestExpectations:
        * platform/gtk-wayland/TestExpectations:
        * platform/gtk/TestExpectations:
        * platform/wpe/TestExpectations:
        * platform/wpe/imported/w3c/web-platform-tests/dom/events/Event-timestamp-high-resolution-expected.txt: Removed.

2021-08-02  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ MacOS wk2 ] compositing/video/video-object-fit.html is a flaky timeout on EWS.
        https://bugs.webkit.org/show_bug.cgi?id=228713

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-08-01  Ryosuke Niwa  <rniwa@webkit.org>

        Calling unobserve on ResizeObserver should not clear existing observations in active targets
        https://bugs.webkit.org/show_bug.cgi?id=228693

        Reviewed by Chris Dumez.

        Added a regression test.

        * resize-observer/resize-observer-keeps-element-of-queued-entry-alive-expected.txt: Added.
        * resize-observer/resize-observer-keeps-element-of-queued-entry-alive.html: Added.

2021-08-02  Ryosuke Niwa  <rniwa@webkit.org>

        REGRESSION(r279800): IntersectionObserver may never get a delivery of an observation if the element has been unobserved and is disconnected
        https://bugs.webkit.org/show_bug.cgi?id=228679

        Reviewed by Chris Dumez.

        Added a regression test.

        * intersection-observer/intersection-observer-keeps-element-of-queued-entry-alive-expected.txt: Added.
        * intersection-observer/intersection-observer-keeps-element-of-queued-entry-alive.html: Added.

2021-08-02  Wenson Hsieh  <wenson_hsieh@apple.com>

        [Live Text] Use iBeam cursor when hovering over selectable text inside image links
        https://bugs.webkit.org/show_bug.cgi?id=228700
        rdar://81210248

        Reviewed by Tim Horton.

        Add a layout test that hovers over Live Text in several different image elements, and checks their respective
        cursor types.

        * fast/images/text-recognition/mac/cursor-types-for-recognized-text-expected.txt: Added.
        * fast/images/text-recognition/mac/cursor-types-for-recognized-text.html: Added.

2021-08-02  Chris Dumez  <cdumez@apple.com>

        imported/w3c/web-platform-tests/webmessaging/broadcastchannel/blobs.html is a flaky failure since implementing BlobChannel
        https://bugs.webkit.org/show_bug.cgi?id=228168
        <rdar://problem/80922502>

        Reviewed by Alex Christensen.

        Unskip test that is no longer flaky.

        * platform/ios-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-08-02  Wenson Hsieh  <wenson_hsieh@apple.com>

        REGRESSION (Safari 15): Unable to repaint canvases with software filters when GPU Process is enabled
        https://bugs.webkit.org/show_bug.cgi?id=228682
        rdar://79699997

        Reviewed by Simon Fraser.

        * css3/filters/canvas-with-filter-after-repaint-expected.html: Added.
        * css3/filters/canvas-with-filter-after-repaint.html: Added.

2021-08-02  Eric Hutchison  <ehutchison@apple.com>

        [ Mac wk1 ] imported/w3c/web-platform-tests/mathml/relations/html5-tree/dynamic-childlist-002.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=228704.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-08-02  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iPad ] fast/canvas/canvas-color-space-display-p3.html is failing.
        https://bugs.webkit.org/show_bug.cgi?id=228663

        Unreviewed test gardening.

        * platform/ipad/TestExpectations:

2021-08-02  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] fast/scrolling/ios/click-events-during-momentum-scroll-in-overflow-after-tap-on-body.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=228672

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-08-02  Alan Bujtas  <zalan@apple.com>

        REGRESSION (r273072): Images do not layout correctly on walmart.com/grocery
        https://bugs.webkit.org/show_bug.cgi?id=228656
        <rdar://80418083>

        Reviewed by Sergio Villar Senin.

        * fast/flexbox/flex-with-min-max-height-expected.html: Added.
        * fast/flexbox/flex-with-min-max-height.html: Added.

2021-08-02  Andres Gonzalez  <andresg_22@apple.com>

        Fix for [WebAccessibilityObjectWrapper lineRectsAndText] to properly handle replacement nodes and SVG text.
        https://bugs.webkit.org/show_bug.cgi?id=228336
        <rdar://problem/81172124>

        Reviewed by Chris Fleizach and Darin Adler.

        - Expanded this test to cover the case of an image element and SVG text.
        - Added the test case of a paragraph with soft linebreaks.

        * accessibility/ios-simulator/element-line-rects-and-text-expected.txt:
        * accessibility/ios-simulator/element-line-rects-and-text.html:

2021-08-01  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo-wk1/TestExpectations:
        * platform/wincairo/TestExpectations:

2021-07-31  Martin Robinson  <mrobinson@webkit.org>

        REGRESSION(r279564): [GTK] Mouse wheel scrolling scrolls too little (take two)
        https://bugs.webkit.org/show_bug.cgi?id=228572

        Reviewed by Adrian Perez de Castro.

        * platform/gtk/fast/scrolling/scroll-wheel-repeated-events-expected.txt: Added.
        * platform/gtk/fast/scrolling/scroll-wheel-repeated-events.html: Added.

2021-07-31  Yusuke Suzuki  <ysuzuki@apple.com>

        Move DOM-unrelated tests out of fast/regex/dom
        https://bugs.webkit.org/show_bug.cgi?id=228661

        Reviewed by Saam Barati.

        By moving to fast/regex/, we can run them from JSC tests too.

        * fast/regex/lastIndex-expected.txt: Renamed from LayoutTests/fast/regex/dom/lastIndex-expected.txt.
        * fast/regex/lastIndex.html: Renamed from LayoutTests/fast/regex/dom/lastIndex.html.
        * fast/regex/non-pattern-characters-expected.txt: Renamed from LayoutTests/fast/regex/dom/non-pattern-characters-expected.txt.
        * fast/regex/non-pattern-characters.html: Renamed from LayoutTests/fast/regex/dom/non-pattern-characters.html.
        * fast/regex/script-tests/lastIndex.js: Renamed from LayoutTests/fast/regex/dom/script-tests/lastIndex.js.
        * fast/regex/script-tests/non-pattern-characters.js: Renamed from LayoutTests/fast/regex/dom/script-tests/non-pattern-characters.js.
        * fast/regex/script-tests/unicodeCaseInsensitive.js: Renamed from LayoutTests/fast/regex/dom/script-tests/unicodeCaseInsensitive.js.
        * fast/regex/unicodeCaseInsensitive-expected.txt: Renamed from LayoutTests/fast/regex/dom/unicodeCaseInsensitive-expected.txt.
        * fast/regex/unicodeCaseInsensitive.html: Renamed from LayoutTests/fast/regex/dom/unicodeCaseInsensitive.html.

2021-07-30  Sihui Liu  <sihui_liu@apple.com>

        [ macOS wk2 ARM 64 ] storage/indexeddb/IDBObject-leak.html is a flakey text failure
        https://bugs.webkit.org/show_bug.cgi?id=223453
        <rdar://problem/75580609>

        Reviewed by Youenn Fablet.

        As JavaScriptCore uses conservative GC, transaction may be still be alive after one gc call, so we should invoke
        gc multiple times.

        Also, this patch renames IDBObject-leak.html to database-transaction-cycle.html to better indicate what it is
        testing.

        * TestExpectations:
        * platform/mac-wk2/TestExpectations:
        * platform/wk2/TestExpectations:
        * storage/indexeddb/IDBObject-leak-expected.txt: Removed.
        * storage/indexeddb/IDBObject-leak.html: Removed.
        * storage/indexeddb/database-transaction-cycle-expected.txt: Added.
        * storage/indexeddb/database-transaction-cycle.html: Added.
        * storage/indexeddb/resources/database-transaction-cycle-iframe.html: Added.

2021-07-30  Rob Buis  <rbuis@igalia.com>

        [css-overflow] Implement clip value for overflow
        https://bugs.webkit.org/show_bug.cgi?id=198230

        Reviewed by Simon Fraser.

        * TestExpectations:

2021-07-30  Chris Dumez  <cdumez@apple.com>

        Add initial support for 'Cross-Origin-Opener-Policy' HTTP header
        https://bugs.webkit.org/show_bug.cgi?id=192193
        <rdar://problem/42013525>

        Reviewed by Geoff Garen.

        Update test expectations.

        * TestExpectations:
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk2/TestExpectations:
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac/TestExpectations:

2021-07-30  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] http/wpt/service-workers/navigation-redirect-main-frame.https.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=228670

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-30  Chris Dumez  <cdumez@apple.com>

        Unreviewed, reverting r280482.

        Will take a more conservative approach

        Reverted changeset:

        "HTMLElement.innerText setter should convert new lines to
        <br>"
        https://bugs.webkit.org/show_bug.cgi?id=228605
        https://commits.webkit.org/r280482

2021-07-30  Jean-Yves Avenard  <jya@apple.com>

        REGRESSION (r274460?): Infinite recursion on fullscreen/full-screen-remove-ancestor.html in WTR::InjectedBundlePage::closeFullScreen
        https://bugs.webkit.org/show_bug.cgi?id=224085
        rdar://75576840

        Reviewed by Eric Carlson.

        * platform/mac-wk2/TestExpectations: re-enable test.

2021-07-30  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iPad ] fast/canvas/canvas-color-space-display-p3.html is failing.
        https://bugs.webkit.org/show_bug.cgi?id=228663

        Unreviewed test gardening.

        * platform/ipad/TestExpectations:

2021-07-30  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS Debug ] fast/events/tabindex-focus-blur-all.html is failing.
        https://bugs.webkit.org/show_bug.cgi?id=228659

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-30  Ayumi Kojima  <ayumi_kojima@apple.com>

        REGRESSION (r275641): [ iPad Debug ] accessibility/ios-simulator/scroll-in-overflow-div.html is asserting.
        https://bugs.webkit.org/show_bug.cgi?id=228622

        Unreviewed test gardening.

        * platform/ipad/TestExpectations:

2021-07-30  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iPad ] Rebaselining fast/dom/collection-iterators.html.
        https://bugs.webkit.org/show_bug.cgi?id=228657

        Unreviewed test gardening.

        * platform/ipad/fast/dom/collection-iterators-expected.txt: Added.

2021-07-30  Chris Dumez  <cdumez@apple.com>

        Document's fallback base URL should be deduced from its creator when URL is about:blank
        https://bugs.webkit.org/show_bug.cgi?id=228624

        Reviewed by Geoffrey Garen.

        Update existing tests to reflect behavior change. I have verified that those tests were failing in Firefox & Chrome and
        are now passing in those browsers.

        * http/tests/dom/iframe-no-src-local-origin-allow-expected.txt: Renamed from LayoutTests/fast/frames/iframe-no-src-local-origin-allow-expected.txt.
        * http/tests/dom/iframe-no-src-local-origin-allow.html: Renamed from LayoutTests/fast/frames/iframe-no-src-local-origin-allow.html.
        * http/tests/dom/iframe-no-src-set-location-expected.txt: Renamed from LayoutTests/fast/frames/iframe-no-src-set-location-expected.txt.
        * http/tests/dom/iframe-no-src-set-location.html: Renamed from LayoutTests/fast/frames/iframe-no-src-set-location.html.
        * http/tests/dom/resources/iframe-no-src-set-location-pass.html: Renamed from LayoutTests/fast/frames/resources/iframe-no-src-set-location-pass.html.
        * http/tests/security/aboutBlank/security-context-expected.txt:
        * http/tests/security/aboutBlank/security-context-grandchildren-expected.txt:
        * http/tests/security/aboutBlank/security-context-grandchildren-lexical-expected.txt:
        * http/tests/security/aboutBlank/security-context-grandchildren-write-lexical-expected.txt:
        * http/tests/security/aboutBlank/security-context-grandchildren-writeln-lexical-expected.txt:
        * http/tests/security/aboutBlank/security-context-window-open-expected.txt:
        * http/tests/security/aboutBlank/security-context-with-base-tag-expected.txt:
        * http/tests/security/aboutBlank/security-context-write-expected.txt:
        * http/tests/security/aboutBlank/security-context-writeln-expected.txt:

2021-07-30  Chris Dumez  <cdumez@apple.com>

        HTMLElement.innerText setter should convert new lines to <br>
        https://bugs.webkit.org/show_bug.cgi?id=228605

        Reviewed by Sam Weinig.

        Rebaseline a few tests that changed output.

        * editing/pasteboard/smart-paste-paragraph-003-expected.txt:
        * platform/mac/editing/input/reveal-caret-of-multiline-input-expected.txt:
        * platform/mac/fast/forms/basic-textareas-quirks-expected.txt:
        * platform/mac/fast/forms/textarea-scroll-height-expected.txt:
        * platform/mac/fast/forms/textarea-scrollbar-expected.txt:
        * platform/mac/fast/forms/textarea-scrolled-type-expected.txt:
        * platform/mac/fast/forms/textarea-width-expected.txt:
        * platform/mac/fast/parser/open-comment-in-textarea-expected.txt:
        * platform/mac/fast/text/international/unicode-bidi-plaintext-in-textarea-expected.txt:
        * platform/mac/http/tests/navigation/javascriptlink-frames-expected.txt:

2021-07-30  Sihui Liu  <sihui_liu@apple.com>

        Layout Test imported/w3c/web-platform-tests/IndexedDB/fire-error-event-exception.html is a Flaky Failure
        https://bugs.webkit.org/show_bug.cgi?id=201481
        <rdar://problem/55046055>

        Reviewed by Youenn Fablet.

        The test always passes now according to recent results, but it is shown as failed as TEXT because of the
        expectation.

        * platform/mac/TestExpectations:

2021-07-30  Chris Dumez  <cdumez@apple.com>

        Clicking an HTMLLinkElement should not trigger a navigation
        https://bugs.webkit.org/show_bug.cgi?id=228618

        Reviewed by Sam Weinig.

        Update existing tests to reflect behavior change. I verified that the tests were failing
        in both Firefox and Chrome prior to me updating them.

        * fast/dom/html-link-element-activation-behavior-on-element-click-expected.txt:
        * fast/dom/html-link-element-activation-behavior-on-element-click.html:
        * fast/dom/html-link-element-activation-behavior-on-mouse-click-expected.txt:
        * fast/dom/html-link-element-activation-behavior-on-mouse-click.html:
        * fast/dom/resources/html-link-element-activation-behavior-on-element-click-step1.html:
        * fast/dom/resources/html-link-element-activation-behavior-on-mouse-click-step1.html:
        * fast/dom/resources/html-link-element-activation-behavior-target.html:

2021-07-30  Dean Jackson  <dino@apple.com>

        [Media Controls] Add an option for having no scrubber on the time control and parameterize margin
        https://bugs.webkit.org/show_bug.cgi?id=228633
        rdar://81314458

        Reviewed by Tim Horton.

        Make sure the TimeControls element is in the document so its computed style
        can be read.

        * media/modern-media-controls/time-control/time-control.html:

2021-07-30  Eric Hutchison  <ehutchison@apple.com>

        [ BigSur Release wk2 arm64] imported/w3c/web-platform-tests/html/cross-origin-opener-policy/iframe-popup-unsafe-none-to-same-origin.https.html.
        https://bugs.webkit.org/show_bug.cgi?id=228644.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-07-30  Eric Hutchison  <ehutchison@apple.com>

        Updated test expectations for imported/w3c/web-platform-tests/html/cross-origin-opener-policy/header-parsing.https.html.
        https://bugs.webkit.org/show_bug.cgi?id=228197.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-07-30  Eric Hutchison  <ehutchison@apple.com>

        imported/w3c/web-platform-tests/html/cross-origin-opener-policy/iframe-popup-same-origin-to-unsafe-none.https.html is a flaky failure .
        https://bugs.webkit.org/show_bug.cgi?id=228642.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-07-30  Eric Hutchison  <ehutchison@apple.com>

        [Mac Debug] imported/w3c/web-platform-tests/html/cross-origin-embedder-policy/credentialless/dedicated-worker.tentative.https.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=228640.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-07-30  Rob Buis  <rbuis@igalia.com>

        [AspectRatio] Fix replaced-element-034.html
        https://bugs.webkit.org/show_bug.cgi?id=228223

        Reviewed by Manuel Rego Casasnovas.

        * TestExpectations:

2021-07-29  Tomoki Imai  <Tomoki.Imai@sony.com>

        Missing playing events when the ready state becomes HAVE_FUTURE_DATA/HAVE_ENOUGH_DATA from HAVE_METADATA state
        https://bugs.webkit.org/show_bug.cgi?id=228531

        Reviewed by Eric Carlson.

        Added the testcase to checks if the playing event is fired correctly on the ready state changes.

        * media/media-source/media-source-monitor-playing-event-expected.txt: Added.
        * media/media-source/media-source-monitor-playing-event.html: Added.

2021-07-29  Myles C. Maxfield  <mmaxfield@apple.com>

        Stop building WebGPU and the WHLSL compiler to decrease binary size
        https://bugs.webkit.org/show_bug.cgi?id=228179

        Reviewed by Dean Jackson, Robin Morisset, and Devin Rousso.

        * TestExpectations:
        * fast/dom/navigator-detached-no-crash-expected.txt:
        * inspector/canvas/create-context-webgpu-expected.txt: Removed.
        * inspector/canvas/create-context-webgpu.html: Removed.
        * inspector/canvas/requestClientNodes-webgpu-expected.txt: Removed.
        * inspector/canvas/requestClientNodes-webgpu.html: Removed.
        * inspector/canvas/requestShaderSource-webgpu-expected.txt: Removed.
        * inspector/canvas/requestShaderSource-webgpu.html: Removed.
        * inspector/canvas/resolveContext-webgpu-expected.txt: Removed.
        * inspector/canvas/resolveContext-webgpu.html: Removed.
        * inspector/canvas/shaderProgram-add-remove-webgpu-expected.txt: Removed.
        * inspector/canvas/shaderProgram-add-remove-webgpu.html: Removed.
        * inspector/canvas/updateShader-webgpu-expected.txt: Removed.
        * inspector/canvas/updateShader-webgpu-sharedVertexFragment-expected.txt: Removed.
        * inspector/canvas/updateShader-webgpu-sharedVertexFragment.html: Removed.
        * inspector/canvas/updateShader-webgpu.html: Removed.
        * platform/glib/TestExpectations:
        * platform/ios/TestExpectations:
        * platform/mac-wk1/TestExpectations:
        * platform/mac-wk2/TestExpectations:
        * platform/mac-wk2/fast/dom/navigator-detached-no-crash-expected.txt:
        * platform/mac/TestExpectations:
        * platform/win/TestExpectations:
        * webgpu/bind-groups-expected.txt: Removed.
        * webgpu/bind-groups.html: Removed.
        * webgpu/blend-color-triangle-strip-expected.html: Removed.
        * webgpu/blend-color-triangle-strip.html: Removed.
        * webgpu/blend-triangle-strip-expected.html: Removed.
        * webgpu/blend-triangle-strip.html: Removed.
        * webgpu/blit-commands-expected.html: Removed.
        * webgpu/blit-commands-texture-to-texture-expected.html: Removed.
        * webgpu/blit-commands-texture-to-texture.html: Removed.
        * webgpu/blit-commands.html: Removed.
        * webgpu/buffer-command-buffer-races-expected.html: Removed.
        * webgpu/buffer-command-buffer-races.html: Removed.
        * webgpu/buffer-errors-expected.txt: Removed.
        * webgpu/buffer-errors.html: Removed.
        * webgpu/color-write-mask-triangle-strip-expected.html: Removed.
        * webgpu/color-write-mask-triangle-strip.html: Removed.
        * webgpu/command-buffers-expected.txt: Removed.
        * webgpu/command-buffers.html: Removed.
        * webgpu/compute-pipeline-errors-expected.txt: Removed.
        * webgpu/compute-pipeline-errors.html: Removed.
        * webgpu/depth-enabled-triangle-strip-expected.html: Removed.
        * webgpu/depth-enabled-triangle-strip.html: Removed.
        * webgpu/draw-indexed-triangles-expected.html: Removed.
        * webgpu/draw-indexed-triangles.html: Removed.
        * webgpu/error-scopes-test-expected.txt: Removed.
        * webgpu/error-scopes-test.html: Removed.
        * webgpu/expando-properties-expected.txt: Removed.
        * webgpu/expando-properties.html: Removed.
        * webgpu/js/webgpu-functions.js: Removed.
        * webgpu/map-read-buffers-expected.txt: Removed.
        * webgpu/map-read-buffers.html: Removed.
        * webgpu/map-write-buffers-expected.txt: Removed.
        * webgpu/map-write-buffers.html: Removed.
        * webgpu/pipeline-layouts-expected.txt: Removed.
        * webgpu/pipeline-layouts.html: Removed.
        * webgpu/queue-creation-expected.txt: Removed.
        * webgpu/queue-creation.html: Removed.
        * webgpu/render-command-encoding-expected.txt: Removed.
        * webgpu/render-command-encoding.html: Removed.
        * webgpu/render-pipeline-errors-expected.txt: Removed.
        * webgpu/render-pipeline-errors.html: Removed.
        * webgpu/render-pipelines-expected.txt: Removed.
        * webgpu/render-pipelines.html: Removed.
        * webgpu/resources/blue-checkered.png: Removed.
        * webgpu/resources/green-400.png: Removed.
        * webgpu/shader-modules-expected.txt: Removed.
        * webgpu/shader-modules.html: Removed.
        * webgpu/simple-triangle-strip-expected.html: Removed.
        * webgpu/simple-triangle-strip.html: Removed.
        * webgpu/texture-creation-expected.txt: Removed.
        * webgpu/texture-creation.html: Removed.
        * webgpu/texture-triangle-strip-expected.html: Removed.
        * webgpu/texture-triangle-strip.html: Removed.
        * webgpu/textures-textureviews-expected.txt: Removed.
        * webgpu/textures-textureviews.html: Removed.
        * webgpu/uncaptured-errors-expected.txt: Removed.
        * webgpu/uncaptured-errors.html: Removed.
        * webgpu/vertex-buffer-triangle-strip-expected.html: Removed.
        * webgpu/vertex-buffer-triangle-strip.html: Removed.
        * webgpu/viewport-scissor-rect-triangle-strip-expected.html: Removed.
        * webgpu/viewport-scissor-rect-triangle-strip.html: Removed.
        * webgpu/whlsl/address-of-swizzle-expected.txt: Removed.
        * webgpu/whlsl/address-of-swizzle.html: Removed.
        * webgpu/whlsl/arbitrary-vertex-attribute-locations-expected.html: Removed.
        * webgpu/whlsl/arbitrary-vertex-attribute-locations.html: Removed.
        * webgpu/whlsl/argument-evaluation-order-expected.txt: Removed.
        * webgpu/whlsl/argument-evaluation-order.html: Removed.
        * webgpu/whlsl/array-length-spec-tests-expected.txt: Removed.
        * webgpu/whlsl/array-length-spec-tests.html: Removed.
        * webgpu/whlsl/array-oob-alias-expected.txt: Removed.
        * webgpu/whlsl/array-oob-alias.html: Removed.
        * webgpu/whlsl/array-spec-tests-expected.txt: Removed.
        * webgpu/whlsl/array-spec-tests.html: Removed.
        * webgpu/whlsl/bad-add-expected.txt: Removed.
        * webgpu/whlsl/bad-add.html: Removed.
        * webgpu/whlsl/bad-literals-expected.txt: Removed.
        * webgpu/whlsl/bad-literals.html: Removed.
        * webgpu/whlsl/bitwise-bool-ops-expected.txt: Removed.
        * webgpu/whlsl/bitwise-bool-ops.html: Removed.
        * webgpu/whlsl/bool-matrix-expected.txt: Removed.
        * webgpu/whlsl/bool-matrix.html: Removed.
        * webgpu/whlsl/bools-expected.txt: Removed.
        * webgpu/whlsl/bools.html: Removed.
        * webgpu/whlsl/buffer-fragment-expected.html: Removed.
        * webgpu/whlsl/buffer-fragment.html: Removed.
        * webgpu/whlsl/buffer-length-expected.txt: Removed.
        * webgpu/whlsl/buffer-length.html: Removed.
        * webgpu/whlsl/buffer-vertex-expected.html: Removed.
        * webgpu/whlsl/buffer-vertex.html: Removed.
        * webgpu/whlsl/builtin-vectors-2-expected.txt: Removed.
        * webgpu/whlsl/builtin-vectors-2.html: Removed.
        * webgpu/whlsl/builtin-vectors-expected.txt: Removed.
        * webgpu/whlsl/builtin-vectors.html: Removed.
        * webgpu/whlsl/casts-expected.txt: Removed.
        * webgpu/whlsl/casts.html: Removed.
        * webgpu/whlsl/checker-should-set-type-of-read-modify-write-variables-expected.txt: Removed.
        * webgpu/whlsl/checker-should-set-type-of-read-modify-write-variables.html: Removed.
        * webgpu/whlsl/clamp-stdlib-expected.txt: Removed.
        * webgpu/whlsl/clamp-stdlib.html: Removed.
        * webgpu/whlsl/comment-parsing-expected.txt: Removed.
        * webgpu/whlsl/comment-parsing.html: Removed.
        * webgpu/whlsl/compute-expected.txt: Removed.
        * webgpu/whlsl/compute.html: Removed.
        * webgpu/whlsl/copy-expected.txt: Removed.
        * webgpu/whlsl/copy.html: Removed.
        * webgpu/whlsl/dereference-ordering-expected.txt: Removed.
        * webgpu/whlsl/dereference-ordering.html: Removed.
        * webgpu/whlsl/dereference-pointer-should-type-check-expected.html: Removed.
        * webgpu/whlsl/dereference-pointer-should-type-check.html: Removed.
        * webgpu/whlsl/device-proper-type-checker-expected.txt: Removed.
        * webgpu/whlsl/device-proper-type-checker.html: Removed.
        * webgpu/whlsl/do-while-loop-break-expected.html: Removed.
        * webgpu/whlsl/do-while-loop-break.html: Removed.
        * webgpu/whlsl/do-while-loop-continue-expected.html: Removed.
        * webgpu/whlsl/do-while-loop-continue.html: Removed.
        * webgpu/whlsl/do-while-loop-expected.html: Removed.
        * webgpu/whlsl/do-while-loop.html: Removed.
        * webgpu/whlsl/dont-crash-parsing-enum-expected.html: Removed.
        * webgpu/whlsl/dont-crash-parsing-enum.html: Removed.
        * webgpu/whlsl/dot-expressions-expected.html: Removed.
        * webgpu/whlsl/dot-expressions.html: Removed.
        * webgpu/whlsl/double-not-expected.txt: Removed.
        * webgpu/whlsl/double-not.html: Removed.
        * webgpu/whlsl/duplicate-types-should-not-produce-duplicate-ctors-expected.txt: Removed.
        * webgpu/whlsl/duplicate-types-should-not-produce-duplicate-ctors.html: Removed.
        * webgpu/whlsl/duplicates-expected.txt: Removed.
        * webgpu/whlsl/duplicates.html: Removed.
        * webgpu/whlsl/ensure-proper-pointer-usage-expected.txt: Removed.
        * webgpu/whlsl/ensure-proper-pointer-usage.html: Removed.
        * webgpu/whlsl/ensure-proper-variable-lifetime-2-expected.html: Removed.
        * webgpu/whlsl/ensure-proper-variable-lifetime-2.html: Removed.
        * webgpu/whlsl/ensure-proper-variable-lifetime-3-expected.html: Removed.
        * webgpu/whlsl/ensure-proper-variable-lifetime-3.html: Removed.
        * webgpu/whlsl/ensure-proper-variable-lifetime-expected.html: Removed.
        * webgpu/whlsl/ensure-proper-variable-lifetime.html: Removed.
        * webgpu/whlsl/enum-integer-constructor-expected.txt: Removed.
        * webgpu/whlsl/enum-integer-constructor.html: Removed.
        * webgpu/whlsl/enum-spec-tests-expected.txt: Removed.
        * webgpu/whlsl/enum-spec-tests.html: Removed.
        * webgpu/whlsl/enums-2-expected.txt: Removed.
        * webgpu/whlsl/enums-2.html: Removed.
        * webgpu/whlsl/enums-expected.txt: Removed.
        * webgpu/whlsl/enums.html: Removed.
        * webgpu/whlsl/equality-expected.txt: Removed.
        * webgpu/whlsl/equality.html: Removed.
        * webgpu/whlsl/float-math-expected.txt: Removed.
        * webgpu/whlsl/float-math.html: Removed.
        * webgpu/whlsl/getter-setter-type-expected.txt: Removed.
        * webgpu/whlsl/getter-setter-type.html: Removed.
        * webgpu/whlsl/huge-array-expected.txt: Removed.
        * webgpu/whlsl/huge-array.html: Removed.
        * webgpu/whlsl/if-statement-expected.txt: Removed.
        * webgpu/whlsl/if-statement.html: Removed.
        * webgpu/whlsl/increment-decrement-expected.txt: Removed.
        * webgpu/whlsl/increment-decrement.html: Removed.
        * webgpu/whlsl/increment-setter-expected.txt: Removed.
        * webgpu/whlsl/increment-setter.html: Removed.
        * webgpu/whlsl/index-getter-setter-expected.txt: Removed.
        * webgpu/whlsl/index-getter-setter.html: Removed.
        * webgpu/whlsl/int-bit-math-expected.txt: Removed.
        * webgpu/whlsl/int-bit-math.html: Removed.
        * webgpu/whlsl/int-literal-compare-expected.txt: Removed.
        * webgpu/whlsl/int-literal-compare.html: Removed.
        * webgpu/whlsl/js/test-harness.js: Removed.
        * webgpu/whlsl/length-stdlib-expected.txt: Removed.
        * webgpu/whlsl/length-stdlib.html: Removed.
        * webgpu/whlsl/lexing-expected.txt: Removed.
        * webgpu/whlsl/lexing.html: Removed.
        * webgpu/whlsl/literals-expected.txt: Removed.
        * webgpu/whlsl/literals.html: Removed.
        * webgpu/whlsl/logical-negation-expected.txt: Removed.
        * webgpu/whlsl/logical-negation.html: Removed.
        * webgpu/whlsl/loops-break-expected.html: Removed.
        * webgpu/whlsl/loops-break.html: Removed.
        * webgpu/whlsl/loops-continue-expected.html: Removed.
        * webgpu/whlsl/loops-continue.html: Removed.
        * webgpu/whlsl/loops-expected.html: Removed.
        * webgpu/whlsl/loops-spec-tests-expected.txt: Removed.
        * webgpu/whlsl/loops-spec-tests.html: Removed.
        * webgpu/whlsl/loops.html: Removed.
        * webgpu/whlsl/lots-of-local-variables-expected.txt: Removed.
        * webgpu/whlsl/lots-of-local-variables.html: Removed.
        * webgpu/whlsl/lvalues-expected.txt: Removed.
        * webgpu/whlsl/lvalues.html: Removed.
        * webgpu/whlsl/make-array-ref-spec-tests-expected.txt: Removed.
        * webgpu/whlsl/make-array-ref-spec-tests.html: Removed.
        * webgpu/whlsl/make-array-reference-expected.txt: Removed.
        * webgpu/whlsl/make-array-reference.html: Removed.
        * webgpu/whlsl/matrices-spec-tests-expected.txt: Removed.
        * webgpu/whlsl/matrices-spec-tests.html: Removed.
        * webgpu/whlsl/matrix-2-expected.txt: Removed.
        * webgpu/whlsl/matrix-2.html: Removed.
        * webgpu/whlsl/matrix-alignment-expected.txt: Removed.
        * webgpu/whlsl/matrix-alignment.html: Removed.
        * webgpu/whlsl/matrix-compare-expected.txt: Removed.
        * webgpu/whlsl/matrix-compare.html: Removed.
        * webgpu/whlsl/matrix-constructors-expected.txt: Removed.
        * webgpu/whlsl/matrix-constructors-list-of-scalars-expected.txt: Removed.
        * webgpu/whlsl/matrix-constructors-list-of-scalars.html: Removed.
        * webgpu/whlsl/matrix-constructors.html: Removed.
        * webgpu/whlsl/matrix-expected.txt: Removed.
        * webgpu/whlsl/matrix-index-assign-expected.txt: Removed.
        * webgpu/whlsl/matrix-index-assign.html: Removed.
        * webgpu/whlsl/matrix-index-order-expected.txt: Removed.
        * webgpu/whlsl/matrix-index-order.html: Removed.
        * webgpu/whlsl/matrix-memory-layout-expected.txt: Removed.
        * webgpu/whlsl/matrix-memory-layout.html: Removed.
        * webgpu/whlsl/matrix.html: Removed.
        * webgpu/whlsl/nested-dot-expression-rvalue-expected.html: Removed.
        * webgpu/whlsl/nested-dot-expression-rvalue.html: Removed.
        * webgpu/whlsl/nested-loop-expected.html: Removed.
        * webgpu/whlsl/nested-loop.html: Removed.
        * webgpu/whlsl/null-arg-expected.txt: Removed.
        * webgpu/whlsl/null-arg.html: Removed.
        * webgpu/whlsl/null-array-property-access-expected.txt: Removed.
        * webgpu/whlsl/null-array-property-access.html: Removed.
        * webgpu/whlsl/null-array-ref.html: Removed.
        * webgpu/whlsl/oob-access-2-expected.txt: Removed.
        * webgpu/whlsl/oob-access-2.html: Removed.
        * webgpu/whlsl/oob-access-expected.txt: Removed.
        * webgpu/whlsl/oob-access.html: Removed.
        * webgpu/whlsl/operator-div-expected.txt: Removed.
        * webgpu/whlsl/operator-div.html: Removed.
        * webgpu/whlsl/operator-equal-equal-expected.txt: Removed.
        * webgpu/whlsl/operator-equal-equal.html: Removed.
        * webgpu/whlsl/operator-minus-expected.txt: Removed.
        * webgpu/whlsl/operator-minus.html: Removed.
        * webgpu/whlsl/operator-overload-expected.txt: Removed.
        * webgpu/whlsl/operator-overload.html: Removed.
        * webgpu/whlsl/operator-plus-expected.txt: Removed.
        * webgpu/whlsl/operator-plus.html: Removed.
        * webgpu/whlsl/operator-syntax-expected.txt: Removed.
        * webgpu/whlsl/operator-syntax.html: Removed.
        * webgpu/whlsl/operator-times-expected.txt: Removed.
        * webgpu/whlsl/operator-times.html: Removed.
        * webgpu/whlsl/operator-vector-assign-expected.txt: Removed.
        * webgpu/whlsl/operator-vector-assign.html: Removed.
        * webgpu/whlsl/operator-vector-load-expected.txt: Removed.
        * webgpu/whlsl/operator-vector-load.html: Removed.
        * webgpu/whlsl/operator-xy-expected.txt: Removed.
        * webgpu/whlsl/operator-xy.html: Removed.
        * webgpu/whlsl/overload-expected.txt: Removed.
        * webgpu/whlsl/overload.html: Removed.
        * webgpu/whlsl/plus-equals-expected.txt: Removed.
        * webgpu/whlsl/plus-equals.html: Removed.
        * webgpu/whlsl/pointer-spec-tests-expected.txt: Removed.
        * webgpu/whlsl/pointer-spec-tests.html: Removed.
        * webgpu/whlsl/postfix-prefix-expected.txt: Removed.
        * webgpu/whlsl/postfix-prefix.html: Removed.
        * webgpu/whlsl/property-evaluation-order-expected.txt: Removed.
        * webgpu/whlsl/property-evaluation-order.html: Removed.
        * webgpu/whlsl/read-modify-write-expected.txt: Removed.
        * webgpu/whlsl/read-modify-write-high-zombies-expected.txt: Removed.
        * webgpu/whlsl/read-modify-write-high-zombies.html: Removed.
        * webgpu/whlsl/read-modify-write.html: Removed.
        * webgpu/whlsl/recursive-structs-expected.txt: Removed.
        * webgpu/whlsl/recursive-structs.html: Removed.
        * webgpu/whlsl/return-local-variable-expected.html: Removed.
        * webgpu/whlsl/return-local-variable.html: Removed.
        * webgpu/whlsl/return-spec-tests-expected.txt: Removed.
        * webgpu/whlsl/return-spec-tests.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-10-expected.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-10.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-11-expected.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-11.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-12-expected.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-12.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-13-expected.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-13.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-14-expected.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-14.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-15-expected.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-15.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-16-expected.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-16.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-17-expected.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-17.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-18-expected.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-18.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-19-expected.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-19.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-2-expected.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-2.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-20-expected.txt: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-20.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-21-expected.txt: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-21.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-22-expected.txt: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-22.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-23-expected.txt: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-23.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-24-expected.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-24.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-25-expected.txt: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-25.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-26-expected.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-26.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-27-expected.txt: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-27.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-3-expected.txt: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-3.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-4-expected.txt: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-4.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-5-expected.txt: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-5.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-6-expected.txt: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-6.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-7-expected.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-7.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-8-expected.txt: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-8.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-9-expected.txt: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-9.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules-expected.html: Removed.
        * webgpu/whlsl/separate-shader-modules/separate-shader-modules.html: Removed.
        * webgpu/whlsl/setter-spec-tests-expected.txt: Removed.
        * webgpu/whlsl/setter-spec-tests.html: Removed.
        * webgpu/whlsl/simple-arrays-expected.txt: Removed.
        * webgpu/whlsl/simple-arrays.html: Removed.
        * webgpu/whlsl/simple-getter-setter-expected.txt: Removed.
        * webgpu/whlsl/simple-getter-setter.html: Removed.
        * webgpu/whlsl/simple-tests-expected.txt: Removed.
        * webgpu/whlsl/simple-tests.html: Removed.
        * webgpu/whlsl/simple-while-loop-expected.txt: Removed.
        * webgpu/whlsl/simple-while-loop.html: Removed.
        * webgpu/whlsl/smaller-than-32-bit-types-expected.txt: Removed.
        * webgpu/whlsl/smaller-than-32-bit-types.html: Removed.
        * webgpu/whlsl/sparse-bind-group-2-expected.txt: Removed.
        * webgpu/whlsl/sparse-bind-group-2.html: Removed.
        * webgpu/whlsl/sparse-bind-group-3-expected.txt: Removed.
        * webgpu/whlsl/sparse-bind-group-3.html: Removed.
        * webgpu/whlsl/sparse-bind-group-expected.txt: Removed.
        * webgpu/whlsl/sparse-bind-group.html: Removed.
        * webgpu/whlsl/store-null-expected.txt: Removed.
        * webgpu/whlsl/store-null.html: Removed.
        * webgpu/whlsl/store-to-property-updates-properly-expected.html: Removed.
        * webgpu/whlsl/store-to-property-updates-properly.html: Removed.
        * webgpu/whlsl/struct-expected.txt: Removed.
        * webgpu/whlsl/struct.html: Removed.
        * webgpu/whlsl/structure-field-enumeration-element-clash-expected.txt: Removed.
        * webgpu/whlsl/structure-field-enumeration-element-clash.html: Removed.
        * webgpu/whlsl/switch-expected.txt: Removed.
        * webgpu/whlsl/switch.html: Removed.
        * webgpu/whlsl/ternary-spec-test-expected.txt: Removed.
        * webgpu/whlsl/ternary-spec-test.html: Removed.
        * webgpu/whlsl/test-harness-test-expected.txt: Removed.
        * webgpu/whlsl/test-harness-test.html: Removed.
        * webgpu/whlsl/textures-getdimensions-expected.txt: Removed.
        * webgpu/whlsl/textures-getdimensions.html: Removed.
        * webgpu/whlsl/textures-load-expected.html: Removed.
        * webgpu/whlsl/textures-load.html: Removed.
        * webgpu/whlsl/textures-sample-bias-expected.html: Removed.
        * webgpu/whlsl/textures-sample-bias.html: Removed.
        * webgpu/whlsl/textures-sample-expected.html: Removed.
        * webgpu/whlsl/textures-sample-grad-expected.html: Removed.
        * webgpu/whlsl/textures-sample-grad.html: Removed.
        * webgpu/whlsl/textures-sample-level-expected.html: Removed.
        * webgpu/whlsl/textures-sample-level.html: Removed.
        * webgpu/whlsl/textures-sample.html: Removed.
        * webgpu/whlsl/two-dimensional-array-expected.txt: Removed.
        * webgpu/whlsl/two-dimensional-array.html: Removed.
        * webgpu/whlsl/type-mismatch-expected.txt: Removed.
        * webgpu/whlsl/type-mismatch.html: Removed.
        * webgpu/whlsl/uint-bitwise-expected.txt: Removed.
        * webgpu/whlsl/uint-bitwise.html: Removed.
        * webgpu/whlsl/use-undefined-variable-2-expected.txt: Removed.
        * webgpu/whlsl/use-undefined-variable-2.html: Removed.
        * webgpu/whlsl/use-undefined-variable-expected.txt: Removed.
        * webgpu/whlsl/use-undefined-variable.html: Removed.
        * webgpu/whlsl/variable-shadowing-expected.txt: Removed.
        * webgpu/whlsl/variable-shadowing.html: Removed.
        * webgpu/whlsl/vector-compare-expected.txt: Removed.
        * webgpu/whlsl/vector-compare.html: Removed.
        * webgpu/whlsl/vector-constructors-expected.txt: Removed.
        * webgpu/whlsl/vector-constructors.html: Removed.
        * webgpu/whlsl/vector-matrix-addition-subtraction-expected.txt: Removed.
        * webgpu/whlsl/vector-matrix-addition-subtraction.html: Removed.
        * webgpu/whlsl/vector-syntax-expected.txt: Removed.
        * webgpu/whlsl/vector-syntax.html: Removed.
        * webgpu/whlsl/void-variable-parameter-expected.txt: Removed.
        * webgpu/whlsl/void-variable-parameter.html: Removed.
        * webgpu/whlsl/while-loop-break-expected.html: Removed.
        * webgpu/whlsl/while-loop-break.html: Removed.
        * webgpu/whlsl/while-loop-continue-expected.html: Removed.
        * webgpu/whlsl/while-loop-continue.html: Removed.
        * webgpu/whlsl/whlsl-expected.html: Removed.
        * webgpu/whlsl/whlsl.html: Removed.
        * webgpu/whlsl/wrong-argument-length-expected.txt: Removed.
        * webgpu/whlsl/wrong-argument-length.html: Removed.
        * webgpu/whlsl/wrong-types-expected.txt: Removed.
        * webgpu/whlsl/wrong-types.html: Removed.
        * webgpu/whlsl/zero-initialize-values-2-expected.html: Removed.
        * webgpu/whlsl/zero-initialize-values-2.html: Removed.
        * webgpu/whlsl/zero-initialize-values-expected.html: Removed.
        * webgpu/whlsl/zero-initialize-values.html: Removed.

2021-07-29  Yusuke Suzuki  <ysuzuki@apple.com> and Alexey Shvayka  <shvaikalesh@gmail.com>

        [JSC] Legacy RegExp fields should be accessors
        https://bugs.webkit.org/show_bug.cgi?id=220233

        Reviewed by Tadeu Zagallo.

        * js/dom/getOwnPropertyDescriptor-expected.txt:
        * js/dom/regexp-caching-expected.txt:
        * js/dom/regexp-caching.html:
        * js/resources/getOwnPropertyDescriptor.js:
        * js/script-tests/static-put-in-prototype-chain.js:
        * js/static-put-in-prototype-chain-expected.txt:
        * js/static-put-in-prototype-chain.html:

2021-07-29  Devin Rousso  <drousso@apple.com>

        [Payment Request] `additionalShippingMethods` are not used if a `paymentMethodType` is provided
        https://bugs.webkit.org/show_bug.cgi?id=228599
        <rdar://problem/81190366>

        Reviewed by Andy Estes.

        * http/tests/paymentrequest/ApplePayModifier-paymentMethodType.https.html: Added.
        * http/tests/paymentrequest/ApplePayModifier-paymentMethodType.https-expected.txt: Added.

        * platform/ios-14-wk2/TestExpectations:
        * platform/mac-bigsur-wk2/TestExpectations: Added.
        Skip on older macOS/iOS since they don't support modifying shipping methods with any update.

2021-07-29  Eric Hutchison  <ehutchison@apple.com>

        [ Mac wk1 Debug] imported/w3c/web-platform-tests/html/cross-origin-opener-policy/coop-csp-sandbox.https.html.
        https://bugs.webkit.org/show_bug.cgi?id=228626.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-07-29  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] compositing/video/poster.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=228616

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-29  Alex Christensen  <achristensen@webkit.org>

        [ Mac ] fast/dom/webtiming-document-open.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=228571

        Reviewed by Chris Dumez.

        * platform/mac/TestExpectations:

2021-07-29  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] 2 http/tests/cookies/same-site tests are flaky timing out.
        https://bugs.webkit.org/show_bug.cgi?id=228604

        RUnreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-29  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iPad ] Rebaselining editing/selection/ios/change-selection-by-tapping-with-existing-selection.html.
        https://bugs.webkit.org/show_bug.cgi?id=228607

        Unreviewed test gardening.

        * platform/ipad/editing/selection/ios/change-selection-by-tapping-with-existing-selection-expected.txt: Added.

2021-07-29  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] 2 http/tests/cookies/same-site tests are flaky timing out.
        https://bugs.webkit.org/show_bug.cgi?id=228604

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-29  Sihui Liu  <sihui_liu@apple.com>

        Fix fast/speechrecognition/detached-iframe.html
        https://bugs.webkit.org/show_bug.cgi?id=228586

        Reviewed by Chris Dumez.

        The result of detached-iframe.html does not print description as remove() removes document.body instead of
        the iframe.

        * fast/speechrecognition/detached-iframe-expected.txt:
        * fast/speechrecognition/detached-iframe.html:

2021-07-29  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] http/tests/appcache/main-resource-redirect-with-sw.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=228588

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-29  Eric Hutchison  <ehutchison@apple.com>

        [ Mac wk2] fast/scrolling/mac/programmatic-scroll-overrides-rubberband.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=228591.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-07-29  Chris Dumez  <cdumez@apple.com>

        Unreviewed, unskip storage/indexeddb/detached-iframe.html now that it is no longer flaky after r280426.

        * platform/glib/TestExpectations:
        * platform/ios-14/TestExpectations:
        * platform/ios/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-07-29  Chris Dumez  <cdumez@apple.com>

        storage/indexeddb/detached-iframe.html is flaky on some bots
        https://bugs.webkit.org/show_bug.cgi?id=228569
        <rdar://80396559>

        Reviewed by Sihui Liu.

        The test was flaky because the `detachIframe()` function was incorrect and actually
        removing the iframe's parent instead of the iframe (Credit to Sihui for finding this
        out). This patch fixes the issue and also adds a description() to improve the test
        output.

        * storage/indexeddb/detached-iframe-expected.txt:
        * storage/indexeddb/detached-iframe.html:

2021-07-29  Myles C. Maxfield  <mmaxfield@apple.com>

        ☂️ [GPU Process] Defer removal of resources in the GPU Process until we've executed all display list items which reference them
        https://bugs.webkit.org/show_bug.cgi?id=228216
        <rdar://problem/80473805>

        Reviewed by Wenson Hsieh.

        All the code changes have landed. Mark the tests as passing again.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-07-28  Jean-Yves Avenard  <jya@apple.com>

        [WebAudio] Add webm/opus container support
        https://bugs.webkit.org/show_bug.cgi?id=227110
        <rdar://problem/79437067>

        Reviewed by Jer Noble.

        * platform/mac/TestExpectations: Only enable test on macOS Monterey
        * webaudio/decode-audio-data-basic.html: fix whitespace
        * webaudio/decode-audio-data-webm-opus-expected.txt: Added.
        * webaudio/decode-audio-data-webm-opus.html: Added.
        * webaudio/resources/media/opus.webm: Added.
        * webaudio/resources/media/vorbis.webm: Added.

2021-07-28  Sihui Liu  <sihui_liu@apple.com>

        Implement IDBTransaction.durability
        https://bugs.webkit.org/show_bug.cgi?id=228289

        Reviewed by Darin Adler.

        * storage/indexeddb/idbtransaction-durability-expected.txt: Added.
        * storage/indexeddb/idbtransaction-durability-private-expected.txt: Added.
        * storage/indexeddb/idbtransaction-durability-private.html: Added.
        * storage/indexeddb/idbtransaction-durability.html: Added.
        * storage/indexeddb/resources/idbtransaction-durability.js: Added.
        (onOpenUpgradeNeeded):
        (onOpenSuccess):
        (onTransactionComplete):

2021-07-28  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iPad ] platform/ipad/media/modern-media-controls/media-documents/media-document-audio-ios-sizing.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=228570#c0

        Unreviewed test gardening.

        * platform/ipad/TestExpectations:

2021-07-28  Sihui Liu  <sihui_liu@apple.com>

        IDBFactory.databases should not return databases with invalid version
        https://bugs.webkit.org/show_bug.cgi?id=228554

        Reviewed by Chris Dumez.

        * storage/indexeddb/getdatabases-expected.txt: Added.
        * storage/indexeddb/getdatabases-private-expected.txt: Added.
        * storage/indexeddb/getdatabases-private.html: Added.
        * storage/indexeddb/getdatabases.html: Added.
        * storage/indexeddb/resources/getdatabases.js: Added.
        (test):

2021-07-28  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iPad ] platform/ipad/media/modern-media-controls/media-documents/media-document-audio-ios-sizing.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=228570#c0

        Unreviewed test gardening.

        * platform/ipad/TestExpectations:

2021-07-28  Eric Hutchison  <ehutchison@apple.com>

        fast/dom/webtiming-document-open.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=228571.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-07-28  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iPad ] Rebaseline 2 imported/w3c/web-platform-tests/html tests.
        https://bugs.webkit.org/show_bug.cgi?id=228568

        Unreviewed test gardening.

        * platform/ipad/imported/w3c/web-platform-tests/html/browsers/the-window-object/dialog-form-submission-expected.txt: Added.
        * platform/ipad/imported/w3c/web-platform-tests/html/browsers/the-window-object/noopener-noreferrer-sizing.window-expected.txt: Added.

2021-07-28  Chris Dumez  <cdumez@apple.com>

        Unreviewed, Rebaseline imported/w3c/web-platform-tests/html/dom/idlharness.https.html on iPad.

        * platform/ipad/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:

2021-07-28  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for inspector/canvas/recording-html-2d.html and inspector/canvas/updateShader-webgpu.html.
        https://bugs.webkit.org/show_bug.cgi?id=227881.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-07-28  Aditya Keerthi  <akeerthi@apple.com>

        [iOS] <select> picker value committed to incorrect element after programmatic focus change
        https://bugs.webkit.org/show_bug.cgi?id=228556
        rdar://81222952

        Reviewed by Wenson Hsieh.

        Added a test to verify that changing focus programmatically, while changes
        in the <select> picker have not been committed, updates the value of the
        correct element.

        * fast/forms/ios/select-picker-change-and-focus-another-select-programmatically-expected.txt: Added.
        * fast/forms/ios/select-picker-change-and-focus-another-select-programmatically.html: Added.

2021-07-28  Eric Hutchison  <ehutchison@apple.com>

        http/tests/media/modern-media-controls/macos-fullscreen-media-controls/macos-fullscreen-media-controls-live-broadcast.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=228561.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-07-28  Ayumi Kojima  <ayumi_kojima@apple.com>

        storage/indexeddb/detached-iframe.html is flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=207844

        Unreviewed test gardening.

        * platform/ios-14/TestExpectations:
        * platform/ios-wk2/TestExpectations:

2021-07-28  Ayumi Kojima  <ayumi_kojima@apple.com>

        REGRESSION (r264117): [ Mac iOS ] imported/w3c/web-platform-tests/html/cross-origin-embedder-policy/blob.https.html.
        https://bugs.webkit.org/show_bug.cgi?id=214155

        Unreviewed test gardening.

        * platform/ios/TestExpectations:

2021-07-28  Ayumi Kojima  <ayumi_kojima@apple.com>

        imported/w3c/web-platform-tests/speech-api/SpeechSynthesis-speak-events.html is crashing in debug.
        https://bugs.webkit.org/show_bug.cgi?id=227501

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-28  Frédéric Wang  <fwang@igalia.com>

        Crash in ApplyStyleCommand::applyRelativeFontStyleChange
        https://bugs.webkit.org/show_bug.cgi?id=226926

        Reviewed by Ryosuke Niwa.

        Add regression tests.

        * fast/editing/apply-relative-font-style-change-crash-001-expected.txt: Added.
        * fast/editing/apply-relative-font-style-change-crash-001-expected.txt: Added.
        * fast/editing/apply-relative-font-style-change-crash-002.html: Added.
        * fast/editing/apply-relative-font-style-change-crash-002.html: Added.

2021-07-28  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo/TestExpectations:

2021-07-27  Robert Jenner  <jenner@apple.com>

        [LayoutTests] Delete unused LayoutTests/fullscreen resources
        https://bugs.webkit.org/show_bug.cgi?id=226831

        Reviewed by Alex Christensen.

        Removing un-used resoruces after php tests were converted to Python.

        * fullscreen/resources/not-allowed.html: Removed.

2021-07-27  Sihui Liu  <sihui_liu@apple.com>

        Update platform specific TestExpectations for imported IndexedDB tests
        https://bugs.webkit.org/show_bug.cgi?id=228241

        Reviewed by Alex Christensen.

        Update LayoutTests/TestExpectations based on latest test results as we have fixed some existing issues, and
        these tests should not fail now.

        * platform/ios-device/TestExpectations:
        * platform/ios-simulator-wk2/TestExpectations:
        * platform/ios-wk2/TestExpectations:
        * platform/ios/TestExpectations:
        * platform/mac-wk1/TestExpectations:
        * platform/mac-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-07-27  Devin Rousso  <drousso@apple.com>

        [Modern Media Controls] [macOS] Overflow button still shows as `on` even after contextmenu is dismissed
        https://bugs.webkit.org/show_bug.cgi?id=228310
        <rdar://problem/81124786>

        Reviewed by Wenson Hsieh.

        * media/modern-media-controls/overflow-support/button-state.html: Added.
        * media/modern-media-controls/overflow-support/button-state-expected.txt: Added.

        * media/modern-media-controls/overflow-support/playback-speed.html:
        * media/modern-media-controls/tracks-support/click-track-in-contextmenu.html:
        Adjust how these tests wait for and dismiss the contextmenu.

2021-07-27  Amir Mark Jr  <amir_mark@apple.com>

        [LayoutTests] Delete unused LayoutTests/inspector resources
        https://bugs.webkit.org/show_bug.cgi?id=226800

        Reviewed by Jonathan Bedard.

        * inspector/console/resources/errors.css: Removed.
        * inspector/dom/resources/highlight-iframe.html: Removed.
        * inspector/network/resources/data-intercepted.json: Removed.

2021-07-27  Alexey Shvayka  <shvaikalesh@gmail.com>

        ProxyObject callees should be skipped during Function.prototype.caller resolution
        https://bugs.webkit.org/show_bug.cgi?id=228341

        Reviewed by Yusuke Suzuki.

        * js/caller-property-expected.txt:
        * js/script-tests/caller-property.js:

2021-07-27  Eric Hutchison  <ehutchison@apple.com>

        [BigSur wk2 Debug arm64] fast/text/emoji-overlap.html is a flaky image-only failure.
        https://bugs.webkit.org/show_bug.cgi?id=228528.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-07-27  Robert Jenner  <Jenner@apple.com>

        Batch add test expectations for Monterey and iOS on Open Source
        https://bugs.webkit.org/show_bug.cgi?id=228200

        Unreviewed test gardening.

        * platform/mac/platform/mac/fast/text/international/Geeza-Pro-vertical-metrics-adjustment-expected.txt:

2021-07-27  Aditya Keerthi  <akeerthi@apple.com>

        [iOS] REGRESSION: Tapping a <select> element does not show a menu on many websites
        https://bugs.webkit.org/show_bug.cgi?id=228340
        rdar://77137768

        Reviewed by Wenson Hsieh.

        Added a test to verify that tapping a select element, that focuses itself
        inside a touchend listener, displays a menu.

        * fast/forms/ios/form-control-refresh/select/focus-select-in-touchend-expected.txt: Added.
        * fast/forms/ios/form-control-refresh/select/focus-select-in-touchend.html: Added.

2021-07-27  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] media/track/track-in-band-duplicate-tracks-when-source-changes.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=228364

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-27  Robert Jenner  <Jenner@apple.com>

        Batch add test expectations for Monterey and iOS on Open Source
        https://bugs.webkit.org/show_bug.cgi?id=228200

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-07-27  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS Release ] imported/w3c/web-platform-tests/webrtc/RTCRtpReceiver-getContributingSources.https.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=228462

        RUnreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-27  Eric Hutchison  <ehutchison@apple.com>

        [ BigSur Release arm64 ] fast/speechsynthesis/speech-synthesis-speak-empty-string.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=228396.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-07-27  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] media/track/track-forced-subtitles-in-band.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=228334

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-27  Eric Hutchison  <ehutchison@apple.com>

        [BigSur wk2 Release arm64] fast/selectors/selection-window-inactive-stroke-color.html is a flaky image-only failure.
        https://bugs.webkit.org/show_bug.cgi?id=228337.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-07-27  Truitt Savell  <tsavell@apple.com>

        Additional new baselines for Monterey
        https://bugs.webkit.org/show_bug.cgi?id=228090

        Unreviewed test gardening.

        * platform/mac-bigsur-wk2/http/tests/websocket/tests/hybi/close-and-server-script-exception-expected.txt: Added.
        * platform/mac-bigsur-wk2/http/tests/websocket/tests/hybi/close-code-and-reason-expected.txt: Added.
        * platform/mac-bigsur-wk2/http/tests/websocket/tests/hybi/handshake-fail-by-no-cr-expected.txt: Added.
        * platform/mac-bigsur-wk2/http/tests/websocket/tests/hybi/handshake-fail-by-null-char-in-status-expected.txt: Added.
        * platform/mac-bigsur-wk2/http/tests/websocket/tests/hybi/handshake-ok-with-http-version-beyond-1_1-expected.txt: Added.
        * platform/mac-bigsur-wk2/http/tests/websocket/tests/hybi/send-object-tostring-check-expected.txt: Added.
        * platform/mac-bigsur-wk2/http/tests/websocket/tests/hybi/workers/close-code-and-reason-expected.txt: Added.
        * platform/mac-catalina-wk2/http/tests/websocket/tests/hybi/send-object-tostring-check-expected.txt: Added.
        * platform/mac-wk2/http/tests/websocket/tests/hybi/alert-in-event-handler-expected.txt: Added.
        * platform/mac-wk2/http/tests/websocket/tests/hybi/client-close-2-expected.txt: Added.
        * platform/mac-wk2/http/tests/websocket/tests/hybi/client-close-expected.txt: Added.
        * platform/mac-wk2/http/tests/websocket/tests/hybi/close-and-server-script-exception-expected.txt: Added.
        * platform/mac-wk2/http/tests/websocket/tests/hybi/close-code-and-reason-expected.txt: Added.
        * platform/mac-wk2/http/tests/websocket/tests/hybi/handshake-fail-by-no-cr-expected.txt: Added.
        * platform/mac-wk2/http/tests/websocket/tests/hybi/handshake-fail-by-null-char-in-status-expected.txt: Added.
        * platform/mac-wk2/http/tests/websocket/tests/hybi/handshake-ok-with-http-version-beyond-1_1-expected.txt: Added.
        * platform/mac-wk2/http/tests/websocket/tests/hybi/invalid-encode-length-expected.txt: Added.
        * platform/mac-wk2/http/tests/websocket/tests/hybi/receive-arraybuffer-expected.txt: Added.
        * platform/mac-wk2/http/tests/websocket/tests/hybi/send-object-tostring-check-expected.txt: Added.
        * platform/mac-wk2/http/tests/websocket/tests/hybi/workers/close-code-and-reason-expected.txt: Added.
        * platform/mac-wk2/http/tests/websocket/tests/hybi/workers/receive-arraybuffer-expected.txt: Added.
        * platform/mac-wk2/http/tests/websocket/tests/hybi/zero-length-text-expected.txt: Added.

2021-07-27  Ayumi Kojima  <ayumi_kojima@apple.com>

        [iOS Release] 2 imported/w3c/web-platform-tests/worklets tests are flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=228327

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-27  Alex Christensen  <achristensen@webkit.org>

        document.referrer value is missing trailing slash
        https://bugs.webkit.org/show_bug.cgi?id=215080

        Reviewed by John Wilander.

        * http/tests/resourceLoadStatistics/downgrade-document-referrer-nested-third-party-iframe-expected.txt:
        * http/tests/resourceLoadStatistics/downgrade-document-referrer-third-party-iframe-expected.txt:

2021-07-27  Ayumi Kojima  <ayumi_kojima@apple.com>

        [iOS Release] imported/w3c/web-platform-tests/worklets/audio-worklet-service-worker-interception.https.html is flaky.
        https://bugs.webkit.org/show_bug.cgi?id=228327

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-27  Rob Buis  <rbuis@igalia.com>

        Unskip some css-flexbox WPT tests that pass
        https://bugs.webkit.org/show_bug.cgi?id=228320

        Reviewed by Manuel Rego Casasnovas.

        Unskip some css-flexbox WPT tests that pass.

        * TestExpectations:

2021-07-26  Chris Dumez  <cdumez@apple.com>

        Location.href setter uses wrong window to resolve relative URLs
        https://bugs.webkit.org/show_bug.cgi?id=228287

        Reviewed by Darin Adler.

        Add layout test coverage. This test is passing in Chome and Firefox but was failing with
        WebKit.

        * http/tests/dom/window-location-set-href-relative-url-expected.txt: Added.
        * http/tests/dom/window-location-set-href-relative-url.html: Added.

2021-07-26  Eric Hutchison  <ehutchison@apple.com>

        imported/w3c/web-platform-tests/css/css-scoping/css-scoping-shadow-dynamic-remove-style-detached.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=228311.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-07-26  Jean-Yves Avenard  <jya@apple.com>

        Video pauses after scrubbing with Touch Bar
        https://bugs.webkit.org/show_bug.cgi?id=228277
        rdar://80606886

        Reviewed by Jer Noble.

        * media/media-session/play-after-seek-expected.txt: Added.
        * media/media-session/play-after-seek.html: Added.

2021-07-26  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for inspector/canvas/recording-bitmaprenderer-memoryLimit.html.
        https://bugs.webkit.org/show_bug.cgi?id=227881.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-07-26  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS Debug ] http/tests/xmlhttprequest/access-control-preflight-credential-sync.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=228305

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-26  Eric Hutchison  <ehutchison@apple.com>

        [ Catalina+ Debug wk2 ] inspector/model/remote-object/iterator-large.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=228210.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-07-26  Eric Hutchison  <ehutchison@apple.com>

        Updated test expectations for fullscreen/full-screen-remove-children.html.
        https://bugs.webkit.org/show_bug.cgi?id=227874.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-07-26  Per Arne  <pvollan@apple.com>

        The layout test fast/images/heic-as-background-image.html is a constant failure
        https://bugs.webkit.org/show_bug.cgi?id=228195
        <rdar://80334724>

        Reviewed by Said Abou-Hallawa.

        Update test expectations.

        * platform/mac/TestExpectations:

2021-07-26  Frédéric Wang  <fwang@igalia.com>

        Crash in InsertParagraphSeparatorCommand::doApply
        https://bugs.webkit.org/show_bug.cgi?id=224977

        Reviewed by Ryosuke Niwa.

        Add regression test.

        * editing/inserting/insert-paragraph-separator-with-html-elements-crash-expected.txt: Added.
        * editing/inserting/insert-paragraph-separator-with-html-elements-crash.html: Added.

2021-07-26  Johnson Zhou  <qiaosong_zhou@apple.com>

        Added support for FormDataEvent. Rebaselined.
        https://bugs.webkit.org/show_bug.cgi?id=227718

        Reviewed by Chris Dumez.

        * platform/ios-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/relations/html5-tree/math-global-event-handlers.tentative-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/relations/html5-tree/math-global-event-handlers.tentative-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/relations/html5-tree/math-global-event-handlers.tentative-expected.txt:

2021-07-26  Jer Noble  <jer.noble@apple.com>

        [Cocoa] Playback stalls on bilibili.com
        https://bugs.webkit.org/show_bug.cgi?id=228239
        <rdar://80419477>

        Reviewed by Eric Carlson.

        * media/media-source/media-source-effectiveplaybackrate-expected.txt: Added.
        * media/media-source/media-source-effectiveplaybackrate.html: Added.

2021-07-26  Aditya Keerthi  <akeerthi@apple.com>

        [iOS] Page background color does not update after UIUserInterfaceLevel change
        https://bugs.webkit.org/show_bug.cgi?id=228282
        rdar://80490391

        Reviewed by Wenson Hsieh.

        Added a test to verify that a change in user interface level correctly
        updates the page's background color.

        * fast/css/ios/update-user-interface-level-expected.txt: Added.
        * fast/css/ios/update-user-interface-level.html: Added.

2021-07-26  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS Debug] 3 editing/pasteboard/smart-paste-paragraph tests are flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=228285

        Unreviewed test gardening.

        * platform/ipad/TestExpectations:

2021-07-26  Eric Hutchison  <ehutchison@apple.com>

        REGRESSION (r279427): [ Mac wk1 and iOS ] imported/w3c/web-platform-tests/html/interaction/focus/the-autofocus-attribute/document-with-fragment-valid.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=227762.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk1/TestExpectations:

2021-07-26  Chris Dumez  <cdumez@apple.com>

        XML documents end up with a unique origin in WebKit only
        https://bugs.webkit.org/show_bug.cgi?id=228254

        Reviewed by Darin Adler.

        Add layout test coverage.

        * http/tests/misc/xml-document-origin-expected.txt: Added.
        * http/tests/misc/xml-document-origin.html: Added.

2021-07-26  Jer Noble  <jer.noble@apple.com>

        [iOS] All home screen web apps resume when any home screen web app is foregrounded
        https://bugs.webkit.org/show_bug.cgi?id=228246
        <rdar://72949281>

        Reviewed by Eric Carlson.

        * media/video-page-visibility-restriction-expected.txt: Added.
        * media/video-page-visibility-restriction.html: Added.

2021-07-26  Ziran Sun  <zsun@igalia.com>

        [css-grid] svg image as grid items should use the overriding logical width/height when defined to compute the logical height/width
        https://bugs.webkit.org/show_bug.cgi?id=228105

        Reviewed by Javier Fernandez.

        Update TestExpectations as 4 failed grid WPT tests are now passing.
 
        * TestExpectations:

2021-07-25  Alexey Shvayka  <shvaikalesh@gmail.com>

        Partly implement Function.prototype.{caller,arguments} reflection proposal
        https://bugs.webkit.org/show_bug.cgi?id=158116

        Reviewed by Yusuke Suzuki.

        * inspector/model/remote-object-get-properties-expected.txt:
        * inspector/runtime/getDisplayableProperties-expected.txt:
        * inspector/runtime/getProperties-expected.txt:
        * js/Object-getOwnPropertyNames-expected.txt:
        * js/basic-strict-mode-expected.txt:
        * js/kde/function_arguments-expected.txt:
        * js/kde/script-tests/function_arguments.js:
        * js/non-strict-function-properties-expected.txt:
        * js/script-tests/Object-getOwnPropertyNames.js:
        * js/script-tests/basic-strict-mode.js:
        * js/script-tests/non-strict-function-properties.js:
        * js/script-tests/throw-type-error-is-unique.js:

2021-07-25  Wenson Hsieh  <wenson_hsieh@apple.com>

        [iOS] Unified field is unselected after focusing URL bar if text was selected in a fixed position container
        https://bugs.webkit.org/show_bug.cgi?id=228269
        rdar://80556392

        Reviewed by Tim Horton.

        Add a new layout test that installs, focuses, and selects text inside a native UITextField (simulating Safari's
        URL field) while the DOM selection is inside a fixed position container, and then scrolls the web view a bit to
        temporarily induce an unstable scrolling tree state. After this, we verify that the text selection inside the
        native text field has not been cleared.

        See Tools/ changes for more details.

        * editing/selection/ios/scrolling-with-fixed-selection-does-not-unselect-native-text-field-expected.txt: Added.
        * editing/selection/ios/scrolling-with-fixed-selection-does-not-unselect-native-text-field.html: Added.
        * resources/ui-helper.js:
        (window.UIHelper.addChromeInputField):
        (window.UIHelper.removeChromeInputField):
        (window.UIHelper.setTextInChromeInputField):
        (window.UIHelper.selectChromeInputField):
        (window.UIHelper.getSelectedTextInChromeInputField):
        (window.UIHelper):

2021-07-24  Devin Rousso  <drousso@apple.com>

        [Apple Pay] Do not add coupon code `ApplePayErrorCode` values for systems that do not support it
        https://bugs.webkit.org/show_bug.cgi?id=228243

        Reviewed by Wenson Hsieh.

        * http/tests/ssl/applepay/ApplePayError.html:
        * http/tests/ssl/applepay/ApplePayError-expected.txt:
        * platform/ios-14-wk2/http/tests/ssl/applepay/ApplePayError-expected.txt: Added.
        * platform/mac-bigsur-wk2/http/tests/ssl/applepay/ApplePayError-expected.txt: Added.

2021-07-23  Andres Gonzalez  <andresg_22@apple.com>

        Add a method to WebAccessibilityObjectWrapper so that clients can retrieve the text of each line and their corresponding bounding rectangles.
        https://bugs.webkit.org/show_bug.cgi?id=228251

        Reviewed by Chris Fleizach.

        * accessibility/ios-simulator/element-line-rects-and-text-expected.txt: Added.
        * accessibility/ios-simulator/element-line-rects-and-text.html: Added.

2021-07-23  Alexey Shvayka  <shvaikalesh@gmail.com>

        [WebIDL] Properly validate and merge descriptors in [Replaceable] setter
        https://bugs.webkit.org/show_bug.cgi?id=227662

        Reviewed by Sam Weinig.

        * fast/dom/replaceable-setter-throws-if-defineownproperty-fails-expected.txt: Added.
        * fast/dom/replaceable-setter-throws-if-defineownproperty-fails.html: Added.
        * fast/dom/window-opener-setter-throws-if-defineownproperty-fails-1-expected.txt: Added.
        * fast/dom/window-opener-setter-throws-if-defineownproperty-fails-1.html: Added.
        * fast/dom/window-opener-setter-throws-if-defineownproperty-fails-2-expected.txt: Added.
        * fast/dom/window-opener-setter-throws-if-defineownproperty-fails-2.html: Added.

2021-07-23  Eric Hutchison  <ehutchison@apple.com>

        [BigSur wk1 Debug ] imported/w3c/web-platform-tests/IndexedDB/idb_binary_key_conversion.htm is a flaky timeout .
        https://bugs.webkit.org/show_bug.cgi?id=228260.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-07-23  Eric Hutchison  <ehutchison@apple.com>

        [ Mac wk2 Debug ] inspector/canvas/create-context-webgl.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=228256.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-07-23  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS ] fast/mediastream/mediastreamtrack-audio-clone.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=228255

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-23  Wenson Hsieh  <wenson_hsieh@apple.com>

        REGRESSION (r279751): WebContent process often crashes when hovering over content on apple.com
        https://bugs.webkit.org/show_bug.cgi?id=228247
        rdar://81010093

        Reviewed by Tim Horton.

        * fast/images/text-recognition/text-recognition-in-transparent-video-expected.txt: Added.
        * fast/images/text-recognition/text-recognition-in-transparent-video.html: Added.

2021-07-23  Ayumi Kojima  <ayumi_kojima@apple.com>

        REGRESSION: [ Mac ] media/video-buffering-allowed.html is flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=217621

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-23  Eric Hutchison  <ehutchison@apple.com>

        [ BigSur wk2 Release arm64 ] fast/css-grid-layout floating-empty-grids.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=228252.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-07-23  Ayumi Kojima  <ayumi_kojima@apple.com>

        REGRESSION: [iOS] ASSERTION FAILED: !m_messageReceiverMapCount under WebKit::RemoteAudioHardwareListener::~RemoteAudioHardwareListener()
        https://bugs.webkit.org/show_bug.cgi?id=228038

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-23  Ayumi Kojima  <ayumi_kojima@apple.com>

        [iOS 14] imported/w3c/web-platform-tests/webstorage/event_case_sensitive.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=226789
        
        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-23  Eric Hutchison  <ehutchison@apple.com>

        [ BigSur wk2 Release arm64 ] fast/selectors/selection-window-inactive.html is a flaky failure .
        https://bugs.webkit.org/show_bug.cgi?id=228248.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-07-23  Eric Hutchison  <ehutchison@apple.com>

        [BigSur wk1 Release arm64] imported/w3c/web-platform-tests/workers/modules/shared-worker-import-csp.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=228245.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-07-23  Alexey Shvayka  <shvaikalesh@gmail.com>

        [JSC] Call custom accessors / values with their holder's global object
        https://bugs.webkit.org/show_bug.cgi?id=225997

        Reviewed by Yusuke Suzuki.

        * fast/dom/HTMLObjectElement/object-as-frame-expected.txt:
        * fast/dom/HTMLObjectElement/object-as-frame.html:
        * fast/dom/HTMLObjectElement/resources: Added.
        * fast/dom/HTMLObjectElement/resources/dummy-frame-1.html: Added.
        * fast/dom/HTMLObjectElement/resources/dummy-frame-2.html: Added.
        * fast/events/attribute-listener-cloned-from-frameless-doc-context-2.html:
        * fast/events/attribute-listener-extracted-from-frameless-doc-context-2.html:
        These tests used to pass as is, probably, due to combination of old (incorrect) behavior and
        some implementation details of run-webkit-tests. They fail on MiniBrowser / Chrome / Firefox
        unless modified not to use data:// protocol, which is not system under test.

        * fast/frames/sandboxed-iframe-navigation-parent-expected.txt:
        * fast/frames/sandboxed-iframe-navigation-parent.html:
        * http/tests/security/frameNavigation/context-for-location-assign-expected.txt:
        Revert the changes made in r174996. Location::assign() now uses correct (incumbent) Window
        to set outgoing referrer and perform security checks, aligning WebKit with Chrome / Firefox.

        * http/tests/security/frameNavigation/context-for-location-href-gopd-expected.txt: Added.
        * http/tests/security/frameNavigation/context-for-location-href-gopd.html: Added.

2021-07-23  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for inspector/dom-debugger/event-breakpoint-with-navigation.html.
        https://bugs.webkit.org/show_bug.cgi?id=224291.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-07-23  Chris Dumez  <cdumez@apple.com>

        [iOS] imported/w3c/web-platform-tests/html/dom/idlharness.https.html is failing
        https://bugs.webkit.org/show_bug.cgi?id=228198
        <rdar://problem/80982016>

        Unreviewed, land iPad-specific baseline instead of marking the test as failing on iOS.
        We are merely getting different results on iPhone and iPad because MediaSource is enabled
        on iPad but not iPhone.

        * platform/ios-wk2/TestExpectations:
        * platform/ipad/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt: Added.

2021-07-23  Ayumi Kojima  <ayumi_kojima@apple.com>

        [iOS]imported/w3c/web-platform-tests/html/dom/idlharness.https.html is failing.
        https://bugs.webkit.org/show_bug.cgi?id=228198

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-23  Richard Houle  <rhoule@apple.com>

        WebSocket traffic should be correctly assigned to either Developer or User.
        https://bugs.webkit.org/show_bug.cgi?id=227564
        <rdar://problem/79307301>

        Reviewed by Kate Cheney.

        * http/tests/app-privacy-report/websocket-isappinitiated-expected.txt: Added.
        * http/tests/app-privacy-report/websocket-isappinitiated.html: Added.
        * http/tests/app-privacy-report/websocket-isnotappinitiated-expected.txt: Added.
        * http/tests/app-privacy-report/websocket-isnotappinitiated.html: Added.

2021-07-23  Eric Hutchison  <ehutchison@apple.com>

        [ BigSur wk1 Debug arm64 ] imported/w3c/web-platform-tests/IndexedDB/idbcursor-iterating-update.htm is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=228238.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-07-23  Truitt Savell  <tsavell@apple.com>

        Migrate iOS 15 expectations to OpenSource and bump version numbers
        https://bugs.webkit.org/show_bug.cgi?id=228202

        Reviewed by Ryan Haddad.

        * platform/ios-14-wk2/TestExpectations: Added.
        * platform/ios-14-wk2/fast/css/font-face-locally-installed-expected.txt: Copied from LayoutTests/platform/ios-wk2/fast/css/font-face-locally-installed-expected.txt.
        * platform/ios-14-wk2/http/tests/websocket/tests/hybi/alert-in-event-handler-expected.txt: Added.
        * platform/ios-14-wk2/http/tests/websocket/tests/hybi/bufferedAmount-after-close-expected.txt: Added.
        * platform/ios-14-wk2/http/tests/websocket/tests/hybi/close-and-server-script-exception-expected.txt: Added.
        * platform/ios-14-wk2/http/tests/websocket/tests/hybi/fragmented-frames-expected.txt: Added.
        * platform/ios-14-wk2/http/tests/websocket/tests/hybi/handshake-fail-by-no-cr-expected.txt: Added.
        * platform/ios-14-wk2/http/tests/websocket/tests/hybi/handshake-fail-by-null-char-in-status-expected.txt: Added.
        * platform/ios-14-wk2/http/tests/websocket/tests/hybi/handshake-ok-with-http-version-beyond-1_1-expected.txt: Added.
        * platform/ios-14-wk2/http/tests/websocket/tests/hybi/interleaved-fragments-expected.txt: Added.
        * platform/ios-14-wk2/http/tests/websocket/tests/hybi/receive-arraybuffer-expected.txt: Added.
        * platform/ios-14-wk2/http/tests/websocket/tests/hybi/workers/close-code-and-reason-expected.txt: Added.
        * platform/ios-14-wk2/http/tests/websocket/tests/hybi/workers/receive-arraybuffer-expected.txt: Added.
        * platform/ios-14-wk2/http/tests/websocket/tests/hybi/zero-length-text-expected.txt: Added.
        * platform/ios-14-wk2/http/tests/workers/service/serviceworker-websocket.https-expected.txt: Added.
        * platform/ios-14-wk2/imported/w3c/web-platform-tests/touch-events/idlharness.window-expected.txt: Added.
        * platform/ios-14-wk2/imported/w3c/web-platform-tests/websockets/Send-65K-data.any-expected.txt: Added.
        * platform/ios-14-wk2/imported/w3c/web-platform-tests/websockets/Send-binary-65K-arraybuffer.any-expected.txt: Added.
        * platform/ios-14-wk2/imported/w3c/web-platform-tests/websockets/Send-binary-arraybuffer.any-expected.txt: Added.
        * platform/ios-14-wk2/imported/w3c/web-platform-tests/websockets/Send-data.any-expected.txt: Added.
        * platform/ios-14-wk2/imported/w3c/web-platform-tests/websockets/Send-paired-surrogates.any-expected.txt: Added.
        * platform/ios-14-wk2/imported/w3c/web-platform-tests/websockets/basic-auth.any-expected.txt: Added.
        * platform/ios-14-wk2/imported/w3c/web-platform-tests/websockets/basic-auth.any.worker-expected.txt: Added.
        * platform/ios-14-wk2/imported/w3c/web-platform-tests/websockets/cookies/007-expected.txt: Added.
        * platform/ios-14-wk2/imported/w3c/web-platform-tests/websockets/interfaces/WebSocket/bufferedAmount/bufferedAmount-arraybuffer-expected.txt: Added.
        * platform/ios-14-wk2/imported/w3c/web-platform-tests/websockets/interfaces/WebSocket/bufferedAmount/bufferedAmount-blob-expected.txt: Added.
        * platform/ios-14-wk2/imported/w3c/web-platform-tests/websockets/interfaces/WebSocket/bufferedAmount/bufferedAmount-getting-expected.txt: Added.
        * platform/ios-14-wk2/imported/w3c/web-platform-tests/websockets/interfaces/WebSocket/bufferedAmount/bufferedAmount-large-expected.txt: Added.
        * platform/ios-14-wk2/imported/w3c/web-platform-tests/websockets/interfaces/WebSocket/bufferedAmount/bufferedAmount-unicode-expected.txt: Added.
        * platform/ios-14/TestExpectations: Added.
        * platform/ios-14/fast/css/ios/system-color-for-css-value-expected.txt: Added.
        * platform/ios-14/fast/forms/button-sizes-expected.txt: Copied from LayoutTests/platform/ios/fast/forms/button-sizes-expected.txt.
        * platform/ios-14/fast/forms/input-button-sizes-expected.txt: Copied from LayoutTests/platform/ios/fast/forms/input-button-sizes-expected.txt.
        * platform/ios-14/fast/forms/number/number-appearance-spinbutton-disabled-readonly-expected.txt: Copied from LayoutTests/platform/ios/fast/forms/number/number-appearance-spinbutton-disabled-readonly-expected.txt.
        * platform/ios-14/fast/text/hyphenate-avoid-orphaned-word-expected.txt: Copied from LayoutTests/platform/ios/fast/text/hyphenate-avoid-orphaned-word-expected.txt.
        * platform/ios-wk2/TestExpectations:
        * platform/ios-wk2/fast/css/font-face-locally-installed-expected.txt:
        * platform/ios-wk2/http/tests/websocket/tests/hybi/alert-in-event-handler-expected.txt: Added.
        * platform/ios-wk2/http/tests/websocket/tests/hybi/bufferedAmount-after-close-in-busy-expected.txt: Added.
        * platform/ios-wk2/http/tests/websocket/tests/hybi/close-and-server-script-exception-expected.txt: Added.
        * platform/ios-wk2/http/tests/websocket/tests/hybi/fragmented-frames-expected.txt: Added.
        * platform/ios-wk2/http/tests/websocket/tests/hybi/handshake-fail-by-no-cr-expected.txt: Added.
        * platform/ios-wk2/http/tests/websocket/tests/hybi/handshake-fail-by-null-char-in-status-expected.txt: Added.
        * platform/ios-wk2/http/tests/websocket/tests/hybi/handshake-ok-with-http-version-beyond-1_1-expected.txt: Added.
        * platform/ios-wk2/http/tests/websocket/tests/hybi/interleaved-fragments-expected.txt: Added.
        * platform/ios-wk2/http/tests/websocket/tests/hybi/receive-arraybuffer-expected.txt: Added.
        * platform/ios-wk2/http/tests/websocket/tests/hybi/workers/close-code-and-reason-expected.txt: Added.
        * platform/ios-wk2/http/tests/websocket/tests/hybi/workers/receive-arraybuffer-expected.txt: Added.
        * platform/ios-wk2/http/tests/websocket/tests/hybi/zero-length-text-expected.txt: Added.
        * platform/ios-wk2/http/tests/workers/service/serviceworker-websocket.https-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/touch-events/idlharness.window-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/websockets/Send-65K-data.any-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/websockets/Send-binary-65K-arraybuffer.any-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/websockets/Send-binary-arraybuffer.any-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/websockets/Send-data.any-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/websockets/Send-paired-surrogates.any-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/websockets/basic-auth.any-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/websockets/basic-auth.any.worker-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/websockets/cookies/007-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/websockets/interfaces/WebSocket/bufferedAmount/bufferedAmount-arraybuffer-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/websockets/interfaces/WebSocket/bufferedAmount/bufferedAmount-blob-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/websockets/interfaces/WebSocket/bufferedAmount/bufferedAmount-getting-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/websockets/interfaces/WebSocket/bufferedAmount/bufferedAmount-large-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/websockets/interfaces/WebSocket/bufferedAmount/bufferedAmount-unicode-expected.txt: Added.
        * platform/ios/TestExpectations:
        * platform/ios/fast/css/ios/system-color-for-css-value-expected.txt: Added.
        * platform/ios/fast/forms/button-sizes-expected.txt:
        * platform/ios/fast/forms/input-button-sizes-expected.txt:
        * platform/ios/fast/forms/number/number-appearance-spinbutton-disabled-readonly-expected.txt:
        * platform/ios/fast/text/hyphenate-avoid-orphaned-word-expected.txt:

2021-07-23  Aditya Keerthi  <akeerthi@apple.com>

        [macOS] Repainting artifacts when moving input type=range slider thumb
        https://bugs.webkit.org/show_bug.cgi?id=228135
        rdar://76247487

        Reviewed by Tim Horton.

        Rebaselined tests to account for the change to the size of the slider
        thumb.

        * fast/dom/HTMLInputElement/input-slider-update-expected.txt:
        * fast/repaint/block-inputrange-repaint-expected.txt:
        * fast/repaint/block-inputrange-repaint.html:
        * fast/repaint/slider-thumb-drag-release-expected.txt:
        * platform/gtk/fast/repaint/block-inputrange-repaint-expected.txt:
        * platform/mac-catalina/fast/dom/HTMLInputElement/input-slider-update-expected.txt: Copied from LayoutTests/fast/dom/HTMLInputElement/input-slider-update-expected.txt.
        * platform/mac-catalina/fast/forms/input-appearance-height-expected.txt: Copied from LayoutTests/platform/mac/fast/forms/input-appearance-height-expected.txt.
        * platform/mac-catalina/fast/forms/range/input-appearance-range-expected.txt: Copied from LayoutTests/platform/mac/fast/forms/range/input-appearance-range-expected.txt.
        * platform/mac-catalina/fast/forms/range/slider-padding-expected.txt: Copied from LayoutTests/platform/mac/fast/forms/range/slider-padding-expected.txt.
        * platform/mac-catalina/fast/forms/range/slider-thumb-shared-style-expected.txt: Copied from LayoutTests/platform/mac/fast/forms/range/slider-thumb-shared-style-expected.txt.
        * platform/mac-catalina/fast/forms/range/thumbslider-no-parent-slider-expected.txt: Copied from LayoutTests/platform/mac/fast/forms/range/thumbslider-no-parent-slider-expected.txt.
        * platform/mac-catalina/fast/repaint/block-inputrange-repaint-expected.txt: Added.
        * platform/mac-catalina/fast/repaint/slider-thumb-drag-release-expected.txt: Copied from LayoutTests/fast/repaint/slider-thumb-drag-release-expected.txt.
        * platform/mac/fast/forms/box-shadow-override-expected.txt:
        * platform/mac/fast/forms/input-appearance-height-expected.txt:
        * platform/mac/fast/forms/range/input-appearance-range-expected.txt:
        * platform/mac/fast/forms/range/slider-padding-expected.txt:
        * platform/mac/fast/forms/range/slider-thumb-shared-style-expected.txt:
        * platform/mac/fast/forms/range/thumbslider-no-parent-slider-expected.txt:

2021-07-23  Devin Rousso  <drousso@apple.com>

        [Modern Media Controls] [macOS] Only show total duration when the elapsed time is visible
        https://bugs.webkit.org/show_bug.cgi?id=228191
        <rdar://problem/80529918>

        Reviewed by Eric Carlson.

        * media/modern-media-controls/time-control/time-control.html:
        * media/modern-media-controls/time-control/time-control-expected.txt:

2021-07-23  Eleni Maria Stea  <estea@igalia.com>

        Removed incorrect test from webgl tests.
        https://bugs.webkit.org/show_bug.cgi?id=220720

        Reviewed by Kenneth Russell.

        The removed test was based on the incorrect assumption that
        deleted buffer names remain valid until the object they used to
        refer to is destroyed. According to the WebGL spec:
        https://www.khronos.org/registry/webgl/specs/1.0.3/ section:
        5.14.5 isBuffer "Return false if the buffer's invalidated flag
        is set", this is not true and names become invalid immediately.

        * fast/canvas/webgl/oes-vertex-array-object.html:

2021-07-22  Robert Jenner  <Jenner@apple.com>

        Batch add test expectations for Monterey on Open Source
        https://bugs.webkit.org/show_bug.cgi?id=228200

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-07-22  Robert Jenner  <Jenner@apple.com>

        Batch add test expectations for Monterey on Open Source
        https://bugs.webkit.org/show_bug.cgi?id=228200

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:
        * platform/mac/TestExpectations: Adjusting expectations for Monterey.

2021-07-22  Robert Jenner  <Jenner@apple.com>

        [BigSur+ Wk2] imported/w3c/web-platform-t ests/media-source/mediasour ce-seek-during-pending-seek .html is a flakey failure
        https://bugs.webkit.org/show_bug.cgi?id=222183

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations: Including BigSur+ on existing expectations.

2021-07-22  Robert Jenner  <Jenner@apple.com>

        [ BigSur+ iOS Release wk2  ] 2 imported/w3c/web-platform-tests/webrtc are flakey text failures (223385)
        https://bugs.webkit.org/show_bug.cgi?id=223385

        Unreviewed test gardening. 
        
        * platform/ios/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-07-22  Ayumi Kojima  <ayumi_kojima@apple.com>

        [iOS] media/video-presentation-mode.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=228204

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-22  Robert Jenner  <Jenner@apple.com>

        Batch add test expectations for Monterey on Open Source
        https://bugs.webkit.org/show_bug.cgi?id=228200

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:
        * platform/mac-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-07-22  Myles C. Maxfield  <mmaxfield@apple.com>

        [Cocoa] ".SF Arabic" should not be able to be looked up by name (because it is dot-prefixed)
        https://bugs.webkit.org/show_bug.cgi?id=228018
        <rdar://problem/80691654>

        Reviewed by Simon Fraser.

        * fast/text/sf-arabic-lookup-by-name-expected.html: Added.
        * fast/text/sf-arabic-lookup-by-name.html: Added.

2021-07-22  Eric Hutchison  <ehutchison@apple.com>

        [BigSur Debug] imported/w3c/web-platform-tests/xhr/event-upload-progress-crossorigin.any.worker.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=222385.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-07-22  Eric Hutchison  <ehutchison@apple.com>

        [BigSur wk2 arm64] imported/w3c/web-platform-tests/html/cross-origin-opener-policy/header-parsing.https.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=228197.

        Unreviewwed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-07-22  Truitt Savell  <tsavell@apple.com>

        Migrate Monterey expectations to OpenSource and bump version numbers
        https://bugs.webkit.org/show_bug.cgi?id=228090

        Reviewed by Ryan Haddad.

        * TestExpectations:
        * media/media-source/content/test-vp8-malformed-header-manifest.json: Renamed from LayoutTests/platform/mac-bigsur/media/media-source/content/test-vp8-malformed-header-manifest.json.
        * media/media-source/content/test-vp8-malformed-header.webm: Renamed from LayoutTests/platform/mac-bigsur/media/media-source/content/test-vp8-malformed-header.webm.
        * media/media-source/media-source-webm-vp8-malformed-header-expected.txt: Renamed from LayoutTests/platform/mac-bigsur/media/media-source/media-source-webm-vp8-malformed-header-expected.txt.
        * media/media-source/media-source-webm-vp8-malformed-header.html: Renamed from LayoutTests/platform/mac-bigsur/media/media-source/media-source-webm-vp8-malformed-header.html.
        * media/media-webm-no-duration-expected.txt: Renamed from LayoutTests/platform/mac-bigsur/media/media-webm-no-duration-expected.txt.
        * media/media-webm-no-duration.html: Renamed from LayoutTests/platform/mac-bigsur/media/media-webm-no-duration.html.
        * platform/mac-bigsur-wk1/editing/mac/attributed-string/anchor-element-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/anchor-element-expected.txt.
        * platform/mac-bigsur-wk1/editing/mac/attributed-string/attrib-string-colors-with-color-filter-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/attrib-string-colors-with-color-filter-expected.txt.
        * platform/mac-bigsur-wk1/editing/mac/attributed-string/attribute-string-for-copy-with-color-filter-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/attribute-string-for-copy-with-color-filter-expected.txt.
        * platform/mac-bigsur-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-1-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-1-expected.txt.
        * platform/mac-bigsur-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-2-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-2-expected.txt.
        * platform/mac-bigsur-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-3-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-3-expected.txt.
        * platform/mac-bigsur-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-4-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-4-expected.txt.
        * platform/mac-bigsur-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-5-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-5-expected.txt.
        * platform/mac-bigsur-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-with-style-1-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-with-style-1-expected.txt.
        * platform/mac-bigsur-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-with-style-2-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-with-style-2-expected.txt.
        * platform/mac-bigsur-wk1/editing/mac/attributed-string/attributed-string-for-typing-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/attributed-string-for-typing-expected.txt.
        * platform/mac-bigsur-wk1/editing/mac/attributed-string/attributed-string-for-typing-with-color-filter-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/attributed-string-for-typing-with-color-filter-expected.txt.
        * platform/mac-bigsur-wk1/editing/mac/attributed-string/basic-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/basic-expected.txt.
        * platform/mac-bigsur-wk1/editing/mac/attributed-string/comment-cdata-section-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/comment-cdata-section-expected.txt.
        * platform/mac-bigsur-wk1/editing/mac/attributed-string/font-size-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/font-size-expected.txt.
        * platform/mac-bigsur-wk1/editing/mac/attributed-string/font-style-variant-effect-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/font-style-variant-effect-expected.txt.
        * platform/mac-bigsur-wk1/editing/mac/attributed-string/font-weight-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/font-weight-expected.txt.
        * platform/mac-bigsur-wk1/editing/mac/attributed-string/letter-spacing-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/letter-spacing-expected.txt.
        * platform/mac-bigsur-wk1/editing/mac/attributed-string/text-decorations-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/text-decorations-expected.txt.
        * platform/mac-bigsur-wk1/editing/mac/attributed-string/vertical-align-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/vertical-align-expected.txt.
        * platform/mac-bigsur-wk1/fast/scrolling/latching/iframe-latch-small-deltas-expected.txt: Copied from LayoutTests/platform/mac-wk1/fast/scrolling/latching/iframe-latch-small-deltas-expected.txt.
        * platform/mac-bigsur-wk2/fast/events/contextmenu-lookup-action-for-image-expected.txt: Added.
        * platform/mac-bigsur-wk2/http/tests/security/mixedContent/websocket/insecure-websocket-in-iframe-expected.txt: Added.
        * platform/mac-bigsur-wk2/http/tests/security/mixedContent/websocket/insecure-websocket-in-main-frame-expected.txt: Added.
        * platform/mac-bigsur-wk2/imported/w3c/web-platform-tests/media-source/mediasource-invalid-codec-expected.txt: Added.
        * platform/mac-bigsur-wk2/imported/w3c/web-platform-tests/service-workers/service-worker/websocket-in-service-worker.https-expected.txt: Added.
        * platform/mac-bigsur-wk2/imported/w3c/web-platform-tests/service-workers/service-worker/websocket.https-expected.txt: Added.
        * platform/mac-bigsur-wk2/imported/w3c/web-platform-tests/websockets/Send-65K-data.any-expected.txt: Added.
        * platform/mac-bigsur-wk2/imported/w3c/web-platform-tests/websockets/Send-binary-65K-arraybuffer.any-expected.txt: Added.
        * platform/mac-bigsur-wk2/imported/w3c/web-platform-tests/websockets/Send-binary-arraybuffer.any-expected.txt: Added.
        * platform/mac-bigsur-wk2/imported/w3c/web-platform-tests/websockets/Send-data.any-expected.txt: Added.
        * platform/mac-bigsur-wk2/imported/w3c/web-platform-tests/websockets/Send-paired-surrogates.any-expected.txt: Added.
        * platform/mac-bigsur-wk2/imported/w3c/web-platform-tests/websockets/basic-auth.any-expected.txt: Added.
        * platform/mac-bigsur-wk2/imported/w3c/web-platform-tests/websockets/basic-auth.any.worker-expected.txt: Added.
        * platform/mac-bigsur-wk2/imported/w3c/web-platform-tests/websockets/interfaces/WebSocket/bufferedAmount/bufferedAmount-arraybuffer-expected.txt: Added.
        * platform/mac-bigsur-wk2/imported/w3c/web-platform-tests/websockets/interfaces/WebSocket/bufferedAmount/bufferedAmount-blob-expected.txt: Added.
        * platform/mac-bigsur-wk2/imported/w3c/web-platform-tests/websockets/interfaces/WebSocket/bufferedAmount/bufferedAmount-getting-expected.txt: Added.
        * platform/mac-bigsur-wk2/imported/w3c/web-platform-tests/websockets/interfaces/WebSocket/bufferedAmount/bufferedAmount-large-expected.txt: Added.
        * platform/mac-bigsur-wk2/imported/w3c/web-platform-tests/websockets/interfaces/WebSocket/bufferedAmount/bufferedAmount-unicode-expected.txt: Added.
        * platform/mac-bigsur-wk2/imported/w3c/web-platform-tests/websockets/remove-own-iframe-during-onerror.window-expected.txt: Added.
        * platform/mac-bigsur/fast/forms/button-sizes-expected.txt: Copied from LayoutTests/platform/mac/fast/forms/button-sizes-expected.txt.
        * platform/mac-bigsur/fast/forms/input-appearance-spinbutton-expected.txt: Copied from LayoutTests/platform/mac/fast/forms/input-appearance-spinbutton-expected.txt.
        * platform/mac-bigsur/fast/forms/number/number-appearance-spinbutton-disabled-readonly-expected.txt: Copied from LayoutTests/platform/mac/fast/forms/number/number-appearance-spinbutton-disabled-readonly-expected.txt.
        * platform/mac-bigsur/fast/forms/select/optgroup-rendering-expected.txt: Copied from LayoutTests/platform/mac/fast/forms/select/optgroup-rendering-expected.txt.
        * platform/mac-bigsur/fast/text/basic/014-expected.txt: Copied from LayoutTests/platform/mac/fast/text/basic/014-expected.txt.
        * platform/mac-bigsur/fast/text/capitalize-boundaries-expected.txt: Copied from LayoutTests/platform/mac/fast/text/capitalize-boundaries-expected.txt.
        * platform/mac-bigsur/fast/text/hyphenate-avoid-orphaned-word-expected.txt: Copied from LayoutTests/platform/mac/fast/text/hyphenate-avoid-orphaned-word-expected.txt.
        * platform/mac-bigsur/fast/text/hyphenate-character-expected.txt: Copied from LayoutTests/platform/mac/fast/text/hyphenate-character-expected.txt.
        * platform/mac-bigsur/fast/text/hyphenate-first-word-expected.txt: Copied from LayoutTests/platform/mac/fast/text/hyphenate-first-word-expected.txt.
        * platform/mac-bigsur/fast/text/hyphenate-limit-before-after-expected.txt: Copied from LayoutTests/platform/mac/fast/text/hyphenate-limit-before-after-expected.txt.
        * platform/mac-bigsur/fast/text/hyphenate-limit-lines-expected.txt: Copied from LayoutTests/platform/mac/fast/text/hyphenate-limit-lines-expected.txt.
        * platform/mac-bigsur/fast/text/hyphenate-locale-expected.txt: Copied from LayoutTests/platform/mac/fast/text/hyphenate-locale-expected.txt.
        * platform/mac-bigsur/fast/text/hyphens-expected.txt: Copied from LayoutTests/platform/mac/fast/text/hyphens-expected.txt.
        * platform/mac-bigsur/fast/text/midword-break-after-breakable-char-expected.txt: Copied from LayoutTests/platform/mac/fast/text/midword-break-after-breakable-char-expected.txt.
        * platform/mac-bigsur/inspector/css/get-system-fonts-expected.txt: Added.
        * platform/mac-bigsur/media/media-source/mediasource-addsourcebuffer-expected.txt: Added.
        * platform/mac-bigsur/media/media-source/mediasource-invalid-codec-expected.txt: Added.
        * platform/mac-bigsur/platform/mac/fast/loader/file-url-mimetypes-3-expected.txt: Added.
        * platform/mac-bigsur/platform/mac/fast/text/international/Geeza-Pro-vertical-metrics-adjustment-expected.txt: Added.
        * platform/mac-catalina-wk1/editing/mac/attributed-string/anchor-element-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/anchor-element-expected.txt.
        * platform/mac-catalina-wk1/editing/mac/attributed-string/attrib-string-colors-with-color-filter-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/attrib-string-colors-with-color-filter-expected.txt.
        * platform/mac-catalina-wk1/editing/mac/attributed-string/attribute-string-for-copy-with-color-filter-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/attribute-string-for-copy-with-color-filter-expected.txt.
        * platform/mac-catalina-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-1-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-1-expected.txt.
        * platform/mac-catalina-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-2-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-2-expected.txt.
        * platform/mac-catalina-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-3-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-3-expected.txt.
        * platform/mac-catalina-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-4-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-4-expected.txt.
        * platform/mac-catalina-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-5-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-5-expected.txt.
        * platform/mac-catalina-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-with-style-1-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-with-style-1-expected.txt.
        * platform/mac-catalina-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-with-style-2-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-with-style-2-expected.txt.
        * platform/mac-catalina-wk1/editing/mac/attributed-string/attributed-string-for-typing-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/attributed-string-for-typing-expected.txt.
        * platform/mac-catalina-wk1/editing/mac/attributed-string/attributed-string-for-typing-with-color-filter-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/attributed-string-for-typing-with-color-filter-expected.txt.
        * platform/mac-catalina-wk1/editing/mac/attributed-string/basic-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/basic-expected.txt.
        * platform/mac-catalina-wk1/editing/mac/attributed-string/comment-cdata-section-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/comment-cdata-section-expected.txt.
        * platform/mac-catalina-wk1/editing/mac/attributed-string/font-size-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/font-size-expected.txt.
        * platform/mac-catalina-wk1/editing/mac/attributed-string/font-style-variant-effect-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/font-style-variant-effect-expected.txt.
        * platform/mac-catalina-wk1/editing/mac/attributed-string/font-weight-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/font-weight-expected.txt.
        * platform/mac-catalina-wk1/editing/mac/attributed-string/letter-spacing-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/letter-spacing-expected.txt.
        * platform/mac-catalina-wk1/editing/mac/attributed-string/text-decorations-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/text-decorations-expected.txt.
        * platform/mac-catalina-wk1/editing/mac/attributed-string/vertical-align-expected.txt: Copied from LayoutTests/platform/mac-wk1/editing/mac/attributed-string/vertical-align-expected.txt.
        * platform/mac-catalina-wk1/fast/scrolling/latching/iframe-latch-small-deltas-expected.txt: Copied from LayoutTests/platform/mac-wk1/fast/scrolling/latching/iframe-latch-small-deltas-expected.txt.
        * platform/mac-catalina-wk2/fast/events/contextmenu-lookup-action-for-image-expected.txt: Added.
        * platform/mac-catalina-wk2/http/tests/security/mixedContent/websocket/insecure-websocket-in-iframe-expected.txt: Added.
        * platform/mac-catalina-wk2/http/tests/security/mixedContent/websocket/insecure-websocket-in-main-frame-expected.txt: Added.
        * platform/mac-catalina-wk2/imported/w3c/web-platform-tests/media-source/mediasource-invalid-codec-expected.txt: Added.
        * platform/mac-catalina-wk2/imported/w3c/web-platform-tests/service-workers/service-worker/websocket-in-service-worker.https-expected.txt: Added.
        * platform/mac-catalina-wk2/imported/w3c/web-platform-tests/service-workers/service-worker/websocket.https-expected.txt: Added.
        * platform/mac-catalina-wk2/imported/w3c/web-platform-tests/websockets/Send-65K-data.any-expected.txt: Added.
        * platform/mac-catalina-wk2/imported/w3c/web-platform-tests/websockets/Send-binary-65K-arraybuffer.any-expected.txt: Added.
        * platform/mac-catalina-wk2/imported/w3c/web-platform-tests/websockets/Send-binary-arraybuffer.any-expected.txt: Added.
        * platform/mac-catalina-wk2/imported/w3c/web-platform-tests/websockets/Send-data.any-expected.txt: Added.
        * platform/mac-catalina-wk2/imported/w3c/web-platform-tests/websockets/Send-paired-surrogates.any-expected.txt: Added.
        * platform/mac-catalina-wk2/imported/w3c/web-platform-tests/websockets/basic-auth.any-expected.txt: Added.
        * platform/mac-catalina-wk2/imported/w3c/web-platform-tests/websockets/basic-auth.any.worker-expected.txt: Added.
        * platform/mac-catalina-wk2/imported/w3c/web-platform-tests/websockets/interfaces/WebSocket/bufferedAmount/bufferedAmount-arraybuffer-expected.txt: Added.
        * platform/mac-catalina-wk2/imported/w3c/web-platform-tests/websockets/interfaces/WebSocket/bufferedAmount/bufferedAmount-blob-expected.txt: Added.
        * platform/mac-catalina-wk2/imported/w3c/web-platform-tests/websockets/interfaces/WebSocket/bufferedAmount/bufferedAmount-getting-expected.txt: Added.
        * platform/mac-catalina-wk2/imported/w3c/web-platform-tests/websockets/interfaces/WebSocket/bufferedAmount/bufferedAmount-large-expected.txt: Added.
        * platform/mac-catalina-wk2/imported/w3c/web-platform-tests/websockets/interfaces/WebSocket/bufferedAmount/bufferedAmount-unicode-expected.txt: Added.
        * platform/mac-catalina-wk2/imported/w3c/web-platform-tests/websockets/remove-own-iframe-during-onerror.window-expected.txt: Added.
        * platform/mac-catalina/fast/text/basic/014-expected.txt: Copied from LayoutTests/platform/mac/fast/text/basic/014-expected.txt.
        * platform/mac-catalina/fast/text/capitalize-boundaries-expected.txt: Copied from LayoutTests/platform/mac/fast/text/capitalize-boundaries-expected.txt.
        * platform/mac-catalina/fast/text/hyphenate-avoid-orphaned-word-expected.txt: Copied from LayoutTests/platform/mac/fast/text/hyphenate-avoid-orphaned-word-expected.txt.
        * platform/mac-catalina/fast/text/hyphenate-character-expected.txt: Copied from LayoutTests/platform/mac/fast/text/hyphenate-character-expected.txt.
        * platform/mac-catalina/fast/text/hyphenate-first-word-expected.txt: Copied from LayoutTests/platform/mac/fast/text/hyphenate-first-word-expected.txt.
        * platform/mac-catalina/fast/text/hyphenate-limit-before-after-expected.txt: Copied from LayoutTests/platform/mac/fast/text/hyphenate-limit-before-after-expected.txt.
        * platform/mac-catalina/fast/text/hyphenate-limit-lines-expected.txt: Copied from LayoutTests/platform/mac/fast/text/hyphenate-limit-lines-expected.txt.
        * platform/mac-catalina/fast/text/hyphenate-locale-expected.txt: Copied from LayoutTests/platform/mac/fast/text/hyphenate-locale-expected.txt.
        * platform/mac-catalina/fast/text/hyphens-expected.txt: Copied from LayoutTests/platform/mac/fast/text/hyphens-expected.txt.
        * platform/mac-catalina/fast/text/midword-break-after-breakable-char-expected.txt: Copied from LayoutTests/platform/mac/fast/text/midword-break-after-breakable-char-expected.txt.
        * platform/mac-catalina/imported/w3c/web-platform-tests/media-source/mediasource-addsourcebuffer-expected.txt: Added.
        * platform/mac-catalina/imported/w3c/web-platform-tests/media-source/mediasource-invalid-codec-expected.txt: Added.
        * platform/mac-catalina/inspector/css/get-system-fonts-expected.txt: Added.
        * platform/mac-catalina/platform/mac/fast/loader/file-url-mimetypes-3-expected.txt: Added.
        * platform/mac-catalina/platform/mac/fast/text/international/Geeza-Pro-vertical-metrics-adjustment-expected.txt: Added.
        * platform/mac-wk1/TestExpectations:
        * platform/mac-wk1/editing/mac/attributed-string/anchor-element-expected.txt:
        * platform/mac-wk1/editing/mac/attributed-string/attrib-string-colors-with-color-filter-expected.txt:
        * platform/mac-wk1/editing/mac/attributed-string/attribute-string-for-copy-with-color-filter-expected.txt:
        * platform/mac-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-1-expected.txt:
        * platform/mac-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-2-expected.txt:
        * platform/mac-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-3-expected.txt:
        * platform/mac-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-4-expected.txt:
        * platform/mac-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-5-expected.txt:
        * platform/mac-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-with-style-1-expected.txt:
        * platform/mac-wk1/editing/mac/attributed-string/attributed-string-across-shadow-boundaries-with-style-2-expected.txt:
        * platform/mac-wk1/editing/mac/attributed-string/attributed-string-for-typing-expected.txt:
        * platform/mac-wk1/editing/mac/attributed-string/attributed-string-for-typing-with-color-filter-expected.txt:
        * platform/mac-wk1/editing/mac/attributed-string/basic-expected.txt:
        * platform/mac-wk1/editing/mac/attributed-string/comment-cdata-section-expected.txt:
        * platform/mac-wk1/editing/mac/attributed-string/font-size-expected.txt:
        * platform/mac-wk1/editing/mac/attributed-string/font-style-variant-effect-expected.txt:
        * platform/mac-wk1/editing/mac/attributed-string/font-weight-expected.txt:
        * platform/mac-wk1/editing/mac/attributed-string/letter-spacing-expected.txt:
        * platform/mac-wk1/editing/mac/attributed-string/text-decorations-expected.txt:
        * platform/mac-wk1/editing/mac/attributed-string/vertical-align-expected.txt:
        * platform/mac-wk1/fast/scrolling/latching/iframe-latch-small-deltas-expected.txt:
        * platform/mac-wk2/TestExpectations:
        * platform/mac-wk2/fast/events/contextmenu-lookup-action-for-image-expected.txt: Added.
        * platform/mac-wk2/http/tests/security/mixedContent/websocket/insecure-websocket-in-iframe-expected.txt: Added.
        * platform/mac-wk2/http/tests/security/mixedContent/websocket/insecure-websocket-in-main-frame-expected.txt: Added.
        * platform/mac-wk2/imported/w3c/web-platform-tests/media-source/mediasource-invalid-codec-expected.txt: Added.
        * platform/mac-wk2/imported/w3c/web-platform-tests/service-workers/service-worker/websocket-in-service-worker.https-expected.txt: Added.
        * platform/mac-wk2/imported/w3c/web-platform-tests/service-workers/service-worker/websocket.https-expected.txt: Added.
        * platform/mac-wk2/imported/w3c/web-platform-tests/websockets/Send-65K-data.any-expected.txt: Added.
        * platform/mac-wk2/imported/w3c/web-platform-tests/websockets/Send-binary-65K-arraybuffer.any-expected.txt: Added.
        * platform/mac-wk2/imported/w3c/web-platform-tests/websockets/Send-binary-arraybuffer.any-expected.txt: Added.
        * platform/mac-wk2/imported/w3c/web-platform-tests/websockets/Send-data.any-expected.txt: Added.
        * platform/mac-wk2/imported/w3c/web-platform-tests/websockets/Send-paired-surrogates.any-expected.txt: Added.
        * platform/mac-wk2/imported/w3c/web-platform-tests/websockets/basic-auth.any-expected.txt: Added.
        * platform/mac-wk2/imported/w3c/web-platform-tests/websockets/basic-auth.any.worker-expected.txt: Added.
        * platform/mac-wk2/imported/w3c/web-platform-tests/websockets/interfaces/WebSocket/bufferedAmount/bufferedAmount-arraybuffer-expected.txt: Added.
        * platform/mac-wk2/imported/w3c/web-platform-tests/websockets/interfaces/WebSocket/bufferedAmount/bufferedAmount-blob-expected.txt: Added.
        * platform/mac-wk2/imported/w3c/web-platform-tests/websockets/interfaces/WebSocket/bufferedAmount/bufferedAmount-getting-expected.txt: Added.
        * platform/mac-wk2/imported/w3c/web-platform-tests/websockets/interfaces/WebSocket/bufferedAmount/bufferedAmount-large-expected.txt: Added.
        * platform/mac-wk2/imported/w3c/web-platform-tests/websockets/interfaces/WebSocket/bufferedAmount/bufferedAmount-unicode-expected.txt: Added.
        * platform/mac-wk2/imported/w3c/web-platform-tests/websockets/remove-own-iframe-during-onerror.window-expected.txt: Added.
        * platform/mac/TestExpectations:
        * platform/mac/fast/forms/button-sizes-expected.txt:
        * platform/mac/fast/forms/input-appearance-spinbutton-expected.txt:
        * platform/mac/fast/forms/number/number-appearance-spinbutton-disabled-readonly-expected.txt:
        * platform/mac/fast/forms/select/optgroup-rendering-expected.txt:
        * platform/mac/fast/text/basic/014-expected.txt:
        * platform/mac/fast/text/capitalize-boundaries-expected.txt:
        * platform/mac/fast/text/hyphenate-avoid-orphaned-word-expected.txt:
        * platform/mac/fast/text/hyphenate-character-expected.txt:
        * platform/mac/fast/text/hyphenate-first-word-expected.txt:
        * platform/mac/fast/text/hyphenate-limit-before-after-expected.txt:
        * platform/mac/fast/text/hyphenate-limit-lines-expected.txt:
        * platform/mac/fast/text/hyphenate-locale-expected.txt:
        * platform/mac/fast/text/hyphens-expected.txt:
        * platform/mac/fast/text/midword-break-after-breakable-char-expected.txt:
        * platform/mac/inspector/css/get-system-fonts-expected.txt: Added.
        * platform/mac/media/media-source/media-source-webm-vp8-malformed-header-expected.png: Added.
        * platform/mac/platform/mac/fast/loader/file-url-mimetypes-3-expected.txt: Added.

2021-07-22  Ayumi Kojima  <ayumi_kojima@apple.com>

        REGRESSION: [iOS] ASSERTION FAILED: !m_messageReceiverMapCount under WebKit::RemoteAudioHardwareListener::~RemoteAudioHardwareListener().
        https://bugs.webkit.org/show_bug.cgi?id=228038

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-22  Eric Hutchison  <ehutchison@apple.com>

        [Mac wk2] http/tests/media/hls/hls-webvtt-seek-backwards.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=228189.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-07-22  Sihui Liu  <sihui_liu@apple.com>

        [macOS Debug] Layout Test imported/w3c/web-platform-tests/IndexedDB/open-request-queue.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=172044

        Reviewed by Chris Dumez.

        * platform/mac-wk1/TestExpectations:
        * platform/mac-wk2/TestExpectations:
        * storage/indexeddb/delete-in-upgradeneeded-close-in-open-success-expected.txt:
        * storage/indexeddb/delete-in-upgradeneeded-close-in-open-success-private-expected.txt:
        * storage/indexeddb/delete-in-upgradeneeded-close-in-versionchange-expected.txt:
        * storage/indexeddb/delete-in-upgradeneeded-close-in-versionchange-private-expected.txt:
        * storage/indexeddb/deletedatabase-delayed-by-open-and-versionchange-expected.txt:
        * storage/indexeddb/deletedatabase-delayed-by-open-and-versionchange-private-expected.txt:
        * storage/indexeddb/deletedatabase-delayed-by-open-and-versionchange-workers-expected.txt:
        * storage/indexeddb/intversion-long-queue-expected.txt:
        * storage/indexeddb/intversion-long-queue-private-expected.txt:
        * storage/indexeddb/modern/deletedatabase-2-private.html: Removed. This test checks if a delete request is
        started when there are ongoing open requests. We are removing this behavior to match spec so we don't need to
        keep the test.
        * storage/indexeddb/modern/deletedatabase-2.html: Removed. Ditto.
        * storage/indexeddb/modern/resources/deletedatabase-2.js: Removed. Ditto.
        * storage/indexeddb/resources/delete-in-upgradeneeded-close-in-open-success.js:
        (versionChangeCallback):
        (deleteBlockedCallback):
        * storage/indexeddb/resources/delete-in-upgradeneeded-close-in-versionchange.js:
        (initiallyDeleted):
        * storage/indexeddb/resources/deletedatabase-delayed-by-open-and-versionchange.js:
        (onOpenSuccess):

2021-07-22  Alan Bujtas  <zalan@apple.com>

        REGRESSION(r269745) Google Developers maps does not fully load
        https://bugs.webkit.org/show_bug.cgi?id=228182
        <rdar://79787819>

        Reviewed by Antti Koivisto.

        * fast/inline/incorrect-sizing-with-calc-expected.html: Added.
        * fast/inline/incorrect-sizing-with-calc.html: Added.

2021-07-21  Sihui Liu  <sihui_liu@apple.com>

        Update LayoutTests/TestExpectations for imported w3c IndexedDB tests
        https://bugs.webkit.org/show_bug.cgi?id=228169

        Reviewed by Chris Dumez.

        Update LayoutTests/TestExpectations based on latest test results as we have fixed some existing issues, and we
        no longer expect these tests to fail.

        * TestExpectations:
        * platform/wpe/TestExpectations:

2021-07-21  Ayumi Kojima  <ayumi_kojima@apple.com>

        [iOS Debug] media/media-usage-state-private-browsing.html is crashing.
        https://bugs.webkit.org/show_bug.cgi?id=228171

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-21  Eric Hutchison  <ehutchison@apple.com>

        REGRESSION(r279971): [ Mac , iOS ] imported/w3c/web-platform-tests/webmessaging/broadcastchannel/blobs.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=228168.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-07-21  Ayumi Kojima  <ayumi_kojima@apple.com>

        [iOS Debug] media/media-fragments/TC0003.html is flaky crashing.
        https://bugs.webkit.org/show_bug.cgi?id=228167

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-21  Ayumi Kojima  <ayumi_kojima@apple.com>

        [iOS Debug] http/tests/resourceLoadStatistics/website-data-removal-for-site-with-user-interaction.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=228164

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-21  Ayumi Kojima  <ayumi_kojima@apple.com>

        [iOS] http/wpt/webrtc/transfer-datachannel-service-worker.https.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=228165

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-21  Carlos Alberto Lopez Perez  <clopez@igalia.com>

        [GTK][WPE] Update test expectations after r279987 and r280077.

        Unreviewed test gardening.

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:

2021-07-21  Robert Jenner  <Jenner@apple.com>

        [ Win EWS ] Multiple fast layout-tests are slowing down results
        https://bugs.webkit.org/show_bug.cgi?id=228162

        Unreviewed Windows test gardening to speed up EWS.

        * platform/win/TestExpectations:

2021-07-21  Eric Hutchison  <ehutchison@apple.com>

        Grouped/organized expectations for 227881.
        https://bugs.webkit.org/show_bug.cgi?id=227728.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-07-21  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for inspector/canvas/recording-2d-full.html and inspector/canvas/recording-2d-full.html .
        https://bugs.webkit.org/show_bug.cgi?id=227881.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-07-21  Eric Hutchison  <ehutchison@apple.com>

        Update expectations for inspector/canvas/recording-webgl-snapshots.html.
        https://bugs.webkit.org/show_bug.cgi?id=227881.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-07-21  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur Release wk2 arm64 & iOS] http/tests/appcache/fail-on-update-2.html (layout-test) is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=225665

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-21  Rob Buis  <rbuis@igalia.com>

        [AspectRatio] Fix select-element-001.html
        https://bugs.webkit.org/show_bug.cgi?id=228144

        Reviewed by Manuel Rego Casasnovas.

        Now select-element-001.html passes.

        * TestExpectations:

2021-07-20  Ayumi Kojima  <ayumi_kojima@apple.com>

        [iOS] http/tests/appcache/fail-on-update.html is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=227891

        Updated test expectations from [Pass Timeouts] to [ DumpJSConsoleLogInStdErr Slow ].
        
        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-20  Eric Hutchison  <ehutchison@apple.com>

        [ Mac wk2 ]inspector/canvas/recording-bitmaprenderer-full.html is a flaky failure and timeout.
        https://bugs.webkit.org/show_bug.cgi?id=228131.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-07-20  Eric Hutchison  <ehutchison@apple.com>

        [ Mac , iOS Debug ] imported/w3c/web-platform-tests/html/cross-origin-opener-policy/resource-popup.https.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=228127.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-07-20  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for svg/animations/smil-leak-list-property-instances.svg.
        https://bugs.webkit.org/show_bug.cgi?id=214574.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-07-20  Myles C. Maxfield  <mmaxfield@apple.com>

        REGRESSION(r272379): Characters with no fonts that support them are drawn as two .notdef glyphs in the fast text codepath
        https://bugs.webkit.org/show_bug.cgi?id=228097
        <rdar://problem/80798113>

        Reviewed by Alan Bujtas.

        * fast/text/double-notdef-simple-text-codepath-expected.html: Added.
        * fast/text/double-notdef-simple-text-codepath.html: Added.

2021-07-20  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Test gardening, update baselines after r279987
        https://bugs.webkit.org/show_bug.cgi?id=228109

        That change enabled dark mode support, which added dark backgrounds
        in many cases.

        Unreviewed test gardening.

        * platform/glib/compositing/backing/form-controls-backing-expected.txt:
        * platform/glib/fast/box-sizing/percentage-height-expected.txt:
        * platform/glib/fast/replaced/width100percent-searchfield-expected.txt:
        * platform/glib/svg/custom/foreign-object-skew-expected.txt:
        * platform/glib/tables/mozilla/bugs/bug92647-2-expected.txt:
        * platform/gtk/css2.1/20110323/replaced-elements-001-expected.txt:
        * platform/gtk/css3/flexbox/button-expected.txt:
        * platform/gtk/editing/selection/3690703-2-expected.txt:
        * platform/gtk/editing/selection/3690703-expected.txt:
        * platform/gtk/editing/selection/3690719-expected.txt:
        * platform/gtk/editing/selection/4397952-expected.txt:
        * platform/gtk/editing/selection/5240265-expected.txt:
        * platform/gtk/editing/selection/selection-button-text-expected.txt:
        * platform/gtk/fast/block/float/float-avoidance-expected.txt:
        * platform/gtk/fast/block/positioning/inline-block-relposition-expected.txt:
        * platform/gtk/fast/css/continuationCrash-expected.txt:
        * platform/gtk/fast/css/focus-ring-exists-for-search-field-expected.txt:
        * platform/gtk/fast/css/input-search-padding-expected.txt:
        * platform/gtk/fast/css/margin-top-bottom-dynamic-expected.txt:
        * platform/gtk/fast/css/rtl-ordering-expected.txt:
        * platform/gtk/fast/css/text-input-with-webkit-border-radius-expected.txt:
        * platform/gtk/fast/css/text-overflow-input-expected.txt:
        * platform/gtk/fast/dom/HTMLTableColElement/resize-table-using-col-width-expected.txt:
        * platform/gtk/fast/dom/HTMLTextAreaElement/reset-textarea-expected.txt:
        * platform/gtk/fast/dynamic/positioned-movement-with-positioned-children-expected.txt:
        * platform/gtk/fast/forms/001-expected.txt:
        * platform/gtk/fast/forms/basic-buttons-expected.txt:
        * platform/gtk/fast/forms/basic-selects-expected.txt:
        * platform/gtk/fast/forms/blankbuttons-expected.txt:
        * platform/gtk/fast/forms/box-shadow-override-expected.txt:
        * platform/gtk/fast/forms/button-align-expected.txt:
        * platform/gtk/fast/forms/button-cannot-be-nested-expected.txt:
        * platform/gtk/fast/forms/button-default-title-expected.txt:
        * platform/gtk/fast/forms/button-generated-content-expected.txt:
        * platform/gtk/fast/forms/button-inner-block-reuse-expected.txt:
        * platform/gtk/fast/forms/button-positioned-expected.txt:
        * platform/gtk/fast/forms/button-sizes-expected.txt:
        * platform/gtk/fast/forms/button-style-color-expected.txt:
        * platform/gtk/fast/forms/button-table-styles-expected.txt:
        * platform/gtk/fast/forms/button-text-transform-expected.txt:
        * platform/gtk/fast/forms/button-white-space-expected.txt:
        * platform/gtk/fast/forms/control-clip-expected.txt:
        * platform/gtk/fast/forms/control-clip-overflow-expected.txt:
        * platform/gtk/fast/forms/control-restrict-line-height-expected.txt:
        * platform/gtk/fast/forms/datalist/datalist-searchinput-appearance-expected.txt:
        * platform/gtk/fast/forms/disabled-select-change-index-expected.txt:
        * platform/gtk/fast/forms/file/file-input-direction-expected.txt:
        * platform/gtk/fast/forms/file/file-input-disabled-expected.txt:
        * platform/gtk/fast/forms/form-element-geometry-expected.txt:
        * platform/gtk/fast/forms/formmove3-expected.txt:
        * platform/gtk/fast/forms/input-appearance-height-expected.txt:
        * platform/gtk/fast/forms/input-button-sizes-expected.txt:
        * platform/gtk/fast/forms/input-first-letter-expected.txt:
        * platform/gtk/fast/forms/input-value-expected.txt:
        * platform/gtk/fast/forms/placeholder-position-expected.txt:
        * platform/gtk/fast/forms/placeholder-pseudo-style-expected.txt:
        * platform/gtk/fast/forms/search-cancel-button-style-sharing-expected.txt:
        * platform/gtk/fast/forms/search-input-rtl-expected.txt:
        * platform/gtk/fast/forms/search-rtl-expected.txt:
        * platform/gtk/fast/forms/search-styled-expected.txt:
        * platform/gtk/fast/forms/search/search-size-with-decorations-expected.txt:
        * platform/gtk/fast/forms/searchfield-heights-expected.txt:
        * platform/gtk/fast/forms/select-baseline-expected.txt:
        * platform/gtk/fast/forms/select-disabled-appearance-expected.txt:
        * platform/gtk/fast/forms/targeted-frame-submission-expected.txt:
        * platform/gtk/fast/html/details-replace-summary-child-expected.txt:
        * platform/gtk/fast/html/details-replace-text-expected.txt:
        * platform/gtk/fast/overflow/scroll-nested-positioned-layer-in-overflow-expected.txt:
        * platform/gtk/fast/overflow/scrollRevealButton-expected.txt:
        * platform/gtk/fast/repaint/search-field-cancel-expected.txt:
        * platform/gtk/fast/replaced/replaced-breaking-expected.txt:
        * platform/gtk/fast/replaced/width100percent-button-expected.txt:
        * platform/gtk/fast/table/append-cells2-expected.txt:
        * platform/gtk/fast/table/remove-td-display-none-expected.txt:
        * platform/gtk/fast/text/international/hindi-spacing-expected.txt:
        * platform/gtk/fast/text/textIteratorNilRenderer-expected.txt:
        * platform/gtk/http/tests/navigation/javascriptlink-frames-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/css/css-color-adjust/rendering/dark-color-scheme/color-scheme-color-property-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/css/css-pseudo/file-chooser-button-display-toggle-crash.tentative-expected.txt:
        * platform/gtk/inspector/css/shadow-scoped-style-expected.txt:
        * platform/gtk/svg/custom/inline-svg-in-xhtml-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug1188-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug1318-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug138725-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug18359-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug2479-2-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug2479-3-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug2479-4-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug26178-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug28928-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug33855-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug39209-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug4429-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug44505-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug46368-1-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug46368-2-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug51037-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug51727-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug52505-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug52506-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug60749-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug68912-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug7342-expected.txt:
        * platform/gtk/tables/mozilla/collapsing_borders/bug41262-4-expected.txt:
        * platform/gtk/tables/mozilla/dom/tableDom-expected.txt:
        * platform/gtk/tables/mozilla/other/move_row-expected.txt:
        * platform/gtk/tables/mozilla_expected_failures/bugs/bug1725-expected.txt:
        * platform/gtk/tables/mozilla_expected_failures/bugs/bug2479-5-expected.txt:
        * platform/gtk/tables/mozilla_expected_failures/bugs/bug58402-2-expected.txt:
        * platform/gtk/tables/mozilla_expected_failures/collapsing_borders/bug41262-5-expected.txt:
        * platform/gtk/tables/mozilla_expected_failures/collapsing_borders/bug41262-6-expected.txt:
        * platform/wpe/css2.1/20110323/replaced-elements-001-expected.txt:
        * platform/wpe/css3/flexbox/button-expected.txt:
        * platform/wpe/fast/block/float/float-avoidance-expected.txt:
        * platform/wpe/fast/block/positioning/inline-block-relposition-expected.txt:
        * platform/wpe/fast/css/continuationCrash-expected.txt:
        * platform/wpe/fast/css/focus-ring-exists-for-search-field-expected.txt:
        * platform/wpe/fast/css/input-search-padding-expected.txt:
        * platform/wpe/fast/css/margin-top-bottom-dynamic-expected.txt:
        * platform/wpe/fast/css/rtl-ordering-expected.txt:
        * platform/wpe/fast/css/text-input-with-webkit-border-radius-expected.txt:
        * platform/wpe/fast/css/text-overflow-input-expected.txt:
        * platform/wpe/fast/dom/HTMLTableColElement/resize-table-using-col-width-expected.txt:
        * platform/wpe/fast/dom/HTMLTextAreaElement/reset-textarea-expected.txt:
        * platform/wpe/fast/dynamic/positioned-movement-with-positioned-children-expected.txt:
        * platform/wpe/fast/html/details-replace-summary-child-expected.txt:
        * platform/wpe/fast/html/details-replace-text-expected.txt:
        * platform/wpe/fast/overflow/scroll-nested-positioned-layer-in-overflow-expected.txt:
        * platform/wpe/fast/overflow/scrollRevealButton-expected.txt:
        * platform/wpe/fast/replaced/replaced-breaking-expected.txt:
        * platform/wpe/fast/replaced/width100percent-button-expected.txt:
        * platform/wpe/fast/table/append-cells2-expected.txt:
        * platform/wpe/fast/table/remove-td-display-none-expected.txt:
        * platform/wpe/fast/text/international/hindi-spacing-expected.txt:
        * platform/wpe/fast/text/textIteratorNilRenderer-expected.txt:
        * platform/wpe/http/tests/navigation/javascriptlink-frames-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/css-color-adjust/rendering/dark-color-scheme/color-scheme-color-property-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/css-pseudo/file-chooser-button-display-toggle-crash.tentative-expected.txt:
        * platform/wpe/svg/custom/inline-svg-in-xhtml-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug1188-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug1318-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug138725-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug18359-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug2479-2-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug2479-3-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug2479-4-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug26178-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug28928-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug33855-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug39209-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug4429-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug44505-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug46368-1-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug46368-2-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug51037-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug51727-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug52505-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug52506-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug60749-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug68912-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug7342-expected.txt:
        * platform/wpe/tables/mozilla/collapsing_borders/bug41262-4-expected.txt:
        * platform/wpe/tables/mozilla/dom/tableDom-expected.txt:
        * platform/wpe/tables/mozilla/other/move_row-expected.txt:
        * platform/wpe/tables/mozilla_expected_failures/bugs/bug1725-expected.txt:
        * platform/wpe/tables/mozilla_expected_failures/bugs/bug2479-5-expected.txt:
        * platform/wpe/tables/mozilla_expected_failures/bugs/bug58402-2-expected.txt:
        * platform/wpe/tables/mozilla_expected_failures/collapsing_borders/bug41262-5-expected.txt:
        * platform/wpe/tables/mozilla_expected_failures/collapsing_borders/bug41262-6-expected.txt:

2021-07-20  Eric Hutchison  <ehutchison@apple.com>

        [iOS Release wk2] imported/w3c/web-platform-tests/fetch/content-type/script.window.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=228114

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-20  Chris Dumez  <cdumez@apple.com>

        REGRESSION (r278702): Cannot login to appaloosa-store.com/users/sign_in
        https://bugs.webkit.org/show_bug.cgi?id=228096
        <rdar://80596391>

        Reviewed by Alex Christensen.

        Add layout test coverage.

        * http/tests/fetch/response-clone-blob-expected.txt: Added.
        * http/tests/fetch/response-clone-blob.html: Added.

2021-07-20  Chris Lord  <clord@igalia.com>

        Canvas and OffscreenCanvas getContext should check if argument is an object before trying to convert it to a dictionary
        https://bugs.webkit.org/show_bug.cgi?id=227792

        Reviewed by Sam Weinig.

        Canvas 2d getContext extraargs tests now pass.

        * platform/glib/TestExpectations:

2021-07-20  Sam Sneddon  <gsnedders@apple.com>

        Change referrer-policy default to strict-origin-when-cross-origin
        https://bugs.webkit.org/show_bug.cgi?id=218909

        Reviewed by Chris Dumez.

        This matches the behavior of other browsers.
        Covered by existing tests and web platform tests we haven't imported yet.

        * http/tests/media/media-stream/enumerate-devices-source-id.html:
        * http/tests/referrer-policy-iframe/unsafe-url/cross-origin-http-http.html:
        * http/tests/resourceLoadStatistics/downgraded-referrer-for-navigation-with-link-query-from-prevalent-resource.html:
        * http/tests/security/contentSecurityPolicy/1.1/frame-ancestors/report-frame-ancestors-cross-origin-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/frame-ancestors/report-frame-ancestors-cross-origin-https-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/frame-ancestors/report-frame-ancestors-same-origin-https-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/securitypolicyviolation-block-image-https-expected.txt:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-css-in-iframe-expected.txt:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-css-in-iframe-report-only-expected.txt:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-css-in-main-frame-expected.txt:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-image-in-iframe-expected.txt:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-image-in-iframe-with-enforced-and-report-policies-expected.txt:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-image-in-main-frame-expected.txt:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-plugin-in-iframe-expected.txt:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-plugin-in-main-frame-expected.txt:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-script-in-iframe-expected.txt:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-script-in-main-frame-expected.txt:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-xhr-asynchronous-in-iframe-expected.txt:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-xhr-asynchronous-in-main-frame-expected.txt:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-xhr-synchronous-in-iframe-expected.txt:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-xhr-synchronous-in-main-frame-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-cross-origin-no-cookies-when-private-browsing-enabled.py:
        * http/tests/security/contentSecurityPolicy/report-cross-origin-no-cookies-when-private-browsing-toggled.py:
        * http/tests/security/contentSecurityPolicy/report-cross-origin-no-cookies.py:
        * http/tests/security/contentSecurityPolicy/report-status-code-zero-when-using-https-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-uri-scheme-relative.py:
        * http/tests/security/referrer-policy-header-expected.txt:
        * http/tests/security/referrer-policy-header-multipart-expected.txt:
        * http/tests/security/referrer-policy-header-test.js:
        * http/wpt/beacon/cors/cors-preflight-blob-failure.html:
        * http/wpt/beacon/cors/cors-preflight-blob-success.html:
        * http/wpt/beacon/cors/cors-preflight-redirect-from-crossorigin-to-sameorigin.html:
        * http/wpt/html/browsers/windows/browsing-context.html:
        * platform/mac-wk1/imported/w3c/web-platform-tests/fetch/api/redirect/redirect-referrer.any-expected.txt: Added.
        * platform/mac-wk1/imported/w3c/web-platform-tests/fetch/api/redirect/redirect-referrer.any.worker-expected.txt: Added.
        * platform/wk2/http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-css-in-iframe-expected.txt:
        * platform/wk2/http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-css-in-main-frame-expected.txt:
        * platform/wk2/http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-image-in-iframe-expected.txt:
        * platform/wk2/http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-image-in-iframe-with-enforced-and-report-policies-expected.txt:
        * platform/wk2/http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-image-in-main-frame-expected.txt:
        * platform/wk2/http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-plugin-in-iframe-expected.txt:
        * platform/wk2/http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-plugin-in-main-frame-expected.txt:
        * platform/wk2/http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-script-in-iframe-expected.txt:
        * platform/wk2/http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-script-in-main-frame-expected.txt:
        * platform/wk2/http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-xhr-asynchronous-in-iframe-expected.txt:
        * platform/wk2/http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-xhr-asynchronous-in-main-frame-expected.txt:
        * platform/wk2/http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-xhr-synchronous-in-iframe-expected.txt:
        * platform/wk2/http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-xhr-synchronous-in-main-frame-expected.txt:

2021-07-20  Ryan Haddad  <ryanhaddad@apple.com>

        Unreviewed Windows test gardening.

        * platform/win/TestExpectations:

2021-07-20  Ziran Sun  <zsun@igalia.com>

        Images as grid items should use the overridingLogicalWidth when defined to compute the logical Height
        https://bugs.webkit.org/show_bug.cgi?id=228022

        Reviewed by Javier Fernandez.

        Update TestExpectations as 3 failed grid WPT tests are now passing.

        * TestExpectations:

2021-07-20  Rob Buis  <rbuis@igalia.com>

        Fix grid aspect-ratio tests
        https://bugs.webkit.org/show_bug.cgi?id=225860

        Reviewed by Javier Fernandez.

        Unskip tests that now pass.

        * TestExpectations:

2021-07-19  Robert Jenner  <Jenner@apple.com>

        [BigSur Release Wk2 Arm64] inspector/css/node-styles-refreshed.html is a flaky failure (224788)
        https://bugs.webkit.org/show_bug.cgi?id=224788

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-07-19  Robert Jenner  <Jenner@apple.com>

        [BigSur Wk1 Release] imported/w3c/web-platform-tests/css/css-sizing/aspect-ratio/replaced-element-017.html is a flaky image failure
        https://bugs.webkit.org/show_bug.cgi?id=225420

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-07-19  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for imported/w3c/web-platform-tests/speech-api/SpeechSynthesis-speak-events.html.
        https://bugs.webkit.org/show_bug.cgi?id=227501.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-19  Eric Hutchison  <ehutchison@apple.com>

        Update expectations for imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-stretch-properties-dynamic-001.html.
        https://bugs.webkit.org/show_bug.cgi?id=228094.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-07-19  Robert Jenner  <Jenner@apple.com>

        [BigSur Wk1] svg/filters/feDiffuseLighting-bottomRightPixel.html is a flaky image failure
        https://bugs.webkit.org/show_bug.cgi?id=225470

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-07-19  Robert Jenner  <Jenner@apple.com>

        [BigSur Wk1 Release] imported/w3c/web-platform-tests/css/css-flexbox/abspos/position-absolute-containing-block-002.html is a flaky image failure
        https://bugs.webkit.org/show_bug.cgi?id=225490

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-07-19  Robert Jenner  <Jenner@apple.com>

        [BigSur Wk1 Release] imported/w3c/web-platform-tests/css/css-sizing/aspect-ratio/replaced-element-023.html is a flaky image failure
        https://bugs.webkit.org/show_bug.cgi?id=225495

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-07-19  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ macOS iOS ] crypto/crypto-random-values-oom.html is a flakey timeout.
        https://bugs.webkit.org/show_bug.cgi?id=223949

        Unreviewed test gardening.

        Updated test expectations due to test still appearing flaky.

        * platform/ios-simulator/TestExpectations:

2021-07-19  Ayumi Kojima  <ayumi_kojima@apple.com>

        [MacOS wk1 Release] media/modern-media-controls/scrubber-support/scrubber-support-drag.html is flaky timing out.
        https://bugs.webkit.org/show_bug.cgi?id=228091

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-07-19  Chris Dumez  <cdumez@apple.com>

        Unreviewed, mark imported/w3c/web-platform-tests/html/semantics/links/links-created-by-a-and-area-elements/htmlanchorelement_noopener.html as flaky on WK1.
        https://bugs.webkit.org/show_bug.cgi?id=228089

        * platform/mac-wk1/TestExpectations:

2021-07-19  Eric Hutchison  <ehutchison@apple.com>

        [ Mac wk2 ]Updated test expectations for media/video-seek-with-negative-playback.html and removed obsolete expectations in platforms/mac.
        https://bugs.webkit.org/show_bug.cgi?id=228087.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-07-19  Chris Dumez  <cdumez@apple.com>

        Unreviewed, land test baselines for cross-origin-opener-policy tests
        https://bugs.webkit.org/show_bug.cgi?id=228080

        * TestExpectations:

2021-07-19  Ayumi Kojima  <ayumi_kojima@apple.com>

        [MacOS wk2 & iOS] 2 fast/canvas tests are flaky timeouts
        https://bugs.webkit.org/show_bug.cgi?id=228082

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-07-19  Eric Hutchison  <ehutchison@apple.com>

        [ BigSur Release wk1 ] media/video-restricted-no-preload-auto.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=228084.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-07-19  Eric Hutchison  <ehutchison@apple.com>

        [MacOS Wk1] media/video-pause-immediately.html is flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=227136.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-07-19  Eric Hutchison  <ehutchison@apple.com>

        [Mac wk1 Debug] webaudio/audioworket-out-of-memory.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=227845.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-07-19  Ziran Sun  <zsun@igalia.com>

        [css-grid] Images as grid items should use the overridingLogicalHeight when defined to compute the logical width
        https://bugs.webkit.org/show_bug.cgi?id=227984

        Reviewed by Javier Fernandez.
        
        9 grid WPT tests are now passing.

        * TestExpectations:

2021-07-19  Ziran Sun  <zsun@igalia.com>

        [CSS-grid] Ignore the aspect-ratio of a replaced element if stretch alignments are applied to both axes
        https://bugs.webkit.org/show_bug.cgi?id=227573

        Reviewed by Javier Fernandez.

        Two grid WPT tests are now passing.

        * TestExpectations:

2021-07-16  Simon Fraser  <simon.fraser@apple.com>

        getBoundingClientRect() returns the incorrect rectangle on elements whose parent element is set -webkit-column-count
        https://bugs.webkit.org/show_bug.cgi?id=99959
        rdar://80106111

        Reviewed by Alan Bujtas.

        These tests have all progressed.

        * fast/multicol/client-rects-spanners-complex.html:
        * fast/multicol/client-rects-spanners.html:
        * fast/multicol/client-rects.html:
        * fast/multicol/newmulticol/client-rects.html:
        * imported/blink/fast/multicol/client-rects-rtl-expected.html:
        * imported/blink/fast/multicol/client-rects-rtl.html: This test appeared to be hand-coded to the incorrect old behavior.
        * platform/ios/fast/multicol/client-rects-expected.txt:
        * platform/ios/fast/multicol/client-rects-spanners-complex-expected.txt:
        * platform/ios/fast/multicol/client-rects-spanners-expected.txt:
        * platform/ios/fast/multicol/newmulticol/client-rects-expected.txt:
        * platform/mac/fast/multicol/client-rects-expected.txt:
        * platform/mac/fast/multicol/client-rects-spanners-complex-expected.txt:
        * platform/mac/fast/multicol/client-rects-spanners-expected.txt:
        * platform/mac/fast/multicol/newmulticol/client-rects-expected.txt:

2021-07-16  Eric Hutchison  <ehutchison@apple.com>

        [MacOS Release wk1] media/modern-media-controls/volume-support/volume-support-drag-to-mute.html is a flaky fail and timeout.
        https://bugs.webkit.org/show_bug.cgi?id=228042.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-07-16  Truitt Savell  <tsavell@apple.com>

        accessibility/loading-iframe-sends-notification.html is a flaky timeout
        rdar://80331434

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-07-16  Eric Hutchison  <ehutchison@apple.com>

        Multiple Canvas tests flaky crash, flaky fail.
        https://bugs.webkit.org/show_bug.cgi?id=227881.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-07-16  Ayumi Kojima  <ayumi_kojima@apple.com>

        [MacOS wk2] inspector/canvas/recording-bitmaprenderer-frameCount.html is flaky failing and timing out.
        https://bugs.webkit.org/show_bug.cgi?id=228034

        Unreviewed test gardeing.

        * platform/mac-wk2/TestExpectations:

2021-07-16  Ayumi Kojima  <ayumi_kojima@apple.com>

        [MacOS wk2] inspector/canvas/setShaderProgramHighlighted.html is flaky failing and timing out.
        https://bugs.webkit.org/show_bug.cgi?id=228030

        Unreviewed test gardeing.

        * platform/mac-wk2/TestExpectations:

2021-07-16  Truitt Savell  <tsavell@apple.com>

        Modify expectations for media/modern-media-controls/overflow-support/chapters.html
        https://bugs.webkit.org/show_bug.cgi?id=227055

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-07-16  Truitt Savell  <tsavell@apple.com>

        Modify expectations for media/modern-media-controls/overflow-support/chapters.html
        https://bugs.webkit.org/show_bug.cgi?id=227055

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-07-16  Eric Hutchison  <ehutchison@apple.com>

        Updated test expectations for inspector/canvas/css-canvas-clients.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=174272.

        Unreviewed test gardeing.

        * platform/mac/TestExpectations:

2021-07-16  Alexander Mikhaylenko  <alexm@gnome.org>

        [GTK][WPE] Support color-schemes CSS property
        https://bugs.webkit.org/show_bug.cgi?id=208204

        Reviewed by Adrian Perez de Castro.

        Reenable css-dark-mode tests for GTK as they pass now. Enable the same tests in WPE.
        Keep css-dark-mode/older-syntax/supported-color-schemes-css.html as [ Pass Crash ] for now,
        according to https://bugs.webkit.org/show_bug.cgi?id=202229#c2

        * platform/gtk/TestExpectations:
        * platform/gtk/css-dark-mode/color-scheme-css-expected.txt: Removed.
        * platform/gtk/css-dark-mode/color-scheme-meta-expected.txt: Removed.
        * platform/gtk/css-dark-mode/color-scheme-priority-expected.txt: Removed.
        * platform/gtk/css-dark-mode/default-colors-expected.txt: Removed.
        * platform/gtk/css-dark-mode/older-syntax/supported-color-schemes-css-expected.txt: Removed.
        * platform/gtk/css-dark-mode/older-syntax/supported-color-schemes-meta-expected.txt: Removed.
        * platform/wpe/TestExpectations:

2021-07-15  Chris Dumez  <cdumez@apple.com>

        Implement 'SubmitEvent' interface
        https://bugs.webkit.org/show_bug.cgi?id=202978

        Reviewed by Alex Christensen.

        Rebaseline WPT test now that more checks are passing.

        * platform/mac-wk1/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:

2021-07-15  Chris Dumez  <cdumez@apple.com>

        Add support for MediaError.message
        https://bugs.webkit.org/show_bug.cgi?id=228008

        Reviewed by Alex Christensen.

        Rebaseline WPT test now that more checks are passing.

        * platform/mac-wk1/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:

2021-07-15  Jean-Yves Avenard  <jya@apple.com>

        [MSE] sequence mode is broken if GPU Process is enabled
        https://bugs.webkit.org/show_bug.cgi?id=227864
        <rdar://problem/80445041>

        Reviewed by Jer Noble.

        Note: we had tests checking on the correctness of the operation; however it's
        using a mock SourceBuffer which doesn't run in the GPU process. Doing bug 225367
        should be a priority so we get better code coverage and such bugs don't skip
        under the radar.
        To get around this issue, we write a new test that uses a mp4 and a h264 video track.

        * media/media-source/media-mp4-h264-sequence-mode-expected.txt: Added.
        * media/media-source/media-mp4-h264-sequence-mode.html: Added.

2021-07-15  Chris Dumez  <cdumez@apple.com>

        Add initial support for BroadcastChannel behind a runtime flag
        https://bugs.webkit.org/show_bug.cgi?id=227924

        Reviewed by Sam Weinig.

        * TestExpectations:
        * fast/html/broadcast-channel-between-different-sessions-expected.txt: Added.
        * fast/html/broadcast-channel-between-different-sessions.html: Added.
        * fast/html/resources/broadcast-channel-between-different-sessions-window.html: Added.
        Add layout test coverage to make sure that windows belonging to different session are unable to communicate
        via BroadcastChannel.

        * platform/ios-wk2/imported/w3c/web-platform-tests/html/browsers/the-window-object/noopener-noreferrer-sizing.window-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/html/browsers/the-window-object/noopener-noreferrer-sizing.window-expected.txt.
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk1/TestExpectations:
        * platform/mac-wk1/imported/w3c/web-platform-tests/html/browsers/the-window-object/noopener-noreferrer-BarProp.window-expected.txt: Added.
        * platform/mac-wk1/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/html/semantics/links/links-created-by-a-and-area-elements/htmlanchorelement_noopener-expected.txt: Added.
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/win/TestExpectations:
        * platform/wk2/TestExpectations:
        Update test expectations now that we support BroadcastChannel.

2021-07-15  Eric Hutchison  <ehutchison@apple.com>

        inspector/canvas/setRecordingAutoCaptureFrameCount.html is flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=228011.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-07-15  Kyle Piddington  <kpiddington@apple.com>

        WebGL2 demo doesn't work due to failing compilation to metal backend
        https://bugs.webkit.org/show_bug.cgi?id=226865

        Fix translation of struct-arrays to contain the array type as well.
        Reviewed by Dean Jackson.

        * fast/canvas/webgl/shader-with-struct-array.html: Added.
        * fast/canvas/webgl/shader-with-struct-array-expected.txt: Added.

2021-07-15  Ayumi Kojima  <ayumi_kojima@apple.com>

        [Big Sur wk1 Debug] imported/w3c/web-platform-tests/webaudio/the-audio-api/the-audiobuffersourcenode-interface/audiobuffersource-duration-loop.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=228006

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-07-15  Ayumi Kojima  <ayumi_kojima@apple.com>

        [Mac OS & iOS] imported/w3c/web-platform-tests/html/semantics/embedded-content/the-embed-element/embed-network-error.sub.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=227998

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-07-15  Eric Hutchison  <ehutchison@apple.com>

        transitions/transition-end-event-nested.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=228002.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-07-15  Ayumi Kojima  <ayumi_kojima@apple.com>

        [Big Sur wk1 arm64] http/tests/security/frameNavigation/xss-DENIED-plugin-navigation.html is timing out
        https://bugs.webkit.org/show_bug.cgi?id=227973

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-07-15  Tim Nguyen  <ntim@apple.com>

        Re-import html/semantics/interactive-elements/the-dialog-element WPT
        https://bugs.webkit.org/show_bug.cgi?id=227986

        Unreviewed.

        Upstream commit: https://github.com/web-platform-tests/wpt/commit/10a8411ba8ed0012da5ecefc6eba9956a13b2c21

        * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-form-submission-expected.txt:

2021-07-15  Philippe Normand  <pnormand@igalia.com>

        [GStreamer][Pipewire] Implement getDisplayMedia() backend
        https://bugs.webkit.org/show_bug.cgi?id=210926

        Reviewed by Xabier Rodriguez-Calvar.

        * platform/glib/TestExpectations: Unskip now-passing getDisplayMedia tests.

2021-07-15  Ziran Sun  <zsun@igalia.com>

        Resync web-platform-tests/css/css-grid tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227901

        Reviewed by Manuel Rego Casasnovas.

        * TestExpectations:
        * platform/ios-wk2/TestExpectations:

2021-07-14  Devin Rousso  <drousso@apple.com>

        Implement Array.prototype.findLast and Array.prototype.findLastIndex
        https://bugs.webkit.org/show_bug.cgi?id=227939

        Reviewed by Yusuke Suzuki.

        * js/array-findLast.html: Added.
        * js/array-findLast-expected.txt: Added.
        * js/script-tests/array-findLast.js: Added.
        (passUndefined):
        (passZero):
        (passNull):
        (passFalse):
        (passEmptyString):
        (passEven):
        (passAfter5):
        (toObject):
        (findItemAddedDuringSearch):
        (numberOfCallbacksInFindInArrayWithHoles):
        (throwError):

        * js/array-findLastIndex.html: Added.
        * js/array-findLastIndex-expected.txt: Added.
        * js/script-tests/array-findLastIndex.js: Added.
        (passUndefined):
        (passZero):
        (passNull):
        (passFalse):
        (passEmptyString):
        (passEven):
        (passAfter5):
        (toObject):
        (findItemAddedDuringSearch):
        (numberOfCallbacksInFindIndexInArrayWithHoles):
        (throwError):

2021-07-14  Eric Hutchison  <ehutchison@apple.com>

        Update expectations for webanimations/multiple-transform-properties-and-multiple-transform-properties-animation-with-delay-on-forced-layer.html.
        https://bugs.webkit.org/show_bug.cgi?id=227976.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-07-14  Robert Jenner  <Jenner@apple.com>

        Unreviewed, reverting r279851.

        Overrode previously set test expectations.

        Reverted changeset:

        "[Mac wk1 Debug] webaudio/audioworket-out-of-memory.html is a
        flaky timeout."
        https://bugs.webkit.org/show_bug.cgi?id=227845
        https://commits.webkit.org/r279851

2021-07-14  Ayumi Kojima  <ayumi_kojima@apple.com>

        REGRESSION (r279806): [ iOS/macOS ] fast/canvas/canvas-overloads-strokeText.html is a flaky crash
        https://bugs.webkit.org/show_bug.cgi?id=227881

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-07-14  Chris Dumez  <cdumez@apple.com>

        Fix type of exceptions thrown in the WebAudio API
        https://bugs.webkit.org/show_bug.cgi?id=227959

        Reviewed by Yusuke Suzuki.

        Resync audit.js from upstream WPT and rebaseline webaudio tests.

        * webaudio/OfflineAudioContext/offlineaudiocontext-constructor-expected.txt:
        * webaudio/dom-exceptions-expected.txt:
        * webaudio/resources/audit.js:
        (Should.prototype.throw):

2021-07-14  Eric Hutchison  <ehutchison@apple.com>

        Update test expectations for storage/indexeddb/detached-iframe.html.
        https://bugs.webkit.org/show_bug.cgi?id=207844

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-14  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GStreamer] mark media/media-source/media-webm-vorbis-partial.html and media/media-source/media-webm-opus-partial.html as failing
        https://bugs.webkit.org/show_bug.cgi?id=227934

        Unreviewed test gardening.

        * platform/glib/TestExpectations:

2021-07-13  Jean-Yves Avenard  <jya@apple.com>

        SourceBuffer.abort() doesn't go back to state WAITING_FOR_SEGMENT properly
        https://bugs.webkit.org/show_bug.cgi?id=227559
        <rdar://problem/79996056>

        Reviewed by Jer Noble.

        * media/media-source/content/test-fragmented-video-manifest.json: Added.
        * media/media-source/content/test-fragmented-video.mp4: Added.
        * media/media-source/media-mp4-h264-partial-abort-expected.txt: Added.
        * media/media-source/media-mp4-h264-partial-abort.html: Added.
        * media/media-source/media-webm-opus-partial-abort-expected.txt: Added.
        * media/media-source/media-webm-opus-partial-abort.html: Added.
        * media/media-source/media-webm-opus-partial.html: fix title.
        * media/media-source/media-webm-vorbis-partial.html: fix title.
        * platform/mac/TestExpectations:

2021-07-13  Eric Hutchison  <ehutchison@apple.com>

        [iOS] imported/w3c/web-platform-tests/css/conditional/idlharness.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=227931.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-13  Eric Hutchison  <ehutchison@apple.com>

        [Mac wk2] inspector/canvas/setShaderProgramDisabled.html is flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=227922.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-07-13  Truitt Savell  <tsavell@apple.com>

        Creating or modifying expectations for many test failing on Monterey

        Unreviewed test gardening.

        * platform/ios/TestExpectations:
        * platform/mac-wk1/TestExpectations:
        * platform/mac-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-07-13  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Test gardening, remove platform specific expected files
        https://bugs.webkit.org/show_bug.cgi?id=227908

        These tests now pass with the generic expected files.
        Unreviewed test gardening.

        * platform/glib/crypto/subtle/ec-generate-key-malformed-parameters-expected.txt: Removed.
        * platform/glib/imported/w3c/web-platform-tests/content-security-policy/frame-ancestors/frame-ancestors-nested-same-in-same-self-allow-expected.txt: Removed.
        * platform/wpe/crypto/subtle/ecdh-import-pkcs8-key-p521-validate-ecprivatekey-parameters-publickey-expected.txt: Removed.
        * platform/wpe/crypto/subtle/ecdsa-import-pkcs8-key-p521-validate-ecprivatekey-parameters-publickey-expected.txt: Removed.

2021-07-13 Eric Hutchison <ehutchison@apple.com>

        [ Mac wk2 ] imported/w3c/web-platform-tests/webrtc/RTCDtlsTransport-state.html is flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=227910.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-07-13  Ayumi Kojima  <ayumi_kojima@apple.com>

        [iOS] http/tests/appcache/fail-on-update.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=227891

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-13  Truitt Savell  <tsavell@apple.com>

        REGRESSION: [wk2 Debug] accessibility/table-title.html is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=227504

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-07-13  Kate Cheney  <katherine_cheney@apple.com>

        Allow layout tests to specify app initiated loads or not
        https://bugs.webkit.org/show_bug.cgi?id=227825
        <rdar://problem/80355582>

        Reviewed by Brent Fulgham.

        Added new tests to cover the user initiated case.

        * http/tests/app-privacy-report/app-attribution-load-url-expected.txt: Renamed from LayoutTests/http/tests/app-privacy-report/attribution-load-url-expected.txt.
        * http/tests/app-privacy-report/app-attribution-load-url.html: Copied from LayoutTests/http/tests/app-privacy-report/attribution-load-url.html.
        * http/tests/app-privacy-report/app-attribution-ping-load-expected.txt: Copied from LayoutTests/http/tests/app-privacy-report/attribution-ping-load-expected.txt.
        * http/tests/app-privacy-report/app-attribution-ping-load.html: Copied from LayoutTests/http/tests/app-privacy-report/attribution-ping-load.html.
        * http/tests/app-privacy-report/app-attribution-post-request-expected.txt: Renamed from LayoutTests/http/tests/app-privacy-report/attribution-post-request-expected.txt.
        * http/tests/app-privacy-report/app-attribution-post-request.html: Copied from LayoutTests/http/tests/app-privacy-report/attribution-post-request.html.
        * http/tests/app-privacy-report/app-attribution-preflight-async-expected.txt: Copied from LayoutTests/http/tests/app-privacy-report/attribution-preflight-async-expected.txt.
        * http/tests/app-privacy-report/app-attribution-preflight-async.html: Copied from LayoutTests/http/tests/app-privacy-report/attribution-preflight-async.html.
        * http/tests/app-privacy-report/app-attribution-preflight-sync-expected.txt: Copied from LayoutTests/http/tests/app-privacy-report/attribution-preflight-sync-expected.txt.
        * http/tests/app-privacy-report/app-attribution-preflight-sync.html: Copied from LayoutTests/http/tests/app-privacy-report/attribution-preflight-sync.html.
        * http/tests/app-privacy-report/app-attribution-speculative-revalidation-expected.txt: Copied from LayoutTests/http/tests/app-privacy-report/attribution-speculative-revalidation-expected.txt.
        * http/tests/app-privacy-report/app-attribution-speculative-revalidation.html: Copied from LayoutTests/http/tests/app-privacy-report/attribution-speculative-revalidation.html.
        * http/tests/app-privacy-report/resources/app-initiated-post.py: Copied from LayoutTests/http/tests/app-privacy-report/resources/post.py.
        * http/tests/app-privacy-report/resources/user-initiated-post.py: Renamed from LayoutTests/http/tests/app-privacy-report/resources/post.py.
        * http/tests/app-privacy-report/user-attribution-load-url-expected.txt: Added.
        * http/tests/app-privacy-report/user-attribution-load-url.html: Renamed from LayoutTests/http/tests/app-privacy-report/attribution-load-url.html.
        * http/tests/app-privacy-report/user-attribution-ping-load-expected.txt: Renamed from LayoutTests/http/tests/app-privacy-report/attribution-ping-load-expected.txt.
        * http/tests/app-privacy-report/user-attribution-ping-load.html: Renamed from LayoutTests/http/tests/app-privacy-report/attribution-ping-load.html.
        * http/tests/app-privacy-report/user-attribution-post-request-expected.txt: Added.
        * http/tests/app-privacy-report/user-attribution-post-request.html: Renamed from LayoutTests/http/tests/app-privacy-report/attribution-post-request.html.
        * http/tests/app-privacy-report/user-attribution-preflight-async-expected.txt: Renamed from LayoutTests/http/tests/app-privacy-report/attribution-preflight-async-expected.txt.
        * http/tests/app-privacy-report/user-attribution-preflight-async.html: Renamed from LayoutTests/http/tests/app-privacy-report/attribution-preflight-async.html.
        * http/tests/app-privacy-report/user-attribution-preflight-sync-expected.txt: Renamed from LayoutTests/http/tests/app-privacy-report/attribution-preflight-sync-expected.txt.
        * http/tests/app-privacy-report/user-attribution-preflight-sync.html: Renamed from LayoutTests/http/tests/app-privacy-report/attribution-preflight-sync.html.
        * http/tests/app-privacy-report/user-attribution-speculative-revalidation-expected.txt: Renamed from LayoutTests/http/tests/app-privacy-report/attribution-speculative-revalidation-expected.txt.
        * http/tests/app-privacy-report/user-attribution-speculative-revalidation.html: Renamed from LayoutTests/http/tests/app-privacy-report/attribution-speculative-revalidation.html.
        * http/tests/navigation/resources/check-ping-user-initiated-data.py: Added.

2021-07-13  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r279705.
        https://bugs.webkit.org/show_bug.cgi?id=227903

        Added a broken test

        Reverted changeset:

        "Only first set-cookie HTTP header in websocket http response
        is accepted"
        https://bugs.webkit.org/show_bug.cgi?id=227739
        https://commits.webkit.org/r279705

2021-07-13  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update baselines after r279673
        https://bugs.webkit.org/show_bug.cgi?id=227886

        Unreviewed test gardening.

        * platform/gtk/fast/multicol/vertical-lr/float-multicol-expected.txt:
        * platform/gtk/fast/multicol/vertical-lr/nested-columns-expected.txt:
        * platform/wpe/fast/multicol/vertical-lr/float-multicol-expected.txt:
        * platform/wpe/fast/multicol/vertical-lr/nested-columns-expected.txt:

2021-07-13  Myles C. Maxfield  <mmaxfield@apple.com>

        PUA characters have the wrong advance in the fast text codepath
        https://bugs.webkit.org/show_bug.cgi?id=227896
        <rdar://problem/80037103>

        Reviewed by Tim Horton.

        * fast/text/pua-charactersTreatedAsSpace-expected.html: Added.
        * fast/text/pua-charactersTreatedAsSpace.html: Added.
        * fast/text/resources/Ahem-10000A.ttf: Added.

2021-07-12 Eric Hutchison <ehutchison@apple.com>

        REGRESSION (r279806):[iOS Mac wk2 ] fast/canvas/canvas-path-addPath.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=227890

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-07-12 Ayumi Kojima <ayumi_kojima@apple.com>

        [ MacOS & iOS ] animations/leak-document-with-css-animation.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=226598

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-12 Eric Hutchison <ehutchison@apple.com>

        [ iOS ] fast/canvas/canvas-overloads-strokeText.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=227881.

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations:

2021-07-12  Ayumi Kojima  <ayumi_kojima@apple.com>

        [Mac wk1 Debug] webaudio/audioworket-out-of-memory.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=227845

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-07-12  Eric Hutchison  <ehutchison@apple.com>

        Updating test expectations for imported/w3c/web-platform-tests/navigation-timing/test_timing_attributes_order.html.
        https://bugs.webkit.org/show_bug.cgi?id=227877.

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-07-12  Chris Dumez  <cdumez@apple.com>

        Resync content-security-policy web-platform-tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227651

        Reviewed by Sam Weinig.

        * TestExpectations:
        * tests-options.json:

2021-07-12  Eric Hutchison  <ehutchison@apple.com>

        [BigSur Release wk2 ]fullscreen/full-screen-remove-children.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=227874.

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-07-12  Wenson Hsieh  <wenson_hsieh@apple.com>

        [watchOS] Make a few additional adjustments to support system minimum layout margins
        https://bugs.webkit.org/show_bug.cgi?id=227859
        rdar://80113612

        Reviewed by Tim Horton.

        Add a new layout test that uses the new test option to verify that nonzero horizontal system minimum layout
        margins shrink the width of the viewport on watchOS (this test also disables watchOS device adaptations and uses
        a device-width viewport with `initial-scale=1` such that we can simply check the value of `innerWidth`).

        * fast/viewport/watchos/viewport-with-system-minimum-layout-margins-expected.txt: Added.
        * fast/viewport/watchos/viewport-with-system-minimum-layout-margins.html: Added.

2021-07-12  Tyler Wilcock  <twilco.o@protonmail.com>

        AX: Add ARIA role "image" as a new role, and leave "img" as a synonym
        https://bugs.webkit.org/show_bug.cgi?id=224615

        Reviewed by Chris Fleizach.

        The "image" role is replacing the "img" role (though "img" is not
        going away), so "image" should be returned from `computedRoleString`.

        * accessibility/image-role-is-synonomous-with-img-role-expected.txt: Added.
        * accessibility/image-role-is-synonomous-with-img-role.html: Added.

        * accessibility/roles-computedRoleString-expected.txt:
        * accessibility/roles-computedRoleString.html:
        * inspector/dom/getAccessibilityPropertiesForNode-expected.txt:
        * platform/glib/accessibility/roles-computedRoleString-expected.txt:
        * platform/gtk/accessibility/gtk/xml-roles-exposed-expected.txt:
        * platform/gtk/accessibility/image-link-expected.txt:
        * platform/gtk/inspector/dom/getAccessibilityPropertiesForNode-expected.txt:
        * platform/mac/accessibility/roles-computedRoleString-expected.txt:
        * platform/wpe/accessibility/image-link-expected.txt:
        All the tests in this group have been updated to expect "image"
        instead of "img".

2021-07-12  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GTK] media/playlist-inherits-user-gesture.html is timing out
        https://bugs.webkit.org/show_bug.cgi?id=198118

        Unreviewed test gardening, this test passes after r227404.

        * platform/glib/TestExpectations:

2021-07-12  Carlos Alberto Lopez Perez  <clopez@igalia.com>

        Unreviewed, reverting r279778.

        It caused unexpected text diffs on http/tests/storageAccess
        tests

        Reverted changeset:

        "[GTK][WPE][libsoup] Test imported/w3c/web-platform-
        tests/cookies/samesite/about-blank-toplevel.https.html crashes
        since it was imported"
        https://bugs.webkit.org/show_bug.cgi?id=227819
        https://commits.webkit.org/r279778

2021-07-12  Rob Buis  <rbuis@igalia.com>

        Resync web-platform-tests/css/css-overflow from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227849

        Reviewed by Manuel Rego Casasnovas.

        Skip some tests, for example some rely on
        unimplemented overflow: clip property.

        * TestExpectations:

2021-07-11  Chris Dumez  <cdumez@apple.com>

        :link and :visited pseudo-class selectors should not match <link> elements
        https://bugs.webkit.org/show_bug.cgi?id=227847

        Reviewed by Sam Weinig.

        Update / Rebaseline existing tests due to behavior change.

        * fast/css/link-basics-expected.html:
        * fast/css/link-basics.html:
        * fast/selectors/any-link-basics-expected.txt:
        * fast/selectors/link-basics-expected.txt:
        * fast/selectors/link-basics-xhtml-expected.txt:
        * fast/selectors/resources/html-link-type-tests.js:
        (testHTMLTagsForLink):
        * fast/selectors/webkit-any-link-basics-expected.txt:

2021-07-11  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo/TestExpectations:

2021-07-10  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r279803.
        https://bugs.webkit.org/show_bug.cgi?id=227850

        Introduce many crashes on AS-mac Debug bot

        Reverted changeset:

        "document.readyState should be "complete" after calling
        DOMParser.parseFromString()"
        https://bugs.webkit.org/show_bug.cgi?id=227846
        https://commits.webkit.org/r279803

2021-07-09  Tim Nguyen  <ntim@apple.com>

        Import blink reference tests for <dialog> element
        https://bugs.webkit.org/show_bug.cgi?id=227802

        Reviewed by Simon Fraser.

        From third_party/blink/web_tests/html/dialog/ in the Chromium repo.
        Only imported reference tests.

        * TestExpectations:
        * imported/blink/dialog/backdrop-descendant-selector-expected.html: Added.
        * imported/blink/dialog/backdrop-descendant-selector.html: Added.
        * imported/blink/dialog/backdrop-does-not-inherit-expected.html: Added.
        * imported/blink/dialog/backdrop-does-not-inherit.html: Added.
        * imported/blink/dialog/backdrop-dynamic-style-change-expected.html: Added.
        * imported/blink/dialog/backdrop-dynamic-style-change.html: Added.
        * imported/blink/dialog/backdrop-in-flow-expected.html: Added.
        * imported/blink/dialog/backdrop-in-flow.html: Added.
        * imported/blink/dialog/backdrop-stacking-order-expected.html: Added.
        * imported/blink/dialog/backdrop-stacking-order.html: Added.
        * imported/blink/dialog/element-removed-from-top-layer-has-original-position-expected.html: Added.
        * imported/blink/dialog/element-removed-from-top-layer-has-original-position.html: Added.
        * imported/blink/dialog/inert-node-is-not-highlighted-expected.html:
        * imported/blink/dialog/modal-dialog-backdrop-expected.html: Added.
        * imported/blink/dialog/modal-dialog-backdrop.html: Added.
        * imported/blink/dialog/modal-dialog-generated-content-expected.html: Added.
        * imported/blink/dialog/modal-dialog-generated-content.html: Added.
        * imported/blink/dialog/removed-element-is-removed-from-top-layer-expected.html: Added.
        * imported/blink/dialog/removed-element-is-removed-from-top-layer.html: Added.
        * imported/blink/dialog/resources/dialog.css: Added.
        (.pseudodialog):
        * imported/blink/dialog/top-layer-containing-block-expected.html: Added.
        * imported/blink/dialog/top-layer-containing-block.html: Added.
        * imported/blink/dialog/top-layer-display-none-expected.html: Added.
        * imported/blink/dialog/top-layer-display-none.html: Added.
        * imported/blink/dialog/top-layer-nesting-expected.html: Added.
        * imported/blink/dialog/top-layer-nesting.html: Added.
        * imported/blink/dialog/top-layer-stacking-correct-order-remove-readd-expected.html: Added.
        * imported/blink/dialog/top-layer-stacking-correct-order-remove-readd.html: Added.
        * imported/blink/dialog/top-layer-stacking-dynamic-expected.html: Added.
        * imported/blink/dialog/top-layer-stacking-dynamic.html: Added.
        * imported/blink/dialog/top-layer-stacking-expected.html: Added.
        * imported/blink/dialog/top-layer-stacking.html: Added.

2021-07-09  Ryosuke Niwa  <rniwa@webkit.org>

        ResizeObserver / IntersectionObserver memory leak on detached & out of reference elements
        https://bugs.webkit.org/show_bug.cgi?id=227194
        <rdar://problem/79839851>

        Reviewed by Chris Dumez.

        Added regression tests for leaking nodes with IntersectionObserver and ResizeObsever.

        Also rewrote intersection-observer/root-element-deleted.html since the test was previously asserting
        that IntersectionObserver.root becomes null if it was no longer in the document, which is wrong.

        * intersection-observer/intersection-observer-should-not-leak-observed-nodes-expected.txt: Added.
        * intersection-observer/intersection-observer-should-not-leak-observed-nodes.html: Added.
        * intersection-observer/root-element-deleted-expected.txt:
        * intersection-observer/root-element-deleted.html:
        * resize-observer/resize-observer-should-not-leak-observed-nodes-expected.txt: Added.
        * resize-observer/resize-observer-should-not-leak-observed-nodes.html: Added.

2021-07-09  Ryan Haddad  <ryanhaddad@apple.com>

        REGRESSION: [ macOS wk2 ] inspector/canvas/create-context-bitmaprenderer.html is flaky failing
        https://bugs.webkit.org/show_bug.cgi?id=207141

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations: Switch expectation from release to debug.

2021-07-09  Aditya Keerthi  <akeerthi@apple.com>

        [iOS] Increase contrast for textfields, checkboxes, and radio buttons
        https://bugs.webkit.org/show_bug.cgi?id=227145
        <rdar://problem/79470926>

        Reviewed by Wenson Hsieh.

        Rebaselined tests to account for changes in appearance.

        * platform/ios-simulator/fast/forms/auto-fill-button/hide-auto-fill-strong-password-viewable-treatment-when-form-is-reset-expected.txt:
        * platform/ios-simulator/fast/forms/auto-fill-button/input-credit-card-auto-fill-button-expected.txt:
        * platform/ios-simulator/fast/forms/auto-fill-button/input-strong-password-viewable-expected.txt:
        * platform/ios-simulator/fast/forms/datalist/datalist-textinput-appearance-expected.txt:
        * platform/ios-wk2/editing/input/caret-at-the-edge-of-input-expected.txt:
        * platform/ios-wk2/editing/input/reveal-caret-of-multiline-input-expected.txt:
        * platform/ios-wk2/editing/inserting/4960120-1-expected.txt:
        * platform/ios-wk2/editing/inserting/before-after-input-element-expected.txt:
        * platform/ios-wk2/editing/pasteboard/input-field-1-expected.txt:
        * platform/ios-wk2/editing/pasteboard/pasting-tabs-expected.txt:
        * platform/ios-wk2/editing/selection/4895428-3-expected.txt:
        * platform/ios-wk2/editing/selection/drag-select-1-expected.txt:
        * platform/ios-wk2/editing/selection/select-from-textfield-outwards-expected.txt:
        * platform/ios-wk2/fast/block/float/overhanging-tall-block-expected.txt:
        * platform/ios-wk2/fast/block/margin-collapse/103-expected.txt:
        * platform/ios-wk2/fast/dynamic/008-expected.txt:
        * platform/ios-wk2/fast/forms/basic-textareas-quirks-expected.txt:
        * platform/ios-wk2/fast/forms/input-appearance-preventDefault-expected.txt:
        * platform/ios-wk2/fast/forms/input-text-click-outside-expected.txt:
        * platform/ios-wk2/fast/forms/input-text-double-click-expected.txt:
        * platform/ios-wk2/fast/forms/input-text-drag-down-expected.txt:
        * platform/ios-wk2/fast/forms/input-text-option-delete-expected.txt:
        * platform/ios-wk2/fast/forms/textAreaLineHeight-expected.txt:
        * platform/ios-wk2/fast/forms/textarea-align-expected.txt:
        * platform/ios-wk2/fast/forms/textarea-placeholder-visibility-1-expected.txt:
        * platform/ios-wk2/fast/forms/textarea-placeholder-visibility-2-expected.txt:
        * platform/ios-wk2/fast/forms/textarea-scroll-height-expected.txt:
        * platform/ios-wk2/fast/forms/textarea-setinnerhtml-expected.txt:
        * platform/ios-wk2/fast/hidpi/resize-corner-hidpi-expected.txt:
        * platform/ios-wk2/fast/parser/entity-comment-in-textarea-expected.txt:
        * platform/ios-wk2/fast/parser/open-comment-in-textarea-expected.txt:
        * platform/ios-wk2/fast/text/international/rtl-white-space-pre-wrap-expected.txt:
        * platform/ios-wk2/fast/text/international/unicode-bidi-plaintext-in-textarea-expected.txt:
        * platform/ios-wk2/fast/transforms/transformed-focused-text-input-expected.txt:
        * platform/ios/editing/pasteboard/4806874-expected.txt:
        * platform/ios/editing/selection/3690703-2-expected.txt:
        * platform/ios/editing/selection/3690703-expected.txt:
        * platform/ios/editing/selection/3690719-expected.txt:
        * platform/ios/editing/selection/4975120-expected.txt:
        * platform/ios/fast/block/float/032-expected.txt:
        * platform/ios/fast/css/input-search-padding-expected.txt:
        * platform/ios/fast/css/line-height-expected.txt:
        * platform/ios/fast/css/text-overflow-input-expected.txt:
        * platform/ios/fast/dom/HTMLTextAreaElement/reset-textarea-expected.txt:
        * platform/ios/fast/events/context-no-deselect-expected.txt:
        * platform/ios/fast/forms/auto-fill-button/input-auto-fill-button-expected.txt:
        * platform/ios/fast/forms/auto-fill-button/input-contacts-auto-fill-button-expected.txt:
        * platform/ios/fast/forms/auto-fill-button/input-strong-password-auto-fill-button-expected.txt:
        * platform/ios/fast/forms/basic-inputs-expected.txt:
        * platform/ios/fast/forms/basic-textareas-expected.txt:
        * platform/ios/fast/forms/encoding-test-expected.txt:
        * platform/ios/fast/forms/fieldset-align-expected.txt:
        * platform/ios/fast/forms/floating-textfield-relayout-expected.txt:
        * platform/ios/fast/forms/form-element-geometry-expected.txt:
        * platform/ios/fast/forms/input-align-expected.txt:
        * platform/ios/fast/forms/input-appearance-bkcolor-expected.txt:
        * platform/ios/fast/forms/input-appearance-default-bkcolor-expected.txt:
        * platform/ios/fast/forms/input-appearance-disabled-expected.txt:
        * platform/ios/fast/forms/input-appearance-focus-expected.txt:
        * platform/ios/fast/forms/input-appearance-height-expected.txt:
        * platform/ios/fast/forms/input-appearance-selection-expected.txt:
        * platform/ios/fast/forms/input-appearance-visibility-expected.txt:
        * platform/ios/fast/forms/input-appearance-width-expected.txt:
        * platform/ios/fast/forms/input-disabled-color-expected.txt:
        * platform/ios/fast/forms/input-double-click-selection-gap-bug-expected.txt:
        * platform/ios/fast/forms/input-field-text-truncated-expected.txt:
        * platform/ios/fast/forms/input-placeholder-visibility-1-expected.txt:
        * platform/ios/fast/forms/input-placeholder-visibility-3-expected.txt:
        * platform/ios/fast/forms/input-spaces-expected.txt:
        * platform/ios/fast/forms/input-table-expected.txt:
        * platform/ios/fast/forms/input-text-click-inside-expected.txt:
        * platform/ios/fast/forms/input-text-scroll-left-on-blur-expected.txt:
        * platform/ios/fast/forms/input-text-self-emptying-click-expected.txt:
        * platform/ios/fast/forms/input-type-text-min-width-expected.txt:
        * platform/ios/fast/forms/input-value-expected.txt:
        * platform/ios/fast/forms/input-width-expected.txt:
        * platform/ios/fast/forms/minWidthPercent-expected.txt:
        * platform/ios/fast/forms/number/number-appearance-rtl-expected.txt:
        * platform/ios/fast/forms/number/number-appearance-spinbutton-disabled-readonly-expected.txt:
        * platform/ios/fast/forms/number/number-appearance-spinbutton-layer-expected.txt:
        * platform/ios/fast/forms/placeholder-pseudo-style-expected.txt:
        * platform/ios/fast/forms/plaintext-mode-2-expected.txt:
        * platform/ios/fast/forms/tabbing-input-iframe-expected.txt:
        * platform/ios/fast/forms/textarea-placeholder-pseudo-style-expected.txt:
        * platform/ios/fast/forms/textarea-scrollbar-expected.txt:
        * platform/ios/fast/forms/textarea-scrolled-type-expected.txt:
        * platform/ios/fast/forms/textarea-width-expected.txt:
        * platform/ios/fast/forms/textfield-focus-ring-expected.txt:
        * platform/ios/fast/forms/textfield-overflow-expected.txt:
        * platform/ios/fast/frames/take-focus-from-iframe-expected.txt:
        * platform/ios/fast/html/details-no-summary4-expected.txt:
        * platform/ios/fast/html/details-open-javascript-expected.txt:
        * platform/ios/fast/html/details-open2-expected.txt:
        * platform/ios/fast/html/details-open4-expected.txt:
        * platform/ios/fast/lists/dynamic-marker-crash-expected.txt:
        * platform/ios/fast/overflow/overflow-x-y-expected.txt:
        * platform/ios/fast/replaced/replaced-breaking-expected.txt:
        * platform/ios/fast/replaced/replaced-breaking-mixture-expected.txt:
        * platform/ios/fast/replaced/width100percent-textarea-expected.txt:
        * platform/ios/fast/replaced/width100percent-textfield-expected.txt:
        * platform/ios/fast/table/colspanMinWidth-expected.txt:
        * platform/ios/fast/table/spanOverlapRepaint-expected.txt:
        * platform/ios/fast/table/text-field-baseline-expected.txt:
        * platform/ios/imported/w3c/web-platform-tests/selection/selection-select-all-move-input-crash-expected.txt:
        * platform/ios/svg/custom/inline-svg-in-xhtml-expected.txt:
        * platform/ios/svg/hixie/mixed/003-expected.txt:
        * platform/ios/tables/mozilla/bugs/45621-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug1188-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug12384-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug18359-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug194024-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug24200-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug2479-2-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug2479-3-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug2479-4-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug28928-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug30559-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug30692-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug4382-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug4527-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug46368-1-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug46368-2-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug51037-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug55545-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug59354-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug7342-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug96334-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug99948-expected.txt:
        * platform/ios/tables/mozilla/dom/tableDom-expected.txt:
        * platform/ios/tables/mozilla/other/move_row-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/bugs/bug2479-5-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/bugs/bug92647-1-expected.txt:
        * platform/ios/transforms/3d/general/perspective-non-layer-expected.txt:

2021-07-09  Ayumi Kojima  <ayumi_kojima@apple.com>

        [Mac & iOS simulator wk2] imported/w3c/web-platform-tests/navigation-timing/test_navigate_within_document.html is a flaky failure .
        https://bugs.webkit.org/show_bug.cgi?id=226600

        Unreviewed gardening.

        * platform/ios-simulator-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-07-09  Carlos Alberto Lopez Perez  <clopez@igalia.com>

        [GTK][WPE][libsoup] Test imported/w3c/web-platform-tests/cookies/samesite/about-blank-toplevel.https.html crashes since it was imported
        https://bugs.webkit.org/show_bug.cgi?id=227819

        Reviewed by Carlos Garcia Campos.

        Mark the test as passing (is marked as flaky on the general expectations) and add expectation for passing test.

        * platform/glib/TestExpectations:
        * platform/glib/imported/w3c/web-platform-tests/cookies/samesite/about-blank-toplevel.https-expected.txt: Added.

2021-07-09  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Unreviewed test gardening, update baselines after r279723
        https://bugs.webkit.org/show_bug.cgi?id=227812

        * platform/glib/imported/w3c/web-platform-tests/WebCryptoAPI/derive_bits_keys/ecdh_bits.https.any-expected.txt: Removed.
        * platform/glib/imported/w3c/web-platform-tests/WebCryptoAPI/derive_bits_keys/ecdh_bits.https.any.worker-expected.txt: Removed.

2021-07-08  Chris Dumez  <cdumez@apple.com>

        [IndexedDB] KeyPath validity checks should happen on the cloned value, not the original one
        https://bugs.webkit.org/show_bug.cgi?id=227813

        Reviewed by Geoffrey Garen.

        Unskip test as it should no longer be flaky.

        * TestExpectations:

2021-07-08  Carlos Alberto Lopez Perez  <clopez@igalia.com>

        [GTK][WPE] Gardening of tests after r279585 and 279705

        Re-baseline the tests that have consistent text output, mark the
        ones that are flaky as failing and report a crash.

        Unreviewed gardening.

        * platform/glib/TestExpectations:
        * platform/glib/http/tests/websocket/tests/hybi/multiple-set-cookies-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/cookies/attributes/invalid-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/cookies/attributes/max-age-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/cookies/attributes/path-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/cookies/attributes/secure-non-secure-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/cookies/encoding/charset-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/cookies/name/name-ctl-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/cookies/ordering/ordering.sub-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/cookies/path/match-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/cookies/value/value-ctl-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/cookies/value/value-expected.txt: Added.

2021-07-08  Ayumi Kojima  <ayumi_kojima@apple.com>

        [Mac] media/modern-media-controls/media-controller/media-controller-click-on-video-background-should-pause-fullscreen.html is flaky timing out.
        https://bugs.webkit.org/show_bug.cgi?id=221017

        Unreviewed test gardening.

        * platform/mac/TestExpectations:
        * platform/wk2/TestExpectations:

2021-07-08  Alex Christensen  <achristensen@webkit.org>

        Fix some whitespace handling issues in URL setters
        https://bugs.webkit.org/show_bug.cgi?id=227806

        Reviewed by Chris Dumez.

        Update some old tests that failed in Chrome and Firefox to pass in all browsers after this change.

        * fast/dom/DOMURL/set-href-attribute-port-expected.txt:
        * fast/dom/DOMURL/set-href-attribute-port.html:
        * fast/dom/HTMLAnchorElement/set-href-attribute-port-expected.txt:
        * fast/dom/HTMLAnchorElement/set-href-attribute-port.html:

2021-07-08  Cameron McCormack  <heycam@apple.com>

        Stop GraphicsLayerCA::recursiveCommitChanges recursion once cMaxLayerTreeDepth is reached
        https://bugs.webkit.org/show_bug.cgi?id=227738
        <rdar://42584284>

        Reviewed by Simon Fraser.

        Add a test that changes made to GraphicsLayerCAs that are too deep
        in the tree will be committed if they later become not too deep.

        * fast/layers/deep-layer-update-expected.html: Added.
        * fast/layers/deep-layer-update.html: Added.

2021-07-08  Wenson Hsieh  <wenson_hsieh@apple.com>

        [Live Text] Selection is misaligned on some images on twitter.com
        https://bugs.webkit.org/show_bug.cgi?id=227775
        rdar://77142364

        Reviewed by Tim Horton.

        * fast/images/text-recognition/image-overlay-in-transparent-image-expected.txt: Added.
        * fast/images/text-recognition/image-overlay-in-transparent-image.html: Added.

2021-07-08  Kate Cheney  <katherine_cheney@apple.com>

        Clean up App Privacy Report code
        https://bugs.webkit.org/show_bug.cgi?id=227326
        <rdar://problem/79696849>

        Reviewed by Brent Fulgham.

        Move App Privacy Report tests into their own directory.

        * TestExpectations:
        * http/tests/app-privacy-report/attribution-load-url-expected.txt: Added.
        * http/tests/app-privacy-report/attribution-load-url.html: Renamed from LayoutTests/http/tests/in-app-browser-privacy/app-bound-attribution-load-url.html.
        * http/tests/app-privacy-report/attribution-ping-load-expected.txt: Renamed from LayoutTests/http/tests/in-app-browser-privacy/app-bound-attribution-ping-load-expected.txt.
        * http/tests/app-privacy-report/attribution-ping-load.html: Renamed from LayoutTests/http/tests/in-app-browser-privacy/app-bound-attribution-ping-load.html.
        * http/tests/app-privacy-report/attribution-post-request-expected.txt: Added.
        * http/tests/app-privacy-report/attribution-post-request.html: Renamed from LayoutTests/http/tests/in-app-browser-privacy/app-bound-attribution-post-request.html.
        * http/tests/app-privacy-report/attribution-preflight-async-expected.txt: Renamed from LayoutTests/http/tests/in-app-browser-privacy/app-bound-attribution-preflight-async-expected.txt.
        * http/tests/app-privacy-report/attribution-preflight-async.html: Renamed from LayoutTests/http/tests/in-app-browser-privacy/app-bound-attribution-preflight-async.html.
        * http/tests/app-privacy-report/attribution-preflight-sync-expected.txt: Renamed from LayoutTests/http/tests/in-app-browser-privacy/app-bound-attribution-preflight-sync-expected.txt.
        * http/tests/app-privacy-report/attribution-preflight-sync.html: Renamed from LayoutTests/http/tests/in-app-browser-privacy/app-bound-attribution-preflight-sync.html.
        * http/tests/app-privacy-report/attribution-speculative-revalidation-expected.txt: Renamed from LayoutTests/http/tests/in-app-browser-privacy/app-bound-attribution-speculative-revalidation-expected.txt.
        * http/tests/app-privacy-report/attribution-speculative-revalidation.html: Renamed from LayoutTests/http/tests/in-app-browser-privacy/app-bound-attribution-speculative-revalidation.html.
        * http/tests/app-privacy-report/resources/frame-with-authenticated-resource.py: Renamed from LayoutTests/http/tests/in-app-browser-privacy/resources/frame-with-authenticated-resource.py.
        * http/tests/app-privacy-report/resources/post.py: Added.
        * http/tests/app-privacy-report/resources/resource-with-auth.py: Renamed from LayoutTests/http/tests/in-app-browser-privacy/resources/resource-with-auth.py.
        * http/tests/in-app-browser-privacy/app-bound-attribution-load-url-expected.txt: Removed.
        * http/tests/in-app-browser-privacy/app-bound-attribution-post-request-expected.txt: Removed.
        * http/tests/in-app-browser-privacy/context-string-for-subframe-expected.txt: Removed.
        * http/tests/in-app-browser-privacy/context-string-for-subframe.html: Removed.
        * http/tests/in-app-browser-privacy/context-string-preconnect-expected.txt: Removed.
        * http/tests/in-app-browser-privacy/context-string-preconnect.html: Removed.
        * http/tests/in-app-browser-privacy/context-string-preflight-expected.txt: Removed.
        * http/tests/in-app-browser-privacy/context-string-preflight.html: Removed.
        * http/tests/in-app-browser-privacy/resources/post.py: Removed.
        * http/tests/navigation/resources/check-ping-app-initiated-data.py: Renamed from LayoutTests/http/tests/navigation/resources/check-ping-app-bound-data.py.
        * platform/ios-wk2/TestExpectations:

2021-07-08  Simon Fraser  <simon.fraser@apple.com>

        Scrollbar hidden when scroller has a negative z-index child
        https://bugs.webkit.org/show_bug.cgi?id=227545

        Reviewed by Alan Bujtas.

        * compositing/scrolling/async-overflow-scrolling/layer-for-negative-z-in-scroller-expected.txt: Rebaseline
        * compositing/scrolling/async-overflow-scrolling/negative-z-in-scroller-hidden-scrollbar-expected.html: Added.
        * compositing/scrolling/async-overflow-scrolling/negative-z-in-scroller-hidden-scrollbar.html: Added.

2021-07-08  Yoshiaki Jitsukawa  <yoshiaki.jitsukawa@sony.com>

        [OpenSSL] Implement HKDF and PBKDF2 support
        https://bugs.webkit.org/show_bug.cgi?id=227656

        Reviewed by Fujii Hironori.

        Enable HKDF and PBKDF2 tests.

        * platform/wincairo/TestExpectations:

2021-07-08  Myles C. Maxfield  <mmaxfield@apple.com>

        [GPU Process] Temporarily disable drawing large PDFs in display list drawing
        https://bugs.webkit.org/show_bug.cgi?id=227550

        Reviewed by Tim Horton.

        * fast/images/pdf-in-canvas-expected.html: Added.
        * fast/images/pdf-in-canvas.html: Added.

2021-07-08  Ayumi Kojima  <ayumi_kojima@apple.com>

        [Mac wk2 Debug] fast/canvas/canvas-composite-image.html is a flaky crash.
        https://bugs.webkit.org/show_bug.cgi?id=227805

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-07-08  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Mac Debug ] inspector/canvas/shaderProgram-add-remove-webgl2.html is a flaky text failure.
        https://bugs.webkit.org/show_bug.cgi?id=227781

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-07-08  Eric Hutchison  <ehutchison@apple.com>

        transitions/start-transform-transition.html is flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=207125.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:
        * platform/mac/TestExpectations:

2021-07-08  Chris Dumez  <cdumez@apple.com>

        [WebCrypto] deriveBits() fails if length is not a multiple of 8 for ECDH algorithm
        https://bugs.webkit.org/show_bug.cgi?id=227796

        Reviewed by Alex Christensen.

        Update existing layout test due to behavior change.

        * crypto/subtle/ecdh-derive-bits-malformed-parametrs-expected.txt:
        * crypto/subtle/ecdh-derive-bits-malformed-parametrs.html:

2021-07-08  Myles C. Maxfield  <mmaxfield@apple.com>

        [GPU Process] Canvas image rendering can render arbitrary DOM content in the GPU process, which is against policy (for now)
        https://bugs.webkit.org/show_bug.cgi?id=227519
        <rdar://problem/76678163>

        Reviewed by Darin Adler.

        * fast/images/resources/mask.svg: Added.
        * fast/images/svg-mask-in-canvas-expected.html: Added.
        * fast/images/svg-mask-in-canvas.html: Added.
        * platform/mac-wk1/imported/w3c/web-platform-tests/html/canvas/element/imagebitmap/createImageBitmap-flipY-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/html/canvas/element/imagebitmap/createImageBitmap-flipY-expected.txt.

2021-07-08  Antti Koivisto  <antti@apple.com>

        Shadow host stops rendering after removing a slot, updating style, then its assigned node
        https://bugs.webkit.org/show_bug.cgi?id=227652

        Reviewed by Alan Bujtas.

        * fast/shadow-dom/remove-slot-and-host-child-expected.html: Added.
        * fast/shadow-dom/remove-slot-and-host-child.html: Added.

2021-07-08  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Skip WebGL 2.0.y tests explicitly
        https://bugs.webkit.org/show_bug.cgi?id=227754

        Unreviewed test gardening, some tests from this directory were
        explicitly enabled from the top level TestExpectations so we skip them
        in our own platform expectations just to be sure.

        * platform/gtk/TestExpectations:
        * platform/wpe/TestExpectations:

2021-07-08  Martin Robinson  <mrobinson@igalia.com>

        [css-scroll-snap] scroll-snap-align should use the box's writing-mode when the box is larger than the snapport
        https://bugs.webkit.org/show_bug.cgi?id=227743

        Reviewed by Simon Fraser.

        * TestExpectations: Unskip a test which is now passing.

2021-07-07  Chris Dumez  <cdumez@apple.com>

        Our structured cloning implementation does not encode all of RegExp's flags
        https://bugs.webkit.org/show_bug.cgi?id=227779

        Reviewed by Yusuke Suzuki.

        Add layout test coverage.

        * fast/dom/Window/post-message-regexp-expected.txt: Added.
        * fast/dom/Window/post-message-regexp.html: Added.

2021-07-07  Alex Christensen  <achristensen@webkit.org>

        Only first set-cookie HTTP header in websocket http response is accepted
        https://bugs.webkit.org/show_bug.cgi?id=227739

        Reviewed by Geoffrey Garen.

        Add a test to verify that this has been fixed.

        * http/tests/websocket/tests/hybi/multiple-set-cookies-expected.txt: Added.
        * http/tests/websocket/tests/hybi/multiple-set-cookies.html: Added.
        * http/tests/websocket/tests/hybi/multiple_set_cookie_wsh.py: Added.
        (web_socket_do_extra_handshake):
        (web_socket_transfer_data):

2021-07-07  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Add support for partially trimmed trailing whitespace
        https://bugs.webkit.org/show_bug.cgi?id=227688

        Reviewed by Antti Koivisto.

        * TestExpectations: Progressions.

2021-07-07  Chris Dumez  <cdumez@apple.com>

        [WebCrypto] Support Elliptic Curve P-521 on Mac
        https://bugs.webkit.org/show_bug.cgi?id=216755
        <rdar://problem/69667220>

        Reviewed by Alex Christensen.

        Update / rebaseline a few tests now that we support P-521.

        * crypto/subtle/ec-generate-key-malformed-parameters-expected.txt:
        * crypto/subtle/ec-generate-key-malformed-parameters.html:
        * crypto/subtle/ecdh-derive-bits-length-limits-expected.txt:

2021-07-07  Eric Hutchison  <ehutchison@apple.com>

        [BigSur Release wk2 arm64 ] scrollbars/corner-resizer-window-inactive.html is a flaky image-only failure.
        https://bugs.webkit.org/show_bug.cgi?id=227776

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-07-07  Yoshiaki Jitsukawa  <yoshiaki.jitsukawa@sony.com>

        [OpenSSL] Implement CryptoAlgorithmEC*
        https://bugs.webkit.org/show_bug.cgi?id=227655

        Reviewed by Don Olmstead.

        Update test expectations of wincairo to enable ec* tests.

        * platform/wincairo/TestExpectations:

        Add expected results thats support the P-521 elliptic curve. Generic test
        results expect that P-521 is unsupported.

        * platform/wincairo/crypto/subtle/ec-generate-key-malformed-parameters-expected.txt: Added.
        * platform/wincairo/crypto/subtle/ecdh-derive-bits-length-limits-expected.txt: Added.
        * platform/wincairo/crypto/subtle/ecdh-import-spki-key-ecdh-identifier-expected.txt: Added.

        Use shouldRejectWithErrorName after r260579.

        * crypto/subtle/ecdh-import-pkcs8-key-p521-validate-ecprivatekey-parameters-publickey.html:
        * crypto/subtle/ecdsa-import-pkcs8-key-p521-validate-ecprivatekey-parameters-publickey.html:

2021-07-07  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Unexpected content wrap when the containing block width is relative
        https://bugs.webkit.org/show_bug.cgi?id=227746

        Reviewed by Antti Koivisto.

        * fast/inline/inline-content-should-fit-the-line-expected.html: Added.
        * fast/inline/inline-content-should-fit-the-line.html: Added.

2021-07-07  Alan Bujtas  <zalan@apple.com>

        [Legacy line layout] Inline content on subpixel position makes the table cell scroll
        https://bugs.webkit.org/show_bug.cgi?id=227594
        <rdar://74884402>

        Reviewed by Simon Fraser.

        * fast/inline/hidpi-root-inlinebox-integral-rounding-table-simple-expected.html: Added.
        * fast/inline/hidpi-root-inlinebox-integral-rounding-table-simple.html: Added.

2021-07-07  Aditya Keerthi  <akeerthi@apple.com>

        [iOS] Inconsistent styling for input[type="submit"] and button[type="submit"]
        https://bugs.webkit.org/show_bug.cgi?id=227043
        <rdar://problem/79629354>

        Reviewed by Wenson Hsieh.

        Added a reference test to verify that input[type="submit"] and
        button[type="submit"] have the same appearance.

        * fast/forms/ios/form-control-refresh/button/button-type-submit-expected.html: Added.
        * fast/forms/ios/form-control-refresh/button/button-type-submit.html: Added.

2021-07-07  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r279271.
        https://bugs.webkit.org/show_bug.cgi?id=227764

        Gmail labels (folders) aren't visible on left side anymore

        Reverted changeset:

        "[css-flexbox] Do not clamp flex base size with
        {min|max}-{height|width}"
        https://bugs.webkit.org/show_bug.cgi?id=225590
        https://commits.webkit.org/r279271

2021-07-07  Kyle Piddington  <kpiddington@apple.com>

        WebGL shader link error in iOS 15 beta: "Internal error compiling shader with Metal backend"
        https://bugs.webkit.org/show_bug.cgi?id=227723

        The sequence operator can be used to combine statements. Our initial
        logic did not account for this. 

        Reviewed by Dean Jackson.

        * fast/canvas/webgl/shader-with-comma-op-expected.txt: Added.
        * fast/canvas/webgl/shader-with-comma-op.html: Added.

2021-07-07  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test expectations after r279561
        https://bugs.webkit.org/show_bug.cgi?id=227759

        The tests updated in the general expectations in that change still
	fail on GTK. Also, some specific WPE pass expectations can be removed.
	Unreviewed test gardening.

        * platform/gtk/TestExpectations:
        * platform/wpe/TestExpectations:

2021-07-07  Alex Christensen  <achristensen@webkit.org>

        Add WK1 URL expectations after r279646

        navigator.sendBeacon isn't implemented for WK1.  It needs its own expectations.

        * platform/mac-wk1/imported/w3c/web-platform-tests/url: Added.
        * platform/mac-wk1/imported/w3c/web-platform-tests/url/failure-expected.txt: Added.

2021-07-07  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iOS Debug ] fast/dom/Window/post-message-large-array-buffer-should-not-crash.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=227755

        Unreviewed test gardening.

        * platform/ios-simulator-wk2/TestExpectations:

2021-07-07  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ Mac Debug ] fast/dom/Window/post-message-large-array-buffer-should-not-crash.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=227753

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-07-07  Eric Hutchison  <ehutchison@apple.com>

        REGRESSION (r274460?): Infinite recursion on fullscreen/full-screen-remove-ancestor.html in WTR::InjectedBundlePage::closeFullScreen
        https://bugs.webkit.org/show_bug.cgi?id=224085

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-07-07  Chris Dumez  <cdumez@apple.com>

        REGRESSION (r279427): [ Mac wk2 ] imported/w3c/web-platform-tests/html/semantics/scripting-1/the-script-element/css-module/import-css-module-basic.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=227730
        <rdar://problem/80240658>

        Unreviewed, address flakiness of test by silencing console logging.

        * TestExpectations:

2021-07-07  Alex Christensen  <achristensen@webkit.org>

        Update URL test expectations
        https://bugs.webkit.org/show_bug.cgi?id=172337

        Before r225186 this test asserted, so it was marked as pass/fail for some reason instead of being skipped.
        Now it's fine, though, so mark it as passing and update the expectations.

        * TestExpectations:

2021-07-07  Chris Dumez  <cdumez@apple.com>

        SubtleCrypto should only be exposed to secure contexts
        https://bugs.webkit.org/show_bug.cgi?id=227725

        Reviewed by Darin Adler.

        Add layout test coverage.

        * http/wpt/crypto/historical-expected.txt: Added.
        * http/wpt/crypto/historical.html: Added.

2021-07-07  Chris Lord  <clord@igalia.com>

        [WPE] Fieldset elements can incorrectly get treated as opaque with async scrolling overflow areas enabled
        https://bugs.webkit.org/show_bug.cgi?id=227679

        Reviewed by Simon Fraser.

        WPT fieldset-overflow test now passes with async overflow scrolling
        enabled.

        * platform/wpe/TestExpectations:

2021-07-06  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r279628.
        https://bugs.webkit.org/show_bug.cgi?id=227737

        Test does not work since it relies on r279546, which is
        reverted due to Speedometer regression

        Reverted changeset:

        "SubtleCrypto should only be exposed to secure contexts"
        https://bugs.webkit.org/show_bug.cgi?id=227725
        https://commits.webkit.org/r279628

2021-07-06  Simon Fraser  <simon.fraser@apple.com>

        REGRESSION (r262237) Safari 14.x shows graphics artifacts when scrolling, using drop-down menus or just moving the mouse
        https://bugs.webkit.org/show_bug.cgi?id=220892
        <rdar://73538454>

        Reviewed by Alan Bujtas.

        * compositing/shared-backing/backing-sharing-compositing-change-expected.html: Added.
        * compositing/shared-backing/backing-sharing-compositing-change.html: Added.

2021-07-06  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r279546, r279554, r279558 and r279567.
        https://bugs.webkit.org/show_bug.cgi?id=227732

        Speedometer/jQuery-TodoMVC 2-3% regression

        Reverted changesets:

        "[WebIDL] Rework runtime enabled properties leveraging
        PropertyCallback"
        https://bugs.webkit.org/show_bug.cgi?id=227275
        https://commits.webkit.org/r279546

        "[WebIDL] Generate constructor's hash table in
        GenerateConstructorHelperMethods"
        https://bugs.webkit.org/show_bug.cgi?id=227668
        https://commits.webkit.org/r279554

        "[WebIDL] Simplify generation of runtime conditionally read-
        write attributes"
        https://bugs.webkit.org/show_bug.cgi?id=227672
        https://commits.webkit.org/r279558

        "Use AbortSignal's [PrivateIdentifier] whenSignalAborted()
        static method"
        https://bugs.webkit.org/show_bug.cgi?id=227673
        https://commits.webkit.org/r279567

2021-07-06  Alex Christensen  <achristensen@webkit.org>

        imported/w3c/web-platform-tests/fetch/api/credentials/authentication-basic.any*.html are crashing in debug
        https://bugs.webkit.org/show_bug.cgi?id=227310

        Reviewed by Chris Dumez.

        * TestExpectations:

2021-07-06  Chris Dumez  <cdumez@apple.com>

        SubtleCrypto should only be exposed to secure contexts
        https://bugs.webkit.org/show_bug.cgi?id=227725

        Reviewed by Darin Adler.

        Add layout test coverage.

        * http/wpt/crypto/historical-expected.txt: Added.
        * http/wpt/crypto/historical.html: Added.

2021-07-06  Truitt Savell  <tsavell@apple.com>

        Unreviewed, reverting r279542.

        Casued 4 test crashes

        Reverted changeset:

        "SourceBuffer.abort() doesn't go back to state
        WAITING_FOR_SEGMENT properly"
        https://bugs.webkit.org/show_bug.cgi?id=227559
        https://commits.webkit.org/r279542

2021-07-06  Chris Dumez  <cdumez@apple.com>

        Unreviewed, address flakiness of imported/w3c/web-platform-tests/html/webappapis/timers/negative-settimeout.any.worker.html

        This test has been flaky since its import. Silence its console logging to address the flakiness.

        * TestExpectations:

2021-07-06  Wenson Hsieh  <wenson_hsieh@apple.com>

        [Live Text] Extraneous spaces when copying or translating Chinese and Japanese text in WebKit
        https://bugs.webkit.org/show_bug.cgi?id=227674
        rdar://79669807

        Reviewed by Tim Horton.

        Add a layout test to verify that no extraneous spaces are inserted when injecting recognized text into images
        without leading whitespace.

        * fast/images/text-recognition/image-overlay-text-without-leading-whitespace-expected.txt: Added.
        * fast/images/text-recognition/image-overlay-text-without-leading-whitespace.html: Added.

2021-07-06  Youenn Fablet  <youenn@apple.com>

        Unable to use 'data:application/javascript' url for Worker
        https://bugs.webkit.org/show_bug.cgi?id=225716
        <rdar://problem/78222538>

        Reviewed by Alex Christensen.

        * TestExpectations:
        Some tests are showing progress but are timing out. Skipping them for now.

2021-07-06  Eric Hutchison  <ehutchison@apple.com>

        [BigSur E Wk2 Release] imported/w3c/web-platform-tests/webrtc/RTCRtpSender-encode-same-track-twice.https.html in flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=226054

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-07-06  Chris Dumez  <cdumez@apple.com>

        Resync cookies web-platform-tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227641

        Reviewed by Darin Adler.

        * TestExpectations:
        * tests-options.json:

2021-07-06  Youenn Fablet  <youenn@apple.com>

        Remove MediaStreamTrack.onconstrainederror
        https://bugs.webkit.org/show_bug.cgi?id=227696

        Reviewed by Eric Carlson.

        * fast/mediastream/MediaStreamTrack-clone-expected.txt:
        * fast/mediastream/MediaStreamTrack-clone.html:
        * fast/mediastream/MediaStreamTrack.html:

2021-07-05  Wenson Hsieh  <wenson_hsieh@apple.com>

        Live Text should not be visible in video thumbnail images behind "Skip Ad" button on YouTube
        https://bugs.webkit.org/show_bug.cgi?id=227692

        Reviewed by Darin Adler.

        Add a new layout test to verify that specifying `text-shadow` on image elements does not cause Live Text to
        become visible.

        * fast/images/text-recognition/image-overlay-with-text-shadow-expected.html: Added.
        * fast/images/text-recognition/image-overlay-with-text-shadow.html: Added.

2021-07-05  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Test garderning for overflow-wrap:anywhere
        https://bugs.webkit.org/show_bug.cgi?id=227689

        Unreviewed.

        * TestExpectations: Enable tests where the content is rendered
        with IFC. Also use ImageOnlyFailure instead so that we can see progressions.

2021-07-05  Cameron McCormack  <heycam@apple.com>

        Move some Mac MathML test expectation files around
        https://bugs.webkit.org/show_bug.cgi?id=227520
        <rdar://79749198>

        Reviewed by Frédéric Wang.

        This should make it so that the same test expectation files are used
        for Monterey as for Big Sur, without needing to add Monterey-specific
        files.

        * platform/ios-simulator-wk2/TestExpectations:
        * platform/ios-wk2/TestExpectations:
        Re-enable border-002.html.

        * platform/mac-wk1/TestExpectations:
        Re-enable displaystyle-013.html and displaystyle-014.html.

        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-combining-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/relations/css-styling/padding-border-margin/border-002-expected.txt: Removed.
        * platform/ios/imported/w3c/web-platform-tests/mathml/relations/css-styling/padding-border-margin/border-002-expected.txt: Removed.
        * platform/mac-bigsur-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-minsize-maxsize-001-expected.txt: Removed.
        * platform/mac-bigsur-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-combining-expected.txt: Removed.
        * platform/mac-bigsur-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-001-expected.txt: Removed.
        * platform/mac-bigsur-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-002-expected.txt: Removed.
        * platform/mac-bigsur-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-001-expected.txt: Removed.
        * platform/mac-bigsur-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-005-expected.txt: Removed.
        * platform/mac-bigsur-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-006-expected.txt: Removed.
        * platform/mac-bigsur-wk1/imported/w3c/web-platform-tests/mathml/relations/css-styling/padding-border-margin/border-002-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-minsize-maxsize-001-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-001-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-002-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-001-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-005-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-006-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/relations/css-styling/padding-border-margin/border-002-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-combining-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/relations/css-styling/padding-border-margin/border-002-expected.txt: Removed.
        * platform/mac/imported/w3c/web-platform-tests/mathml/relations/css-styling/padding-border-margin/border-002-expected.txt: Removed.

2021-07-05  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] Add support for conditionally hanging glyph
        https://bugs.webkit.org/show_bug.cgi?id=227676

        Reviewed by Antti Koivisto.

        * TestExpectations: pre-wrap-12.html is sus. All browsers fail on this one.

2021-07-05  Philippe Normand  <pnormand@igalia.com>

        [Media] test-webvtt.m3u8 is invalid
        https://bugs.webkit.org/show_bug.cgi?id=227681

        Reviewed by Xabier Rodriguez-Calvar.

        This issue was detected by the GStreamer m3u8 parser.

        * http/tests/media/resources/hls/test-webvtt.m3u8:

2021-07-05  Philippe Normand  <pnormand@igalia.com>

        Unreviewed, GLIB gardening triaging.

        * platform/glib/TestExpectations:

2021-07-05  Martin Robinson  <mrobinson@webkit.org>

        [css-scroll-snap] Triggering a layout during scroll causes jittery scrolling on Mac when dragging the scrollbar
        https://bugs.webkit.org/show_bug.cgi?id=227478

        Reviewed by Simon Fraser.

        * css3/scroll-snap/scroll-snap-drag-scrollbar-thumb-with-relayouts-expected.txt: Added.
        * css3/scroll-snap/scroll-snap-drag-scrollbar-thumb-with-relayouts.html: Added.
        * platform/ios/TestExpectations: Skip this test on iOS since it uses a scrollbar thumb drag.

2021-07-04  Wenson Hsieh  <wenson_hsieh@apple.com>

        [iOS] Augment -_webView:didNotHandleTapAsMeaningfulClickAtPoint: to include meaningful taps
        https://bugs.webkit.org/show_bug.cgi?id=227666
        rdar://80094962

        Reviewed by Tim Horton.

        Update the existing layout tests. The new UI delegate method should now be invoked in all of the cases; however,
        we should only observe meaningful clicks in some of the below scenarios. See WebKit/ChangeLog for more details.

        * fast/events/ios/did-not-handle-meaningful-click-expected.txt:
        * fast/events/ios/did-not-handle-meaningful-click.html:
        * fast/events/ios/meaningful-click-when-focusing-body-expected.txt:
        * fast/events/ios/meaningful-click-when-focusing-body.html:
        * fast/events/ios/meaningful-click-when-playing-media-expected.txt:
        * fast/events/ios/meaningful-click-when-playing-media.html:
        * fast/events/ios/non-meaningful-click-when-tapping-document-expected.txt:
        * fast/events/ios/non-meaningful-click-when-tapping-document.html:

2021-07-04  Alan Bujtas  <zalan@apple.com>

        [LFC][IFC] WPT progressions
        https://bugs.webkit.org/show_bug.cgi?id=227675

        Unreviewed.

        * TestExpectations:

2021-07-04  Rob Buis  <rbuis@igalia.com>

        Resync web-platform-tests/css/css-sizing/aspect-ratio from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227657

        Reviewed by Sam Weinig.

        * TestExpectations:

2021-07-04  Eric Carlson  <eric.carlson@apple.com>

        WebAudio auto-play policy should come from top document
        https://bugs.webkit.org/show_bug.cgi?id=227593
        rdar://76920375

        Reviewed by Chris Dumez.

        * media/auto-play-video-in-about-blank-iframe-expected.txt: Added.
        * media/auto-play-video-in-about-blank-iframe.html: Added.
        * media/auto-play-web-audio-in-about-blank-iframe-expected.txt: Added.
        * media/auto-play-web-audio-in-about-blank-iframe.html: Added.

        * media/video-test.js:
        (waitForEventWithTimeout): Return event.

2021-07-04  Alan Bujtas  <zalan@apple.com>

        [LFC][TFC] 100% percent width column(s) make the table stretch
        https://bugs.webkit.org/show_bug.cgi?id=227667

        Reviewed by Antti Koivisto.

        * fast/layoutformattingcontext/table-space-width-100-percent-quirk-expected.html: Added.
        * fast/layoutformattingcontext/table-space-width-100-percent-quirk.html: Added.

2021-07-03  Alexey Shvayka  <shvaikalesh@gmail.com>

        [WebIDL] Rework runtime enabled properties leveraging PropertyCallback
        https://bugs.webkit.org/show_bug.cgi?id=227275

        Reviewed by Saam Barati.

        * platform/gtk/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:

2021-07-03  Carlos Alberto Lopez Perez  <clopez@igalia.com>

        [GTK][WPE] Gardening of expected failures and update list of baselines.

        Update list of expected failures, re-baseline imported WPT tests and clean some old expectation files.

        Unreviewed gardening.

        * platform/glib/TestExpectations:
        * platform/glib/imported/w3c/web-platform-tests/WebCryptoAPI/derive_bits_keys/ecdh_bits.worker-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/WebCryptoAPI/derive_bits_keys/ecdh_keys.worker-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/WebCryptoAPI/derive_bits_keys/hkdf.worker-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/WebCryptoAPI/derive_bits_keys/pbkdf2.worker-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/WebCryptoAPI/encrypt_decrypt/aes_cbc.https.any-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/WebCryptoAPI/encrypt_decrypt/aes_cbc.https.any.worker-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/WebCryptoAPI/encrypt_decrypt/aes_cbc.worker-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/WebCryptoAPI/generateKey/successes_ECDH.https.worker-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/WebCryptoAPI/generateKey/successes_ECDSA.https.worker-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/WebCryptoAPI/generateKey/successes_RSA-OAEP.https.worker-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/WebCryptoAPI/generateKey/successes_RSA-PSS.https.worker-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/WebCryptoAPI/import_export/ec_importKey.https.any-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/WebCryptoAPI/import_export/ec_importKey.https.any.worker-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/WebCryptoAPI/import_export/ec_importKey.worker-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/WebCryptoAPI/import_export/rsa_importKey.https.worker-expected.txt:
        * platform/glib/imported/w3c/web-platform-tests/WebCryptoAPI/import_export/rsa_importKey.worker-expected.txt: Copied from LayoutTests/platform/glib/imported/w3c/web-platform-tests/WebCryptoAPI/import_export/rsa_importKey.https.worker-expected.txt.
        * platform/glib/imported/w3c/web-platform-tests/WebCryptoAPI/sign_verify/ecdsa.https.any-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/WebCryptoAPI/sign_verify/ecdsa.https.any.worker-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/WebCryptoAPI/sign_verify/ecdsa.worker-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/WebCryptoAPI/sign_verify/rsa_pkcs.worker-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/WebCryptoAPI/sign_verify/rsa_pss.worker-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/WebCryptoAPI/wrapKey_unwrapKey/wrapKey_unwrapKey.https.any-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/WebCryptoAPI/wrapKey_unwrapKey/wrapKey_unwrapKey.worker-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/content-security-policy/frame-ancestors/frame-ancestors-nested-same-in-same-self-allow-expected.txt:
        * platform/glib/imported/w3c/web-platform-tests/encoding/legacy-mb-japanese/iso-2022-jp/iso2022jp-decode-csiso2022jp-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/encoding/legacy-mb-japanese/iso-2022-jp/iso2022jp-decode-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/fetch/api/basic/request-headers-nonascii.any-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/fetch/api/basic/request-headers-nonascii.any.worker-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/fetch/api/basic/request-upload.any-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/fetch/api/basic/request-upload.any.worker-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/fetch/api/headers/header-values.any-expected.txt: Renamed from LayoutTests/platform/wpe/imported/w3c/web-platform-tests/fetch/api/headers/header-values-expected.txt.
        * platform/glib/imported/w3c/web-platform-tests/fetch/api/headers/header-values.any.worker-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/fetch/api/redirect/redirect-method.any-expected.txt: Renamed from LayoutTests/platform/gtk/imported/w3c/web-platform-tests/fetch/api/redirect/redirect-method.any-expected.txt.
        * platform/glib/imported/w3c/web-platform-tests/fetch/api/redirect/redirect-method.any.worker-expected.txt: Renamed from LayoutTests/platform/gtk/imported/w3c/web-platform-tests/fetch/api/redirect/redirect-method.any.worker-expected.txt.
        * platform/glib/imported/w3c/web-platform-tests/fetch/api/request/request-cache-only-if-cached.any-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/fetch/api/request/request-cache-only-if-cached.any.worker-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/fetch/content-length/api-and-duplicate-headers.any-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/fetch/content-length/api-and-duplicate-headers.any.worker-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/fetch/h1-parsing/status-code.window-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/fetch/http-cache/cc-request.any-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/fetch/http-cache/cc-request.any.worker-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/html/canvas/element/fill-and-stroke-styles/2d.gradient.conic.negative.rotation-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/html/canvas/element/fill-and-stroke-styles/2d.gradient.conic.positive.rotation-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/html/canvas/element/path-objects/2d.path.isPointInPath.basic-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.to.srgb-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/html/dom/elements/the-innertext-and-outertext-properties/getter-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/html/dom/idlharness.worker-expected.txt: Renamed from LayoutTests/platform/gtk/imported/w3c/web-platform-tests/html/dom/idlharness.worker-expected.txt.
        * platform/glib/imported/w3c/web-platform-tests/html/links/manifest/link-relationship/link-rel-manifest-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/html/rendering/non-replaced-elements/the-fieldset-and-legend-elements/fieldset-generated-content-expected.txt:
        * platform/glib/imported/w3c/web-platform-tests/html/semantics/embedded-content/media-elements/audio_loop_seek_to_eos-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/html/semantics/embedded-content/the-video-element/video_timeupdate_on_seek-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/focus-after-close-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/html/semantics/scripting-1/the-script-element/json-module/valid-content-type.tentative-expected.txt:
        * platform/glib/imported/w3c/web-platform-tests/service-workers/service-worker/import-scripts-cross-origin.https-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/service-workers/service-worker/registration-script-module.https-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/service-workers/service-worker/windowclient-navigate.https-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/wasm/jsapi/global/value-set.any-expected.txt:
        * platform/glib/imported/w3c/web-platform-tests/wasm/jsapi/global/value-set.any.worker-expected.txt:
        * platform/glib/imported/w3c/web-platform-tests/websockets/Send-65K-data.any-expected.txt:
        * platform/glib/imported/w3c/web-platform-tests/websockets/Send-binary-65K-arraybuffer.any-expected.txt:
        * platform/glib/imported/w3c/web-platform-tests/websockets/Send-binary-arraybuffer.any-expected.txt:
        * platform/glib/imported/w3c/web-platform-tests/websockets/Send-data.any-expected.txt:
        * platform/glib/imported/w3c/web-platform-tests/websockets/Send-paired-surrogates.any-expected.txt:
        * platform/gtk/TestExpectations:
        * platform/gtk/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/fetch/api/request/request-cache-expected.txt: Removed.
        * platform/gtk/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/html/interaction/focus/document-level-focus-apis/document-has-system-focus-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/textfieldselection/selection-not-application-textarea-expected.txt: Removed.
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/the-input-element/input-valueasnumber-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-popup-element/popup-light-dismiss.tentative-expected.txt: Added.
        * platform/wpe/TestExpectations:
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom/getComputedStyle-detached-subtree-expected.txt: Added.
        * platform/wpe/imported/w3c/web-platform-tests/fetch/api/redirect/redirect-count-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/fetch/api/redirect/redirect-count-worker-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/fetch/api/redirect/redirect-method.any-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/fetch/api/redirect/redirect-method.any.worker-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/html/dom/elements/the-innertext-and-outertext-properties/getter-expected.txt: Added.
        * platform/wpe/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/html/dom/idlharness.worker-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-popup-element/popup-light-dismiss.tentative-expected.txt: Added.

2021-07-03  Alan Bujtas  <zalan@apple.com>

        REGRESSION (r278377): incorrect hit-testing with clip-path()
        https://bugs.webkit.org/show_bug.cgi?id=227624
        <rdar://problem/79845896>

        Reviewed by Simon Fraser.

        * fast/clip/hit-test-with-clip-path-expected.txt: Added.
        * fast/clip/hit-test-with-clip-path.html: Added.

2021-07-03  Alan Bujtas  <zalan@apple.com>

        [LFC][TFC] Add support for priority list of width types when expanding columns
        https://bugs.webkit.org/show_bug.cgi?id=227627

        Reviewed by Antti Koivisto.

        * fast/layoutformattingcontext/table-space-mixed-width-type-simple3-expected.html: Added.
        * fast/layoutformattingcontext/table-space-mixed-width-type-simple3.html: Added.

2021-07-03  Jean-Yves Avenard  <jya@apple.com>

        SourceBuffer.abort() doesn't go back to state WAITING_FOR_SEGMENT properly
        https://bugs.webkit.org/show_bug.cgi?id=227559
        <rdar://problem/79996056>

        Reviewed by Eric Carlson.

        * media/media-source/content/test-fragmented-video-manifest.json: Added.
        * media/media-source/content/test-fragmented-video.mp4: Added.
        * media/media-source/media-mp4-h264-partial-abort-expected.txt: Added.
        * media/media-source/media-mp4-h264-partial-abort.html: Added.
        * media/media-source/media-webm-opus-partial-abort-expected.txt: Added.
        * media/media-source/media-webm-opus-partial-abort.html: Added.
        * media/media-source/media-webm-opus-partial.html: fix title.
        * media/media-source/media-webm-vorbis-partial.html: fix title.
        * platform/mac/TestExpectations:

2021-07-02  Eric Hutchison  <ehutchison@apple.com>

        [BigSur Release wk2] fast/history/visited-href-mutation.html is a flaky image failure
        https://bugs.webkit.org/show_bug.cgi?id=227639

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-07-02  Chris Dumez  <cdumez@apple.com>

        Unreviewed, mark imported/w3c/web-platform-tests/beacon/beacon-basic.https.window.html as flaky

        It has been flaky since its import in r279225.

        * TestExpectations:

2021-07-02  Chris Dumez  <cdumez@apple.com>

        [MacOS wk1] crypto/workers/subtle/hrsa-postMessage-worker.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=227540
        <rdar://problem/79977662>

        Reviewed by Geoffrey Garen.

        Rebaseline test now that the output is correct (and non-flaky). Also unmark the test as flaky.

        * crypto/workers/subtle/ec-postMessage-worker-expected.txt:
        * crypto/workers/subtle/hrsa-postMessage-worker-expected.txt:
        * crypto/workers/subtle/hrsa-postMessage-worker.html:
        * platform/mac-wk1/TestExpectations:

2021-07-02  Chris Dumez  <cdumez@apple.com>

        REGRESSION (r279427):  [ Mac wk1 ] imported/w3c/web-platform-tests/html/rendering/replaced-elements/embedded-content/tall-cross-domain-iframe-in-scrolled.sub.html is timing out
        https://bugs.webkit.org/show_bug.cgi?id=227637
        <rdar://problem/80102396>

        Unreviewed, Skip this newly imported WPT test on mac wk1 as it is timing out on this
        platform.

        * platform/mac-wk1/TestExpectations:

2021-07-02  Chris Dumez  <cdumez@apple.com>

        Resync WebCryptoAPI web-platform-tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227601

        Reviewed by Geoffrey Garen.

        * TestExpectations:
        * platform/mac/TestExpectations:

2021-07-02  Chris Dumez  <cdumez@apple.com>

        Resync encoding web-platform-tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227602

        Reviewed by Alex Christensen.

        * TestExpectations:

2021-07-02  Truitt Savell  <tsavell@apple.com>

        Unreviewed, reverting r279485.

        Broke expectations for 7 mathML test on Big Sur wk1

        Reverted changeset:

        "Move some Mac MathML test expectation files around"
        https://bugs.webkit.org/show_bug.cgi?id=227520
        https://commits.webkit.org/r279485

2021-07-02  Eric Hutchison  <ehutchison@apple.com>

        [ BigSur Release Arm64 ] imported/w3c/web-platform-tests/resource-timing/resource_timing.worker.html is a flakey text failure
        https://bugs.webkit.org/show_bug.cgi?id=223472

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations: Removing obsolete failure expectation.
        * platform/mac/TestExpectations: Mark test as flaky.

2021-07-02  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r279487.
        https://bugs.webkit.org/show_bug.cgi?id=227626

        Added broken ios-wk2 test

        Reverted changeset:

        "WebAudio auto-play policy should come from top document"
        https://bugs.webkit.org/show_bug.cgi?id=227593
        https://commits.webkit.org/r279487

2021-07-02  Razvan Caliman  <rcaliman@apple.com>

        Web Inspector: Styles: should autocomplete `var()` and `attr()` values
        https://bugs.webkit.org/show_bug.cgi?id=227098
        <rdar://problem/79418247>

        Reviewed by Devin Rousso.

        Add test cases for contextual CSS function value completion.

        * inspector/unit-tests/css-keyword-completions-expected.txt:
        * inspector/unit-tests/css-keyword-completions.html:

2021-07-02  Xabier Rodriguez Calvar  <calvaris@igalia.com>

        [GTK] media/event-attributes.html fails if mixer is not at 100%
        https://bugs.webkit.org/show_bug.cgi?id=83704

        Reviewed by Philippe Normand.

        * platform/glib/TestExpectations: Unflagged that test and other
        that get fixed with this patch.

2021-07-01  Jean-Yves Avenard  <jya@apple.com>

        [Cocoa] Last few seconds of 'audio/webm; codecs=vorbis' appended to a SampleBuffer are not played
        https://bugs.webkit.org/show_bug.cgi?id=226069

        Reviewed by Jer Noble.

        * media/media-source/content/test-vorbis-manifest.json: Added.
        * media/media-source/media-vorbis-partial-expected.txt: Added.
        * media/media-source/content/test-vorbis.webm: Added.
        * media/media-source/content/test-opus-manifest.json: Added.
        * media/media-source/media-opus-partial-expected.txt: Added.
        * media/media-source/media-opus-partial.html: Added.
        * media/media-source/content/test-opus.webm: Added.
        * media/media-source/media-vorbis-partial.html: Added.

2021-07-01  Eric Carlson  <eric.carlson@apple.com>

        WebAudio auto-play policy should come from top document
        https://bugs.webkit.org/show_bug.cgi?id=227593
        rdar://76920375

        Reviewed by Chris Dumez.

        * media/auto-play-video-in-about-blank-iframe-expected.txt: Added.
        * media/auto-play-video-in-about-blank-iframe.html: Added.
        * media/auto-play-web-audio-in-about-blank-iframe-expected.txt: Added.
        * media/auto-play-web-audio-in-about-blank-iframe.html: Added.

        * media/video-test.js:
        (waitForEventWithTimeout): Return event.

2021-07-01  Cameron McCormack  <heycam@apple.com>

        Move some Mac MathML test expectation files around
        https://bugs.webkit.org/show_bug.cgi?id=227520
        <rdar://79749198>

        Reviewed by Frédéric Wang.

        This should make it so that the same test expectation files are used
        for Monterey as for Big Sur, without needing to add Monterey-specific
        files.

        * platform/mac-mojave-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-minsize-maxsize-001-expected.txt: Renamed from LayoutTests/platform/mac-bigsur-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-minsize-maxsize-001-expected.txt.
        * platform/mac-mojave-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-combining-expected.txt: Copied from LayoutTests/platform/mac-bigsur-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-combining-expected.txt.
        * platform/mac-mojave-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-001-expected.txt: Renamed from LayoutTests/platform/mac-bigsur-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-001-expected.txt.
        * platform/mac-mojave-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-002-expected.txt: Renamed from LayoutTests/platform/mac-bigsur-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-002-expected.txt.
        * platform/mac-mojave-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-001-expected.txt: Renamed from LayoutTests/platform/mac-bigsur-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-001-expected.txt.
        * platform/mac-mojave-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-005-expected.txt: Renamed from LayoutTests/platform/mac-bigsur-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-005-expected.txt.
        * platform/mac-mojave-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-006-expected.txt: Renamed from LayoutTests/platform/mac-bigsur-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-006-expected.txt.
        * platform/mac-mojave-wk1/imported/w3c/web-platform-tests/mathml/relations/css-styling/padding-border-margin/border-002-expected.txt: Renamed from LayoutTests/platform/mac-bigsur-wk1/imported/w3c/web-platform-tests/mathml/relations/css-styling/padding-border-margin/border-002-expected.txt.
        * platform/mac/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-combining-expected.txt: Renamed from LayoutTests/platform/mac-bigsur-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-combining-expected.txt.
        * platform/mac/imported/w3c/web-platform-tests/mathml/relations/css-styling/padding-border-margin/border-002-expected.txt:

2021-07-01  Youenn Fablet  <youenn@apple.com>

        ReadableStream.getReader do not throw a proper exception when parameter is of wrong type
        https://bugs.webkit.org/show_bug.cgi?id=226220
        <rdar://problem/78711382>

        Reviewed by Chris Dumez.

        * streams/readable-stream-getReader-expected.txt:
        * streams/readable-stream-getReader.html:
        Update test to match latest spec.

2021-07-01  Alan Bujtas  <zalan@apple.com>

        VisiblePosition::absoluteSelectionBoundsForLine fails on multiline vertical-rl content
        https://bugs.webkit.org/show_bug.cgi?id=227543
        <rdar://79887141>

        Reviewed by Simon Fraser.

        * fast/inline/line-rect-from-point-expected.txt: Added.
        * fast/inline/line-rect-from-point.html: Added.

2021-07-01  Youenn Fablet  <youenn@apple.com>

        [Cocoa] Migrate WebRTC UDP socket handling to NW API
        https://bugs.webkit.org/show_bug.cgi?id=227210
        <rdar://problem/79859045>

        Reviewed by Eric Carlson.

        * platform/ios-simulator-wk2/TestExpectations:
        Mark test as failed, as this test is using unsupported API (transport).

2021-07-01  Youenn Fablet  <youenn@apple.com>

        RealtimeIncomingAudioSourceCocoa should support other sample rate than 48000
        https://bugs.webkit.org/show_bug.cgi?id=227439

        Reviewed by Eric Carlson.

        Improve test to validate received audio is not silence.

        * webrtc/audio-peer-connection-g722-expected.txt:
        * webrtc/audio-peer-connection-g722.html:

2021-07-01  Tim Nguyen  <ntim@apple.com>

        Unreviewed, unskip web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-form-submission.html
        https://bugs.webkit.org/show_bug.cgi?id=227574

        This was unskipped in https://trac.webkit.org/changeset/279401/webkit, before it was (accidentally?) re-skipped
        again in https://trac.webkit.org/changeset/279427/webkit.

        * TestExpectations:

2021-07-01  Emilio Cobos Álvarez  <emilio@crisal.io>

        Support unprefixed :autofill pseudo-class.
        https://bugs.webkit.org/show_bug.cgi?id=220459

        Reviewed by Antti Koivisto.

        * fast/css/css-selector-text-expected.txt:
        * fast/css/css-selector-text.html:
        * fast/css/css-set-selector-text-expected.txt:
        * fast/css/css-set-selector-text.html:

2021-07-01  Tim Nguyen  <ntim@apple.com>

        Merge LayoutTests/imported/blink/fast/dom/HTMLDialogElement and LayoutTests/imported/blink/dialog
        https://bugs.webkit.org/show_bug.cgi?id=227566

        Reviewed by Antti Koivisto.

        They're only one directory in the Chromium codebase: https://source.chromium.org/chromium/chromium/src/+/main:third_party/blink/web_tests/html/dialog/;drc=d154f7938274ffda2e51690404522117533be62a
        Keep only LayoutTests/imported/blink/dialog.

        * TestExpectations:
        * imported/blink/dialog/dont-share-style-to-top-layer-expected.html: Renamed from LayoutTests/imported/blink/fast/dom/HTMLDialogElement/dont-share-style-to-top-layer-expected.html.
        * imported/blink/dialog/dont-share-style-to-top-layer.html: Renamed from LayoutTests/imported/blink/fast/dom/HTMLDialogElement/dont-share-style-to-top-layer.html.

2021-06-30  Chris Dumez  <cdumez@apple.com>

        REGRESSION (r279427) [ Mac ] imported/w3c/web-platform-tests/html/semantics/scripting-1/the-script-element/css-module/integrity.html is failing
        https://bugs.webkit.org/show_bug.cgi?id=227557
        <rdar://problem/79993241>

        Unreviewed, silence console logging to address test flakiness.

        * TestExpectations:
        * platform/mac-wk1/imported/w3c/web-platform-tests/html/semantics/scripting-1/the-script-element/css-module/integrity-expected.txt: Removed.

2021-06-30  Ryosuke Niwa  <rniwa@webkit.org>

        RemotePlayback must keep its media element alive when there is a pending activity
        https://bugs.webkit.org/show_bug.cgi?id=227471
        <rdar://79694015>

        Reviewed by Geoffrey Garen.

        Added a GC test.

        * media/remoteplayback-watch-availability-gc-expected.txt: Added.
        * media/remoteplayback-watch-availability-gc.html: Added.

2021-06-30  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ MacOS wk1 ] crypto/workers/subtle/hrsa-postMessage-worker.html is flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=227540.

        Unreviewed test gardnening.

        * platform/mac-wk1/TestExpectations:

2021-06-30  Eric Hutchison  <ehutchison@apple.com>

        [BigSur wk2] imported/w3c/web-platform-tests/webrtc/simplecall-no-ssrcs.https.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=227536

        Unreviewed test gardening

        * platform/mac-wk2/TestExpectations:

2021-06-30  Truitt Savell  <tsavell@apple.com>

        Unreviewed, reverting r279405.

        Casued 50+ webrtc crashes on Big Sur Debug

        Reverted changeset:

        "[Cocoa] Migrate WebRTC UDP socket handling to NW API"
        https://bugs.webkit.org/show_bug.cgi?id=227210
        https://commits.webkit.org/r279405

2021-06-30  Chris Dumez  <cdumez@apple.com>

        Resync html WPT tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227460

        Reviewed by Sam Weinig.

        Resync html WPT tests from upstream a38612f39e7752c3532.

        * TestExpectations:
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * tests-options.json:

2021-06-30  Chris Dumez  <cdumez@apple.com>

        Resync workers WPT tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227512

        Reviewed by Sam Weinig.

        * tests-options.json:

2021-06-30  Patrick Angle  <pangle@apple.com>

        Web Inspector: Styles: Autocomplete should support function completions
        https://bugs.webkit.org/show_bug.cgi?id=227097

        Reviewed by Devin Rousso.

        * inspector/unit-tests/css-keyword-completions-expected.txt: Added.
        * inspector/unit-tests/css-keyword-completions.html: Added.

2021-06-30  Eric Hutchison  <ehutchison@apple.com>

        [MacOS wk1] fast/shadow-dom/style-resolver-sharing.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=227516

        Unreviewed test gardening

        * platform/mac-wk1/TestExpectations:

2021-06-30  Tim Nguyen  <ntim@apple.com>

        Add modal dialog UA styles
        https://bugs.webkit.org/show_bug.cgi?id=226175

        Reviewed by Antti Koivisto.

        This adds an :-internal-modal-dialog pseudo class and a test to make sure it does not leak.

        This improves WPT results a lot and expectations have been updated. Some tests start failing,
        but those are mainly top-layer related (which isn't implemented yet).

        * TestExpectations:
        * fast/css/pseudo-class-internal-expected.txt: Added.
        * fast/css/pseudo-class-internal.html: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/abspos-dialog-layout-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/centering-expected.txt: Removed.

2021-06-30  Tim Nguyen  <ntim@apple.com>

        Re-import html/semantics/interactive-elements/the-dialog-element WPT
        https://bugs.webkit.org/show_bug.cgi?id=227523

        Reviewed by Antti Koivisto.

        WPT Revision: https://github.com/web-platform-tests/wpt/commit/616577e3962171d2ffe41472e13f6353e6ea43ef

        * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/abspos-dialog-layout-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/centering-expected.txt: Added.
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-form-submission-expected.txt:

2021-06-30  Tim Nguyen  <ntim@apple.com>

        Support -internal- prefix for pseudo classes and rename :-webkit-direct-focus to :-internal-direct-focus
        https://bugs.webkit.org/show_bug.cgi?id=227522

        Reviewed by Antti Koivisto.

        :-webkit-direct-focus was already UA-sheet only, so I took an opportunity to rename it here, also just to
        test that the script is working. Test updated accordingly.

        * fast/shadow-dom/direct-focus-pseudo-does-not-match-in-author-stylesheet.html:
        * fast/shadow-dom/direct-focus-pseudo-does-not-match-in-author-stylesheet-expected.txt:

2021-06-30  Tim Nguyen  <ntim@apple.com>

        Implement support for <dialog> element close event
        https://bugs.webkit.org/show_bug.cgi?id=227493

        Reviewed by Antti Koivisto.

        With this change, the m_isOpen flag of HTMLDialogElement is only changed on attribute change, so attribute changes can
        be detected more easily to fire this new "close" event.

        Test: web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-close.html
        Adjusted existing test expectations for new `close` event.

        * platform/glib/imported/w3c/web-platform-tests/mathml/relations/html5-tree/math-global-event-handlers.tentative-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/relations/html5-tree/math-global-event-handlers.tentative-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/relations/html5-tree/math-global-event-handlers.tentative-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/relations/html5-tree/math-global-event-handlers.tentative-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:

2021-06-30  Youenn Fablet  <youenn@apple.com>

        [Cocoa] Migrate WebRTC UDP socket handling to NW API
        https://bugs.webkit.org/show_bug.cgi?id=227210
        <rdar://problem/79859045>

        Reviewed by Eric Carlson.

        * platform/ios-simulator-wk2/TestExpectations:
        Mark test as failed, as this test is using unsupported API (transport).

2021-06-30  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] mark fast/text/international/system-language/navigator-language/navigator-language-en{,-US}.html as passing
        https://bugs.webkit.org/show_bug.cgi?id=227513

        These tests use the declarative language override feature in the test
        harness, which is currently not supported on glib platforms. These
        tests likely pass by coincidence in the testing environment.
        Unreviewed test gardening.

        * platform/glib/TestExpectations:

2021-06-29  Tim Nguyen  <ntim@apple.com>

        Implement form[method=dialog]
        https://bugs.webkit.org/show_bug.cgi?id=226172

        Reviewed by Chris Dumez.

        Marked relevant WPT as pass & unskipped relevant test.

        * platform/gtk/imported/w3c/web-platform-tests/html/dom/reflection-forms-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/dom/reflection-forms-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-form-submission-expected.txt: Added.
        * platform/ios/imported/w3c/web-platform-tests/html/dom/reflection-forms-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/dom/reflection-forms-expected.txt:
        * platform/mac/imported/w3c/web-platform-tests/html/dom/reflection-forms-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/html/dom/reflection-forms-expected.txt:
        * TestExpectations:

2021-06-29  Chris Dumez  <cdumez@apple.com>

        Resync speech-api WPT tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227503

        Reviewed by Sam Weinig.

        * platform/ios/TestExpectations:
        * platform/mac/TestExpectations:

2021-06-29  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Unreviewed test gardening, update baselines after r279169
        https://bugs.webkit.org/show_bug.cgi?id=227407

        * platform/glib/imported/w3c/web-platform-tests/content-security-policy/frame-ancestors/frame-ancestors-nested-cross-in-same-none-block-expected.txt: Removed.
        * platform/glib/imported/w3c/web-platform-tests/content-security-policy/frame-ancestors/frame-ancestors-nested-cross-in-same-self-block-expected.txt: Removed.

2021-06-29  Devin Rousso  <drousso@apple.com>

        5 media/modern-media-controls/* tests are failing constantly on Catalina
        https://bugs.webkit.org/show_bug.cgi?id=227319
        <rdar://problem/79693462>

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:
        Skip these tests on Catalina while the underlying issue is investigated.

2021-06-29  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ BigSur ] webrtc/multi-audio.html is now flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=223043.

        Unreviewed test gardnening.

        * platform/mac/TestExpectations:

2021-06-29  Amir Mark Jr  <amir_mark@apple.com>

        [BigSur WK1] imported/w3c/web-platform-tests/media-source/mediasource-config-change-webm-v* is consistently failing.
        https://bugs.webkit.org/show_bug.cgi?id=221300.

        Unreviewed test gardening.

        Updating prior test expectations.

        * platform/mac-wk1/TestExpectations:

2021-06-29  Eric Hutchison  <ehutchison@apple.com>

        Updating test expectations for webanimations/css-transition-retargeting-during-ready-promise.html
        https://bugs.webkit.org/show_bug.cgi?id=215335

        Unreviewed test gardening

        * platform/mac-wk1/TestExpectations:
        * platform/mac/TestExpectations:

2021-06-29  Chris Dumez  <cdumez@apple.com>

        Resync service-worker WPT tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227490

        Reviewed by Geoffrey Garen.

        * TestExpectations:
        * tests-options.json:

2021-06-29  Ayumi Kojima  <ayumi_kojima@apple.com>

        REGRESSION: accessibility/table-title.html is a flaky timeout on BigSur wk2 Debug
        https://bugs.webkit.org/show_bug.cgi?id=227504

        Unreviewed test gardening

        * platform/mac-wk2/TestExpectations:

2021-06-29  Eric Hutchison  <ehutchison@apple.com>

        [Big Sur Release wk2 arm64] fast/css/sticky/sticky-left.html is a flaky image failure

        https://bugs.webkit.org/show_bug.cgi?id=227467

        Unreviewed test gardnening

        * platform/mac-wk2/TestExpectations:

2021-06-29  Chris Dumez  <cdumez@apple.com>

        Resync IDL interfaces from upstream web-platform-tests
        https://bugs.webkit.org/show_bug.cgi?id=227485

        Reviewed by Sam Weinig.

        Rebaseline a few tests.

        * platform/mac-wk1/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:

2021-06-29  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r279250.
        https://bugs.webkit.org/show_bug.cgi?id=227499

        Sometimes causes YouTube audio to cut out

        Reverted changeset:

        "[Cocoa] Last few seconds of 'audio/webm; codecs=vorbis'
        appended to a SampleBuffer are not played"
        https://bugs.webkit.org/show_bug.cgi?id=226069
        https://commits.webkit.org/r279250

2021-06-29  Alex Christensen  <achristensen@webkit.org>

        xhr.send(URLSearchParams) should align default Content-Type header field with Chrome and Firefox
        https://bugs.webkit.org/show_bug.cgi?id=227477

        Reviewed by Chris Dumez.

        * platform/ios-wk2/TestExpectations:
        * platform/ios/imported/w3c/web-platform-tests/xhr/setrequestheader-content-type-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/xhr/setrequestheader-content-type-expected.txt: Added.
        * platform/mac/TestExpectations:

2021-06-24  Jer Noble  <jer.noble@apple.com>

        Loading WebM hangs if server sends only small amount of data
        https://bugs.webkit.org/show_bug.cgi?id=226217
        <rdar://problem/78709010>

        Reviewed by Eric Carlson.

        * http/tests/media/resources/.htaccess: Added.
        * http/tests/media/video-webm-stall-expected.txt: Added.
        * http/tests/media/video-webm-stall.html: Added.

2021-06-29  Yoshiaki Jitsukawa  <yoshiaki.jitsukawa@sony.com>

        P-384 EC public JWK key in layout tests is wrong
        https://bugs.webkit.org/show_bug.cgi?id=227432

        Reviewed by Chris Dumez.

        Fix the y value of the JWK keys. The y value was derived from the x value with openssl,
        using EC_POINT_set_compressed_coordinates_GFp() and EC_POINT_get_affine_coordinates_GFp(),
        and was verified with EC_KEY_check_key().

        * crypto/subtle/ec-import-key-malformed-parameters.html:
        * crypto/subtle/ecdh-import-jwk-public-key-p384.html:
        * crypto/subtle/ecdsa-import-jwk-public-key-alg-384.html:
        * crypto/workers/subtle/resources/ec-import-jwk-key-public.js:

2021-06-29  Rob Buis  <rbuis@igalia.com>

        Nullptr crash in HTMLStackItem::create via DocumentFragment::parseHTML
        https://bugs.webkit.org/show_bug.cgi?id=227390

        Reviewed by Ryosuke Niwa.

        Add test for this.

        * editing/pasteboard/paste-create-fragment-crash-expected.txt: Added.
        * editing/pasteboard/paste-create-fragment-crash.html: Added.

2021-06-29  Rob Buis  <rbuis@igalia.com>

        Crash in SharedBuffer::data
        https://bugs.webkit.org/show_bug.cgi?id=227173

        Reviewed by Ryosuke Niwa.

        * fast/xsl/xslt-transformToDocument-crash-expected.txt: Added.
        * fast/xsl/xslt-transformToDocument-crash.html: Added.

2021-06-29  Martin Robinson  <mrobinson@igalia.com>

        CSS scroll snap should allow scrolling to the middle of snap areas that overflow the snapport
        https://bugs.webkit.org/show_bug.cgi?id=223021
        <rdar://problem/75518606>

        Reviewed by Simon Fraser.

        Update some existing tests that were relying on non-spec compliant behavior. These tests
        used snap areas that were larger than the snapport and didn't expect that the parent
        scroller could scroll into them.

        * css3/scroll-snap/scroll-snap-click-scrollbar-gutter.html: This test used snap areas that
        overflow the snapport, thus meant that it relied on non-spec compliant behavior. Rework it so
        that the snap areas do not overflow, maintaining the existing behavior.
        * tiled-drawing/scrolling/scroll-snap/scroll-snap-mandatory-mainframe-vertical-then-horizontal.html: Ditto.
        * tiled-drawing/scrolling/scroll-snap/scroll-snap-proximity-overflow.html: Ditto.

2021-06-28  Wenson Hsieh  <wenson_hsieh@apple.com>

        REGRESSION (r279310): Occasional crash when focusing login fields on iPad with a software keyboard
        https://bugs.webkit.org/show_bug.cgi?id=227472
        rdar://79876040

        Reviewed by Tim Horton.

        Add a new layout test to exercise the crash. See Tools and Source/WebKit ChangeLogs for more information.
        This new test suppresses and then immediately un-suppresses the software keyboard inside the
        `-_webView:willStartInputSession:` input delegate hook while focusing a regular text field.

        * fast/forms/ios/suppress-software-keyboard-while-focusing-input-expected.txt: Added.
        * fast/forms/ios/suppress-software-keyboard-while-focusing-input.html: Added.

2021-06-28  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Mark media/track/video/video-track-mkv-{vorbis,theora}-language.html as passing
        https://bugs.webkit.org/show_bug.cgi?id=227458

        Unreviewed test gardening. These tests were fixed by r278860.

        * platform/glib/TestExpectations:

2021-06-28  Darin Adler  <darin@apple.com>

        CSS parser "consume declaration" algorithm does not handle whitespace correctly
        https://bugs.webkit.org/show_bug.cgi?id=227368

        Reviewed by Sam Weinig.

        * css-custom-properties-api/inline.html: Update expectations to expect leading
        whitespace to be trimmed.

        * fast/css/variables/test-suite/011.html: Updated to expect a variable reference
        with no fallback tokens to be valid. Change in the CSS specification since this
        test was written.
        * fast/css/variables/test-suite/013.html: Ditto.
        * fast/css/variables/test-suite/041.html: Ditto.
        * fast/css/variables/test-suite/043.html: Ditto.

        * fast/css/variables/test-suite/061.html: Updated to expect a value with no tokens
        to be valid. Change in the CSS specification since this test was written.

        * fast/css/variables/test-suite/100.html: Updated to expect a variable reference
        with no fallback tokens to be valid. Change in the CSS specification since this
        test was written.
        * fast/css/variables/test-suite/105.html: Ditto.
        * fast/css/variables/test-suite/136.html: Ditto.

        * fast/css/variables/test-suite/170.html: Updated to expect a value with no tokens
        to be valid. Change in the CSS specification since this test was written.
        * fast/css/variables/test-suite/171.html: Ditto.

        * platform/mac/TestExpectations: Removed a line for a test that no longer exists
        (not changed in this patch).

2021-06-28  Cameron McCormack  <heycam@apple.com>

        Fix canvas color stroke test stroke widths
        https://bugs.webkit.org/show_bug.cgi?id=223005
        <rdar://75239330>

        Reviewed by Simon Fraser.

        The lineWidth should be the same in both test and reference.

        * fast/text/canvas-color-fonts/stroke-color-COLR.html:
        * fast/text/canvas-color-fonts/stroke-color-shadow-COLR.html:
        * http/tests/canvas/color-fonts/stroke-color-sbix.html:
        * http/tests/canvas/color-fonts/stroke-color-shadow-sbix.html:
        * platform/mac/TestExpectations:

2021-06-28  Wenson Hsieh  <wenson_hsieh@apple.com>

        Live Text selections inside images is misaligned when "object-fit" is not "fill"
        https://bugs.webkit.org/show_bug.cgi?id=227453

        Reviewed by Tim Horton.

        Add a couple of new tests, and do some minor cleanup in an existing test.

        * fast/images/text-recognition/image-overlay-object-fit-change-expected.txt: Added.
        * fast/images/text-recognition/image-overlay-object-fit-change.html: Added.

        Add a layout test to verify that dynamically changing CSS "object-fit" values for an image with Live Text causes
        the dimensions of the Live Text to update as well.

        * fast/images/text-recognition/image-overlay-object-fit-expected.txt: Added.
        * fast/images/text-recognition/image-overlay-object-fit.html: Added.

        Add a layout test to verify that Live Text is injected correctly when using all 5 values of "object-fit".

        * fast/images/text-recognition/image-overlay-size-change.html:

        Clean up this layout test a bit: remove an unnecessarily included script file, add a missing `head` tag and
        don't try to inject an image overlay 10 times.

2021-06-28  Amir Mark Jr  <amir_mark@apple.com>

        [Catalina WK2 Debug/ iOS 14 Debug] fast/css-custom-paint/out-of-memory-while-adding-worklet-module.html is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=227273

        Unreviewed test gardening.

        Updating expectation as previous expectation caused possible flaky failure.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-06-28  Chris Dumez  <cdumez@apple.com>

        Resync fetch WPT tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227307

        Reviewed by Geoff Garen.

        * TestExpectations:
        * platform/gtk/TestExpectations:
        * platform/ios/TestExpectations:
        * platform/mac-wk2/TestExpectations:
        * platform/mac/TestExpectations:
        * platform/wk2/TestExpectations:
        * platform/wpe/TestExpectations:
        * tests-options.json:

2021-06-27  Alan Bujtas  <zalan@apple.com>

        [LFC][TFC] Add support for shrinking over-constrained columns based on the width type priority list
        https://bugs.webkit.org/show_bug.cgi?id=227426

        Reviewed by Antti Koivisto.

        * fast/layoutformattingcontext/table-space-shinking-mixed-width-type-simple-expected.html: Added.
        * fast/layoutformattingcontext/table-space-shinking-mixed-width-type-simple.html: Added.
        * fast/layoutformattingcontext/table-space-shinking-mixed-width-type-simple2-expected.html: Added.
        * fast/layoutformattingcontext/table-space-shinking-mixed-width-type-simple2.html: Added.

2021-06-27  Philippe Normand  <pnormand@igalia.com>

        [GStreamer] SleepDisabler not destroyed when video playback stops
        https://bugs.webkit.org/show_bug.cgi?id=219353

        Reviewed by Eric Carlson.

        * media/video-ended-does-not-hold-sleep-assertion-expected.txt: Added.
        * media/video-ended-does-not-hold-sleep-assertion.html: Added.

2021-06-26  Sam Weinig  <weinig@apple.com>

        [Modern Media Controls] Modern media controls should not need to know about specific platforms in shared code
        https://bugs.webkit.org/show_bug.cgi?id=227423

        Reviewed by Eric Carlson.

        Update tests and results to use LayoutTraits class.

        * media/modern-media-controls/airplay-button/airplay-button-on.html:
        * media/modern-media-controls/airplay-button/airplay-button.html:
        * media/modern-media-controls/airplay-placard/airplay-placard.html:
        * media/modern-media-controls/button/button-active-state.html:
        * media/modern-media-controls/button/button-click-on-edges.html:
        * media/modern-media-controls/button/button-focus-state.html:
        * media/modern-media-controls/button/button-icon-name-expected.txt:
        * media/modern-media-controls/button/button-icon-name.html:
        * media/modern-media-controls/button/button-on.html:
        * media/modern-media-controls/forward-button/forward-button.html:
        * media/modern-media-controls/fullscreen-button/fullscreen-button.html:
        * media/modern-media-controls/icon-service/icon-service-expected.txt:
        * media/modern-media-controls/icon-service/icon-service.html:
        * media/modern-media-controls/invalid-placard/invalid-placard-constrained-metrics-expected.txt:
        * media/modern-media-controls/invalid-placard/invalid-placard-constrained-metrics.html:
        * media/modern-media-controls/invalid-placard/invalid-placard.html:
        * media/modern-media-controls/ios-inline-media-controls/ios-inline-media-controls-constructor.html:
        * media/modern-media-controls/layout-item/layout-item-expected.txt:
        * media/modern-media-controls/layout-item/layout-item.html:
        * media/modern-media-controls/macos-fullscreen-media-controls/macos-fullscreen-media-controls-constructor-expected.txt:
        * media/modern-media-controls/macos-fullscreen-media-controls/macos-fullscreen-media-controls-constructor.html:
        * media/modern-media-controls/macos-inline-media-controls/macos-inline-media-controls-constructor-expected.txt:
        * media/modern-media-controls/macos-inline-media-controls/macos-inline-media-controls-constructor.html:
        * media/modern-media-controls/media-controller/media-controller-fullscreen-change.html:
        * media/modern-media-controls/media-controls/media-controls-appear-when-focus.html:
        * media/modern-media-controls/media-controls/media-controls-constructor-expected.txt:
        * media/modern-media-controls/media-controls/media-controls-constructor.html:
        * media/modern-media-controls/media-controls/media-controls-placard-compressed-metrics-expected.txt:
        * media/modern-media-controls/media-controls/media-controls-placard-compressed-metrics.html:
        * media/modern-media-controls/mute-button/mute-button.html:
        * media/modern-media-controls/overflow-button/overflow-button.html:
        * media/modern-media-controls/pip-button/pip-button.html:
        * media/modern-media-controls/pip-placard/pip-placard.html:
        * media/modern-media-controls/placard/placard-expected.txt:
        * media/modern-media-controls/placard/placard.html:
        * media/modern-media-controls/play-pause-button/play-pause-button.html:
        * media/modern-media-controls/rewind-button/rewind-button.html:
        * media/modern-media-controls/skip-back-button/skip-back-button.html:
        * media/modern-media-controls/skip-forward-button/skip-forward-button.html:
        * media/modern-media-controls/time-control/time-control-expected.txt:
        * media/modern-media-controls/time-control/time-control.html:
        * media/modern-media-controls/tracks-button/tracks-button.html:
        * media/modern-media-controls/watchos-media-controls/watchos-media-controls-constructor-expected.txt:
        * media/modern-media-controls/watchos-media-controls/watchos-media-controls-constructor.html:

2021-06-25  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Update test expectations after r279217
        https://bugs.webkit.org/show_bug.cgi?id=227410

        Unreviewed test gardening.

        * platform/glib/TestExpectations:

2021-06-25  Eric Hutchison  <ehutchison@apple.com>

        REGRESSION (r278746): [Mac wk 1] media/media-fullscreen-return-to-inline.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=227367.

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-06-25  Ayumi Kojima  <ayumi_kojima@apple.com>

        REGRESSION: http/tests/preload/onload_event.html is a flaky timeout on Big Sur wk1 Release
        https://bugs.webkit.org/show_bug.cgi?id=227366

        Unreviewed test gardening

        * platform/mac-wk1/TestExpectations:

2021-06-25  Sergio Villar Senin  <svillar@igalia.com>

        [css-flexbox] Improve computation of intrinsic sizes of flex items with aspect ratio
        https://bugs.webkit.org/show_bug.cgi?id=227395

        Reviewed by Rob Buis.

        * TestExpectations: Unskipped 3 tests that are now passing.

2021-06-17  Sergio Villar Senin  <svillar@igalia.com>

        Nullptr crash in StyledMarkupAccumulator::traverseNodesForSerialization
        https://bugs.webkit.org/show_bug.cgi?id=226821

        Reviewed by Ryosuke Niwa.

        * editing/selection/setSelection-shadow-dom-crash-expected.txt: Added.
        * editing/selection/setSelection-shadow-dom-crash.html: Added.

2021-06-25  Philippe Normand  <pnormand@igalia.com>

        Unreviewed, GStreamer gardening

        * platform/glib/TestExpectations: Mark a mediastream as flaky.

2021-06-14  Sergio Villar Senin  <svillar@igalia.com>

        [css-flexbox] Do not clamp flex base size with {min|max}-{height|width}
        https://bugs.webkit.org/show_bug.cgi?id=225590

        Reviewed by Alan Bujtas.

        The patch allows us to pass 3 new tests. We're adding percentage-max-height-003.html to
        the list of expected failures because these changes make it fail. This is not really a
        regression however because although the size of the deepest flex item was correct (and thus
        allowed us to pass the test) the other sizes were completely wrong. So it's more an issue
        of the test not being complete enough and passing artificially than anything else.

        * TestExpectations: Unskipped 3 tests & skipped 1.

2021-06-25  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GTK] Unreviewed test gardening, mark more WebXR tests as unsupported
        https://bugs.webkit.org/show_bug.cgi?id=227358

        * platform/gtk/TestExpectations:

2021-06-25  Ziran Sun  <zsun@igalia.com>

        Resync web-platform-tests/css/css-grid tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=223593

        Reviewed by Sergio Villar Senin and Manuel Rego Casasnovas.

        * TestExpectations:
        * platform/ios-wk2/TestExpectations:

2021-06-24  Venky Dass  <yaranamavenkataramana@apple.com>

        Crash in IDBTransaction::dispatchEvent when m_openDBRequest is null.
        https://bugs.webkit.org/show_bug.cgi?id=226885

        Reviewed by Sihui Liu.

        * storage/indexeddb/request-with-null-open-db-request-expected.txt: Added.
        * storage/indexeddb/request-with-null-open-db-request.html: Added.

2021-06-24  Jer Noble  <jer.noble@apple.com>

        [Cocoa] Last few seconds of 'audio/webm; codecs=vorbis' appended to a SampleBuffer are not played
        https://bugs.webkit.org/show_bug.cgi?id=226069
        <rdar://78004793>

        Reviewed by Eric Carlson.

        * platform/mac/TestExpectations:
        * platform/mac/media/media-source/content/test-vorbis-manifest.json: Added.
        * platform/mac/media/media-source/content/test-vorbis.webm: Added.
        * platform/mac/media/media-source/media-vorbis-partial-expected.txt: Added.
        * platform/mac/media/media-source/media-vorbis-partial.html: Added.

2021-06-24  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GStreamer] Unreviewed Test gardening, webrtc/peer-connection-remote-audio-mute* are no longer failing
        https://bugs.webkit.org/show_bug.cgi?id=221504

        These tests pass as of r277175.
        * platform/glib/TestExpectations:

2021-06-24  Alan Bujtas  <zalan@apple.com>

        [IFC][Integration] Text selection flashing to end of paragraph
        https://bugs.webkit.org/show_bug.cgi?id=227158
        <rdar://79138828>

        Reviewed by Antti Koivisto.

        * fast/events/touch/ios/drag-to-autoscroll-in-single-line-editable.html:
        * fast/events/touch/ios/hidpi-selection-when-content-is-on-subpixel-expected.txt: Added.
        * fast/events/touch/ios/hidpi-selection-when-content-is-on-subpixel.html: Added.

2021-06-24  Enrique Ocaña González  <eocanha@igalia.com>

        [GTK] media/muted-video-is-playing-audio.html is timing out
        https://bugs.webkit.org/show_bug.cgi?id=208321

        Reviewed by Xabier Rodriguez-Calvar.

        Changed the test to set a non-zero mediaVolume, because a zero one
        (default value set by TestController::resetStateToConsistentValues())
        would multiply any other volume in HTMLMediaElement::effectiveVolume(),
        cause a zero effectiveVolume (being considered in practice as "no audio" by
        HTMLMediaElement::mediaState()) and prevent the IsPlayingAudio MediaState
        being set.

        Also, adapted the test to still expect IsPlayingAudio after mute on the
        glib ports (GTK & WPE), since on those ports a muted video is expected to
        report IsPlayingAudio, as per the HTMLMediaElement::mediaState() source
        code comments.

        * media/muted-video-is-playing-audio.html: Test changed as described above.
        * platform/glib/media/muted-video-is-playing-audio-expected.txt: Added expectation for glib port.
        * resources/platform-helper.js:
        (isGtk): Clarified where the GTK user-agent string comes from.
        (isWPE): New function to check if a WPE port is being used.

2021-06-23  Chris Dumez  <cdumez@apple.com>

        Unreviewed, mark imported/w3c/web-platform-tests/mediacapture-streams/MediaStreamTrack-MediaElement-disabled-audio-is-silence.https.html as flaky on iOS.

        * platform/ios-wk2/TestExpectations:

2021-06-23  Chris Dumez  <cdumez@apple.com>

        Unreviewed, silence console logging for imported/w3c/web-platform-tests/html/browsers/origin/cross-origin-objects/cross-origin-objects.html

        The console logging was making the test flaky.

        * TestExpectations:

2021-06-23  Chris Dumez  <cdumez@apple.com>

        Update WPT resources from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227296

        Reviewed by Darin Adler.

        * platform/mac-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:

2021-06-23  Martin Robinson  <mrobinson@igalia.com>

        [iOS 15 Regression]: scroll position resets when using scroll snap
        https://bugs.webkit.org/show_bug.cgi?id=226816
        <rdar://problem/79081301>

        Reviewed by Simon Fraser.

        * fast/scrolling/ios/scroll-snap-with-momentum-scroll-in-main-frame-expected.txt: Added.
        * fast/scrolling/ios/scroll-snap-with-momentum-scroll-in-main-frame.html: Added.
        * fast/scrolling/ios/scroll-snap-with-momentum-scroll-in-overflow-scroll-area-expected.txt: Added.
        * fast/scrolling/ios/scroll-snap-with-momentum-scroll-in-overflow-scroll-area.html: Added.

2021-06-23  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo-wk1/TestExpectations:
        * platform/wincairo/TestExpectations:

2021-06-23  Aditya Keerthi  <akeerthi@apple.com>

        [iOS] Adopt new date picker presentation SPI
        https://bugs.webkit.org/show_bug.cgi?id=227221
        <rdar://problem/77930086>

        Reviewed by Wenson Hsieh.

        * fast/forms/ios/constant-scroll-area-when-moving-focus-between-fields.html:

        Re-order the call to wait for the keyboard to dismiss since the
        presentation SPI doesn't tell us exactly when the presentation animation
        is complete. The other alternative was to add a manual delay, however,
        re-ordering the calls is safe and preserves the original test behavior.

2021-06-23  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Unreviewed test gardening, skip a WebGL2 test
        https://bugs.webkit.org/show_bug.cgi?id=227303

        * platform/glib/TestExpectations:

2021-06-23  Chris Dumez  <cdumez@apple.com>

        CSSStyleDeclaration.getPropertyPriority() should return the empty string for invalid CSS properties
        https://bugs.webkit.org/show_bug.cgi?id=227257
        <rdar://problem/79622278>

        Reviewed by Darin Adler.

        Follow-up to r279125 to improve test coverage for usage of USVString in CSSStyleDeclaration.

        * fast/css/CSSStyleDeclaration-setProperty-unicode-expected.txt: Added.
        * fast/css/CSSStyleDeclaration-setProperty-unicode.html: Added.

2021-06-23  Amir Mark Jr  <amir_mark@apple.com>

        [macOS WK1] imported/w3c/web-platform-tests/css/css-scroll-snap/scroll-target-snap-003.html is a flaky failure.
        https://bugs.webkit.org/show_bug.cgi?id=227085

        Unreviewed test gardening.

        Updating previous test expectation.

        * platform/mac-wk1/TestExpectations:

2021-06-23  Andres Gonzalez  <andresg_22@apple.com>

        Accessibility support for image text recognition.
        https://bugs.webkit.org/show_bug.cgi?id=224280
        rdar://76348740

        Reviewed by Chris Fleizach.

        * accessibility/image-link-expected.txt:
        * accessibility/ios-simulator/image-overlay-elements-expected.txt: Added.
        * accessibility/ios-simulator/image-overlay-elements.html: Added.
        * accessibility/resources/green-400x400.png: Added.

2021-06-18  Mark Lam  <mark.lam@apple.com>

        Add missing exception checks in ScriptModuleLoader and JSDOMPromiseDeferred.
        https://bugs.webkit.org/show_bug.cgi?id=221374
        rdar://problem/68911404

        Reviewed by Yusuke Suzuki.

        Based on patch by Frédéric Wang <fwang@igalia.com>.

        Add a regression test for import('./'). Depending on the system configuration this can
        execute two different rejection methods from ScriptModuleLoader::notifyFinished().
        In other words, we may get 2 different error messages.  Hence, the test needs to
        allow for this variance.

        Additional test cases are added for rejectToPropagateNetworkError /
        DeferredPromise::rejectWithCallback (e.g. module file not found), for
        DeferredPromise::reject(ExceptionCode, const String&, RejectAsHandled) (e.g. module file does
        not have JavaScript MIME type) and DeferredPromise::resolveWithCallback (e.g. module import
        is successful).

        Also update promise-rejection-might-stack-overflow.html now that the stack overflow error is
        reported.

        * js/dom/modules/missing-exception-check-for-import-expected.txt: Added.
        * js/dom/modules/missing-exception-check-for-import.html: Added.
        * js/dom/promise-rejection-might-stack-overflow-expected.txt:
        * js/dom/promise-rejection-might-stack-overflow.html:

2021-06-21  Darin Adler  <darin@apple.com>

        Improve more of the CSS list style implementations
        https://bugs.webkit.org/show_bug.cgi?id=227206

        Reviewed by Antti Koivisto.

        * TestExpectations: Expect about 50 more css-counter-styles tests to pass.

        * fast/lists/li-values-expected.txt: Updated to expect newly specified behavior. When
        this test was written, the specification was different.
        * fast/lists/li-values.html: Ditto.
        * fast/lists/w3-css3-list-styles-fallback-style-expected.txt: Ditto. Also many of these
        were expecting failures.
        * fast/lists/w3-css3-list-styles-fallback-style.html: Ditto.
        * fast/lists/w3-css3-list-styles-numeric-expected.txt: Ditto. Also added tests for
        ethiopic-numeric.
        * fast/lists/w3-css3-list-styles-numeric.html: Ditto.

        * fast/lists/w3-list-styles-expected.txt: Updated expected result for 0 in Hebrew.

        * platform/mac/TestExpectations: Moved some image failure expectations from here to the
        main TestExpectations because they do not seem to be platform-specific.

2021-06-22  Amir Mark Jr  <amir_mark@apple.com>

        [Catalina WK2 Debug/ iOS 14 Debug] fast/css-custom-paint/out-of-memory-while-adding-worklet-module.html is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=227273

        Unrevieweed test gardening.

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-06-22  Per Arne Vollan  <pvollan@apple.com>

        [macOS] Deny mach-lookup to the service 'com.apple.print.normalizerd'
        https://bugs.webkit.org/show_bug.cgi?id=227248
        <rdar://problem/79600557>

        Reviewed by Brent Fulgham.

        Skip EPS test, which is failing when this service is unavailable.

        * platform/mac/TestExpectations:

2021-06-22  Alan Bujtas  <zalan@apple.com>

        [RenderTreeBuilder] ASSERTION FAILED: m_renderer in FloatingObject::renderer()
        https://bugs.webkit.org/show_bug.cgi?id=227260
        <rdar://77329323>

        Reviewed by Antti Koivisto.

        * fast/block/float-assert-when-anon-parent-is-destroyed-expected.txt: Added.
        * fast/block/float-assert-when-anon-parent-is-destroyed.html: Added.

2021-06-22  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Unreviewed test gardening, add timeouts in new test
        https://bugs.webkit.org/show_bug.cgi?id=227258

        media/media-source/media-source-has-audio-video.html and
        media/media-source/media-source-seek-unbuffered.html
        have timed on GTK and WPE since they were added.

        * platform/glib/TestExpectations:

2021-06-22  Simon Fraser  <simon.fraser@apple.com>

        REGRESSION (Safari 14): Submenus on https://codelearn.cat don't show
        https://bugs.webkit.org/show_bug.cgi?id=225467
        <rdar://problem/77612276>

        Reviewed by Alan Bujtas.

        * compositing/overflow/overflow-scroll-to-visible-expected.html: Added.
        * compositing/overflow/overflow-scroll-to-visible.html: Added.

2021-06-22  Chris Dumez  <cdumez@apple.com>

        CSSStyleDeclaration.getPropertyPriority() should return the empty string for invalid CSS properties
        https://bugs.webkit.org/show_bug.cgi?id=227257

        Reviewed by Geoffrey Garen.

        Add layout test coverage.

        * fast/css/CSSStyleDeclaration-getPropertyPriority-invalid-property-expected.txt: Added.
        * fast/css/CSSStyleDeclaration-getPropertyPriority-invalid-property.html: Added.

2021-06-22  Per Arne Vollan  <pvollan@apple.com>

        [AppleWin] Update test expectations
        https://bugs.webkit.org/show_bug.cgi?id=226970

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-06-22  Frédéric Wang  <fwang@igalia.com>

        Nullptr crash in null ptr deref in ReplaceSelectionCommand::removeRedundantStylesAndKeepStyleSpanInline
        https://bugs.webkit.org/show_bug.cgi?id=226799

        Reviewed by Ryosuke Niwa.

        Add regression test.

        * fast/editing/paste-and-indent-microtask-crash-expected.txt: Added.
        * fast/editing/paste-and-indent-microtask-crash.html: Added.

2021-06-22  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Unreviewed test gardening. Update baselines after r278931.
        https://bugs.webkit.org/show_bug.cgi?id=227183

        * platform/glib/tables/mozilla/bugs/bug106795-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug16252-expected.txt:
        * platform/gtk/tables/mozilla/bugs/bug82946-2-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug1188-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug126742-expected.png:
        * platform/wpe/tables/mozilla/bugs/bug126742-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug1318-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug16252-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug57828-2-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug82946-2-expected.txt:

2021-06-22  Cathie Chen  <cathiechen@igalia.com>

        Implement width and height attributes on source elements of <picture>
        https://bugs.webkit.org/show_bug.cgi?id=222368

        Reviewed by Darin Adler.

        * TestExpectations:

2021-06-21  Carlos Alberto Lopez Perez  <clopez@igalia.com>

        [GLIB] Gardening of test failures.

        Unreviewed gardening

        Remove tests that pass after r279065.

        * platform/glib/TestExpectations:

2021-06-21  Wenson Hsieh  <wenson_hsieh@apple.com>

        [macOS] [WebKitLegacy] Non-actionable "Look Up" action appears when right clicking images
        https://bugs.webkit.org/show_bug.cgi?id=227240

        Reviewed by Devin Rousso.

        Add a layout test to check whether or not the "Look Up" action is available when right clicking image elements.
        In WebKit2 prior to Monterey as well as legacy WebKit, this context menu action should not be present.

        * fast/events/contextmenu-lookup-action-for-image-expected.txt: Added.
        * fast/events/contextmenu-lookup-action-for-image.html: Added.
        * platform/ios/TestExpectations:
        * platform/win/TestExpectations:
        * platform/wincairo-wk1/TestExpectations:

2021-06-21  Aditya Keerthi  <akeerthi@apple.com>

        [iOS] Update textfield border color to match specification
        https://bugs.webkit.org/show_bug.cgi?id=227135
        <rdar://problem/79456679>

        Reviewed by Maciej Stachowiak.

        Rebaselined tests to account for changes to border color.

        * platform/ios-simulator/fast/forms/auto-fill-button/hide-auto-fill-strong-password-viewable-treatment-when-form-is-reset-expected.txt:
        * platform/ios-simulator/fast/forms/auto-fill-button/input-credit-card-auto-fill-button-expected.txt:
        * platform/ios-simulator/fast/forms/auto-fill-button/input-strong-password-viewable-expected.txt:
        * platform/ios-simulator/fast/forms/datalist/datalist-textinput-appearance-expected.txt:
        * platform/ios-wk2/editing/input/caret-at-the-edge-of-input-expected.txt:
        * platform/ios-wk2/editing/input/reveal-caret-of-multiline-input-expected.txt:
        * platform/ios-wk2/editing/inserting/4960120-1-expected.txt:
        * platform/ios-wk2/editing/inserting/before-after-input-element-expected.txt:
        * platform/ios-wk2/editing/pasteboard/input-field-1-expected.txt:
        * platform/ios-wk2/editing/pasteboard/pasting-tabs-expected.txt:
        * platform/ios-wk2/editing/selection/4895428-3-expected.txt:
        * platform/ios-wk2/editing/selection/drag-select-1-expected.txt:
        * platform/ios-wk2/editing/selection/select-from-textfield-outwards-expected.txt:
        * platform/ios-wk2/fast/block/float/overhanging-tall-block-expected.txt:
        * platform/ios-wk2/fast/block/margin-collapse/103-expected.txt:
        * platform/ios-wk2/fast/dynamic/008-expected.txt:
        * platform/ios-wk2/fast/forms/basic-textareas-quirks-expected.txt:
        * platform/ios-wk2/fast/forms/input-appearance-preventDefault-expected.txt:
        * platform/ios-wk2/fast/forms/input-text-click-outside-expected.txt:
        * platform/ios-wk2/fast/forms/input-text-double-click-expected.txt:
        * platform/ios-wk2/fast/forms/input-text-drag-down-expected.txt:
        * platform/ios-wk2/fast/forms/input-text-option-delete-expected.txt:
        * platform/ios-wk2/fast/forms/textAreaLineHeight-expected.txt:
        * platform/ios-wk2/fast/forms/textarea-align-expected.txt:
        * platform/ios-wk2/fast/forms/textarea-placeholder-visibility-1-expected.txt:
        * platform/ios-wk2/fast/forms/textarea-placeholder-visibility-2-expected.txt:
        * platform/ios-wk2/fast/forms/textarea-scroll-height-expected.txt:
        * platform/ios-wk2/fast/forms/textarea-setinnerhtml-expected.txt:
        * platform/ios-wk2/fast/hidpi/resize-corner-hidpi-expected.txt:
        * platform/ios-wk2/fast/parser/entity-comment-in-textarea-expected.txt:
        * platform/ios-wk2/fast/parser/open-comment-in-textarea-expected.txt:
        * platform/ios-wk2/fast/text/international/rtl-white-space-pre-wrap-expected.txt:
        * platform/ios-wk2/fast/text/international/unicode-bidi-plaintext-in-textarea-expected.txt:
        * platform/ios-wk2/fast/transforms/transformed-focused-text-input-expected.txt:
        * platform/ios/editing/pasteboard/4806874-expected.txt:
        * platform/ios/editing/selection/3690703-2-expected.txt:
        * platform/ios/editing/selection/3690703-expected.txt:
        * platform/ios/editing/selection/3690719-expected.txt:
        * platform/ios/editing/selection/4975120-expected.txt:
        * platform/ios/fast/block/float/032-expected.txt:
        * platform/ios/fast/css/input-search-padding-expected.txt:
        * platform/ios/fast/css/line-height-expected.txt:
        * platform/ios/fast/css/text-overflow-input-expected.txt:
        * platform/ios/fast/dom/HTMLTextAreaElement/reset-textarea-expected.txt:
        * platform/ios/fast/events/context-no-deselect-expected.txt:
        * platform/ios/fast/forms/auto-fill-button/input-auto-fill-button-expected.txt:
        * platform/ios/fast/forms/auto-fill-button/input-contacts-auto-fill-button-expected.txt:
        * platform/ios/fast/forms/auto-fill-button/input-strong-password-auto-fill-button-expected.txt:
        * platform/ios/fast/forms/basic-inputs-expected.txt:
        * platform/ios/fast/forms/basic-textareas-expected.txt:
        * platform/ios/fast/forms/encoding-test-expected.txt:
        * platform/ios/fast/forms/fieldset-align-expected.txt:
        * platform/ios/fast/forms/floating-textfield-relayout-expected.txt:
        * platform/ios/fast/forms/form-element-geometry-expected.txt:
        * platform/ios/fast/forms/input-align-expected.txt:
        * platform/ios/fast/forms/input-appearance-bkcolor-expected.txt:
        * platform/ios/fast/forms/input-appearance-default-bkcolor-expected.txt:
        * platform/ios/fast/forms/input-appearance-disabled-expected.txt:
        * platform/ios/fast/forms/input-appearance-focus-expected.txt:
        * platform/ios/fast/forms/input-appearance-height-expected.txt:
        * platform/ios/fast/forms/input-appearance-selection-expected.txt:
        * platform/ios/fast/forms/input-appearance-visibility-expected.txt:
        * platform/ios/fast/forms/input-appearance-width-expected.txt:
        * platform/ios/fast/forms/input-disabled-color-expected.txt:
        * platform/ios/fast/forms/input-double-click-selection-gap-bug-expected.txt:
        * platform/ios/fast/forms/input-field-text-truncated-expected.txt:
        * platform/ios/fast/forms/input-placeholder-visibility-1-expected.txt:
        * platform/ios/fast/forms/input-placeholder-visibility-3-expected.txt:
        * platform/ios/fast/forms/input-spaces-expected.txt:
        * platform/ios/fast/forms/input-table-expected.txt:
        * platform/ios/fast/forms/input-text-click-inside-expected.txt:
        * platform/ios/fast/forms/input-text-scroll-left-on-blur-expected.txt:
        * platform/ios/fast/forms/input-text-self-emptying-click-expected.txt:
        * platform/ios/fast/forms/input-type-text-min-width-expected.txt:
        * platform/ios/fast/forms/input-value-expected.txt:
        * platform/ios/fast/forms/input-width-expected.txt:
        * platform/ios/fast/forms/minWidthPercent-expected.txt:
        * platform/ios/fast/forms/number/number-appearance-rtl-expected.txt:
        * platform/ios/fast/forms/number/number-appearance-spinbutton-disabled-readonly-expected.txt:
        * platform/ios/fast/forms/number/number-appearance-spinbutton-layer-expected.txt:
        * platform/ios/fast/forms/placeholder-pseudo-style-expected.txt:
        * platform/ios/fast/forms/plaintext-mode-2-expected.txt:
        * platform/ios/fast/forms/tabbing-input-iframe-expected.txt:
        * platform/ios/fast/forms/textarea-placeholder-pseudo-style-expected.txt:
        * platform/ios/fast/forms/textarea-scrollbar-expected.txt:
        * platform/ios/fast/forms/textarea-scrolled-type-expected.txt:
        * platform/ios/fast/forms/textarea-width-expected.txt:
        * platform/ios/fast/forms/textfield-focus-ring-expected.txt:
        * platform/ios/fast/forms/textfield-overflow-expected.txt:
        * platform/ios/fast/frames/take-focus-from-iframe-expected.txt:
        * platform/ios/fast/html/details-no-summary4-expected.txt:
        * platform/ios/fast/html/details-open-javascript-expected.txt:
        * platform/ios/fast/html/details-open2-expected.txt:
        * platform/ios/fast/html/details-open4-expected.txt:
        * platform/ios/fast/lists/dynamic-marker-crash-expected.txt:
        * platform/ios/fast/overflow/overflow-x-y-expected.txt:
        * platform/ios/fast/replaced/replaced-breaking-expected.txt:
        * platform/ios/fast/replaced/replaced-breaking-mixture-expected.txt:
        * platform/ios/fast/replaced/width100percent-textarea-expected.txt:
        * platform/ios/fast/replaced/width100percent-textfield-expected.txt:
        * platform/ios/fast/table/colspanMinWidth-expected.txt:
        * platform/ios/fast/table/spanOverlapRepaint-expected.txt:
        * platform/ios/fast/table/text-field-baseline-expected.txt:
        * platform/ios/imported/w3c/web-platform-tests/selection/selection-select-all-move-input-crash-expected.txt:
        * platform/ios/svg/custom/inline-svg-in-xhtml-expected.txt:
        * platform/ios/svg/hixie/mixed/003-expected.txt:
        * platform/ios/tables/mozilla/bugs/45621-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug1188-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug12384-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug18359-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug194024-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug24200-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug2479-2-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug2479-3-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug2479-4-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug28928-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug30559-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug30692-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug4382-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug4527-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug46368-1-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug46368-2-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug51037-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug55545-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug59354-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug7342-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug96334-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug99948-expected.txt:
        * platform/ios/tables/mozilla/dom/tableDom-expected.txt:
        * platform/ios/tables/mozilla/other/move_row-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/bugs/bug2479-5-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/bugs/bug92647-1-expected.txt:
        * platform/ios/transforms/3d/general/perspective-non-layer-expected.txt:

2021-06-21  Amir Mark Jr  <amir_mark@apple.com>

        [BigSur Wk1] imported/w3c/web-platform-tests/css/css-will-change/will-change* tests are flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=227237

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-06-21  Carlos Alberto Lopez Perez  <clopez@igalia.com>

        [GTK][WPE] Gardening of test failures

        Unreviewed gardening.

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:

2021-06-21  Rob Buis  <rbuis@igalia.com>

        CSSOM test for serializing font-variant fails
        https://bugs.webkit.org/show_bug.cgi?id=226770

        Reviewed by Darin Adler.

        * css3/font-variant-parsing-expected.txt:
        * css3/font-variant-parsing.html:

2021-06-20  Darin Adler  <darin@apple.com>

        CSS counter style improvements for Armenian, Tamil, and some CJK styles
        https://bugs.webkit.org/show_bug.cgi?id=227190

        Reviewed by Sam Weinig.

        * TestExpectations: Remove failure expectations for 26 tests.

        * fast/lists/w3-css3-list-styles-fallback-style-expected.txt: Expect 9999 limit instead
        of 99999999 for Armenian, and success rather than failure for Tamil.
        * fast/lists/w3-css3-list-styles-fallback-style.html: Ditto.

2021-06-20  Yusuke Suzuki  <ysuzuki@apple.com>

        Skip shadow-root creation for input element if it is not necessary
        https://bugs.webkit.org/show_bug.cgi?id=227189

        Reviewed by Maciej Stachowiak.

        * fast/forms/checkbox-and-pseudo-expected.txt: Added.
        * fast/forms/checkbox-and-pseudo.html: Added.
        * fast/forms/checkbox-child-hidden-expected.html: Added.
        * fast/forms/checkbox-child-hidden.html: Added.

2021-06-19  Darin Adler  <darin@apple.com>

        Fix CSS serialization issues affecting css-counter-styles tests
        https://bugs.webkit.org/show_bug.cgi?id=226708

        Reviewed by Antti Koivisto.

        * fast/css/parse-border-image-repeat-null-crash-expected.txt: Update to reflect correct
        path; the path is not really relevant to what was being tested here either way.

        * fast/css/uri-token-parsing-expected.txt: Updated to expect behavior that is sensible
        and also matches Firefox.
        * fast/css/uri-token-parsing.html: Ditto.

        * fast/fast/css/url-with-multi-byte-unicode-escape-expected.txt: Updated to expect that
        URL is still encoded as UTF-8, not yet re-URL-encoded as it will be for loading. The
        one that will be used for loading can still be seen in computed style. The test still
        covers correclty parsig this URL.
        * fast/fast/css/url-with-multi-byte-unicode-escape.html: Ditto.

        * fast/filter-image/parse-filter-image-expected.txt: Updated to no longer test addition
        of trailing slashes to peculiar URLs that are made by using filenames as host names.
        Now this checks URLs that just contain filenames, which makes more logical sense, and
        no trailing slash addition is expected.
        * fast/filter-image/parse-filter-image.html: Ditto.

        * fast/innerHTML/innerHTML-uri-resolution.html: Updated test to use computed style so
        it no longer depends on WebKit-only behavior to run correctly.

2021-06-18  Chris Dumez  <cdumez@apple.com>

        [WebIDL] Assigning a value outside the float range to a 'float' attribute should throw a TypeError
        https://bugs.webkit.org/show_bug.cgi?id=227146

        Reviewed by Sam Weinig.

        Add layout test coverage.

        * js/dom/webidl-type-mapping-expected.txt:
        * js/dom/webidl-type-mapping.html:

2021-06-18  Ryan Haddad  <ryanhaddad@apple.com>

        [iOS 14-Simulator WK2] editing/deleting/smart-delete-paragraph-004.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=226906

        Unreviewed test gardening.

        * platform/ios/TestExpectations: Mark test as flaky.

2021-06-18  Eleni Maria Stea  <estea@igalia.com>

        Unreviewed test gardening.
        https://bugs.webkit.org/show_bug.cgi?id=227168

        Updated glib baseline/expectations.

        * platform/glib/TestExpectations:
        * platform/glib/imported/w3c/web-platform-tests/mathml/relations/css-styling/padding-border-margin/margin-003-expected.txt: Removed.

2021-06-18  Philippe Normand  <pnormand@igalia.com>

        [GStreamer] imported/w3c/web-platform-tests/mediacapture-streams/MediaStream-MediaElement-srcObject.https.html is failing since r273645
        https://bugs.webkit.org/show_bug.cgi?id=223508

        Reviewed by Xabier Rodriguez-Calvar.

        Unflag and add glib baseline for test now passing.

        * platform/glib/TestExpectations:
        * platform/glib/imported/w3c/web-platform-tests/mediacapture-streams/MediaStream-MediaElement-srcObject.https-expected.txt: Added.

2021-06-18  Philippe Normand  <pnormand@igalia.com>

        [WebRTC][GStreamer] fast/mediastream/MediaStream-video-element-remove-track.html is failing
        https://bugs.webkit.org/show_bug.cgi?id=191886

        Reviewed by Xabier Rodriguez-Calvar.

        * platform/glib/TestExpectations: Unflag test now passing.

2021-06-18  Carlos Garcia Campos  <cgarcia@igalia.com>

        [SOUP] Add Timing-Allow-Origin checks to NetworkDataTaskSoup
        https://bugs.webkit.org/show_bug.cgi?id=227008
        <rdar://problem/79384792>

        Reviewed by Adrian Perez de Castro.

        * platform/glib/TestExpectations:

2021-06-17  Diego Pino Garcia  <dpino@igalia.com>

        [GTK][WPE] Unreviewed test gardening. Update baselines after r278974.

        There are GTK and WPE tests that have the same text baseline but the
        corresponding PNG image is different. In this case, I have preferred
        to keep a specific text baseline for each port, instead of
        promoting the text baseline to GLIB.

        * platform/gtk/svg/text/foreignObject-repaint-expected.txt: Copied from LayoutTests/platform/glib/svg/text/foreignObject-repaint-expected.txt.
        * platform/gtk/svg/text/foreignObject-text-clipping-bug-expected.png:
        * platform/gtk/svg/text/foreignObject-text-clipping-bug-expected.txt:
        * platform/gtk/svg/text/text-align-01-b-expected.png:
        * platform/gtk/svg/text/text-align-01-b-expected.txt:
        * platform/gtk/svg/text/text-align-02-b-expected.png:
        * platform/gtk/svg/text/text-align-02-b-expected.txt:
        * platform/gtk/svg/text/text-align-03-b-expected.png:
        * platform/gtk/svg/text/text-align-03-b-expected.txt:
        * platform/gtk/svg/text/text-align-04-b-expected.png:
        * platform/gtk/svg/text/text-align-04-b-expected.txt:
        * platform/gtk/svg/text/text-align-05-b-expected.png:
        * platform/gtk/svg/text/text-align-05-b-expected.txt:
        * platform/gtk/svg/text/text-align-06-b-expected.png:
        * platform/gtk/svg/text/text-align-06-b-expected.txt:
        * platform/gtk/svg/text/text-deco-01-b-expected.png:
        * platform/gtk/svg/text/text-deco-01-b-expected.txt:
        * platform/gtk/svg/text/text-fonts-01-t-expected.png:
        * platform/gtk/svg/text/text-fonts-01-t-expected.txt:
        * platform/gtk/svg/text/text-fonts-02-t-expected.png:
        * platform/gtk/svg/text/text-fonts-02-t-expected.txt: Copied from LayoutTests/platform/glib/svg/text/text-fonts-02-t-expected.txt.
        * platform/gtk/svg/text/text-intro-05-t-expected.png:
        * platform/gtk/svg/text/text-intro-05-t-expected.txt: Copied from LayoutTests/platform/glib/svg/text/text-intro-05-t-expected.txt.
        * platform/gtk/svg/text/text-path-01-b-expected.png:
        * platform/gtk/svg/text/text-path-01-b-expected.txt:
        * platform/gtk/svg/text/text-spacing-01-b-expected.png:
        * platform/gtk/svg/text/text-spacing-01-b-expected.txt:
        * platform/gtk/svg/text/text-text-01-b-expected.png:
        * platform/gtk/svg/text/text-text-01-b-expected.txt: Copied from LayoutTests/platform/glib/svg/text/text-text-01-b-expected.txt.
        * platform/gtk/svg/text/text-text-03-b-expected.png:
        * platform/gtk/svg/text/text-text-03-b-expected.txt: Copied from LayoutTests/platform/glib/svg/text/text-text-03-b-expected.txt.
        * platform/gtk/svg/text/text-text-05-t-expected.png:
        * platform/gtk/svg/text/text-text-05-t-expected.txt: Copied from LayoutTests/platform/glib/svg/text/text-text-05-t-expected.txt.
        * platform/gtk/svg/text/text-text-07-t-expected.png:
        * platform/gtk/svg/text/text-text-07-t-expected.txt:
        * platform/gtk/svg/text/text-text-08-b-expected.png:
        * platform/gtk/svg/text/text-text-08-b-expected.txt:
        * platform/gtk/svg/text/text-tref-01-b-expected.png:
        * platform/gtk/svg/text/text-tref-01-b-expected.txt:
        * platform/gtk/svg/text/text-tselect-01-b-expected.png:
        * platform/gtk/svg/text/text-tselect-01-b-expected.txt:
        * platform/gtk/svg/text/text-tspan-01-b-expected.png:
        * platform/gtk/svg/text/text-tspan-01-b-expected.txt:
        * platform/gtk/svg/text/text-ws-01-t-expected.png:
        * platform/gtk/svg/text/text-ws-01-t-expected.txt: Copied from LayoutTests/platform/glib/svg/text/text-ws-01-t-expected.txt.
        * platform/gtk/svg/text/text-ws-02-t-expected.png:
        * platform/gtk/svg/text/text-ws-02-t-expected.txt: Copied from LayoutTests/platform/glib/svg/text/text-ws-02-t-expected.txt.
        * platform/gtk/svg/text/textPathBoundsBug-expected.txt: Copied from LayoutTests/platform/glib/svg/text/textPathBoundsBug-expected.txt.
        * platform/wpe/svg/text/foreignObject-repaint-expected.png: Added.
        * platform/wpe/svg/text/foreignObject-repaint-expected.txt: Renamed from LayoutTests/platform/glib/svg/text/foreignObject-repaint-expected.txt.
        * platform/wpe/svg/text/foreignObject-text-clipping-bug-expected.png: Added.
        * platform/wpe/svg/text/foreignObject-text-clipping-bug-expected.txt:
        * platform/wpe/svg/text/text-align-01-b-expected.png: Added.
        * platform/wpe/svg/text/text-align-01-b-expected.txt:
        * platform/wpe/svg/text/text-align-02-b-expected.png: Added.
        * platform/wpe/svg/text/text-align-02-b-expected.txt:
        * platform/wpe/svg/text/text-align-03-b-expected.png: Added.
        * platform/wpe/svg/text/text-align-03-b-expected.txt:
        * platform/wpe/svg/text/text-align-04-b-expected.png: Added.
        * platform/wpe/svg/text/text-align-04-b-expected.txt:
        * platform/wpe/svg/text/text-align-05-b-expected.png: Added.
        * platform/wpe/svg/text/text-align-05-b-expected.txt:
        * platform/wpe/svg/text/text-align-06-b-expected.png: Added.
        * platform/wpe/svg/text/text-align-06-b-expected.txt:
        * platform/wpe/svg/text/text-deco-01-b-expected.png: Added.
        * platform/wpe/svg/text/text-deco-01-b-expected.txt:
        * platform/wpe/svg/text/text-fonts-01-t-expected.png: Added.
        * platform/wpe/svg/text/text-fonts-01-t-expected.txt:
        * platform/wpe/svg/text/text-fonts-02-t-expected.png: Added.
        * platform/wpe/svg/text/text-fonts-02-t-expected.txt: Renamed from LayoutTests/platform/glib/svg/text/text-fonts-02-t-expected.txt.
        * platform/wpe/svg/text/text-intro-05-t-expected.png: Added.
        * platform/wpe/svg/text/text-intro-05-t-expected.txt: Renamed from LayoutTests/platform/glib/svg/text/text-intro-05-t-expected.txt.
        * platform/wpe/svg/text/text-path-01-b-expected.png: Added.
        * platform/wpe/svg/text/text-path-01-b-expected.txt:
        * platform/wpe/svg/text/text-spacing-01-b-expected.png: Added.
        * platform/wpe/svg/text/text-spacing-01-b-expected.txt:
        * platform/wpe/svg/text/text-text-01-b-expected.png: Added.
        * platform/wpe/svg/text/text-text-01-b-expected.txt: Renamed from LayoutTests/platform/glib/svg/text/text-text-01-b-expected.txt.
        * platform/wpe/svg/text/text-text-03-b-expected.png: Added.
        * platform/wpe/svg/text/text-text-03-b-expected.txt: Renamed from LayoutTests/platform/glib/svg/text/text-text-03-b-expected.txt.
        * platform/wpe/svg/text/text-text-05-t-expected.png: Added.
        * platform/wpe/svg/text/text-text-05-t-expected.txt: Renamed from LayoutTests/platform/glib/svg/text/text-text-05-t-expected.txt.
        * platform/wpe/svg/text/text-text-07-t-expected.png: Added.
        * platform/wpe/svg/text/text-text-07-t-expected.txt:
        * platform/wpe/svg/text/text-text-08-b-expected.png: Added.
        * platform/wpe/svg/text/text-text-08-b-expected.txt:
        * platform/wpe/svg/text/text-tref-01-b-expected.png: Added.
        * platform/wpe/svg/text/text-tref-01-b-expected.txt: Copied from LayoutTests/platform/gtk/svg/text/text-tref-01-b-expected.txt.
        * platform/wpe/svg/text/text-tselect-01-b-expected.png: Added.
        * platform/wpe/svg/text/text-tselect-01-b-expected.txt:
        * platform/wpe/svg/text/text-tspan-01-b-expected.png: Added.
        * platform/wpe/svg/text/text-tspan-01-b-expected.txt:
        * platform/wpe/svg/text/text-ws-01-t-expected.png: Added.
        * platform/wpe/svg/text/text-ws-01-t-expected.txt: Renamed from LayoutTests/platform/glib/svg/text/text-ws-01-t-expected.txt.
        * platform/wpe/svg/text/text-ws-02-t-expected.png: Added.
        * platform/wpe/svg/text/text-ws-02-t-expected.txt: Renamed from LayoutTests/platform/glib/svg/text/text-ws-02-t-expected.txt.
        * platform/wpe/svg/text/textPathBoundsBug-expected.png: Added.
        * platform/wpe/svg/text/textPathBoundsBug-expected.txt: Renamed from LayoutTests/platform/glib/svg/text/textPathBoundsBug-expected.txt.
        * platform/wpe/tables/mozilla/bugs/bug106795-expected.png: Added.
        * platform/wpe/tables/mozilla/bugs/bug82946-2-expected.png: Added.

2021-06-17  Said Abou-Hallawa  <said@apple.com>

        [Cocoa] Disable hardware decoding in the WebProcess
        https://bugs.webkit.org/show_bug.cgi?id=226869
        <rdar://77548905>

        Reviewed by Per Arne Vollan and Simon Fraser.

        Add a reference test for rendering the HEIF images.

        * TestExpectations:
        * fast/images/heic-as-background-image-expected.html: Added.
        * fast/images/heic-as-background-image.html: Added.
        * fast/images/resources/green-400x400.heic: Added.
        * platform/ios/TestExpectations:
        * platform/mac/TestExpectations:

2021-06-17  Ada Chan  <ada.chan@apple.com>

        Skip WebXR tests on iOS
        https://bugs.webkit.org/show_bug.cgi?id=227151

        Reviewed by Tim Horton.

        * platform/ios/TestExpectations:

2021-06-17  John Cunningham  <johncunningham@apple.com>

        [Metal ANGLE] Shaders with reserved metal keywords do not translate, nor do shaders with struct and variable names that are the same except prefixed by an underscore
        https://bugs.webkit.org/show_bug.cgi?id=226660

        Reviewed by Dean Jackson.

        * fast/canvas/webgl/shader-with-reserved-keyword-expected.txt: Added.
        * fast/canvas/webgl/shader-with-reserved-keyword.html: Added.

2021-06-17  Chris Dumez  <cdumez@apple.com>

        Resync DOM WPT tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227144

        Reviewed by Geoffrey Garen.

        * TestExpectations:
        * tests-options.json:

2021-06-17  Ryosuke Niwa  <rniwa@webkit.org>

        Crash in WebCore::SlotAssignment::assignedNodesForSlot
        https://bugs.webkit.org/show_bug.cgi?id=224408
        <rdar://problem/76805764>

        Reviewed by Michael Catanzaro.

        Added a regression test.

        * fast/shadow-dom/insert-slot-child-of-shadow-host-render-tree-invalidation-crash-expected.txt: Added.
        * fast/shadow-dom/insert-slot-child-of-shadow-host-render-tree-invalidation-crash.html: Added.

2021-06-17  Enrique Ocaña González  <eocanha@igalia.com>

        [GTK] Unexpected timeout in http/tests/media/video-play-stall-seek.html
        https://bugs.webkit.org/show_bug.cgi?id=196198

        Reviewed by Philippe Normand.

        Make test more stable and don't expect NETWORK_LOADING, because some network implementations,
        like libsoup, just report end-of-stream and finish the download.

        * http/tests/media/video-play-stall-seek-expected.txt: Removed NETWORK_LOADING expectation.
        * http/tests/media/video-play-stall-seek.html: Stabilize the test by not listening to waiting events once the relevant one has been handled, and by pausing the video after the test has finished. Also re
move the NETWORK_LOADING check.
        * platform/glib/TestExpectations: Unskipped test.
        * platform/gtk-wayland/TestExpectations: Ditto.

2021-06-17  Philippe Normand  <pnormand@igalia.com>

        Unreviewed GStreamer mediastream gardening

        * platform/glib/TestExpectations: Unflag fast/mediastream/media-stream-renders-first-frame.html
        * platform/wpe/TestExpectations: Move getDisplayMedia expectations to glib file.

2021-06-17  Philippe Normand  <pnormand@igalia.com>

        Unreviewed GStreamer mediastream gardening

        * platform/glib/TestExpectations: Unflag 3 tests consistently passing.

2021-06-17  Youenn Fablet  <youenn@apple.com>

        Fix RTCDataChannelInit::decode
        https://bugs.webkit.org/show_bug.cgi?id=226968
        <rdar://problem/79300038>

        Reviewed by Eric Carlson.

        * http/wpt/webrtc/transfer-datachannel-service-worker.https-expected.txt: Added.
        * http/wpt/webrtc/transfer-datachannel-service-worker.https.html: Added.
        * http/wpt/webrtc/transfer-datachannel-service-worker.js: Added.
        (onmessage):
        * platform/mac-wk1/TestExpectations:

2021-06-16  Chris Dumez  <cdumez@apple.com>

        Document's execCommand() / queryCommand*() should throw an exception on non-HTML/XHTML documents
        https://bugs.webkit.org/show_bug.cgi?id=227016

        Reviewed by Darin Adler.

        * fast/dom/Document/document-execcommand-expected.txt: Added.
        * fast/dom/Document/document-execcommand.html: Added.
        Add layout test coverage.

        * editing/pasteboard/createMarkup-assert-expected.txt: Removed.
        * editing/pasteboard/createMarkup-assert.xml: Removed.
        * platform/mac/svg/text/foreignObject-repaint-expected.txt:
        * platform/mac/svg/text/foreignObject-text-clipping-bug-expected.txt:
        * platform/mac/svg/text/text-align-01-b-expected.txt:
        * platform/mac/svg/text/text-align-02-b-expected.txt:
        * platform/mac/svg/text/text-align-03-b-expected.txt:
        * platform/mac/svg/text/text-align-04-b-expected.txt:
        * platform/mac/svg/text/text-align-05-b-expected.txt:
        * platform/mac/svg/text/text-align-06-b-expected.txt:
        * platform/mac/svg/text/text-deco-01-b-expected.txt:
        * platform/mac/svg/text/text-fonts-01-t-expected.txt:
        * platform/mac/svg/text/text-fonts-02-t-expected.txt:
        * platform/mac/svg/text/text-intro-05-t-expected.txt:
        * platform/mac/svg/text/text-path-01-b-expected.txt:
        * platform/mac/svg/text/text-spacing-01-b-expected.txt:
        * platform/mac/svg/text/text-text-01-b-expected.txt:
        * platform/mac/svg/text/text-text-03-b-expected.txt:
        * platform/mac/svg/text/text-text-04-t-expected.txt:
        * platform/mac/svg/text/text-text-05-t-expected.txt:
        * platform/mac/svg/text/text-text-07-t-expected.txt:
        * platform/mac/svg/text/text-text-08-b-expected.txt:
        * platform/mac/svg/text/text-tref-01-b-expected.txt:
        * platform/mac/svg/text/text-tselect-01-b-expected.txt:
        * platform/mac/svg/text/text-tselect-02-f-expected.txt:
        * platform/mac/svg/text/text-tspan-01-b-expected.txt:
        * svg/custom/bug78838-expected.txt:
        * svg/custom/bug79798-expected.txt:
        * svg/custom/delete-modified-text-in-defs-crash.svg:
        * svg/custom/layout-loop-expected.txt:
        * svg/text/text-positioning-remove-child-crash.svg:
        Rebaseline / update existing tests due to behavior change.

2021-06-16  Cameron McCormack  <heycam@apple.com>

        Make RenderLayer::hitTestLayer not assume its renderer is a RenderBox
        https://bugs.webkit.org/show_bug.cgi?id=227004
        <rdar://79265788>

        Reviewed by Simon Fraser.

        * css3/masking/clip-path-hit-test-on-inline-iframe-parent-expected.txt: Added.
        * css3/masking/clip-path-hit-test-on-inline-iframe-parent.html: Added.

2021-06-16  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Unreviewed test gardening. Skip another WebGL 2 test.
        https://bugs.webkit.org/show_bug.cgi?id=227093

        * platform/glib/TestExpectations:

2021-06-16  Chris Dumez  <cdumez@apple.com>

        Resync FileAPI tests from upstream WPT
        https://bugs.webkit.org/show_bug.cgi?id=227089

        Reviewed by Darin Adler.

        * tests-options.json:

2021-06-16  Ada Chan  <ada.chan@apple.com>

        Allow WebXR tests to be run on Mac
        https://bugs.webkit.org/show_bug.cgi?id=227054

        Reviewed by Sam Weinig.

        Updated expected results and TestExpectations.
        Copied old versions of expected results that were in imported/w3c/web-platform-tests/webxr
        to platform/wpe/imported/w3c/web-platform-tests/webxr so test runs on wpe should not be
        affected.

        * TestExpectations:
        * http/wpt/webxr/xrSession_end_device_reports_shutdown.https-expected.txt:
        * http/wpt/webxr/xrSession_ended_by_system.https-expected.txt:
        * http/wpt/webxr/xrSession_reject_multiple_end.https-expected.txt:
        * platform/mac/imported/w3c/web-platform-tests/webxr/getInputPose_pointer.https-expected.txt: Added.
        * platform/mac/imported/w3c/web-platform-tests/webxr/webxr_feature_policy.https-expected.txt: Added.
        * platform/mac/imported/w3c/web-platform-tests/webxr/xrSession_requestReferenceSpace_features.https-expected.txt: Added.
        * platform/mac/imported/w3c/web-platform-tests/webxr/xrSession_visibilityState.https-expected.txt: Added.
        * platform/mac/imported/w3c/web-platform-tests/webxr/xrWebGLLayer_framebuffer_draw.https-expected.txt: Added.
        * platform/mac/imported/w3c/web-platform-tests/webxr/xrWebGLLayer_framebuffer_scale.https-expected.txt: Added.
        * platform/mac/imported/w3c/web-platform-tests/webxr/xrWebGLLayer_opaque_framebuffer.https-expected.txt: Added.
        * platform/mac/imported/w3c/web-platform-tests/webxr/xrWebGLLayer_opaque_framebuffer_stencil.https-expected.txt: Added.
        * platform/mac/imported/w3c/web-platform-tests/webxr/xr_viewport_scale.https-expected.txt: Added.
        * platform/wpe/http/wpt/webxr/xrSession_end_device_reports_shutdown.https-expected.txt: Copied from LayoutTests/http/wpt/webxr/xrSession_end_device_reports_shutdown.https-expected.txt.
        * platform/wpe/http/wpt/webxr/xrSession_ended_by_system.https-expected.txt: Copied from LayoutTests/http/wpt/webxr/xrSession_ended_by_system.https-expected.txt.
        * platform/wpe/http/wpt/webxr/xrSession_reject_multiple_end.https-expected.txt: Copied from LayoutTests/http/wpt/webxr/xrSession_reject_multiple_end.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/events_input_source_recreation.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/events_input_source_recreation.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/events_input_sources_change.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/events_input_sources_change.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/events_referenceSpace_reset_immersive.https-expected.txt: Added.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/events_referenceSpace_reset_inline.https-expected.txt: Added.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/events_session_select.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/events_session_select.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/events_session_select_subframe.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/events_session_select_subframe.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/events_session_squeeze.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/events_session_squeeze.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/exclusive_requestFrame_nolayer.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/exclusive_requestFrame_nolayer.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/getInputPose_handedness.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/getInputPose_handedness.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/getViewerPose_emulatedPosition.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/getViewerPose_emulatedPosition.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/navigator_xr_sameObject.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/navigator_xr_sameObject.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/render_state_update.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/render_state_update.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/render_state_vertical_fov_immersive.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/render_state_vertical_fov_immersive.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/render_state_vertical_fov_inline.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/render_state_vertical_fov_inline.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/webGLCanvasContext_create_xrcompatible.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/webGLCanvasContext_create_xrcompatible.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/webGLCanvasContext_makecompatible_contextlost.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/webGLCanvasContext_makecompatible_contextlost.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/webGLCanvasContext_makecompatible_reentrant.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/webGLCanvasContext_makecompatible_reentrant.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrBoundedReferenceSpace_updates.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrBoundedReferenceSpace_updates.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrDevice_disconnect_ends.https-expected.txt: Added.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrDevice_requestSession_immersive.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrDevice_requestSession_immersive.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrDevice_requestSession_optionalFeatures.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrDevice_requestSession_optionalFeatures.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrFrame_getPose.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrFrame_getPose.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrFrame_getViewerPose_getPose.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrFrame_getViewerPose_getPose.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrFrame_lifetime.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrFrame_lifetime.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrFrame_session_sameObject.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrFrame_session_sameObject.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrInputSource_add_remove.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrInputSource_add_remove.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrInputSource_emulatedPosition.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrInputSource_emulatedPosition.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrInputSource_profiles.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrInputSource_profiles.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrInputSource_sameObject.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrInputSource_sameObject.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrPose_transform_sameObject.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrPose_transform_sameObject.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrReferenceSpace_originOffset.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrReferenceSpace_originOffset.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrReferenceSpace_originOffsetBounded.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrReferenceSpace_originOffsetBounded.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrReferenceSpace_originOffset_viewer.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrReferenceSpace_originOffset_viewer.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrReferenceSpace_relationships.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrReferenceSpace_relationships.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrRigidTransform_constructor.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrRigidTransform_constructor.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrRigidTransform_inverse.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrRigidTransform_inverse.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrRigidTransform_sameObject.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrRigidTransform_sameObject.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrSession_cancelAnimationFrame.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrSession_cancelAnimationFrame.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrSession_cancelAnimationFrame_invalidhandle.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrSession_cancelAnimationFrame_invalidhandle.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrSession_end.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrSession_end.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrSession_input_events_end.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrSession_input_events_end.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrSession_requestAnimationFrame_callback_calls.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrSession_requestAnimationFrame_callback_calls.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrSession_requestAnimationFrame_data_valid.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrSession_requestAnimationFrame_data_valid.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrSession_requestAnimationFrame_getViewerPose.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrSession_requestAnimationFrame_getViewerPose.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrSession_requestAnimationFrame_timestamp.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrSession_requestAnimationFrame_timestamp.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrSession_requestReferenceSpace.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrSession_requestReferenceSpace.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrSession_sameObject.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrSession_sameObject.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrSession_viewer_referenceSpace.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrSession_viewer_referenceSpace.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrStationaryReferenceSpace_floorlevel_updates.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrStationaryReferenceSpace_floorlevel_updates.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrView_eyes.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrView_eyes.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrView_match.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrView_match.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrView_oneframeupdate.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrView_oneframeupdate.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrView_sameObject.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrView_sameObject.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrViewerPose_views_sameObject.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrViewerPose_views_sameObject.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrViewport_valid.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrViewport_valid.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrWebGLLayer_constructor.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrWebGLLayer_constructor.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrWebGLLayer_framebuffer_sameObject.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrWebGLLayer_framebuffer_sameObject.https-expected.txt.
        * platform/wpe/imported/w3c/web-platform-tests/webxr/xrWebGLLayer_viewports.https-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/xrWebGLLayer_viewports.https-expected.txt.

2021-06-16  Chris Dumez  <cdumez@apple.com>

        FileReader.readAsArrayBuffer misses checking for the type of blob param
        https://bugs.webkit.org/show_bug.cgi?id=226640
        <rdar://problem/79193198>

        Reviewed by Youenn Fablet.

        Add layout test coverage. I have verified that this test is passing in Firefox and Chrome as well.

        * fast/files/filereader-invalid-blob-expected.txt: Added.
        * fast/files/filereader-invalid-blob.html: Added.

2021-06-16  Amir Mark Jr  <amir_mark@apple.com>

        [EWS MacOS WK1] imported/w3c/web-platform-tests/css/css-scroll-snap/scroll-target-snap-003.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=227085

        Unreviewed test gardening.

        Updating test expectations to clear EWS warning.

        * platform/mac-wk1/TestExpectations:

2021-06-16  Amir Mark Jr  <amir_mark@apple.com>

        Fix test expectations for plugin tests on arm64
        https://bugs.webkit.org/show_bug.cgi?id=226783

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-06-16  Tim Nguyen  <ntim@apple.com>

        Make CSS.supports() return false for internal CSS properties
        https://bugs.webkit.org/show_bug.cgi?id=224930

        Reviewed by Antti Koivisto.

        Test: LayoutTests/fast/backgrounds/background-repeat-x-y-parse.html

        Examples that are now rejected:

        CSS.supports("background-repeat-x: inherit")
        CSS.supports("background-repeat-x", "inherit")
        CSS.supports("background-repeat-y: inherit")
        CSS.supports("background-repeat-y", "inherit")

        * fast/backgrounds/background-repeat-x-y-parse-expected.txt:
        * fast/backgrounds/background-repeat-x-y-parse.html:
        * fast/css/webkit-mask-crash-implicit-expected.txt:
        * fast/css/webkit-mask-crash-implicit.html:

2021-06-16  Toshio Ogasawara  <toshio.ogasawara@access-company.com>

        [MSE] Crash when getting audioTracks, videoTracks, textTracks of sourceBuffer after executing MediaSource::removeSourceBuffer()
        https://bugs.webkit.org/show_bug.cgi?id=227018

        Reviewed by Eric Carlson.

        * media/media-source/media-source-get-tracks-crash-expected.txt: Added.
        * media/media-source/media-source-get-tracks-crash.html: Added.

2021-06-16  Alan Bujtas  <zalan@apple.com>

        Content moves up when hovering over a link on Hacker News
        https://bugs.webkit.org/show_bug.cgi?id=226852
        <rdar://78537231>

        Reviewed by Antti Koivisto.

        * fast/inline/hidpi-legacy-integral-rounding-on-inline-boxes-expected.html: Added.
        * fast/inline/hidpi-legacy-integral-rounding-on-inline-boxes.html: Added.

2021-06-16  Frederic Wang  <fwang@igalia.com>

        Nullptr crash in positionInParentBeforeNode via InsertTextCommand::doApply
        https://bugs.webkit.org/show_bug.cgi?id=226870

        Reviewed by Ryosuke Niwa.

        Add regression test.

        * fast/editing/insert-text-orphaned-summary-crash-expected.txt: Added.
        * fast/editing/insert-text-orphaned-summary-crash.html: Added.

2021-06-16  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Unreviewed test gardening, add some new Timing-Allow-Origin failures
        https://bugs.webkit.org/show_bug.cgi?id=227008

        * platform/glib/TestExpectations:

2021-06-15  Said Abou-Hallawa  <said@apple.com>

        [GPU Process] ConcreteImageBuffer::baseTransform() returns incorrect transform for unaccelerated ImageBuffer
        https://bugs.webkit.org/show_bug.cgi?id=227044
        <rdar://78642742>

        Reviewed by Simon Fraser.

        The large size of the canvas in this layout test will force creating 
        unaccelerated ImageBufferBackend.

        * fast/canvas/canvas-large-dimensions-drawing-expected.html: Added.
        * fast/canvas/canvas-large-dimensions-drawing.html: Added.

2021-06-15  Jean-Yves Avenard  <jya@apple.com>

        REGRESSION: MSE: Netflix playback sometimes fails when going to "next episode" in series
        https://bugs.webkit.org/show_bug.cgi?id=226952
        rdar://77583769

        Reviewed by Eric Carlson.

        * media/media-source/media-source-seek-unbuffered-expected.txt: Added.
        * media/media-source/media-source-seek-unbuffered.html: Added.

2021-06-15  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening. Updated test expectations after r277896.

        Two tests are now failing:
          - fast/canvas/canvas-imageSmoothingEnabled.html.
          - fast/canvas/canvas-imageSmoothingQuality.html.

        * platform/glib/TestExpectations:
        * platform/gtk/fast/canvas/canvas-imageSmoothingQuality-expected.txt: Removed.

2021-06-15  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo/TestExpectations:

2021-06-15  Chris Lord  <clord@igalia.com>

        Scrollbars are not clipped to layer bounds in RenderLayerBacking
        https://bugs.webkit.org/show_bug.cgi?id=226823

        Reviewed by Simon Fraser.

        Adjust test expectations due to clipping on overflow controls container.

        * compositing/clipping/border-radius-async-overflow-clipping-layer-expected.txt:
        * compositing/layer-creation/clipping-scope/nested-scroller-overlap-expected.txt:
        * compositing/rtl/rtl-scrolling-with-transformed-descendants-expected.txt:
        * compositing/scrolling/async-overflow-scrolling/clipped-layer-in-overflow-clipped-by-scroll-expected.txt:
        * compositing/scrolling/async-overflow-scrolling/clipped-layer-in-overflow-expected.txt:
        * compositing/scrolling/async-overflow-scrolling/clipped-layer-in-overflow-nested-expected.txt:
        * compositing/scrolling/async-overflow-scrolling/layer-for-negative-z-in-scroller-expected.txt:
        * compositing/scrolling/async-overflow-scrolling/layer-in-overflow-clip-to-hidden-expected.txt:
        * compositing/scrolling/async-overflow-scrolling/layer-in-overflow-clip-to-visible-expected.txt:
        * compositing/scrolling/async-overflow-scrolling/layer-in-overflow-expected.txt:
        * compositing/scrolling/async-overflow-scrolling/layer-in-overflow-gain-clipping-layer-expected.txt:
        * compositing/scrolling/async-overflow-scrolling/layer-in-overflow-in-clipped-expected.txt:
        * compositing/scrolling/async-overflow-scrolling/layer-in-overflow-lose-clipping-layer-expected.txt:
        * compositing/scrolling/async-overflow-scrolling/nested-scrollers-backing-attachment-expected.txt:
        * compositing/scrolling/async-overflow-scrolling/overflow-controls-container-clips-scrollbars-expected.html: Added.
        * compositing/scrolling/async-overflow-scrolling/overflow-controls-container-clips-scrollbars.html: Added.
        * compositing/scrolling/async-overflow-scrolling/transform-change-scrollbar-position-expected.txt:
        * compositing/scrolling/async-overflow-scrolling/visibility-hidden-scrollers-expected.txt:
        * compositing/shared-backing/overflow-scroll/previous-sibling-prevents-inclusiveness-expected.txt:
        * compositing/tiling/perspective-on-scroller-tile-coverage-expected.txt:
        * platform/mac-wk1/compositing/clipping/border-radius-async-overflow-clipping-layer-expected.txt:
        * tiled-drawing/scrolling/overflow/overflow-scrolled-down-tile-coverage-expected.txt:
        * tiled-drawing/scrolling/overflow/overflow-scrolled-up-tile-coverage-expected.txt:
        * tiled-drawing/scrolling/overflow/overflow-tile-coverage-expected.txt:

2021-06-15  Alex Christensen  <achristensen@webkit.org>

        Check for "xn--" in any subdomain when parsing URL hosts
        https://bugs.webkit.org/show_bug.cgi?id=226912

        Reviewed by Darin Adler.

        * fast/dom/DOMURL/parsing-expected.txt:
        * fast/dom/DOMURL/parsing.html:
        Update the test I added in r236527 to reflect this relaxation.
        This matches the behavior of Chrome Canary.

2021-06-15  Youenn Fablet  <youenn@apple.com>

        (r278359) fast/mediastream/mediaElement-gc.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=226991
        <rdar://problem/79309901>

        Reviewed by Eric Carlson.

        * fast/mediastream/mediaElement-gc.html:
        Call GC several times if needed to collect the media element.

2021-06-15  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GTK] Unreviewed test gardening: add expected failure

        The fast/text/letter-spacing-produces-nan-width.html test crashes on debug.

        * platform/gtk/TestExpectations:

2021-06-15  Alan Bujtas  <zalan@apple.com>

        [LFC][TFC] Add support for preferred width computation when mixed width types are present
        https://bugs.webkit.org/show_bug.cgi?id=227010

        Reviewed by Antti Koivisto.

        * fast/layoutformattingcontext/table-space-distribution-mixed-width-type-simple-expected.html: Added.
        * fast/layoutformattingcontext/table-space-distribution-mixed-width-type-simple.html: Added.

2021-06-15  Martin Robinson  <mrobinson@igalia.com>

        [css-scroll-snap] Scroll snap offsets are interpreted as scroll positions in ScrollableArea
        https://bugs.webkit.org/show_bug.cgi?id=226572

        Reviewed by Simon Fraser.

        * TestExpectations: Mark test as newly passing.
        * css3/scroll-snap/scroll-snap-right-to-left-initial-snapping-expected.txt: Added.
        * css3/scroll-snap/scroll-snap-right-to-left-initial-snapping.html: Added.

2021-06-15  Enrique Ocaña González  <eocanha@igalia.com>

        [GStreamer] media/video-seek-after-end.html is no longer flakey
        https://bugs.webkit.org/show_bug.cgi?id=203079
        <rdar://problem/56366173>

        Reviewed by Philippe Normand.

        Increased test timeout to something higher than 1300ms to prevent the test failure.

        * media/video-seek-after-end.html: Increased timeout.
        * platform/glib/TestExpectations: Unskipped the test.

2021-06-15  Martin Robinson  <mrobinson@webkit.org>

        [css-scroll-snap] New snap containers always snap to the first scroll position
        https://bugs.webkit.org/show_bug.cgi?id=226630

        Reviewed by Simon Fraser.

        * TestExpectations: Mark two WPT tests as passing.

2021-06-14  Youenn Fablet  <youenn@apple.com>

        Import WPT webrtc-extensions
        https://bugs.webkit.org/show_bug.cgi?id=226961

        Reviewed by Eric Carlson.

        * tests-options.json:

2021-06-14  Diego Pino Garcia  <dpino@igalia.com>

        [GStreamer] media/track/audio/audio-track-mkv-vorbis-language.html and media/track/video/video-track-mkv-theora-language.html are failing
        https://bugs.webkit.org/show_bug.cgi?id=226864

        Reviewed by Eric Carlson.

        These tests were failing due to an apparently incorrect order of
        languages in audio and video tracks.

        Examining the video container with tools like mediasource or VLC shows
        that the order expected by GStreamer ports is correct. To make these
        tests pass I changed the tests to make them language order independent
        by fetching audio or video tracks by id.

        * media/in-band-tracks.js:
        (canplaythrough):
        (testAttribute): values' can be also an Object. In that case, fetch tracks by 'id'.
        * media/track/audio/audio-track-mkv-vorbis-language-expected.txt: Updated.
        * media/track/audio/audio-track-mkv-vorbis-language.html: Pass language expected results as a map indexed by track id.
        * media/track/video/video-track-mkv-theora-language-expected.txt: Updated.
        * media/track/video/video-track-mkv-theora-language.html: Pass language expected results as a map indexed by track id.

2021-06-14  Truitt Savell  <tsavell@apple.com>

        Unreviewed, reverting r278842.

        introduced a failing test

        Reverted changeset:

        "Fix RTCDataChannelInit::decode"
        https://bugs.webkit.org/show_bug.cgi?id=226968
        https://commits.webkit.org/r278842

2021-06-14  Patrick Angle  <pangle@apple.com>

        Web Inspector: CSS variables not handled as case sensitive
        https://bugs.webkit.org/show_bug.cgi?id=226875

        Reviewed by Devin Rousso.

        Add a test to make sure that CSS variable declarations that vary only in case do not override each other.

        * inspector/css/overridden-property-expected.txt:
        * inspector/css/overridden-property.html:

2021-06-14  Youenn Fablet  <youenn@apple.com>

        Fix RTCDataChannelInit::decode
        https://bugs.webkit.org/show_bug.cgi?id=226968

        Reviewed by Eric Carlson.

        * platform/mac-wk1/TestExpectations:

2021-06-14  Robert Jenner  <jenner@apple.com>

        [LayoutTests] Delete unused LayoutTests/plugins resources
        https://bugs.webkit.org/show_bug.cgi?id=226837

        Reviewed by Jonathan Bedard.

        * plugins/resources/frame-with-plugin-subframe.html: Removed.
        * plugins/resources/lines.swf: Removed.
        * plugins/resources/plugin-page.html: Removed.

2021-06-14  Per Arne  <pvollan@apple.com>

        [AppleWin] Update test expectations
        https://bugs.webkit.org/show_bug.cgi?id=226970

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-06-14  Alan Bujtas  <zalan@apple.com>

        [LFC][TFC] Add support for flexing columns when the content is also flexing
        https://bugs.webkit.org/show_bug.cgi?id=226959

        Reviewed by Antti Koivisto.

        * TestExpectations: LFC matches Chrome and Firefox.
        * fast/layoutformattingcontext/table-space-distribution-simple-mismatching-expected.txt: Added.
        * fast/layoutformattingcontext/table-space-distribution-simple-mismatching.html: Added.
        * fast/layoutformattingcontext/table-space-distribution-simple2-expected.html: Added.
        * fast/layoutformattingcontext/table-space-distribution-simple2.html: Added.

2021-06-13  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo/TestExpectations:

2021-06-13  Chris Dumez  <cdumez@apple.com>

        Relax "parent must be an HTMLElement" restriction in outerHTML setter
        https://bugs.webkit.org/show_bug.cgi?id=226808

        Reviewed by Ryosuke Niwa.

        * fast/dom/set-outer-html-special-cases-expected.txt: Added.
        * fast/dom/set-outer-html-special-cases.html: Added.
        Add layout test coverage

        * fast/dynamic/outerHTML-no-element-expected.txt:
        Rebaseline test due to different exception message.

        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/relations/css-styling/padding-border-margin/margin-003-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/relations/css-styling/padding-border-margin/margin-003-expected.txt:
        Rebaseline WPT test. This is actually a progression because we're no longer throwing. However, the test is still failing
        later on.

2021-06-13  Alan Bujtas  <zalan@apple.com>

        [LFC][TFC] Add support for over-constrained cases for available space distribution
        https://bugs.webkit.org/show_bug.cgi?id=226957

        Reviewed by Antti Koivisto.

        * fast/layoutformattingcontext/table-space-distribution-simple-expected.html: Added.
        * fast/layoutformattingcontext/table-space-distribution-simple.html: Added.

2021-06-12  Sam Weinig  <weinig@apple.com>

        Disable WebXR tests on Windows
        https://bugs.webkit.org/show_bug.cgi?id=226956

        Reviewed by Alan Bujtas.

        * platform/win/TestExpectations:
        Disable all tests in webxr/ on windows as the feature is not enabled there.

2021-06-12  Devin Rousso  <drousso@apple.com>

        (r278618) media/modern-media-controls/overflow-support/chapters.html is timing out since introduction
        https://bugs.webkit.org/show_bug.cgi?id=226828
        <rdar://problem/79084756>

        Unreviewed followup for flaky test.

        * media/modern-media-controls/overflow-support/chapters.html:
        * media/modern-media-controls/overflow-support/chapters-expected.txt:
        It may take a moment for the `currentTime` to updating after selecting a chapter.

2021-06-16  Ryan Haddad  <ryanhaddad@apple.com>

        REGRESSION (r274461): [macOS wk1] fast/repaint/canvas-object-fit.html is flakey text failing
        https://bugs.webkit.org/show_bug.cgi?id=223283

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations: Re-add a flaky expectation.

2021-06-11  Robert Jenner  <jenner@apple.com>

        [LayoutTests] Delete unused LayoutTests/html5lib resources
        https://bugs.webkit.org/show_bug.cgi?id=226833

        Reviewed by Jonathan Bedard.

        * html5lib/resources/isindex.dat: Removed.
        * html5lib/resources/scripted/ark.dat: Removed.

2021-06-11  Robert Jenner  <jenner@apple.com>

        [LayoutTests] Delete unused LayoutTests/loader resources
        https://bugs.webkit.org/show_bug.cgi?id=226835

        Reviewed by Jonathan Bedard.

        * loader/navigation-policy/should-open-external-urls/resources/main-frame-with-subframe-click-targets-subframe.html: Removed.

2021-06-11  Robert Jenner  <jenner@apple.com>

        [LayoutTests] Delete unused LayoutTests/webaudio resources
        https://bugs.webkit.org/show_bug.cgi?id=226843

        Reviewed by Jonathan Bedard.

        * webaudio/resources/convolution-testing.js: Removed.
        * webaudio/resources/javascriptaudionode-testing.js: Removed.
        * webaudio/resources/note-grain-on-testing.js: Removed.
        * webaudio/resources/scriptprocessornode-testing.js: Removed.

2021-06-11  Robert Jenner  <jenner@apple.com>

        [LayoutTests] Delete unused LayoutTests/tiled-drawing resources
        https://bugs.webkit.org/show_bug.cgi?id=226842

        Reviewed by Jonathan Bedard.

        * tiled-drawing/resources/green.png: Removed.

2021-06-11  Robert Jenner  <jenner@apple.com>

        [LayoutTests] Delete unused LayoutTests/security resources
        https://bugs.webkit.org/show_bug.cgi?id=226839

        Reviewed by Jonathan Bedard.

        * security/resources/worker-isSecureContext-disabled.js: Removed.

2021-06-11  Robert Jenner  <jenner@apple.com>

        N[LayoutTests] Delete unused LayoutTests/media resources
        https://bugs.webkit.org/show_bug.cgi?id=226836

        Reviewed by Jonathan Bedard.

        * media/track/opera/resources/media/sunflower.mp4: Removed.
        * media/track/opera/resources/media/sunflower.webm: Removed.

2021-06-11  Robert Jenner  <jenner@apple.com>

        [LayoutTests] Delete unused LayoutTests/js resources
        https://bugs.webkit.org/show_bug.cgi?id=226796

        Reviewed by Jonathan Bedard.

        * js/dom/modules/resources/module-will-fire-beforeload.js: Removed.
        * js/kde/resources/KNOWN_FAILURES: Removed.
        * js/mozilla/resources/js-test-post-async.js: Removed.
        * js/mozilla/resources/js-test-post-function.js: Removed.
        * js/mozilla/resources/js-test-post-n.js: Removed.

2021-06-11  Robert Jenner  <jenner@apple.com>

        [LayoutTests] Delete unused LayoutTests/css3 resources
        https://bugs.webkit.org/show_bug.cgi?id=226827

        Reviewed by Jonathan Bedard.

        * css3/masking/resources/clip.svg: Removed.
        * css3/resources/FeatureTest.ttf: Removed.

2021-06-11  Truitt Savell  <tsavell@apple.com>

        imported/w3c/web-platform-tests/webaudio/the-audio-api/the-audiobuffersourcenode-interface/active-processing.https.html  is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=226942

        Unreviewed test gardening.

        * TestExpectations:

2021-06-11  Patrick Angle  <pangle@apple.com>

        Web Inspector: Add instrumentation to node destruction for InspectorDOMAgent
        https://bugs.webkit.org/show_bug.cgi?id=226624

        Reviewed by Devin Rousso.

        * inspector/dom/willDestroyDOMNode-expected.txt: Added.
        * inspector/dom/willDestroyDOMNode.html: Added.

2021-06-11  Wenson Hsieh  <wenson_hsieh@apple.com>

        [Live Text] Text selection inside image elements should not be cleared upon resize
        https://bugs.webkit.org/show_bug.cgi?id=226911

        Reviewed by Tim Horton.

        * fast/images/text-recognition/mac/image-overlay-maintain-selection-during-size-change-expected.txt: Added.
        * fast/images/text-recognition/mac/image-overlay-maintain-selection-during-size-change.html: Added.

2021-06-11  Cathie Chen  <cathiechen@igalia.com>

        Use HTMLDimension to parse different HTML attribute length values
        https://bugs.webkit.org/show_bug.cgi?id=226810

        Reviewed by Darin Adler.

        * platform/ios-wk2/imported/w3c/web-platform-tests/html/rendering/pixel-length-attributes-expected.txt:

2021-06-11  Youenn Fablet  <youenn@apple.com>

        getDisplayMedia API doesn't work
        https://bugs.webkit.org/show_bug.cgi?id=226874
        <rdar://problem/79134041>

        Reviewed by Eric Carlson.

        * fast/mediastream/getDisplayMedia-frame-rate-expected.txt: Added.
        * fast/mediastream/getDisplayMedia-frame-rate.html: Added.

2021-06-11  Alex Christensen  <achristensen@webkit.org>

        EventSource.constructor throws an exception when the url param is an empty string
        https://bugs.webkit.org/show_bug.cgi?id=226635

        Reviewed by Yusuke Suzuki.

        * fast/eventsource/eventsource-constructor-expected.txt:
        * fast/eventsource/eventsource-constructor.html:

2021-06-11  Diego Pino Garcia  <dpino@igalia.com>

        [GTK] Test css3/filters/composited-during-animation-layertree.html is flaky since r214292
        https://bugs.webkit.org/show_bug.cgi?id=171600

        Reviewed by Adrian Perez de Castro.

        The general baseline for this test was empty. Updated it with the
        results of iOS. I also removed the test failure from iOS TestExpectations.

        The test is marked as flaky in Mac because sometimes it produces empty
        results (webkit.org/b/95622). I don't touch the Mac baseline and leave
        the test as flaky in Mac TestExpectations.

        Finally, I moved the current baseline that exists for WPE to GLIB, as
        WebKitGTK produces the same results.

        * css3/filters/composited-during-animation-layertree-expected.txt:
        * platform/glib/css3/filters/composited-during-animation-layertree-expected.txt: Renamed from LayoutTests/platform/wpe/css3/filters/composited-during-animation-layertree-expected.txt.
        * platform/gtk/TestExpectations:
        * platform/ios/TestExpectations:

2021-06-11  Kimmo Kinnunen  <kkinnunen@apple.com>

        WebGL context image buffer accumulates the NativeImage contents when drawn to RemoteImageBufferProxy
        https://bugs.webkit.org/show_bug.cgi?id=226813
        <rdar://77421966>

        Reviewed by Simon Fraser.

        Add a test that should crash on some devices with low
        memory limits.

        * webgl/draw-webgl-to-context2d-memory-test-expected.txt: Added.
        * webgl/draw-webgl-to-context2d-memory-test.html: Added.

2021-06-10  Sam Weinig  <weinig@apple.com>

        Nothing is keeping navigator.xr alive during GC
        https://bugs.webkit.org/show_bug.cgi?id=226898

        Reviewed by Chris Dumez.

        Add test that ensure the navigator.xr wrapper is kept alive when it has
        custom properties. 

        * webxr: Added.
        * webxr/gc-expected.txt: Added.
        * webxr/gc.html: Added.

2021-06-10  Wenson Hsieh  <wenson_hsieh@apple.com>

        [Live Text] Add a mechanism to regenerate text in an image element when it changes dimensions
        https://bugs.webkit.org/show_bug.cgi?id=226858
        rdar://77522786

        Reviewed by Devin Rousso.

        * fast/images/text-recognition/image-overlay-size-change-expected.txt: Added.
        * fast/images/text-recognition/image-overlay-size-change.html: Added.

2021-06-10  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Unreviewed test gardening, mark some WebGL tests as passing
        https://bugs.webkit.org/show_bug.cgi?id=226847

        These tests appear to pass consistently on both GTK and WPE now.

        * platform/gtk/TestExpectations:
        * platform/wpe/TestExpectations:

2021-06-10  Chris Dumez  <cdumez@apple.com>

        REGRESSION: service-workers/service-worker/credentials.https.html and content-security-policy/reporting/report-only-in-meta.sub.html failing together constantly.
        https://bugs.webkit.org/show_bug.cgi?id=226884
        <rdar://problem/79148983>

        Reviewed by Geoffrey Garen.

        Unskip tests that should no longer be failing.

        * TestExpectations:

2021-06-10  Devin Rousso  <drousso@apple.com>

        (r278618) media/modern-media-controls/overflow-support/chapters.html is timing out since introduction
        https://bugs.webkit.org/show_bug.cgi?id=226828
        <rdar://problem/79084756>

        Unreviewed followup for flaky test.

        * media/modern-media-controls/overflow-support/chapters.html:
        Add manual timeouts for each `await` to see where exactly the test fails.

2021-06-10  Alex Christensen  <achristensen@webkit.org>

        Move Timing-Allow-Origin checks to the network process
        https://bugs.webkit.org/show_bug.cgi?id=226678
        <rdar://problem/45227788>

        Reviewed by Chris Dumez.

        * TestExpectations:

2021-06-11  Ryan Haddad  <ryanhaddad@apple.com>

        Layout test svg/animations/smil-leak-elements.svg is flaky
        https://bugs.webkit.org/show_bug.cgi?id=174180

        Unreviewed test gardening.

        This test is flaky on WK1 and WK2, so move the expectation.

        * platform/mac-wk1/TestExpectations:
        * platform/mac/TestExpectations:

2021-06-10  Cameron McCormack  <heycam@apple.com>

        Move some Mac MathML test expectation files around
        https://bugs.webkit.org/show_bug.cgi?id=226868
        <rdar://78786837>

        Reviewed by Frédéric Wang.

        This should give better forward compatibility for Mac platforms, by
        making the mac/ directory the default correct one, and the
        mac-catalina/ and mac-mojave/ ones be exceptions.

        * platform/mac-bigsur/imported/w3c/web-platform-tests/mathml/relations/css-styling/ignored-properties-001-expected.txt: Removed.
        * platform/mac-bigsur/imported/w3c/web-platform-tests/mathml/relations/css-styling/padding-border-margin/padding-002-expected.txt: Removed.
        * platform/mac-catalina/imported/w3c/web-platform-tests/mathml/relations/css-styling/ignored-properties-001-expected.txt: Copied from LayoutTests/platform/mac/imported/w3c/web-platform-tests/mathml/relations/css-styling/ignored-properties-001-expected.txt.
        * platform/mac-catalina/imported/w3c/web-platform-tests/mathml/relations/css-styling/padding-border-margin/padding-002-expected.txt: Copied from LayoutTests/platform/mac/imported/w3c/web-platform-tests/mathml/relations/css-styling/padding-border-margin/padding-002-expected.txt.
        * platform/mac-mojave/imported/w3c/web-platform-tests/mathml/relations/css-styling/ignored-properties-001-expected.txt: Copied from LayoutTests/platform/mac/imported/w3c/web-platform-tests/mathml/relations/css-styling/ignored-properties-001-expected.txt.
        * platform/mac-mojave/imported/w3c/web-platform-tests/mathml/relations/css-styling/padding-border-margin/padding-002-expected.txt: Copied from LayoutTests/platform/mac/imported/w3c/web-platform-tests/mathml/relations/css-styling/padding-border-margin/padding-002-expected.txt.
        * platform/mac/imported/w3c/web-platform-tests/mathml/relations/css-styling/ignored-properties-001-expected.txt:
        * platform/mac/imported/w3c/web-platform-tests/mathml/relations/css-styling/padding-border-margin/padding-002-expected.txt:

2021-06-10  Toshio Ogasawara  <toshio.ogasawara@access-company.com>

        [MSE] When currentTime is a large value, it takes time to process SourceBufferPrivate::evictCodedFrames().
        https://bugs.webkit.org/show_bug.cgi?id=226867

        Reviewed by Eric Carlson.

        * media/media-source/media-source-evict-codedframe-large-currenttime-expected.txt: Added.
        * media/media-source/media-source-evict-codedframe-large-currenttime.html: Added.

2021-06-10  Truitt Savell  <tsavell@apple.com>

        Skip tiled-drawing/scrolling/non-fast-region/wheel-event-plugin.html for arm64
        https://bugs.webkit.org/show_bug.cgi?id=226896

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-06-10  Ben Nham  <nham@apple.com>

        Only cache GET requests in the memory cache
        https://bugs.webkit.org/show_bug.cgi?id=226359

        Reviewed by Geoff Garen.

        Added tests to make sure only GETs end up in the memory cache.

        Also fixed a flaky test that was depending on a POST response in an iframe to be in the
        memory cache when doing a history navigation.

        * http/tests/cache/memory-cache-only-caches-get-expected.txt: Added.
        * http/tests/cache/memory-cache-only-caches-get.html: Added.
        * http/tests/cache/resources/echo-cacheable.cgi: Added.
        * http/tests/navigation/post-frames-goback1.html:
        * platform/mac/TestExpectations:

2021-06-10  Truitt Savell  <tsavell@apple.com>

        REGRESSION: (r278650 - r278655) service-workers/service-worker/credentials.https.html and content-security-policy/reporting/report-only-in-meta.sub.html failing together constantly.
        https://bugs.webkit.org/show_bug.cgi?id=226884

        Unreviewed test gardening.

        * TestExpectations:

2021-06-10  Youenn Fablet  <youenn@apple.com>

        CountQueuingStrategy.constructor misses checking the type of init param
        https://bugs.webkit.org/show_bug.cgi?id=226759

        Reviewed by Chris Dumez.

        * streams/shadowing-defineProperty.html:

2021-06-10  Rob Buis  <rbuis@igalia.com>

        Treat intrinsic like *-content
        https://bugs.webkit.org/show_bug.cgi?id=226790

        Reviewed by Sergio Villar Senin.

        Add tests for intrinsic and min-intrinsic and move relevant tests to fast/flexbox.

        * fast/flexbox/intrinsic-width-column-flow-crash-expected.txt: Copied from LayoutTests/fast/css/flex-box-intrinsic-width-crash-expected.txt.
        * fast/flexbox/intrinsic-width-column-flow-crash.html: Copied from LayoutTests/fast/css/flex-box-intrinsic-width-crash.html.
        * fast/flexbox/intrinsic-width-crash-expected.txt: Copied from LayoutTests/fast/css/flex-box-intrinsic-width-crash-expected.txt.
        * fast/flexbox/intrinsic-width-crash.html: Copied from LayoutTests/fast/css/flex-box-intrinsic-width-crash.html.
        * fast/flexbox/min-intrinsic-width-crash-expected.txt: Renamed from LayoutTests/fast/css/flex-box-intrinsic-width-crash-expected.txt.
        * fast/flexbox/min-intrinsic-width-crash.html: Renamed from LayoutTests/fast/css/flex-box-intrinsic-width-crash.html.

2021-06-10  Alex Christensen  <achristensen@webkit.org>

        Mark a navigation timing test as flaky
        https://bugs.webkit.org/show_bug.cgi?id=226629

        * TestExpectations:

2021-06-10  Youenn Fablet  <youenn@apple.com>

        Update libwebrtc to M92
        https://bugs.webkit.org/show_bug.cgi?id=226494

        Reviewed by Eric Carlson.

        * webrtc/receiver-track-should-stay-live-even-if-receiver-is-inactive.html:
        Update test since the backend is now fixed.

2021-06-10  Alan Bujtas  <zalan@apple.com>

        ASSERT NOT REACHED in webcore::Layout::LayoutContext::verifyAndOutputMismatchingLayoutTree()
        https://bugs.webkit.org/show_bug.cgi?id=226866
        <rdar://problem/79120482>

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-06-09  Rob Buis  <rbuis@igalia.com>

        Null check page in generateCertificate
        https://bugs.webkit.org/show_bug.cgi?id=226798

        Reviewed by Youenn Fablet.

        * http/wpt/webrtc/RTCPeerConnection-generateCertificate-crash-expected.txt: Added.
        * http/wpt/webrtc/RTCPeerConnection-generateCertificate-crash.html: Added.

2021-06-09  Andres Gonzalez  <andresg_22@apple.com>

        iOS - VoiceOver reads the old heading text when updated with heading.firstChild.data.
        https://bugs.webkit.org/show_bug.cgi?id=226754

        Reviewed by Chris Fleizach.

        * accessibility/ios-simulator/heading-text-updates-expected.txt: Added.
        * accessibility/ios-simulator/heading-text-updates.html: Added.
        * accessibility/mac/heading-text-updates-expected.txt: Added.
        * accessibility/mac/heading-text-updates.html: Added.

2021-06-09  Devin Rousso  <drousso@apple.com>

        (r278618) media/modern-media-controls/overflow-support/chapters.html is timing out since introduction
        https://bugs.webkit.org/show_bug.cgi?id=226828
        <rdar://problem/79084756>

        Unreviewed text fix.

        * media/modern-media-controls/overflow-support/chapters.html:
        * media/modern-media-controls/overflow-support/chapters-expected.txt:
        Wait for the `<track kind="chapters">` to load before clicking on the overflow button as
        otherwise there won't be any chapter cues to display in the contextmenu, meaning that the
        contextmenu would be empty and therefore not be shown.

        * http/tests/resources/js-test-pre.js:
        (shouldBecomeEqual):
        (shouldBecomeDifferent):
        * resources/js-test-pre.js:
        (shouldBecomeEqual):
        (shouldBecomeDifferent):
        * resources/js-test.js:
        (shouldBecomeEqual):
        (shouldBecomeDifferent):
        Allow for `completionHandler` to not be provided, which will cause the function to return a `Promise`.

2021-06-09  Amir Mark Jr  <amir_mark@apple.com>

        REGRESSION (r278630?): [iOS 14] http/tests/ssl/applepay/ApplePayButton.html is a constant failure
        https://bugs.webkit.org/show_bug.cgi?id=226826

        Unreviewed test gardening.

        Updating expectations while EWS is being updated with patch.

        * platform/ios-wk2/TestExpectations:

2021-06-09  Fujii Hironori  <Hironori.Fujii@sony.com>

        LayoutTests: Use os.path.dirname() instead of split('/') for Windows Python
        https://bugs.webkit.org/show_bug.cgi?id=226802

        Reviewed by Jonathan Bedard.

        Windows Python uses backlash for path separator. Use
        os.path.dirname() to get a parent directory.

        * http/tests/appcache/resources/scope1/cookie-protected-manifest.py:
        * http/tests/appcache/resources/scope2/cookie-protected-script.py:
        * http/tests/cache/disk-cache/resources/make-sha1-collision.py:
        * http/tests/cache/resources/load-and-check-referer.py:
        * http/tests/cache/resources/post-image-to-verify.py:
        * http/tests/cookies/multiple-redirect-and-set-cookie.py:
        (redirect_url):
        * http/tests/cookies/same-site/resources/fetch-after-navigating-iframe-in-cross-origin-page.py:
        * http/tests/cookies/same-site/resources/fetch-after-top-level-cross-origin-redirect.py:
        * http/tests/cookies/same-site/resources/fetch-after-top-level-navigation-from-cross-origin-page.py:
        * http/tests/cookies/same-site/resources/fetch-after-top-level-navigation-initiated-from-iframe-in-cross-origin-page.py:
        * http/tests/cookies/same-site/resources/fetch-after-top-level-same-origin-redirect.py:
        * http/tests/cookies/same-site/resources/fetch-in-same-origin-service-worker.py:
        * http/tests/gzip-content-encoding/resources/echo-data-encoding-with-gzip.py:
        * http/tests/media/resources/serve_video.py:
        * http/tests/misc/resources/404image.py:
        * http/tests/misc/resources/image-checks-for-accept.py:
        * http/tests/misc/resources/protected/protected-image.py:
        * http/tests/multipart/resources/multipart-nodashes.py:
        * http/tests/multipart/resources/multipart.py:
        * http/tests/quicklook/resources/word-document-with-csp-block-frame-ancestors.py:
        * http/tests/referrer-policy/resources/image.py:
        * http/tests/security/contentSecurityPolicy/resources/image-document-default-src-none-iframe.py:
        * http/tests/security/mixedContent/resources/subresource/protected-image.py:
        * http/tests/security/mixedContent/resources/subresource/protected-script.py:
        * http/tests/security/mixedContent/resources/subresource/protected-stylesheet.py:
        * http/tests/security/mixedContent/resources/subresource2/protected-image.py:
        * http/tests/security/resources/abe-allow-credentials.py:
        * http/tests/security/resources/abe-allow-star.py:
        * http/tests/security/resources/allow-if-origin.py:
        * http/tests/security/resources/captions-with-access-control-headers.py:
        * http/tests/security/resources/image-access-control.py:
        * http/tests/security/resources/image-credential-check.py:
        * http/tests/security/resources/loading-subresources.py:
        * http/tests/security/resources/reference-movie-cross-origin-allow.py:
        * http/tests/security/resources/subresource1/protected-image.py:
        * http/tests/security/resources/subresource2/protected-image.py:
        * http/tests/security/resources/xorigincss1-allow-star.py:
        * platform/wincairo/TestExpectations:

2021-06-09  Truitt Savell  <tsavell@apple.com>

        Skip http/tests/contentextensions/plugin-doesnt-crash.html on arm64
        https://bugs.webkit.org/show_bug.cgi?id=226783

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-06-09  Alan Bujtas  <zalan@apple.com>

        [Flexbox] FlexItem stays invisible after initial layout
        https://bugs.webkit.org/show_bug.cgi?id=226778

        Reviewed by Simon Fraser.

        * fast/flexbox/repaint-issue-when-flex-item-appears-expected.txt: Added.
        * fast/flexbox/repaint-issue-when-flex-item-appears.html: Added.

2021-06-09  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB][GTK] Unreviewed test gardening. Mark flakey tests as timeout only.

        Several tests marked as flakey have been timing out consistently for
        the last 4000 revisions. Mark state accordingly.

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:

2021-06-09  Diego Pino Garcia  <dpino@igalia.com>

        [GTK] Unreviewed test failures. Switch WPT's WOFF2 tests from flakey to image only failure.

        * platform/gtk/TestExpectations:

2021-06-09  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening. Update test expectations.

        - Mark editing/execCommand/switch-list-type-with-orphaned-li.html as flakey.
        - Create new bug for imported/w3c/web-platform-tests/webaudio/the-audio-api/the-audiocontext-interface/processing-after-resume.https.html

        * platform/glib/TestExpectations:

2021-06-08  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB][GTK] Unreviewed test gardening. Update status of flaky tests failing to Failure.

        All the tests changed were reported as 'Failure' by the GTK post-commit
        bot for the last 4000 revisions.

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:

2021-06-08  Rob Buis  <rbuis@igalia.com>

        CSSOM test for serializing counter() fails
        https://bugs.webkit.org/show_bug.cgi?id=184256

        Reviewed by Sam Weinig.

        Adapt to serialization change.

        * fast/css/counters/counter-cssText-expected.txt:
        * fast/css/counters/counter-cssText.html:
        * fast/css/serialization-with-double-quotes-expected.txt:
        * fast/css/serialization-with-double-quotes.html:

2021-06-08  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening. Update test expectation status of imported/w3c/web-platform-tests/media-source/mediasource-changetype-play.html.

        * platform/glib/TestExpectations:

2021-06-08  Diego Pino Garcia  <dpino@igalia.com>

        [GTK] Unreviewed test gardening. Emit GTK baselines for several SVG tests.

        Other platforms have specific baselines for these tests, including WPE.

        The GTK post-commit bot reports these tests have been consistently
        failing for the last 4000 revisions, so emiting baselines is the first
        step to check if these tests are actually passing.

        * platform/gtk/svg/W3C-SVG-1.1/animate-elem-03-t-expected.txt: Added.
        * platform/gtk/svg/W3C-SVG-1.1/animate-elem-22-b-expected.txt: Added.
        * platform/gtk/svg/text/select-textLength-spacing-squeeze-3-expected.txt: Added.
        * platform/gtk/svg/text/select-textLength-spacing-stretch-1-expected.txt: Added.
        * platform/gtk/svg/text/select-textLength-spacingAndGlyphs-squeeze-1-expected.txt: Added.
        * platform/gtk/svg/text/select-textLength-spacingAndGlyphs-stretch-1-expected.txt: Added.
        * platform/gtk/svg/text/select-x-list-1-expected.txt: Added.
        * platform/gtk/svg/text/select-x-list-with-tspans-1-expected.txt: Added.

2021-06-08  Jean-Yves Avenard  <jya@apple.com>

        [MSE] Assertion if attempting to perform eviction before playback starts.
        https://bugs.webkit.org/show_bug.cgi?id=226720
        <rdar://problem/78943223>

        Reviewed by Eric Carlson.

        * media/media-source/media-source-append-buffer-full-quota-exceeded-error-onstart-expected.txt: Added.
        * media/media-source/media-source-append-buffer-full-quota-exceeded-error-onstart.html: Added.

2021-06-08  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB][WPE] Unreviewed test gardening. Move WPE baseline for WPT test 'report-same-origin-with-cookies.html' to GLIB.

        * platform/glib/imported/w3c/web-platform-tests/content-security-policy/reporting/report-same-origin-with-cookies-expected.txt: Renamed from LayoutTests/platform/wpe/imported/w3c/web-platform-tests/content-security-policy/reporting/report-same-origin-with-cookies-expected.txt.

2021-06-08  Wenson Hsieh  <wenson_hsieh@apple.com>

        [iOS] Safari tab pill should toggle visibility when tapping on article text on adventure.com
        https://bugs.webkit.org/show_bug.cgi?id=226775
        rdar://78826820

        Reviewed by Tim Horton and Devin Rousso.

        * fast/events/ios/non-meaningful-click-when-tapping-document-expected.txt: Added.
        * fast/events/ios/non-meaningful-click-when-tapping-document.html: Added.

2021-06-08  Diego Pino Garcia  <dpino@igalia.com>

        [GTK] Unreviewed test gardening. Update GTK baselines of several ARIA tests.

        These tests are marked as flaky under bug webkit.org/b/182761.

        The GTK post-commit bot reports these tests have been consistently
        failing for the last 4000 revisions, so at least their baselines
        should be updated. I won't remove the tests from test expectations for
        now.

        * accessibility/gtk/aria-busy-changed-notification-expected.txt:
        * accessibility/gtk/aria-current-changed-notification-expected.txt:
        * accessibility/gtk/aria-disabled-changed-notification-expected.txt:
        * accessibility/gtk/aria-expanded-changed-notification-expected.txt:
        * accessibility/gtk/aria-pressed-changed-notification-expected.txt:
        * accessibility/gtk/aria-readonly-changed-notification-expected.txt:
        * accessibility/gtk/aria-required-changed-notification-expected.txt:

2021-06-08  Diego Pino Garcia  <dpino@igalia.com>

        [GTK] Unreviewed test gardening. Remove obsolete GTK baseline for WPT test 'createImageBitmap-serializable.html'.

        * platform/glib/TestExpectations:
        * platform/gtk/imported/w3c/web-platform-tests/html/canvas/element/imagebitmap/createImageBitmap-serializable-expected.txt: Removed.

2021-06-08  Devin Rousso  <drousso@apple.com>

        [Payment Request] upstream new features
        https://bugs.webkit.org/show_bug.cgi?id=226740
        <rdar://problem/78963132>

        Reviewed by Andy Estes.

        * http/tests/paymentrequest/ApplePayModifier-additionalLineItems.https.html: Added.
        * http/tests/paymentrequest/ApplePayModifier-additionalLineItems.https-expected.txt: Added.
        * http/tests/paymentrequest/ApplePayModifier-additionalShippingMethods.https.html: Added.
        * http/tests/paymentrequest/ApplePayModifier-additionalShippingMethods.https-expected.txt: Added.
        * http/tests/paymentrequest/ApplePayModifier-total.https.html: Added.
        * http/tests/paymentrequest/ApplePayModifier-total.https-expected.txt: Added.
        * http/tests/paymentrequest/paymentmethodchange-couponCode.https.html: Added.
        * http/tests/paymentrequest/paymentmethodchange-couponCode.https-expected.txt: Added.
        * http/tests/paymentrequest/paymentrequest-couponCode.https.html: Added.
        * http/tests/paymentrequest/paymentrequest-couponCode.https-expected.txt: Added.
        * http/tests/paymentrequest/paymentrequest-shippingContactEditingMode.https.html: Added.
        * http/tests/paymentrequest/paymentrequest-shippingContactEditingMode.https-expected.txt: Added.
        * http/tests/paymentrequest/paymentrequest-supportsCouponCode.https.html: Added.
        * http/tests/paymentrequest/paymentrequest-supportsCouponCode.https-expected.txt: Added.
        * http/tests/ssl/applepay/ApplePayError-expected.txt:

        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-06-08  Truitt Savell  <tsavell@apple.com>

        Fix test expectations for plugin tests on arm64
        https://bugs.webkit.org/show_bug.cgi?id=226783

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-06-08  Devin Rousso  <drousso@apple.com>

        Unreviewed, followup to r278622

        * TestExpectations:
        * platform/mac-wk2/TestExpectations:
        Skip `http/tests/media/modern-media-controls/overflow-support` on non-WK2 macOS and iOS
        since those tests rely on macOS functionality and new iOS features.

2021-06-08  Devin Rousso  <drousso@apple.com>

        [Modern Media Controls] Don't show Playback Speed when up-to-date Live Boadcasts
        https://bugs.webkit.org/show_bug.cgi?id=226744

        Reviewed by Eric Carlson.

        * http/tests/media/modern-media-controls/overflow-support/playback-speed-live-broadcast.html: Added.
        * http/tests/media/modern-media-controls/overflow-support/playback-speed-live-broadcast-expected.txt: Added.

2021-06-08  Devin Rousso  <drousso@apple.com>

        [Modern Media Controls] upstream new features
        https://bugs.webkit.org/show_bug.cgi?id=226736
        <rdar://problem/78957464>

        Reviewed by Eric Carlson.

        * media/modern-media-controls/overflow-button/overflow-button.html: Added.
        * media/modern-media-controls/overflow-button/overflow-button-expected.txt: Added.
        * media/modern-media-controls/overflow-support/chapters.html: Added.
        * media/modern-media-controls/overflow-support/chapters-expected.txt: Added.
        * media/modern-media-controls/overflow-support/playback-speed.html: Added.
        * media/modern-media-controls/overflow-support/playback-speed-expected.txt: Added.

        * TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-06-08  Antoine Quint  <graouts@webkit.org>

        REGRESSION (r256095): Adding a border-radius, border, or box-shadow breaks animations from scale(0)
        https://bugs.webkit.org/show_bug.cgi?id=218371
        <rdar://problem/70906316>

        Reviewed by Simon Fraser.

        Add a test where we have an animation on an element with a a border and a transform animation to scale(0) where the
        first keyframe is implicit. This test would fail prior to this patch.

        * webanimations/accelerated-transform-animation-to-scale-zero-with-implicit-from-keyframe-expected.html: Added.
        * webanimations/accelerated-transform-animation-to-scale-zero-with-implicit-from-keyframe.html: Added.

2021-06-08  Youenn Fablet  <youenn@apple.com>

        Update libwebrtc to M92
        https://bugs.webkit.org/show_bug.cgi?id=226494

        Reviewed by Eric Carlson.

        * webrtc/receiver-track-should-stay-live-even-if-receiver-is-inactive.html:
        Update test since the backend is now fixed.

2021-06-08  Alex Christensen  <achristensen@webkit.org>

        Update Windows PerformanceResourceTiming test expectations after r278477
        https://bugs.webkit.org/show_bug.cgi?id=226737

        * platform/win/performance-api/resource-timing-apis-expected.txt: Added.

2021-06-08  Razvan Caliman  <rcaliman@apple.com>

        Web Inspector: Styles panel slow to render when inspecting node with many inherited CSS variables
        https://bugs.webkit.org/show_bug.cgi?id=225972
        <rdar://problem/78211185>

        Reviewed by Devin Rousso.

        Add tests for logic to aggregate used CSS variables in Web Inspector.

        * inspector/css/findVariableNames-expected.txt: Added.
        * inspector/css/findVariableNames.html: Added.
        * inspector/css/usedCSSVariables-expected.txt: Added.
        * inspector/css/usedCSSVariables.html: Added.

2021-06-08  Alan Bujtas  <zalan@apple.com>

        [LFC][TFC] Add initial percent value support for columns
        https://bugs.webkit.org/show_bug.cgi?id=226751

        Reviewed by Simon Fraser.

        * fast/layoutformattingcontext/table-with-percent-columns-only-no-content-expected.html: Added.
        * fast/layoutformattingcontext/table-with-percent-columns-only-no-content.html: Added.

2021-06-08  Diego Pino Garcia  <dpino@igalia.com>

        [GTK] Unreviewed test gardening. Update baselines of tests marked a text flaky.

        Removed tests that are now passing from test expectations.

        * platform/glib/TestExpectations:
        * platform/glib/fast/css/acid2-pixel-expected.txt: Renamed from LayoutTests/platform/wpe/fast/css/acid2-pixel-expected.txt.
        * platform/glib/http/tests/websocket/tests/hybi/workers/close-expected.txt: Removed.
        * platform/glib/imported/w3c/web-platform-tests/WebCryptoAPI/wrapKey_unwrapKey/wrapKey_unwrapKey.https.worker-expected.txt:
        * platform/glib/imported/w3c/web-platform-tests/html/canvas/element/imagebitmap/createImageBitmap-serializable-expected.txt:
        * platform/gtk/TestExpectations:
        * platform/gtk/editing/input/caret-at-the-edge-of-contenteditable-expected.txt:
        * platform/gtk/editing/pasteboard/4989774-expected.txt:
        * platform/gtk/editing/pasteboard/paste-4038267-fix-expected.txt:
        * platform/gtk/editing/pasteboard/paste-line-endings-001-expected.txt:
        * platform/gtk/editing/pasteboard/paste-line-endings-002-expected.txt:
        * platform/gtk/editing/pasteboard/paste-line-endings-006-expected.txt:
        * platform/gtk/fast/css/acid2-expected.txt:
        * platform/gtk/fast/css/acid2-pixel-expected.txt: Removed.
        * platform/gtk/fast/css/resize-corner-tracking-expected.txt:
        * platform/gtk/fast/forms/validation-message-appearance-expected.txt:
        * platform/gtk/fast/overflow/hit-test-overflow-controls-expected.txt:
        * platform/gtk/http/tests/security/video-cross-origin-accessfailure-expected.txt:
        * platform/gtk/svg/W3C-SVG-1.1/animate-elem-07-t-expected.txt:
        * platform/gtk/svg/W3C-SVG-1.1/animate-elem-12-t-expected.txt:
        * platform/gtk/svg/W3C-SVG-1.1/animate-elem-15-t-expected.txt:
        * platform/gtk/svg/W3C-SVG-1.1/animate-elem-16-t-expected.txt:
        * platform/gtk/svg/W3C-SVG-1.1/animate-elem-17-t-expected.txt:
        * platform/gtk/svg/W3C-SVG-1.1/animate-elem-19-t-expected.txt:
        * platform/gtk/svg/W3C-SVG-1.1/animate-elem-30-t-expected.txt:
        * platform/gtk/svg/W3C-SVG-1.1/animate-elem-33-t-expected.txt:
        * platform/gtk/svg/W3C-SVG-1.1/animate-elem-36-t-expected.txt:
        * platform/gtk/svg/W3C-SVG-1.1/animate-elem-37-t-expected.txt:
        * platform/gtk/svg/W3C-SVG-1.1/animate-elem-40-t-expected.txt:
        * platform/gtk/svg/W3C-SVG-1.1/animate-elem-41-t-expected.txt:
        * platform/gtk/svg/W3C-SVG-1.1/animate-elem-46-t-expected.txt:
        * platform/gtk/svg/W3C-SVG-1.1/animate-elem-82-t-expected.txt:
        * platform/gtk/svg/W3C-SVG-1.1/struct-dom-06-b-expected.txt:
        * platform/gtk/svg/custom/circular-marker-reference-4-expected.txt: Removed.
        * platform/gtk/tables/mozilla/bugs/bug4527-expected.txt:

2021-06-08  Antti Koivisto  <antti@apple.com>

        `text-decoration: underline` is not applied to web component
        https://bugs.webkit.org/show_bug.cgi?id=226724
        <rdar://problem/78987286>

        Reviewed by Ryosuke Niwa.

        * fast/shadow-dom/effective-text-decoration-inheritance-expected.html: Added.
        * fast/shadow-dom/effective-text-decoration-inheritance.html: Added.

2021-06-08  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo/TestExpectations:

2021-06-08  Frédéric Wang  <fwang@igalia.com>

        Crash in InsertParagraphSeparatorCommand::doApply
        https://bugs.webkit.org/show_bug.cgi?id=226527

        Reviewed by Ryosuke Niwa.

        Add regression test.

        * fast/editing/insert-paragraph-with-img-in-table-crash-expected.txt: Added.
        * fast/editing/insert-paragraph-with-img-in-table-crash.html: Added. Note that not having a
        new line at the end of the HTML file is required to make the test crash without the patch.
        * fast/editing/insert-paragraph-with-text-in-table-crash-expected.txt: Added.
        * fast/editing/insert-paragraph-with-text-in-table-crash.html: Added.


2021-06-07  Alexey Shvayka  <shvaikalesh@gmail.com>

        Unreviewed, reland r276592 with a fix for put() override in prototype chain of a JSProxy
        https://bugs.webkit.org/show_bug.cgi?id=226185

        * http/tests/security/cross-frame-access-object-getPrototypeOf-in-put-expected.txt:
        * http/tests/security/cross-frame-access-object-getPrototypeOf-in-put.html:
        * js/dom/reflect-set-onto-dom-expected.txt:
        * js/dom/script-tests/reflect-set-onto-dom.js:

2021-06-07  Alexey Shvayka  <shvaikalesh@gmail.com>

        Window should behave like a legacy platform object without indexed setter
        https://bugs.webkit.org/show_bug.cgi?id=225894

        Reviewed by Darin Adler.

        * fast/dom/Window/orphaned-frame-access.html:
        * fast/frames/iframe-detached-window-still-writable-eval-expected.txt:
        * fast/frames/iframe-detached-window-still-writable-eval.html:
        * http/tests/security/cross-frame-access-delete-expected.txt:
        * http/tests/security/resources/cross-frame-iframe-for-delete-test.html:
        * js/dom/dfg-ensure-array-storage-on-window-expected.txt:
        * js/dom/indexed-setter-on-global-object-expected.txt:
        * js/dom/script-tests/dfg-ensure-array-storage-on-window.js:
        * js/dom/script-tests/dfg-ensure-non-array-array-storage-on-window.js:
        * js/dom/script-tests/indexed-setter-on-global-object.js:

2021-06-07  Wenson Hsieh  <wenson_hsieh@apple.com>

        Upstream WebKit support for Live Text
        https://bugs.webkit.org/show_bug.cgi?id=226706
        <rdar://problem/78933684>

        Reviewed by Tim Horton.

        Rename `fast/images/image-extraction` to `fast/images/text-recognition`.

        * TestExpectations:
        * fast/images/text-recognition/basic-image-overlay-expected-mismatch.html: Renamed from LayoutTests/fast/images/image-extraction/basic-image-overlay-expected-mismatch.html.
        * fast/images/text-recognition/basic-image-overlay.html: Renamed from LayoutTests/fast/images/image-extraction/basic-image-overlay.html.
        * fast/images/text-recognition/click-link-with-image-overlay-expected.txt: Renamed from LayoutTests/fast/images/image-extraction/click-link-with-image-overlay-expected.txt.
        * fast/images/text-recognition/click-link-with-image-overlay.html: Renamed from LayoutTests/fast/images/image-extraction/click-link-with-image-overlay.html.
        * fast/images/text-recognition/image-overlay-creation-is-idempotent-expected.txt: Renamed from LayoutTests/fast/images/image-extraction/image-overlay-creation-is-idempotent-expected.txt.
        * fast/images/text-recognition/image-overlay-creation-is-idempotent.html: Renamed from LayoutTests/fast/images/image-extraction/image-overlay-creation-is-idempotent.html.
        * fast/images/text-recognition/image-overlay-in-image-with-zero-font-size-expected-mismatch.html: Renamed from LayoutTests/fast/images/image-extraction/image-overlay-in-image-with-zero-font-size-expected-mismatch.html.
        * fast/images/text-recognition/image-overlay-in-image-with-zero-font-size.html: Renamed from LayoutTests/fast/images/image-extraction/image-overlay-in-image-with-zero-font-size.html.
        * fast/images/text-recognition/image-overlay-with-selection-styles-expected.html: Renamed from LayoutTests/fast/images/image-extraction/image-overlay-with-selection-styles-expected.html.
        * fast/images/text-recognition/image-overlay-with-selection-styles.html: Renamed from LayoutTests/fast/images/image-extraction/image-overlay-with-selection-styles.html.
        * fast/images/text-recognition/ios/coalesce-selection-rects-in-image-overlay-expected.txt: Renamed from LayoutTests/fast/images/image-extraction/ios/coalesce-selection-rects-in-image-overlay-expected.txt.
        * fast/images/text-recognition/ios/coalesce-selection-rects-in-image-overlay.html: Renamed from LayoutTests/fast/images/image-extraction/ios/coalesce-selection-rects-in-image-overlay.html.
        * fast/images/text-recognition/ios/reselect-word-in-image-overlay-expected.txt: Renamed from LayoutTests/fast/images/image-extraction/ios/reselect-word-in-image-overlay-expected.txt.
        * fast/images/text-recognition/ios/reselect-word-in-image-overlay.html: Renamed from LayoutTests/fast/images/image-extraction/ios/reselect-word-in-image-overlay.html.
        * fast/images/text-recognition/ios/select-word-in-image-overlay-expected.txt: Renamed from LayoutTests/fast/images/image-extraction/ios/select-word-in-image-overlay-expected.txt.
        * fast/images/text-recognition/ios/select-word-in-image-overlay-inside-link-expected.txt: Renamed from LayoutTests/fast/images/image-extraction/ios/select-word-in-image-overlay-inside-link-expected.txt.
        * fast/images/text-recognition/ios/select-word-in-image-overlay-inside-link.html: Renamed from LayoutTests/fast/images/image-extraction/ios/select-word-in-image-overlay-inside-link.html.
        * fast/images/text-recognition/ios/select-word-in-image-overlay.html: Renamed from LayoutTests/fast/images/image-extraction/ios/select-word-in-image-overlay.html.
        * fast/images/text-recognition/ios/selection-rects-in-image-overlay-expected.txt: Renamed from LayoutTests/fast/images/image-extraction/ios/selection-rects-in-image-overlay-expected.txt.
        * fast/images/text-recognition/ios/selection-rects-in-image-overlay.html: Renamed from LayoutTests/fast/images/image-extraction/ios/selection-rects-in-image-overlay.html.
        * fast/images/text-recognition/mac/copy-image-overlay-text-with-context-menu-expected.txt: Renamed from LayoutTests/fast/images/image-extraction/mac/copy-image-overlay-text-with-context-menu-expected.txt.
        * fast/images/text-recognition/mac/copy-image-overlay-text-with-context-menu.html: Renamed from LayoutTests/fast/images/image-extraction/mac/copy-image-overlay-text-with-context-menu.html.
        * fast/images/text-recognition/mac/image-overlay-text-disables-app-highlight-menu-items-expected.txt: Renamed from LayoutTests/fast/images/image-extraction/mac/image-overlay-text-disables-app-highlight-menu-items-expected.txt.
        * fast/images/text-recognition/mac/image-overlay-text-disables-app-highlight-menu-items.html: Renamed from LayoutTests/fast/images/image-extraction/mac/image-overlay-text-disables-app-highlight-menu-items.html.
        * fast/images/text-recognition/mac/select-image-overlay-in-link-with-mouse-drag-expected.txt: Renamed from LayoutTests/fast/images/image-extraction/mac/select-image-overlay-in-link-with-mouse-drag-expected.txt.
        * fast/images/text-recognition/mac/select-image-overlay-in-link-with-mouse-drag.html: Renamed from LayoutTests/fast/images/image-extraction/mac/select-image-overlay-in-link-with-mouse-drag.html.
        * fast/images/text-recognition/mac/select-image-overlay-with-mouse-drag-2-expected.html: Renamed from LayoutTests/fast/images/image-extraction/mac/select-image-overlay-with-mouse-drag-2-expected.html.
        * fast/images/text-recognition/mac/select-image-overlay-with-mouse-drag-2.html: Renamed from LayoutTests/fast/images/image-extraction/mac/select-image-overlay-with-mouse-drag-2.html.
        * fast/images/text-recognition/mac/select-image-overlay-with-mouse-drag-does-not-fire-click-expected.txt: Renamed from LayoutTests/fast/images/image-extraction/mac/select-image-overlay-with-mouse-drag-does-not-fire-click-expected.txt.
        * fast/images/text-recognition/mac/select-image-overlay-with-mouse-drag-does-not-fire-click.html: Renamed from LayoutTests/fast/images/image-extraction/mac/select-image-overlay-with-mouse-drag-does-not-fire-click.html.
        * fast/images/text-recognition/mac/select-image-overlay-with-mouse-drag-expected-mismatch.html: Renamed from LayoutTests/fast/images/image-extraction/mac/select-image-overlay-with-mouse-drag-expected-mismatch.html.
        * fast/images/text-recognition/mac/select-image-overlay-with-mouse-drag.html: Renamed from LayoutTests/fast/images/image-extraction/mac/select-image-overlay-with-mouse-drag.html.
        * fast/images/text-recognition/mac/select-rotated-transparent-image-overlay-expected.html: Renamed from LayoutTests/fast/images/image-extraction/mac/select-rotated-transparent-image-overlay-expected.html.
        * fast/images/text-recognition/mac/select-rotated-transparent-image-overlay.html: Renamed from LayoutTests/fast/images/image-extraction/mac/select-rotated-transparent-image-overlay.html.
        * fast/images/text-recognition/mac/select-word-in-draggable-image-overlay-expected-mismatch.html: Renamed from LayoutTests/fast/images/image-extraction/mac/select-word-in-draggable-image-overlay-expected-mismatch.html.
        * fast/images/text-recognition/mac/select-word-in-draggable-image-overlay.html: Renamed from LayoutTests/fast/images/image-extraction/mac/select-word-in-draggable-image-overlay.html.
        * fast/images/text-recognition/mac/select-word-in-transparent-image-overlay-expected-mismatch.html: Renamed from LayoutTests/fast/images/image-extraction/mac/select-word-in-transparent-image-overlay-expected-mismatch.html.
        * fast/images/text-recognition/mac/select-word-in-transparent-image-overlay.html: Renamed from LayoutTests/fast/images/image-extraction/mac/select-word-in-transparent-image-overlay.html.

2021-06-07  Antoine Quint  <graouts@webkit.org>

        REGRESSION (r272201): iPad render flashing on load
        https://bugs.webkit.org/show_bug.cgi?id=226216
        <rdar://problem/78466306>

        Reviewed by Simon Fraser.

        Add a test that runs the same accelerated animation on two container elements, stack one above the other.
        The bottom container has a red background while the top container has a green background, the whole body
        being green. After the animation has started, we set the bottom element to have a very large size such
        that its layer becomes tiled. Before this patch the bottom element would stop animation and its red
        background would start appearing as the top element would keep animating. After this patch both elements
        are animated and no red should appear.

        * webanimations/accelerated-animation-tiled-while-running-expected.html: Added.
        * webanimations/accelerated-animation-tiled-while-running.html: Added.

2021-06-07  Imanol Fernandez  <ifernandez@igalia.com>

        Use 3D points to map the WebXRBoundedReferenceSpace bounds transform
        https://bugs.webkit.org/show_bug.cgi?id=224365
        <rdar://problem/76754927>

        Reviewed by Sergio Villar Senin.

        Update WebXR test expectations.

        * platform/wpe/TestExpectations:

2021-06-07  Aditya Keerthi  <akeerthi@apple.com>

        [iOS] Unexpected scrolling when switching focus from a text input to a select element
        https://bugs.webkit.org/show_bug.cgi?id=226657
        <rdar://problem/78290515>

        Reviewed by Tim Horton.

        Add a layout test to exercise the bug.

        * fast/forms/ios/form-control-refresh/select/focus-select-after-textfield-expected.txt: Added.
        * fast/forms/ios/form-control-refresh/select/focus-select-after-textfield.html: Added.

2021-06-06  Darin Adler  <darin@apple.com>

        Handle custom identifiers and strings separately, so we can quote strings correctly consistently
        https://bugs.webkit.org/show_bug.cgi?id=226694

        Reviewed by Sam Weinig.

        * TestExpectations: Removed expected failures from 13 css-counter-styles tests that are not
        currently failing. I had planned to work on making more of these pass, but first found I could
        fix them with a corrected custom-ident implementation.

        * css3/supports-expected.txt: Rebased.
        * css3/supports.html: Updated to expect the value of the content property to be a quoted string,
        rather than the old behavior, which was to leave the string unquoted if it happened to be a
        string with all characters legal for a custom-ident. New expectation is the correct behavior.

        * fast/css/alt-inherit-initial-expected.txt: Rebased.
        * fast/css/alt-inherit-initial.html: Updated to expect the value of the language property to be
        a custom-ident, and serialize unusual cases with custom-ident rules, not as a quoted string. New
        expectation is the correct behavior.
        * fast/css/content-language-comma-separated-list-expected.txt: Ditto.
        * fast/css/content-language-empty-expected.txt: Ditto.
        * fast/css/content-language-only-whitespace-expected.txt: Ditto.
        * fast/css/content-language-with-whitespace-expected.txt: Ditto.

        * fast/css/getComputedStyle/computed-style-properties-expected.txt: Rebased.
        * fast/css/getComputedStyle/computed-style-properties.html: Expect content string (see above).

        * fast/css/lang-mapped-to-webkit-locale-expected.txt: Rebased.
        * fast/css/lang-mapped-to-webkit-locale.xhtml: Expect language custom-ident (see above).

        * fast/css/nested-at-rules-expected.txt: Rebased.
        * fast/css/nested-at-rules.html: Expect content string (see above).

        * fast/css/parsing-text-emphasis-expected.txt: Rebased.
        * fast/css/parsing-text-emphasis.html: Updated to expect strings to remaing quoted strings in
        the text-emphasis property, not change into custom-ident if all characters happen to fit.

        * fast/encoding/css-charset-default-expected.txt: Expect content string (see above).
        * inspector/css/pseudo-element-matches-for-pseudo-element-node-expected.txt: Ditto.

2021-06-06  Alan Bujtas  <zalan@apple.com>

        [LFC][TFC] Adopt a less quirky fixed column width space distribution
        https://bugs.webkit.org/show_bug.cgi?id=226696

        Reviewed by Antti Koivisto.

        * TestExpectations: We don't match current WebKit space distribution anymore.
        * fast/layoutformattingcontext/table-fixed-width-variations-simple-expected.html: Added.
        * fast/layoutformattingcontext/table-fixed-width-variations-simple.html: Added.

2021-06-05  Cameron McCormack  <heycam@apple.com>

        Diff aspect-ratio property values correctly
        https://bugs.webkit.org/show_bug.cgi?id=226673

        Reviewed by Rob Buis.

        * fast/css/aspect-ratio-no-relayout-expected.txt: Added.
        * fast/css/aspect-ratio-no-relayout.html: Added.

2021-06-04  Chris Dumez  <cdumez@apple.com>

        Worker.constructor throws an exception when the url param is an empty string
        https://bugs.webkit.org/show_bug.cgi?id=226637

        Reviewed by Darin Adler.

        Update existing tests to reflect behavior change.

        * fast/workers/worker-constructor-expected.txt:
        * fast/workers/worker-constructor.html:
        * http/tests/workers/worker-invalid-url-expected.txt:
        * http/tests/workers/worker-invalid-url.html:

2021-06-04  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB][GTK] Unreviewed test gardening. Remove flaky tests that have been constantly passing for the last 4000 revisions.

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:

2021-06-04  Wenson Hsieh  <wenson_hsieh@apple.com>

        [iOS] Meaningful click heuristic should account for media state changes
        https://bugs.webkit.org/show_bug.cgi?id=226655
        rdar://78330664

        Reviewed by Tim Horton and Devin Rousso.

        Add a layout test to verify that tapping to play or pause a video triggers "meaningful" synthetic clicks.

        * fast/events/ios/meaningful-click-when-playing-media-expected.txt: Added.
        * fast/events/ios/meaningful-click-when-playing-media.html: Added.

2021-06-04  Devin Rousso  <drousso@apple.com>

        Web Inspector: Uncaught Exception: undefined is not an object (evaluating 'InspectorBackend.Enum.Page.ResourceType')
        https://bugs.webkit.org/show_bug.cgi?id=226664

        Reviewed by Joseph Pecoraro.

        * inspector/protocol/enum.html: Added.
        * inspector/protocol/enum-expected.txt: Added.

2021-06-04  Brady Eidson  <beidson@apple.com>

        Enforce a quota in window.sessionStorage
        rdar://78507096 and https://bugs.webkit.org/show_bug.cgi?id=226337

        Reviewed by Chris Dumez.

        * platform/ios-wk1/TestExpectations:
        * platform/ios/ios/storage/domstorage/5mb-quota.html: Removed.
        * storage/domstorage/quota-expected.txt:
        * storage/domstorage/quota.html:

2021-06-04  Antti Koivisto  <antti@apple.com>

        REGRESSION (maybe r276882): custom properties not available on host on initial paint
        https://bugs.webkit.org/show_bug.cgi?id=226574
        <rdar://problem/78863643>

        Reviewed by Simon Fraser.

        * fast/shadow-dom/resources/shared-resolver-host-invalidation.css: Added.
        (:host,):
        (div):
        * fast/shadow-dom/shared-resolver-host-invalidation-expected.html: Added.
        * fast/shadow-dom/shared-resolver-host-invalidation.html: Added.

2021-06-04  Alex Christensen  <achristensen@webkit.org>

        Implement off-by-default experimental feature for PerformanceResourceTiming.transferSize, encodedBodySize, and decodedBodySize
        https://bugs.webkit.org/show_bug.cgi?id=226629

        Reviewed by Brady Eidson.

        * performance-api/resource-timing-apis-expected.txt:
        * platform/mac/imported/w3c/web-platform-tests/resource-timing/test_resource_timing-expected.txt: Removed.

2021-06-04  Robert Jenner  <jenner@apple.com>

        Cleanup unused resources in LayoutTests/storage
        https://bugs.webkit.org/show_bug.cgi?id=226226
        <rdar://problem/78469934>

        Reviewed by Jonathan Bedard.

        * storage/domstorage/localstorage/resources/iframe-events-second.html: Removed.
        * storage/domstorage/localstorage/resources/private-browsing-3.html: Removed.
        * storage/domstorage/localstorage/resources/private-browsing-storage-2.html: Removed.
        * storage/domstorage/sessionstorage/resources/iframe-events-second.html: Removed.
        * storage/indexeddb/modern/resources/workers-disabled.js: Removed.
        * storage/indexeddb/resources/test-data.html: Removed.
        * storage/indexeddb/resources/test-data.txt: Removed.

2021-06-04  Wenson Hsieh  <wenson_hsieh@apple.com>

        [iOS] Long pressing images on 9gag.com fails to present context menus
        https://bugs.webkit.org/show_bug.cgi?id=226625
        rdar://78136095

        Reviewed by Megan Gardner.

        Add a layout test to verify that a context menu is presented when long pressing an image inside a link with a
        JavaScript URL as an `href`.

        * fast/events/touch/ios/long-press-on-image-in-javascript-link-expected.txt: Added.
        * fast/events/touch/ios/long-press-on-image-in-javascript-link.html: Added.

2021-06-04  Martin Robinson  <mrobinson@webkit.org>

        [Win] Implement scroll-snap-points on Windows
        https://bugs.webkit.org/show_bug.cgi?id=142503
        <rdar://problem/20093603>

        Reviewed by Simon Fraser.

        * platform/win/TestExpectations: Unskip scroll-snap tests.
        * platform/win/css3/scroll-snap/scroll-snap-wheel-event-expected.txt: Added. Windows doesn't
        seem to support horizontal wheel events.

2021-06-03  Alan Bujtas  <zalan@apple.com>

        Crack in hero text on https://www.apple.com/mac-mini/
        https://bugs.webkit.org/show_bug.cgi?id=226610
        <rdar://71246655>

        Reviewed by Simon Fraser.

        * fast/clip/hidpi-background-clip-with-text-fill-color-expected.html: Added.
        * fast/clip/hidpi-background-clip-with-text-fill-color.html: Added.

2021-06-03  Chris Lord  <clord@igalia.com>

        [WPE] position:sticky content is not correctly offset on async scrolled overflow layers with an RTL vertical scrollbar
        https://bugs.webkit.org/show_bug.cgi?id=226327

        Reviewed by Darin Adler.

        Some sticky-positioning RTL related tests now pass.

        * platform/wpe/TestExpectations:

2021-06-03  Simon Fraser  <simon.fraser@apple.com>

        REGRESSION (Safari 14): Menu items jump around on codelearn.cat
        https://bugs.webkit.org/show_bug.cgi?id=226608
        <rdar://78636003>

        Reviewed by Alan Bujtas.

        * compositing/overflow/overflow-change-reposition-descendants-expected.html: Added.
        * compositing/overflow/overflow-change-reposition-descendants.html: Added.

2021-06-03  Amir Mark Jr  <amir_mark@apple.com>

        [MacOS] animations/leak-document-with-css-animation.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=226598

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-06-03  Cameron McCormack  <heycam@apple.com>

        Prevent background-attachment:fixed from causing slow scrolling when in a position:fixed layer
        https://bugs.webkit.org/show_bug.cgi?id=226399

        Reviewed by Simon Fraser.

        * scrollingcoordinator/mac/fixed-backgrounds/fixed-background-in-overflow-in-iframe-expected.txt:
        * scrollingcoordinator/mac/fixed-backgrounds/fixed-background-slow-scrolling-1-expected.txt: Added.
        * scrollingcoordinator/mac/fixed-backgrounds/fixed-background-slow-scrolling-1.html: Added.
        * scrollingcoordinator/mac/fixed-backgrounds/fixed-background-slow-scrolling-2-async-expected.txt: Added.
        * scrollingcoordinator/mac/fixed-backgrounds/fixed-background-slow-scrolling-2-async.html: Added.
        * scrollingcoordinator/mac/fixed-backgrounds/fixed-background-slow-scrolling-2-sync-expected.txt: Added.
        * scrollingcoordinator/mac/fixed-backgrounds/fixed-background-slow-scrolling-2-sync.html: Added.
        * scrollingcoordinator/mac/fixed-backgrounds/fixed-background-slow-scrolling-3-async-expected.txt: Added.
        * scrollingcoordinator/mac/fixed-backgrounds/fixed-background-slow-scrolling-3-async.html: Added.
        * scrollingcoordinator/mac/fixed-backgrounds/fixed-background-slow-scrolling-3-sync-expected.txt: Added.
        * scrollingcoordinator/mac/fixed-backgrounds/fixed-background-slow-scrolling-3-sync.html: Added.
        * scrollingcoordinator/mac/fixed-backgrounds/fixed-background-slow-scrolling-4-expected.txt: Added.
        * scrollingcoordinator/mac/fixed-backgrounds/fixed-background-slow-scrolling-4.html: Added.
        * scrollingcoordinator/mac/fixed-backgrounds/fixed-background-slow-scrolling-5-async-expected.txt: Added.
        * scrollingcoordinator/mac/fixed-backgrounds/fixed-background-slow-scrolling-5-async.html: Added.
        * scrollingcoordinator/mac/fixed-backgrounds/fixed-background-slow-scrolling-5-sync-expected.txt: Added.
        * scrollingcoordinator/mac/fixed-backgrounds/fixed-background-slow-scrolling-5-sync.html: Added.
        * scrollingcoordinator/mac/fixed-backgrounds/fixed-background-slow-scrolling-6-expected.txt: Added.
        * scrollingcoordinator/mac/fixed-backgrounds/fixed-background-slow-scrolling-6.html: Added.
        * scrollingcoordinator/mac/fixed-backgrounds/fixed-background-slow-scrolling-7-expected.txt: Added.
        * scrollingcoordinator/mac/fixed-backgrounds/fixed-background-slow-scrolling-7.html: Added.
        * scrollingcoordinator/mac/fixed-backgrounds/fixed-background-slow-scrolling-8-async-expected.txt: Added.
        * scrollingcoordinator/mac/fixed-backgrounds/fixed-background-slow-scrolling-8-async.html: Added.
        * scrollingcoordinator/mac/fixed-backgrounds/fixed-background-slow-scrolling-8-sync-expected.txt: Added.
        * scrollingcoordinator/mac/fixed-backgrounds/fixed-background-slow-scrolling-8-sync.html: Added.
        * scrollingcoordinator/mac/fixed-backgrounds/fixed-background-slow-scrolling-9-async-expected.txt: Added.
        * scrollingcoordinator/mac/fixed-backgrounds/fixed-background-slow-scrolling-9-async.html: Added.
        * scrollingcoordinator/mac/fixed-backgrounds/fixed-background-slow-scrolling-9-sync-expected.txt: Added.
        * scrollingcoordinator/mac/fixed-backgrounds/fixed-background-slow-scrolling-9-sync.html: Added.

2021-06-03  Alan Bujtas  <zalan@apple.com>

        Incorrect text selection when crossing flex item boundary
        https://bugs.webkit.org/show_bug.cgi?id=226518
        <rdar://59487603>

        Reviewed by Simon Fraser.

        * editing/selection/selecting-content-by-overshooting-the-container-expected.txt: Added.
        * editing/selection/selecting-content-by-overshooting-the-container.html: Added.

2021-06-03  Youenn Fablet  <youenn@apple.com>

        Cherry-pick webrtc fix to correctly handle audio track state in case of renegotiation
        https://bugs.webkit.org/show_bug.cgi?id=226577

        Reviewed by Eric Carlson.

        Update test now that we have the correct behavior.

        * webrtc/receiver-track-should-stay-live-even-if-receiver-is-inactive.html:

2021-06-03  Alan Bujtas  <zalan@apple.com>

        [LFC][TFC] Use the fixed table height value to resolve percent column height values
        https://bugs.webkit.org/show_bug.cgi?id=226566

        Reviewed by Antti Koivisto.

        * fast/layoutformattingcontext/table-with-percent-columns-and-spacing-expected.html:
        * fast/layoutformattingcontext/table-with-percent-columns-and-spacing.html:
        * fast/layoutformattingcontext/table-with-percent-columns-simple-expected.html: Added.
        * fast/layoutformattingcontext/table-with-percent-columns-simple.html: Added.

2021-06-03  Carlos Garcia Campos  <cgarcia@igalia.com>

        [GLIB] imported/w3c/web-platform-tests/resource-timing/resource_connection_reuse_mixed_content.html is failing since r277493
        https://bugs.webkit.org/show_bug.cgi?id=225904

        Reviewed by Michael Catanzaro.

        * platform/glib/TestExpectations:

2021-06-03  Julian Gonzalez  <julian_a_gonzalez@apple.com>

        Crash in HTMLConverter::_addLinkForElement()
        https://bugs.webkit.org/show_bug.cgi?id=226398

        Reviewed by Ryosuke Niwa.

        Add a test for this crasher.

        * editing/pasteboard/select-all-link-cut-expected.txt: Added.
        * editing/pasteboard/select-all-link-cut.html: Added.

2021-06-02  Alex Christensen  <achristensen@webkit.org>

        Fix WPT test resource-timing/cross-origin-redirects.html
        https://bugs.webkit.org/show_bug.cgi?id=190523
        <rdar://45227788>

        Reviewed by Brady Eidson.

        * http/tests/misc/webtiming-slow-load-expected.txt:
        * http/tests/misc/webtiming-slow-load.py:
        Our new metrics gathering now matches Firefox instead of Chrome in PerformanceResourceTiming::responseEnd in this edge case of a deprecated API.
        Update expectations accordingly.
        * platform/mac-wk1/TestExpectations:
        Bringing this test to passing in WK2 makes it flaky in WK1 because we don't get good redirect timing data from CFNetwork through NSURLConnection.
        * platform/win/http/tests/misc/webtiming-one-redirect-expected.txt: Added.
        * platform/win/http/tests/misc/webtiming-slow-load-expected.txt: Copied from LayoutTests/http/tests/misc/webtiming-slow-load-expected.txt.
        * platform/win/http/tests/misc/webtiming-two-redirects-expected.txt: Added.
        The network layer is now responsible for counting redirects and providing redirect timings.
        Our friend CFURLConnection doesn't have that ability, so it doesn't pass these tests any more.
        It never supported any timing APIs and other tests are skipped.

2021-06-02  Amir Mark Jr  <amir_mark@apple.com>

        [MacOS] media/video-played-collapse.html is flaky timeout and failure
        https://bugs.webkit.org/show_bug.cgi?id=226520

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-06-02  Amir Mark Jr  <amir_mark@apple.com>

        [BigSur E Wk1 Release] media/media-event-listeners.html is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=226517

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-06-02  Alan Bujtas  <zalan@apple.com>

        [iOS] Unreviewed test gardening.

        * platform/ios/TestExpectations:

2021-06-02  Alan Bujtas  <zalan@apple.com>

        Incorrect selection when tall float is present
        https://bugs.webkit.org/show_bug.cgi?id=226552
        <rdar://problem/78781056>

        Reviewed by Simon Fraser.

        * editing/selection/select-out-of-floated-non-editable-07.html:
        * editing/selection/select-out-of-floated-non-editable-13-expected.txt: Added.
        * editing/selection/select-out-of-floated-non-editable-13.html: Added.

2021-06-02  Antoine Quint  <graouts@webkit.org>

        Hit-testing does not account for clip-path set on parent of <iframe>
        https://bugs.webkit.org/show_bug.cgi?id=226499
        <rdar://problem/77317612>

        Reviewed by Simon Fraser.

        Add new tests checking that we don't hit-tests elements when the location is
        part of an <iframe> clipped by the clip-path property set on a parent element.
        We test the case where the <iframe> has `position: absolute` as well as the
        default `position`.or https://bugs.webkit.org/show_bug.cgi?id=226499

        * css3/masking/clip-path-hit-test-on-absolute-position-iframe-parent-expected.txt: Added.
        * css3/masking/clip-path-hit-test-on-absolute-position-iframe-parent.html: Added.
        * css3/masking/clip-path-hit-test-on-iframe-parent-expected.txt: Added.
        * css3/masking/clip-path-hit-test-on-iframe-parent.html: Added.

2021-06-02  Antoine Quint  <graouts@webkit.org>

        REGRESSION (r275227): Check boxes on V-Safe site flicker when selected
        https://bugs.webkit.org/show_bug.cgi?id=226549
        <rdar://problem/77722651>

        Reviewed by Simon Fraser.

        Check that a background-image set to a CSS variable doesn't yield a transition when another style property changes.

        * webanimations/background-image-css-variable-no-transition-expected.txt: Added.
        * webanimations/background-image-css-variable-no-transition.html: Added.
        * webanimations/empty-keyframes-crash.html: motify this existing test which relie on the buggy behavior to trigger
        a transition.

2021-06-02  Sam Weinig  <weinig@apple.com>

        Add support for "relative color syntax" for color()
        https://bugs.webkit.org/show_bug.cgi?id=226513

        Reviewed by Darin Adler.

        Updated test and results now that we support relative color syntax
        for color(srgb ...), color(a98-rgb ...), color(rec2020 ...),
        color(prophoto-rgb ...) and color(xyz ...).

        * fast/css/parsing-relative-color-syntax-expected.txt:
        * fast/css/parsing-relative-color-syntax.html:

2021-06-02  Kyle Piddington  <kpiddington@apple.com>

        Add 'mix' override with bool-vectors to MSL translator
        https://bugs.webkit.org/show_bug.cgi?id=226366

        Add a short test to ensure bool-vectors can be used in mix.  
        Reviewed by Dean Jackson.

        * fast/canvas/webgl/shader-mix-with-bool-expected.txt: Added.

2021-06-02  Youenn Fablet  <youenn@apple.com>

        HTMLMediaElement::virtualHasPendingActivity may keep objects alive unnecessarily
        https://bugs.webkit.org/show_bug.cgi?id=226529
        <rdar://78726921>

        Reviewed by Eric Carlson.

        * fast/mediastream/mediaElement-gc-expected.txt: Added.
        * fast/mediastream/mediaElement-gc.html: Added.

2021-06-02  Martin Robinson  <mrobinson@igalia.com>

        [css-scroll-snap] Scroll snap is broken with non-horizontal writing modes
        https://bugs.webkit.org/show_bug.cgi?id=226010

        Reviewed by Frédéric Wang.

        * TestExpectations: Mark one test as passing.
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/css-scroll-snap/scroll-snap-type-on-root-element-expected.txt: Removed.
        * platform/ios/imported/w3c/web-platform-tests/css/css-scroll-snap/snap-inline-block-expected.txt:

2021-06-02  Antti Koivisto  <antti@apple.com>

        REGRESSION(r276882): Style not invalidated correctly for media queries in shadow trees that share style
        https://bugs.webkit.org/show_bug.cgi?id=226369
        <rdar://problem/78684562>

        Reviewed by Sam Weinig.

        Expand the existing test to have multiple shadow trees sharing style.

        * fast/shadow-dom/media-query-in-shadow-style-expected.html:
        * fast/shadow-dom/media-query-in-shadow-style.html:
        * fast/shadow-dom/resources/media-query-in-shadow-style-frame.html:

2021-06-02  Youenn Fablet  <youenn@apple.com>

        Fix race condition in binary_wsh.py
        https://bugs.webkit.org/show_bug.cgi?id=226464
        <rdar://77356905>

        Reviewed by Alex Christensen.

        The web socket server was implemented to send 4 messages as soon as connection is opened and close the connection.
        The client expects to correctly send a message before the connection is closed.
        This is not guaranteed by the web socket server, in case the server is very fast closing the connection and the client very slow at sending its message.
        Given the focus of the test is to validate binary data, change the web socket server to remove the potential race.

        * http/tests/websocket/tests/hybi/inspector/binary_wsh.py:
        (web_socket_transfer_data):

2021-05-28  Antoine Quint  <graouts@webkit.org>

        Hit-testing does not account for clip-path on <iframe>
        https://bugs.webkit.org/show_bug.cgi?id=226380
        <rdar://problem/78621486>

        Reviewed by Antti Koivisto.

        Add a new test which checks that we hit-test correctly in part of an
        <iframe> or <img> clipped by the clip-path property. 

        * css3/masking/clip-path-hit-test-iframe-expected.txt: Added.
        * css3/masking/clip-path-hit-test-iframe.html: Added.
        * css3/masking/clip-path-hit-test-img-expected.txt: Added.
        * css3/masking/clip-path-hit-test-img.html: Added.

2021-06-01  Lauro Moura  <lmoura@igalia.com>

        [WPE] Garden imported/w3c/web-platform-tests/html/semantics/embedded-content/the-img-element/source-media-outside-doc.html flakiness

        Unreviewed test gardening.

        * platform/wpe/TestExpectations:

2021-06-01  Jean-Yves Avenard  <jya@apple.com>

        MediaSession.coordinator should not be optional, relying on coordinator readyState change instead
        https://bugs.webkit.org/show_bug.cgi?id=226328
        rdar://77461335

        Reviewed by Eric Carlson.

        * media/media-session/mock-coordinator-expected.txt:
        * media/media-session/mock-coordinator.html: Change test to match new API.

2021-06-01  Chris Dumez  <cdumez@apple.com>

        Fix unsafe access to m_upload in XMLHttpRequest::virtualHasPendingActivity()
        https://bugs.webkit.org/show_bug.cgi?id=226508

        Reviewed by Geoffrey Garen.

        Improve layout test coverage to make sure that XMLHttpRequest.upload always returns
        the same object and that progress events on XMLHttpRequest.upload still get fired
        after GC.

        * fast/xmlhttprequest/xmlhttprequest-upload-sameobject-expected.txt: Added.
        * fast/xmlhttprequest/xmlhttprequest-upload-sameobject.html: Added.
        * http/tests/xmlhttprequest/upload-progress-events-gc-expected.txt: Added.
        * http/tests/xmlhttprequest/upload-progress-events-gc.html: Added.

2021-06-01  Sam Weinig  <weinig@apple.com>

        Support calc() on components inside relative color syntax colors
        https://bugs.webkit.org/show_bug.cgi?id=226272

        Reviewed by Darin Adler.

        Updated test and results for update support including calc() 
        and compoment permutation.

        * fast/css/parsing-relative-color-syntax-expected.txt:
        * fast/css/parsing-relative-color-syntax.html:

2021-05-31  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening. Update baselines after r277970.

        * platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-stretch-properties-dynamic-001-expected.txt:
        * platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-003-expected.txt:
        * platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-001-expected.txt:
        * platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-006-expected.txt:

2021-05-31  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r278261.
        https://bugs.webkit.org/show_bug.cgi?id=226477

        Broke windows build

        Reverted changeset:

        "Support calc() on components inside relative color syntax
        colors"
        https://bugs.webkit.org/show_bug.cgi?id=226272
        https://trac.webkit.org/changeset/278261

2021-05-31  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Unreviewed test gardening. The media/video-playsinline.html failure has been fixed
        https://bugs.webkit.org/show_bug.cgi?id=226308

        * platform/glib/TestExpectations:

2021-05-31  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Unreviewed test gardening, skip a test that uses WebGL2
        https://bugs.webkit.org/show_bug.cgi?id=226341

        * platform/glib/TestExpectations:

2021-05-31  Miguel Gomez  <magomez@igalia.com>

        [GStreamer] Incorrect rendering of VP9 with transparency
        https://bugs.webkit.org/show_bug.cgi?id=225961

        Reviewed by Žan Doberšek.

        Add a test for the playback of transparent videos. This is initially skipped because it's not supported
        on Apple ports and won't be working on GTK and WPE until GStreamer is bumped to 1.20.

        * TestExpectations:
        * media/content/video-with-alpha.webm: Added.
        * media/video-with-alpha-expected.html: Added.
        * media/video-with-alpha.html: Added.

2021-05-31  Rob Buis  <rbuis@igalia.com>

        Release assert in RenderFlexibleBox::computeInnerFlexBaseSizeForChild via RenderFlexibleBox::layoutFlexItems
        https://bugs.webkit.org/show_bug.cgi?id=226367

        Reviewed by Darin Adler.

        Add test for this.

        * fast/css/flex-box-intrinsic-width-crash-expected.txt: Added.
        * fast/css/flex-box-intrinsic-width-crash.html: Added.

2021-05-31  Youenn Fablet  <youenn@apple.com>

        Go to network in case fetch event is not yet responded when being destroyed instead of failing the load
        https://bugs.webkit.org/show_bug.cgi?id=226374
        <rdar://78298472>

        Reviewed by Alex Christensen.

        * http/wpt/service-workers/fetch-worker-terminate-worker.js: Added.
        (doTest):
        * http/wpt/service-workers/fetch-worker-terminate.https-expected.txt: Added.
        * http/wpt/service-workers/fetch-worker-terminate.https.html: Added.

2021-05-30  Wenson Hsieh  <wenson_hsieh@apple.com>

        REGRESSION (r258118): SVG paths that contain a single move command incorrect client bounding rects
        https://bugs.webkit.org/show_bug.cgi?id=226447
        rdar://72112744

        Reviewed by Alan Bujtas.

        Add a layout test to exercise the bug.

        * fast/svg/bounding-rect-for-path-with-only-move-command-expected.txt: Added.
        * fast/svg/bounding-rect-for-path-with-only-move-command.html: Added.

2021-05-30  Sam Weinig  <weinig@apple.com>

        Remove support for no longer specific color(lab ...) syntax
        https://bugs.webkit.org/show_bug.cgi?id=226439

        Reviewed by Darin Adler.

        Remove test cases for color(lab) (keeping one to ensure it doesn't
        work) and update uses of color(lab ...) to use lab(...) instead. 

        * fast/css/parsing-lab-colors-expected.txt:
        * fast/css/parsing-lab-colors.html:
        * fast/css/parsing-relative-color-syntax-expected.txt:
        * fast/css/parsing-relative-color-syntax.html:
        * TestExpectations:

2021-05-30  Sam Weinig  <weinig@apple.com>

        Add additional target luminance keywords for color-contrast() added for https://github.com/w3c/csswg-drafts/issues/6311
        https://bugs.webkit.org/show_bug.cgi?id=226438

        Reviewed by Chris Dumez.

        Update test and results for new AAA and AAA-large target luminance keywords.

        * fast/css/parsing-color-contrast-expected.txt:
        * fast/css/parsing-color-contrast.html:

2021-05-30  Sam Weinig  <weinig@apple.com>

        Support calc() on components inside relative color syntax colors
        https://bugs.webkit.org/show_bug.cgi?id=226272

        Reviewed by Darin Adler.

        Updated test and results for update support including calc() 
        and compoment permutation.

        * fast/css/parsing-relative-color-syntax-expected.txt:
        * fast/css/parsing-relative-color-syntax.html:

2021-05-29  Cameron McCormack  <heycam@apple.com>

        Rename Internals.mainThreadScrollingReasons to synchronousScrollingReasons
        https://bugs.webkit.org/show_bug.cgi?id=226415

        Reviewed by Simon Fraser.

        * compositing/layer-creation/fixed-position-in-view-dynamic.html:
        * compositing/layer-creation/fixed-position-no-content-scroll-reason-expected.txt:
        * compositing/layer-creation/fixed-position-no-content-scroll-reason.html:
        * compositing/layer-creation/fixed-position-out-of-view-dynamic.html:
        * compositing/layer-creation/fixed-position-out-of-view-scroll-reason.html:
        * compositing/layer-creation/no-compositing-for-fixed-position-under-transform.html:
        * tiled-drawing/scrolling/slow-scrolling-background-toggle.html:
        * tiled-drawing/scrolling/slow-scrolling-hidden-background-toggle.html:
        * tiled-drawing/scrolling/slow-scrolling.html:

2021-05-29  Zalan Bujtas  <zalan@apple.com>

        [LFC][TFC] Do not include vertical spacing when resolving percent height for table content
        https://bugs.webkit.org/show_bug.cgi?id=226365

        Reviewed by Antti Koivisto.

        * TestExpectations: WebKit table layout don't resolve the height percent properly when border spacing is present.
        * fast/layoutformattingcontext/table-with-percent-columns-and-spacing-expected.html: Added.
        * fast/layoutformattingcontext/table-with-percent-columns-and-spacing.html: Added.

2021-05-28  Wenson Hsieh  <wenson_hsieh@apple.com>

        Web process terminates when attempting to log in on bankid.no
        https://bugs.webkit.org/show_bug.cgi?id=226411
        rdar://77419432

        Reviewed by Chris Dumez.

        Add a layout test that exercises the crash by first serializing a large number of display list items, and then
        calling `fillText` with a web font and a gradient `fillStyle`.

        * fast/canvas/fill-gradient-text-with-web-font-expected.html: Added.
        * fast/canvas/fill-gradient-text-with-web-font.html: Added.

2021-05-28  Jean-Yves Avenard  <jya@apple.com>

        Add MediaSession.callActionHandler
        https://bugs.webkit.org/show_bug.cgi?id=226077
        rdar://77463304

        Reviewed by Eric Carlson.

        * media/media-session/callActionHandler-expected.txt: Added.
        * media/media-session/callActionHandler.html: Added.

2021-05-28  Alan Bujtas  <zalan@apple.com>

        CrashOnOverflow in WebCore::RenderTable::cellBefore(WebCore::RenderTableCell const*)
        https://bugs.webkit.org/show_bug.cgi?id=225949

        Reviewed by Antti Koivisto.

        * fast/table/table-split-on-insert-with-section-crash-expected.txt: Added.
        * fast/table/table-split-on-insert-with-section-crash.html: Added.

2021-05-28  Amir Mark Jr  <amir_mark@apple.com>

        [BigSur Wk1] imported/w3c/web-platform-tests/css/css-contain/contain-paint-ignored-cases-ruby-stacking-and-clipping-001.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=226377

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-05-28  Devin Rousso  <drousso@apple.com>

        [Modern Media Controls] put the localized information for tracks first if the track is not in the user's preferred language
        https://bugs.webkit.org/show_bug.cgi?id=226361
        <rdar://problem/78497853>

        Reviewed by Eric Carlson.

        * media/modern-media-controls/tracks-support/sorted-by-user-preferred-languages-expected.txt:

2021-05-28  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r278199.
        https://bugs.webkit.org/show_bug.cgi?id=226378

        Causes asserts in layoutformattingcontext

        Reverted changeset:

        "[LFC][TFC] Do not include vertical spacing when resolving
        percent height for table content"
        https://bugs.webkit.org/show_bug.cgi?id=226365
        https://trac.webkit.org/changeset/278199

2021-05-28  Zalan Bujtas  <zalan@apple.com>

        [LFC][TFC] Do not include vertical spacing when resolving percent height for table content
        https://bugs.webkit.org/show_bug.cgi?id=226365

        Reviewed by Antti Koivisto.

        * TestExpectations: WebKit table layout don't resolve the height percent properly when border spacing is present.
        * fast/layoutformattingcontext/table-with-percent-columns-and-spacing-expected.html: Added.
        * fast/layoutformattingcontext/table-with-percent-columns-and-spacing.html: Added.

2021-05-28  Eric Carlson  <eric.carlson@apple.com>

        [GPUP] [Video/Audio/Text]TrackPrivateRemote.h should use startTimeVariance
        https://bugs.webkit.org/show_bug.cgi?id=226355
        rdar://77326202

        Reviewed by Jer Noble.

        * http/tests/media/hls/hls-webvtt-seek-backwards-expected.txt: Added.
        * http/tests/media/hls/hls-webvtt-seek-backwards.html: Added.

2021-05-28  Martin Robinson  <mrobinson@webkit.org>

        More readily layout when scroll-snap properties change
        https://bugs.webkit.org/show_bug.cgi?id=225950

        Reviewed by Simon Fraser.

        * css3/scroll-snap/scroll-snap-style-change-crash-expected.txt: Added.
        * css3/scroll-snap/scroll-snap-style-change-crash.html: Added.

2021-05-27  Amir Mark Jr  <amir_mark@apple.com>

        [MacOS Wk1] imported/w3c/web-platform-tests/mathml/presentation-markup/mrow/inferred-mrow-stretchy.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=226360

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-05-27  Mikhail R. Gadelha  <mikhail.ramalho@gmail.com>

        Increase NumberToStringBuffer to account for negative number
        https://bugs.webkit.org/show_bug.cgi?id=226014

        Reviewed by Robin Morisset.

        In r250389, NumberToStringBuffer length was increased from 96 to 123 because:

        <21 digits> + decimal point + <100 digits> + null char = 123.

        however,

        a = -100000000000000000000
        a.toFixed(100)

        is a valid conversion and it is 124 chars long, because of the "-" sign.

        So this patch increases the length of NumberToStringBuffer to 124 and adds new
        test cases.

        * js/dom/number-tofixed-expected.txt:
        * js/dom/script-tests/number-tofixed.js:
        * js/kde/Number-expected.txt:
        * js/kde/script-tests/Number.js:

2021-05-27  Fujii Hironori  <Hironori.Fujii@sony.com>

        [run-webkit-tests][Win] Strip PHP support from webserver
        https://bugs.webkit.org/show_bug.cgi?id=226287

        Reviewed by Jonathan Bedard.

        * http/conf/libphp4.dll: Removed.
        * http/conf/win-httpd-2.4-php5.conf: Removed.
        * http/conf/win-httpd-2.4.conf: Renamed from LayoutTests/http/conf/win-httpd-2.4-php7.conf.

2021-05-27  Devin Rousso  <drousso@apple.com>

        Use `NSLocale` SPI for comparing language identifiers instead of string comparison
        https://bugs.webkit.org/show_bug.cgi?id=226252

        Reviewed by Wenson Hsieh.

        * media/modern-media-controls/tracks-support/sorted-by-user-preferred-languages.html:
        * media/modern-media-controls/tracks-support/sorted-by-user-preferred-languages-expected.txt:

2021-05-27  Alan Bujtas  <zalan@apple.com>

        REGRESSION (r244434) Dispatch intrinsicContentsSizeChanged on the main frame only
        https://bugs.webkit.org/show_bug.cgi?id=226311

        Reviewed by Tim Horton.

        * fast/dynamic/mail-autosize-with-iframe-expected.txt: Added.
        * fast/dynamic/mail-autosize-with-iframe.html: Added.

2021-05-27  Youenn Fablet  <youenn@apple.com>

        Support H264 profiles in MediaRecorder
        https://bugs.webkit.org/show_bug.cgi?id=226219
        <rdar://78027944>

        Reviewed by Eric Carlson.

        * http/wpt/mediarecorder/MediaRecorder-video-h264-profiles-expected.txt: Added.
        * http/wpt/mediarecorder/MediaRecorder-video-h264-profiles.html: Added.

2021-05-27  Kimmo Kinnunen  <kkinnunen@apple.com>

        MacOS WebM Format Reader returns enabled for tracks that do not have samples
        https://bugs.webkit.org/show_bug.cgi?id=226078
        <rdar://74048072>

        Reviewed by Jer Noble.

        After r274378 the WebM format reader does not support WebM with non-disabled audio tracks
        that do not have any samples.
        Remove the empty audio track from all red-green.webmvp9.webm files so that WebGL
        conformance tests that use the file do not fail due to this.

        * fast/canvas/webgl/resources/red-green.webmvp8.webm:
        * http/tests/webgl/1.0.2/resources/webgl_test_files/conformance/resources/red-green.webmvp8.webm:
        * webgl/1.0.3/resources/webgl_test_files/conformance/resources/red-green.webmvp8.webm:
        * webgl/2.0.0/resources/webgl_test_files/resources/red-green.webmvp8.webm:
        * webgl/resources/webgl_test_files/resources/red-green.webmvp8.webm:

2021-05-26  Toshio Ogasawara  <toshio.ogasawara@access-company.com>

        [MSE] MediaSample that need to be removed with SourceBufferPrivate::evictCodedFrames() may not be removed.
        https://bugs.webkit.org/show_bug.cgi?id=225800
        <rdar://problem/78296352>

        Reviewed by Jer Noble.

        * media/media-source/media-source-evict-codedframe-after-seek-expected.txt: Added.
        * media/media-source/media-source-evict-codedframe-after-seek.html: Added.

2021-05-26  Jean-Yves Avenard  <jya@apple.com>

        Make MediaSession readystate enums all lowercase
        https://bugs.webkit.org/show_bug.cgi?id=226213
        <rdar://problem/78437011>

        Reviewed by Eric Carlson.

        Use the current MediaSession definition pattern which makes all enum names
        lower case.

        * media/media-session/mock-coordinator-expected.txt:
        * media/media-session/mock-coordinator.html:

2021-05-26  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        Unreviewed test gardening, remove some outdated test expectations.
        https://bugs.webkit.org/show_bug.cgi?id=226284

        * TestExpectations:

2021-05-26  Chris Lord  <clord@igalia.com>

        Scrollbars/indicators are sometimes incorrectly drawn when async overflow scrolling is enabled
        https://bugs.webkit.org/show_bug.cgi?id=226259

        Reviewed by Simon Fraser.

        Some tests involving overflow scrolling now pass.

        * platform/wpe/TestExpectations:

2021-05-26  Amir Mark Jr  <amir_mark@apple.com>

        [BigSur] http/tests/performance/performance-resource-timing-resourcetimingbufferfull-crash.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=226299

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-05-26  Amir Mark Jr  <amir_mark@apple.com>

        [ macOS iOS ] crypto/crypto-random-values-oom.html is a flakey timeout
        https://bugs.webkit.org/show_bug.cgi?id=223949

        Unreviewed test gardening.

        Updated test expectations due to test still appearing flaky.

        * platform/mac/TestExpectations:

2021-05-26  Truitt Savell  <tsavell@apple.com>

        Unreviewed, reverting r278028.

        Caused fast/selectors/slow-style-sharing-with-long-cousin-
        list.html to timeout on iOS and Windows.

        Reverted changeset:

        "CrashOnOverflow in
        WebCore::RenderTable::cellBefore(WebCore::RenderTableCell
        const*)"
        https://bugs.webkit.org/show_bug.cgi?id=225949
        https://commits.webkit.org/r278028

2021-05-26  Chris Dumez  <cdumez@apple.com>

        Unreviewed, skip new WebAudio tests added in r278068 on Windows.

        WebAudio is disabled on Windows.

        * platform/win/TestExpectations:

2021-05-26  Jonathan Bedard  <jbedard@apple.com>

        [run-webkit-tests] Strip php support from webserver (Apache)
        https://bugs.webkit.org/show_bug.cgi?id=226032
        <rdar://problem/78269181>

        Reviewed by Adrian Perez de Castro.

        * http/conf/apache2.2-httpd.conf: Remove PHP.
        * http/conf/apache2.4-darwin-httpd.conf: Copied from LayoutTests/http/conf/apache2.4-x-httpd.conf.
        * http/conf/apache2.4-httpd.conf: Remove PHP.
        * http/conf/apache2.4-php7-httpd.conf: Removed.
        * http/conf/apache2.4-x-httpd.conf: Renamed apache2.4-darwin-httpd.conf.

2021-05-26  Jonathan Bedard  <jbedard@apple.com>

        [LayoutTests] Delete php tests from imported/blink
        https://bugs.webkit.org/show_bug.cgi?id=226177
        <rdar://problem/78401190>

        Reviewed by Stephanie Lewis.

        * imported/blink/http/tests/css/remove-placeholder-styles-expected.txt: Removed.
        * imported/blink/http/tests/css/remove-placeholder-styles.html: Removed.
        * imported/blink/http/tests/css/resources: Removed.
        * imported/blink/http/tests/resources: Removed.
        * imported/blink/http/tests/security/referrer-policy-attribute-img-origin-expected.html: Removed.
        * imported/blink/http/tests/security/referrer-policy-attribute-img-origin-when-crossorigin-expected.html: Removed.
        * imported/blink/http/tests/security/referrer-policy-attribute-img-origin-when-crossorigin.html: Removed.
        * imported/blink/http/tests/security/referrer-policy-attribute-img-origin.html: Removed.
        * imported/blink/http/tests/security/referrer-policy-attribute-img-picture-expected.html: Removed.
        * imported/blink/http/tests/security/referrer-policy-attribute-img-picture.html: Removed.
        * imported/blink/http/tests/security/referrer-policy-attribute-img-removeattr-expected.html: Removed.
        * imported/blink/http/tests/security/referrer-policy-attribute-img-removeattr.html: Removed.
        * imported/blink/http/tests/security/referrer-policy-attribute-img-unsafe-url-expected.html: Removed.
        * imported/blink/http/tests/security/referrer-policy-attribute-img-unsafe-url.html: Removed.
        * imported/blink/http/tests/security/resources/green-if-no-referrer.php: Removed.
        * imported/blink/http/tests/security/resources/green-if-referrer-is-full-url-origin-when-crossorigin.php: Removed.
        * imported/blink/http/tests/security/resources/green-if-referrer-is-full-url.php: Removed.
        * imported/blink/http/tests/security/resources/green-if-referrer-is-origin.php: Removed.
        * imported/blink/http/tests/svg/image-fetch-fail-expected.txt: Removed.
        * imported/blink/http/tests/svg/image-fetch-fail.svg: Removed.
        * imported/blink/http/tests/svg/resources: Removed.
        * platform/ios/TestExpectations:

2021-05-26  Alan Bujtas  <zalan@apple.com>

        REGRESSION: Safari v14.1 computes element height to be 33,554,432 pixels
        https://bugs.webkit.org/show_bug.cgi?id=226006
        <rdar://problem/78471122>

        Reviewed by Antti Koivisto.

        * fast/inline/inline-root-with-negative-margin-and-sibling-float-expected.html: Added.
        * fast/inline/inline-root-with-negative-margin-and-sibling-float.html: Added.

2021-05-26  Cameron McCormack  <heycam@apple.com>

        Followup test expectation updates.
        https://bugs.webkit.org/show_bug.cgi?id=225586
        <rdar://77527890>

        Unreviewed.

        * platform/mac-bigsur-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-minsize-maxsize-001-expected.txt: Added.
        * platform/mac-bigsur-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-stretch-properties-dynamic-001-expected.txt: Added.
        * platform/mac-bigsur-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-combining-expected.txt: Added.
        * platform/mac-bigsur-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-001-expected.txt: Added.
        * platform/mac-bigsur-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-002-expected.txt: Added.
        * platform/mac-bigsur-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-001-expected.txt: Added.
        * platform/mac-bigsur-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-005-expected.txt: Added.
        * platform/mac-bigsur-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-006-expected.txt: Added.
        * platform/mac-bigsur-wk1/imported/w3c/web-platform-tests/mathml/relations/css-styling/padding-border-margin/border-002-expected.txt: Added.
        * platform/mac/TestExpectations:

2021-05-25  Chris Dumez  <cdumez@apple.com>

        CSP does not apply to AudioWorklets
        https://bugs.webkit.org/show_bug.cgi?id=225862
        <rdar://problem/78098440>

        Reviewed by Eric Carlson.

        Add layout test coverage since the upstream WPT tests for this are unable to run with our infrastructure.

        * http/tests/security/contentSecurityPolicy/audioworklet-script-src-allowed-expected.txt: Added.
        * http/tests/security/contentSecurityPolicy/audioworklet-script-src-allowed.html: Added.
        * http/tests/security/contentSecurityPolicy/audioworklet-script-src-blocked-expected.txt: Added.
        * http/tests/security/contentSecurityPolicy/audioworklet-script-src-blocked.html: Added.
        * http/tests/security/contentSecurityPolicy/resources/audioworklet-processor.js: Added.
        (DummyProcessor):
        (DummyProcessor.prototype.process):

2021-05-25  Devin Rousso  <drousso@apple.com>

        [Modern Media Controls] REGRESSION(r254389) media controls needs the full list of language preferences for ordering tracks
        https://bugs.webkit.org/show_bug.cgi?id=226038

        Reviewed by Myles C. Maxfield and Eric Carlson.

        * media/modern-media-controls/tracks-support/sorted-by-user-preferred-languages.html: Added.
        * media/modern-media-controls/tracks-support/sorted-by-user-preferred-languages-expected.txt: Added.

        * media/content/lorem-ipsum.vtt: Added.

2021-05-25  Amir Mark Jr  <amir_mark@apple.com>

        [ Catalina E Wk1 ] imported/w3c/web-platform-tests/css/css-backgrounds/hidpi/simple-bg-color.html is flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=226229

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-05-25  Chris Dumez  <cdumez@apple.com>

        SecurityPolicyViolationEvent.constructor do not throw any exception as expected when eventInitDict param do not include all the members required
        https://bugs.webkit.org/show_bug.cgi?id=226215

        Reviewed by Darin Adler.

        Update existing test so that it keeps passing with the new SecurityPolicyViolationEvent constructor
        changes.

        * http/tests/security/contentSecurityPolicy/1.1/securitypolicyviolation-basics-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/securitypolicyviolation-basics.html:

2021-05-21  Jonathan Bedard  <jbedard@apple.com>

        [LayoutTess] Delete unused LayoutTests/fast resources
        https://bugs.webkit.org/show_bug.cgi?id=226064
        <rdar://problem/78289833>

        Reviewed by Dewei Zhu.

        * fast/box-shadow/resources/box-shadow-overflow-scroll.js: Removed.
        * fast/canvas/resources/empty.svg: Removed.
        * fast/canvas/resources/orientation-rotate-0.jpg: Removed.
        * fast/canvas/resources/orientation-rotate-180.jpg: Removed.
        * fast/canvas/resources/orientation-rotate-90-ccw.jpg: Removed.
        * fast/canvas/resources/orientation-rotate-90-cw.jpg: Removed.
        * fast/canvas/webgl/resources/out-of-bounds-test.js: Removed.
        * fast/css-grid-layout/resources/blue-100x50.png: Removed.
        * fast/css/resources/alignment-parsing-utils.js: Removed.
        * fast/css/resources/purple-noprofile.png: Removed.
        * fast/custom-elements/resources/document-types.js: Removed.
        * fast/dom/HTMLScriptElement/resources/script-set-src-p4pass.js: Removed.
        * fast/dom/resources/event-sender-util.js: Removed.
        * fast/forms/resources/common-clearbutton-change-and-input-events.js: Removed.
        * fast/forms/resources/multiple-fields-ax-aria-attributes.js: Removed.
        * fast/forms/resources/multiple-fields-blur-and-focus-events.js: Removed.
        * fast/forms/resources/multiple-fields-validity-badinput.js: Removed.
        * fast/forms/resources/multiple-fields-value-set-empty.js: Removed.
        * fast/history/resources/clicked-link-is-visited-2.html: Removed.
        * fast/history/resources/page-cache-helper-10000ms.html: Removed.
        * fast/history/resources/page-cache-helper-100ms.html: Removed.
        * fast/images/resources/animated-red-green-blue-repeat-infinite.webp: Removed.
        * fast/images/resources/large.webp: Removed.
        * fast/images/resources/lenna.jpg: Removed.
        * fast/images/resources/lenna.png: Removed.
        * fast/reflections/resources/reflection-overflow-scroll.js: Removed.
        * fast/shadow-dom/resources/red-div.css: Removed.
        * fast/text/resources/gw432047-license.txt: Removed.
        * fast/text/resources/unicode-range-download-Ahem.otf: Removed.
        * fast/text/resources/unicode-range-download-Ahem.ttf: Removed.
        * fast/text/resources/unicode-range-download-Ahem.woff: Removed.
        * fast/workers/resources/messageevent-source.js: Removed.
        * fast/xmlhttprequest/resources/1251.html: Removed.

2021-05-25  Alan Bujtas  <zalan@apple.com>

        CrashOnOverflow in WebCore::RenderTable::cellBefore(WebCore::RenderTableCell const*)
        https://bugs.webkit.org/show_bug.cgi?id=225949

        Reviewed by Sergio Villar Senin.

        * fast/table/table-split-on-insert-with-section-crash-expected.txt: Added.
        * fast/table/table-split-on-insert-with-section-crash.html: Added.

2021-05-25  Alan Bujtas  <zalan@apple.com>

        [LFC][TFC] Percent height resolving quirk should stop at the table formatting context root
        https://bugs.webkit.org/show_bug.cgi?id=226156

        Reviewed by Darin Adler.

        * fast/layoutformattingcontext/table-with-percent-height-descendant-expected.html: Added.
        * fast/layoutformattingcontext/table-with-percent-height-descendant.html: Added.

2021-05-25  Arcady Goldmints-Orlov  <agoldmints@igalia.com>

        [GLIB] Unreviewed test gardening. Update some SVG test baselines.
        https://bugs.webkit.org/show_bug.cgi?id=226111

        * platform/glib/svg/transforms/svg-css-transforms-clip-path-expected.txt: Renamed from LayoutTests/platform/wpe/svg/transforms/svg-css-transforms-clip-path-expected.txt.
        * platform/glib/svg/transforms/svg-css-transforms-expected.txt: Renamed from LayoutTests/platform/wpe/svg/transforms/svg-css-transforms-expected.txt.
        * platform/glib/transforms/svg-vs-css-expected.txt:
        * platform/gtk/svg/transforms/svg-css-transforms-clip-path-expected.txt: Removed.
        * platform/gtk/svg/transforms/svg-css-transforms-expected.txt: Removed.
        * platform/wpe/transforms/svg-vs-css-expected.txt: Removed.

2021-05-25  Enrique Ocaña González  <eocanha@igalia.com>

        [GTK] Layout test media/track/track-cue-missing.html is failing
        https://bugs.webkit.org/show_bug.cgi?id=191004

        Reviewed by Alicia Boya Garcia.

        * platform/glib/TestExpectations: Unskipped test.

2021-05-25  Tim Nguyen  <ntim@apple.com>

        Add basic <dialog> element UA styles
        https://bugs.webkit.org/show_bug.cgi?id=226169

        Reviewed by Antti Koivisto.

        Basic styles from https://html.spec.whatwg.org/#flow-content-3

        * TestExpectations: marked relevant tests as failing until a proper modal dialog implementation makes them pass
        * fast/box-shadow/box-shadow-huge-area-crash.html: changed it to use a <div> to match the behaviour before this patch
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/semantics/interactive-elements/the-dialog-element/abspos-dialog-layout-expected.txt:

2021-05-25  Frederic Wang  <fwang@igalia.com>

        Crash in CompositeEditCommand::splitTreeToNode via InsertParagraphSeparatorCommand::doApply
        https://bugs.webkit.org/show_bug.cgi?id=225267

        Reviewed by Ryosuke Niwa.

        Add regression test.

        * fast/editing/paste-and-match-style-with-table-2-crash-expected.txt: Added.
        * fast/editing/paste-and-match-style-with-table-2-crash.html: Added.

2021-05-25  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo/TestExpectations:

2021-05-24  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r277867.
        https://bugs.webkit.org/show_bug.cgi?id=226211

        Causes problems playing YouTube videos

        Reverted changeset:

        "[Cocoa] Last few seconds of 'audio/webm; codecs=vorbis'
        appended to a SampleBuffer are not played"
        https://bugs.webkit.org/show_bug.cgi?id=226069
        https://trac.webkit.org/changeset/277867

2021-05-24  Wenson Hsieh  <wenson_hsieh@apple.com>

        [iOS] Adjust meaningful click heuristic to detect focus changes and editable content
        https://bugs.webkit.org/show_bug.cgi?id=226199
        rdar://78368624

        Reviewed by Tim Horton.

        Add a layout test to exercise the change.

        * fast/events/ios/meaningful-click-when-focusing-body-expected.txt: Added.
        * fast/events/ios/meaningful-click-when-focusing-body.html: Added.

2021-05-24  Chris Fleizach  <cfleizach@apple.com>

        AX: Settings: Increase contrast isn't detected in browser until an additional setting is applied
        https://bugs.webkit.org/show_bug.cgi?id=225909

        Reviewed by Per Arne Vollan.

        * accessibility/mac/media-query-values-change-expected.txt: Added.
        * accessibility/mac/media-query-values-change.html: Added.

2021-05-24  Cameron McCormack  <heycam@apple.com>

        Add missing operators.woff that a few WPTs reference.
        https://bugs.webkit.org/show_bug.cgi?id=225586
        <rdar://77527890>

        Reviewed by Frédéric Wang.

        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-stretch-properties-dynamic-001-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-combining-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-001-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-002-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-003-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-001-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-006-expected.txt:
        * platform/mac-catalina-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-stretch-properties-dynamic-001-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-stretch-properties-dynamic-001-expected.txt.
        * platform/mac-catalina/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-minsize-maxsize-001-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-minsize-maxsize-001-expected.txt.
        * platform/mac-catalina/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-stretch-properties-dynamic-001-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-stretch-properties-dynamic-001-expected.txt.
        * platform/mac-catalina/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-combining-expected.txt: Added.
        * platform/mac-catalina/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-001-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-001-expected.txt.
        * platform/mac-catalina/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-002-expected.txt: Copied from LayoutTests/platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-002-expected.txt.
        * platform/mac-catalina/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-001-expected.txt: Copied from LayoutTests/platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-001-expected.txt.
        * platform/mac-catalina/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-005-expected.txt: Added.
        * platform/mac-catalina/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-006-expected.txt: Copied from LayoutTests/platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-006-expected.txt.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-minsize-maxsize-001-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-minsize-maxsize-001-expected.txt.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-stretch-properties-dynamic-001-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-stretch-properties-dynamic-001-expected.txt.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-combining-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-001-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-001-expected.txt.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-002-expected.txt: Copied from LayoutTests/platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-002-expected.txt.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-001-expected.txt: Copied from LayoutTests/platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-001-expected.txt.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-005-expected.txt: Added.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-006-expected.txt: Copied from LayoutTests/platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-006-expected.txt.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-combining-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/relations/css-styling/padding-border-margin/border-002-expected.txt:
        * platform/mac/TestExpectations:

2021-05-24  Jonathan Bedard  <jbedard@apple.com>

        [LayoutTests] Delete unused jquery resources
        https://bugs.webkit.org/show_bug.cgi?id=226043
        <rdar://problem/78277881>

        Reviewed by Dewei Zhu.

        * jquery/resources/src/intro.js: Removed.
        * jquery/resources/src/outro.js: Removed.
        * jquery/resources/src/selector.js: Removed.
        * jquery/resources/test/csp.php: Removed.
        * jquery/resources/test/data/readywaitasset.js: Removed.
        * jquery/resources/test/data/readywaitloader.js: Removed.
        * jquery/resources/test/delegatetest.html: Removed.
        * jquery/resources/test/localfile.html: Removed.
        * jquery/resources/test/networkerror.html: Removed.
        * jquery/resources/test/polluted.php: Removed.
        * jquery/resources/test/readywait.html: Removed.
        * jquery/resources/test/xhtml.php: Removed.

2021-05-24  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] Remove straggling PHP references
        https://bugs.webkit.org/show_bug.cgi?id=226179
        <rdar://problem/78407224>

        Reviewed by Jonathan Bedard.

        * http/tests/blink/sendbeacon/beacon-cross-origin-redirect-blob-expected.txt:
        * http/tests/blink/sendbeacon/beacon-cross-origin-redirect-blob.html:
        * http/tests/blink/sendbeacon/beacon-cross-origin-redirect-expected.txt:
        * http/tests/blink/sendbeacon/beacon-cross-origin-redirect.html:
        * http/tests/eventsource/eventsource-events-after-close.html:
        * http/tests/images/avif-partial-load-crash.html:
        * http/tests/inspector/css/bad-mime-type-expected.txt:
        * http/tests/inspector/css/bad-mime-type.html:
        * http/tests/loading/resources/post-in-iframe-with-back-navigation-page-2.py:
        * http/tests/media/resources/serve_video.py:
        * http/tests/navigation/redirect-to-fragment2-expected.txt:
        * http/tests/navigation/slow-loading-page-with-slow-script.py:
        * http/tests/security/contentSecurityPolicy/resources/worker.py:
        * http/tests/security/xssAuditor/resources/echo-intertag.pl:
        * http/tests/workers/service/basic-register-exceptions-expected.txt:
        * http/tests/workers/service/resources/basic-register-exceptions.js:

2021-05-24  Kate Cheney  <katherine_cheney@apple.com>

        [ wk2 ] http/tests/security/contentSecurityPolicy/report-only-connect-src-xmlhttprequest-redirect-to-blocked.py is a constant text failure
        https://bugs.webkit.org/show_bug.cgi?id=224626
        <rdar://problem/76729427>

        http/tests/security/contentSecurityPolicy/report-only-connect-src-beacon-redirect-blocked.py
        initiates a redirect that generates a CSP violation, but does not wait
        for the console logging. This results in flakiness of other test that
        occasionally pick up this console logging in their output. To fix this,
        we should wait to end the test until we get the CSP violation report.

        Reviewed by Sam Weinig.

        * http/tests/security/contentSecurityPolicy/report-only-connect-src-beacon-redirect-blocked-expected.txt:
        Update expectations now that we consistently expect to get report
        violation console logging for this test.

        * http/tests/security/contentSecurityPolicy/report-only-connect-src-beacon-redirect-blocked.py:
        * platform/wk2/TestExpectations:

2021-05-24  Sihui Liu  <sihui_liu@apple.com>

        REGRESSION(r256715): XSLTProcessor does not parse script when transforming to document
        https://bugs.webkit.org/show_bug.cgi?id=226087

        Reviewed by Darin Adler.

        * fast/xsl/xslt-transform-script.html: Added.
        * fast/xsl/xslt-transform-script-expected.txt: Added.

2021-05-21  Jonathan Bedard  <jbedard@apple.com>

        [LayoutTests] Delete unused LayoutTests/http resources
        https://bugs.webkit.org/show_bug.cgi?id=226065
        <rdar://problem/78289889>

        Reviewed by Darin Adler.

        * http/tests/appcache/resources/abort-cache-onprogress-4.text: Removed.
        * http/tests/cookies/resources/post-cookies-onmessage.py: Removed.
        * http/tests/cookies/resources/setArraycookies-expected.txt: Removed.
        * http/tests/cookies/resources/setUtf8Cookies-expected.txt: Removed.
        * http/tests/inspector/network/resources/stylesheet-with-sourcemap.scss: Removed.
        * http/tests/media/media-stream/resources/getUserMedia-helper.js: Removed.
        * http/tests/media/resources/hls/metadata/fileSequence0.ts: Removed.
        * http/tests/media/resources/hls/metadata/fileSequence1.ts: Removed.
        * http/tests/media/resources/media-source: Removed.
        * http/tests/mime/resources/accept-all-text-types.cgi: Removed.
        * http/tests/misc/resources/acid3/support-a.png.404: Removed.
        * http/tests/misc/resources/animated-gif-with-offsets.gif: Removed.
        * http/tests/misc/resources/chromium-selectionAsMarkup.html: Removed.
        * http/tests/misc/resources/generatedimage.bat: Removed.
        * http/tests/misc/resources/referrer-main-resource-expected.txt: Removed.
        * http/tests/misc/resources/referrer-main-resource.py: Removed.
        * http/tests/misc/resources/script-write-slow-stylesheet.js: Removed.
        * http/tests/navigation/resources/redirect-to-cookie.py: Removed.
        * http/tests/quicklook/resources/http-equiv-blocked.docx: Removed.
        * http/tests/security/XFrameOptions/resources/x-frame-options-parent-same-origin-deny.cgi: Removed.
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/resources/frame-with-insecure-image-and-without-policy.html: Removed.
        * http/tests/security/contentSecurityPolicy/resources/worker-eval.js: Removed.
        * http/tests/security/contentSecurityPolicy/resources/worker-function-function.js: Removed.
        * http/tests/security/contentSecurityPolicy/resources/worker-make-xhr.js: Removed.
        * http/tests/security/contentSecurityPolicy/resources/worker-set-timeout.js: Removed.
        * http/tests/security/mixedContent/resources/frame-with-programmatically-added-insecure-image-redirects-to-basic-auth-secure-image.html: Removed.
        * http/tests/security/postMessage/resources/middle-frame-for-lexical.html: Removed.
        * http/tests/security/postMessage/resources/post-message-listener-with-ready.html: Removed.
        * http/tests/security/resources/create-filesystem-file.html: Removed.
        * http/tests/security/resources/cross-origin-iframe-for-worker-websql.html: Removed.
        * http/tests/security/resources/document-for-cross-origin-worker-websql.html: Removed.
        * http/tests/security/resources/drag-drop-allowed-expected.txt: Removed.
        * http/tests/security/resources/image-wrapper.svg: Removed.
        * http/tests/security/resources/pass-if-no-referrer.py: Removed.
        * http/tests/security/resources/worker-for-websql.js: Removed.
        * http/tests/webgl/1.0.2/resources/webgl_test_files/conformance/context: Removed.
        * http/tests/webgl/1.0.2/resources/webgl_test_files/conformance/more/conformance: Removed.
        * http/tests/webgl/1.0.2/resources/webgl_test_files/conformance/resources/boolUniformShader.vert: Removed.
        * http/tests/webgl/1.0.2/resources/webgl_test_files/conformance/resources/glsl-conformance-test.js: Removed.
        * http/tests/webgl/1.0.2/resources/webgl_test_files/conformance/resources/glsl-feature-tests.css: Removed.
        * http/tests/webgl/1.0.2/resources/webgl_test_files/conformance/resources/glsl-generator.js: Removed.
        * http/tests/webgl/1.0.2/resources/webgl_test_files/conformance/resources/intArrayUniformShader.vert: Removed.
        * http/tests/webgl/1.0.2/resources/webgl_test_files/conformance/resources/intUniformShader.vert: Removed.
        * http/tests/webgl/1.0.2/resources/webgl_test_files/conformance/resources/matUniformShader.vert: Removed.
        * http/tests/webgl/1.0.2/resources/webgl_test_files/conformance/resources/noopUniformShader.vert: Removed.
        * http/tests/webgl/1.0.2/resources/webgl_test_files/conformance/resources/ogles-tests.css: Removed.
        * http/tests/webgl/1.0.2/resources/webgl_test_files/conformance/resources/samplerUniformShader.frag: Removed.
        * http/tests/webgl/1.0.2/resources/webgl_test_files/conformance/resources/structUniformShader.vert: Removed.
        * http/tests/webgl/1.0.2/resources/webgl_test_files/resources/test-eval.js: Removed.
        * http/tests/webgl/1.0.2/resources/webgl_test_files/resources/webgl-logo.png: Removed.
        * http/tests/workers/resources/sync-operations.js: Removed.
        * http/tests/xmlhttprequest/resources/access-control-basic-allow-print-headers.cgi: Removed.
        * http/tests/xmlhttprequest/resources/print-headers.py: Removed.
        * http/tests/xmlhttprequest/resources/reply2.txt: Removed.
        * http/tests/xmlhttprequest/resources/reply2.xml: Removed.
        * http/tests/xmlhttprequest/resources/reply3.txt: Removed.
        * http/tests/xmlhttprequest/resources/reply3.xml: Removed.
        * http/tests/xmlhttprequest/resources/reply4.txt: Removed.
        * http/tests/xmlhttprequest/resources/reply4.xml: Removed.
        * http/tests/xmlhttprequest/resources/reply5.txt: Removed.
        * http/tests/xmlhttprequest/resources/svgtest.svg: Removed.
        * http/tests/xmlhttprequest/resources/utf-8-no-charset.html: Removed.

2021-05-24  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo/TestExpectations:

2021-05-22  Adrian Perez de Castro  <aperez@igalia.com>

        [Tools][run-webkit-tests] Remove more leftover tests webserver PHP remains
        https://bugs.webkit.org/show_bug.cgi?id=226089

        Reviewed by Alexey Proskuryakov.

        Remove leftover PHP module configurations used on Linux now that PHP is not used anymore.

        * http/conf/archlinux-httpd.conf: Removed PHP module configuration.
        * http/conf/debian-httpd-2.4-php7.0.conf: Removed.
        * http/conf/debian-httpd-2.4-php7.1.conf: Removed.
        * http/conf/debian-httpd-2.4-php7.2.conf: Removed.
        * http/conf/debian-httpd-2.4-php7.4.conf: Removed.
        * http/conf/debian-httpd-2.4.conf: Renamed from LayoutTests/http/conf/debian-httpd-2.4-php7.3.conf
        and removed PHP module configuration.
        * http/conf/fedora-httpd-2.2.conf: Removed PHP module configuration.
        * http/conf/fedora-httpd-2.4-php7.conf: Removed.
        * http/conf/fedora-httpd-2.4.conf: Removed PHP module configuration.

2021-05-21  Diego Pino Garcia  <dpino@igalia.com>

        Set CanvasImageSmoothing.imageSmoothingQuality value to 'low' as default
        https://bugs.webkit.org/show_bug.cgi?id=225952

        Reviewed by Sam Weinig.

        Defined by spec:
        https://html.spec.whatwg.org/multipage/canvas.html#canvasimagesmoothing

        * platform/gtk/TestExpectations:

2021-05-21  Jonathan Bedard  <jbedard@apple.com>

        [LayoutTests] Delete unused LayoutTests/svg resources
        https://bugs.webkit.org/show_bug.cgi?id=226057
        <rdar://problem/78284735>

        Reviewed by Alexey Proskuryakov.

        * svg/W3C-SVG-1.1/resources/SVG-1.1-monolithic-fixed.dtd: Removed.
        * svg/W3C-SVG-1.1/resources/SVGImageTest.svg: Removed.
        * svg/W3C-SVG-1.1/resources/animation-extRef-image1.svg: Removed.
        * svg/W3C-SVG-1.1/resources/animation-extRef-image2.svg: Removed.
        * svg/W3C-SVG-1.1/resources/animation-extRef-image3.svg: Removed.
        * svg/W3C-SVG-1.1/resources/bullet-small.png: Removed.
        * svg/W3C-SVG-1.1/resources/bullet-white.png: Removed.
        * svg/W3C-SVG-1.1/resources/bullet.png: Removed.
        * svg/W3C-SVG-1.1/resources/bumpMap.png: Removed.
        * svg/W3C-SVG-1.1/resources/coords-units-01-f.png: Removed.
        * svg/W3C-SVG-1.1/resources/coords-units-01-f.svg: Removed.
        * svg/W3C-SVG-1.1/resources/diagarrow.png: Removed.
        * svg/W3C-SVG-1.1/resources/fillChangeColor.ICM: Removed.
        * svg/W3C-SVG-1.1/resources/filters-composite-01-f.svg: Removed.
        * svg/W3C-SVG-1.1/resources/gam030b.png: Removed.
        * svg/W3C-SVG-1.1/resources/gam045b.png: Removed.
        * svg/W3C-SVG-1.1/resources/gam056b.png: Removed.
        * svg/W3C-SVG-1.1/resources/gam100b.png: Removed.
        * svg/W3C-SVG-1.1/resources/gam200b.png: Removed.
        * svg/W3C-SVG-1.1/resources/greentopbutton.jpg: Removed.
        * svg/W3C-SVG-1.1/resources/image1.png: Removed.
        * svg/W3C-SVG-1.1/resources/image1_b.png: Removed.
        * svg/W3C-SVG-1.1/resources/image2_b.jpg: Removed.
        * svg/W3C-SVG-1.1/resources/image2_b.png: Removed.
        * svg/W3C-SVG-1.1/resources/leftarrow.png: Removed.
        * svg/W3C-SVG-1.1/resources/linking-uri-01-f-1st.png: Removed.
        * svg/W3C-SVG-1.1/resources/linking-uri-01-f-2nd.png: Removed.
        * svg/W3C-SVG-1.1/resources/linking-uri-01-f-3rd.png: Removed.
        * svg/W3C-SVG-1.1/resources/linking-uri-01-f-4th.png: Removed.
        * svg/W3C-SVG-1.1/resources/linking-uri-01-f-start.png: Removed.
        * svg/W3C-SVG-1.1/resources/linking-uri-03-f-1st.png: Removed.
        * svg/W3C-SVG-1.1/resources/linking-uri-03-f-start.png: Removed.
        * svg/W3C-SVG-1.1/resources/makealpha.svg: Removed.
        * svg/W3C-SVG-1.1/resources/myimage.jpg: Removed.
        * svg/W3C-SVG-1.1/resources/nav_bullet.png: Removed.
        * svg/W3C-SVG-1.1/resources/nav_down.png: Removed.
        * svg/W3C-SVG-1.1/resources/nav_downleft.png: Removed.
        * svg/W3C-SVG-1.1/resources/nav_downright.png: Removed.
        * svg/W3C-SVG-1.1/resources/nav_frame.png: Removed.
        * svg/W3C-SVG-1.1/resources/nav_left.png: Removed.
        * svg/W3C-SVG-1.1/resources/nav_noframe.png: Removed.
        * svg/W3C-SVG-1.1/resources/nav_right.png: Removed.
        * svg/W3C-SVG-1.1/resources/nav_svg.png: Removed.
        * svg/W3C-SVG-1.1/resources/nav_up.png: Removed.
        * svg/W3C-SVG-1.1/resources/nav_upleft.png: Removed.
        * svg/W3C-SVG-1.1/resources/nav_upright.png: Removed.
        * svg/W3C-SVG-1.1/resources/old-name-2-new-name1.html: Removed.
        * svg/W3C-SVG-1.1/resources/paths-data-01-f.png: Removed.
        * svg/W3C-SVG-1.1/resources/paths-data-01-f.svg: Removed.
        * svg/W3C-SVG-1.1/resources/paths-data-02-f.png: Removed.
        * svg/W3C-SVG-1.1/resources/paths-data-02-f.svg: Removed.
        * svg/W3C-SVG-1.1/resources/paths-data-03-f.png: Removed.
        * svg/W3C-SVG-1.1/resources/paths-data-04-f.png: Removed.
        * svg/W3C-SVG-1.1/resources/paths-data-04-f.svg: Removed.
        * svg/W3C-SVG-1.1/resources/plant.jpg: Removed.
        * svg/W3C-SVG-1.1/resources/rects_b.svg: Removed.
        * svg/W3C-SVG-1.1/resources/rightarrow.png: Removed.
        * svg/W3C-SVG-1.1/resources/shapes-ellipse-01-b.svg: Removed.
        * svg/W3C-SVG-1.1/resources/shapes-ellipse-01-f.png: Removed.
        * svg/W3C-SVG-1.1/resources/shapes-ellipse-01-f.svg: Removed.
        * svg/W3C-SVG-1.1/resources/shapes-rect-01-b.svg: Removed.
        * svg/W3C-SVG-1.1/resources/shapes-rect-01-f.png: Removed.
        * svg/W3C-SVG-1.1/resources/shapes-rect-01-f.svg: Removed.
        * svg/W3C-SVG-1.1/resources/struct-frag-01-B.svg: Removed.
        * svg/W3C-SVG-1.1/resources/struct-image-02.png: Removed.
        * svg/W3C-SVG-1.1/resources/svgRef4.css: Removed.
        * svg/W3C-SVG-1.1/resources/svgRef4.svg: Removed.
        * svg/W3C-SVG-1.1/resources/text-align-01-f.svg: Removed.
        * svg/W3C-SVG-1.1/resources/text-align-03-f.svg: Removed.
        * svg/W3C-SVG-1.1/resources/text-tref-01-f.svg: Removed.
        * svg/W3C-SVG-1.1/resources/text-ws-01-f.svg: Removed.
        * svg/W3C-SVG-1.1/resources/toc-sv.svg: Removed.
        * svg/W3C-SVG-1.1/resources/toc-svcmp.svg: Removed.
        * svg/W3C-SVG-1.1/resources/uparrow.png: Removed.
        * svg/as-image/resources/circle-nosize.svg: Removed.
        * svg/custom/resources/object-sizing-height-50p.svg: Removed.
        * svg/custom/resources/object-sizing-width-50p-height-50p.svg: Removed.
        * svg/custom/resources/object-sizing-width-50p-height-75p.svg: Removed.
        * svg/custom/resources/object-sizing-width-50p.svg: Removed.
        * svg/custom/resources/object-sizing-width-75p-height-50p.svg: Removed.
        * svg/dom/SVGScriptElement/resources/script-load2.js: Removed.
        * svg/dom/SVGScriptElement/resources/script-load3.js: Removed.
        * svg/dom/SVGScriptElement/resources/script-load4.js: Removed.

2021-05-21  Jer Noble  <jer.noble@apple.com>

        [Cocoa] Last few seconds of 'audio/webm; codecs=vorbis' appended to a SampleBuffer are not played
        https://bugs.webkit.org/show_bug.cgi?id=226069
        <rdar://78004793>

        Reviewed by Eric Carlson.

        * platform/mac-bigsur/media/media-source/content/test-vorbis-manifest.json: Added.
        * platform/mac-bigsur/media/media-source/content/test-vorbis.webm: Added.
        * platform/mac-bigsur/media/media-source/media-vorbis-partial-expected.txt: Added.
        * platform/mac-bigsur/media/media-source/media-vorbis-partial.html: Added.

2021-05-21  Kate Cheney  <katherine_cheney@apple.com>

        FrameLoader::loadURL, FrameLoader::loadPostRequest not attributing requests as app bound
        https://bugs.webkit.org/show_bug.cgi?id=225923
        <rdar://problem/78160933>

        Reviewed by Alex Christensen.

        * http/tests/in-app-browser-privacy/app-bound-attribution-load-url-expected.txt: Added.
        * http/tests/in-app-browser-privacy/app-bound-attribution-load-url.html: Added.
        * http/tests/in-app-browser-privacy/app-bound-attribution-ping-load-expected.txt: Added.
        * http/tests/in-app-browser-privacy/app-bound-attribution-ping-load.html: Added.
        * http/tests/in-app-browser-privacy/app-bound-attribution-post-request-expected.txt: Added.
        * http/tests/in-app-browser-privacy/app-bound-attribution-post-request.html: Added.
        * http/tests/in-app-browser-privacy/resources/post.py: Added.
        * http/tests/navigation/resources/check-ping-app-bound-data.py: Added.
        * platform/ios-wk2/TestExpectations:
        These tests rely on internal additions, so I will skip it here and
        unskip in the future.

2021-05-21  Imanol Fernandez  <ifernandez@igalia.com>

        Fix use after move bug in WebXRSession
        https://bugs.webkit.org/show_bug.cgi?id=226074

        Reviewed by Sergio Villar Senin.

        Update WebXR test expectations.

        * platform/wpe/TestExpectations:

2021-05-21  Jonathan Bedard  <jbedard@apple.com>

        [LayoutTests] Delete unused imported/blink resources
        https://bugs.webkit.org/show_bug.cgi?id=226047
        <rdar://problem/78280660>

        Reviewed by Dewei Zhu.

        * imported/blink/compositing/iframes/resources/subframe-with-fixed-position-element.html: Removed.
        * imported/blink/compositing/layer-creation/resources: Removed.
        * imported/blink/compositing/overflow/resources: Removed.
        * imported/blink/css3/blending/resources: Removed.
        * imported/blink/editing/execCommand/resources: Removed.
        * imported/blink/editing/selection/resources: Removed.
        * imported/blink/fast/canvas/resources: Removed.
        * imported/blink/fast/css/resources/ahem.html: Removed.
        * imported/blink/fast/css/resources/circle-small.svg: Removed.
        * imported/blink/fast/css/resources/font-face-local-file-frame.html: Removed.
        * imported/blink/fast/css/resources/media-query-with-cached-sheet-next.html: Removed.
        * imported/blink/fast/css/resources/resize-corner-tracking-touch-iframe.html: Removed.
        * imported/blink/fast/dom/HTMLDialogElement/resources: Removed.
        * imported/blink/fast/dom/HTMLImageElement/resources: Removed.
        * imported/blink/fast/dom/Range/resources: Removed.
        * imported/blink/fast/dom/Window/resources: Removed.
        * imported/blink/fast/dom/custom/resources: Removed.
        * imported/blink/fast/dom/shadow/resources: Removed.
        * imported/blink/fast/events/resources: Removed.
        * imported/blink/fast/events/touch/gesture/resources: Removed.
        * imported/blink/fast/events/touch/resources: Removed.
        * imported/blink/fast/forms/date-multiple-fields/resources: Removed.
        * imported/blink/fast/forms/datetimelocal-multiple-fields/resources: Removed.
        * imported/blink/fast/forms/month-multiple-fields/resources: Removed.
        * imported/blink/fast/forms/resources/popup-no-crash.html: Removed.
        * imported/blink/fast/forms/time-multiple-fields/resources: Removed.
        * imported/blink/fast/forms/week-multiple-fields/resources: Removed.
        * imported/blink/fast/frames/resources/detach-frame-nested-subframe.html: Removed.
        * imported/blink/fast/frames/resources/frame-set-location-badstring.html: Removed.
        * imported/blink/fast/html/imports/resources/async-child.html: Removed.
        * imported/blink/fast/html/imports/resources/async-root-child-1.html: Removed.
        * imported/blink/fast/html/imports/resources/async-root-child-2.html: Removed.
        * imported/blink/fast/html/imports/resources/async-root.html: Removed.
        * imported/blink/fast/html/imports/resources/child-frame-with-import.html: Removed.
        * imported/blink/fast/html/imports/resources/custom-element-hello-1.html: Removed.
        * imported/blink/fast/html/imports/resources/custom-element-hello-2.html: Removed.
        * imported/blink/fast/html/imports/resources/custom-element-hello-3.html: Removed.
        * imported/blink/fast/html/imports/resources/custom-element-hello-4.html: Removed.
        * imported/blink/fast/html/imports/resources/custom-element-hello-5.html: Removed.
        * imported/blink/fast/html/imports/resources/custom-element-hello-6.html: Removed.
        * imported/blink/fast/html/imports/resources/custom-element-hello-7.html: Removed.
        * imported/blink/fast/html/imports/resources/custom-element-hello-8.html: Removed.
        * imported/blink/fast/html/imports/resources/custom-element-hello-parent-12.html: Removed.
        * imported/blink/fast/html/imports/resources/custom-element-hello-parent-34.html: Removed.
        * imported/blink/fast/html/imports/resources/custom-element-hello-parent-56.html: Removed.
        * imported/blink/fast/html/imports/resources/custom-element-hello.html: Removed.
        * imported/blink/fast/html/imports/resources/custom-element-style.html: Removed.
        * imported/blink/fast/html/imports/resources/cycle-two-parents-2-b.html: Removed.
        * imported/blink/fast/html/imports/resources/cycle-two-parents-3-a.html: Removed.
        * imported/blink/fast/html/imports/resources/do-document-write.html: Removed.
        * imported/blink/fast/html/imports/resources/events-inline.html: Removed.
        * imported/blink/fast/html/imports/resources/hello-css.html: Removed.
        * imported/blink/fast/html/imports/resources/hello-legacy.html: Removed.
        * imported/blink/fast/html/imports/resources/hello-nodtd.html: Removed.
        * imported/blink/fast/html/imports/resources/import-custom-element-onload-child.html: Removed.
        * imported/blink/fast/html/imports/resources/import-custom-element-onload-grandchild.html: Removed.
        * imported/blink/fast/html/imports/resources/import-events-target.html: Removed.
        * imported/blink/fast/html/imports/resources/import-link-with-media-query.html: Removed.
        * imported/blink/fast/html/imports/resources/meta-encoding.html: Removed.
        * imported/blink/fast/html/imports/resources/nest-dup-2-parent.html: Removed.
        * imported/blink/fast/html/imports/resources/nest-dup-2.html: Removed.
        * imported/blink/fast/html/imports/resources/nest-dup-child.html: Removed.
        * imported/blink/fast/html/imports/resources/nest-dup-grand-parent.html: Removed.
        * imported/blink/fast/html/imports/resources/nest-dup-parent.html: Removed.
        * imported/blink/fast/html/imports/resources/nest-dup.html: Removed.
        * imported/blink/fast/html/imports/resources/no-encoding.html: Removed.
        * imported/blink/fast/html/imports/resources/nr1-i0.html: Removed.
        * imported/blink/fast/html/imports/resources/nr1-i1.html: Removed.
        * imported/blink/fast/html/imports/resources/nr1-i2.html: Removed.
        * imported/blink/fast/html/imports/resources/nr1-i3.html: Removed.
        * imported/blink/fast/html/imports/resources/nr1-i4.html: Removed.
        * imported/blink/fast/html/imports/resources/nr1-i5.html: Removed.
        * imported/blink/fast/html/imports/resources/nr2-i0.html: Removed.
        * imported/blink/fast/html/imports/resources/nr2-i1.html: Removed.
        * imported/blink/fast/html/imports/resources/nr2-i2.html: Removed.
        * imported/blink/fast/html/imports/resources/nr2-i3.html: Removed.
        * imported/blink/fast/html/imports/resources/nr2-i4.html: Removed.
        * imported/blink/fast/html/imports/resources/nr2-i5.html: Removed.
        * imported/blink/fast/html/imports/resources/nr2-i6.html: Removed.
        * imported/blink/fast/html/imports/resources/nr2-i7.html: Removed.
        * imported/blink/fast/html/imports/resources/nr3-i6.html: Removed.
        * imported/blink/fast/html/imports/resources/nr3-i7.html: Removed.
        * imported/blink/fast/html/imports/resources/nr4-i0.html: Removed.
        * imported/blink/fast/html/imports/resources/nr4-i1.html: Removed.
        * imported/blink/fast/html/imports/resources/nr4-i2.html: Removed.
        * imported/blink/fast/html/imports/resources/nr4-i3.html: Removed.
        * imported/blink/fast/html/imports/resources/nr4-i4.html: Removed.
        * imported/blink/fast/html/imports/resources/nr4-i5.html: Removed.
        * imported/blink/fast/html/imports/resources/nr4-i6.html: Removed.
        * imported/blink/fast/html/imports/resources/nr4-i7.html: Removed.
        * imported/blink/fast/html/imports/resources/nr4-i8.html: Removed.
        * imported/blink/fast/html/imports/resources/nr4-i9.html: Removed.
        * imported/blink/fast/html/imports/resources/nr4-ia.html: Removed.
        * imported/blink/fast/html/imports/resources/nr5-i9.html: Removed.
        * imported/blink/fast/html/imports/resources/nr5-ia.html: Removed.
        * imported/blink/fast/html/imports/resources/onload-root.html: Removed.
        * imported/blink/fast/html/imports/resources/script-document-write.html: Removed.
        * imported/blink/fast/html/imports/resources/script-leaf.html: Removed.
        * imported/blink/fast/html/imports/resources/script-prototype-test.html: Removed.
        * imported/blink/fast/html/imports/resources/setting-greet-var.html: Removed.
        * imported/blink/fast/html/imports/resources/shared-crash-child.html: Removed.
        * imported/blink/fast/html/imports/resources/shared-crash-dup.html: Removed.
        * imported/blink/fast/html/imports/resources/shared-crash-grandchild.html: Removed.
        * imported/blink/fast/html/imports/resources/shared-crash-root.html: Removed.
        * imported/blink/fast/html/imports/resources/style-basic-child-dynamic.html: Removed.
        * imported/blink/fast/html/imports/resources/style-basic-child.html: Removed.
        * imported/blink/fast/html/imports/resources/style-basic-grandchild.html: Removed.
        * imported/blink/fast/html/imports/resources/style-blue.html: Removed.
        * imported/blink/fast/html/imports/resources/style-link-block-child.html: Removed.
        * imported/blink/fast/html/imports/resources/style-link-child.html: Removed.
        * imported/blink/fast/html/imports/resources/style-link-grandchild.html: Removed.
        * imported/blink/fast/html/imports/resources/style-red-parent.html: Removed.
        * imported/blink/fast/html/imports/resources/style-red.html: Removed.
        * imported/blink/fast/html/imports/resources/style-target-blue.html: Removed.
        * imported/blink/fast/html/imports/resources/style-tree-order-dynamic-following.html: Removed.
        * imported/blink/fast/html/imports/resources/style-tree-order-dynamic-leading.html: Removed.
        * imported/blink/fast/html/imports/resources/style-tree-order-hide-import-green.html: Removed.
        * imported/blink/fast/html/imports/resources/style-tree-order-hide-import-red.html: Removed.
        * imported/blink/fast/html/imports/resources/style-tree-order-hide-link.html: Removed.
        * imported/blink/fast/html/imports/resources/style-tree-order-hide-shared.html: Removed.
        * imported/blink/fast/html/imports/resources/style-tree-order-hide-style.html: Removed.
        * imported/blink/fast/html/imports/resources/style-tree-order-hide-subimport-green.html: Removed.
        * imported/blink/fast/html/imports/resources/style-tree-order-hide-subimport-red.html: Removed.
        * imported/blink/fast/html/imports/resources/style-tree-order-hide-subimport.html: Removed.
        * imported/blink/fast/html/resources: Removed.
        * imported/blink/fast/images/resources: Removed.
        * imported/blink/fast/loader/resources/javascript-detached-frame-iframe.html: Removed.
        * imported/blink/fast/multicol/resources: Removed.
        * imported/blink/fast/parser/resources: Removed.
        * imported/blink/fast/repaint/resources: Removed.
        * imported/blink/fast/workers/resources: Removed.
        * imported/blink/fast/xsl/resources: Removed.
        * imported/blink/fullscreen/resources: Removed.
        * imported/blink/http/tests/css/resources/cors-ahem.php: Removed.
        * imported/blink/http/tests/css/resources/delayedCircle.php: Removed.
        * imported/blink/http/tests/css/resources/performance-info-with-cached-sheet-next.html: Removed.
        * imported/blink/http/tests/css/resources/referrer-check.php: Removed.
        * imported/blink/http/tests/history/resources/frameset-dest.html: Removed.
        * imported/blink/http/tests/history/resources/push-state-in-grandchild-child.html: Removed.
        * imported/blink/http/tests/history/resources/push-state-in-grandchild-grandchild.html: Removed.
        * imported/blink/http/tests/misc/resources/form-post-success.html: Removed.
        * imported/blink/http/tests/misc/resources/frame-with-form-action-using-replace-child.html: Removed.
        * imported/blink/http/tests/misc/resources/generatedimage.php: Removed.
        * imported/blink/http/tests/misc/resources/iframe-accept-ch.php: Removed.
        * imported/blink/http/tests/misc/resources/image-checks-for-dpr.php: Removed.
        * imported/blink/http/tests/misc/resources/image-checks-for-viewport-width.php: Removed.
        * imported/blink/http/tests/misc/resources/image-checks-for-width.php: Removed.
        * imported/blink/http/tests/misc/resources/image-slow-out-of-viewport.pl: Removed.
        * imported/blink/http/tests/misc/resources/nearly-empty-content-disposition.php: Removed.
        * imported/blink/http/tests/misc/resources/reentrant-beforeunload-helper.html: Removed.
        * imported/blink/http/tests/misc/resources/slow-frame-with-image.php: Removed.
        * imported/blink/http/tests/misc/resources/webtiming-cross-origin-and-back-redirect3.php: Removed.
        * imported/blink/http/tests/plugins/resources: Removed.
        * imported/blink/http/tests/resources/accept-ch.php: Removed.
        * imported/blink/http/tests/resources/dpr.php: Removed.
        * imported/blink/http/tests/resources/iframe-no-accept-ch.php: Removed.
        * imported/blink/http/tests/resources/no-last-modified.php: Removed.
        * imported/blink/http/tests/resources/slow-image-dimensions.php: Removed.
        * imported/blink/http/tests/resources/testharness-helpers.js: Removed.
        * imported/blink/http/tests/resources/testharness.css: Removed.
        * imported/blink/http/tests/resources/tripmine.php: Removed.
        * imported/blink/http/tests/security/contentSecurityPolicy/resources: Removed.
        * imported/blink/http/tests/security/mixedContent/resources: Removed.
        * imported/blink/http/tests/security/mixedContent/websocket/resources: Removed.
        * imported/blink/http/tests/security/resources/conditional-cors.php: Removed.
        * imported/blink/http/tests/security/resources/cors-font.php: Removed.
        * imported/blink/http/tests/security/resources/cors-hello.php: Removed.
        * imported/blink/http/tests/security/resources/cors-redir.php: Removed.
        * imported/blink/http/tests/security/resources/cors-redirect.php: Removed.
        * imported/blink/http/tests/security/resources/cors-style.php: Removed.
        * imported/blink/http/tests/security/resources/cross-origin-iframe-for-shared-worker.html: Removed.
        * imported/blink/http/tests/security/resources/doc-with-iframe.html: Removed.
        * imported/blink/http/tests/security/resources/echo-referrer-header.php: Removed.
        * imported/blink/http/tests/security/resources/green-background-allow-credentials-import.php: Removed.
        * imported/blink/http/tests/security/resources/green-background-allow-credentials.php: Removed.
        * imported/blink/http/tests/security/resources/green-background-allow-star-import.php: Removed.
        * imported/blink/http/tests/security/resources/green-background-allow-star.php: Removed.
        * imported/blink/http/tests/security/resources/green-if-cors-anonymous.php: Removed.
        * imported/blink/http/tests/security/resources/green-if-cors-credentialed.php: Removed.
        * imported/blink/http/tests/security/resources/iframe-crossorigin-script.html: Removed.
        * imported/blink/http/tests/security/resources/iframe-for-naked-global-object.html: Removed.
        * imported/blink/http/tests/security/resources/iframe-for-storage-blocking-changed-shared-worker.html: Removed.
        * imported/blink/http/tests/security/resources/image-wrapper-with-no-image.svg: Removed.
        * imported/blink/http/tests/security/resources/img-basic-auth.php: Removed.
        * imported/blink/http/tests/security/resources/post-origin-to-opener.html: Removed.
        * imported/blink/http/tests/security/resources/postmessage-document-origin.html: Removed.
        * imported/blink/http/tests/security/resources/redir.php: Removed.
        * imported/blink/http/tests/security/resources/referrer-attr-anchor-noreferrer-target.html: Removed.
        * imported/blink/http/tests/security/resources/referrer-attr-anchor-target.html: Removed.
        * imported/blink/http/tests/security/resources/referrer-on-client-redirect.html: Removed.
        * imported/blink/http/tests/security/resources/referrer-policy-conflicting-policies.html: Removed.
        * imported/blink/http/tests/security/resources/referrer-policy-script.php: Removed.
        * imported/blink/http/tests/security/resources/referrer-policy-start-crossorigin.html: Removed.
        * imported/blink/http/tests/security/resources/script-allow-credentials.php: Removed.
        * imported/blink/http/tests/security/resources/script-allow-star.php: Removed.
        * imported/blink/http/tests/security/resources/webaudio: Removed.
        * imported/blink/http/tests/security/resources/xorigincss7.html: Removed.
        * imported/blink/http/tests/svg/resources/delayCachedLoadScript.php: Removed.
        * imported/blink/http/tests/webfont/resources: Removed.
        * imported/blink/http/tests/websocket/resources: Removed.
        * imported/blink/http/tests/xmlhttprequest/resources/access-control-basic-post-success-no-content-type.php: Removed.
        * imported/blink/http/tests/xmlhttprequest/resources/access-control-preflight-request-header-sorted.php: Removed.
        * imported/blink/http/tests/xmlhttprequest/resources/access-control-preflight-request-headers-origin.php: Removed.
        * imported/blink/http/tests/xmlhttprequest/resources/access-control-preflight-request-invalid-status.php: Removed.
        * imported/blink/http/tests/xmlhttprequest/resources/access-control-preflight-request-must-not-contain-cookie.php: Removed.
        * imported/blink/http/tests/xmlhttprequest/resources/access-control-sandboxed-iframe-allow-origin-null-iframe.html: Removed.
        * imported/blink/http/tests/xmlhttprequest/resources/echo-random.php: Removed.
        * imported/blink/http/tests/xmlhttprequest/resources/echo-request-origin.php: Removed.
        * imported/blink/http/tests/xmlhttprequest/resources/frame-with-insecure-xhr.html: Removed.
        * imported/blink/http/tests/xmlhttprequest/resources/invalid-utf8-json.pl: Removed.
        * imported/blink/http/tests/xmlhttprequest/resources/json-response-overflow.php: Removed.
        * imported/blink/http/tests/xmlhttprequest/resources/multiple-send.html: Removed.
        * imported/blink/http/tests/xmlhttprequest/resources/navigation-abort-detaches-frame-subframe.html: Removed.
        * imported/blink/http/tests/xmlhttprequest/resources/noscript-check.html: Removed.
        * imported/blink/http/tests/xmlhttprequest/resources/post-echo.php: Removed.
        * imported/blink/http/tests/xmlhttprequest/resources/redirect-cors-origin-null-pass.php: Removed.
        * imported/blink/http/tests/xmlhttprequest/resources/redirect-cors-origin-null.php: Removed.
        * imported/blink/http/tests/xmlhttprequest/resources/redirect-loop.php: Removed.
        * imported/blink/http/tests/xmlhttprequest/resources/request-encoding4-doc.html: Removed.
        * imported/blink/http/tests/xmlhttprequest/resources/xmlhttprequest-in-unload-sync.html: Removed.
        * imported/blink/http/tests/xmlhttprequest/resources/xmlhttprequest-no-content-type-with-text.php: Removed.
        * imported/blink/http/tests/xmlhttprequest/workers/resources: Removed.
        * imported/blink/imported/web-platform-tests/screen-orientation/resources: Removed.
        * imported/blink/imported/web-platform-tests/shadow-dom/resources: Removed.
        * imported/blink/imported/web-platform-tests/webstorage/resources: Removed.
        * imported/blink/plugins/resources/empty2.html: Removed.
        * imported/blink/resources: Removed.
        * imported/blink/scrollbars/resources: Removed.
        * imported/blink/svg/animations/resources/animate-fill-freeze-with-repeatDur.svg: Removed.
        * imported/blink/svg/animations/resources/animate-no-matching-end-value.svg: Removed.
        * imported/blink/svg/animations/resources/animateMotion-fill-freeze.svg: Removed.
        * imported/blink/svg/animations/resources/animateMotion-fill-remove.svg: Removed.
        * imported/blink/svg/animations/resources/animateMotion-multiple.svg: Removed.
        * imported/blink/svg/animations/resources/animation-policy.svg: Removed.
        * imported/blink/svg/animations/resources/cyclic-syncbase.svg: Removed.
        * imported/blink/svg/animations/resources/discard-on-discard.svg: Removed.
        * imported/blink/svg/animations/resources/repeatn-remove-add-animation.svg: Removed.
        * imported/blink/svg/animations/resources/viewspec-checkaspectparams.svg: Removed.
        * imported/blink/svg/as-background-image/resources: Removed.
        * imported/blink/svg/as-image/resources/actually-xhtml-with-media.svg: Removed.
        * imported/blink/svg/as-image/resources/animated-rect-color.svg: Removed.
        * imported/blink/svg/as-image/resources/animated-visited-link.svg: Removed.
        * imported/blink/svg/as-image/resources/circle-200px-none.svg: Removed.
        * imported/blink/svg/as-image/resources/css-animation.svg: Removed.
        * imported/blink/svg/as-image/resources/default-font-settings.svg: Removed.
        * imported/blink/svg/as-image/resources/image-with-data-uri.svg: Removed.
        * imported/blink/svg/as-image/resources/image-with-svg-data-uri.svg: Removed.
        * imported/blink/svg/as-image/resources/svg-with-image-with-link.svg: Removed.
        * imported/blink/svg/custom/resources/draw-image-crash.svg: Removed.
        * imported/blink/svg/dom/resources/import-other-svg.svg: Removed.
        * imported/blink/svg/dom/resources/svg-with-animate-use.svg: Removed.
        * imported/blink/svg/dom/resources/svg-with-animate.svg: Removed.

2021-05-21  Lauro Moura  <lmoura@igalia.com>

        [GLIB] fast/canvas/canvas-conic-gradient-angle.html is failing since added in r277547
        https://bugs.webkit.org/show_bug.cgi?id=225916

        Reviewed by Adrian Perez de Castro.

        * platform/glib/TestExpectations: Unskip and mark as passing to override root dir.

2021-05-21  Alan Bujtas  <zalan@apple.com>

        [LFC][TFC][Quirks] Use box-sizing: border-box when computing cell height
        https://bugs.webkit.org/show_bug.cgi?id=226063

        Reviewed by Simon Fraser.

        * fast/layoutformattingcontext/table-simple-quirk-td-height-with-padding-expected.html: Added.
        * fast/layoutformattingcontext/table-simple-quirk-td-height-with-padding.html: Added.

2021-05-20  Chris Lord  <clord@igalia.com>

        [WPE] Spatial navigation tests fail with async overflow scrolling enabled
        https://bugs.webkit.org/show_bug.cgi?id=225922

        Reviewed by Simon Fraser.

        Some spatial navigation tests now pass on WPE.

        * platform/wpe/TestExpectations:

2021-05-20  Amir Mark Jr  <amir_mark@apple.com>

        [macOS] imported/w3c/web-platform-tests/IndexedDB/blob-valid-before-commit.any.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=226050

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-05-20  Alexey Shvayka  <shvaikalesh@gmail.com>

        [WebIDL] Remove [ImplicitThis] and [CustomProxyToJSObject] extended attributes
        https://bugs.webkit.org/show_bug.cgi?id=223758

        Reviewed by Sam Weinig.

        * fast/css-custom-paint/registerPaintBindings.html:
        * http/tests/security/listener/*:
        This is a progression: Blink and Gecko don't call event listeners belonging to destroyed frames.

        * js/property-of-window-as-prototype-expected.txt: Removed.
        * js/property-of-window-as-prototype.html: Removed.

2021-05-20  Adrian Perez de Castro  <aperez@igalia.com>

        [Flatpak SDK] Remove PHP packages
        https://bugs.webkit.org/show_bug.cgi?id=226037

        Reviewed by Philippe Normand.

        Remove the PHP package from the SDK now that the layout tests do not use PHP.

        * http/conf/flatpak-httpd.conf: Remove usage of mod_php7.

2021-05-20  Youenn Fablet  <youenn@apple.com>

        <video> rendered inside <template> shows black for webcam stream (Safari 14.0.3 only)
        https://bugs.webkit.org/show_bug.cgi?id=222115
        <rdar://problem/74546659>

        Reviewed by Eric Carlson.

        * fast/media/template-hidden-expected.txt: Added.
        * fast/media/template-hidden.html: Added.

2021-05-20  Alan Bujtas  <zalan@apple.com>

        [LFC][TFC] Available space distribution should account for the top and bottom table spacing
        https://bugs.webkit.org/show_bug.cgi?id=226003

        Reviewed by Antti Koivisto.

        * TestExpectations: rendering code disagrees here.
        * fast/layoutformattingcontext/table-simple-row-height-expected.html: Added.
        * fast/layoutformattingcontext/table-simple-row-height.html: Added.

2021-05-20  Aditya Keerthi  <akeerthi@apple.com>

        Value of a color input does not update visually when using setAttribute
        https://bugs.webkit.org/show_bug.cgi?id=166930
        <rdar://problem/29983218>

        Reviewed by Simon Fraser.

        * fast/forms/color/color-input-set-attribute-value-expected.html: Added.
        * fast/forms/color/color-input-set-attribute-value.html: Added.

2021-05-20  Felipe Erias  <felipeerias@igalia.com>

        [css-flexbox] Wrong height of an empty table inside an orthogonal flex parent
        https://bugs.webkit.org/show_bug.cgi?id=225339

        Reviewed by Sergio Villar Senin.

        * TestExpectations: Remove one WPT test that now passes.

2021-05-19  Tomoki Imai  <Tomoki.Imai@sony.com>

        Scrolling must be done after the layout when doing full page zoom
        https://bugs.webkit.org/show_bug.cgi?id=225730

        Reviewed by Simon Fraser.

        Added a testcase to ensure that scroll position is not changed after zoom.

        * fast/scrolling/page-y-offset-should-not-be-changed-after-zoom-expected.txt: Added.
        * fast/scrolling/page-y-offset-should-not-be-changed-after-zoom.html: Added.

2021-05-19  Devin Rousso  <drousso@apple.com>

        Add a way to create `"wheel"` events from gesture/touch events
        https://bugs.webkit.org/show_bug.cgi?id=225788
        <rdar://problem/76714308>

        Reviewed by Simon Fraser.

        * fast/events/gesture/wheel-from-gesture.html: Added.
        * fast/events/gesture/wheel-from-gesture-expected.txt: Added.

        * TestExpectations:

2021-05-19  Alex Christensen  <achristensen@webkit.org>

        Add support for Navigation Timing Level 2
        https://bugs.webkit.org/show_bug.cgi?id=184363

        Reviewed by Ryosuke Niwa.

        * TestExpectations:
        Annoyingly secure_connection_start_non_zero.https.html becomes flaky with a correct implementation because it assumes
        that no connection is reused.  However, when running this test after other tests, another connection is often reused.
        * performance-api/paint-timing/performance-observer-first-contentful-paint-expected.txt:
        * performance-api/paint-timing/performance-observer-first-contentful-paint.html:
        * performance-api/performance-observer-api-expected.txt:
        * performance-api/performance-timeline-api-expected.txt:
        * performance-api/resources/timeline-api.js:
        * platform/mac-wk1/imported/w3c/web-platform-tests/navigation-timing/nav2_test_attributes_values-expected.txt:
        Next hop protocol isn't implemented in ResourceHandle.  That's probably no big deal because WebKitLegacy is deprecated and not used by Safari.

2021-05-19  Robert Jenner  <jenner@apple.com>

        ASSERTION FAILED: unwrapParamsOrException.exception().code() != ExistingExceptionError on http/wpt/preload/change-link-rel-attribute.html
        https://bugs.webkit.org/show_bug.cgi?id=224845

        Unreviewed test garedning.

        Removing un-needed test expectation.

        * platform/mac-wk2/TestExpectations:

2021-05-19  Kyle Piddington <kpiddington@apple.com> 

        ASSERT(!toType.isArray()) failure in sh::CoerceSimple due to vector array dereference
        https://bugs.webkit.org/show_bug.cgi?id=225864
        <rdar://77968214>

        Reviewed by Dean Jackson.

        Fixed program translation error, additional issues with preloaded transform feedback shaders

        * fast/canvas/webgl/shader-vec-array-deref-no-crash-expected.txt: Added.
        * fast/canvas/webgl/shader-vec-array-deref-no-crash.html: Added.

2021-05-19  Kyle Piddington  <kpiddington@apple.com>

        [ANGLE Metal] Support provoking vertex emulation, pass fragmentOutput tests
        https://bugs.webkit.org/show_bug.cgi?id=225842

        Reviewed by Dean Jackson.

        * webgl/2.0.0/deqp/functional/gles3/fragmentoutput/array.int-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/fragmentoutput/array.uint-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/fragmentoutput/basic.int-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/fragmentoutput/basic.uint-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/fragmentoutput/random_00-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/fragmentoutput/random_01-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/fragmentoutput/random_02-expected.txt:

2021-05-19  Alan Bujtas  <zalan@apple.com>

        Calculated width percent loses the floating point and cause line wrap
        https://bugs.webkit.org/show_bug.cgi?id=225962

        Reviewed by Antti Koivisto.

        * fast/inline/unexpected-line-wrap-with-calc-expected.html: Added.
        * fast/inline/unexpected-line-wrap-with-calc.html: Added.

2021-05-19  Jer Noble  <jer.noble@apple.com>

        [Mac] MSE-based video pauses when put in background; PiP context menu disabled
        https://bugs.webkit.org/show_bug.cgi?id=225958
        <rdar://78130303>

        Reviewed by Eric Carlson.

        * media/media-source/media-source-has-audio-video-expected.txt: Added.
        * media/media-source/media-source-has-audio-video.html: Added.

2021-05-18  Cameron McCormack  <heycam@apple.com>

        Record gradient and pattern filled canvas text in the correct coordinate system.
        https://bugs.webkit.org/show_bug.cgi?id=222881
        <rdar://75155310>

        Reviewed by Myles C. Maxfield.

        Re-enable GPUP canvas rendering in the affected tests.

        * http/tests/canvas/color-fonts/fill-gradient-sbix-2.html:
        * http/tests/canvas/color-fonts/fill-gradient-sbix-3.html:
        * http/tests/canvas/color-fonts/fill-gradient-sbix-4.html:
        * http/tests/canvas/color-fonts/stroke-gradient-sbix-2.html:
        * http/tests/canvas/color-fonts/stroke-gradient-sbix-3.html:
        * http/tests/canvas/color-fonts/stroke-gradient-sbix-4.html:

2021-05-18  Diego Pino Garcia  <dpino@igalia.com>

        [GTK] Unreviewed test gardening. Update two baselines of inspector test that were failing.

        * platform/gtk/TestExpectations:
        * platform/gtk/http/tests/inspector/network/resource-sizes-network-expected.txt:
        * platform/gtk/inspector/dom/getAccessibilityPropertiesForNode-expected.txt:

2021-05-18  Robert Jenner  <jenner@apple.com>

        Disable WebSQL in WebKitTestRunner
        https://bugs.webkit.org/show_bug.cgi?id=224144

        Unreviewed test gardening.

        Disabling consant failing test for wk1. Test has already been disabled for wk2.

        * platform/mac-wk1/TestExpectations:

2021-05-18  Robert Jenner  <jenner@apple.com>

        [BigSur] imported/w3c/web-platform-tests/css/css-counter-styles/tibetan/css3-counter-styles-156.html is consistently failing
        https://bugs.webkit.org/show_bug.cgi?id=222118

        Unreviewed test gardening.

        Removing test expectation no longer needed.

        * platform/mac/TestExpectations:

2021-05-18  Robert Jenner  <jenner@apple.com>

        Disable WebSQL in WebKitTestRunner
        https://bugs.webkit.org/show_bug.cgi?id=224144

        Unreviewed test gardening.

        Remvoing test expectation that is causing this skipped test to run.

        * platform/mac-wk1/TestExpectations:

2021-05-18  Keith Miller  <keith_miller@apple.com>

        Temporarily revert r276592 as it breaks some native apps
        https://bugs.webkit.org/show_bug.cgi?id=225917

        Unreviewed, revert

        * http/tests/security/cross-frame-access-object-getPrototypeOf-in-put-expected.txt:
        * http/tests/security/cross-frame-access-object-getPrototypeOf-in-put.html:
        * js/dom/reflect-set-onto-dom-expected.txt:
        * js/dom/script-tests/reflect-set-onto-dom.js:

2021-05-18  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB][GTK] Unreviewed test gardening. File several printing tests that were crashing under own bug.

        Also updated baseline of tests that was failing.

        * platform/glib/fast/selectors/unqualified-hover-strict-expected.txt: Updated.
        * platform/gtk/TestExpectations:

2021-05-18  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening. Some mathml tests are failing in EWS GTK-WK2 but passing in post-commit bot.

        * platform/glib/TestExpectations:

2021-05-18  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening. fast/canvas/canvas-conic-gradient-angle.html is an image failure.

        * platform/glib/TestExpectations:

2021-05-18  Philippe Normand  <pnormand@igalia.com>

        [MediaStream][GStreamer] Flaky fast/mediastream/MediaStream-video-element-video-tracks-disabled.html
        https://bugs.webkit.org/show_bug.cgi?id=225651

        Reviewed by Alicia Boya Garcia.

        * fast/mediastream/MediaStream-video-element-video-tracks-disabled.html: Delay the
        notifyDone call to give the video element some time to render the black frame corresponding
        to the disabled track. This might still flake on the bots, if that is the case we might need
        to reassess how the test behaves or decide to mark it as expected flaky on glib ports.

2021-05-18  Alan Bujtas  <zalan@apple.com>

        Difficult to scroll calcalist.co.il webpage, scrolling gets 'stuck'
        https://bugs.webkit.org/show_bug.cgi?id=225905
        <rdar://77692680>

        Reviewed by Simon Fraser.

        * fast/inline/vertical-top-on-subpixel-makes-inline-box-overflow-expected.txt: Added.
        * fast/inline/vertical-top-on-subpixel-makes-inline-box-overflow.html: Added.

2021-05-18  Cameron McCormack  <heycam@apple.com>

        Test expectation updates from bug 225728
        https://bugs.webkit.org/show_bug.cgi?id=225902

        Unreviewed test gardening.

        * platform/mac-bigsur/imported/w3c/web-platform-tests/mathml/relations/css-styling/ignored-properties-001-expected.txt: Added.
        * platform/mac-bigsur/imported/w3c/web-platform-tests/mathml/relations/css-styling/padding-border-margin/padding-002-expected.txt: Added.
        * platform/mac-wk2/TestExpectations:

2021-05-18  Ryosuke Niwa  <rniwa@webkit.org>

        ASSERTION FAILED: isReactionAllowed() in enqueueDisconnectedCallbackIfNeeded during document teardown
        https://bugs.webkit.org/show_bug.cgi?id=224033

        Reviewed by Maciej Stachowiak.

        Removed flaky test expectation.

        * platform/ios-simulator/TestExpectations:
        * platform/mac/TestExpectations:

2021-05-18  Frederic Wang  <fwang@igalia.com>

        SHOULD NEVER BE REACHED in FrameSelection::setSelectionWithoutUpdatingAppearance
        https://bugs.webkit.org/show_bug.cgi?id=225219

        Reviewed by Ryosuke Niwa.

        Add a regression test.

        * editing/selection/selection-in-iframe-removed-assert.html: Copied from
        editing/selection/selection-in-iframe-removed-crash.html, with an additional
        requestAnimationFrame.
        * editing/selection/selection-in-iframe-removed-assert-expected.txt: Added.

2021-05-17  Lauro Moura  <lmoura@igalia.com>

        [GLIB] Garden a few tests and unify some expectations

        Unreviewed test gardening.

        Removed some deprecated WPE baselines, moving expectations from GTK to
        Glib.

        * platform/glib/TestExpectations:
        * platform/glib/security/block-test-expected.txt: Renamed from LayoutTests/platform/gtk/security/block-test-expected.txt.
        * platform/gtk/TestExpectations:
        * platform/wpe/imported/w3c/web-platform-tests/fetch/api/basic/request-headers-case.any-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/fetch/api/basic/request-headers-case.any.worker-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/fetch/content-type/script.window-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/mimesniff/mime-types/charset-parameter.window-expected.txt: Removed.
        * platform/wpe/security/block-test-expected.txt: Removed.

2021-05-17  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening. imported/w3c/web-platform-tests/eventsource/eventsource-close.htm is crashing since r277601.

        * platform/gtk/TestExpectations:

2021-05-17  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening. imported/w3c/web-platform-tests/resource-timing/resource_connection_reuse_mixed_content.html is failing.

        * platform/glib/TestExpectations:

2021-05-17  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening. Reintroduce platform specific baselines removed in r277577 that are still needed.

        * platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-stretch-properties-dynamic-001-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-002-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-003-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-001-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-006-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/mathml/relations/css-styling/lengths-2-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-001-expected.txt: Added.
        * platform/wpe/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-001-expected.txt: Added.

2021-05-17  Robert Jenner  <jenner@apple.com>

        REGRESSION(r277116): [ macOS Release wk2 ] media/modern-media-controls/pip-support/pip-support-enabled.html (layout-test) is a flaky text failure
        https://bugs.webkit.org/show_bug.cgi?id=225521

        Unreviewed test gardening.

        Updating expectations to Pass Failure while test is reviewed.

        * platform/mac-wk2/TestExpectations:

2021-05-17  Devin Rousso  <drousso@apple.com>

        [Modern Media Controls] promote submenus items if there is only one
        https://bugs.webkit.org/show_bug.cgi?id=225883

        Reviewed by Eric Carlson.

        * media/modern-media-controls/tracks-support/auto-text-track.html:
        * media/modern-media-controls/tracks-support/click-track-in-contextmenu.html:
        * media/modern-media-controls/tracks-support/hidden-tracks.html:
        * media/modern-media-controls/tracks-support/off-text-track.html:
        * media/modern-media-controls/tracks-support/text-track-selected-via-media-api.html:

2021-05-17  Truitt Savell  <tsavell@apple.com>

        [ Mac ] imported/w3c/web-platform-tests/webaudio/the-audio-api/the-audioworklet-interface/audioworkletprocessor-process-frozen-array.https.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=225882

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-05-17  Dean Jackson  <dino@apple.com>

        Skip WebXR tests again. They are flakey.

        * TestExpectations:

2021-05-17  Youenn Fablet  <youenn@apple.com>

        [ BigSur Debug wk2 ARM64 ] imported/w3c/web-platform-tests/webrtc-encoded-transform/sframe-transform-readable.html is flaky crashing
        https://bugs.webkit.org/show_bug.cgi?id=225534
        <rdar://problem/77679466>

        Reviewed by Eric Carlson.

        * http/wpt/webrtc/video-script-transform-keyframe-only-expected.txt: Added.
        * http/wpt/webrtc/video-script-transform-keyframe-only-worker.js: Added.
        * http/wpt/webrtc/video-script-transform-keyframe-only.html: Added.

2021-05-17  Jer Noble  <jer.noble@apple.com>

        MediaSession action handlers aren't treated as having a user gesture
        https://bugs.webkit.org/show_bug.cgi?id=225875

        Reviewed by Eric Carlson.

        * media/media-session/user-gesture-action-handlers-expected.txt: Added.
        * media/media-session/user-gesture-action-handlers.html: Added.

2021-05-17  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening. Several OffscreenCanvas tests are failing since r277543.

        * platform/glib/TestExpectations:

2021-05-17  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening. Skip tests requiring support for 'display-p3'.

        * platform/glib/TestExpectations:

2021-05-17  Rob Buis  <rbuis@igalia.com>

        will-change: contain should create a containing block
        https://bugs.webkit.org/show_bug.cgi?id=225442

        Reviewed by Antti Koivisto.

        Tests contain-paint-stacking-context-001b.html (testing
        that will-change: contain creates a containing block) and
        contain-paint-stacking-context-001b.html (which tests that
        will-change: contain creates a CSS stacking context) now
        pass, so no longer mark them as image failures.

        * TestExpectations:

2021-05-17  Tim Nguyen  <ntim@apple.com>

        will-change: position should not create a containing block for position: fixed elements
        https://bugs.webkit.org/show_bug.cgi?id=225443

        Reviewed by Antti Koivisto.

        This partially undoes r276627 which made will-change: position create a CB for all out-of-flow elements:

        - Removed CSSPropertyPosition from createsContainingBlockForOutOfFlowPositioned() to not create a containing block
        for position: fixed; children.
        - Added createsContainingBlockForAbsolutelyPositioned() with CSSPropertyPosition to still create a containing block
        for position: absolute; children.

        Enabled WPT (which covers both cases): css/css-will-change/will-change-fixpos-cb-position-1.html

        * TestExpectations:

2021-05-16  Cameron McCormack  <heycam@apple.com>

        Make MathML WPTs wait for all font loads
        https://bugs.webkit.org/show_bug.cgi?id=225728

        Reviewed by Darin Adler.

        With current interop issues around font loading, there's no guarantee
        that waiting on the document.fonts.ready promise in the load event will
        catch font loads initiated by content. Since these tests are not
        explicitly testing font loading behavior, change to wait explicitly for
        all fonts to load.

        Many of these tests were flaky due to this, and so we now no longer
        need platform specific expectations.

        * TestExpectations:
        * platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/fractions/frac-1-expected.txt: Removed.
        * platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/fractions/frac-linethickness-002-expected.txt: Removed.
        * platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-stretch-properties-dynamic-001-expected.txt: Removed.
        * platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-002-expected.txt: Removed.
        * platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-003-expected.txt: Removed.
        * platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-001-expected.txt: Removed.
        * platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-006-expected.txt: Removed.
        * platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/scripts/cramped-001-expected.txt: Removed.
        * platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/scripts/subsup-parameters-2-expected.txt: Removed.
        * platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/scripts/underover-parameters-3-expected.txt: Removed.
        * platform/gtk/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-001-expected.txt: Removed.
        * platform/gtk/imported/w3c/web-platform-tests/mathml/relations/css-styling/lengths-2-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/fractions/frac-1-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/fractions/frac-linethickness-002-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/fractions/frac-parameters-3-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/mrow/no-spacing-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/mrow/spacing-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-font-relative-lengths-001-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-minsize-maxsize-001-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-001-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-002-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-003-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-004-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-005-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-006-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-001-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-002-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-003-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-004-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-005-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-006-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-001-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-002-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-003-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-004-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-005-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-006-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-004-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-005-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-006-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-002-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-003-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-004-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-005-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/radicals/root-parameters-2-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/scripts/cramped-001-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/scripts/empty-underover-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/scripts/subsup-parameters-2-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/scripts/underover-parameters-3-expected.txt: Removed.
        * platform/ios-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/scripts/underover-parameters-4.tentative-expected.txt: Removed.
        * platform/mac-catalina/imported/w3c/web-platform-tests/mathml/relations/css-styling/ignored-properties-001-expected.txt: Removed.
        * platform/mac-catalina/imported/w3c/web-platform-tests/mathml/relations/css-styling/padding-border-margin/padding-002-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/fractions/frac-1-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/fractions/frac-linethickness-002-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/fractions/frac-parameters-3-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/mrow/inferred-mrow-stretchy-expected.txt: Added.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/mrow/no-spacing-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/mrow/spacing-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-font-relative-lengths-001-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-minsize-maxsize-001-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-001-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-002-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-003-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-004-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-005-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-006-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-001-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-002-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-003-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-004-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-005-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-006-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-001-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-002-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-003-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-004-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-005-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-006-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-004-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-005-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-006-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-002-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-003-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-004-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-005-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/radicals/root-parameters-2-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/scripts/empty-underover-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/scripts/subsup-parameters-2-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/scripts/underover-parameters-3-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/scripts/underover-parameters-4.tentative-expected.txt: Removed.
        * platform/mac-wk2/TestExpectations:
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/fractions/frac-1-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/fractions/frac-linethickness-002-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/fractions/frac-parameters-3-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/mrow/no-spacing-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/mrow/spacing-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-font-relative-lengths-001-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-minsize-maxsize-001-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-stretch-properties-dynamic-001-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-001-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-002-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-003-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-004-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-005-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-006-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-001-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-002-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-003-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-004-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-005-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-006-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-001-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-002-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-003-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-004-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-005-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-006-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-001-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-002-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-003-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-004-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-005-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-006-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-001-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-002-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-003-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-004-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-005-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-006-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/radicals/root-parameters-2-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/scripts/empty-underover-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/scripts/subsup-parameters-2-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/scripts/underover-parameters-3-expected.txt: Removed.
        * platform/mac-wk2/imported/w3c/web-platform-tests/mathml/presentation-markup/scripts/underover-parameters-4.tentative-expected.txt: Removed.
        * platform/mac/TestExpectations:
        * platform/mac/imported/w3c/web-platform-tests/mathml/relations/css-styling/ignored-properties-001-expected.txt:
        * platform/mac/imported/w3c/web-platform-tests/mathml/relations/css-styling/padding-border-margin/padding-002-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-001-expected.txt: Removed.

2021-05-16  Sam Weinig  <weinig@apple.com>

        Support serializing ImageData object colorSpace property in SerializedScriptValue
        https://bugs.webkit.org/show_bug.cgi?id=225854

        Reviewed by Chris Dumez.

        Updates existing tests for new serialization version (version 8) and support
        for serializing color space in ImageData.

        To avoid multiple result files due to lack of support for display-p3, testing
        that the display-p3 color space is serialized correctly was put into its own
        test that is skipped on non-supporting platforms.

        * platform/glib/TestExpectations:
        * platform/win/TestExpectations:
        Skip structured-clone-image-data-display-p3.html on platforms that don't support
        display-p3 color spaces.

        * fast/storage/serialized-script-value.html:
        Bump version to version 8.

        * storage/indexeddb/resources/structured-clone.js:
        * storage/indexeddb/structured-clone-expected.txt:
        Add tests for ImageData colorSpace round tripping.

        * storage/indexeddb/structured-clone-image-data-display-p3-expected.txt: Added.
        * storage/indexeddb/structured-clone-image-data-display-p3.html: Added.
        Add test for ImageData display-p3 colorSpace round tripping as its own test
        to allow targetted skipping by non-supporting platforms.

2021-05-16  Sam Weinig  <weinig@apple.com>

        Add support for creating/accessing/setting non-sRGB ImageData via canvas
        https://bugs.webkit.org/show_bug.cgi?id=225841

        Reviewed by Darin Adler.

        * TestExpectations:
        Remove wide-gamut-canvas now that they should pass.

        * fast/canvas/canvas-color-space-display-p3-ImageData-expected.txt: Added.
        * fast/canvas/canvas-color-space-display-p3-ImageData.html: Added.
        Add new test exercising getImageData and putImageData with non-sRGB canvases
        and non-sRGB ImageData.
 
        * fast/canvas/canvas-imageData-expected.txt:
        Update results for updated error messages, which are a bit worse due additional
        ambiguity in signatures.

        * platform/glib/TestExpectations:
        Mark new test as failing on glib due to lack of display-p3 support.

        * platform/win/TestExpectations:
        Mark new test as failing on Windows due to lack of display-p3 support.
        Unskip CanvasRenderingContext2DSettings-colorSpace-enabled.html which
        should now pass due to adding manual preferences support in WebKitLegacy/win. 

        * storage/indexeddb/modern/objectstore-autoincrement-types-expected.txt:
        Update results due to new attribute in ImageData that is auto printed.

2021-05-16  Tim Nguyen  <ntim@apple.com>

        Make will-change: transform-style create a containing block
        https://bugs.webkit.org/show_bug.cgi?id=225441

        Reviewed by Simon Fraser.

        Marked relevant WPT as pass.

        * TestExpectations:

2021-05-15  Said Abou-Hallawa  <said@apple.com>

        Implement CanvasRenderingContext2D.createConicGradient
        https://bugs.webkit.org/show_bug.cgi?id=225539

        Reviewed by Sam Weinig.

        * fast/canvas/canvas-conic-gradient-angle-expected.html: Added.
        * fast/canvas/canvas-conic-gradient-angle.html: Added.
        * fast/canvas/canvas-conic-gradient-center-expected.html: Added.
        * fast/canvas/canvas-conic-gradient-center.html: Added.
        * fast/canvas/conicGradient-infinite-values-expected.txt: Added.
        * fast/canvas/conicGradient-infinite-values.html: Added.
        * inspector/canvas/recording-html-2d-expected.txt:
        * inspector/canvas/recording-html-2d.html:
        * platform/win/TestExpectations:

2021-05-15  Antti Koivisto  <antti@apple.com>

        Don't allow :visited link style in subtrees that use mix-blend-mode
        https://bugs.webkit.org/show_bug.cgi?id=225446
        rdar://65686091

        Reviewed by Darin Adler.

        * fast/css/visited-link-mix-blend-mode-expected.html: Added.
        * fast/css/visited-link-mix-blend-mode.html: Added.

2021-05-14  John Wilander  <wilander@apple.com>

        Javascript can't access a SameSite=Strict cookie after page is loaded after a redirect from a third party site
        https://bugs.webkit.org/show_bug.cgi?id=208049
        <rdar://problem/59701889>

        Reviewed by Chris Dumez.

        The HTTP WG has decided that SameSite=strict cookies should be returned in document.cookie
        even in cases where they are not sent in the HTTP request for the page. Chromium and Gecko
        now work according to those rules and the spec is being updated.

        See:
        - https://github.com/httpwg/http-extensions/issues/769
        - https://github.com/httpwg/http-extensions/pull/1428/files.

        Tests changed and rebased accordingly.

        * http/tests/cookies/same-site/fetch-after-top-level-cross-origin-redirect-expected.txt:
        * http/tests/cookies/same-site/fetch-after-top-level-navigation-from-cross-origin-page-expected.txt:
        * http/tests/cookies/same-site/fetch-after-top-level-navigation-initiated-from-iframe-in-cross-origin-page-expected.txt:
        * http/tests/cookies/same-site/popup-cross-site-post.html:
        * http/tests/cookies/same-site/popup-cross-site.html:
        * http/tests/cookies/same-site/popup-same-site-via-cross-site-redirect.html:
        * http/tests/cookies/same-site/resources/fetch-after-top-level-cross-origin-redirect.py:
        * http/tests/cookies/same-site/resources/fetch-after-top-level-navigation-from-cross-origin-page.py:
        * http/tests/cookies/same-site/resources/fetch-after-top-level-navigation-initiated-from-iframe-in-cross-origin-page.py:
        * http/tests/cookies/same-site/user-load-cross-site-redirect-expected.txt:
        * http/tests/cookies/same-site/user-load-cross-site-redirect.py:

2021-05-14  Darin Adler  <darin@apple.com>

        output element doesn't react properly to node tree mutations
        https://bugs.webkit.org/show_bug.cgi?id=196532

        Reviewed by Ryosuke Niwa.

        * TestExpectations: Removed an expectation for a directory that no longer exists.
        * platform/mac-wk2/TestExpectations: Removed an expectation for a test that no longer exists.
        * platform/mac/TestExpectations: Removed an expectation for a directory that no longer exists.

        * platform/gtk/imported/w3c/web-platform-tests/custom-elements/builtin-coverage-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/custom-elements/builtin-coverage-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/custom-elements/builtin-coverage-expected.txt:
        Updated since HTMLOptionElement now has a constructor. Still not passing, but closer to correct.

2021-05-14  Eric Carlson  <eric.carlson@apple.com>

        [GPUP] a media element with a data url and "crossorigin='anonymous'" doesn't load
        https://bugs.webkit.org/show_bug.cgi?id=225786
        <rdar://77625185>

        Reviewed by Jer Noble.

        * media/data-url-cross-origin-expected.txt: Added.
        * media/data-url-cross-origin.html: Added.
        * media/media-file.js:
        (findDataURL):
        * media/sources-fallback-codecs.html:

2021-05-14  Peng Liu  <peng.liu6@apple.com>

        REGRESSION: [ Mac WK2 ] fast/mediastream/audio-track-enabled.html is flaky failing
        https://bugs.webkit.org/show_bug.cgi?id=221985

        Reviewed by Eric Carlson.

        * platform/mac-wk2/TestExpectations:

2021-05-14  Robert Jenner  <jenner@apple.com>

        [ iOS14-Simulator ] wk2imported/w3c/web-platform-tests/css/css-will-change/will-change-transform-huge-offset-scrolled.html is a flaky ImageOnlyFailure
        Nhttps://bugs.webkit.org/show_bug.cgi?id=225830

        Unreviewed test gardening.

        Setting expectation to Pass ImageOnlyFailure due to causing an EWS slowdown.

        * platform/ios-simulator-wk2/TestExpectations:

2021-05-14  Jean-Yves Avenard  <jya@apple.com>

        Bad media session artwork URL results in blue "broken image" icon being shown in Now Playing
        https://bugs.webkit.org/show_bug.cgi?id=225799
        rdar://77990886

        Reviewed by Eric Carlson.

        * fast/mediasession/metadata/artworkdownload-expected.txt:
        * fast/mediasession/metadata/artworkdownload.html: Add test case.

2021-05-14  Lauro Moura  <lmoura@igalia.com>

        [WPE] Bot exiting early with crashes in new window layout tests inside wl_proxy_marshal_constructor
        https://bugs.webkit.org/show_bug.cgi?id=225555

        Unreviewed test gardening.

        Basically revert the changes from r277223 as the SDK was updated with
        a new wpebackend-fdo in r277436.

        * platform/wpe/TestExpectations:

2021-05-14  Ziran Sun  <zsun@igalia.com>

        Wrong static position for out-of-flow positioned element with different writing-mode than its containing block
        https://bugs.webkit.org/show_bug.cgi?id=189513

        Reviewed by Sergio Villar Senin.

        * TestExpectations: updating 22 css-writing-modes tests that are passing.

2021-05-14  Alex Christensen  <achristensen@webkit.org>

        Resource Timing: secureConnectionStart == 0 when a connection is re-used
        https://bugs.webkit.org/show_bug.cgi?id=225733

        Reviewed by Chris Dumez.

        * TestExpectations:

2021-05-14  Amir Mark Jr  <amir_mark@apple.com>

        [MacOS] imported/w3c/web-platform-tests/webxr/xrBoundedReferenceSpace_updates.https.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=225804

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-05-13  Rob Buis  <rbuis@igalia.com>

        Check for null element in paintSearchFieldResultsButton
        https://bugs.webkit.org/show_bug.cgi?id=225232

        Reviewed by Ryosuke Niwa.

        Add test for this.

        * fast/css/searchfield-results-button-crash-expected.txt: Added.
        * fast/css/searchfield-results-button-crash.html: Added.

2021-05-13  Lauro Moura  <lmoura@igalia.com>

        [GTK] Skip WebXR tests after r277468

        Unreviewed test gardening.

        WebXR is not yet enabled in GTK.

        * platform/gtk/TestExpectations:

2021-05-13  Dean Jackson  <dino@apple.com>

        [WebXR] Allow WebXR to be tested on PLATFORM(COCOA)
        https://bugs.webkit.org/show_bug.cgi?id=225578

        Reviewed by Sam Weinig.

        Remove the skip rule for the WebXR directory, and add more
        specific expected results.

        * TestExpectations:

2021-05-13  Cameron McCormack  <heycam@apple.com>

        Ensure scrollable transformed elements that are themselves within scrollable elements don't ignore border-radius
        https://bugs.webkit.org/show_bug.cgi?id=216978
        <rdar://69660229>

        Reviewed by Darin Adler.

        * fast/layers/overflow-scroll-transform-border-radius-expected.html: Added.
        * fast/layers/overflow-scroll-transform-border-radius.html: Added.

2021-05-13  Amir Mark Jr  <amir_mark@apple.com>

        [BigSur] media/video-played-ranges-1.html is flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=223645

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-05-13  Aditya Keerthi  <akeerthi@apple.com>

        REGRESSION (r276945): [iOS] Focus rings are too large
        https://bugs.webkit.org/show_bug.cgi?id=225778
        <rdar://problem/77858341>

        Reviewed by Tim Horton.

        Added a regression test to verify the size of the focus ring on iOS.
        The test works by drawing an overlay on top of an input element, that
        is just large enough to obscure the focus ring. If the focus ring is
        too large, the ring will not obscured, leading to a mismatch failure.

        * fast/forms/ios/focus-ring-size-expected.html: Added.
        * fast/forms/ios/focus-ring-size.html: Added.

2021-05-13  Amir Mark Jr  <amir_mark@apple.com>

        [MacOS Wk1] media/video-playback-quality.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=223770

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-05-13  Robert Jenner  <jenner@apple.com>

        [ BigSur iOS14 ] http/tests/xmlhttprequest/redirect-cross-origin-tripmine.html (layout-test) is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=225668

        Unreviewed test gardening.

        Marking as slow to see if timeouts stop occurring.

        * platform/ios-simulator-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-05-13  Jer Noble  <jer.noble@apple.com>

        [ macOS Wk2 ] media/media-fragments/TC0051.html is flakey crashing
        https://bugs.webkit.org/show_bug.cgi?id=222277
        <rdar://problem/74600790>

        Reviewed by Eric Carlson.

        * platform/mac-wk2/TestExpectations:

2021-05-13  Robert Jenner  <jenner@apple.com>

        [ Catalina+ wk2 ] http/tests/webAPIStatistics/screen-functions-accessed-data-collection.html (layout-test) is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=225667

        Unreviewed test gardening.

        Accidentally broke a test when I applied it for all of mac instead of just for mac wk2. I have updated the slow expectation for just mac wk2.

        * platform/mac-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-05-13  Zalan Bujtas  <zalan@apple.com>

        [css-flexbox] Flex item construction may affect sibling flex item height computation
        https://bugs.webkit.org/show_bug.cgi?id=225489

        Reviewed by Sergio Villar Senin.

        * fast/flexbox/flex-column-with-percent-height-descendants-expected.html: Added.
        * fast/flexbox/flex-column-with-percent-height-descendants.html: Added.

2021-05-13  Chris Fleizach  <cfleizach@apple.com>

        AX: Crash at WebCore::Document::updateLayout
        https://bugs.webkit.org/show_bug.cgi?id=225677

        Reviewed by Alan Bujtas.

        * accessibility/mac/menu-selection-notification-crash-expected.txt: Added.
        * accessibility/mac/menu-selection-notification-crash.html: Added.

2021-05-13  Enrique Ocaña González  <eocanha@igalia.com>

        [GStreamer] media/track/in-band/track-in-band-srt-mkv-kind.html is a flaky crash
        https://bugs.webkit.org/show_bug.cgi?id=225697

        Reviewed by Alicia Boya Garcia.

        * platform/glib/TestExpectations: Unskipped test.

2021-05-13  Martin Robinson  <mrobinson@webkit.org>

        Import new and updated css-scroll-snap WPT tests
        https://bugs.webkit.org/show_bug.cgi?id=225653

        Reviewed by Sergio Villar Senin.

        * TestExpectations:
        * platform/ios-wk2/TestExpectations:

2021-05-12  Chris Dumez  <cdumez@apple.com>

        Notification.requestPermission() should return a Promise
        https://bugs.webkit.org/show_bug.cgi?id=225712

        Reviewed by Darin Adler.

        * http/tests/notifications/notification-in-non-secure-context-expected.txt:
        Rebaseline test now that we log an error message in the JS console when trying to call
        Notification.requestPermission() in a non-secure context.

        * http/tests/notifications/request-with-promise-expected.txt: Added.
        * http/tests/notifications/request-with-promise.html: Added.
        Add layout test coverage.

2021-05-12  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] http/tests/security/contentSecurityPolicy/report-only-from-header.py is a flaky text failure

        Unreviewed test gardening.

        Sometimes there's an extra console log error message. Dump all JS console output and emit new baseline.

        * platform/glib/TestExpectations:
        * platform/glib/http/tests/security/contentSecurityPolicy/report-only-from-header-expected.txt: Added.

2021-05-12  Amir Mark Jr  <amir_mark@apple.com>

        [BigSur Wk1 Release] imported/w3c/web-platform-tests/css/css-will-change/will-change-fixpos-cb-transform-1.html is a flaky image failure
        https://bugs.webkit.org/show_bug.cgi?id=225704

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-05-12  Chris Dumez  <cdumez@apple.com>

        ASSERTION FAILED: actualVTablePointer == expectedVTablePointer in toJSNewlyCreated(JSC::JSGlobalObject *, WebCore::JSDOMGlobalObject *, Ref<WebCore::AudioNode> &&)
        https://bugs.webkit.org/show_bug.cgi?id=225719
        <rdar://77828031>

        Reviewed by Geoffrey Garen.

        Add layout test coverage. This test was reliably crashing before the fix.

        * webaudio/event-relatedTarget-audionode-expected.txt: Added.
        * webaudio/event-relatedTarget-audionode.html: Added.

2021-05-12  Robert Jenner  <jenner@apple.com>

        [ BigSur Release wk2 arm64 ] http/tests/appcache/fail-on-update-2.html (layout-test) is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=225665

        Unreviewed test gardening.

        Updating expectations to (DumpJSConsoleLogInStdErr Slow ) to stop the constant text failures, and improve the flaky timeouts.

        * platform/mac-wk2/TestExpectations:

2021-05-12  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] http/tests/misc/last-modified-parsing.html handles non-standard dates differently in PHP than Python
        https://bugs.webkit.org/show_bug.cgi?id=224933
        <rdar://problem/77020039>

        Reviewed by Jonathan Bedard.

        * http/tests/misc/last-modified-parsing-expected.txt: Removed.
        * http/tests/misc/last-modified-parsing.html: Removed.
        * http/tests/misc/no-last-modified-expected.txt: Removed.
        * http/tests/misc/no-last-modified.html: Removed.
        * http/tests/resources/last-modified.php: Removed.
        * http/wpt/misc: Added.
        * http/wpt/misc/last-modified-parsing-expected.txt: Added.
        * http/wpt/misc/last-modified-parsing.html: Added.
        * http/wpt/misc/no-last-modified-expected.txt: Added.
        * http/wpt/misc/no-last-modified.html: Added.
        * http/wpt/misc/resources: Added.
        * http/wpt/misc/resources/last-modified-utilities.js: Added.
        (async getLastModified):
        * platform/win/TestExpectations:

2021-05-12  Robert Jenner  <jenner@apple.com>

        [ Catalina+ wk2 ] http/tests/webAPIStatistics/screen-functions-accessed-data-collection.html (layout-test) is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=225667

        Unreviewed test gardening.

        Updating expectation to Slow to see if test conditions improve.

        * platform/mac/TestExpectations:

2021-05-12  Robert Jenner  <jenner@apple.com>

        [ BigSur ] webaudio/AudioContext/audiocontext-close-basic.html (layout-test) is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=225670

        Unreviewed test gardening.

        Updating expectations to slow to see if test will pass. 

        * platform/mac/TestExpectations:

2021-05-12  Robert Jenner  <jenner@apple.com>

        [ BigSur wk2 arm64 ] editing/selection/move-by-character-brute-force.html (layout-test) is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=225664

        Unreviewed test gardening.

        Updating test expectations to slow.

        * platform/mac-wk2/TestExpectations:

2021-05-12  Robert Jenner  <jenner@apple.com>

        [ Catalina+ wk2 ] imported/w3c/web-platform-tests/css/css-transitions/transition-base-response-002.html (layout-test) is a flaky text failure
        https://bugs.webkit.org/show_bug.cgi?id=225669

        Unreviewed test gardening.

        Updating expectations to Pass Failure for macOS Release and Debug.

        * platform/mac-wk2/TestExpectations:

2021-05-12  Said Abou-Hallawa  <said@apple.com>

        Removing the transform CSS property from the SVG element does not cause invalidation
        https://bugs.webkit.org/show_bug.cgi?id=225366

        Reviewed by Simon Fraser.

        * svg/css/svg-css-transform-dynamic-remove-expected.html: Added.
        * svg/css/svg-css-transform-dynamic-remove.html: Added.

2021-05-12  Sergio Villar Senin  <svillar@igalia.com>

        ASSERTION FAILED: m_clients.contains(&client) in CSSFontFace::removeClient via CSSSegmentedFontFace::~CSSSegmentedFontFace()
        https://bugs.webkit.org/show_bug.cgi?id=223790

        Reviewed by Ryosuke Niwa.

        * fast/css/svg-font-face-duplicate-crash-expected.txt: Added.
        * fast/css/svg-font-face-duplicate-crash.html: Added.

2021-05-12  Ryosuke Niwa  <rniwa@webkit.org>

        REGRESSION: Release assert in SlotAssignment::assignedNodesForSlot via ComposedTreeIterator::traverseNextInShadowTree in Element::insertedIntoAncestor
        https://bugs.webkit.org/show_bug.cgi?id=225684

        Reviewed by Darin Adler.

        Added a regression test.

        * fast/shadow-dom/insert-host-child-with-slot-renderer-teardown-crash-expected.txt: Added.
        * fast/shadow-dom/insert-host-child-with-slot-renderer-teardown-crash.html: Added.

2021-05-12  Sergio Villar Senin  <svillar@igalia.com>

        [css-flexbox] Do not use margins when computing aspect ratio cross sizes
        https://bugs.webkit.org/show_bug.cgi?id=221210

        Reviewed by Javier Fernandez.

        * TestExpectations: Unskipped flex-aspect-ratio-img-row-013.html which is now passing.

2021-05-12  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening. media/track/in-band/track-in-band-srt-mkv-kind.html is a flaky crash.

        * platform/glib/TestExpectations:

2021-05-12  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r277320 and r277329.
        https://bugs.webkit.org/show_bug.cgi?id=225698

        Added broken test fast/css/visited-link-mix-blend-mode.html

        Reverted changesets:

        "Don't allow :visited link style in subtrees that use mix-
        blend-mode"
        https://bugs.webkit.org/show_bug.cgi?id=225446
        https://trac.webkit.org/changeset/277320

        "Don't allow :visited link style in subtrees that use mix-
        blend-mode"
        https://bugs.webkit.org/show_bug.cgi?id=225446
        https://trac.webkit.org/changeset/277329

2021-05-12  Diego Pino Garcia  <dpino@igalia.com>

        [GTK] Unreviewed test gardening. Update baselines for GTK.

        Remove stale GTK baseline after r277321.
        Emit new GTK baseline after WPT update in r277160.

        * platform/gtk/imported/w3c/web-platform-tests/css/css-flexbox/flex-item-contains-strict-expected.txt: Removed.
        * platform/gtk/imported/w3c/web-platform-tests/css/mediaqueries/test_media_queries-expected.txt: Added.

2021-05-12  Diego Pino Garcia  <dpino@igalia.com>

        [GTK] Unreviewed test gardening. Gardened several test failures from GTK post-commit bot.

        * platform/gtk/TestExpectations:

2021-05-12  Youenn Fablet  <youenn@apple.com>

        [ macOS wk2 ] http/wpt/mediarecorder/set-srcObject-MediaStream-Blob.html (layout-test) is a flaky text failure
        https://bugs.webkit.org/show_bug.cgi?id=225500
        <rdar://problem/77636573>

        Reviewed by Eric Carlson.

        * http/wpt/mediarecorder/set-srcObject-MediaStream-Blob.html:
        Make sure video1 is playing to get its duration.

2021-05-12  Youenn Fablet  <youenn@apple.com>

        fast/mediastream/getUserMedia-webaudio.html is flaky
        https://bugs.webkit.org/show_bug.cgi?id=225655
        <rdar://74158395>

        Reviewed by Eric Carlson.

        * fast/mediastream/getUserMedia-webaudio.html:
        Retry several time instead of just once when detecting no noise to improve robustness.

2021-05-11  Cameron McCormack  <heycam@apple.com>

        Include reasons for compositing in showLayerTree output
        https://bugs.webkit.org/show_bug.cgi?id=225640

        Reviewed by Simon Fraser.

        * fast/harness/render-tree-as-text-options-expected.txt:

2021-05-11  Toshio Ogasawara  <toshio.ogasawara@access-company.com>

        [MSE] QuotaExceededError Exception not thrown even if the sum of totalTrackBufferSize and appendBuffer size exceeds maximumBufferSize.
        https://bugs.webkit.org/show_bug.cgi?id=225630

        Reviewed by Eric Carlson.

        * media/media-source/media-source-append-buffer-full-quota-exceeded-error-expected.txt: Added.
        * media/media-source/media-source-append-buffer-full-quota-exceeded-error.html: Added.

2021-05-11  Robert Jenner  <jenner@apple.com>

        [ BigSur wk2 arm64 ] editing/selection/move-by-character-brute-force.html (layout-test) is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=225664

        Unreviewed test gardening.

        Updating expectations to Pass Timeout for BigSur wk2 arm64.

        * platform/mac-wk2/TestExpectations:

2021-05-11  Robert Jenner  <jenner@apple.com>

        [ BigSur Release wk2 arm64 ] http/tests/appcache/fail-on-update-2.html (layout-test) is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=225665

        Unreviewed test gardening.

        Updating test expectations to Pass Timeout for BigSur Release wk2 arm64.

        * platform/mac-wk2/TestExpectations:

2021-05-11  Robert Jenner  <jenner@apple.com>

        [ BigSur wk2 arm64 ] http/tests/cache/disk-cache/redirect-chain-limits.html (layout-test) is a flaky timeout
        Nhttps://bugs.webkit.org/show_bug.cgi?id=225666

        Unreviewed test gardening.

        Updating expectations to Pass timeout.

        * platform/mac-wk2/TestExpectations:

2021-05-11  Ryan Haddad  <ryanhaddad@apple.com>

        REGRESSION (r277071): imported/w3c/web-platform-tests/css/mediaqueries/test_media_queries.html is failing
        https://bugs.webkit.org/show_bug.cgi?id=225469

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations: Mark the test as failing for iOS, too.

2021-05-11  Amir Mark Jr  <amir_mark@apple.com>

        [BigSur Wk2 Arm64] http/tests/privateClickMeasurement/store-private-click-measurement-with-source-nonce.html is flaky failing
        https://bugs.webkit.org/show_bug.cgi?id=224783

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-05-11  Robert Jenner  <jenner@apple.com>

        js/dom/Promise-reject-large-string.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=225258

        Unreviewed test gardening.

        Updating expectation to Pass Failure for arm64 only.

        * platform/mac/TestExpectations:

2021-05-11  Zalan Bujtas  <zalan@apple.com>

        REGRESSION(r275515): wpt/quirks/blocks-ignore-line-height.html
        https://bugs.webkit.org/show_bug.cgi?id=225591
        <rdar://problem/77766308>

        Reviewed by Antti Koivisto.

        * fast/inline/incorrect-middle-baseline-alignment-with-line-height-expected.html: progression.
        * fast/inline/line-height-in-non-standards-mode-expected.html: Added.
        * fast/inline/line-height-in-non-standards-mode.html: Added.

2021-05-11  Cathie Chen  <cathiechen@igalia.com>

        [CSS contain] Support contain:size
        https://bugs.webkit.org/show_bug.cgi?id=223570

        Reviewed by Alan Bujtas.

        Update the test result for size containment. Added explanations for size containment tests
        that depended on other features.

        * TestExpectations:

2021-05-11  Antti Koivisto  <antti@apple.com>

        Don't allow :visited link style in subtrees that use mix-blend-mode
        https://bugs.webkit.org/show_bug.cgi?id=225446
        rdar://65686091

        Reviewed by Darin Adler.

        * fast/css/visited-link-mix-blend-mode-expected.html: Added.
        * fast/css/visited-link-mix-blend-mode.html: Added.

2021-05-10  Chris Dumez  <cdumez@apple.com>

        [ macOS Release wk2 ] http/tests/cache-storage/cache-records-persistency.https.html is flaky crashing
        https://bugs.webkit.org/show_bug.cgi?id=225522
        <rdar://problem/77680019>

        Reviewed by Darin Adler.

        Restore previous expectation for the test, now that it is no longer flaky crashing.

        * platform/mac-wk2/TestExpectations:

2021-05-10  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] Decouple http/tests/media/resources/create-id3-db.php from webserver
        https://bugs.webkit.org/show_bug.cgi?id=224561
        <rdar://problem/76653054>

        Reviewed by Jonathan Bedard.

        Replacing the creation of metadata.db with JSON into a new file named metadata.json. This standalone script remains in PHP to be able to still use getid3.

        * http/tests/media/resources/create-id3-db.php: Removed.
        * http/tests/resources/dir-helpers.php: Removed.
        * http/tests/resources/portabilityLayer.php: Removed.
        * media/content/create-id3-db: Copied from LayoutTests/http/tests/media/resources/create-id3-db.php.

2021-05-10  Amir Mark Jr  <amir_mark@apple.com>

        [BigSur Wk1 Release] imported/w3c/web-platform-tests/css/css-masking/clip-path/clip-path-filter-order.html is a flaky image failure
        https://bugs.webkit.org/show_bug.cgi?id=225625

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-05-10  Kate Cheney  <katherine_cheney@apple.com>

        Speculative revalidation requests not properly attributed as app-bound
        https://bugs.webkit.org/show_bug.cgi?id=225613
        <rdar://problem/77664358>

        Reviewed by Brent Fulgham.

        Layout test coverage.

        * http/tests/in-app-browser-privacy/app-bound-attribution-speculative-revalidation-expected.txt: Added.
        * http/tests/in-app-browser-privacy/app-bound-attribution-speculative-revalidation.html: Added.
        * http/tests/in-app-browser-privacy/resources/frame-with-authenticated-resource.py: Added.
        * http/tests/in-app-browser-privacy/resources/resource-with-auth.py: Added.
        * platform/ios-wk2/TestExpectations:
        Essentially copied http/tests/cache/disk-cache/speculative-validation/http-auth.html
        to hit the speculative revalidation code path, and added in a check
        for app-bound load data at the end to confirm all requests are marked
        correctly.

2021-05-10  Robert Jenner  <jenner@apple.com>

        [ BigSur Release wk2 ARM64 ] mathml/scripts-removeChild.html is a flaky image failure
        https://bugs.webkit.org/show_bug.cgi?id=225533

        Unreviewed test gardening.

        Updating test expectations to Pass ImageOnlyFailure for BigSur Release wk2 arm64 only.

        * platform/mac-wk2/TestExpectations:

2021-05-10  Robert Jenner  <jenner@apple.com>

        [ BigSur Debug wk2 ARM64 ] imported/w3c/web-platform-tests/webrtc-encoded-transform/sframe-transform-readable.html is flaky crashing
        https://bugs.webkit.org/show_bug.cgi?id=225534

        Unrviewed test gardening.

        Updating test expectation to Pass Crash for BigSur Debug wk2 arm64 only.

        * platform/mac-wk2/TestExpectations:

2021-05-10  Kate Cheney  <katherine_cheney@apple.com>

        Preflight requests not properly attributed as app-bound
        https://bugs.webkit.org/show_bug.cgi?id=225596
        <rdar://problem/77664272>

        Reviewed by Brent Fulgham.

        Add two tests for sync and async preflight requests.

        * http/tests/in-app-browser-privacy/app-bound-attribution-preflight-async-expected.txt: Added.
        * http/tests/in-app-browser-privacy/app-bound-attribution-preflight-async.html: Added.
        * http/tests/in-app-browser-privacy/app-bound-attribution-preflight-sync-expected.txt: Added.
        * http/tests/in-app-browser-privacy/app-bound-attribution-preflight-sync.html: Added.
        * platform/ios-wk2/TestExpectations:
        These tests rely on internal additions, we should skip them in open
        source expectations.

2021-05-10  Robert Jenner  <jenner@apple.com>

        [ BigSur ARM64] http/wpt/fetch/fetch-response-body-stop-in-worker.html is a flaky crash
        https://bugs.webkit.org/show_bug.cgi?id=225528

        Unreviewed test gardening.

        Updating expectations to Pass Crash for arm64 only. 

        * platform/mac/TestExpectations:

2021-05-10  Robert Jenner  <jenner@apple.com>

        [ BigSur Release wk2 arm64 ] scrollingcoordinator/mac/fixed-backgrounds/fixed-background-in-overflow-in-iframe.html is a flaky text failure
        https://bugs.webkit.org/show_bug.cgi?id=225529

        Uneviewed test gardening.

        Updating expectations to Pass Failure for BigSur Release wk2 arm64 only. 

        * platform/mac-wk2/TestExpectations:

2021-05-10  Robert Jenner  <jenner@apple.com>

        [ macOS Release wk2 ] http/tests/cache-storage/cache-records-persistency.https.html is flaky crashing
        https://bugs.webkit.org/show_bug.cgi?id=225522

        Unreviewed test gardening.

        Updating expectations to Pass Crash while test is reviewed.

        * platform/mac-wk2/TestExpectations:

2021-05-10  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r277222.
        https://bugs.webkit.org/show_bug.cgi?id=225618

        WebContent process crashes while visiting
        <http://ign.com|ign.com> (RenderFlexibleBox::layoutFlexItems)

        Reverted changeset:

        "[css-flexbox] Flex item construction may affect sibling flex
        item height computation"
        https://bugs.webkit.org/show_bug.cgi?id=225489
        https://trac.webkit.org/changeset/277222

2021-05-10  Andres Gonzalez  <andresg_22@apple.com>

        [ Mac ] accessibility/mac/expanded-notification.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=205410
        rdar://58056289

        Reviewed by Chris Fleizach.

        * accessibility/mac/expanded-notification.html:
        Replaced the setTimeout(..., 10) with the use of Promises to make it
        time deterministic.

2021-05-10  Andres Gonzalez  <andresg_22@apple.com>

        Fix for assert crash in AXObjectCache::visiblePositionForTextMarkerData.
        https://bugs.webkit.org/show_bug.cgi?id=225303
        <rdar://problem/77453921>

        Reviewed by Chris Fleizach.

        * accessibility/mac/pseudo-element-text-markers-expected.txt: Added.
        * accessibility/mac/pseudo-element-text-markers.html: Added.

2021-05-10  Ryan Haddad  <ryanhaddad@apple.com>

        [iOS] WPT css/css-color-adjust/rendering/dark-color-scheme/color-scheme-system-colors.html is failing
        https://bugs.webkit.org/show_bug.cgi?id=225607

        Unreviewed test gardening.

        * platform/ios/TestExpectations:

2021-05-10  Ryan Haddad  <ryanhaddad@apple.com>

        [iOS] imported/w3c/web-platform-tests/css/css-flexbox/flex-item-compressible-001.html is failing after WPT re-sync
        https://bugs.webkit.org/show_bug.cgi?id=225604

        Unreviewed test gardening.

        Rebaseline test for iOS.

        * platform/ios/imported/w3c/web-platform-tests/css/css-flexbox/flex-item-compressible-001-expected.txt:

2021-05-10  Ryan Haddad  <ryanhaddad@apple.com>

        [iOS] WPT css-fonts/font-feature-resolution-001.html and css-fonts/font-feature-resolution-002.html are failing
        https://bugs.webkit.org/show_bug.cgi?id=225606

        Unreviewed test gardening.

        * platform/ios/TestExpectations:

2021-05-10  Wenson Hsieh  <wenson_hsieh@apple.com>

        [macOS] ImageOverlayController should paint selection quads instead of bounding rects
        https://bugs.webkit.org/show_bug.cgi?id=225585
        <rdar://problem/77725745>

        Reviewed by Tim Horton.

        Add a new layout test to cover the change. Currently, the below test case renders a visible selection rect in
        the image overlay since we render the bounding rect of the overlay text quad, which intersects with the image
        overlay's bounds. However, the text quad is positioned outside of the image overlay, so there shouldn't be any
        visible selection rect. As such, this test is expected to render the same content as a plain image (even without
        an image overlay).

        Unfortunately, I couldn't write a matching ref-test for the case where the selection rect is inside the bounds
        of the image overlay, since doing so led to tiny subpixel differences between the transparent image case (using
        `ImageOverlayController`) and the regular image overlay selection case.

        * fast/images/image-extraction/mac/select-rotated-transparent-image-overlay-expected.html: Added.
        * fast/images/image-extraction/mac/select-rotated-transparent-image-overlay.html: Added.

2021-05-10  Aditya Keerthi  <akeerthi@apple.com>

        [iPadOS] Do not present custom input peripherals when switching back to a tab with a focused element
        https://bugs.webkit.org/show_bug.cgi?id=225541
        <rdar://problem/77537795>

        Reviewed by Wenson Hsieh.

        Added a test which simulates a tab switch by removing and re-adding the
        webview to the window.

        * fast/forms/ios/focus-select-and-switch-tabs-expected.txt: Added.
        * fast/forms/ios/focus-select-and-switch-tabs.html: Added.
        * resources/ui-helper.js:
        (window.UIHelper.becomeFirstResponder):
        (window.UIHelper.removeViewFromWindow):
        (window.UIHelper.addViewToWindow):

2021-05-10  Philippe Normand  <pnormand@igalia.com>

        [GStreamer] fast/mediastream/MediaStream-video-element-video-tracks-disabled.html fails
        https://bugs.webkit.org/show_bug.cgi?id=225518

        Reviewed by Xabier Rodriguez-Calvar.

        * platform/glib/TestExpectations: Unflag a couple more mediastream tests that are passing now.

2021-05-10  Rob Buis  <rbuis@igalia.com>

        Implement <form>.requestSubmit()
        https://bugs.webkit.org/show_bug.cgi?id=197958

        Reviewed by Darin Adler.

        Update improved test results.

        * platform/gtk/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:

2021-05-08  Ricky Mondello  <rmondello@apple.com>

        Fix a typo
        https://bugs.webkit.org/show_bug.cgi?id=225502

        Reviewed by Chris Dumez.

        Update test expectations.

        * http/tests/in-app-browser-privacy/context-string-preconnect-expected.txt:
        * http/tests/preconnect/link-header-rel-preconnect-http-expected.txt:
        * http/tests/preconnect/link-rel-preconnect-http-expected.txt:
        * http/tests/preconnect/link-rel-preconnect-https-expected.txt:

2021-05-07  Lauro Moura  <lmoura@igalia.com>

        [WPE] Tentative gardening of crashes after last sdk update

        Unreviewed test gardening.

        Likely more crashes will appear from tests not run due to these
        gardened.

        * platform/wpe/TestExpectations:

2021-05-07  Zalan Bujtas  <zalan@apple.com>

        [css-flexbox] Flex item construction may affect sibling flex item height computation
        https://bugs.webkit.org/show_bug.cgi?id=225489

        Reviewed by Sergio Villar Senin.

        * fast/flexbox/flex-column-with-percent-height-descendants-expected.html: Added.
        * fast/flexbox/flex-column-with-percent-height-descendants.html: Added.

2021-05-07  Amir Mark Jr  <amir_mark@apple.com>

        [BigSur Release Wk2 Arm64] imported/w3c/web-platform-tests/navigation-timing/test_performance_attributes.sub.html is flaky failing
        https://bugs.webkit.org/show_bug.cgi?id=224784

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-05-07  Amir Mark Jr  <amir_mark@apple.com>

        [BigSur Release Wk2 Arm64] inspector/css/node-styles-refreshed.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=224788

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-05-07  Robert Jenner  <jenner@apple.com>

        [ BigSur Release wk2 ARM64 ] http/tests/workers/service/self_registration.html is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=225527

        Unreviewed test gardening.

        Updating expectations to Pass Timeout for BigSur Release wk 2 on Apple Silicon. 

        * platform/mac-wk2/TestExpectations:

2021-05-07  Carlos Garcia Campos  <cgarcia@igalia.com>

        Do not try to remove and already removed node while deleting selection
        https://bugs.webkit.org/show_bug.cgi?id=224893

        Reviewed by Ryosuke Niwa.

        * editing/inserting/insert-text-force-repaint-on-load-crash-expected.txt: Added.
        * editing/inserting/insert-text-force-repaint-on-load-crash.html: Added.

2021-05-07  Robert Jenner  <jenner@apple.com>

        [ BigSur Release wk2 ARM64 ] http/tests/misc/repeat-open-cancel.html is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=225526

        Unreviewed test gardening.

        Updating test expectations to Pass Timeout for Bigsur wk2 Release arm64.

        * platform/mac-wk2/TestExpectations:

2021-05-07  Ryan Haddad  <ryanhaddad@apple.com>

        REGRESSION (r277071): imported/w3c/web-platform-tests/css/mediaqueries/test_media_queries.html is failing
        https://bugs.webkit.org/show_bug.cgi?id=225469

        Unreviewed test gardening.

        * platform/mac/TestExpectations: Resolve an issue with conflicting test expectations entries.

2021-05-07  Robert Jenner  <jenner@apple.com>

        REGRESSION: [ BigSurE Release wk 2] webrtc/video-replace-muted-track.html is a flaky text failure
        https://bugs.webkit.org/show_bug.cgi?id=225525

        Unreviewed test gardening.

        Updating test expectations to Pass Failure 

        * platform/mac/TestExpectations:

2021-05-07  Robert Jenner  <jenner@apple.com>

        REGRESSION: [ BigSurE Release wk 2] webrtc/direction-change.html is a flaky text failure
        https://bugs.webkit.org/show_bug.cgi?id=225523

        Unreviewed test gardening.

        Updating test expectation to Pass Failure. 

        * platform/mac/TestExpectations:

2021-05-07  Robert Jenner  <jenner@apple.com>

        [ Mac ] accessibility/mac/expanded-notification.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=205410

        Unreviewed test gardening.

        Updating test expectations to include all mac. 

        * platform/mac/TestExpectations:

2021-05-07  Truitt Savell  <tsavell@apple.com>

        REGRESSION (r277071): [Intel Mac] imported/w3c/web-platform-tests/css/mediaqueries/test_media_queries.html is failing
        https://bugs.webkit.org/show_bug.cgi?id=225469

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-05-07  Philippe Normand  <pnormand@igalia.com>

        [GStreamer][MediaStream] Emit black frames for disabled video tracks
        https://bugs.webkit.org/show_bug.cgi?id=225511

        Reviewed by Xabier Rodriguez-Calvar.

        * platform/glib/TestExpectations: Unflag mediastream test now passing.

2021-05-07  Frédéric Wang  <fwang@igalia.com>

        Crash in ApplyStyleCommand::applyRelativeFontStyleChange
        https://bugs.webkit.org/show_bug.cgi?id=225235

        Reviewed by Ryosuke Niwa.

        Add regression test.

        * editing/execCommand/font-size-delta-same-node-for-start-and-end-crash-expected.txt: Added.
        * editing/execCommand/font-size-delta-same-node-for-start-and-end-crash.html: Added.
        * platform/ios/editing/execCommand/font-size-delta-same-node-for-start-and-end-crash-expected.txt: Added.

2021-05-07  Philippe Normand  <pnormand@igalia.com>

        Unreviewed, glib WebAudio gardening

        * platform/glib/TestExpectations: Unflag webaudio test now passing since r276978.

2021-05-07  Carlos Garcia Campos  <cgarcia@igalia.com>

        [GTK][WPE] Bump libsoup3 version to 2.99.5
        https://bugs.webkit.org/show_bug.cgi?id=225506

        Reviewed by Philippe Normand.

        Remove expectations for tests that should be passing now.

        * platform/gtk/TestExpectations:

2021-05-07  Enrique Ocaña González  <eocanha@igalia.com>

        [GStreamer] Layout test media/video-playsinline.html is flaky
        https://bugs.webkit.org/show_bug.cgi?id=186664

        Reviewed by Philippe Normand.

        The change to fullscreen takes a while on WebKitGTK and WPE platforms and can't be checked immediately.

        * media/video-playsinline.html: Added a setTimeout to the test in order to defer the check to the next main loop iteration.

2021-05-07  Frédéric Wang  <fwang@igalia.com>

        Crash in InsertTextCommand::positionInsideTextNode
        https://bugs.webkit.org/show_bug.cgi?id=223753

        Reviewed by Ryosuke Niwa.

        Add regression test.

        * editing/deleting/selection-on-empty-table-row-expected.txt: Added.
        * editing/deleting/selection-on-empty-table-row.html: Added.

2021-05-06  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo-wk1/TestExpectations:
        * platform/wincairo/TestExpectations:

2021-05-06  Tim Nguyen  <ntim@apple.com>

        Re-import css/mediaqueries/test_media_queries.html WPT
        https://bugs.webkit.org/show_bug.cgi?id=225469

        Unreviewed. Test gardening.

        Pulls in https://github.com/web-platform-tests/wpt/pull/28881 to fix device specific test failures.
        Also removes platform-specific test expectations which were added to that issue.

        * platform/gtk/imported/w3c/web-platform-tests/css/mediaqueries/test_media_queries-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/css/mediaqueries/test_media_queries-expected.txt: Removed.

2021-05-06  Lauro Moura  <lmoura@igalia.com>

        [WPE] Garden a few more failures

        Unreviewed test gardening.

        * platform/wpe/TestExpectations:
        * platform/wpe/fast/inline/crash-when-revert-has-trailing-line-break-expected.txt: Added to keep
          testing whether the crash happens instead of skipping.
        * platform/wpe/fonts/sans-serif-expected.txt: Rebaseline after r275515.
        * platform/wpe/fonts/serif-expected.txt: Ditto.
        * platform/wpe/http/tests/cache/network-error-during-revalidation-expected.txt: Removed.
          Using DumpJSConsoleLogInStdErr instead to reuse root baseline.
        * platform/wpe/http/tests/xmlhttprequest/state-after-network-error-expected.txt: Ditto.
        * platform/wpe/tables/mozilla/bugs/adforce_imgis_com-expected.txt: Added after r275515.

2021-05-06  Chris Dumez  <cdumez@apple.com>

        Port Filesystem::fileMetadata() & Filesystem::getFileModificationTime() to std::filesystem
        https://bugs.webkit.org/show_bug.cgi?id=225362

        Reviewed by Darin Adler.

        Add 0 to the list of allowed values for the size of a directory in the data transfer API as the result
        is implementation-specific. On macOS, we used to return 256 on apfs and 272 on HFS+. We now return 0,
        which is what Firefox does.

        * editing/pasteboard/entries-api/datatransfer-items-drop-getAsEntry-expected.txt:
        * editing/pasteboard/entries-api/datatransfer-items-drop-getAsEntry.html:
        * fast/forms/file/entries-api/drag-folder-webkitEntries-expected.txt:
        * fast/forms/file/entries-api/drag-folder-webkitEntries.html:

2021-05-06  Robert Jenner  <jenner@apple.com>

        [ macOS wk2 ] http/wpt/mediarecorder/set-srcObject-MediaStream-Blob.html (layout-test) is a flaky text failure
        Nhttps://bugs.webkit.org/show_bug.cgi?id=225500

        Unreviewed test gardening.

        Marking test as flaky (Pass Failure) while test is reviewed. 
        
        * platform/mac-wk2/TestExpectations:

2021-05-06  Robert Jenner  <jenner@apple.com>

        REGRESSION (r272039): [Big Sur release WK2] imported/w3c/web-platform-t ests/media-source/mediasource-changetype-play-implicit.html is a flaky crash
        https://bugs.webkit.org/show_bug.cgi?id=221143

        Unreviewed test gardening.

        Rebasing test for BigSur wk2.

        * platform/mac-bigsur-wk2/imported/w3c/web-platform-tests/media-source/mediasource-changetype-play-implicit-expected.txt: Added.

2021-05-06  Robert Jenner  <jenner@apple.com>

        [ macOS iOS ] crypto/crypto-random-values-oom.html is a flakey timeout 
        https://bugs.webkit.org/show_bug.cgi?id=223949

        Unreviewed test gardening. 

        Updating test expectations to slow. 
        
        * platform/ios-simulator-wk2/TestExpectations:
        * platform/ios-simulator/TestExpectations:
        * platform/mac/TestExpectations:

2021-05-06  Robert Jenner  <jenner@apple.com>

        [ macOS ] webgl/1.0.3/conformance/glsl/constructors/glsl-construct-ivec2.html is a flakey timeout
        https://bugs.webkit.org/show_bug.cgi?id=224396

        Unreviewed test gardening.

        Updating expectations to slow.

        * platform/mac/TestExpectations:

2021-05-06  Robert Jenner  <jenner@apple.com>

        [MacOS] animations/keyframe-pseudo-shadow.html is flakey failing
        https://bugs.webkit.org/show_bug.cgi?id=221491

        Unreviewed test garending.

        Updating test expectation. Was previously set as Pass Failure, but is an Image failure. Added ImageOnly to Failure expectation.

        * platform/mac/TestExpectations:

2021-05-06  Robert Jenner  <jenner@apple.com>

        [ macOS wk2 ] fast/scrolling/mac/overflow-scrollbars-toggle-dark-mode.html (layout-test) is a flaky
        https://bugs.webkit.org/show_bug.cgi?id=225498

        Unreviewed test gardening.

        Updated expectations to flaky ( Pass ImageOnlyFailure ) while test is reviewed.

        * platform/mac-wk2/TestExpectations:

2021-05-06  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening. Update test expectations after WPT re-imports in r277086 and r277091.

        * platform/glib/TestExpectations:

2021-05-06  Dean Jackson  <dino@apple.com>

        Rebaseline the following tests that now pass.
        rdar://76714473

        * webgl/2.0.0/deqp/functional/gles3/fbomultisample.2_samples-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/fbomultisample.4_samples-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/fbomultisample.8_samples-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/primitiverestart/00-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/primitiverestart/01-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/primitiverestart/02-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/primitiverestart/03-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/primitiverestart/04-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/primitiverestart/05-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/primitiverestart/06-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/primitiverestart/07-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/shadertexturefunction/texturegrad-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureformat/sized_depth_stencil-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/texturespecification/texstorage2d_format_depth_stencil-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/texturespecification/texstorage3d_format_depth_stencil-expected.txt:

2021-05-06  Yoshiaki Jitsukawa  <yoshiaki.jitsukawa@sony.com>

        [OpenSSL] Implement CryptoAlgorithmRSA*
        https://bugs.webkit.org/show_bug.cgi?id=225294

        Reviewed by Don Olmstead.

        Implement RSA for OpenSSL.

        Implement CryptoAlgorithmRSA_OAEP, CryptoAlgorithmRSA_PSS,
        CryptoAlgorithmRSAES_PKCS1_v1_5, CryptoAlgorithmRSASA_PKCS1_v1_5,
        and CryptoKeyRSA for OpenSSL.

        Add wincairo platform expectations for
        rsa-generate/import-key-malformed-parameters, modifying RSA-PSS
        related results from NotSupported to appropriate errors.

        * platform/wincairo/TestExpectations: Unskip tests that are now supported.
        * platform/wincairo/crypto/subtle/rsa-generate-key-malformed-parameters-expected.txt: Added.
        * platform/wincairo/crypto/subtle/rsa-import-key-malformed-parameters-expected.txt: Added.

2021-05-06  Robert Jenner  <jenner@apple.com>

        [ BigSur Debug ] webgl/1.0.3/conformance/glsl/misc/expression-list-in-declarator-initializer.html is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=225425

        Unreviewed test gardening.

        Updating test expectations to flaky ( Pass Timeout ) while test is reviewed.

        * platform/mac/TestExpectations:

2021-05-06  Robert Jenner  <jenner@apple.com>

        N[ macOS wk2 ] fast/scrolling/mac/rubberband-overflow-in-wheel-region-root-jiggle.html (layout-test) is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=225488

        Unreviewed test gardening.

        Updating test expectations to flaky ( Pass Timeout ) while test is reviewed. 

        * platform/mac-wk2/TestExpectations:

2021-05-06  Robert Jenner  <jenner@apple.com>

        [ macOS ] imported/w3c/web-platform-tests/css/css-animations/translation-animation-subpixel-offset.html (layout-test) is a flakey ImageOnly failure
        https://bugs.webkit.org/show_bug.cgi?id=225484

        Unreviewed test gardening.

        Marking test as flaky ( Pass ImageOnlyFailure ) while test is reviewed.

        * platform/mac/TestExpectations:

2021-05-06  Chris Dumez  <cdumez@apple.com>

        Regression(r254389?) navigator.languages returns all lowercase languages for ports using CF
        https://bugs.webkit.org/show_bug.cgi?id=225461

        Reviewed by Darin Adler.

        Update existing tests to reflect behavior change.

        * fast/text/international/system-language/navigator-language/navigator-language-en-GB-expected.txt:
        * fast/text/international/system-language/navigator-language/navigator-language-en-GB.html:
        * fast/text/international/system-language/navigator-language/navigator-language-en-US-expected.txt:
        * fast/text/international/system-language/navigator-language/navigator-language-en-US.html:
        * fast/text/international/system-language/navigator-language/navigator-language-en-expected.txt:
        * fast/text/international/system-language/navigator-language/navigator-language-en.html:
        * fast/text/international/system-language/navigator-language/navigator-language-es-ES-expected.txt:
        * fast/text/international/system-language/navigator-language/navigator-language-es-ES.html:
        * fast/text/international/system-language/navigator-language/navigator-language-es-MX-expected.txt:
        * fast/text/international/system-language/navigator-language/navigator-language-es-MX.html:
        * fast/text/international/system-language/navigator-language/navigator-language-es-expected.txt:
        * fast/text/international/system-language/navigator-language/navigator-language-es.html:
        * fast/text/international/system-language/navigator-language/navigator-language-fr-CA-expected.txt:
        * fast/text/international/system-language/navigator-language/navigator-language-fr-CA.html:
        * fast/text/international/system-language/navigator-language/navigator-language-fr-expected.txt:
        * fast/text/international/system-language/navigator-language/navigator-language-fr.html:
        * fast/text/international/system-language/navigator-language/navigator-language-hi-expected.txt:
        * fast/text/international/system-language/navigator-language/navigator-language-hi.html:
        * fast/text/international/system-language/navigator-language/navigator-language-pt-BR-expected.txt:
        * fast/text/international/system-language/navigator-language/navigator-language-pt-BR.html:
        * fast/text/international/system-language/navigator-language/navigator-language-pt-PT-expected.txt:
        * fast/text/international/system-language/navigator-language/navigator-language-pt-PT.html:
        * fast/text/international/system-language/navigator-language/navigator-language-ru-expected.txt:
        * fast/text/international/system-language/navigator-language/navigator-language-ru.html:
        * fast/text/international/system-language/navigator-language/navigator-language-zh-HK-expected.txt:
        * fast/text/international/system-language/navigator-language/navigator-language-zh-HK.html:
        * fast/text/international/system-language/navigator-language/navigator-language-zh-Hans-expected.txt:
        * fast/text/international/system-language/navigator-language/navigator-language-zh-Hans.html:
        * fast/text/international/system-language/navigator-language/navigator-language-zh-Hant-HK-expected.txt:
        * fast/text/international/system-language/navigator-language/navigator-language-zh-Hant-HK.html:
        * fast/text/international/system-language/navigator-language/navigator-language-zh-Hant-expected.txt:
        * fast/text/international/system-language/navigator-language/navigator-language-zh-Hant.html:
        * fast/text/international/system-language/navigator-language/navigator-language-zh-TW-expected.txt:
        * fast/text/international/system-language/navigator-language/navigator-language-zh-TW.html:
        * js/dom/navigator-language.html:
        * platform/mac-catalina/fast/text/international/system-language/navigator-language/navigator-language-en-US-expected.txt:
        * platform/mac-catalina/fast/text/international/system-language/navigator-language/navigator-language-en-expected.txt:
        * platform/mac-catalina/fast/text/international/system-language/navigator-language/navigator-language-es-ES-expected.txt:
        * platform/mac-catalina/fast/text/international/system-language/navigator-language/navigator-language-es-MX-expected.txt:
        * platform/mac-catalina/fast/text/international/system-language/navigator-language/navigator-language-es-expected.txt:
        * platform/mac-catalina/fast/text/international/system-language/navigator-language/navigator-language-fr-expected.txt:
        * platform/mac-catalina/fast/text/international/system-language/navigator-language/navigator-language-hi-expected.txt:
        * platform/mac-catalina/fast/text/international/system-language/navigator-language/navigator-language-pt-BR-expected.txt:
        * platform/mac-catalina/fast/text/international/system-language/navigator-language/navigator-language-ru-expected.txt:
        * platform/mac-mojave/fast/text/international/system-language/navigator-language/navigator-language-en-US-expected.txt:
        * platform/mac-mojave/fast/text/international/system-language/navigator-language/navigator-language-en-expected.txt:
        * platform/mac-mojave/fast/text/international/system-language/navigator-language/navigator-language-es-419-expected.txt:
        * platform/mac-mojave/fast/text/international/system-language/navigator-language/navigator-language-es-ES-expected.txt:
        * platform/mac-mojave/fast/text/international/system-language/navigator-language/navigator-language-es-MX-expected.txt:
        * platform/mac-mojave/fast/text/international/system-language/navigator-language/navigator-language-es-expected.txt:
        * platform/mac-mojave/fast/text/international/system-language/navigator-language/navigator-language-fr-expected.txt:
        * platform/mac-mojave/fast/text/international/system-language/navigator-language/navigator-language-hi-expected.txt:
        * platform/mac-mojave/fast/text/international/system-language/navigator-language/navigator-language-ja-expected.txt:
        * platform/mac-mojave/fast/text/international/system-language/navigator-language/navigator-language-pt-BR-expected.txt:
        * platform/mac-mojave/fast/text/international/system-language/navigator-language/navigator-language-ru-expected.txt:
        * platform/mac-mojave/fast/text/international/system-language/navigator-language/navigator-language-zh-HK-expected.txt:
        * platform/mac-mojave/fast/text/international/system-language/navigator-language/navigator-language-zh-Hant-HK-expected.txt:

2021-05-06  Lauro Moura  <lmoura@igalia.com>

        [WPE] Garden accessibility failure and merge other expectations with glib one

        Unreviewed test gardening.

        * platform/wpe/TestExpectations:

2021-05-06  Lauro Moura  <lmoura@igalia.com>

        [WPE][WebXR] Gardening regressions after r277099

        Unreviewed test gardening.

        * platform/wpe/TestExpectations:

2021-05-06  Alicia Boya García  <aboya@igalia.com>

        [EME][GStreamer] Unreviewed micro-gardening
        https://bugs.webkit.org/show_bug.cgi?id=225422

        I'm adjusting the expectations to specify that
        imported/w3c/web-platform-tests/encrypted-media/clearkey-mp4-playback-temporary-encrypted-clear.https.html
        doesn't resolve as a failure.

        * platform/glib/TestExpectations:

2021-05-06  Antoine Quint  <graouts@webkit.org>

        CSS custom properties on pseudo elements background gradients causes infinite layout and high CPU load
        https://bugs.webkit.org/show_bug.cgi?id=194332
        <rdar://problem/47873895>

        Reviewed by Simon Fraser.

        Add a test where an element with a background-image set to a CSS gradient using a custom property as a color
        stop changes another property targeted by a transition to check that there is no background-image transition
        generated. 

        * webanimations/css-transition-element-with-gradient-background-image-and-css-custom-property-expected.txt: Added.
        * webanimations/css-transition-element-with-gradient-background-image-and-css-custom-property.html: Added.

2021-05-06  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening. Update expectations after WPT re-import in r277073 and r277077.

        * platform/glib/TestExpectations:

2021-05-06  Wenson Hsieh  <wenson_hsieh@apple.com>

        [iOS] UI process hangs when showing a modal JavaScript dialog while focusing an input field
        https://bugs.webkit.org/show_bug.cgi?id=225409
        rdar://76792407

        Reviewed by Darin Adler, Chris Dumez and Tim Horton.

        Add a layout test that exercises the deadlock. In the case where we fail, this test will time out.

        * fast/events/ios/show-modal-alert-during-focus-expected.txt: Added.
        * fast/events/ios/show-modal-alert-during-focus.html: Added.

2021-05-06  Diego Pino Garcia  <dpino@igalia.com>

        [GTK][WPE] Unreviewed test gardening. Emit platform baselines after r277071.

        Platform baselines are needed because platforms have different values
        for screen resolution sizes, which are referred in the test results.

        * platform/gtk/imported/w3c/web-platform-tests/css/mediaqueries/test_media_queries-expected.txt: Added.
        * platform/wpe/imported/w3c/web-platform-tests/css/mediaqueries/test_media_queries-expected.txt: Added.

2021-05-06  Darin Adler  <darin@apple.com>

        Streamline codec parsing, replacing uses of HashMap with SortedArrayMap
        https://bugs.webkit.org/show_bug.cgi?id=225368

        Reviewed by Sam Weinig.

        * media/hevc-codec-parameters-expected.txt: Remove testing of generalTierFlag, which is ignored
        by our actual media code after parsing.
        * media/hevc-codec-parameters.html: Ditto.

2021-05-06  Tim Nguyen  <ntim@apple.com>

        Re-import css/css-fonts WPT
        https://bugs.webkit.org/show_bug.cgi?id=225455

        Reviewed by Simon Fraser.

        Base commit: https://github.com/web-platform-tests/wpt/commit/c4c81d21b9d606bedd0adb8f72bd0ecf15740e3e

        * TestExpectations:
        * platform/gtk/imported/w3c/web-platform-tests/css/css-fonts/math-script-level-and-math-style/math-script-level-001.tentative-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/css-fonts/math-script-level-and-math-style/math-script-level-001.tentative-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/css/css-fonts/math-script-level-and-math-style/math-script-level-001.tentative-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/css/css-fonts/math-script-level-and-math-style/math-script-level-001.tentative-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/css-fonts/math-script-level-and-math-style/math-script-level-001.tentative-expected.txt:

2021-05-06  Chris Dumez  <cdumez@apple.com>

        imported/w3c/web-platform-tests/eventsource/format-utf-8.htm is failing on some platforms
        https://bugs.webkit.org/show_bug.cgi?id=225416
        <rdar://77529801>

        Reviewed by Youenn Fablet.

        Dump JS Console messages to stderr for this test as it will only get logged on some
        platforms.

        * TestExpectations:

2021-05-06  Tim Nguyen  <ntim@apple.com>

        Re-import css/css-flexbox WPT
        https://bugs.webkit.org/show_bug.cgi?id=225450

        Reviewed by Youenn Fablet.

        * TestExpectations:

2021-05-06  Tim Nguyen  <ntim@apple.com>

        Re-import css/css-display WPT
        https://bugs.webkit.org/show_bug.cgi?id=225448

        Reviewed by Youenn Fablet.

        * TestExpectations:

2021-05-06  Tim Nguyen  <ntim@apple.com>

        Re-import css/css-contain WPT
        https://bugs.webkit.org/show_bug.cgi?id=225445

        Reviewed by Rob Buis.

        * TestExpectations:

2021-05-06  Alicia Boya García  <aboya@igalia.com>

        [EME][GStreamer] Unreviewed micro-gardening
        https://bugs.webkit.org/show_bug.cgi?id=225422

        This test was fixed by the WebKitMediaSrc rework in r277031,
        rebaselined it.

        * platform/glib/imported/w3c/web-platform-tests/encrypted-media/clearkey-mp4-playback-temporary-encrypted-clear.https-expected.txt:

2021-05-06  Tim Nguyen  <ntim@apple.com>

        Re-import css/css-will-change WPTs
        https://bugs.webkit.org/show_bug.cgi?id=225444

        Reviewed by Youenn Fablet.

        * TestExpectations:

2021-05-06  Philippe Normand  <pnormand@igalia.com>

        REGRESSION(r271341): media/media-fullscreen-inline.html times out on GTK
        https://bugs.webkit.org/show_bug.cgi?id=220540

        Reviewed by Xabier Rodriguez-Calvar.

        Call webkitExitFullScreen() asynchronously to give time to the WebCore FullscreenManager to
        notify the video element that it entered full-screen, and thus allowing the exitFullScreen()
        call to go through.

        * media/media-fullscreen.js:
        (fullscreenchange):
        (async beginfullscreen):
        * platform/glib/TestExpectations:
        * platform/glib/media/media-fullscreen-inline-expected.txt:

2021-05-06  Tim Nguyen  <ntim@apple.com>

        Re-import css/css-color & css/css-color-adjust WPT
        https://bugs.webkit.org/show_bug.cgi?id=225438

        Reviewed by Youenn Fablet.

        * TestExpectations:

2021-05-06  Tim Nguyen  <ntim@apple.com>

        Re-import css/css-backgrounds WPTs
        https://bugs.webkit.org/show_bug.cgi?id=225408

        Reviewed by Youenn Fablet.

        * TestExpectations:
        * platform/ios-wk2/TestExpectations:

2021-05-06  Tim Nguyen  <ntim@apple.com>

        [mediaqueries] Remove "on-demand" value for any-hover/hover & "forced" value for prefers-contrast
        https://bugs.webkit.org/show_bug.cgi?id=225400

        Reviewed by Antti Koivisto.

        These were both removed from the spec and currently never evaluate to true. They also won't eval to true after this change.
        Only change is serialization, since the values will become invalid.

        Also:
        - Re-synced css/mediaqueries WPTs
        - Adjusted any-hover/hover parsing tests accordingly.

        * fast/media/mq-any-hover-cssom.html:
        * fast/media/mq-any-hover-cssom-expected.txt:
        * fast/media/mq-hover-cssom.html:
        * fast/media/mq-hover-cssom-expected.txt:

2021-05-05  Robert Jenner  <jenner@apple.com>

        [ BigSur wk2 arm64 ] http/tests/inspector/network/resource-sizes-network.html is a flakey text failure
        https://bugs.webkit.org/show_bug.cgi?id=225430

        Unrviewed test gardening.

        Updating expectations to flaky (Pass Failure) while test is reviewed.

        * platform/mac-wk2/TestExpectations:

2021-05-05  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening. Gardened latest test failures.

        imported/w3c/web-platform-tests/encrypted-media/clearkey-mp4-playback-temporary-encrypted-clear.https.html
        is failing after r277031.

        fast/canvas/canvas-composite-text-alpha.html is an image failure after r277024.

        * platform/glib/TestExpectations:

2021-05-05  Robert Jenner  <jenner@apple.com>

        [ macOS ] imported/w3c/web-platform-tests/webaudio/the-audio-api/the-convolvernode-interface/active-processing.https.html is a flaky text failure
        https://bugs.webkit.org/show_bug.cgi?id=225421

        Unreviewed test gardening. 

        Marking test as flaky (Pass Failure), while under review.

        * platform/mac/TestExpectations:

2021-05-05  Tim Nguyen  <ntim@apple.com>

        Re-sync css/css-animations WPTs
        https://bugs.webkit.org/show_bug.cgi?id=225404

        Reviewed by Myles C. Maxfield.

        * TestExpectations:
        * tests-options.json:

2021-05-05  Amir Mark Jr  <amir_mark@apple.com>

        [MacOS wk2] http/tests/cache/disk-cache/disk-cache-remove-several-pending-writes.html is a flakey failure
        https://bugs.webkit.org/show_bug.cgi?id=223531

        Unreviewed test gardening.

        Removed debug from a previous test expectation for this bug.

        * platform/mac-wk2/TestExpectations:

2021-05-05  Amir Mark Jr  <amir_mark@apple.com>

        [BigSur WK1] imported/w3c/web-platform-tests/media-source/mediasource-config-change-webm-v* is consistently failing
        https://bugs.webkit.org/show_bug.cgi?id=221300

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-05-05  Sam Weinig  <weinig@apple.com>

        Skip fast/canvas/CanvasRenderingContext2DSettings-colorSpace-enabled.html on windows
        until the preference has been hooked up.

        * platform/win/TestExpectations:

2021-05-05  Robert Jenner  <jenner@apple.com>

        [ macOS/iOS Debug ] http/wpt/crypto/unwrap-rsa-key-crash.any.html (layout-test) is a flaky crash
        https://bugs.webkit.org/show_bug.cgi?id=225315

        Unreviewed test gardening.

        Removing prior expectations.

        * platform/ios-simulator/TestExpectations:
        * platform/mac/TestExpectations:

2021-05-05  Alicia Boya García  <aboya@igalia.com>

        [MSE][GStreamer] WebKitMediaSrc rework v2
        https://bugs.webkit.org/show_bug.cgi?id=225192

        Reviewed by Xabier Rodriguez-Calvar.

        Update expectations.

        * platform/glib/TestExpectations:
        * platform/glib/imported/w3c/web-platform-tests/media-source/mediasource-append-buffer-expected.txt: Added.

2021-05-05  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] http/tests/css/object-fit-delayed-img-svg.html yields errors due to missing scripts
        https://bugs.webkit.org/show_bug.cgi?id=225246
        <rdar://problem/77397227>

        Reviewed by Jonathan Bedard.

        * http/tests/css/object-fit-delayed-img-svg.html:
        * http/tests/css/resources/circle.svg: Added.
        * http/tests/css/resources/delayedCircle.py: Added.

2021-05-05  Youenn Fablet  <youenn@apple.com>

        No need to error a fetch body stream if its request or response is stopped
        https://bugs.webkit.org/show_bug.cgi?id=225347

        Reviewed by Geoffrey Garen.

        * http/wpt/fetch/fetch-response-body-stop-in-worker-expected.txt: Added.
        * http/wpt/fetch/fetch-response-body-stop-in-worker.html: Added.

2021-05-05  Sam Weinig  <weinig@apple.com>

        Add preliminary support for specifying a color space for 2D canvas
        https://bugs.webkit.org/show_bug.cgi?id=225286

        Reviewed by Dean Jackson.

        Add basic tests for color space in canvas support.

        * fast/canvas/CanvasRenderingContext2DSettings-colorSpace-disabled-expected.txt: Added.
        * fast/canvas/CanvasRenderingContext2DSettings-colorSpace-disabled.html: Added.
        * fast/canvas/CanvasRenderingContext2DSettings-colorSpace-enabled-expected.txt: Added.
        * fast/canvas/CanvasRenderingContext2DSettings-colorSpace-enabled.html: Added.
        * fast/canvas/canvas-color-space-display-p3-expected.html: Added.
        * fast/canvas/canvas-color-space-display-p3.html: Added.

2021-05-05  Chris Lord  <clord@igalia.com>

        Update WPT OffscreenCanvas tests to respect [EnforceRange]
        https://bugs.webkit.org/show_bug.cgi?id=225391

        Reviewed by Darin Adler.

        WPT html/canvas/offscreen/pixel-manipulation/2d.imageData.get.tiny.html
        passes after updating.

        * platform/glib/TestExpectations:

2021-05-05  Jean-Yves Avenard  <jya@apple.com>

        imported/w3c/web-platform-tests/media-source/mediasource-activesourcebuffers.html is a flakey
        https://bugs.webkit.org/show_bug.cgi?id=225386
        rdar://74704447

        Reviewed by Eric Carlson.

        * platform/mac-wk2/TestExpectations: Remove

2021-05-04  Tyler Wilcock  <twilco.o@protonmail.com>

        Import webstorage WPTs
        https://bugs.webkit.org/show_bug.cgi?id=225369

        Reviewed by Darin Adler.
        
        Import tip-of-tree webstorage WPTs with:
        `Tools/Scripts/import-w3c-tests -t web-platform-tests/webstorage`

        * TestExpectations:
        Skip 2 newly imported tests that consistently crash / timeout.

        * tests-options.json:
        Mark 4 newly imported tests as slow.

2021-05-04  Diego Pino Garcia  <dpino@igalia.com>

        [GTK] Unreviewed test gardening. Mark imported/w3c/web-platform-tests/worklets/paint-worklet-csp.https.html as flaky crash.

        Also clean latest tests passing and mark 'open-features-tokenization-screenx-screeny.html' as flaky timeout.

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:
        * platform/wpe/TestExpectations:

2021-05-04  Antti Koivisto  <antti@apple.com>

        REGRESSION(iOS 14): Author shadow DOM invalidated unnecessarily on pseudo element change
        https://bugs.webkit.org/show_bug.cgi?id=222187
        <rdar://problem/74801314>

        Reviewed by Ryosuke Niwa.

        * fast/shadow-dom/shadow-style-invalidation-pseudo-element-expected.txt: Added.
        * fast/shadow-dom/shadow-style-invalidation-pseudo-element.html: Added.

2021-05-04  Diego Pino Garcia  <dpino@igalia.com>

        [WPE] Unreviewed test gardening. Gardened several WebXR tests that are crashing in Debug.

        * platform/wpe/TestExpectations:

2021-05-04  Kenneth Russell  <kbr@chromium.org>

        WebKit must treat 'webgl' and 'webgl2' as distinct context types
        https://bugs.webkit.org/show_bug.cgi?id=222758

        Reviewed by Dean Jackson.

        Revised the two copies of the WebGL 2.0 context-type-test with
        strengthened checks taken from upstream KhronosGroup/WebGL.

        * webgl/2.0.0/resources/webgl_test_files/conformance2/context/context-type-test-2.html:
        * webgl/resources/webgl_test_files/conformance2/context/context-type-test-2.html:

2021-05-04  Truitt Savell  <tsavell@apple.com>

        [Big Sur] platform/mac-bigsur/media/media-source/media-source-webm-vorbis-partial.html is consistently failing
        https://bugs.webkit.org/show_bug.cgi?id=222495

        Unreviewed test fix.

        * media/media-source/media-source-webm-vorbis-partial.html:

2021-05-04  Jean-Yves Avenard  <jya@apple.com>

        webrtc/video-vp8-videorange.html is faling on macmini8,1
        https://bugs.webkit.org/show_bug.cgi?id=225345
        rdar://77403100

        Reviewed by Eric Carlson.

        On some hardware, compositing may render slightly differently.
        We add a small fuzz factor when comparing the YUV component values.
        Such difference in results would be visually indistinguishible.

        * platform/mac/TestExpectations: Remove test entry.
        * webrtc/video-vp8-videorange.html:

2021-05-04  Chris Dumez  <cdumez@apple.com>

        Blob contentType with charset renders html as plain text
        https://bugs.webkit.org/show_bug.cgi?id=225226

        Reviewed by Alex Christensen.

        Add layout test coverage.

        * fast/files/blob-with-charget-as-main-resource-expected.html: Added.
        * fast/files/blob-with-charget-as-main-resource.html: Added.

2021-05-04  Cameron McCormack  <heycam@apple.com>

        Handle clamping of heights for images affected by background-size and EXIF orientation correctly
        https://bugs.webkit.org/show_bug.cgi?id=221005
        <rdar://problem/73692426>

        Reviewed by Simon Fraser.

        * fast/images/image-orientation-background-size-bug-expected.html: Added.
        * fast/images/image-orientation-background-size-bug.html: Added.
        * fast/images/resources/green-504x378-90deg.jpg: Added.  This is a
        solid green 504x378 JPEG with an EXIF orientation tag requiring a
        90deg rotation.

2021-05-04  Sergio Villar Senin  <svillar@igalia.com>

        ASSERTION FAILED: contentSize >= 0 in WebCore::RenderFlexibleBox::adjustChildSizeForMinAndMax
        https://bugs.webkit.org/show_bug.cgi?id=222711
        <rdar://problem/75022692>

        Reviewed by Alan Bujtas.

        * TestExpectations: Unskipped a test that is passing now.

2021-05-04  Antoine Quint  <graouts@webkit.org>

        REGRESSION (r260360): animation-wide timing function does not apply to 2-keyframe transform Web Animation
        https://bugs.webkit.org/show_bug.cgi?id=225301
        <rdar://problem/77452933>

        Reviewed by Dean Jackson.

        Add a test that runs a JS-orignated animation with a single interval and an animation-wide cubic timing
        function with y values outside of the [0-1] range.

        * platform/win/TestExpectations:
        * webanimations/accelerated-web-animation-with-single-interval-and-easing-y-axis-above-1-expected.html: Added.
        * webanimations/accelerated-web-animation-with-single-interval-and-easing-y-axis-above-1.html: Added.

2021-05-04  Kyle Piddington  <kpiddington@apple.com>

        [Metal ANGLE] Update readpixel, sub, whole, and occlusionQuery tests to passing
        https://bugs.webkit.org/show_bug.cgi?id=225217

        Tests are passing on bots, but checked in expected test results include failures.
        Reviewed by Dean Jackson.


        * webgl/2.0.0/deqp/functional/gles3/fboinvalidate/sub-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/fboinvalidate/whole-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/occlusionquery_strict-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/readpixel-expected.txt:

2021-05-04  Sergio Villar Senin  <svillar@igalia.com>

        Unreviewed, unskipped a test which works fine.

        * TestExpectations:

2021-05-04  Philippe Normand  <pnormand@igalia.com>

        Unreviewed, fix-up bug URL after r276955

        * platform/glib/TestExpectations:

2021-05-04  Philippe Normand  <pnormand@igalia.com>

        Unreviewed, GLIB WebRTC gardening

        * platform/glib/TestExpectations: Flag test as crashing in debug bots.

2021-05-04  Philippe Normand  <pnormand@igalia.com>

        [WebRTC][GStreamer] fast/mediastream/resize-trim.html is failing
        https://bugs.webkit.org/show_bug.cgi?id=192888

        Reviewed by Xabier Rodriguez-Calvar.

        * platform/glib/TestExpectations: Unflag test.
        * resources/platform-helper.js: Remove EFL cruft.
        (videoCanvasPixelComparisonTolerance):
        (isEfl): Deleted.

2021-05-03  Simon Fraser  <simon.fraser@apple.com>

        REGRESSION (r274461): [macOS wk1] fast/repaint/canvas-object-fit.html is flakey text failing
        https://bugs.webkit.org/show_bug.cgi?id=223283

        Reviewed by Ryosuke Niwa.
        
        WK1 repaint tests are sensitive to the timing of paints, which are controlled by 
        WebViewLayerFlushScheduler layerFlushCallback() timing, which in turn is affected by the
        state of -[NSWindow autodisplay], which DumpRenderTree sets to NO, but we flip to YES
        when we see composited layers (which canvas triggers).
        
        To avoid this fragile mess, have the test trigger compositing early on by making the 2D
        canvas context, then wait for a frame before the repaint part of the test.

        * fast/repaint/canvas-object-fit.html:
        * platform/mac-wk1/TestExpectations:

2021-05-03  Truitt Savell  <tsavell@apple.com>

        [ Big Sur ] webrtc/video-vp8-videorange.html is faling on macmini8,1
        https://bugs.webkit.org/show_bug.cgi?id=225257

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-05-03  Robert Jenner  <jenner@apple.com>

        [ macOS/iOS Debug ] http/wpt/crypto/unwrap-rsa-key-crash.any.html (layout-test) is a flaky crash
        https://bugs.webkit.org/show_bug.cgi?id=225315

        Unreviewed test gardening.

        Updating test expectations to Pass Crash due to slowing down EWS.

        * platform/ios-simulator/TestExpectations:
        * platform/mac/TestExpectations:

2021-05-03  Tim Nguyen  <ntim@apple.com>

        Remove "no-preference" value for prefers-color-scheme media query
        https://bugs.webkit.org/show_bug.cgi?id=212952

        Reviewed by Antti Koivisto.

        WPT parsing tests still fail due to: https://bugs.webkit.org/show_bug.cgi?id=225282
        Updated evaluation tests to use `not (prefers-color-scheme)` instead.

        * css-dark-mode/older-systems/prefers-color-scheme.html:
        * css-dark-mode/prefers-color-scheme.html:

2021-05-03  Kyle Piddington  <kpiddington@apple.com>

        [Metal ANGLE]: Fix conversions tests and remove failing test expectations
        https://bugs.webkit.org/show_bug.cgi?id=225261
        <rdar://77349615>
                  
        bool conversion workaround was being applied to all shaders. Correct shader translation to generate
        better conversion code on platforms that don't need a workaround. 

        Conversions for basic types like vec2, ivec2, uvec2 were only using the first components when workaround
        was active. Correct swizzle logic to get all components when doing a conversion.

        Reviewed by Dean Jackson.

        * webgl/2.0.0/deqp/data/gles2/shaders/conversions-expected.txt:
        * webgl/2.0.0/deqp/data/gles3/shaders/conversions-expected.txt:

2021-05-03  Zalan Bujtas  <zalan@apple.com>

        [Multi-column] Remove spanner placeholder when the spanner becomes nested
        https://bugs.webkit.org/show_bug.cgi?id=225248
        <rdar://77326189>

        Reviewed by Antti Koivisto.

        * TestExpectations:
        * fast/multicol/span/float-becomes-spanner-crash-expected.txt: Added.
        * fast/multicol/span/float-becomes-spanner-crash.html: Added.

2021-05-03  Aditya Keerthi  <akeerthi@apple.com>

        [iOS] Crash when tapping fields on cycle.travel
        https://bugs.webkit.org/show_bug.cgi?id=225259
        <rdar://problem/77386417>

        Reviewed by Wenson Hsieh.

        * fast/forms/focus-change-after-layout-update-during-focus-crash-expected.txt: Added.
        * fast/forms/focus-change-after-layout-update-during-focus-crash.html: Added.

2021-05-03  Chris Lord  <clord@igalia.com>

        Decoding an SVG off the main thread causes a crash
        https://bugs.webkit.org/show_bug.cgi?id=206055

        Reviewed by Darin Adler.

        Enable OffscreenCanvas SVG tests.

        * platform/glib/TestExpectations:

2021-05-03  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB][GTK] Unreviewed test gardening. Updated expectations with latest failures from GTK release bot.

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:

2021-05-02  Rob Buis  <rbuis@igalia.com>

        getPropertyValue for url path doesn't return the "#" character
        https://bugs.webkit.org/show_bug.cgi?id=215409

        Reviewed by Sam Weinig.

        Add test for this.

        * svg/css/computed-style-url-serializing-expected.txt: Added.
        * svg/css/computed-style-url-serializing.html: Added.

2021-05-02  Sam Weinig  <weinig@apple.com>

        Consider removing imported/w3c/canvas and canvas/philip (Part 2)
        https://bugs.webkit.org/show_bug.cgi?id=225269

        Reviewed by Simon Fraser.

        Remove imported/w3c/canvas/* and canvas/philip/* and related expecations
        and results. They are out of date copies of tests now bundled as part of
        WPT in imported/w3c/web-platform-tests/html/canvas/element and are no
        longer useful.

        Part 2 removes the remaining copy in imported/w3c/canvas.

        * TestExpectations:
        * platform/gtk/TestExpectations:
        * platform/gtk/imported/w3c/canvas: Removed.
        * platform/ios-wk1/TestExpectations:
        * platform/ios-wk2/TestExpectations:
        * platform/ios/TestExpectations:
        * platform/mac-wk1/TestExpectations:
        * platform/mac-wk2/TestExpectations:
        * platform/mac/TestExpectations:
        * platform/mac/imported/w3c/canvas: Removed.
        * platform/win/TestExpectations:
        * platform/wpe/TestExpectations:

2021-05-01  Sam Weinig  <weinig@apple.com>

        Consider removing imported/w3c/canvas and canvas/philip (Part 1)
        https://bugs.webkit.org/show_bug.cgi?id=225269

        Reviewed by Simon Fraser.

        Remove imported/w3c/canvas/* and canvas/philip/* and related expecations
        and results. They are out of date copies of tests now bundled as part of
        WPT in imported/w3c/web-platform-tests/html/canvas/element and are no
        longer useful.

        Part 1 just removes canvas/philip to make it more reasonable to review
        and land.

        * canvas/philip: Removed.
        * http/tests/canvas/philip: Removed.
        * platform/gtk/TestExpectations:
        * platform/ios-wk1/TestExpectations:
        * platform/ios-wk2/TestExpectations:
        * platform/ios/TestExpectations:
        * platform/mac-wk1/TestExpectations:
        * platform/mac-wk2/TestExpectations:
        * platform/mac-wk2/canvas/philip: Removed.
        * platform/mac/TestExpectations:
        * platform/mac/canvas/philip: Removed.
        * platform/win/TestExpectations:
        * platform/win/canvas/philip: Removed.
        * platform/wincairo/TestExpectations:
        * platform/wpe/TestExpectations:

2021-05-01  Antti Koivisto  <antti@apple.com>

        Share style resolvers between author shadow trees with identical style
        https://bugs.webkit.org/show_bug.cgi?id=225187
        <rdar://problem/77317178>

        Reviewed by Sam Weinig.

        * fast/shadow-dom/style-resolver-sharing-expected.txt:
        * fast/shadow-dom/style-resolver-sharing.html:

2021-05-01  Sam Weinig  <weinig@apple.com>

        Update operations in CanvasImageData.idl to use long rather than float as per spec
        https://bugs.webkit.org/show_bug.cgi?id=225263

        Reviewed by Simon Fraser.

        * canvas/philip/tests/2d.imageData.create2.tiny-expected.txt:
        * canvas/philip/tests/2d.imageData.get.tiny-expected.txt:
        Update results, which now don't pass, to match the spec behavior.

        * fast/canvas/canvas-2d-imageData-create-nonfinite-expected.txt:
        * fast/canvas/canvas-crash.html:
        * fast/canvas/canvas-getImageData-invalid-expected.txt:
        * fast/canvas/canvas-getImageData-invalid-result-buffer-crash.html:
        * fast/canvas/canvas-getImageData-invalid.html:
        * fast/canvas/canvas-getImageData-large-crash-expected.txt:
        * fast/canvas/canvas-getImageData-rounding-expected.txt:
        * fast/canvas/canvas-getImageData-rounding.html:
        * fast/canvas/canvas-putImageData-expected.txt:
        * fast/canvas/canvas-putImageData.js:
        * fast/canvas/resources/canvas-2d-imageData-create-nonfinite.js:
        Update tests and results to match spec behavior.

2021-05-01  Zalan Bujtas  <zalan@apple.com>

        [RenderTreeBuilder] Reset the "children inline" state when merging anonymous table boxes
        https://bugs.webkit.org/show_bug.cgi?id=225266
        <rdar://77327951>

        Reviewed by Simon Fraser.

        * fast/table/merge-anonymous-table-cells-with-block-children-expected.txt: Added.
        * fast/table/merge-anonymous-table-cells-with-block-children.html: Added.

2021-04-30  Wenson Hsieh  <wenson_hsieh@apple.com>

        App highlight UI should be disabled when selecting text in image overlays
        https://bugs.webkit.org/show_bug.cgi?id=225260
        rdar://77359313

        Reviewed by Tim Horton.

        Add a new layout test to verify that the app higlight context menu items don't show up on macOS when right
        clicking.

        * fast/images/image-extraction/mac/image-overlay-text-disables-app-highlight-menu-items-expected.txt: Added.
        * fast/images/image-extraction/mac/image-overlay-text-disables-app-highlight-menu-items.html: Added.

2021-04-30  Kyle Piddington  <kpiddington@apple.com>

        [Metal ANGLE]: fix webgl/2.0.0/deqp/functional/gles3/negativebufferapi 
        <rdar://77349908>

        Uniform buffers are implemented as 'constant' buffers in Metal. 
        update alignment requirements, as we can't do arbitrary alignments. This 
        also fixes negativebufferAPI, as the invalid alignment test was failing. 

        https://bugs.webkit.org/show_bug.cgi?id=225222

        Reviewed by Dean Jackson.

        * webgl/2.0.0/deqp/functional/gles3/negativebufferapi-expected.txt:

2021-04-30  Wenson Hsieh  <wenson_hsieh@apple.com>

        [iOS] Add a heuristic to determine whether a synthetic click triggered any meaningful changes
        https://bugs.webkit.org/show_bug.cgi?id=225240
        rdar://77221196

        Reviewed by Tim Horton.

        * fast/events/ios/did-not-handle-meaningful-click-expected.txt: Added.
        * fast/events/ios/did-not-handle-meaningful-click.html: Added.

2021-04-30  Antti Koivisto  <antti@apple.com>

        Share style resolvers between author shadow trees without style sheets
        https://bugs.webkit.org/show_bug.cgi?id=225102

        Reviewed by Sam Weinig.

        * fast/shadow-dom/style-resolver-sharing-expected.txt: Added.
        * fast/shadow-dom/style-resolver-sharing.html: Added.

2021-04-29  Robert Jenner  <jenner@apple.com>

        [macOS-wk2] LayoutTest/http/tests/websocket/tests/hybi/inspector/binary.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=171553

        Unreviewed test gardening.

        Removing expectation as test no longer appears flakey.

        * platform/mac-wk2/TestExpectations:

2021-04-29  Aditya Keerthi  <akeerthi@apple.com>

        REGRESSION: [iOS] 6 media/modern-media-controls/tracks-support/ tests timing out
        https://bugs.webkit.org/show_bug.cgi?id=225202
        <rdar://problem/77041631>

        Reviewed by Devin Rousso.

        The six tests modified in this patch were failing for two reasons:

        1. The media controls logic was modified to hide certain controls at
        smaller widths. To ensure the tracks button was visible, the width
        of the <video> element was increased. However, on iOS, this led to the
        tracks button being positioned outside the viewport. Consequently, any
        attempts to tap the button and wait for a context menu to show up
        would fail, causing the tests to timeout waiting for a context menu.

        To fix (1), call Element.scrollIntoViewIfNeeded before attempting to
        tap on the tracks button, ensuring it is visible in the viewport. Then,
        use window coordinates to tap at the right position. To ensure the
        viewport is actually scrollable on iOS, "useFlexibleViewport" and the
        viewport meta tag were added to failing tests.

        2. Even after fixing (1), the tests continued to timeout. Note that
        both the pressOnElement() and getTracksContextMenu() helper methods
        in "media-controls-utils.js" call into UIScriptController, and are
        called in succession in the failing tests. Both methods add callbacks
        to the test runner. However, pressOnElement() is not an async method,
        which lead to getTracksContextMenu() getting called before the tap
        actually completed. UIScriptController clears all callbacks after one
        callback completes, so when the tap callback was completed, the context
        menu callback was removed. Then, the tests get stuck waiting on the
        context menu callback to get invoked.

        To fix (2), make pressOnElement() return a promise if a continuation
        function is not provided. Then, getTracksContextMenu() can be called
        after the promise is resolved.

        * media/modern-media-controls/resources/media-controls-utils.js:
        (pressOnElement):
        * media/modern-media-controls/tracks-support/auto-text-track.html:
        * media/modern-media-controls/tracks-support/click-track-in-contextmenu.html:
        * media/modern-media-controls/tracks-support/hidden-tracks.html:
        * media/modern-media-controls/tracks-support/off-text-track.html:
        * media/modern-media-controls/tracks-support/show-contextmenu-then-double-click-on-tracks-button.html:
        * media/modern-media-controls/tracks-support/text-track-selected-via-media-api.html:

2021-04-29  Zalan Bujtas  <zalan@apple.com>

        Floating object are not removed from the initial containing block
        https://bugs.webkit.org/show_bug.cgi?id=225198
        <rdar://77236776>

        Reviewed by Antti Koivisto.

        * fast/block/fail-to-remove-float-from-initial-containing-block-expected.txt: Added.
        * fast/block/fail-to-remove-float-from-initial-containing-block.html: Added.

2021-04-29  Aditya Keerthi  <akeerthi@apple.com>

        REGRESSION: media/modern-media-controls/media-controller/ios/media-controller-ios-do-not-hide-controls-when-tapping-button.html is timing out
        https://bugs.webkit.org/show_bug.cgi?id=225163
        <rdar://problem/77041676>

        Reviewed by Devin Rousso.

        * media/modern-media-controls/media-controller/ios/media-controller-ios-do-not-hide-controls-when-tapping-button.html:

        Increase the width of the <video> element to ensure that the skip back
        button is visible. The button is no longer visible at smaller widths,
        and is unable to be tapped, causing the test to timeout.

2021-04-29  Peng Liu  <peng.liu6@apple.com>

        [GPUP] Two message loops between WebContent process and GPU process to enable/select audio/video tracks
        https://bugs.webkit.org/show_bug.cgi?id=225193

        Reviewed by Eric Carlson.

        * media/media-video-audio-track-expected.txt: Added.
        * media/media-video-audio-track.html: Added.

2021-04-29  Sam Weinig  <weinig@apple.com>

        Add support for CanvasRenderingContext2DSettings
        https://bugs.webkit.org/show_bug.cgi?id=225173

        Reviewed by Chris Dumez.

        Update test results.

        * platform/gtk/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:

2021-04-29  Rob Buis  <rbuis@igalia.com>

        Resync web-platform-tests/css/css-sizing/aspect-ratio from upstream
        https://bugs.webkit.org/show_bug.cgi?id=225182

        Reviewed by Manuel Rego Casasnovas.

        Adapt platform test expectations.

        * TestExpectations:

2021-04-29  Chris Dumez  <cdumez@apple.com>

        Improve local storage size estimation for quota limitation
        https://bugs.webkit.org/show_bug.cgi?id=225123
        <rdar://problem/77248111>

        Reviewed by Alex Christensen.

        Update tests to use unicode in the Strings so that the file reaches the quota without
        changing the test too much. The test was using ASCII and was thus able to store all
        the strings without reaching the quota due to our updated String size calculation.

        * platform/ios/ios/storage/domstorage/5mb-quota.html:
        * storage/domstorage/quota.html:

2021-04-29  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r276689, r276736, and r276737.
        https://bugs.webkit.org/show_bug.cgi?id=225188

        Broke platform/ios/ios/storage/domstorage/5mb-quota.html

        Reverted changesets:

        "Improve local storage size estimation for quota limitation"
        https://bugs.webkit.org/show_bug.cgi?id=225123
        https://trac.webkit.org/changeset/276689

        "REGRESSION(r276689): [ iOS wk2 ]
        platform/ios/ios/storage/domstorage/5mb-quota.html is a
        constant text failure"
        https://bugs.webkit.org/show_bug.cgi?id=225160
        https://trac.webkit.org/changeset/276736

        "Make sure we invalidate the iterator in StorageMap::clear()"
        https://bugs.webkit.org/show_bug.cgi?id=225164
        https://trac.webkit.org/changeset/276737

2021-04-29  Zalan Bujtas  <zalan@apple.com>

        [LFC][IFC] Incorrect middle alignment for inline boxes when line-height is present
        https://bugs.webkit.org/show_bug.cgi?id=225166
        <rdar://77272112>

        Reviewed by Simon Fraser.

        * fast/inline/incorrect-middle-alignment-with-line-height-expected.html: Added.
        * fast/inline/incorrect-middle-alignment-with-line-height.html: Added.
        * fast/inline/incorrect-middle-baseline-alignment-with-line-height-expected.html: Added.
        * fast/inline/incorrect-middle-baseline-alignment-with-line-height.html: Added.

2021-04-28  Wenson Hsieh  <wenson_hsieh@apple.com>

        [iOS] Coalesce adjacent selection geometries when rendering individual selection quads
        https://bugs.webkit.org/show_bug.cgi?id=225054

        Reviewed by Tim Horton.

        Add a new layout test to verify that adjacent selection rects rotated by the same amount can be coalesced.

        * fast/images/image-extraction/ios/coalesce-selection-rects-in-image-overlay-expected.txt: Added.
        * fast/images/image-extraction/ios/coalesce-selection-rects-in-image-overlay.html: Added.

2021-04-28  Robert Jenner  <jenner@apple.com>

        [ iOS wk2 EWS ] imported/w3c/web-platform-tests/workers/interfaces/DedicatedWorkerGlobalScope/postMessage/structured-clone-message.html is flaky crash
        https://bugs.webkit.org/show_bug.cgi?id=225169

        Unreviewed test gardening.

        * platform/ios-simulator-wk2/TestExpectations: Updating expectations to Pass Crash due to a negative impact on EWS.

2021-04-28  Cameron McCormack  <heycam@apple.com>

        Don't create custom scrollbars for fullscreen placeholders.
        https://bugs.webkit.org/show_bug.cgi?id=225141

        Reviewed by Darin Adler.

        * fullscreen/full-screen-crash-custom-scrollbars-expected.txt: Added.
        * fullscreen/full-screen-crash-custom-scrollbars.html: Added.

2021-04-28  Chris Dumez  <cdumez@apple.com>

        REGRESSION(r276689): [ iOS wk2 ] platform/ios/ios/storage/domstorage/5mb-quota.html is a constant text failure
        https://bugs.webkit.org/show_bug.cgi?id=225160
        <rdar://problem/77279334>

        Reviewed by Jonathan Bedard.

        Apply the same fix that was applied to storage/domstorage/quota.html in r276689. Use unicode characters
        in the local storage strings so that the test still fails when it expects to, despite the new more
        accurate string byte size calculation. This was using ASCII characters so it was not really reaching the
        5MB quota.

        * platform/ios/ios/storage/domstorage/5mb-quota.html:

2021-04-28  Chris Gambrell  <cgambrell@apple.com>

        [ Win ] 4 http/tests/security/contentSecurityPolicy/ tests are failing
        https://bugs.webkit.org/show_bug.cgi?id=225071
        <rdar://problem/77172923>

        Reviewed by Jonathan Bedard.

        * http/tests/resources/redirect.py:
        (add_cache_control):
        (addCacheControl): Deleted.

2021-04-28  Wenson Hsieh  <wenson_hsieh@apple.com>

        Fine-tune some more selection behaviors in image overlays
        https://bugs.webkit.org/show_bug.cgi?id=225121

        Reviewed by Tim Horton.

        Add a new layout test to verify that text selection expands to contain all text underneath selected text
        containers.

        * fast/images/image-extraction/mac/select-image-overlay-with-mouse-drag-2-expected.html: Added.
        * fast/images/image-extraction/mac/select-image-overlay-with-mouse-drag-2.html: Added.

2021-04-28  Youenn Fablet  <youenn@apple.com>

        Set audio transceiver nMax to 1
        https://bugs.webkit.org/show_bug.cgi?id=225149
        <rdar://75956639>

        Reviewed by Alex Christensen.

        * webrtc/audio-addTransceiver-expected.txt: Added.
        * webrtc/audio-addTransceiver.html: Added.

2021-04-28  Tim Nguyen  <ntim@apple.com>

        Use will-change: opacity instead of will-change: transform in fixed-inside-sticky-no-stacking-context-2.html
        https://bugs.webkit.org/show_bug.cgi?id=224910

        Reviewed by Antti Koivisto.

        will-change: transform creates a containing block per-spec, which would affect this test, so we use a property
        that can create a stacking context, but not a containing block (will-change: opacity).

        * platform/ios-simulator-wk2/TestExpectations:
        * scrollingcoordinator/ios/fixed-inside-sticky-no-stacking-context-2.html:
        * scrollingcoordinator/ios/fixed-inside-sticky-no-stacking-context-2-expected.html:

2021-04-28  Manuel Rego Casasnovas  <rego@igalia.com>

        [selectors] Using a modifier key on an element makes it stop matching :focus-visible
        https://bugs.webkit.org/show_bug.cgi?id=225075

        Reviewed by Ryosuke Niwa.

        * platform/ios/TestExpectations: Skip new test.

2021-04-28  Cameron McCormack  <heycam@apple.com>

        Fix some test typos.
        https://bugs.webkit.org/show_bug.cgi?id=225040

        Reviewed by Ryosuke Niwa.

        * http/tests/canvas/color-fonts/ctm-sbix-2.html:
        * http/tests/canvas/color-fonts/ctm-sbix-3.html:
        * http/tests/canvas/color-fonts/ctm-sbix-4.html:
        * http/tests/canvas/color-fonts/ctm-sbix.html:
        * http/tests/canvas/color-fonts/fill-color-sbix-2.html:
        * http/tests/canvas/color-fonts/fill-color-sbix-3.html:
        * http/tests/canvas/color-fonts/fill-color-sbix-4.html:
        * http/tests/canvas/color-fonts/fill-color-sbix.html:
        * http/tests/canvas/color-fonts/fill-color-shadow-ctm-sbix-expected.html:
        * http/tests/canvas/color-fonts/fill-color-shadow-ctm-sbix.html:
        * http/tests/canvas/color-fonts/fill-color-shadow-sbix-expected.html:
        * http/tests/canvas/color-fonts/fill-color-shadow-sbix.html:
        * http/tests/canvas/color-fonts/fill-gradient-sbix-2.html:
        * http/tests/canvas/color-fonts/fill-gradient-sbix-3.html:
        * http/tests/canvas/color-fonts/fill-gradient-sbix-4.html:
        * http/tests/canvas/color-fonts/fill-gradient-sbix.html:
        * http/tests/canvas/color-fonts/linedash-sbix-expected.html:
        * http/tests/canvas/color-fonts/linedash-sbix.html:
        * http/tests/canvas/color-fonts/stroke-color-sbix-expected.html:
        * http/tests/canvas/color-fonts/stroke-color-sbix.html:
        * http/tests/canvas/color-fonts/stroke-color-shadow-ctm-sbix-expected.html:
        * http/tests/canvas/color-fonts/stroke-color-shadow-ctm-sbix.html:
        * http/tests/canvas/color-fonts/stroke-color-shadow-sbix-expected.html:
        * http/tests/canvas/color-fonts/stroke-color-shadow-sbix.html:
        * http/tests/canvas/color-fonts/stroke-gradient-sbix-2.html:
        * http/tests/canvas/color-fonts/stroke-gradient-sbix-3.html:
        * http/tests/canvas/color-fonts/stroke-gradient-sbix-4.html:
        * http/tests/canvas/color-fonts/stroke-gradient-sbix.html:
        * http/tests/canvas/color-fonts/text-sbix-2.html:
        * http/tests/canvas/color-fonts/text-sbix-3.html:
        * http/tests/canvas/color-fonts/text-sbix-4.html:
        * http/tests/canvas/color-fonts/text-sbix.html:

2021-04-27  Sergio Villar Senin  <svillar@igalia.com>

        [css-flexbox] Fix expectations of a WPT test that works fine
        https://bugs.webkit.org/show_bug.cgi?id=225097

        Reviewed by Manuel Rego Casasnovas.

        * TestExpectations: Unskipped a test that works fine now.

2021-04-27  Chris Dumez  <cdumez@apple.com>

        Improve local storage size estimation for quota limitation
        https://bugs.webkit.org/show_bug.cgi?id=225123

        Reviewed by Alex Christensen.

        Update test to use unicode in the Strings so that the file reaches the quota without
        changing the test too much. The test was using ASCII and was thus able to store all
        the strings without reaching the quota due to our updated String size calculation.

        * storage/domstorage/quota.html:

2021-04-27  Wenson Hsieh  <wenson_hsieh@apple.com>

        [iOS] Web content process occasionally crashes under VisibleSelection::adjustPositionForEnd
        https://bugs.webkit.org/show_bug.cgi?id=225072
        rdar://77159489

        Reviewed by Darin Adler.

        Add a layout test that programmatically clears the selection in the middle of changing it by moving selection
        handles.

        * editing/selection/ios/clear-selection-while-moving-selection-handles-expected.txt: Added.
        * editing/selection/ios/clear-selection-while-moving-selection-handles.html: Added.

2021-04-27  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening. fast/replaced/pdf-as-embed-with-no-mime-type-is-not-blank.html is failing after r276635.

        * platform/glib/TestExpectations:

2021-04-27  Patrick Angle  <pangle@apple.com>

        Web Inspector: Default Audits script are minified in release builds
        https://bugs.webkit.org/show_bug.cgi?id=225009

        Reviewed by BJ Burg.

        Added test to check that whitespace is preserved in default audits.

        * inspector/audit/non-minified-default-audits-expected.txt: Added.
        * inspector/audit/non-minified-default-audits.html: Added.

2021-04-27  Alex Christensen  <achristensen@webkit.org>

        charset in contentType used in Blob.prototype.slice(start, end, contentType) is lost
        https://bugs.webkit.org/show_bug.cgi?id=225057

        Reviewed by Chris Dumez.

        * fast/files/blob-content-type-expected.txt: Added.
        * fast/files/blob-content-type.html: Added.

2021-04-27  Aditya Keerthi  <akeerthi@apple.com>

        REGRESSION (r273154): fast/forms/ios/scroll-to-reveal-focused-select.html is timing out
        https://bugs.webkit.org/show_bug.cgi?id=225122
        <rdar://problem/77041996>

        Reviewed by Wenson Hsieh.

        * fast/forms/ios/scroll-to-reveal-focused-select.html:

        Updated the test to account for the fact that <select> options are no
        longer displayed as a keyboard input view.

2021-04-27  Alexey Shvayka  <shvaikalesh@gmail.com>

        [JSC] Remove defaultValue() from the method table
        https://bugs.webkit.org/show_bug.cgi?id=225032

        Reviewed by Darin Adler.

        * platform/mac/fast/dom/objc-wrapper-toprimitive-expected.txt: Added.
        * platform/mac/fast/dom/objc-wrapper-toprimitive.html: Added.
        * platform/wk2/TestExpectations:
        * plugins/npruntime/tostring-expected.txt:
        * plugins/npruntime/tostring.html:
        * plugins/npruntime/valueof-expected.txt:
        * plugins/npruntime/valueof.html:

2021-04-27  Aditya Keerthi  <akeerthi@apple.com>

        [iOS][FCR] Add borders for better control visibility
        https://bugs.webkit.org/show_bug.cgi?id=225058
        <rdar://problem/77161616>

        Reviewed by Sam Weinig.

        Rebaselined tests to account for changes in appearance.

        * accessibility/ios-simulator/unobscured-content-rect-expected.txt:
        * accessibility/ios-simulator/unobscured-content-rect.html:
        * editing/editable-region/search-field-basic-expected.txt:
        * fast/forms/date/date-input-rendering-basic-expected.txt:
        * fast/forms/date/date-pseudo-elements-expected.txt:
        * fast/forms/ios/form-control-refresh/checkbox/border.html:

        Specify a border style, so that the border applies. Note that this test
        is currently failing on internal bots.

        * fast/forms/ios/form-control-refresh/checkbox/subpixel-clipping-expected-mismatch.html:
        * fast/forms/ios/form-control-refresh/checkbox/subpixel-clipping.html:

        Add a green background so that the (white) border is visible.

        * fast/forms/ios/form-control-refresh/radio/border.html:
        * fast/forms/ios/form-control-refresh/radio/subpixel-clipping-expected-mismatch.html:
        * fast/forms/ios/form-control-refresh/radio/subpixel-clipping.html:
        * fast/forms/time/time-input-rendering-basic-expected.txt:
        * platform/ios-simulator/fast/forms/datalist/datalist-searchinput-appearance-expected.txt:
        * platform/ios-wk2/compositing/contents-opaque/control-layer-expected.txt:
        * platform/ios-wk2/editing/pasteboard/4641033-expected.txt:
        * platform/ios-wk2/editing/pasteboard/4944770-1-expected.txt:
        * platform/ios-wk2/editing/pasteboard/4944770-2-expected.txt:
        * platform/ios-wk2/editing/selection/caret-before-select-expected.txt:
        * platform/ios-wk2/fast/block/margin-collapse/103-expected.txt:
        * platform/ios-wk2/fast/forms/basic-buttons-expected.txt:
        * platform/ios-wk2/fast/forms/targeted-frame-submission-expected.txt:
        * platform/ios-wk2/fast/overflow/scroll-nested-positioned-layer-in-overflow-expected.txt:
        * platform/ios-wk2/fast/overflow/scrollRevealButton-expected.txt:
        * platform/ios-wk2/fast/parser/document-write-option-expected.txt:
        * platform/ios-wk2/fast/spatial-navigation/snav-multiple-select-focusring-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/css-pseudo/file-chooser-button-display-toggle-crash.tentative-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/rendering/widgets/baseline-alignment-and-overflow.tentative-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/rendering/widgets/button-layout/abspos-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/rendering/widgets/select-wrap-no-spill.optional-expected.txt:
        * platform/ios/css2.1/20110323/replaced-elements-001-expected.txt:
        * platform/ios/css3/flexbox/button-expected.txt:
        * platform/ios/editing/selection/3690703-2-expected.txt:
        * platform/ios/editing/selection/3690703-expected.txt:
        * platform/ios/editing/selection/3690719-expected.txt:
        * platform/ios/editing/selection/4397952-expected.txt:
        * platform/ios/editing/selection/5240265-expected.txt:
        * platform/ios/editing/selection/replaced-boundaries-3-expected.txt:
        * platform/ios/editing/selection/select-box-expected.txt:
        * platform/ios/editing/selection/select-element-paragraph-boundary-expected.txt:
        * platform/ios/editing/selection/selection-button-text-expected.txt:
        * platform/ios/fast/block/float/float-avoidance-expected.txt:
        * platform/ios/fast/block/positioning/inline-block-relposition-expected.txt:
        * platform/ios/fast/css/continuationCrash-expected.txt:
        * platform/ios/fast/css/focus-ring-exists-for-search-field-expected.txt:
        * platform/ios/fast/css/input-search-padding-expected.txt:
        * platform/ios/fast/css/margin-top-bottom-dynamic-expected.txt:
        * platform/ios/fast/css/rtl-ordering-expected.txt:
        * platform/ios/fast/css/text-input-with-webkit-border-radius-expected.txt:
        * platform/ios/fast/css/text-overflow-input-expected.txt:
        * platform/ios/fast/css/text-transform-select-expected.txt:
        * platform/ios/fast/dom/HTMLTableColElement/resize-table-using-col-width-expected.txt:
        * platform/ios/fast/dom/HTMLTextAreaElement/reset-textarea-expected.txt:
        * platform/ios/fast/dynamic/positioned-movement-with-positioned-children-expected.txt:
        * platform/ios/fast/forms/001-expected.txt:
        * platform/ios/fast/forms/003-expected.txt:
        * platform/ios/fast/forms/004-expected.txt:
        * platform/ios/fast/forms/basic-selects-expected.txt:
        * platform/ios/fast/forms/blankbuttons-expected.txt:
        * platform/ios/fast/forms/box-shadow-override-expected.txt:
        * platform/ios/fast/forms/button-align-expected.txt:
        * platform/ios/fast/forms/button-cannot-be-nested-expected.txt:
        * platform/ios/fast/forms/button-default-title-expected.txt:
        * platform/ios/fast/forms/button-generated-content-expected.txt:
        * platform/ios/fast/forms/button-positioned-expected.txt:
        * platform/ios/fast/forms/button-sizes-expected.txt:
        * platform/ios/fast/forms/button-style-color-expected.txt:
        * platform/ios/fast/forms/button-table-styles-expected.txt:
        * platform/ios/fast/forms/button-text-transform-expected.txt:
        * platform/ios/fast/forms/button-white-space-expected.txt:
        * platform/ios/fast/forms/control-clip-expected.txt:
        * platform/ios/fast/forms/control-clip-overflow-expected.txt:
        * platform/ios/fast/forms/control-restrict-line-height-expected.txt:
        * platform/ios/fast/forms/disabled-select-change-index-expected.txt:
        * platform/ios/fast/forms/file/file-input-direction-expected.txt:
        * platform/ios/fast/forms/file/file-input-disabled-expected.txt:
        * platform/ios/fast/forms/form-element-geometry-expected.txt:
        * platform/ios/fast/forms/formmove3-expected.txt:
        * platform/ios/fast/forms/hidden-listbox-expected.txt:
        * platform/ios/fast/forms/input-appearance-height-expected.txt:
        * platform/ios/fast/forms/input-button-sizes-expected.txt:
        * platform/ios/fast/forms/input-first-letter-expected.txt:
        * platform/ios/fast/forms/input-value-expected.txt:
        * platform/ios/fast/forms/listbox-bidi-align-expected.txt:
        * platform/ios/fast/forms/listbox-scrollbar-incremental-load-expected.txt:
        * platform/ios/fast/forms/listbox-width-change-expected.txt:
        * platform/ios/fast/forms/menulist-clip-expected.txt:
        * platform/ios/fast/forms/menulist-deselect-update-expected.txt:
        * platform/ios/fast/forms/menulist-narrow-width-expected.txt:
        * platform/ios/fast/forms/menulist-no-overflow-expected.txt:
        * platform/ios/fast/forms/menulist-option-wrap-expected.txt:
        * platform/ios/fast/forms/menulist-restrict-line-height-expected.txt:
        * platform/ios/fast/forms/menulist-separator-painting-expected.txt:
        * platform/ios/fast/forms/menulist-style-color-expected.txt:
        * platform/ios/fast/forms/menulist-width-change-expected.txt:
        * platform/ios/fast/forms/option-script-expected.txt:
        * platform/ios/fast/forms/option-strip-whitespace-expected.txt:
        * platform/ios/fast/forms/option-text-clip-expected.txt:
        * platform/ios/fast/forms/placeholder-pseudo-style-expected.txt:
        * platform/ios/fast/forms/search-cancel-button-style-sharing-expected.txt:
        * platform/ios/fast/forms/search-display-none-cancel-button-expected.txt:
        * platform/ios/fast/forms/search-input-rtl-expected.txt:
        * platform/ios/fast/forms/search/search-zoom-computed-style-height-expected.txt:
        * platform/ios/fast/forms/select-align-expected.txt:
        * platform/ios/fast/forms/select-background-none-expected.txt:
        * platform/ios/fast/forms/select-baseline-expected.txt:
        * platform/ios/fast/forms/select-block-background-expected.txt:
        * platform/ios/fast/forms/select-change-listbox-size-expected.txt:
        * platform/ios/fast/forms/select-change-listbox-to-popup-expected.txt:
        * platform/ios/fast/forms/select-change-popup-to-listbox-expected.txt:
        * platform/ios/fast/forms/select-dirty-parent-pref-widths-expected.txt:
        * platform/ios/fast/forms/select-disabled-appearance-expected.txt:
        * platform/ios/fast/forms/select-element-focus-ring-expected.txt:
        * platform/ios/fast/forms/select-empty-option-height-expected.txt:
        * platform/ios/fast/forms/select-initial-position-expected.txt:
        * platform/ios/fast/forms/select-list-box-with-height-expected.txt:
        * platform/ios/fast/forms/select-selected-expected.txt:
        * platform/ios/fast/forms/select-style-expected.txt:
        * platform/ios/fast/forms/select-visual-hebrew-expected.txt:
        * platform/ios/fast/forms/select-writing-direction-natural-expected.txt:
        * platform/ios/fast/forms/select/optgroup-rendering-expected.txt:
        * platform/ios/fast/forms/selectlist-minsize-expected.txt:
        * platform/ios/fast/forms/stuff-on-my-optgroup-expected.txt:
        * platform/ios/fast/html/details-replace-summary-child-expected.txt:
        * platform/ios/fast/html/details-replace-text-expected.txt:
        * platform/ios/fast/html/keygen-expected.txt:
        * platform/ios/fast/invalid/014-expected.txt:
        * platform/ios/fast/replaced/replaced-breaking-expected.txt:
        * platform/ios/fast/replaced/replaced-breaking-mixture-expected.txt:
        * platform/ios/fast/replaced/three-selects-break-expected.txt:
        * platform/ios/fast/replaced/width100percent-button-expected.txt:
        * platform/ios/fast/replaced/width100percent-menulist-expected.txt:
        * platform/ios/fast/replaced/width100percent-searchfield-expected.txt:
        * platform/ios/fast/selectors/064-expected.txt:
        * platform/ios/fast/table/append-cells2-expected.txt:
        * platform/ios/fast/table/remove-td-display-none-expected.txt:
        * platform/ios/fast/text/drawBidiText-expected.txt:
        * platform/ios/fast/text/international/bidi-listbox-atsui-expected.txt:
        * platform/ios/fast/text/international/bidi-listbox-expected.txt:
        * platform/ios/fast/text/international/bidi-menulist-expected.txt:
        * platform/ios/fast/text/international/hindi-spacing-expected.txt:
        * platform/ios/fast/text/international/pop-up-button-text-alignment-and-direction-expected.txt:
        * platform/ios/svg/custom/foreign-object-skew-expected.txt:
        * platform/ios/svg/custom/inline-svg-in-xhtml-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug1188-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug1318-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug138725-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug18359-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug2479-2-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug2479-3-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug2479-4-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug26178-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug28928-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug29326-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug33855-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug39209-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug4382-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug4429-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug44505-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug46368-1-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug46368-2-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug51037-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug51727-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug52505-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug52506-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug60749-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug68912-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug7342-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug92647-2-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug96334-expected.txt:
        * platform/ios/tables/mozilla/collapsing_borders/bug41262-4-expected.txt:
        * platform/ios/tables/mozilla/core/margins-expected.txt:
        * platform/ios/tables/mozilla/dom/tableDom-expected.txt:
        * platform/ios/tables/mozilla/other/move_row-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/bugs/bug1725-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/bugs/bug2479-5-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/bugs/bug58402-2-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/collapsing_borders/bug41262-5-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/collapsing_borders/bug41262-6-expected.txt:
        * platform/ios/transforms/2d/zoom-menulist-expected.txt:

2021-04-27  Wenson Hsieh  <wenson_hsieh@apple.com>

        fast/events/ios/dragstart-on-image-by-long-pressing.html sometimes fails with a text diff
        https://bugs.webkit.org/show_bug.cgi?id=225107
        rdar://77048635

        Reviewed by Darin Adler.

        For some reason, when running this layout test in a newly created simulator, the drag cancel preview animation
        will finish animating *just* before the "dragend" event is dispatched, which causes the test to fail with a text
        diff due to the missing `PASS Ended drag` output.

        Address this by making the test robust in both cases (where the animation ends before the page receives
        "dragend" and vice versa) by only finishing the test when we've met both conditions.

        * fast/events/ios/dragstart-on-image-by-long-pressing-expected.txt:
        * fast/events/ios/dragstart-on-image-by-long-pressing.html:

2021-04-27  Zalan Bujtas  <zalan@apple.com>

        [RenderTreeBuilder] ASSERTION FAILED: ancestor->style().columnSpan() != ColumnSpan::All || !isValidColumnSpanner(fragmentedFlow, *ancestor) in WebCore::isValidColumnSpanner
        https://bugs.webkit.org/show_bug.cgi?id=225078
        <rdar://76127681>

        Reviewed by Antti Koivisto.

        * fast/multicol/nested-spanner-assert-expected.txt: Added.
        * fast/multicol/nested-spanner-assert.html: Added.

2021-04-21  Sergio Villar Senin  <svillar@igalia.com>

        [css-flexbox] percent children don't resolve against the flex basis on a fully inflexible item with fixed flex-basis
        https://bugs.webkit.org/show_bug.cgi?id=210478

        Reviewed by Darin Adler.

        * TestExpectations: Unskipped a couple of tests that are passing now.

2021-04-27  Rob Buis  <rbuis@igalia.com>

        Check globalObject for null
        https://bugs.webkit.org/show_bug.cgi?id=223793

        Reviewed by Youenn Fablet.

        * http/tests/webrtc/sframe-transform-write-expected.txt: Added.
        * http/tests/webrtc/sframe-transform-write.html: Added.

2021-04-27  Frédéric Wang  <fwang@igalia.com>

        [MathML] Assertion failure in RenderTreeNeedsLayoutChecker
        https://bugs.webkit.org/show_bug.cgi?id=224903

        Reviewed by Alan Bujtas.

        Add regression test with all vertical embellished operators (other than <mo>) supported
        by WebKit.

        * mathml/vertical-embellished-op-dirty-layout-expected.txt: Added.
        * mathml/vertical-embellished-op-dirty-layout.html: Added.

2021-04-26  Rob Buis  <rbuis@igalia.com>

        Remove rounding logic in RenderGeometryMap::mapContainer
        https://bugs.webkit.org/show_bug.cgi?id=218577

        Reviewed by Simon Fraser.

        Add test for this.

        * fast/layers/geometry-map-accumulated-offset-assert-expected.txt: Added.
        * fast/layers/geometry-map-accumulated-offset-assert.html: Added.

2021-04-26  Manuel Rego Casasnovas  <rego@igalia.com>

        REGRESSION (r276264): Reproducible crash in WebCore::UserActionElementSet::clearFlags
        https://bugs.webkit.org/show_bug.cgi?id=224957

        Reviewed by Ryosuke Niwa.

        * fast/selectors/focus-visible-crash-expected.txt: Added.
        * fast/selectors/focus-visible-crash.html: Added.

2021-04-26  Tim Nguyen  <ntim@apple.com>

        Create a containing block when relevant properties are set in the current element will-change
        https://bugs.webkit.org/show_bug.cgi?id=167868

        Reviewed by Alan Bujtas.

        Per spec, any CSS property that is susceptible to create a containing block should create one when put on the
        current element's will-change.

        Relevant WPT are enabled.

        Test: fast/css/will-change/will-change-creates-containing-block.html

        * TestExpectations:
        * fast/css/will-change/will-change-creates-containing-block-expected.html: Added.
        * fast/css/will-change/will-change-creates-containing-block.html: Added.

2021-04-26  Wenson Hsieh  <wenson_hsieh@apple.com>

        Subdivide image overlay text into one or more elements per line
        https://bugs.webkit.org/show_bug.cgi?id=225038
        rdar://75505043

        Reviewed by Tim Horton and Devin Rousso.

        Adjust several existing layout tests after changing `internals.installImageOverlay`. See WebCore ChangeLog for
        more details.

        * fast/images/image-extraction/basic-image-overlay.html:
        * fast/images/image-extraction/click-link-with-image-overlay.html:
        * fast/images/image-extraction/image-overlay-creation-is-idempotent.html:
        * fast/images/image-extraction/image-overlay-in-image-with-zero-font-size.html:
        * fast/images/image-extraction/image-overlay-with-selection-styles-expected.html:
        * fast/images/image-extraction/image-overlay-with-selection-styles.html:
        * fast/images/image-extraction/ios/reselect-word-in-image-overlay.html:
        * fast/images/image-extraction/ios/select-word-in-image-overlay-inside-link.html:
        * fast/images/image-extraction/ios/select-word-in-image-overlay.html:
        * fast/images/image-extraction/ios/selection-rects-in-image-overlay.html:
        * fast/images/image-extraction/mac/copy-image-overlay-text-with-context-menu.html:
        * fast/images/image-extraction/mac/select-image-overlay-in-link-with-mouse-drag.html:
        * fast/images/image-extraction/mac/select-image-overlay-with-mouse-drag-does-not-fire-click.html:
        * fast/images/image-extraction/mac/select-image-overlay-with-mouse-drag.html:
        * fast/images/image-extraction/mac/select-word-in-draggable-image-overlay.html:
        * fast/images/image-extraction/mac/select-word-in-transparent-image-overlay.html:

2021-04-26  ChangSeok Oh  <changseok@webkit.org>

        Enable AVIF tests for glib platforms
        https://bugs.webkit.org/show_bug.cgi?id=225039

        Reviewed by Philippe Normand.

        This change enables avif tests for glib based platforms.

        * platform/glib/TestExpectations:

2021-04-26  Zalan Bujtas  <zalan@apple.com>

        [ Win ] fast/text/line-break-with-locale.html is failing on Windows
        https://bugs.webkit.org/show_bug.cgi?id=225074
        <rdar://problem/77174542>

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-04-26  Aditya Keerthi  <akeerthi@apple.com>

        REGRESSION: fast/forms/ios/ipad/open-picker-using-keyboard.html is timing out
        https://bugs.webkit.org/show_bug.cgi?id=225053
        <rdar://problem/77042251>

        Reviewed by Wenson Hsieh.

        Update the test to account for the fact that <select> elements now
        present a context menu rather than a popover.

        * fast/forms/ios/ipad/open-picker-using-keyboard-expected.txt:
        * fast/forms/ios/ipad/open-picker-using-keyboard.html:

2021-04-26  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] Convert http/tests/resources convert PHP to Python
        https://bugs.webkit.org/show_bug.cgi?id=224622
        <rdar://problem/76727052>

        Reviewed by Jonathan Bedard.

        * http/tests/appcache/fallback.html:
        * http/tests/appcache/main-resource-fallback-for-network-error-crash.html:
        * http/tests/appcache/main-resource-hash.html:
        * http/tests/appcache/main-resource-redirect.html:
        * http/tests/appcache/multi-fallback.html:
        * http/tests/appcache/non-html.xhtml:
        * http/tests/appcache/offline-access.html:
        * http/tests/appcache/remove-cache.html:
        * http/tests/appcache/resources/fail-on-update-2.py:
        * http/tests/appcache/resources/fail-on-update.py:
        * http/tests/appcache/resources/fallback.manifest:
        * http/tests/appcache/resources/main-resource-redirect-frame.py:
        * http/tests/appcache/resources/main-resource-redirect.manifest:
        * http/tests/appcache/resources/multi-fallback.manifest:
        * http/tests/appcache/resources/non-html.manifest:
        * http/tests/appcache/resources/offline-access-frame.html:
        * http/tests/appcache/resources/offline-access.js:
        (test):
        * http/tests/appcache/resources/offline-access.manifest:
        * http/tests/appcache/resources/remove-cache.py:
        * http/tests/cache/network-error-during-revalidation.html:
        * http/tests/cache/resources/network-error-during-revalidation-frame.html:
        * http/tests/cache/subresource-fragment-identifier.html:
        * http/tests/cookies/same-site/fetch-after-navigating-iframe-in-cross-origin-page.html:
        * http/tests/cookies/same-site/fetch-after-top-level-navigation-initiated-from-iframe-in-cross-origin-page.html:
        * http/tests/cookies/same-site/fetch-in-cross-origin-iframe.html:
        * http/tests/css/border-image-loading.html:
        * http/tests/css/css-image-loading.html:
        * http/tests/css/css-image-valued-shape.html:
        * http/tests/css/font-face-src-loading.html:
        * http/tests/css/mask-image-loading.html:
        * http/tests/css/reflection-mask-image-loading.html:
        * http/tests/css/resources/request-logging.js:
        (ResourceLogging.CallCommand):
        * http/tests/css/vertical-align-baseline-after-image-load-2-expected.html:
        * http/tests/css/vertical-align-baseline-after-image-load-2.html:
        * http/tests/css/vertical-align-baseline-after-image-load-3-expected.html:
        * http/tests/css/vertical-align-baseline-after-image-load-3.html:
        * http/tests/css/vertical-align-baseline-after-image-load-expected.html:
        * http/tests/css/vertical-align-baseline-after-image-load.html:
        * http/tests/fetch/clone-response-body.html:
        * http/tests/fetch/closing-while-fetching.html:
        * http/tests/fetch/fetch-cors-with-referrer.html:
        * http/tests/fetch/fetching-same-resource-with-different-options-expected.txt:
        * http/tests/fetch/fetching-same-resource-with-different-options.html:
        * http/tests/fetch/get-response-body-while-loading.html:
        * http/tests/images/decode-slow-load-static-image.html:
        * http/tests/images/draw-pattern-slow-load-large-image.html:
        * http/tests/images/gif-progressive-load.html:
        * http/tests/images/image-supports-video.html:
        * http/tests/images/jpeg-partial-load.html:
        * http/tests/images/loading-image-border.html:
        * http/tests/images/loading-image-no-border.html:
        * http/tests/images/mp4-partial-load.html:
        * http/tests/images/png-partial-load-no-alpha.html:
        * http/tests/images/png-partial-load.html:
        * http/tests/images/png-progressive-load.html:
        * http/tests/images/webp-partial-load.html:
        * http/tests/images/webp-progressive-load.html:
        * http/tests/loading/preload-img-test.html:
        * http/tests/local/fileapi/file-last-modified-using-open-panel.html:
        * http/tests/local/fileapi/file-last-modified.html:
        * http/tests/local/fileapi/resources/temp-file-utils.js:
        (createTempFile):
        (touchTempFile):
        (removeTempFile):
        * http/tests/local/link-stylesheet-load-order-preload.html:
        * http/tests/local/link-stylesheet-load-order.html:
        * http/tests/media/track/track-webvtt-slow-loading-2.html:
        * http/tests/media/track/track-webvtt-slow-loading.html:
        * http/tests/misc/repeat-open-cancel.html:
        * http/tests/navigation/pending-location-change-assert.html:
        * http/tests/preload/delaying_onload_link_preload_after_discovery_image.html:
        * http/tests/preload/dynamic_remove_preload_href.html:
        * http/tests/preload/not_delaying_window_onload_before_discovery.html:
        * http/tests/preload/not_evicting_preload_at_onload.html:
        * http/tests/resources/basic-auth.php: Removed.
        * http/tests/resources/digest-auth: Removed.
        * http/tests/resources/download-json-with-delay.php: Removed.
        * http/tests/resources/download-json-with-delay.py: Added.
        * http/tests/resources/echo-iframe-src.php: Removed.
        * http/tests/resources/echo-iframe-src.py: Added.
        * http/tests/resources/file-last-modified.php: Removed.
        * http/tests/resources/file-last-modified.py: Added.
        * http/tests/resources/load-and-stall.php: Removed.
        * http/tests/resources/load-and-stall.py: Added.
        * http/tests/resources/network-simulator.php: Removed.
        * http/tests/resources/network-simulator.py: Added.
        (temp_path_base):
        (generate_no_cache_http_header):
        (content_type):
        (generate_response):
        (handle_increate_resource_count_command):
        (handle_reset_resource_count_command):
        (handle_get_resource_count_command):
        (handle_start_resource_requests_log):
        (handle_get_resource_requests_log):
        (handle_log_resource_request):
        * http/tests/resources/portabilityLayer.py:
        (set_state):
        * http/tests/resources/redirect-to-video-if-accepted.php: Removed.
        * http/tests/resources/redirect-to-video-if-accepted.py: Added.
        * http/tests/resources/reset-temp-file.php: Removed.
        * http/tests/resources/reset-temp-file.py:
        * http/tests/resources/slow-image.php: Removed.
        * http/tests/resources/slow-image.py: Added.
        * http/tests/resources/slow-notify-done.php: Removed.
        * http/tests/resources/slow-notify-done.py: Added.
        * http/tests/resources/touch-temp-file.php: Removed.
        * http/tests/resources/touch-temp-file.py:
        * http/tests/resources/write-temp-file.php: Removed.
        * http/tests/resources/write-temp-file.py:
        * http/tests/security/XFrameOptions/x-frame-options-ancestors-same-origin-allow.html:
        * http/tests/security/resources/allow-if-origin.py:
        * http/tests/swipe/swipe-back-with-outstanding-load-cancellation.html:
        * http/tests/xmlhttprequest/resources/access-control-basic-preflight-cache-invalidation.py:
        * http/tests/xmlhttprequest/resources/access-control-basic-preflight-cache-timeout.py:
        * http/tests/xmlhttprequest/resources/access-control-basic-preflight-cache.py:
        * http/tests/xmlhttprequest/resources/access-control-preflight-denied-xsrf.py:
        * http/tests/xmlhttprequest/resources/no-custom-header.py:
        * http/tests/xmlhttprequest/resources/redirect-cross-origin-tripmine.py:
        * http/tests/xmlhttprequest/resources/remember-bad-password/count-failures.py:
        * http/tests/xmlhttprequest/state-after-network-error.html:

2021-04-26  Aditya Keerthi  <akeerthi@apple.com>

        REGRESSION (r271861): [iOS] Accessory bar navigation to elements outside the viewport fails
        https://bugs.webkit.org/show_bug.cgi?id=224980
        <rdar://problem/77042311>

        Reviewed by Wenson Hsieh.

        * fast/forms/ios/accessory-bar-navigation.html:

        Increase the space between input elements, so that the second input is
        positioned out of the viewport on larger devices.

2021-04-26  Alexey Shvayka  <shvaikalesh@gmail.com>

        [JSC] OrdinarySet should invoke custom [[Set]] methods
        https://bugs.webkit.org/show_bug.cgi?id=217916

        Reviewed by Yusuke Suzuki.

        * http/tests/security/cross-frame-access-object-getPrototypeOf-in-put-expected.txt:
        * http/tests/security/cross-frame-access-object-getPrototypeOf-in-put.html:
        * js/dom/reflect-set-onto-dom-expected.txt:
        * js/dom/script-tests/reflect-set-onto-dom.js:

2021-04-26  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening. Emit new GLIB baselines after r276584.

        * platform/glib/imported/w3c/web-platform-tests/shadow-dom/event-on-pseudo-element-crash-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/shadow-dom/imperative-slot-api-crash-expected.txt: Added.

2021-04-26  Enrique Ocaña González  <eocanha@igalia.com>

        [GStreamer] media/track/in-band/ layout tests introduced in r154908 are failing
        https://bugs.webkit.org/show_bug.cgi?id=120665

        Reviewed by Philippe Normand.

        Removed track-in-band-mpegts-metadata.html because it relies on private streams on mpegts
        and those won't ever be exposed by tsdemux. Made testCuesAddedOnce() test more robust
        when finding text tracks.

        * media/content/user-private-streams.ts: Removed.
        * media/in-band-tracks.js:
        (pollProgress): Make sure that the function repeated at intervals is properly stopped in all the cases.
        (canplaythrough): More robust track detection.
        (testCuesAddedOnce): Ditto.
        * media/track/in-band/track-in-band-mpegts-metadata.html: Removed.
        * platform/glib/TestExpectations: Unskip media/track/in-band tests.

2021-04-25  Ryosuke Niwa  <rniwa@webkit.org>

        Resync WPT shadow DOM tests as of 02f0cc10
        https://bugs.webkit.org/show_bug.cgi?id=225042

        Reviewed by Antti Koivisto.

        Rebaselined the test and added platform specific results for the crash tests.

        * platform/ios/imported/w3c/web-platform-tests/shadow-dom/imperative-slot-api-crash-expected.txt: Added.
        * platform/ios/imported/w3c/web-platform-tests/shadow-dom/event-on-pseudo-element-crash-expected.txt: Added.
        * platform/mac/imported/w3c/web-platform-tests/shadow-dom/event-on-pseudo-element-crash-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/shadow-dom/nested-slot-remove-crash-expected.txt: Rebaselined.

2021-04-26  Carlos Garcia Campos  <cgarcia@igalia.com>

        embed element with the src attribute set prevents WebKitTestRunner from exiting
        https://bugs.webkit.org/show_bug.cgi?id=223791

        Reviewed by Ryosuke Niwa.

        Add new test.

        * fast/images/embed-image-onload-src-change-expected.txt: Added.
        * fast/images/embed-image-onload-src-change.html: Added.

2021-04-25  Ryosuke Niwa  <rniwa@webkit.org>

        Unreviewesd EWS fixes.

        Skip http/tests/security/referrer-policy-header-multipart.html on WebKit1
        after r276526 split it out of http/tests/security/referrer-policy-header.html

        * platform/mac-wk1/TestExpectations:
        * platform/win/TestExpectations:
        * platform/wincairo/TestExpectations:

2021-04-25  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo/TestExpectations:

2021-04-25  ChangSeok Oh  <changseok@webkit.org>

        Fix a crash caused by AVIF decoding failure
        https://bugs.webkit.org/show_bug.cgi?id=223843
        <rdar://problem/76205084>

        Reviewed by Philippe Normand.

        Check if partial load of avif images crashes.

        * TestExpectations: Skip the test for non-gtk platforms.
        * http/tests/images/avif-partial-load-crash-expected.txt: Added.
        * http/tests/images/avif-partial-load-crash.html: Added.

2021-04-25  Felipe Erias  <felipeerias@igalia.com>

        [css-flexbox] Table layout disregards overriding width
        https://bugs.webkit.org/show_bug.cgi?id=224934

        Reviewed by Darin Adler.

        * TestExpectations: Remove three WPT tests that now pass.
        * platform/glib/TestExpectations: Remove one WPT test that now passes.
        * platform/gtk/imported/w3c/web-platform-tests/css/css-flexbox/flex-item-contains-strict-expected.txt: Added.

2021-04-24  Tim Horton  <timothy_horton@apple.com>

        Changing the source of a model element with clipping applied does not update the model
        https://bugs.webkit.org/show_bug.cgi?id=224917

        Reviewed by Simon Fraser.

        * model-element/model-element-contents-layer-updates-expected.txt: Added.
        * model-element/model-element-contents-layer-updates-with-clipping-expected.txt: Added.
        * model-element/model-element-contents-layer-updates-with-clipping.html: Added.
        * model-element/model-element-contents-layer-updates.html: Added.
        * model-element/resources/cube.usdz: Added.
        * platform/ios-wk2/TestExpectations:
        * platform/mac/TestExpectations:
        Add tests that ensure that adding a <model> with one source, then changing
        it to another, correctly updates the content layer. Test this both
        with and without clipping (the without-clipping case passed before this change,
        with-clipping failed).

        These tests only work on Cocoa ports with UI-side compositing enabled
        because they depend on the PlatformCALayer subclass holding on to the model
        data (and logging its size) in order to distinguish between the two models.

2021-04-24  Julian Gonzalez  <julian_a_gonzalez@apple.com>

        Crash in BreakBlockquoteCommand::doApply()
        https://bugs.webkit.org/show_bug.cgi?id=224941

        Reviewed by Ryosuke Niwa.

        Add test for this crash, running only on Release for now.
        Thanks to Tuomas Karkkainen for its basic structure.

        * TestExpectations:
        * editing/pasteboard/paste-as-quotation-then-paste-crash-expected.txt: Added.
        * editing/pasteboard/paste-as-quotation-then-paste-crash.html: Added.

2021-04-24  Zalan Bujtas  <zalan@apple.com>

        [RenderTreeBuilder] Subtree moving should clear the floats on all the descendants
        https://bugs.webkit.org/show_bug.cgi?id=224996
        <rdar://76837320>

        Reviewed by Antti Koivisto.

        * fast/multicol/floating-boxes-moved-under-multi-column-expected.txt: Added.
        * fast/multicol/floating-boxes-moved-under-multi-column.html: Added.

2021-04-24  Rob Buis  <rbuis@igalia.com>

        Move selectedOptions cache invalidation timing
        https://bugs.webkit.org/show_bug.cgi?id=224894

        Reviewed by Ryosuke Niwa.

        Add test for this.

        * fast/dom/HTMLSelectElement/selected-options-item-crash-expected.txt: Added.
        * fast/dom/HTMLSelectElement/selected-options-item-crash.html: Added.

2021-04-23  Chris Dumez  <cdumez@apple.com>

        http/tests/security/referrer-policy-header.html is slow
        https://bugs.webkit.org/show_bug.cgi?id=224998

        Reviewed by Geoffrey Garen.

        The test is a flaky timeout on the bots because it is slow. On my machine, it takes 17 seconds to run
        it with a debug build. To speed things up, I am now running the subtests in parallel instead of
        sequentially. I also split the test in 2 (regular response vs multipart response). Each tests now takes
        about ~5 seconds to run on my machine.

        * http/tests/security/referrer-policy-header-expected.txt:
        * http/tests/security/referrer-policy-header-multipart-expected.txt: Added.
        * http/tests/security/referrer-policy-header-multipart.html: Added.
        * http/tests/security/referrer-policy-header-test.js: Copied from LayoutTests/http/tests/security/referrer-policy-header.html.
        (printResults):
        (onmessage):
        (runTests):
        * http/tests/security/referrer-policy-header.html:
        * http/tests/security/resources/postReferrer.py:
        * http/tests/security/resources/serve-referrer-policy-and-test.py:

2021-04-23  Ryan Haddad  <ryanhaddad@apple.com>

        imported/w3c/web-platform-tests/html/semantics/scripting-1/the-script-element/css-module/css-module-worker-test.html is a flakey crash and failure
        https://bugs.webkit.org/show_bug.cgi?id=222750

        Unreviewed test gardening.

        Move expectation to a more general location, this isn't limited to macOS.

        * TestExpectations:
        * platform/mac/TestExpectations:

2021-04-23  Ryan Haddad  <ryanhaddad@apple.com>

        [macOS] imported/w3c/web-platform-tests/html/semantics/scripting-1/the-script-element/css-module/css-module-worker-test.html is a flakey crash and failure
        https://bugs.webkit.org/show_bug.cgi?id=222750

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-04-23  Philippe Normand  <pnormand@igalia.com>

        Unreviewed, GTK gardening

        * platform/gtk/TestExpectations: Remove test expectation for
        imported/w3c/web-platform-tests/mediacapture-fromelement/capture.html which is tracked in
        the main TestExpectations already.

2021-04-23  Philippe Normand  <pnormand@igalia.com>

        [LibWebRTC][WPE][GTK] Enable vp9 and NO_MAIN_THREAD_WRAPPING
        https://bugs.webkit.org/show_bug.cgi?id=222795

        Reviewed by Xabier Rodriguez-Calvar.

        Update GLIB baselines for webrtc tests.

        * platform/glib/TestExpectations:
        * platform/glib/imported/w3c/web-platform-tests/webrtc/RTCPeerConnection-onnegotiationneeded-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/webrtc/RTCPeerConnection-restartIce.https-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/webrtc/RTCRtpTransceiver-setCodecPreferences-expected.txt: Added.

2021-04-22  Diego Pino Garcia  <dpino@igalia.com>

        [GTK] Unreviewed test gardening. Update baseline after r276448.

        * platform/glib/TestExpectations:
        * platform/gtk/fast/forms/datalist/input-list-expected.txt: Added.

2021-04-22  Tyler Wilcock  <twilco.o@protonmail.com>

        [css-counter-styles] Parse @counter-style descriptors
        https://bugs.webkit.org/show_bug.cgi?id=224718

        Reviewed by Darin Adler.

        Add test ensuring <image> @counter-style symbol values cannot be
        parsed when the `counterStyleAtRuleImageSymbolsEnabled` feature flag
        is disabled.

        ---

        This test is skipped on Windows because I haven't been able to get the
        required feature flags (CSSCounterStyleAtRulesEnabled and
        CSSCounterStyleAtRuleImageSymbolsEnabled) to work properly for that
        port.

        The code hidden behind these flags is all in the CSS parser, which is not
        unique to Windows, so I think we can be confident that if the test passes
        on all other platforms, that the behavior is correct on Windows too.

        One attempt at implementing the necessary Windows-specific flag functionality is here:

        https://bugs.webkit.org/attachment.cgi?id=426371&action=edit

        Which failed to compile[1] with this error:

        > C:\cygwin\home\buildbot\worker\Windows-EWS\build\Tools\DumpRenderTree\win\DumpRenderTree.cpp(834,51): error C2039: 'setCSSCounterStyleAtRulesEnabled': is not a member of 'IWebPreferencesPrivate7' [C:\cygwin\home\buildbot\worker\Windows-EWS\build\WebKitBuild\Release\Tools\DumpRenderTree\DumpRenderTreeLib.vcxproj]
        > C:\cygwin\home\buildbot\worker\Windows-EWS\build\Tools\DumpRenderTree\win\DumpRenderTree.cpp(835,62): error C2039: 'setCSSCounterStyleAtRuleImageSymbolsEnabled': is not a member of 'IWebPreferencesPrivate7' [C:\cygwin\home\buildbot\worker\Windows-EWS\build\WebKitBuild\Release\Tools\DumpRenderTree\DumpRenderTreeLib.vcxproj]

        Those methods are present in `IWebPreferencesPrivate7.idl`, and implemented similarly to other
        flags in other places (e.g. win/WebPreferences.{h, cpp}, win/WebPreferenceKeysPrivate.h).
        I can't reproduce this compilation error on my Windows machine.

        I then tried removing the lines that caused the above compilation failure.
        Those setters are called in DumpRenderTree::enableExperimentalFeatures, so in
        lieu of enabling these flags there I could enable the flag I need via test header.

        That patch is: https://bugs.webkit.org/attachment.cgi?id=426509&action=edit

        This results in successful compilation, but causes lots (all?) of the
        layout tests to fail[2] with a stacktrace that looks like:

00007ffc`3e9e3113 WebKit!WebPreferences::speechRecognitionEnabled(int * enabled = 0x00007ffc`3eae0f50)+0x29 [C:\cygwin\home\buildbot\worker\Windows-EWS\build\Source\WebKitLegacy\win\WebPreferences.cpp @ 2617]
00007ffc`3e9e3cc0 DumpRenderTreeLib!resetWebPreferencesToConsistentValues(struct IWebPreferences * preferences = 0x00000205`e2f204b0)+0x63 [C:\cygwin\home\buildbot\worker\Windows-EWS\build\Tools\DumpRenderTree\win\DumpRenderTree.cpp @ 847]
00007ffc`3e9e4171 DumpRenderTreeLib!resetWebViewToConsistentStateBeforeTesting(class WTR::TestOptions * options = 0x00000065`738fea60)+0x2e0 [C:\cygwin\home\buildbot\worker\Windows-EWS\build\Tools\DumpRenderTree\win\DumpRenderTree.cpp @ 1054]
00007ffc`3e9e67d3 DumpRenderTreeLib!runTest(class std::basic_string<char,std::char_traits<char>,std::allocator<char> > * inputLine = <Value unavailable error>)+0x2f1 [C:\cygwin\home\buildbot\worker\Windows-EWS\build\Tools\DumpRenderTree\win\DumpRenderTree.cpp @ 1239]
00007ff7`89952f30 DumpRenderTreeLib!main(int argc = <Value unavailable error>, char ** argv = <Value unavailable error>)+0x5d3 [C:\cygwin\home\buildbot\worker\Windows-EWS\build\Tools\DumpRenderTree\win\DumpRenderTree.cpp @ 1676]
00007ff7`89953884 DumpRenderTree!main(int argc = 0n2, char ** argv = 0x00000205`e2e74b80)+0x880 [C:\cygwin\home\buildbot\worker\Windows-EWS\build\Tools\win\DLLLauncher\DLLLauncherMain.cpp @ 232]

        I haven't done much digging into why this happens, and cannot reproduce it on my Windows machine.

        [1]: https://ews-build.webkit.org/#/builders/10/builds/86747
        [2]: https://ews-build.webkit.org/#/builders/10/builds/86897

        * platform/win/TestExpectations: Skip newly added test on Windows.
        * webexposed/counter-style-image-symbols-not-exposed-expected.txt: Added.
        * webexposed/counter-style-image-symbols-not-exposed.html: Added.

2021-04-22  Megan Gardner  <megan_gardner@apple.com>

        Sometimes appHighlights are not painted when created.
        https://bugs.webkit.org/show_bug.cgi?id=224904

        Reviewed by Antti Koivisto.

        * http/wpt/css/css-highlight-api/highlight-text-dynamic-expected-mismatch.html: Added.
        * http/wpt/css/css-highlight-api/highlight-text-dynamic.html: Added.

2021-04-22  Diego Pino Garcia  <dpino@igalia.com>

        [GTK] Unreviewed test gardening. Update test expectations.

        * platform/gtk/TestExpectations:

2021-04-22  Diego Pino Garcia  <dpino@igalia.com>

        [GTK] Unreviewed test gardening. Update baselines after r276448.

        r276448 turned on editable <input type=date> and <input type=time>,
        many tests baselines need to be updated or emitted as result differ
        from general baseline.

        * platform/gtk/imported/w3c/web-platform-tests/html/dom/reflection-forms-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/html/rendering/widgets/baseline-alignment-and-overflow.tentative-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-checkValidity-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-reportValidity-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-badInput-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-rangeOverflow-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-rangeUnderflow-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-stepMismatch-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-valid-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-validity-valueMissing-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/constraints/form-validation-willValidate-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/the-input-element/date-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/the-input-element/datetime-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/the-input-element/datetime-local-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/the-input-element/input-seconds-leading-zeroes-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/the-input-element/input-valueasdate-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/the-input-element/input-valueasdate-stepping-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/the-input-element/input-valueasnumber-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/the-input-element/input-valueasnumber-stepping-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/the-input-element/month-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/the-input-element/selection-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/the-input-element/time-2-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/the-input-element/time-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/the-input-element/valueMode-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/forms/the-input-element/week-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/html/semantics/selectors/pseudo-classes/inrange-outofrange-expected.txt: Added.

2021-04-22  Robert Jenner  <jenner@apple.com>

        [ BigSur wk2 arm64 ] webrtc/captureCanvas-webrtc.html
        https://bugs.webkit.org/show_bug.cgi?id=224963

        Uneviewed test gardneing.

        * platform/mac-wk2/TestExpectations: Updated test expectations to Pass Timeout for BigSur arm64 only while test is reviewed.

2021-04-22  Jean-Yves Avenard  <jya@apple.com>

        Fix color gamut in WebRTC when using VPx software decoder.
        https://bugs.webkit.org/show_bug.cgi?id=220972
        <rdar://problem/73616455>

        Reviewed by Youenn Fablet.

        * webrtc/video-vp8-videorange-expected.txt: Added.
        * webrtc/video-vp8-videorange.html: Added.

2021-04-22  Robert Jenner  <jenner@apple.com>

        REGRESSION (Metal ANGLE): webgl/2.0.0/conformance/glsl/misc/shader-uniform-packing-restrictions.html is constantly timing out. 
        https://bugs.webkit.org/show_bug.cgi?id=224257

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations: Updating test that's timing out constantly to slow to see if it improves.

2021-04-22  Zalan Bujtas  <zalan@apple.com>

        [RenderTreeBuilder] Multi-column spanners are not part of the enclosing multi-column renderer's subtree
        https://bugs.webkit.org/show_bug.cgi?id=224914
        <rdar://76846946>

        Reviewed by Simon Fraser.

        * fast/multicol/spanner-inserted-to-multiple-multicolumns-expected.txt: Added.
        * fast/multicol/spanner-inserted-to-multiple-multicolumns.html: Added.

2021-04-22  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r271644.
        https://bugs.webkit.org/show_bug.cgi?id=224908

        Caused regression
        <http://webkit.org/b/221962|webkit.org/b/221962>

        Reverted changeset:

        "[css-multicol] OOM with 1px height columns"
        https://bugs.webkit.org/show_bug.cgi?id=220490
        https://trac.webkit.org/changeset/271644

2021-04-22  Ryan Haddad  <ryanhaddad@apple.com>

        Unreviewed, reverting r276393.

        This expectation is needed so that the test will pass on bots

        Reverted changeset:

        "Mass removing prior test expectations that don't need to be
        set anymore"
        https://bugs.webkit.org/show_bug.cgi?id=224898
        https://commits.webkit.org/r276393

2021-04-22  Martin Robinson  <mrobinson@webkit.org>

        [GTK] Turn on editable <input type=date> and <input type=time> fields
        https://bugs.webkit.org/show_bug.cgi?id=224921

        Reviewed by Carlos Garcia Campos.

        Turn on editable date and time inputs for GTK.

        * platform/gtk/TestExpectations: Enable new forms test for WebKitGTK.
        * platform/gtk/fast/forms/date/date-input-rendering-basic-expected.txt: Added.
        * platform/gtk/fast/forms/date/date-pseudo-elements-expected.txt: Added.
        * platform/gtk/fast/forms/time/time-input-rendering-basic-expected.txt: Added.

2021-04-22  Ziran Sun  <zsun@igalia.com>

        [css-grid] WPT Tests css/css-grid/grid-items/grid-item-percentage-sizes-*.html fail
        https://bugs.webkit.org/show_bug.cgi?id=209650

        Reviewed by Sergio Villar Senin.

        * TestExpectations: grid-item-percentage-sizes-00{1-3}.html are passing and unskipped now.

2021-04-22  Imanol Fernandez  <ifernandez@igalia.com>

        Implement WebXR Input Sources
        https://bugs.webkit.org/show_bug.cgi?id=223257

        Reviewed by Youenn Fablet.

        Update WebXR Input Source test expectations.

        * platform/wpe/TestExpectations:

2021-04-22  Carlos Garcia Campos  <cgarcia@igalia.com>

        [SOUP] Add support for preconnect
        https://bugs.webkit.org/show_bug.cgi?id=177934

        Reviewed by Sergio Villar Senin.

        Remove expectations for tests that are now passing.

        * platform/glib/TestExpectations:

2021-04-22  Carlos Garcia Campos  <cgarcia@igalia.com>

        [GTK][WPE] Bump libsoup3 version to 2.99.4
        https://bugs.webkit.org/show_bug.cgi?id=224925

        Reviewed by Philippe Normand.

        Remove expectations for tests that should be passing now.

        * platform/glib/TestExpectations:

2021-04-21  Tim Nguyen  <ntim@apple.com>

        Import css/css-will-change tests from WPT
        https://bugs.webkit.org/show_bug.cgi?id=224870

        Reviewed by Youenn Fablet.

        * TestExpectations:

2021-04-21  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo-wk1/TestExpectations:
        * platform/wincairo/TestExpectations:

2021-04-21  Zalan Bujtas  <zalan@apple.com>

        Ignore column spanner property for the inner part of a text control.
        https://bugs.webkit.org/show_bug.cgi?id=224757
        <rdar://problem/76844224>

        Reviewed by Antti Koivisto.

        * fast/multicol/spanner-inside-text-control-expected.txt: Added.
        * fast/multicol/spanner-inside-text-control.html: Added.

2021-04-21  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r276380 and r276386.
        https://bugs.webkit.org/show_bug.cgi?id=224912

        Caused WPT css/css-counter-styles/cssom test crashes on macOS
        WK1 with ASan

        Reverted changesets:

        "[css-counter-styles] Parse @counter-style descriptors"
        https://bugs.webkit.org/show_bug.cgi?id=224718
        https://trac.webkit.org/changeset/276380

        "CSSComputedStyleDeclaration.cpp should use C++ style
        comments"
        https://bugs.webkit.org/show_bug.cgi?id=224875
        https://trac.webkit.org/changeset/276386

2021-04-21  Robert Jenner  <jenner@apple.com>

        Mass removing prior test expectations that don't need to be set anymore
        https://bugs.webkit.org/show_bug.cgi?id=224898

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations: Removing test expectation, as it is no longer needed.

2021-04-21  Robert Jenner  <jenner@apple.com>

        [ iOS, EWS ] scrollingcoordinator/ios/fixed-inside-sticky-no-stacking-context-2.html is a constant Image Failure
        https://bugs.webkit.org/show_bug.cgi?id=224910

        Unreviewed test gardening.

        * platform/ios-simulator-wk2/TestExpectations: Updating expectation to Failure to speed up EWS while test is reviewed.

2021-04-21  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB][GTK][WPE] Unreviewed test gardening. Remove redundant baselines.

        * platform/glib/TestExpectations:
        * platform/glib/fast/canvas/webgl/webgl-compressed-texture-astc-expected.txt: Removed.
        * platform/glib/http/tests/loading/oauth-expected.txt: Renamed from LayoutTests/platform/gtk/http/tests/loading/oauth-expected.txt.
        * platform/glib/imported/w3c/web-platform-tests/css/css-text/white-space/trailing-space-before-br-001-expected.txt: Removed.
        * platform/glib/imported/w3c/web-platform-tests/css/css-values/minmax-length-computed-expected.txt: Removed.
        * platform/glib/imported/w3c/web-platform-tests/css/css-values/minmax-length-percent-computed-expected.txt: Removed.
        * platform/glib/imported/w3c/web-platform-tests/html/canvas/element/path-objects/2d.path.stroke.scale2-expected.txt: Removed.
        * platform/gtk/imported/w3c/web-platform-tests/css/css-values/minmax-length-computed-expected.txt: Removed.
        * platform/gtk/imported/w3c/web-platform-tests/css/css-values/minmax-length-percent-computed-expected.txt: Removed.
        * platform/gtk/imported/w3c/web-platform-tests/service-workers/service-worker/clients-matchall-client-types.https-expected.txt: Removed.
        * platform/wpe/TestExpectations:
        * platform/wpe/http/tests/loading/oauth-expected.txt: Removed.
        * platform/wpe/http/tests/websocket/tests/hybi/send-object-tostring-check-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/css/css-values/minmax-length-computed-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/css/css-values/minmax-length-percent-computed-expected.txt: Removed.
        * platform/wpe/imported/w3c/web-platform-tests/service-workers/service-worker/windowclient-navigate.https-expected.txt: Removed.

2021-04-21  Peng Liu  <peng.liu6@apple.com>

        [GPUP] Refactor SourceBuffer::enqueuedSamplesForTrackID() for testing purposes
        https://bugs.webkit.org/show_bug.cgi?id=224891

        Reviewed by Eric Carlson.

        Update following tests to use the asynchronous `enqueuedSamplesForTrackID()`.
        * media/media-source/media-source-append-acb-no-frame-lost.html:
        * media/media-source/media-source-append-acb-tolerance.html:
        * media/media-source/media-source-append-presentation-durations.html:
        * media/media-source/media-source-dropped-iframe.html:
        * media/media-source/media-source-erase-after-last-append.html:
        * media/media-source/media-source-first-append-not-starting-at-zero.html:
        * media/media-source/media-source-remove-b-frame.html:
        * media/media-source/media-source-seek-back.html:
        * media/media-source/media-source-timestampoffset-rounding-error.html:

        We don't need this platform-specific test expectation now.
        * platform/mac/media/media-source/media-source-append-before-last-range-no-quota-exceeded-expected.txt: Removed.

2021-04-21  Amir Mark Jr  <amir_mark@apple.com>

        Mass removal of prior test expectations that do not need to be set anymore.
        https://bugs.webkit.org/show_bug.cgi?id=224901

        Unreviewed test gardening.

        Two more tests removed from test expectations.

        * platform/ios/TestExpectations:
        * platform/mac/TestExpectations:

2021-04-21  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening. Update test expectations after r276393.

        * platform/glib/TestExpectations:

2021-04-21  Amir Mark Jr  <amir_mark@apple.com>

        Mass removal of prior test expectations that do not need to be set anymore.
        https://bugs.webkit.org/show_bug.cgi?id=224901

        Unreviewed test gardening.

        * platform/ios-device/TestExpectations:
        * platform/ios-wk1/TestExpectations:
        * platform/mac-wk1/TestExpectations:

2021-04-21  Julian Gonzalez  <julian_a_gonzalez@apple.com>

        Crash in StyledMarkupAccumulator::traverseNodesForSerialization()
        https://bugs.webkit.org/show_bug.cgi?id=224836

        Reviewed by Ryosuke Niwa.

        Add a test for the crash fixed here. Thanks to Tuomas Karkkainen for its first version.

        * editing/execCommand/selectAll-copy-crash-expected.txt: Added.
        * editing/execCommand/selectAll-copy-crash.html: Added.

2021-04-21  Robert Jenner  <jenner@apple.com>

        Mass removing prior test expectations that don't need to be set anymore
        https://bugs.webkit.org/show_bug.cgi?id=224898

        Unreviewed test gardening.

        Missed one test to removed expectations for.

        * TestExpectations:

2021-04-21  Robert Jenner  <jenner@apple.com>

        Mass removing prior test expectations that don't need to be set anymore
        https://bugs.webkit.org/show_bug.cgi?id=224898

        Unreviewed test gardening.

        Remove test expectations that no longer needed to be set.

        * TestExpectations:
        * platform/ios-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-04-21  Wenson Hsieh  <wenson_hsieh@apple.com>

        [iOS] Text selection in image overlays should not be limited to rectilinear quads
        https://bugs.webkit.org/show_bug.cgi?id=224837
        <rdar://76829981>

        Reviewed by Tim Horton.

        Add a new layout test to exercise the new selection rendering behavior.

        * fast/images/image-extraction/ios/selection-rects-in-image-overlay-expected.txt: Added.
        * fast/images/image-extraction/ios/selection-rects-in-image-overlay.html: Added.

2021-04-21  Tyler Wilcock  <twilco.o@protonmail.com>

        [css-counter-styles] Parse @counter-style descriptors
        https://bugs.webkit.org/show_bug.cgi?id=224718

        Reviewed by Darin Adler.

        Add test ensuring <image> @counter-style symbol values cannot be
        parsed when the `counterStyleAtRuleImageSymbolsEnabled` feature flag
        is disabled.

        ---

        This test is skipped on Windows because I haven't been able to get the
        required feature flags (CSSCounterStyleAtRulesEnabled and
        CSSCounterStyleAtRuleImageSymbolsEnabled) to work properly for that
        port.

        The code hidden behind these flags is all in the CSS parser, which is not
        unique to Windows, so I think we can be confident that if the test passes
        on all other platforms, that the behavior is correct on Windows too.

        One attempt at implementing the necessary Windows-specific flag functionality is here:

        https://bugs.webkit.org/attachment.cgi?id=426371&action=edit

        Which failed to compile[1] with this error:

        > C:\cygwin\home\buildbot\worker\Windows-EWS\build\Tools\DumpRenderTree\win\DumpRenderTree.cpp(834,51): error C2039: 'setCSSCounterStyleAtRulesEnabled': is not a member of 'IWebPreferencesPrivate7' [C:\cygwin\home\buildbot\worker\Windows-EWS\build\WebKitBuild\Release\Tools\DumpRenderTree\DumpRenderTreeLib.vcxproj]
        > C:\cygwin\home\buildbot\worker\Windows-EWS\build\Tools\DumpRenderTree\win\DumpRenderTree.cpp(835,62): error C2039: 'setCSSCounterStyleAtRuleImageSymbolsEnabled': is not a member of 'IWebPreferencesPrivate7' [C:\cygwin\home\buildbot\worker\Windows-EWS\build\WebKitBuild\Release\Tools\DumpRenderTree\DumpRenderTreeLib.vcxproj]

        Those methods are present in `IWebPreferencesPrivate7.idl`, and implemented similarly to other
        flags in other places (e.g. win/WebPreferences.{h, cpp}, win/WebPreferenceKeysPrivate.h).
        I can't reproduce this compilation error on my Windows machine.

        I then tried removing the lines that caused the above compilation failure.
        Those setters are called in DumpRenderTree::enableExperimentalFeatures, so in
        lieu of enabling these flags there I could enable the flag I need via test header.

        That patch is: https://bugs.webkit.org/attachment.cgi?id=426509&action=edit

        This results in successful compilation, but causes lots (all?) of the
        layout tests to fail[2] with a stacktrace that looks like:

        00 00000065`738fdf00 00007ffc`3e9e3113 WebKit!WebPreferences::speechRecognitionEnabled(int * enabled = 0x00007ffc`3eae0f50)+0x29 [C:\cygwin\home\buildbot\worker\Windows-EWS\build\Source\WebKitLegacy\win\WebPreferences.cpp @ 2617]
        01 00000065`738fdf30 00007ffc`3e9e3cc0 DumpRenderTreeLib!resetWebPreferencesToConsistentValues(struct IWebPreferences * preferences = 0x00000205`e2f204b0)+0x63 [C:\cygwin\home\buildbot\worker\Windows-EWS\build\Tools\DumpRenderTree\win\DumpRenderTree.cpp @ 847]
        02 00000065`738fdfa0 00007ffc`3e9e4171 DumpRenderTreeLib!resetWebViewToConsistentStateBeforeTesting(class WTR::TestOptions * options = 0x00000065`738fea60)+0x2e0 [C:\cygwin\home\buildbot\worker\Windows-EWS\build\Tools\DumpRenderTree\win\DumpRenderTree.cpp @ 1054]
        03 00000065`738fe050 00007ffc`3e9e67d3 DumpRenderTreeLib!runTest(class std::basic_string<char,std::char_traits<char>,std::allocator<char> > * inputLine = <Value unavailable error>)+0x2f1 [C:\cygwin\home\buildbot\worker\Windows-EWS\build\Tools\DumpRenderTree\win\DumpRenderTree.cpp @ 1239]
        04 00000065`738feca0 00007ff7`89952f30 DumpRenderTreeLib!main(int argc = <Value unavailable error>, char ** argv = <Value unavailable error>)+0x5d3 [C:\cygwin\home\buildbot\worker\Windows-EWS\build\Tools\DumpRenderTree\win\DumpRenderTree.cpp @ 1676]
        05 00000065`738ff5b0 00007ff7`89953884 DumpRenderTree!main(int argc = 0n2, char ** argv = 0x00000205`e2e74b80)+0x880 [C:\cygwin\home\buildbot\worker\Windows-EWS\build\Tools\win\DLLLauncher\DLLLauncherMain.cpp @ 232]

        I haven't done much digging into why this happens, and cannot reproduce it on my Windows machine.

        [1]: https://ews-build.webkit.org/#/builders/10/builds/86747
        [2]: https://ews-build.webkit.org/#/builders/10/builds/86897

        * platform/win/TestExpectations: Skip newly added test on Windows.
        * webexposed/counter-style-image-symbols-not-exposed-expected.txt: Added.
        * webexposed/counter-style-image-symbols-not-exposed.html: Added.

2021-04-21  Chris Dumez  <cdumez@apple.com>

        ASSERTION FAILED: context().isInitialized() ./Modules/webaudio/OfflineAudioDestinationNode.cpp(142)
        https://bugs.webkit.org/show_bug.cgi?id=224876
        <rdar://76896256>

        Reviewed by Eric Carlson.

        Add layout test coverage.

        * webaudio/OfflineAudioContext/offlineaudiocontext-uninitialized-crash-expected.txt: Added.
        * webaudio/OfflineAudioContext/offlineaudiocontext-uninitialized-crash.html: Added.

2021-04-21  Simon Fraser  <simon.fraser@apple.com>

        will-change: transform should affect nested position:fixed
        https://bugs.webkit.org/show_bug.cgi?id=167600

        Reviewed by Alan Bujtas.

        "will-change transform" should make an element a container for position:fixed,
        just as a transform does.

        * fast/css/will-change/will-change-transform-contains-fixed-expected.html: Added.
        * fast/css/will-change/will-change-transform-contains-fixed.html: Added.

2021-04-21  Chris Lord  <clord@igalia.com>

        DOMException should be Serializable
        https://bugs.webkit.org/show_bug.cgi?id=224865

        Reviewed by Chris Dumez.

        * storage/indexeddb/resources/structured-clone.js: Cloning DOMException is valid.
        * storage/indexeddb/resources/structured-clone-expected.txt:

2021-04-21  Rob Buis  <rbuis@igalia.com>

        RenderGeometryMap should know about individual transform properties
        https://bugs.webkit.org/show_bug.cgi?id=224856

        Reviewed by Simon Fraser.

        Add test for this.

        * fast/transforms/textarea-individual-transform-properties-crash-expected.txt: Added.
        * fast/transforms/textarea-individual-transform-properties-crash.html: Added.

2021-04-21  Aditya Keerthi  <akeerthi@apple.com>

        [iOS][FCR] <select> decorations should match the text color
        https://bugs.webkit.org/show_bug.cgi?id=224831
        <rdar://problem/76918959>

        Reviewed by Darin Adler.

        An empty <select> element contains nothing apart from the decoration
        (chevron). Added a test to verify that specifying a different text
        color changes the color of the decoration.

        * fast/forms/ios/form-control-refresh/select/decoration-color-expected-mismatch.html: Added.
        * fast/forms/ios/form-control-refresh/select/decoration-color.html: Added.

2021-04-21  Zalan Bujtas  <zalan@apple.com>

        REGRESSION(r256107): Text moves around when selecting at https://www.tokyo-sports.co.jp/entame/news/2834187/
        https://bugs.webkit.org/show_bug.cgi?id=224839
        <rdar://74958484>

        Reviewed by Darin Adler.

        * fast/text/line-break-with-locale-expected.html: Added.
        * fast/text/line-break-with-locale.html: Added.

2021-04-21  Martin Robinson  <mrobinson@webkit.org>

        Add basic (non-momentum) wheel event handling for scroll snap
        https://bugs.webkit.org/show_bug.cgi?id=222594

        Reviewed by Darin Adler.

        * css3/scroll-snap/scroll-snap-wheel-event-expected.txt: Added.
        * css3/scroll-snap/scroll-snap-wheel-event.html: Added.
        * platform/ios-wk2/TestExpectations: Skip new test because it uses mouse event simulation.
        Move existing classification to better section as well.
        * platform/mac-wk1/fast/scrolling/latching/scroll-snap-latching-expected.txt: Rebased this previous failing test.

2021-04-20  Ian Gilbert  <iang@apple.com>

        Crash in CompositeEditCommand::insertNodeAt
        https://bugs.webkit.org/show_bug.cgi?id=224504

        Reviewed by Ryosuke Niwa.

        Adding a regression test case.

        * editing/execCommand/format-block-remove-text-node-crash-expected.txt: Added.
        * editing/execCommand/format-block-remove-text-node-crash.html: Added.

2021-04-20  Ian Gilbert  <iang@apple.com>

        Crash due to VectorBuffer pre-allocation failure
        https://bugs.webkit.org/show_bug.cgi?id=224840

        Reviewed by Sam Weinig.

        Added a regression test.

        * ipc/large-vector-allocate-failure-crash-expected.txt: Added.
        * ipc/large-vector-allocate-failure-crash.html: Added.

2021-04-20  Robert Jenner  <jenner@apple.com>

        [ BigSur wk2 Debug arm64 ] http/wpt/preload/change-link-rel-attribute.html is a flakey crash
        https://bugs.webkit.org/show_bug.cgi?id=224845

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations: Updted test expectations to Pass Crash while test is reviewed. 

2021-04-20  Eric Carlson  <eric.carlson@apple.com>

        [BigSur Wk1] media/video-ended-event-negative-playback.html is flaky text failure
        https://bugs.webkit.org/show_bug.cgi?id=221106
        <rdar://problem/73724911>

        Reviewed by Jer Noble.
        
        Seeking to 0.5 and playing backwards to the beginning of the file may take longer
        than 2500ms, so increase the timeout to 5000ms and don't start the failure timer
        until playback begins.

        * media/video-ended-event-negative-playback-expected.txt:
        * media/video-ended-event-negative-playback.html:
        * platform/mac-wk1/TestExpectations:

2021-04-20  Robert Jenner  <jenner@apple.com>

        [ BigSur Debug ] http/tests/security/webaudio-render-remote-audio-blocked-no-crossorigin.html is a flakey timeout
        https://bugs.webkit.org/show_bug.cgi?id=224842

        Unreviewed test gardening.

        * platform/mac/TestExpectations: Updated test expectations to Pass Timeout while test is reviewed. 

2021-04-20  Sam Weinig  <weinig@apple.com>

        Separated models don't get opacity set on them at all
        https://bugs.webkit.org/show_bug.cgi?id=224763

        Reviewed by Tim Horton.

        Add new test which use the macOS/iOS only platformLayerTreeAsText
        internals function to show that opacity is getting set on the content
        layer. 

        * model-element/model-element-graphics-layers-opacity-expected.txt: Added.
        * model-element/model-element-graphics-layers-opacity.html: Added.
        * platform/gtk/TestExpectations:
        * platform/wpe/TestExpectations:
        * platform/win/TestExpectations:

        * compositing/video/video-object-position-expected.txt:
        * compositing/visible-rect/mask-layer-coverage-expected.txt:
        * fullscreen/full-screen-layer-dump-expected.txt:
        * platform/ios/compositing/video/video-object-position-expected.txt:
        * platform/ios/compositing/visible-rect/mask-layer-coverage-expected.txt:
        * platform/mac/compositing/images/direct-image-object-fit-expected.txt:
        * platform/mac/compositing/reflections/direct-image-object-fit-reflected-expected.txt:
        * platform/mac/compositing/video/video-object-fit-expected.txt:
        Update results for update content layer type dumping.

2021-04-20  Kate Cheney  <katherine_cheney@apple.com>

        Preconnect tasks and preflight checks do not correctly mark app-bound context string
        https://bugs.webkit.org/show_bug.cgi?id=224779
        <rdar://problem/76738879>

        Reviewed by Brent Fulgham.

        Layout test coverage.

        * http/tests/in-app-browser-privacy/context-string-for-subframe.html:
        Drive by fix to create the subframe with JS so we can add a dummy
        parameter to avoid caching and causing flakiness. Found this while
        testing for flakiness in new tests.

        * http/tests/in-app-browser-privacy/context-string-preconnect-expected.txt: Added.
        * http/tests/in-app-browser-privacy/context-string-preconnect.html: Added.
        * http/tests/in-app-browser-privacy/context-string-preflight-expected.txt: Added.
        * http/tests/in-app-browser-privacy/context-string-preflight.html: Added.
        Test an unsuccessful preflight request so a real request doesn't
        override the stored context data for testing purposes. 

2021-04-20  Cameron McCormack  <heycam@apple.com>

        Add test for line breaking around inline-blocks.
        https://bugs.webkit.org/show_bug.cgi?id=224832

        Reviewed by Alan Bujtas.

        * fast/css/inline-block-line-break-expected.html: Added.
        * fast/css/inline-block-line-break.html: Added.

2021-04-20  Fujii Hironori  <Hironori.Fujii@sony.com>

        editing/execCommand/insert-image-in-composed-list.html is crashing
        https://bugs.webkit.org/show_bug.cgi?id=224801

        Reviewed by Don Olmstead.

        * platform/gtk/TestExpectations: Unmarked it.

2021-04-20  Aditya Keerthi  <akeerthi@apple.com>

        REGRESSION (r275523): [iOS] Opaque system fill colors are incorrect in dark mode
        https://bugs.webkit.org/show_bug.cgi?id=224800
        <rdar://problem/76878335>

        Reviewed by Darin Adler.

        * fast/css/ios/system-color-for-css-value-expected.txt:
        * fast/css/ios/system-color-for-css-value.html:

2021-04-20  Manuel Rego Casasnovas  <rego@igalia.com>

        [WPE] Update expectations for 2 :focus-visible tests
        https://bugs.webkit.org/show_bug.cgi?id=224808

        Unreviewed test gardening.

        The failures on these tests are related to the lack of support for <input type="color"> in WPE.

        * platform/wpe/TestExpectations:
        * platform/wpe/imported/w3c/web-platform-tests/css/selectors/focus-visible-003-expected.txt: Added.
        * platform/wpe/imported/w3c/web-platform-tests/css/selectors/focus-visible-004-expected.txt: Added.

2021-04-20  Cathie Chen  <cathiechen@igalia.com>

        Update html/rendering/replaced-elements/attributes-for-embedded-content-and-images/ tests from WPT
        https://bugs.webkit.org/show_bug.cgi?id=224748

        Reviewed by Rob Buis.

        picture-aspect-ratio.html is flaky.

        * TestExpectations:

2021-04-20  Tim Nguyen  <ntim@apple.com>

        Implement CSS display property 2-value syntax
        https://bugs.webkit.org/show_bug.cgi?id=224574

        Reviewed by Darin Adler.

        Except for list-item which doesn't have layout support for different variants.
        Also fix a WPT to expect the most backwards-compatible form for `display: flow` computed value.

        Test: web-platform-tests/css/css-display/parsing/display-valid.html

        * platform/mac-wk1/imported/w3c/web-platform-tests/html/rendering/widgets/button-layout/computed-style-expected.txt:

2021-04-20  Diego Pino Garcia  <dpino@igalia.com>

        [WPE] Unreviewed test gardening. Update baselines and test expectations of recent failures.

        * platform/wpe/TestExpectations:
        * platform/wpe/fast/canvas/webgl/index-validation-with-subsequent-draws-expected.txt: Removed.
        * platform/wpe/fast/encoding/utf-16-little-endian-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/resource-timing/resource_timing.worker-expected.txt: Removed.

2021-04-20  Diego Pino Garcia  <dpino@igalia.com>

        [GTK][WPE] Unreviewed test gardening. Emit new port baselines after r276193.

        * platform/gtk/TestExpectations:
        * platform/gtk/security/block-test-expected.txt: Added.
        * platform/wpe/security/block-test-expected.txt:

2021-04-19  Antti Koivisto  <antti@apple.com>

        Render tree updates for Text node content mutations should happen during rendering update
        https://bugs.webkit.org/show_bug.cgi?id=222406
        <rdar://problem/74822830>

        Reviewed by Simon Fraser.

        These are progressions.

        * fast/text/splitText-dirty-lines-expected.txt:
        * fast/text/text-combine-surroundContents-crash-expected.txt:
        * imported/blink/fast/css/first-letter-range-insert-expected.txt:

        Here we were actually drawing text that didn't exist in DOM anymore.

2021-04-19  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening. Gardened flaky failures after r224791.

        * platform/glib/TestExpectations:

2021-04-19  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening. Update baselines and test expectations after r224791.

        * platform/glib/TestExpectations:
        * platform/glib/http/tests/xmlhttprequest/simple-cross-origin-denied-events-post-expected.txt:
        * platform/glib/imported/w3c/web-platform-tests/xhr/send-entity-body-none-expected.txt:
        * platform/glib/security/block-test-no-port-expected.txt:

2021-04-19  Youenn Fablet  <youenn@apple.com>

        [mac-wk2] LayoutTest fast/mediastream/getUserMedia-webaudio.html is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=170960

        Reviewed by Eric Carlson.

        Update test to check for noise for more iterations.
        Remove timeout expectation since it is no longer timing out in bots.

        * fast/mediastream/getUserMedia-webaudio.html:
        * platform/mac-wk2/TestExpectations:

2021-04-19  Devin Rousso  <drousso@apple.com>

        Web Inspector: Graphics: add support for `steps()`/`spring()` CSS timing functions
        https://bugs.webkit.org/show_bug.cgi?id=224654

        Reviewed by BJ Burg.

        * inspector/animation/lifecycle-web-animation.html:
        * inspector/animation/lifecycle-web-animation-expected.txt:
        * inspector/animation/resources/lifecycle-utilities.js:
        * inspector/unit-tests/geometry.html: Added.
        * inspector/unit-tests/geometry-expected.txt: Added.

2021-04-19  Zalan Bujtas  <zalan@apple.com>

        [LFC][IFC] LineCandidate.inlineContent should be ignored when reverting
        https://bugs.webkit.org/show_bug.cgi?id=224771
        <rdar://76760857>

        Reviewed by Antti Koivisto.

        * fast/inline/crash-when-revert-has-trailing-line-break-expected.txt: Added.
        * fast/inline/crash-when-revert-has-trailing-line-break.html: Added.

2021-04-19  Amir Mark Jr  <amir_mark@apple.com>

        [ wk2 ] http/tests/security/contentSecurityPolicy/report-only-connect-src-xmlhttprequest-redirect-to-blocked.py is a constant text failure
        https://bugs.webkit.org/show_bug.cgi?id=224626

        Unreviewed test gardening

        * platform/wk2/TestExpectations: Updating expectations as a fix is being worked on.

2021-04-19  Manuel Rego Casasnovas  <rego@igalia.com>

        [selectors] Script focus and :focus-visible
        https://bugs.webkit.org/show_bug.cgi?id=224598

        Reviewed by Darin Adler.

        Update expectations for tests, most of them are passing on Mac. On iOS a bunch timeout so they're skipped, as other :focus-visible tests.

        * platform/ios/TestExpectations:
        * platform/mac/imported/w3c/web-platform-tests/css/selectors/focus-visible-009-expected.txt: Removed as test passes now.
        * platform/mac/TestExpectations:

2021-04-19  Darin Adler  <darin@apple.com>

        Nullptr crash in CSSCalcValue::category() via HTMLConverterCaches::floatPropertyValueForNode
        https://bugs.webkit.org/show_bug.cgi?id=221392

        Reviewed by Simon Fraser.

        * fast/css/calc-parsing-expected.txt: Updated for change below.
        * fast/css/calc-parsing.html: Added more test cases so this covers the affected cases of computed
        style for calc expressions that mix percentages and numbers. Alternatively, we could remove this
        entire test case because the web platform tests also cover this pretty well.

2021-04-19  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] Convert http/tests/blink convert PHP to Python
        https://bugs.webkit.org/show_bug.cgi?id=224702
        <rdar://problem/76783504>

        Reviewed by Darin Adler.

        * http/tests/blink/sendbeacon/beacon-cookie-expected.txt:
        * http/tests/blink/sendbeacon/beacon-cookie.html:
        * http/tests/blink/sendbeacon/beacon-cross-origin-expected.txt:
        * http/tests/blink/sendbeacon/beacon-cross-origin.html:
        * http/tests/blink/sendbeacon/beacon-cross-origin.https-expected.txt:
        * http/tests/blink/sendbeacon/beacon-cross-origin.https.html:
        * http/tests/blink/sendbeacon/beacon-same-origin-expected.txt:
        * http/tests/blink/sendbeacon/beacon-same-origin.html:
        * http/tests/blink/sendbeacon/resources/check-beacon.php: Removed.
        * http/tests/blink/sendbeacon/resources/check-beacon.py: Added.
        (extensive_strip):
        * http/tests/blink/sendbeacon/resources/save-beacon.php: Removed.
        * http/tests/blink/sendbeacon/resources/save-beacon.py: Added.
        (prettify):
        (decode_multipart):
        * http/tests/resources/portabilityLayer.py:
        (get_post_data):
        (get_request):
        * platform/ios/http/tests/blink/sendbeacon/beacon-same-origin-expected.txt:
        * platform/mac/http/tests/blink/sendbeacon/beacon-same-origin-expected.txt:

2021-04-19  Philippe Normand  <pnormand@igalia.com>

        Unreviewed, GLIB gardening

        * platform/glib/TestExpectations: Flag a few more media tests to skip or as flaky crash.

2021-04-19  Philippe Normand  <pnormand@igalia.com>

        Unreviewed, GLIB gardening

        * platform/glib/TestExpectations: Flag imported/w3c/web-platform-tests/media-source/mediasource-changetype-play-implicit.html as flaky crash.

2021-04-19  Philippe Normand  <pnormand@igalia.com>

        Unreviewed, WPE gardening

        Share more media tests baselines between the GTK and WPE ports.

        * platform/glib/TestExpectations:
        * platform/glib/imported/w3c/web-platform-tests/media-source/mediasource-changetype-play-implicit-expected.txt: Renamed from LayoutTests/platform/gtk/imported/w3c/web-platform-tests/media-source/mediasource-changetype-play-implicit-expected.txt.
        * platform/glib/imported/w3c/web-platform-tests/media-source/mediasource-changetype-play-negative-expected.txt: Renamed from LayoutTests/platform/gtk/imported/w3c/web-platform-tests/media-source/mediasource-changetype-play-negative-expected.txt.
        * platform/glib/imported/w3c/web-platform-tests/media-source/mediasource-changetype-play-without-codecs-parameter-expected.txt: Renamed from LayoutTests/platform/gtk/imported/w3c/web-platform-tests/media-source/mediasource-changetype-play-without-codecs-parameter-expected.txt.
        * platform/glib/imported/w3c/web-platform-tests/media-source/mediasource-duration-boundaryconditions-expected.txt: Renamed from LayoutTests/platform/gtk/imported/w3c/web-platform-tests/media-source/mediasource-duration-boundaryconditions-expected.txt.
        * platform/glib/imported/w3c/web-platform-tests/media-source/mediasource-getvideoplaybackquality-expected.txt: Renamed from LayoutTests/platform/gtk/imported/w3c/web-platform-tests/media-source/mediasource-getvideoplaybackquality-expected.txt.
        * platform/glib/imported/w3c/web-platform-tests/media-source/mediasource-is-type-supported-expected.txt: Renamed from LayoutTests/platform/gtk/imported/w3c/web-platform-tests/media-source/mediasource-is-type-supported-expected.txt.
        * platform/glib/imported/w3c/web-platform-tests/media-source/mediasource-remove-expected.txt: Renamed from LayoutTests/platform/gtk/imported/w3c/web-platform-tests/media-source/mediasource-remove-expected.txt.
        * platform/glib/imported/w3c/web-platform-tests/media-source/mediasource-removesourcebuffer-expected.txt: Renamed from LayoutTests/platform/gtk/imported/w3c/web-platform-tests/media-source/mediasource-removesourcebuffer-expected.txt.
        * platform/glib/imported/w3c/web-platform-tests/media-source/mediasource-sourcebuffer-mode-expected.txt: Renamed from LayoutTests/platform/gtk/imported/w3c/web-platform-tests/media-source/mediasource-sourcebuffer-mode-expected.txt.
        * platform/glib/media/W3C/video/canPlayType/canPlayType_codecs_order_1-expected.txt: Renamed from LayoutTests/platform/gtk/media/W3C/video/canPlayType/canPlayType_codecs_order_1-expected.txt.
        * platform/glib/media/W3C/video/canPlayType/canPlayType_supported_but_no_codecs_parameter_1-expected.txt: Renamed from LayoutTests/platform/gtk/media/W3C/video/canPlayType/canPlayType_supported_but_no_codecs_parameter_1-expected.txt.
        * platform/glib/media/W3C/video/canPlayType/canPlayType_two_implies_one_1-expected.txt: Renamed from LayoutTests/platform/gtk/media/W3C/video/canPlayType/canPlayType_two_implies_one_1-expected.txt.
        * platform/glib/media/W3C/video/canPlayType/canPlayType_two_implies_one_2-expected.txt: Renamed from LayoutTests/platform/gtk/media/W3C/video/canPlayType/canPlayType_two_implies_one_2-expected.txt.
        * platform/glib/media/audio-controls-rendering-expected.png: Renamed from LayoutTests/platform/gtk/media/audio-controls-rendering-expected.png.
        * platform/glib/media/audio-repaint-expected.png: Renamed from LayoutTests/platform/gtk/media/audio-repaint-expected.png.
        * platform/glib/media/context-menu-actions-expected.txt: Renamed from LayoutTests/platform/gtk/media/context-menu-actions-expected.txt.
        * platform/glib/media/controls-after-reload-expected.png: Renamed from LayoutTests/platform/gtk/media/controls-after-reload-expected.png.
        * platform/glib/media/controls-layout-direction-expected.png: Renamed from LayoutTests/platform/gtk/media/controls-layout-direction-expected.png.
        * platform/glib/media/controls-strict-expected.png: Renamed from LayoutTests/platform/gtk/media/controls-strict-expected.png.
        * platform/glib/media/controls-styling-expected.png: Renamed from LayoutTests/platform/gtk/media/controls-styling-expected.png.
        * platform/glib/media/controls-styling-strict-expected.png: Renamed from LayoutTests/platform/gtk/media/controls-styling-strict-expected.png.
        * platform/glib/media/controls-without-preload-expected.png: Renamed from LayoutTests/platform/gtk/media/controls-without-preload-expected.png.
        * platform/glib/media/media-can-play-ogg-expected.txt: Renamed from LayoutTests/platform/gtk/media/media-can-play-ogg-expected.txt.
        * platform/glib/media/media-controls-clone-expected.png: Renamed from LayoutTests/platform/gtk/media/media-controls-clone-expected.png.
        * platform/glib/media/media-document-audio-repaint-expected.png: Renamed from LayoutTests/platform/gtk/media/media-document-audio-repaint-expected.png.
        * platform/glib/media/media-fullscreen-inline-expected.txt: Renamed from LayoutTests/platform/gtk/media/media-fullscreen-inline-expected.txt.
        * platform/glib/media/media-fullscreen-not-in-document-expected.txt: Renamed from LayoutTests/platform/gtk/media/media-fullscreen-not-in-document-expected.txt.
        * platform/glib/media/media-source/media-source-resize-expected.txt: Renamed from LayoutTests/platform/gtk/media/media-source/media-source-resize-expected.txt.
        * platform/glib/media/video-canvas-alpha-expected.png: Renamed from LayoutTests/platform/gtk/media/video-canvas-alpha-expected.png.
        * platform/glib/media/video-controls-rendering-expected.png: Renamed from LayoutTests/platform/gtk/media/video-controls-rendering-expected.png.
        * platform/glib/media/video-display-toggle-expected.png: Renamed from LayoutTests/platform/gtk/media/video-display-toggle-expected.png.
        * platform/glib/media/video-empty-source-expected.png: Renamed from LayoutTests/platform/gtk/media/video-empty-source-expected.png.
        * platform/glib/media/video-no-audio-expected.png: Renamed from LayoutTests/platform/gtk/media/video-no-audio-expected.png.
        * platform/glib/media/video-playing-and-pause-expected.png: Renamed from LayoutTests/platform/gtk/media/video-playing-and-pause-expected.png.
        * platform/glib/media/video-playing-and-pause-expected.txt: Renamed from LayoutTests/platform/gtk/media/video-playing-and-pause-expected.txt.
        * platform/glib/media/video-volume-slider-expected.png: Renamed from LayoutTests/platform/gtk/media/video-volume-slider-expected.png.
        * platform/glib/media/video-zoom-controls-expected.png: Renamed from LayoutTests/platform/gtk/media/video-zoom-controls-expected.png.
        * platform/glib/media/video-zoom-expected.png: Renamed from LayoutTests/platform/gtk/media/video-zoom-expected.png.
        * platform/glib/media/video-zoom-expected.txt: Renamed from LayoutTests/platform/gtk/media/video-zoom-expected.txt.
        * platform/gtk/TestExpectations:
        * platform/wpe/TestExpectations:
        * platform/wpe/media/video-aspect-ratio-expected.txt: Added.
        * platform/wpe/media/video-canvas-createPattern-expected.png: Added.
        * platform/wpe/media/video-colorspace-yuv420-expected.png: Added.
        * platform/wpe/media/video-colorspace-yuv420-expected.txt: Added.
        * platform/wpe/media/video-colorspace-yuv422-expected.png: Added.
        * platform/wpe/media/video-colorspace-yuv422-expected.txt: Added.
        * platform/wpe/media/video-frame-accurate-seek-expected.png: Added.
        * platform/wpe/media/video-frame-accurate-seek-expected.txt: Added.
        * platform/wpe/media/video-layer-crash-expected.txt: Added.
        * platform/wpe/media/video-transformed-expected.txt: Added.

2021-04-19  Youenn Fablet  <youenn@apple.com>

        Migrate some WebRTC encoded transform tests to WPT
        https://bugs.webkit.org/show_bug.cgi?id=224604

        Reviewed by Eric Carlson.

        * http/wpt/webrtc/sframe-transform-readable-crash.html: Removed.
        * platform/glib/TestExpectations:
        * platform/ios-wk1/TestExpectations:
        * platform/mac-wk1/TestExpectations:
        * webrtc/script-transform.js: Removed.

2021-04-19  Felipe Erias  <felipeerias@igalia.com>

        [css-flexbox] Table layout disregards overriding height
        https://bugs.webkit.org/show_bug.cgi?id=224665

        Reviewed by Sergio Villar Senin.

        * TestExpectations: Removed four WPT tests that now pass.

2021-04-19  Philippe Normand  <pnormand@igalia.com>

        [WPE][GTK] Enable AVIF decoder as experimental feature and unskip tests
        https://bugs.webkit.org/show_bug.cgi?id=224663

        Reviewed by Xabier Rodriguez-Calvar.

        * platform/gtk/TestExpectations: Unskip avif tests.

2021-04-18  Manuel Rego Casasnovas  <rego@igalia.com>

        [selectors] Update :focus-visible tests from WPT
        https://bugs.webkit.org/show_bug.cgi?id=224601
        <rdar://problem/76827947>

        Reviewed by Darin Adler.

        Remove glib expectations as they match the main ones.

        * platform/glib/imported/w3c/web-platform-tests/css/selectors/focus-visible-002-expected.txt: Removed.
        * platform/glib/imported/w3c/web-platform-tests/css/selectors/focus-visible-003-expected.txt: Removed.
        * platform/glib/imported/w3c/web-platform-tests/css/selectors/focus-visible-004-expected.txt: Removed.

2021-04-18  Wenson Hsieh  <wenson_hsieh@apple.com>

        Selected image overlay text should never be visible
        https://bugs.webkit.org/show_bug.cgi?id=224734
        <rdar://problem/76806399>

        Reviewed by Darin Adler.

        Add a new layout test.

        * fast/images/image-extraction/image-overlay-with-selection-styles-expected.html: Added.
        * fast/images/image-extraction/image-overlay-with-selection-styles.html: Added.

2021-04-18  Rob Buis  <rbuis@igalia.com>

        Support contain: layout
        https://bugs.webkit.org/show_bug.cgi?id=223569

        Reviewed by Darin Adler.

        Unskip tests that pass now.

        * TestExpectations:

2021-04-18  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening. Marked css-transforms/animation/rotate-composition.html as failure after r276231.

        * platform/glib/TestExpectations:

2021-04-18  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo-wk1/http/tests/xmlhttprequest/redirect-cross-origin-post-expected.txt: Added.
        * platform/wincairo-wk1/http/tests/xmlhttprequest/simple-cross-origin-denied-events-post-expected.txt: Added.
        * platform/wincairo/TestExpectations:

2021-04-18  Youenn Fablet  <youenn@apple.com>

        Blob URLs should use for their owner origin for CSP checks
        https://bugs.webkit.org/show_bug.cgi?id=224535
        <rdar://76458106>

        Reviewed by Alex Christensen.

        * http/tests/security/frame-src-and-blob-download.https-expected.txt: Added.
        * http/tests/security/frame-src-and-blob-download.https.html:
        * http/tests/security/resources/frame-src-and-blob-download-frame.html: Added.
        * platform/mac-wk1/TestExpectations:
        * platform/win/TestExpectations:

2021-04-17  Tim Nguyen  <ntim@apple.com>

        Add support for inline-{start/end} values to float & clear properties
        https://bugs.webkit.org/show_bug.cgi?id=218087

        Reviewed by Antti Koivisto & Zalan Bujtas.

        Imported reftests from: https://github.com/web-platform-tests/wpt/commit/47e7176242e2ca4ca68d6cfe032619ccf44d55a6
        Enabled: imported/w3c/web-platform-tests/css/css-logical/logical-values-float-clear.html

        * TestExpectations:

2021-04-17  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening. Emit new baseline after r276193.

        * platform/glib/TestExpectations:
        * platform/glib/http/tests/xmlhttprequest/simple-cross-origin-denied-events-post-expected.txt: Added.

2021-04-17  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r276178.
        https://bugs.webkit.org/show_bug.cgi?id=224724

        tests still broken

        Reverted changeset:

        "[ macOS Wk2 ] media/media-fragments/TC0051.html is flakey
        crashing"
        https://bugs.webkit.org/show_bug.cgi?id=222277
        https://trac.webkit.org/changeset/276178

2021-04-17  Tyler Wilcock  <twilco.o@protonmail.com>

        Media queries with max-width greater than 999999999px evaluate to false
        https://bugs.webkit.org/show_bug.cgi?id=224097

        Reviewed by Darin Adler.

        We now evaluate <length> values in media queries with double
        precision instead of int precision to match other browsers and pass another WPT.

        * TestExpectations:
        Remove ImageOnlyFailure for imported/w3c/web-platform-tests/css/mediaqueries/min-width-001.xht
        because it passes now.

        * fast/media/media-query-lengths-evaluate-with-double-precision-expected.html:
        Added.

        * fast/media/media-query-lengths-evaluate-with-double-precision.html:
        Added to test properties that WPT min-width-001.xht doesn't
        (min-height, device-min-height, device-min-width).

2021-04-17  Philippe Normand  <pnormand@igalia.com>

        [GStreamer][MediaStream] fast/mediastream/play-newly-added-audio-track.html is failing since added in r260380
        https://bugs.webkit.org/show_bug.cgi?id=210840

        Reviewed by Xabier Rodriguez-Calvar.

        Remove flakyness from test and unflag it on GTK.

        * fast/mediastream/play-newly-added-audio-track.html: addTrack might have asynchronous
        effects, so it's better to rely on the trackadded event when testing its result.
        * platform/gtk/TestExpectations:

2021-04-16  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening. Update focus-visible tests baselines after r276127.

        * platform/glib/imported/w3c/web-platform-tests/css/selectors/focus-visible-002-expected.txt: Added.
        * platform/glib/imported/w3c/web-platform-tests/css/selectors/focus-visible-003-expected.txt: Renamed from LayoutTests/platform/wpe/imported/w3c/web-platform-tests/css/selectors/focus-visible-003-expected.txt.
        * platform/glib/imported/w3c/web-platform-tests/css/selectors/focus-visible-004-expected.txt: Renamed from LayoutTests/platform/wpe/imported/w3c/web-platform-tests/css/selectors/focus-visible-004-expected.txt.

2021-04-16  Brent Fulgham  <bfulgham@apple.com>

        Perform port blocking earlier in the load
        https://bugs.webkit.org/show_bug.cgi?id=224525
        <rdar://problem/75440591>

        Reviewed by Darin Adler.

        WebKit blocks loads to URLs with any of the prohibited ports defined in
        the engine. This blocking happens late in the load process, allowing
        connections to be made (and observed). Instead, we should stop the load
        early, at the same time we perform other checks.

        Note: The fact that we now block loads earlier means that we do not fire
        'willSendRequestForFrame' for blocked ports, so WebKitTestRunner no longer
        outputs a message to stdout. Those errors are reported in the JS console,
        but since some test paths are specified to always output JS console messages
        to stderrr (for example the WPT tests), we have to revise out test expectations
        for a few cases.

        * fast/loader/cancel-load-during-port-block-timer.html: Revised expectation to reflect new console error message.
        * http/tests/cache/cancel-during-failure-crash-expected.txt: Ditto.
        * http/tests/preload/download_resources_from_invalid_headers-expected.txt: Update to reflect a preflight is not executed
          for a blocked port.
        * http/tests/preload/resources/nph-invalid_resources_from_header.pl: Update to reflect that we do not preload
          from restricted ports.
        * http/tests/security/blocked-on-redirect-expected.txt: Revised expectation to match revised error message.
        * http/tests/security/form-blocked-port.html: Added.
        * http/tests/security/form-blocked-port-expected.txt: Added.
        * http/tests/xmlhttprequest/cross-origin-redirect-responseURL-expected.txt: Revised expectation for revised error message.
        * http/tests/xmlhttprequest/redirect-cross-origin-2-expected.txt: Ditto.
        * http/tests/xmlhttprequest/redirect-cross-origin-expected.txt: Ditto.
        * http/tests/xmlhttprequest/simple-cross-origin-denied-events.html: Instead of using a port WebKit blocks (7), use one that
          is not blocked but is unlikely to be active (as originally intended). This retains the expected test behavior since we now
          block loads to restricted ports earlier in the load process.
        * http/tests/xmlhttprequest/simple-cross-origin-denied-events-post.html: Ditto.
        * http/tests/xmlhttprequest/simple-cross-origin-denied-events-post-expected.txt: Update test output to reflect that we
          are attempting to load from port 8 instead of port 7.
        * http/wpt/beacon/beacon-async-error-logging-expected.txt: Ditto.
        * http/wpt/beacon/beacon-async-error-logging.html: Update to reflect a preflight is not executed
          for a blocked port.
        * imported/w3c/web-platform-tests/fetch/api/request/request-bad-port.any-expected.txt: Since we block before executing the load,
          TestRunner no longer outputs an error message to stdout. Instead, they appear in stderr (since all 'wpt' tests are marked
          to dump console.log output to stderr).
        * imported/w3c/web-platform-tests/fetch/api/request/request-bad-port.any.worker-expected.txt: Ditto.
        * platform/mac-wk1/http/tests/xmlhttprequest/redirect-cross-origin-post-expected.txt: Revise to reflect change in console
          logging (the functional test results are identical).
        * platform/mac-wk1/http/tests/xmlhttprequest/simple-cross-origin-denied-events-post-expected.txt: Ditto.
        * platform/win/http/tests/xmlhttprequest/redirect-cross-origin-post-expected.txt: Ditto.
        * platform/win/http/tests/xmlhttprequest/simple-cross-origin-denied-events-post-expected.txt: Ditto.
        * platform/wk2/http/tests/security/blocked-on-redirect-expected.txt: Ditto.

2021-04-16  Chris Dumez  <cdumez@apple.com>

        [GPUProcess] Crash under RemoteAudioDestination::render()
        https://bugs.webkit.org/show_bug.cgi?id=224688
        <rdar://76643365>

        Reviewed by Eric Carlson.

        Add layout test that can flakily reproduce the issue.

        * webaudio/AudioContext/audiocontext-destruction-crash-expected.txt: Added.
        * webaudio/AudioContext/audiocontext-destruction-crash.html: Added.

2021-04-16  Darin Adler  <darin@apple.com>

        font-size with viewport units in calc() doesn't change when viewport resizes
        https://bugs.webkit.org/show_bug.cgi?id=224614

        Reviewed by Zalan Bujtas.

        * css3/viewport-percentage-lengths/viewport-percentage-lengths-resize-expected.txt:
        * css3/viewport-percentage-lengths/viewport-percentage-lengths-resize.html:
        Added tests that involve calc, and broke rules up into multiple elements so that side
        effects from one style won't give us false negatives. This now has a subtest that was
        failing without the fix in this patch.

2021-04-16  Ian Gilbert  <iang@apple.com>

        Nullptr deref in CompositeEditCommand::isRemovableBlock in DeleteSelectionCommand::removeRedundantBlocks
        https://bugs.webkit.org/show_bug.cgi?id=224518

        Reviewed by Ryosuke Niwa.

        Add a regression test.

        * editing/execCommand/remove-node-during-command-crash-expected.txt: Added.
        * editing/execCommand/remove-node-during-command-crash.html: Added.

2021-04-16  Cameron McCormack  <heycam@apple.com>

        Place vertical scrollbars at (inline/block)-end edge in all writing modes.
        https://bugs.webkit.org/show_bug.cgi?id=224224

        Reviewed by Simon Fraser.

        iOS test failure expectations and skips are because we don't support
        non-overlay scrollbars on the left on that platform.

        * TestExpectations:
        * css3/flexbox/child-overflow-expected.html:
        * fast/repaint/vertical-overflow-parent-expected.txt:
        * fast/repaint/vertical-overflow-same-expected.txt:
        * fast/scrolling/v-rl-scrollbars-initial-position-dynamic-expected.html: Added.
        * fast/scrolling/v-rl-scrollbars-initial-position-dynamic.html: Added.
        * fast/scrolling/v-rl-scrollbars-initial-position-expected.html: Added.
        * fast/scrolling/v-rl-scrollbars-initial-position.html: Added.
        * fast/scrolling/vertical-scrollbar-position-expected.txt: Added.
        * fast/scrolling/vertical-scrollbar-position.html: Added.
        * platform/ios/TestExpectations:
        * platform/ios/imported/w3c/web-platform-tests/css/css-scroll-snap/snap-inline-block-expected.txt: Added.
        * platform/ios/imported/w3c/web-platform-tests/css/cssom-view/scrollLeftTop-expected.txt: Copied from LayoutTests/imported/w3c/web-platform-tests/css/cssom-view/scrollLeftTop-expected.txt.

2021-04-16  Jiewen Tan  <jiewen_tan@apple.com>

        Allow using the platform authenticator on non-Touch ID Macs according to Internal requirements
        https://bugs.webkit.org/show_bug.cgi?id=224639
        <rdar://74698346>

        Reviewed by Daniel Bates.

        * http/wpt/webauthn/public-key-credential-create-success-local.https-expected.txt:
        * http/wpt/webauthn/public-key-credential-create-success-local.https.html:
        * http/wpt/webauthn/public-key-credential-get-success-local.https-expected.txt:
        * http/wpt/webauthn/public-key-credential-get-success-local.https.html:

2021-04-16  Robert Jenner  <jenner@apple.com>

        [ macOS Wk2 ] media/media-fragments/TC0051.html is flakey crashing
        https://bugs.webkit.org/show_bug.cgi?id=222277

        Uneviewed test gardening.

        * platform/mac-wk2/TestExpectations: Removing skip expectation to verify fix. 

2021-04-16  Robert Jenner  <jenner@apple.com>

        N[ BigSur Release wk2 ARM64 ] inspector/console/console-oom.html is a flakey crash
        https://bugs.webkit.org/show_bug.cgi?id=224698

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations: Updating expectations to Pass Crash for BigSur Release arm64 only.

2021-04-16  Robert Jenner  <jenner@apple.com>

        [ BigSur wk2 ARM64 ] http/wpt/webrtc/change-encoded-transform.html is a flakey crash
        https://bugs.webkit.org/show_bug.cgi?id=224696

        Unreviewed test gardneing.

        * platform/mac-wk2/TestExpectations: Updating test expectations to Pass Crash while test is reviewed.

2021-04-16  Robert Jenner  <jenner@apple.com>

        [ macOS wk2 ]compositing/video/video-border-radius-clipping.html is a flakey image failure
        https://bugs.webkit.org/show_bug.cgi?id=224690

        Unreviewed test gardneing.

        * platform/mac-wk2/TestExpectations: Updating test expectations to include Debug. 

2021-04-16  Said Abou-Hallawa  <said@apple.com>

        [BigSur wk1] svg/canvas/canvas-global-alpha-svg.html is flakey failing
        https://bugs.webkit.org/show_bug.cgi?id=221559
        <rdar://problem/74104075>

        Reviewed by Daniel Bates.

        By default, aliasing is applied when drawing the SVGImage to the canvas
        through CanvasRenderingContext2D::drawImage() and when drawing the canvas
        itself to DOM container through ImageBuffer::draw(). Because the test 
        includes only rectangles, we need to make sure the edges of the SVG image
        and the canvas in this test get pixelated. This will match the expected
        page which uses DOM objects to mimic the SVG and canvas drawing

        Make sure the test is ended only after the SVG image is fully loaded.

        * platform/ios/TestExpectations:
        * platform/mac-wk1/TestExpectations:
        * svg/canvas/canvas-global-alpha-svg.html:

2021-04-16  Robert Jenner  <jenner@apple.com>

        N[ wk2 ] media/presentationmodechanged-fired-once.html is a flakey timeout
        https://bugs.webkit.org/show_bug.cgi?id=224633

        Unreviewed test gardneing.

        * platform/ios-simulator-wk2/TestExpectations: Forgot to update expectations for iOS as well.

2021-04-16  Robert Jenner  <jenner@apple.com>

        [ wk2 ] media/presentationmodechanged-fired-once.html is a flakey timeout
        https://bugs.webkit.org/show_bug.cgi?id=224633

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations: Updating test expectations to Pass Timeout while test is reviewed.

2021-04-16  Tyler Wilcock  <twilco.o@protonmail.com>

        [css-counter-styles] Parse and add feature flag for @counter-style
        https://bugs.webkit.org/show_bug.cgi?id=223150

        Reviewed by Darin Adler.

        Add tests ensuring @counter-style is not exposed when feature flag is
        disabled.

        * webexposed/counter-style-is-not-exposed-expected.txt: Added.
        * webexposed/counter-style-is-not-exposed.html: Added.

2021-04-16  Zalan Bujtas  <zalan@apple.com>

        [IFC] Incorrect box height when scrollbar takes padding box space
        https://bugs.webkit.org/show_bug.cgi?id=224546
        <rdar://problem/76666402>

        Reviewed by Antti Koivisto.

        * fast/inline-block/non-overlay-scrollbar-incorrect-padding-expected.txt: Added.
        * fast/inline-block/non-overlay-scrollbar-incorrect-padding.html: Added.

2021-04-16  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardenind. Gardened several flaky failures.

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:

2021-04-16  Manuel Rego Casasnovas  <rego@igalia.com>

        [selectors] Update :focus-visible tests from WPT
        https://bugs.webkit.org/show_bug.cgi?id=224601

        Reviewed by Darin Adler.

        Mark failures. They'll be gone once bug #224598 is fixed.

        * platform/ios/TestExpectations:
        * platform/mac/TestExpectations:

2021-04-16  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening. Reintroduce test failure imported/w3c/web-platform-tests/service-workers/service-worker/next-hop-protocol.https.html.

        * platform/glib/TestExpectations:

2021-04-15  Diego Pino Garcia  <dpino@igalia.com>

        [GTK][WPE] Unreviewed test gardening. Gardened tests expected to fail but passed.

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:
        * platform/wpe/TestExpectations:

2021-04-15  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] Convert http/tests/resourceLoadStatistics convert PHP to Python
        https://bugs.webkit.org/show_bug.cgi?id=223541
        <rdar://problem/75639142>

        Reviewed by Jonathan Bedard.

        * http/tests/resourceLoadStatistics/cap-cache-max-age-for-prevalent-resource.html:
        * http/tests/resourceLoadStatistics/resources/cached-permanent-redirect.php: Removed.
        * http/tests/resourceLoadStatistics/resources/cached-permanent-redirect.py: Added.

2021-04-15  Wenson Hsieh  <wenson_hsieh@apple.com>

        Unreviewed test gardening after r276084

        Mark the test as failing with an image diff on Windows, since `contextClick` in DumpRenderTree does not appear
        to return the resulting context menu item titles (or information about the context menu items) on Windows.

        * platform/win/TestExpectations:

2021-04-15  Dean Jackson  <dino@apple.com>

        Rebaseline some WebGL tests that are only running on the dedicated WebGL bot.

        * webgl/2.0.0/conformance/rendering/clipping-wide-points-expected.txt:
        * webgl/2.0.0/conformance2/extensions/promoted-extensions-in-shaders-expected.txt:
        * webgl/2.0.0/conformance2/rendering/clipping-wide-points-expected.txt:
        * webgl/2.0.0/conformance2/rendering/fs-color-type-mismatch-color-buffer-type-expected.txt:
        * webgl/2.0.0/conformance2/state/gl-object-get-calls-expected.txt:
        * webgl/2.0.0/deqp/data/gles2/shaders/conversions-expected.txt:
        * webgl/2.0.0/deqp/data/gles3/shaders/conversions-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/fboinvalidate/sub-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/fboinvalidate/whole-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/fbomultisample.2_samples-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/fbomultisample.4_samples-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/fbomultisample.8_samples-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/fragmentoutput/array.int-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/fragmentoutput/array.uint-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/fragmentoutput/basic.int-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/fragmentoutput/basic.uint-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/fragmentoutput/random_00-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/fragmentoutput/random_01-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/fragmentoutput/random_02-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/internalformatquery-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/negativebufferapi-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/occlusionquery_strict-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/primitiverestart/00-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/primitiverestart/01-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/primitiverestart/02-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/primitiverestart/03-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/primitiverestart/04-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/primitiverestart/05-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/primitiverestart/06-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/primitiverestart/07-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/readpixel-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/shadertexturefunction/texturegrad-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureformat/sized_depth_stencil-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/2d_linear_greater-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/2d_linear_greater_or_equal-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/2d_linear_less-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/2d_linear_less_or_equal-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/2d_linear_mipmap_linear_greater-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/2d_linear_mipmap_linear_greater_or_equal-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/2d_linear_mipmap_linear_less-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/2d_linear_mipmap_linear_less_or_equal-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/2d_linear_mipmap_nearest_greater-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/2d_linear_mipmap_nearest_greater_or_equal-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/2d_linear_mipmap_nearest_less-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/2d_linear_mipmap_nearest_less_or_equal-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/2d_nearest_greater-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/2d_nearest_greater_or_equal-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/2d_nearest_less-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/2d_nearest_less_or_equal-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_linear_greater-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_linear_greater_or_equal-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_linear_less-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_linear_less_or_equal-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_nearest_greater-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_nearest_greater_or_equal-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_nearest_less-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_nearest_less_or_equal-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/cube_linear_equal-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/cube_linear_mipmap_linear_equal-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/cube_linear_mipmap_linear_not_equal-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/cube_linear_mipmap_nearest_equal-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/cube_linear_mipmap_nearest_not_equal-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/cube_linear_not_equal-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/cube_nearest_equal-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_linear_equal-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_linear_not_equal-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_nearest_equal-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_nearest_not_equal-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/textureshadow/cube_nearest_not_equal-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/texturespecification/texstorage2d_format_depth_stencil-expected.txt:
        * webgl/2.0.0/deqp/functional/gles3/texturespecification/texstorage3d_format_depth_stencil-expected.txt:
        * webgl/conformance/extensions/webgl-multi-draw-expected.txt:

2021-04-15  Robert Jenner  <jenner@apple.com>

        N[ macOS Wk2 ] imported/w3c/web-platform-tests/media-source/mediasource-activesourcebuffers.html is a flakey text failure
        https://bugs.webkit.org/show_bug.cgi?id=222371

        Uneviewed test gardening.

        * platform/mac-wk2/TestExpectations: Added Crash to the existing test expectations, as test is flakey crashing as well.

2021-04-15  Robert Jenner  <jenner@apple.com>

        REGRESSION (r275926): [ BigSur X86_64] imported/w3c/web-platform-tests/css/css-fonts/font-feature-settings-tibetan.html
        https://bugs.webkit.org/show_bug.cgi?id=224631

        Unreviewed test gardening.

        * platform/mac/TestExpectations: Test has been fixed for new platforms, and won't be for BigSur. Updating expectations for BigSur only. 

2021-04-15  Tim Horton  <timothy_horton@apple.com>

        Add a mechanism to dump the PlatformCALayer subtree of a GraphicsLayer, for testing
        https://bugs.webkit.org/show_bug.cgi?id=224595

        Reviewed by Simon Fraser.

        * fast/harness/platform-layer-tree-as-text-expected.txt: Added.
        * fast/harness/platform-layer-tree-as-text.html: Added.
        Add a test for the basic output of platformLayerTreeAsText().

        * compositing/video/video-object-position-expected.txt:
        * compositing/visible-rect/mask-layer-coverage-expected.txt:
        * css3/filters/backdrop/backdrop-filter-does-not-size-properly-absolute-expected.txt:
        * css3/filters/backdrop/backdrop-filter-does-not-size-properly-border-and-padding-expected.txt:
        * css3/filters/backdrop/backdrop-filter-with-cliprect-expected.txt:
        * css3/filters/backdrop/backdrop-filter-with-mask-expected.txt:
        * css3/filters/backdrop/backdrop-with-visibility-hidden-changing-expected.txt:
        * css3/filters/backdrop/backdrop-with-visibility-hidden-expected.txt:
        * css3/filters/backdrop/resource-use-add-more-layers-expected.txt:
        * css3/filters/backdrop/resource-use-excessive-expected.txt:
        * css3/filters/backdrop/resource-use-ok-expected.txt:
        * css3/filters/backdrop/resource-use-remove-some-layers-expected.txt:
        * fullscreen/full-screen-layer-dump-expected.txt:
        * platform/ios/compositing/reflections/direct-image-object-fit-reflected-expected.txt:
        * platform/ios/compositing/video/video-object-position-expected.txt:
        * platform/ios/compositing/visible-rect/mask-layer-coverage-expected.txt:
        * platform/ios/css3/filters/backdrop/backdrop-filter-does-not-size-properly-absolute-expected.txt:
        * platform/ios/css3/filters/backdrop/backdrop-filter-with-cliprect-expected.txt:
        * platform/ios/css3/filters/backdrop/backdrop-filter-with-mask-expected.txt:
        * platform/mac/compositing/images/direct-image-object-fit-expected.txt:
        * platform/mac/compositing/reflections/direct-image-object-fit-reflected-expected.txt:
        * platform/mac/compositing/video/video-object-fit-expected.txt:
        Rebaseline some tests to the new logging format.

        * platform/gtk/TestExpectations:
        * platform/win/TestExpectations:
        * platform/wpe/TestExpectations:
        Skip the new test on non-Cocoa ports.

2021-04-15  Wenson Hsieh  <wenson_hsieh@apple.com>

        [macOS] Support the Translate menu item in editable selected text
        https://bugs.webkit.org/show_bug.cgi?id=224625
        <rdar://problem/76723022>

        Reviewed by Tim Horton and Devin Rousso.

        Add a new layout test to verify that three context menu actions are consistent across selected text in editable
        and non-editable content. This test is valid for all platforms where `ENABLE(CONTEXT_MENUS)` is set, regardless
        of whether or not each individual action is supported.

        * fast/events/contextmenu-actions-in-selected-text-expected.html: Added.
        * fast/events/contextmenu-actions-in-selected-text.html: Added.
        * platform/ios/TestExpectations:

2021-04-15  Ian Gilbert  <iang@apple.com>

        Null pointer dereference on MediaStreamAudioSourceNode destructor
        https://bugs.webkit.org/show_bug.cgi?id=224573

        Reviewed by Eric Carlson.

        Add regression test.

        * webaudio/destroy-audio-source-node-with-no-track-crash-expected.txt: Added.
        * webaudio/destroy-audio-source-node-with-no-track-crash.html: Added.

2021-04-15  Julian Gonzalez  <julian_a_gonzalez@apple.com>

        Crash in ReplaceSelectionCommand::mergeEndIfNeeded()
        https://bugs.webkit.org/show_bug.cgi?id=224587

        Reviewed by Ryosuke Niwa.

        Add a test to catch the editing crash fixed here; thanks to Tuomas Karkkainen
        for its basic structure and Ryosuke Niwa for some fixes.

        * editing/inserting/insert-horizontal-rule-with-style-crash-expected.txt: Added.
        * editing/inserting/insert-horizontal-rule-with-style-crash.html: Added.

2021-04-15  Antoine Quint  <graouts@webkit.org>

        calc() simplification for a multiplication should apply the multiplication to each value of an addition
        https://bugs.webkit.org/show_bug.cgi?id=224376

        Reviewed by Dean Jackson.

        Add a test for a multiplication with more than 2 values on the multiplied side such that
        we check that we correctly handle a larger number of children in Add node than we did in
        the Product node, which led to a crash in an earlier version of the patch that
        landed for bug 224376 (r275793) but was then corrected in r275869. 

        * css3/calc/simplification-expected.txt:
        * css3/calc/simplification.html:

2021-04-15  Antoine Quint  <graouts@webkit.org>

        calc() should not contain 0 values other than percentages
        https://bugs.webkit.org/show_bug.cgi?id=224611

        Reviewed by Simon Fraser.

        Adjust a non-WPT test to not feature a 0px addition. 

        * fast/shapes/shape-outside-floats/shape-outside-animation-expected.txt:
        * fast/shapes/shape-outside-floats/shape-outside-animation.html:

2021-04-15  Amir Mark Jr  <amir_mark@apple.com>

        [ MacOS wk2 ] webgl/1.0.3/conformance/glsl/functions/glsl-function-abs.html is flaky crashing
        https://bugs.webkit.org/show_bug.cgi?id=224612

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-04-14  Wenson Hsieh  <wenson_hsieh@apple.com>

        [iOS] Image extraction fails in Google search results
        https://bugs.webkit.org/show_bug.cgi?id=224527
        <rdar://problem/76500331>

        Reviewed by Andy Estes.

        Add a new layout test to exercise the user agent stylesheet change.

        * fast/images/image-extraction/image-overlay-in-image-with-zero-font-size-expected-mismatch.html: Added.
        * fast/images/image-extraction/image-overlay-in-image-with-zero-font-size.html: Added.

2021-04-15  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] Convert http/tests/media convert PHP to Python
        https://bugs.webkit.org/show_bug.cgi?id=224528
        <rdar://problem/76627995>

        Reviewed by Jonathan Bedard.

        * http/tests/media/media-document-referer.html:
        * http/tests/media/media-document.html:
        * http/tests/media/media-play-stream-chunked-icy.html:
        * http/tests/media/media-seeking-no-ranges-server.html:
        * http/tests/media/modern-media-controls/macos-fullscreen-media-controls/macos-fullscreen-media-controls-live-broadcast.html:
        * http/tests/media/modern-media-controls/pip-support/pip-support-live-broadcast.html:
        * http/tests/media/modern-media-controls/skip-back-support/skip-back-support-button-click.html:
        * http/tests/media/modern-media-controls/skip-back-support/skip-back-support-live-broadcast.html:
        * http/tests/media/modern-media-controls/status-support/status-support-live-broadcast.html:
        * http/tests/media/modern-media-controls/time-control/1-to-10-hours.html:
        * http/tests/media/modern-media-controls/time-control/10-hours-or-more.html:
        * http/tests/media/modern-media-controls/time-control/10-minutes-to-1-hour.html:
        * http/tests/media/modern-media-controls/time-control/less-than-10-minutes.html:
        * http/tests/media/resources/create-id3-db.php:
        * http/tests/media/resources/hls/generate-vod.php: Removed.
        * http/tests/media/resources/hls/generate-vod.py: Added.
        * http/tests/media/resources/hls/playlist-with-cookie.m3u8:
        * http/tests/media/resources/hls/sub-playlist-with-cookie.php: Removed.
        * http/tests/media/resources/hls/sub-playlist-with-cookie.py: Added.
        * http/tests/media/resources/hls/test-live.php: Removed.
        * http/tests/media/resources/hls/test-live.py: Added.
        * http/tests/media/resources/load-video.php: Removed.
        * http/tests/media/resources/load-video.py: Added.
        * http/tests/media/resources/serve-video.php: Removed.
        * http/tests/media/resources/serve_video.py:
        (answering):
        * http/tests/media/resources/video-auth.php: Removed.
        * http/tests/media/resources/video-auth.py: Added.
        * http/tests/media/resources/video-check-useragent.php: Removed.
        * http/tests/media/resources/video-check-useragent.py: Added.
        * http/tests/media/resources/video-cookie-check-cookie.php: Removed.
        * http/tests/media/resources/video-cookie-check-cookie.py: Added.
        * http/tests/media/resources/video-referer-check-referer.php: Removed.
        * http/tests/media/resources/video-referer-check-referer.py: Added.
        * http/tests/media/video-auth-expected.txt:
        * http/tests/media/video-auth-with-allowCrossOriginSubresourcesToAskForCredentials-expected.txt:
        * http/tests/media/video-auth-with-allowCrossOriginSubresourcesToAskForCredentials.html:
        * http/tests/media/video-auth.html:
        * http/tests/media/video-cookie.html:
        * http/tests/media/video-no-content-length-stall.html:
        * http/tests/media/video-play-stall.html:
        * http/tests/media/video-play-waiting.html:
        * http/tests/media/video-query-url.html:
        * http/tests/media/video-referer.html:
        * http/tests/media/video-useragent.html:
        * media/content/metadata.db: Removed.
        * media/content/metadata.json: Added.

2021-04-15  Youenn Fablet  <youenn@apple.com>

        Make RTCEncodedVideoFrameMetadata.contributingSources undefined until properly supported
        https://bugs.webkit.org/show_bug.cgi?id=224540

        Reviewed by Eric Carlson.

        * http/wpt/webrtc/metadata-transform.html:

2021-04-15  Youenn Fablet  <youenn@apple.com>

        Update RTCScriptTransform constructor up to spec
        https://bugs.webkit.org/show_bug.cgi?id=224447

        Reviewed by Eric Carlson.

        * http/wpt/webrtc/audio-script-transform.html:
        * http/wpt/webrtc/context-transform.js:
        (MockRTCRtpTransformer):
        (MockRTCRtpTransformer.prototype.start):
        (MockRTCRtpTransformer.prototype.process):
        * http/wpt/webrtc/metadata-transform-worker.js:
        * http/wpt/webrtc/script-transform.js:
        * http/wpt/webrtc/video-script-transform.html:
        * http/wpt/webrtc/webrtc-transform.html:
        * http/wpt/webrtc/write-twice-transform.js:

2021-04-15  Youenn Fablet  <youenn@apple.com>

        REGRESSION(Safari 14): iframe with blob url does not work with sandboxing
        https://bugs.webkit.org/show_bug.cgi?id=222312
        <rdar://problem/74927624>

        Reviewed by Chris Dumez.

        * http/tests/security/resources/sandbox-iframe-and-blob-frame.html: Added.
        * http/tests/security/sandbox-iframe-and-blob.https-expected.txt: Added.
        * http/tests/security/sandbox-iframe-and-blob.https.html: Added.
        * platform/win/TestExpectations:

2021-04-15  Diego Pino Garcia  <dpino@igalia.com>

        [WPE] Unreviewed test gardening. Several tests are failing after async scrolling was activated in r275593.

        * platform/wpe/TestExpectations:

2021-04-15  Carlos Garcia Campos  <cgarcia@igalia.com>

        [SOUP] Add support for "nextHopProtocol" for Resource Timing
        https://bugs.webkit.org/show_bug.cgi?id=168543

        Reviewed by Adrian Perez de Castro.

        Remove passing tests from expectations.

        * platform/glib/TestExpectations:

2021-04-15  Chris Dumez  <cdumez@apple.com>

        REGRESSION(r275921-r275922): [ wk2 ] http/tests/security/webgl-remote-read-remote-image-allowed-with-credentials.html is flakey crashing
        https://bugs.webkit.org/show_bug.cgi?id=224566
        <rdar://problem/76657007>

        Reviewed by Tim Horton.

        Unskip layout tests that should no longer be flaky.

        * platform/ios-simulator-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-04-14  Diego Pino Garcia  <dpino@igalia.com>

        [GTK] Unreviewed test gardening. Update tests expected to fail but passing.

        * platform/gtk/TestExpectations:

2021-04-14  Tim Nguyen  <ntim@apple.com>

        Omit default position/angle when serializing radial & conic gradients
        https://bugs.webkit.org/show_bug.cgi?id=223892

        Reviewed by Antti Koivisto.

        Test: LayoutTests/imported/w3c/web-platform-tests/css/css-backgrounds/parsing/background-image-computed.sub.html

        * fast/gradients/unprefixed-gradient-parsing-expected.txt:
        * fast/gradients/unprefixed-gradient-parsing.html:
        * http/wpt/css/css-images-4/conic-gradient-parsing.html:

2021-04-14  Diego Pino Garcia  <dpino@igalia.com>

        [GTK][WPE] Unreviewed test gardening. Add missing images after r275996.

        * platform/gtk/css2.1/t100801-c544-valgn-03-d-agi-expected.png:
        * platform/gtk/fast/block/margin-collapse/block-inside-inline/001-expected.png:
        * platform/gtk/fast/block/margin-collapse/block-inside-inline/005-expected.png:
        * platform/gtk/fast/css/child-style-can-override-visited-style-expected.png:
        * platform/gtk/fast/dom/HTMLProgressElement/progress-element-expected.png:
        * platform/gtk/fast/images/image-map-anchor-children-expected.png:
        * platform/gtk/fast/inline-block/003-expected.png:
        * platform/gtk/fast/inline/002-expected.png:
        * platform/gtk/fast/invalid/018-expected.png:
        * platform/gtk/fast/table/frame-and-rules-expected.png:
        * platform/gtk/fast/table/table-display-types-strict-expected.png:
        * platform/gtk/fast/text/basic/012-expected.png:
        * platform/gtk/svg/custom/invisible-text-after-scrolling-expected.png:
        * platform/gtk/tables/mozilla/bugs/bug14323-expected.png:
        * platform/gtk/tables/mozilla/bugs/bug2267-expected.png:
        * platform/wpe/css2.1/t100801-c544-valgn-03-d-agi-expected.png: Added.
        * platform/wpe/fast/block/margin-collapse/block-inside-inline/001-expected.png: Added.
        * platform/wpe/fast/block/margin-collapse/block-inside-inline/005-expected.png: Added.
        * platform/wpe/fast/css/child-style-can-override-visited-style-expected.png: Added.
        * platform/wpe/fast/dom/HTMLProgressElement/progress-element-expected.png: Added.
        * platform/wpe/fast/images/image-map-anchor-children-expected.png: Added.
        * platform/wpe/fast/inline-block/003-expected.png: Added.
        * platform/wpe/fast/inline/002-expected.png: Added.
        * platform/wpe/fast/invalid/018-expected.png: Added.
        * platform/wpe/fast/table/frame-and-rules-expected.png: Added.
        * platform/wpe/fast/table/table-display-types-strict-expected.png: Added.
        * platform/wpe/fast/text/basic/012-expected.png: Added.
        * platform/wpe/svg/custom/invisible-text-after-scrolling-expected.png: Added.
        * platform/wpe/tables/mozilla/bugs/bug14323-expected.png: Added.
        * platform/wpe/tables/mozilla/bugs/bug2267-expected.png: Added.

2021-04-14  Diego Pino Garcia  <dpino@igalia.com>

        [WPE] Unreviewed test gardening. Update stale baselines.

        Also add missing .png images.

        * platform/gtk/fast/css/word-space-extra-expected.png: Renamed from LayoutTests/platform/glib/fast/css/word-space-extra-expected.png.
        * platform/wpe/css1/box_properties/border-expected.png: Added.
        * platform/wpe/css1/box_properties/border-expected.txt:
        * platform/wpe/css1/text_properties/text_decoration-expected.png: Added.
        * platform/wpe/css1/text_properties/text_decoration-expected.txt:
        * platform/wpe/css1/text_properties/vertical_align-expected.png: Added.
        * platform/wpe/css1/text_properties/vertical_align-expected.txt:
        * platform/wpe/css1/text_properties/word_spacing-expected.txt:
        * platform/wpe/fast/block/basic/014-expected.png: Added.
        * platform/wpe/fast/block/basic/014-expected.txt:
        * platform/wpe/fast/block/positioning/057-expected.png: Added.
        * platform/wpe/fast/block/positioning/057-expected.txt:
        * platform/wpe/fast/css-generated-content/after-duplicated-after-split-expected.png: Added.
        * platform/wpe/fast/css-generated-content/after-duplicated-after-split-expected.txt:
        * platform/wpe/fast/css/word-space-extra-expected.png:
        * platform/wpe/fast/css/word-space-extra-expected.txt:
        * platform/wpe/fast/encoding/utf-16-big-endian-expected.png: Added.
        * platform/wpe/fast/encoding/utf-16-big-endian-expected.txt:
        * platform/wpe/fast/inline/drawStyledEmptyInlines-expected.png: Added.
        * platform/wpe/fast/inline/drawStyledEmptyInlines-expected.txt:
        * platform/wpe/fast/invalid/missing-end-tag-expected.png: Added.
        * platform/wpe/fast/invalid/missing-end-tag-expected.txt:
        * platform/wpe/fast/lists/marker-before-empty-inline-expected.png: Added.
        * platform/wpe/fast/lists/marker-before-empty-inline-expected.txt:
        * platform/wpe/fast/overflow/scrollRevealButton-expected.png: Added.
        * platform/wpe/fast/overflow/scrollRevealButton-expected.txt:
        * platform/wpe/fast/parser/nofoo-tags-inside-paragraph-expected.png: Added.
        * platform/wpe/fast/parser/nofoo-tags-inside-paragraph-expected.txt:
        * platform/wpe/fast/parser/xhtml-alternate-entities-expected.png: Added.
        * platform/wpe/fast/parser/xhtml-alternate-entities-expected.txt:
        * platform/wpe/fast/selectors/visited-descendant-expected.png: Added.
        * platform/wpe/fast/selectors/visited-descendant-expected.txt:
        * platform/wpe/fast/text/basic/013-expected.png: Added.
        * platform/wpe/fast/text/basic/013-expected.txt:
        * platform/wpe/fast/text/mark-matches-overflow-clip-expected.txt:
        * platform/wpe/fast/text/whitespace/018-expected.png: Added.
        * platform/wpe/fast/text/whitespace/018-expected.txt:
        * platform/wpe/fast/text/word-break-expected.png: Added.
        * platform/wpe/fast/text/word-break-expected.txt:
        * platform/wpe/scrollingcoordinator/scrolling-tree/coordinated-frame-expected.txt:
        * platform/wpe/scrollingcoordinator/scrolling-tree/coordinated-frame-gain-scrolling-ancestor-expected.txt:
        * platform/wpe/scrollingcoordinator/scrolling-tree/coordinated-frame-in-fixed-expected.txt:
        * platform/wpe/scrollingcoordinator/scrolling-tree/coordinated-frame-lose-scrolling-ancestor-expected.txt:
        * platform/wpe/svg/custom/svg-fonts-in-html-expected.png: Added.
        * platform/wpe/svg/custom/svg-fonts-in-html-expected.txt:
        * platform/wpe/svg/custom/svg-fonts-word-spacing-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug113235-1-expected.png: Added.
        * platform/wpe/tables/mozilla/bugs/bug113235-1-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug113235-2-expected.png: Added.
        * platform/wpe/tables/mozilla/bugs/bug113235-2-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug1188-expected.png: Added.
        * platform/wpe/tables/mozilla/bugs/bug1188-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug126742-expected.png: Added.
        * platform/wpe/tables/mozilla/bugs/bug126742-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug1318-expected.png: Added.
        * platform/wpe/tables/mozilla/bugs/bug1318-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug16252-expected.png: Added.
        * platform/wpe/tables/mozilla/bugs/bug16252-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug18359-expected.png: Added.
        * platform/wpe/tables/mozilla/bugs/bug18359-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug4527-expected.png: Added.
        * platform/wpe/tables/mozilla/bugs/bug4527-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug57300-expected.png: Added.
        * platform/wpe/tables/mozilla/bugs/bug57300-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug57828-2-expected.png: Added.
        * platform/wpe/tables/mozilla/bugs/bug57828-2-expected.txt:
        * platform/wpe/tables/mozilla/bugs/bug7342-expected.png: Added.
        * platform/wpe/tables/mozilla/bugs/bug7342-expected.txt:
        * platform/wpe/tables/mozilla/core/bloomberg-expected.png: Added.
        * platform/wpe/tables/mozilla/core/bloomberg-expected.txt:
        * platform/wpe/tables/mozilla/other/ms-expected.png: Added.
        * platform/wpe/tables/mozilla/other/ms-expected.txt:
        * platform/wpe/tables/mozilla/other/wa_table_thtd_rowspan-expected.png: Added.
        * platform/wpe/tables/mozilla/other/wa_table_thtd_rowspan-expected.txt:
        * platform/wpe/tables/mozilla/other/wa_table_tr_align-expected.png: Added.
        * platform/wpe/tables/mozilla/other/wa_table_tr_align-expected.txt:
        * platform/wpe/tables/mozilla_expected_failures/bugs/bug89315-expected.png: Added.
        * platform/wpe/tables/mozilla_expected_failures/bugs/bug89315-expected.txt:

2021-04-14  Diego Pino Garcia  <dpino@igalia.com>

        [WPE] Unreviewed test gardening. Emit specific baselines for WPE.

        Several baselines that were common to GTK and WPE are no longer valid.
        It's necessary to move the common baseline to GTK and emit new baselines for WPE.

        * platform/gtk/css2.1/t100801-c544-valgn-03-d-agi-expected.txt: Copied from LayoutTests/platform/glib/css2.1/t100801-c544-valgn-03-d-agi-expected.txt.
        * platform/gtk/fast/block/margin-collapse/block-inside-inline/001-expected.txt: Copied from LayoutTests/platform/glib/fast/block/margin-collapse/block-inside-inline/001-expected.txt.
        * platform/gtk/fast/block/margin-collapse/block-inside-inline/005-expected.txt: Copied from LayoutTests/platform/glib/fast/block/margin-collapse/block-inside-inline/005-expected.txt.
        * platform/gtk/fast/css/child-style-can-override-visited-style-expected.txt: Copied from LayoutTests/platform/glib/fast/css/child-style-can-override-visited-style-expected.txt.
        * platform/gtk/fast/dom/HTMLProgressElement/progress-element-expected.txt: Copied from LayoutTests/platform/glib/fast/dom/HTMLProgressElement/progress-element-expected.txt.
        * platform/gtk/fast/images/image-map-anchor-children-expected.txt: Copied from LayoutTests/platform/glib/fast/images/image-map-anchor-children-expected.txt.
        * platform/gtk/fast/inline-block/002-expected.txt: Copied from LayoutTests/platform/glib/fast/inline-block/002-expected.txt.
        * platform/gtk/fast/inline-block/003-expected.txt: Copied from LayoutTests/platform/glib/fast/inline-block/003-expected.txt.
        * platform/gtk/fast/inline/002-expected.txt: Copied from LayoutTests/platform/glib/fast/inline/002-expected.txt.
        * platform/gtk/fast/invalid/018-expected.txt: Copied from LayoutTests/platform/glib/fast/invalid/018-expected.txt.
        * platform/gtk/fast/table/frame-and-rules-expected.txt: Copied from LayoutTests/platform/glib/fast/table/frame-and-rules-expected.txt.
        * platform/gtk/fast/table/table-display-types-strict-expected.txt: Copied from LayoutTests/platform/glib/fast/table/table-display-types-strict-expected.txt.
        * platform/gtk/fast/text/basic/012-expected.txt: Copied from LayoutTests/platform/glib/fast/text/basic/012-expected.txt.
        * platform/gtk/svg/custom/invisible-text-after-scrolling-expected.txt: Copied from LayoutTests/platform/glib/svg/custom/invisible-text-after-scrolling-expected.txt.
        * platform/gtk/svg/hixie/processing-model/003-expected.txt: Copied from LayoutTests/platform/glib/svg/hixie/processing-model/003-expected.txt.
        * platform/gtk/svg/hixie/processing-model/004-expected.txt: Copied from LayoutTests/platform/glib/svg/hixie/processing-model/004-expected.txt.
        * platform/gtk/tables/mozilla/bugs/bug14323-expected.txt: Copied from LayoutTests/platform/glib/tables/mozilla/bugs/bug14323-expected.txt.
        * platform/gtk/tables/mozilla/bugs/bug2267-expected.txt: Copied from LayoutTests/platform/glib/tables/mozilla/bugs/bug2267-expected.txt.
        * platform/wpe/css2.1/t100801-c544-valgn-03-d-agi-expected.txt: Renamed from LayoutTests/platform/glib/css2.1/t100801-c544-valgn-03-d-agi-expected.txt.
        * platform/wpe/fast/block/margin-collapse/block-inside-inline/001-expected.txt: Renamed from LayoutTests/platform/glib/fast/block/margin-collapse/block-inside-inline/001-expected.txt.
        * platform/wpe/fast/block/margin-collapse/block-inside-inline/005-expected.txt: Renamed from LayoutTests/platform/glib/fast/block/margin-collapse/block-inside-inline/005-expected.txt.
        * platform/wpe/fast/css/child-style-can-override-visited-style-expected.txt: Renamed from LayoutTests/platform/glib/fast/css/child-style-can-override-visited-style-expected.txt.
        * platform/wpe/fast/dom/HTMLProgressElement/progress-element-expected.txt: Renamed from LayoutTests/platform/glib/fast/dom/HTMLProgressElement/progress-element-expected.txt.
        * platform/wpe/fast/images/image-map-anchor-children-expected.txt: Renamed from LayoutTests/platform/glib/fast/images/image-map-anchor-children-expected.txt.
        * platform/wpe/fast/inline-block/002-expected.txt: Renamed from LayoutTests/platform/glib/fast/inline-block/002-expected.txt.
        * platform/wpe/fast/inline-block/003-expected.txt: Renamed from LayoutTests/platform/glib/fast/inline-block/003-expected.txt.
        * platform/wpe/fast/inline/002-expected.txt: Renamed from LayoutTests/platform/glib/fast/inline/002-expected.txt.
        * platform/wpe/fast/invalid/018-expected.txt: Renamed from LayoutTests/platform/glib/fast/invalid/018-expected.txt.
        * platform/wpe/fast/table/frame-and-rules-expected.txt: Renamed from LayoutTests/platform/glib/fast/table/frame-and-rules-expected.txt.
        * platform/wpe/fast/table/table-display-types-strict-expected.txt: Renamed from LayoutTests/platform/glib/fast/table/table-display-types-strict-expected.txt.
        * platform/wpe/fast/text/basic/012-expected.txt: Renamed from LayoutTests/platform/glib/fast/text/basic/012-expected.txt.
        * platform/wpe/svg/custom/invisible-text-after-scrolling-expected.txt: Renamed from LayoutTests/platform/glib/svg/custom/invisible-text-after-scrolling-expected.txt.
        * platform/wpe/svg/hixie/processing-model/003-expected.txt: Renamed from LayoutTests/platform/glib/svg/hixie/processing-model/003-expected.txt.
        * platform/wpe/svg/hixie/processing-model/004-expected.txt: Renamed from LayoutTests/platform/glib/svg/hixie/processing-model/004-expected.txt.
        * platform/wpe/tables/mozilla/bugs/bug14323-expected.txt: Renamed from LayoutTests/platform/glib/tables/mozilla/bugs/bug14323-expected.txt.
        * platform/wpe/tables/mozilla/bugs/bug2267-expected.txt: Renamed from LayoutTests/platform/glib/tables/mozilla/bugs/bug2267-expected.txt.

2021-04-14  Diego Pino Garcia  <dpino@igalia.com>

        [GTK] Unreviewed test gardening. Update test expectations after r275515.

        Two tests are returning an image failure.  

        html/dom/elements/the-innertext-idl-attribute/getter.html requires a new baseline.

        * platform/gtk/TestExpectations:
        * platform/gtk/imported/w3c/web-platform-tests/html/dom/elements/the-innertext-idl-attribute/getter-expected.txt: Added.

2021-04-14  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening. Skip accessibility test added in r275664.

        * platform/glib/TestExpectations:

2021-04-14  Wenson Hsieh  <wenson_hsieh@apple.com>

        [macOS] Make image extraction interactions work for elements inside links
        https://bugs.webkit.org/show_bug.cgi?id=224576
        <rdar://problem/76664721>

        Reviewed by Devin Rousso.

        Add a layout test to exercise the change.

        * fast/images/image-extraction/mac/select-image-overlay-in-link-with-mouse-drag-expected.txt: Added.
        * fast/images/image-extraction/mac/select-image-overlay-in-link-with-mouse-drag.html: Added.

2021-04-14  Robert Jenner  <jenner@apple.com>

        [ wk2 ] http/tests/security/webgl-remote-read-remote-image-allowed-with-credentials.html is flakey crashing
        https://bugs.webkit.org/show_bug.cgi?id=224566

        Unreviewed test gardening.

        Updating expectations to two more tests I found that are flakey crashing. 

        * platform/ios-simulator-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-04-14  Amir Mark Jr  <amir_mark@apple.com>

        REGRESSION: [ Mac WK2 ] fast/mediastream/audio-track-enabled.html is flaky failing
        https://bugs.webkit.org/show_bug.cgi?id=221985

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations:

2021-04-14  Wenson Hsieh  <wenson_hsieh@apple.com>

        [iOS] Make image extraction interactions work for elements inside links
        https://bugs.webkit.org/show_bug.cgi?id=224517
        <rdar://problem/76616431>

        Reviewed by Devin Rousso.

        * fast/images/image-extraction/click-link-with-image-overlay-expected.txt: Added.
        * fast/images/image-extraction/click-link-with-image-overlay.html: Added.

        Add a test that verifies that activating different parts of an image in a link fires click events.

        * fast/images/image-extraction/ios/select-word-in-image-overlay-inside-link-expected.txt: Added.
        * fast/images/image-extraction/ios/select-word-in-image-overlay-inside-link.html: Added.

        Add a test that selects image overlay text for an image element inside a link.

2021-04-14  Antti Koivisto  <antti@apple.com>

        RunIterator::traverseNext/PreviousOnLineIgnoringLineBreak should skip over WBRs
        https://bugs.webkit.org/show_bug.cgi?id=224545
        rdar://76101143

        Reviewed by Zalan Bujtas.

        * fast/editing/wbr-iterator-crash-expected.txt: Added.
        * fast/editing/wbr-iterator-crash.html: Added.

2021-04-14  Robert Jenner  <jenner@apple.com>

        [ wk2 ] http/tests/security/webgl-remote-read-remote-image-allowed-with-credentials.html is flakey crashing
        https://bugs.webkit.org/show_bug.cgi?id=224566

        Uneviewed test gardneing.

        * platform/mac-wk2/TestExpectations: Adding mac wk2 to Pass Crash expectations.

2021-04-14  Robert Jenner  <jenner@apple.com>

        [ wk2 ] http/tests/security/webgl-remote-read-remote-image-allowed-with-credentials.html is flakey crashing
        https://bugs.webkit.org/show_bug.cgi?id=224566

        Unrviewed test gardening.

        * platform/ios-simulator-wk2/TestExpectations: Updating test expectations to Pass Crash, while test is reviewed.

2021-04-14  Robert Jenner  <jenner@apple.com>

        [ wk2 ] 2 page-cache layout-tests are flakey crashing
        https://bugs.webkit.org/show_bug.cgi?id=224558

        Unreviewed test gardening.

        Updated expectations to Pass Crash for the following two tests for causing issues with EWS and Commit-Queue.

        * platform/ios-simulator-wk2/TestExpectations:
        * platform/mac-wk2/TestExpectations:

2021-04-14  Frédéric Wang  <fwang@igalia.com>

        Crash in RenderBlock::addOverflowFromChildren
        https://bugs.webkit.org/show_bug.cgi?id=223539

        Reviewed by Ryosuke Niwa.

        Add regressions tests for the crash and for isOutermostSVGSVGElement().

        * svg/foreignObject/svg-child-of-foreign-object-in-shadow-tree-crash-expected.txt: Added.
        * svg/foreignObject/svg-child-of-foreign-object-in-shadow-tree-crash.html: Added.
        * svg/outermost-svg-root-expected.txt: Added.
        * svg/outermost-svg-root.html: Added.

2021-04-13  Jer Noble  <jer.noble@apple.com>

        [GPUP] MediaSource.addSourceBuffer() will throw if given the same parameter as a previous call to HTMLMediaElement.canPlayType()
        https://bugs.webkit.org/show_bug.cgi?id=224273
        <rdar://74805071>

        Reviewed by Eric Carlson.

        * media/media-source/media-source-addsourcebuffer-after-canplaytype-expected.txt: Added.
        * media/media-source/media-source-addsourcebuffer-after-canplaytype.html: Added.

2021-04-13  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening. Skip sframe tests added in r275656 and r275874.

        Currently SFrames are not supported in GTK and WPE ports.

        * platform/glib/TestExpectations:

2021-04-13  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening. Skip sframe tests added in r275656 and r275874.

        Currently SFrames are not supported in GTK and WPE ports.

        * platform/glib/TestExpectations:

2021-04-13  Fujii Hironori  <Hironori.Fujii@sony.com>

        Table caption jumps to the bottom of the table after simplified table relayout
        https://bugs.webkit.org/show_bug.cgi?id=187903
        <rdar://problem/42506245>

        Reviewed by Zalan Bujtas.

        * fast/table/caption-simplified-layout-expected.html: Added.
        * fast/table/caption-simplified-layout.html: Added.

2021-04-13  Diego Pino Garcia  <dpino@igalia.com>

        [GTK] Unreviewed test gardening. Update baselines after r275515.

        r275515 updated several general baselines that resulted into test
        failures for GTK. Emit new baselines for GTK. Other pre-existing GTK
        baselines just required an update.

        * platform/glib/tables/mozilla/bugs/bug113424-expected.txt:
        * platform/gtk/fast/css/empty-inline-003-quirksmode-expected.txt: Added.
        * platform/gtk/fast/lists/marker-before-empty-inline-expected.txt:
        * platform/gtk/imported/w3c/web-platform-tests/css/css-flexbox/orthogonal-flex-item-crash-expected.txt: Added.
        * platform/gtk/imported/w3c/web-platform-tests/innerText/getter-expected.txt: Added.

2021-04-13  Diego Pino Garcia  <dpino@igalia.com>

        [GTK] Unreviewed test gardening. Several 'editing/selections' tests are flaky after r275810.

        * platform/gtk/TestExpectations:

2021-04-13  Myles C. Maxfield  <mmaxfield@apple.com>

        [Mac] imported/w3c/web-platform-tests/css/css-fonts/font-feature-settings-tibetan.html is passing
        <rdar://problem/66399069>

        Unreviewed.

        * platform/mac/TestExpectations:

2021-04-13  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] Convert http/tests/security convert PHP to Python
        https://bugs.webkit.org/show_bug.cgi?id=222668
        <rdar://problem/74993152>

        Reviewed by Jonathan Bedard.

        * TestExpectations:
        * http/tests/blink/sendbeacon/connect-src-beacon-allowed.html:
        * http/tests/cache/resources/iframe304.py:
        * http/tests/contentextensions/block-cookies-in-csp-report.py:
        * http/tests/css/resources/webfont-request.py:
        (get_request_count): Deleted.
        (set_request_count): Deleted.
        * http/tests/local/script-crossorigin-loads-file-scheme.html:
        * http/tests/media/resources/serve_video.py: Added.
        (answering):
        * http/tests/resources/portabilityLayer.py:
        (get_cookies): Add trailing newline.
        (get_request): PHP equivalent of $_REQUEST which is used by numerous scripts.
        (get_count): Added trailing newline.
        (get_state): Added trailing newline.
        (set_state): Changed open file's name to prevent confusion with parameter.
        (step_state): Added trailing newline.
        * http/tests/security/401-logout/401-logout-expected.txt:
        * http/tests/security/401-logout/401-logout.php: Removed.
        * http/tests/security/401-logout/401-logout.py: Added.
        * http/tests/security/canvas-remote-read-remote-video-allowed-anonymous.html:
        * http/tests/security/canvas-remote-read-remote-video-allowed-with-credentials.html:
        * http/tests/security/canvas-remote-read-remote-video-blocked-no-crossorigin.html:
        * http/tests/security/contentSecurityPolicy/1.1/frame-ancestors/frame-ancestors-in-report-only-ignored.html:
        * http/tests/security/contentSecurityPolicy/1.1/frame-ancestors/report-frame-ancestors-cross-origin-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/frame-ancestors/report-frame-ancestors-cross-origin-https-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/frame-ancestors/report-frame-ancestors-cross-origin-https.html:
        * http/tests/security/contentSecurityPolicy/1.1/frame-ancestors/report-frame-ancestors-cross-origin.html:
        * http/tests/security/contentSecurityPolicy/1.1/frame-ancestors/report-frame-ancestors-same-origin-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/frame-ancestors/report-frame-ancestors-same-origin-https-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/frame-ancestors/report-frame-ancestors-same-origin-https.html:
        * http/tests/security/contentSecurityPolicy/1.1/frame-ancestors/report-frame-ancestors-same-origin.html:
        * http/tests/security/contentSecurityPolicy/1.1/report-uri-effective-directive-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/report-uri-effective-directive.py:
        * http/tests/security/contentSecurityPolicy/1.1/resources/testScriptHash.php: Removed.
        * http/tests/security/contentSecurityPolicy/1.1/resources/testScriptHash.py: Added.
        * http/tests/security/contentSecurityPolicy/1.1/script-blocked-sends-multiple-reports-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/script-blocked-sends-multiple-reports.py:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-allowed-by-enforced-policy-and-blocked-by-report-policy-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-allowed-by-enforced-policy-and-blocked-by-report-policy.py:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-allowed-by-enforced-policy-and-blocked-by-report-policy2-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-allowed-by-enforced-policy-and-blocked-by-report-policy2.py:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-allowed-by-legacy-enforced-policy-and-blocked-by-report-policy-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-allowed-by-legacy-enforced-policy-and-blocked-by-report-policy.py:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-allowed-by-legacy-enforced-policy-and-blocked-by-report-policy2-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-allowed-by-legacy-enforced-policy-and-blocked-by-report-policy2.py:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-blocked-by-enforced-policy-and-allowed-by-report-policy-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-blocked-by-enforced-policy-and-allowed-by-report-policy.py:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-blocked-by-legacy-enforced-policy-and-allowed-by-report-policy.py:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-blocked-by-legacy-enforced-policy-and-blocked-by-report-policy-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-blocked-by-legacy-enforced-policy-and-blocked-by-report-policy.py:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-blocked-by-legacy-enforced-policy-and-blocked-by-report-policy2-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-blocked-by-legacy-enforced-policy-and-blocked-by-report-policy2.py:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-tests.html:
        * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-allowed-by-enforced-policy-and-blocked-by-report-policy.py:
        * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-allowed-by-enforced-policy-and-blocked-by-report-policy2.py:
        * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-allowed-by-legacy-enforced-policy-and-blocked-by-report-policy.py:
        * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-allowed-by-legacy-enforced-policy-and-blocked-by-report-policy2.py:
        * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-blocked-by-enforced-policy-and-allowed-by-report-policy-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-blocked-by-enforced-policy-and-allowed-by-report-policy.py:
        * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-blocked-by-legacy-enforced-policy-and-allowed-by-report-policy.py:
        * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-blocked-by-legacy-enforced-policy-and-blocked-by-report-policy.py:
        * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-blocked-by-legacy-enforced-policy-and-blocked-by-report-policy2.py:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-css-in-iframe-report-only-expected.txt:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/resources/frame-with-insecure-css-report-only.py:
        * http/tests/security/contentSecurityPolicy/connect-src-beacon-allowed.html:
        * http/tests/security/contentSecurityPolicy/connect-src-beacon-blocked-expected.txt:
        * http/tests/security/contentSecurityPolicy/connect-src-beacon-blocked.html:
        * http/tests/security/contentSecurityPolicy/eval-allowed-in-report-only-mode-and-sends-report-expected.txt:
        * http/tests/security/contentSecurityPolicy/eval-allowed-in-report-only-mode-and-sends-report.py:
        * http/tests/security/contentSecurityPolicy/eval-blocked-and-sends-report-expected.txt:
        * http/tests/security/contentSecurityPolicy/eval-blocked-and-sends-report.html:
        * http/tests/security/contentSecurityPolicy/report-and-enforce-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-and-enforce.py:
        * http/tests/security/contentSecurityPolicy/report-blocked-data-uri-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-blocked-data-uri.py:
        * http/tests/security/contentSecurityPolicy/report-blocked-file-uri-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-blocked-file-uri.py:
        * http/tests/security/contentSecurityPolicy/report-blocked-uri-and-do-not-follow-redirect-when-sending-report-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-blocked-uri-and-do-not-follow-redirect-when-sending-report.py:
        * http/tests/security/contentSecurityPolicy/report-blocked-uri-cross-origin-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-blocked-uri-cross-origin.py:
        * http/tests/security/contentSecurityPolicy/report-blocked-uri-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-blocked-uri.py:
        * http/tests/security/contentSecurityPolicy/report-cross-origin-no-cookies-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-cross-origin-no-cookies-when-private-browsing-enabled-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-cross-origin-no-cookies-when-private-browsing-enabled.py:
        * http/tests/security/contentSecurityPolicy/report-cross-origin-no-cookies-when-private-browsing-toggled-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-cross-origin-no-cookies-when-private-browsing-toggled.php: Removed.
        * http/tests/security/contentSecurityPolicy/report-cross-origin-no-cookies-when-private-browsing-toggled.py: Added.
        * http/tests/security/contentSecurityPolicy/report-cross-origin-no-cookies.py:
        * http/tests/security/contentSecurityPolicy/report-document-uri-after-blocked-redirect.html:
        * http/tests/security/contentSecurityPolicy/report-multiple-violations-01.php: Removed.
        * http/tests/security/contentSecurityPolicy/report-multiple-violations-01.py: Added.
        * http/tests/security/contentSecurityPolicy/report-multiple-violations-02.php: Removed.
        * http/tests/security/contentSecurityPolicy/report-multiple-violations-02.py: Added.
        * http/tests/security/contentSecurityPolicy/report-only-connect-src-beacon-redirect-blocked-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-only-connect-src-beacon-redirect-blocked.php: Removed.
        * http/tests/security/contentSecurityPolicy/report-only-connect-src-beacon-redirect-blocked.py: Added.
        * http/tests/security/contentSecurityPolicy/report-only-connect-src-xmlhttprequest-redirect-to-blocked.php: Removed.
        * http/tests/security/contentSecurityPolicy/report-only-connect-src-xmlhttprequest-redirect-to-blocked.py: Added.
        * http/tests/security/contentSecurityPolicy/report-only-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-only-from-header-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-only-from-header.py:
        * http/tests/security/contentSecurityPolicy/report-only-upgrade-insecure-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-only-upgrade-insecure.py:
        * http/tests/security/contentSecurityPolicy/report-only.py:
        * http/tests/security/contentSecurityPolicy/report-same-origin-no-cookies-when-private-browsing-toggled-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-same-origin-no-cookies-when-private-browsing-toggled.py:
        * http/tests/security/contentSecurityPolicy/report-same-origin-with-cookies-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-same-origin-with-cookies-when-private-browsing-enabled-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-same-origin-with-cookies-when-private-browsing-enabled.py:
        * http/tests/security/contentSecurityPolicy/report-same-origin-with-cookies.py:
        * http/tests/security/contentSecurityPolicy/report-status-code-zero-when-using-https-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-status-code-zero-when-using-https.html:
        * http/tests/security/contentSecurityPolicy/report-uri-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-uri-from-child-frame-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-uri-from-child-frame.html:
        * http/tests/security/contentSecurityPolicy/report-uri-from-inline-javascript-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-uri-from-inline-javascript.py:
        * http/tests/security/contentSecurityPolicy/report-uri-from-javascript-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-uri-from-javascript.py:
        * http/tests/security/contentSecurityPolicy/report-uri-in-meta-tag-ignored.html:
        * http/tests/security/contentSecurityPolicy/report-uri-scheme-relative-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-uri-scheme-relative.py:
        * http/tests/security/contentSecurityPolicy/report-uri.py:
        * http/tests/security/contentSecurityPolicy/resources/echo-report.php: Removed.
        * http/tests/security/contentSecurityPolicy/resources/echo-report.py: Added.
        * http/tests/security/contentSecurityPolicy/resources/generate-csp-report.php: Removed.
        * http/tests/security/contentSecurityPolicy/resources/generate-csp-report.py: Added.
        * http/tests/security/contentSecurityPolicy/resources/go-to-echo-report.js:
        (window.onload):
        * http/tests/security/contentSecurityPolicy/resources/go-to-echo-report.py:
        * http/tests/security/contentSecurityPolicy/resources/image-document-default-src-none-iframe.py:
        * http/tests/security/contentSecurityPolicy/resources/redir.php: Removed.
        * http/tests/security/contentSecurityPolicy/resources/report-file-path.php: Removed.
        * http/tests/security/contentSecurityPolicy/resources/report_file_path.py: Added.
        * http/tests/security/contentSecurityPolicy/resources/save-report-and-redirect-to-save-report.php: Removed.
        * http/tests/security/contentSecurityPolicy/resources/save-report-and-redirect-to-save-report.py: Added.
        * http/tests/security/contentSecurityPolicy/resources/save-report.php: Removed.
        * http/tests/security/contentSecurityPolicy/resources/save-report.py: Added.
        * http/tests/security/contentSecurityPolicy/resources/save_report.py: Added.
        (not_being_called):
        (save_report):
        * http/tests/security/contentSecurityPolicy/resources/worker.php: Removed.
        * http/tests/security/contentSecurityPolicy/resources/worker.py: Added.
        * http/tests/security/contentSecurityPolicy/resources/xhr-redirect-not-allowed.py:
        * http/tests/security/contentSecurityPolicy/same-origin-plugin-document-blocked-in-child-window-report-expected.txt:
        * http/tests/security/contentSecurityPolicy/same-origin-plugin-document-blocked-in-child-window-report.py:
        * http/tests/security/contentSecurityPolicy/worker-connect-src-allowed.html:
        * http/tests/security/contentSecurityPolicy/worker-connect-src-blocked.html:
        * http/tests/security/contentSecurityPolicy/worker-eval-blocked.html:
        * http/tests/security/contentSecurityPolicy/worker-function-function-blocked.html:
        * http/tests/security/contentSecurityPolicy/worker-importscripts-blocked.html:
        * http/tests/security/contentSecurityPolicy/worker-multiple-csp-headers.html:
        * http/tests/security/contentSecurityPolicy/worker-script-src.html:
        * http/tests/security/contentSecurityPolicy/worker-set-timeout-blocked.html:
        * http/tests/security/contentSecurityPolicy/worker-without-own-csp.html:
        * http/tests/security/contentSecurityPolicy/xmlhttprequest-protected-resource-does-not-crash.html:
        * http/tests/security/cookies/cookies-wrong-domain-rejected-result.php: Removed.
        * http/tests/security/cookies/cookies-wrong-domain-rejected-result.py: Added.
        * http/tests/security/cookies/cookies-wrong-domain-rejected.py:
        * http/tests/security/cookies/resources/first-party-cookie-allow.xsl:
        * http/tests/security/cookies/resources/set-a-cookie.php: Removed.
        * http/tests/security/cookies/resources/set-a-cookie.py: Added.
        * http/tests/security/cookies/resources/third-party-cookie-blocking.xsl:
        * http/tests/security/cookies/third-party-cookie-blocking-main-frame.html:
        * http/tests/security/cookies/third-party-cookie-blocking-user-action.html:
        * http/tests/security/cookies/third-party-cookie-blocking.html:
        * http/tests/security/credentials-from-different-domains.html:
        * http/tests/security/credentials-iframes-allowCrossOriginSubresourcesToAskForCredentials-expected.txt:
        * http/tests/security/credentials-iframes-expected.txt:
        * http/tests/security/import-module-crossorigin-loads.html:
        * http/tests/security/import-script-crossorigin-loads-omit.html:
        * http/tests/security/isolatedWorld/bypass-main-world-csp-worker.html:
        * http/tests/security/module-crossorigin-error-event-information-expected.txt:
        * http/tests/security/module-crossorigin-error-event-information.html:
        * http/tests/security/module-crossorigin-loads-correctly-credentials.html:
        * http/tests/security/module-crossorigin-loads-omit.html:
        * http/tests/security/module-crossorigin-onerror-information-expected.txt:
        * http/tests/security/module-crossorigin-onerror-information.html:
        * http/tests/security/private-browsing-http-auth-expected.txt:
        * http/tests/security/private-browsing-http-auth.html:
        * http/tests/security/referrer-policy-header-expected.txt:
        * http/tests/security/referrer-policy-header.html:
        * http/tests/security/resources/basic-auth.php: Removed.
        * http/tests/security/resources/basic-auth.py: Added.
        * http/tests/security/resources/cors-basic-auth.php: Removed.
        * http/tests/security/resources/cors-basic-auth.py: Added.
        * http/tests/security/resources/cors-script.php: Removed.
        * http/tests/security/resources/cors-script.py: Added.
        * http/tests/security/resources/credentials-from-different-domains-continued-1.html:
        * http/tests/security/resources/credentials-from-different-domains-continued-2.html:
        * http/tests/security/resources/credentials-iframes-different-domain.html:
        * http/tests/security/resources/credentials-iframes-same-domain.html:
        * http/tests/security/resources/credentials-main-resource.py:
        * http/tests/security/resources/import-module-crossorigin-loads-src.js:
        * http/tests/security/resources/reference-movie-cross-origin-allow.php: Removed.
        * http/tests/security/resources/reference-movie-cross-origin-allow.py: Added.
        * http/tests/security/resources/serve-referrer-policy-and-test.php: Removed.
        * http/tests/security/resources/serve-referrer-policy-and-test.py: Added.
        * http/tests/security/resources/video-cross-origin-allow-credentials.php: Removed.
        * http/tests/security/resources/video-cross-origin-allow-credentials.py: Added.
        * http/tests/security/resources/video-cross-origin-allow.php: Removed.
        * http/tests/security/resources/video-cross-origin-allow.py: Added.
        * http/tests/security/script-crossorigin-error-event-information-expected.txt:
        * http/tests/security/script-crossorigin-error-event-information.html:
        * http/tests/security/script-crossorigin-loads-correctly-credentials.html:
        * http/tests/security/script-crossorigin-loads-correctly.html:
        * http/tests/security/script-crossorigin-onerror-information-expected.txt:
        * http/tests/security/script-crossorigin-onerror-information.html:
        * http/tests/security/script-no-crossorigin-error-event-should-be-sanitized.html:
        * http/tests/security/script-no-crossorigin-onerror-should-be-sanitized.html:
        * http/tests/security/sync-xhr-partition.html:
        * http/tests/security/video-cross-origin-caching.html:
        * http/tests/security/video-cross-origin-readback.html:
        * http/tests/security/webaudio-render-remote-audio-allowed-crossorigin-redirect.html:
        * http/tests/security/webaudio-render-remote-audio-allowed-crossorigin.html:
        * http/tests/security/webaudio-render-remote-audio-blocked-no-crossorigin-redirect.html:
        * http/tests/security/webaudio-render-remote-audio-blocked-no-crossorigin.html:
        * http/tests/security/xssAuditor/report-script-tag-and-do-not-follow-redirect-when-sending-report-expected.txt:
        * http/tests/security/xssAuditor/report-script-tag-and-do-not-follow-redirect-when-sending-report.html:
        * http/tests/security/xssAuditor/report-script-tag-expected.txt:
        * http/tests/security/xssAuditor/report-script-tag-full-block-and-do-not-follow-redirect-when-sending-report-expected.txt:
        * http/tests/security/xssAuditor/report-script-tag-full-block-and-do-not-follow-redirect-when-sending-report.html:
        * http/tests/security/xssAuditor/report-script-tag-full-block-expected.txt:
        * http/tests/security/xssAuditor/report-script-tag-replace-state-expected.txt:
        * http/tests/security/xssAuditor/resources/echo-intertag.pl:
        * http/tests/security/xssAuditor/resources/tag-with-pause.py:
        * http/tests/ssl/curl/certificate-and-authentication.html:
        * http/tests/xmlhttprequest/resources/noContentLength.cgi:
        * platform/mac-wk1/TestExpectations:
        * platform/mac-wk1/http/tests/security/contentSecurityPolicy/report-document-uri-after-blocked-redirect-expected.txt:
        * platform/win/TestExpectations:
        * platform/win/http/tests/security/contentSecurityPolicy/report-document-uri-after-blocked-redirect-expected.txt:
        * platform/wk2/TestExpectations:
        * platform/wk2/http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-css-in-iframe-report-only-expected.txt:

2021-04-13  Ziran Sun  <zsun@igalia.com>

        [css-grid] Incorrect track sizing when using relative sized items in 'auto' column tracks
        https://bugs.webkit.org/show_bug.cgi?id=191627

        Reviewed by Javier Fernandez.

        * TestExpectations:
        * platform/ios-simulator-wk2/imported/w3c/web-platform-tests/css/css-grid/alignment/grid-self-baseline-not-applied-if-sizing-cyclic-dependency-001-expected.txt:

2021-04-13  Kate Cheney  <katherine_cheney@apple.com>

        http/.../contentSecurityPolicy/report-document-uri-after-blocked-redirect.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=224498
        <rdar://problem/76602331>

        The error reported by the xhr may not always happen before the
        document URI is reported. We should only end the test if both
        the error and URI have been reported.

        Reviewed by Jonathan Bedard.

        * http/tests/security/contentSecurityPolicy/report-document-uri-after-blocked-redirect.html:

2021-04-13  Peng Liu  <peng.liu6@apple.com>

        [macOS] Netflix videos opened in background tab never become playable after foregrounding
        https://bugs.webkit.org/show_bug.cgi?id=224384

        Reviewed by Eric Carlson.

        * media/encrypted-media/mock-navigator-requestMediaKeySystemAccess-in-background-expected.txt: Added.
        * media/encrypted-media/mock-navigator-requestMediaKeySystemAccess-in-background.html: Added.

2021-04-13  Frédéric Wang  <fwang@igalia.com>

        ASSERTION FAILED: !m_needExceptionCheck in CloneSerializer::serialize with postMessage({g:42})
        https://bugs.webkit.org/show_bug.cgi?id=223785

        Reviewed by Yusuke Suzuki.

        Add regression test.

        * js/dom/missing-exception-check-in-clone-serializer-serialize-expected.txt: Added.
        * js/dom/missing-exception-check-in-clone-serializer-serialize.html: Added.

2021-04-13  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r275849.
        https://bugs.webkit.org/show_bug.cgi?id=224476

        caused few tests to flake

        Reverted changeset:

        "[LayoutTests] Convert http/tests/security convert PHP to
        Python"
        https://bugs.webkit.org/show_bug.cgi?id=222668
        https://trac.webkit.org/changeset/275849

2021-04-13  Frédéric Wang  <fwang@igalia.com>

        ASSERTION FAILED: !m_needExceptionCheck in RTCPeerConnection::CertificateParameters
        https://bugs.webkit.org/show_bug.cgi?id=223788

        Reviewed by Ryosuke Niwa.

        Add regression test.

        * js/dom/missing-exception-check-in-convertNumbers-expected.txt: Added.
        * js/dom/missing-exception-check-in-convertNumbers.html: Added.
        * platform/win/TestExpectations: Skip test on windows since there is no WebRTC support.

2021-04-13  Youenn Fablet  <youenn@apple.com>

        SFrameTransform should be able to take array buffer views as input
        https://bugs.webkit.org/show_bug.cgi?id=224437

        Reviewed by Eric Carlson.

        * webrtc/sframe-transform-buffer-source-expected.txt: Added.
        * webrtc/sframe-transform-buffer-source.html: Added.

2021-04-12  Sergio Villar Senin  <svillar@igalia.com>

        [css-flexbox] CDC COVID Vaccine Tracker: Safari garbles data table
        https://bugs.webkit.org/show_bug.cgi?id=222581

        Reviewed by Zalan Bujtas.

        * TestExpectations: Unskipped a WPT test which is now passing.

2021-04-13  Antoine Quint  <graouts@webkit.org>

        calc() simplification for a multiplication should apply the multiplication to each value of an addition
        https://bugs.webkit.org/show_bug.cgi?id=224376

        Reviewed by Simon Fraser.

        Rebase some non-WPT tests to account for new results.

        * css3/calc/simplification-expected.txt:
        * transitions/background-position-transitions-expected.txt:
        * transitions/background-position-transitions.html:

2021-04-13  Said Abou-Hallawa  <said@apple.com>

        SVG paced value animations overwrite user-provided keyTimes
        https://bugs.webkit.org/show_bug.cgi?id=109010

        Reviewed by Ryosuke Niwa.

        Simplified from the WPT paced-value-animation-overwrites-keyTimes.html.

        * svg/animations/animate-calcMode-paced-overwrite-key-times-expected.html: Added.
        * svg/animations/animate-calcMode-paced-overwrite-key-times.html: Added.

2021-04-12  Xabier Rodriguez Calvar  <calvaris@igalia.com>

        [GTK] media/track/text-track-cue-is-reachable.html is flaky crashing in X11 release
        https://bugs.webkit.org/show_bug.cgi?id=210370

        Unreviewed.

        * platform/gtk-wayland/TestExpectations:
        * platform/gtk/TestExpectations: Unflagged test.

2021-04-12  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo-wk1/TestExpectations:
        * platform/wincairo-wk1/http/tests/security/401-logout/401-logout-expected.txt:
        * platform/wincairo/TestExpectations:
        * platform/wincairo/css1/text_properties/vertical_align-expected.txt:
        * platform/wincairo/css1/text_properties/word_spacing-expected.txt:
        * platform/wincairo/css2.1/t100801-c544-valgn-03-d-agi-expected.txt:
        * platform/wincairo/css2.1/t1602-c546-txt-align-00-b-expected.txt:
        * platform/wincairo/fast/css-generated-content/after-duplicated-after-split-expected.txt:
        * platform/wincairo/fast/css/child-style-can-override-visited-style-expected.txt:
        * platform/wincairo/fast/css/input-search-padding-expected.txt:
        * platform/wincairo/fast/css/word-space-extra-expected.txt:
        * platform/wincairo/fast/dom/HTMLProgressElement/progress-element-expected.txt:
        * platform/wincairo/fast/inline-block/003-expected.txt:
        * platform/wincairo/fast/text/basic/012-expected.txt:
        * platform/wincairo/fast/text/basic/013-expected.txt:
        * platform/wincairo/fast/text/basic/015-expected.txt:
        * platform/wincairo/fast/text/text-letter-spacing-expected.txt:
        * platform/wincairo/fast/text/textIteratorNilRenderer-expected.txt:
        * platform/wincairo/fast/text/wbr-expected.txt:
        * platform/wincairo/fast/text/whitespace/018-expected.txt:
        * platform/wincairo/fast/text/whitespace/span-in-word-space-causes-overflow-expected.txt:
        * platform/wincairo/fonts/sans-serif-expected.txt:
        * platform/wincairo/fonts/serif-expected.txt:

2021-04-12  Xabier Rodriguez Calvar  <calvaris@igalia.com>

        [GStreamer] media/media-source/media-source-seek-back.html is flaky crashing with 3 kinds of traces
        https://bugs.webkit.org/show_bug.cgi?id=210528

        Unreviewed.

        * platform/glib/TestExpectations: Unflagged test.

2021-04-12  Xabier Rodriguez Calvar  <calvaris@igalia.com>

        [GTK] webrtc/video-update-often.html is flaky crashing
        https://bugs.webkit.org/show_bug.cgi?id=210360

        Unreviewed.

        * platform/gtk-wayland/TestExpectations: Unflag test, it's
        passing.

2021-04-12  Julian Gonzalez  <julian_a_gonzalez@apple.com>

        [CoreIPC] Crash in logDiagnosticMessage code
        https://bugs.webkit.org/show_bug.cgi?id=224390

        Reviewed by Chris Dumez.

        Add a test for this crasher.

        * ipc/analytics-logger-crash-expected.txt: Added.
        * ipc/analytics-logger-crash.html: Added.

2021-04-12  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r275793.
        https://bugs.webkit.org/show_bug.cgi?id=224466

        Caused crashes on <http://facebook.com|facebook.com>

        Reverted changeset:

        "calc() simplification for a multiplication should apply the
        multiplication to each value of an addition"
        https://bugs.webkit.org/show_bug.cgi?id=224376
        https://trac.webkit.org/changeset/275793

2021-04-12  Robert Jenner  <jenner@apple.com>

        [ BigSur wk2 arm64 ] 4 webrtc/ Layout-tests are consistently timing out
        https://bugs.webkit.org/show_bug.cgi?id=223043

        Uneviewed test gardening.

        * platform/mac/TestExpectations: Adding crash to test expectations while test is under review.

2021-04-12  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] Convert http/tests/security convert PHP to Python
        https://bugs.webkit.org/show_bug.cgi?id=222668
        <rdar://problem/74993152>

        Reviewed by Jonathan Bedard.

        * TestExpectations:
        * http/tests/blink/sendbeacon/connect-src-beacon-allowed.html:
        * http/tests/contentextensions/block-cookies-in-csp-report.py:
        * http/tests/css/resources/webfont-request.py:
        (get_request_count): Deleted.
        (set_request_count): Deleted.
        * http/tests/local/script-crossorigin-loads-file-scheme.html:
        * http/tests/media/resources/serve_video.py: Added.
        (answering):
        * http/tests/resources/portabilityLayer.py:
        (get_cookies): Add trailing newline.
        (get_request): PHP equivalent of $_REQUEST which is used by numerous scripts.
        (get_count): Added trailing newline.
        (get_state): Added trailing newline.
        (set_state): Changed open file's name to prevent confusion with parameter.
        (step_state): Added trailing newline.
        * http/tests/security/401-logout/401-logout-expected.txt:
        * http/tests/security/401-logout/401-logout.php: Removed.
        * http/tests/security/401-logout/401-logout.py: Added.
        * http/tests/security/canvas-remote-read-remote-video-allowed-anonymous.html:
        * http/tests/security/canvas-remote-read-remote-video-allowed-with-credentials.html:
        * http/tests/security/canvas-remote-read-remote-video-blocked-no-crossorigin.html:
        * http/tests/security/contentSecurityPolicy/1.1/frame-ancestors/frame-ancestors-in-report-only-ignored.html:
        * http/tests/security/contentSecurityPolicy/1.1/frame-ancestors/report-frame-ancestors-cross-origin-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/frame-ancestors/report-frame-ancestors-cross-origin-https-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/frame-ancestors/report-frame-ancestors-cross-origin-https.html:
        * http/tests/security/contentSecurityPolicy/1.1/frame-ancestors/report-frame-ancestors-cross-origin.html:
        * http/tests/security/contentSecurityPolicy/1.1/frame-ancestors/report-frame-ancestors-same-origin-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/frame-ancestors/report-frame-ancestors-same-origin-https-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/frame-ancestors/report-frame-ancestors-same-origin-https.html:
        * http/tests/security/contentSecurityPolicy/1.1/frame-ancestors/report-frame-ancestors-same-origin.html:
        * http/tests/security/contentSecurityPolicy/1.1/report-uri-effective-directive-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/report-uri-effective-directive.py:
        * http/tests/security/contentSecurityPolicy/1.1/resources/testScriptHash.php: Removed.
        * http/tests/security/contentSecurityPolicy/1.1/resources/testScriptHash.py: Added.
        * http/tests/security/contentSecurityPolicy/1.1/script-blocked-sends-multiple-reports-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/script-blocked-sends-multiple-reports.py:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-allowed-by-enforced-policy-and-blocked-by-report-policy-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-allowed-by-enforced-policy-and-blocked-by-report-policy.py:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-allowed-by-enforced-policy-and-blocked-by-report-policy2-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-allowed-by-enforced-policy-and-blocked-by-report-policy2.py:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-allowed-by-legacy-enforced-policy-and-blocked-by-report-policy-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-allowed-by-legacy-enforced-policy-and-blocked-by-report-policy.py:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-allowed-by-legacy-enforced-policy-and-blocked-by-report-policy2-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-allowed-by-legacy-enforced-policy-and-blocked-by-report-policy2.py:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-blocked-by-enforced-policy-and-allowed-by-report-policy-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-blocked-by-enforced-policy-and-allowed-by-report-policy.py:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-blocked-by-legacy-enforced-policy-and-allowed-by-report-policy.py:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-blocked-by-legacy-enforced-policy-and-blocked-by-report-policy-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-blocked-by-legacy-enforced-policy-and-blocked-by-report-policy.py:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-blocked-by-legacy-enforced-policy-and-blocked-by-report-policy2-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-blocked-by-legacy-enforced-policy-and-blocked-by-report-policy2.py:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-tests.html:
        * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-allowed-by-enforced-policy-and-blocked-by-report-policy.py:
        * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-allowed-by-enforced-policy-and-blocked-by-report-policy2.py:
        * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-allowed-by-legacy-enforced-policy-and-blocked-by-report-policy.py:
        * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-allowed-by-legacy-enforced-policy-and-blocked-by-report-policy2.py:
        * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-blocked-by-enforced-policy-and-allowed-by-report-policy-expected.txt:
        * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-blocked-by-enforced-policy-and-allowed-by-report-policy.py:
        * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-blocked-by-legacy-enforced-policy-and-allowed-by-report-policy.py:
        * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-blocked-by-legacy-enforced-policy-and-blocked-by-report-policy.py:
        * http/tests/security/contentSecurityPolicy/1.1/scriptnonce-blocked-by-legacy-enforced-policy-and-blocked-by-report-policy2.py:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-css-in-iframe-report-only-expected.txt:
        * http/tests/security/contentSecurityPolicy/block-all-mixed-content/resources/frame-with-insecure-css-report-only.py:
        * http/tests/security/contentSecurityPolicy/connect-src-beacon-allowed.html:
        * http/tests/security/contentSecurityPolicy/connect-src-beacon-blocked-expected.txt:
        * http/tests/security/contentSecurityPolicy/connect-src-beacon-blocked.html:
        * http/tests/security/contentSecurityPolicy/eval-allowed-in-report-only-mode-and-sends-report-expected.txt:
        * http/tests/security/contentSecurityPolicy/eval-allowed-in-report-only-mode-and-sends-report.py:
        * http/tests/security/contentSecurityPolicy/eval-blocked-and-sends-report-expected.txt:
        * http/tests/security/contentSecurityPolicy/eval-blocked-and-sends-report.html:
        * http/tests/security/contentSecurityPolicy/report-and-enforce-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-and-enforce.py:
        * http/tests/security/contentSecurityPolicy/report-blocked-data-uri-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-blocked-data-uri.py:
        * http/tests/security/contentSecurityPolicy/report-blocked-file-uri-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-blocked-file-uri.py:
        * http/tests/security/contentSecurityPolicy/report-blocked-uri-and-do-not-follow-redirect-when-sending-report-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-blocked-uri-and-do-not-follow-redirect-when-sending-report.py:
        * http/tests/security/contentSecurityPolicy/report-blocked-uri-cross-origin-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-blocked-uri-cross-origin.py:
        * http/tests/security/contentSecurityPolicy/report-blocked-uri-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-blocked-uri.py:
        * http/tests/security/contentSecurityPolicy/report-cross-origin-no-cookies-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-cross-origin-no-cookies-when-private-browsing-enabled-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-cross-origin-no-cookies-when-private-browsing-enabled.py:
        * http/tests/security/contentSecurityPolicy/report-cross-origin-no-cookies-when-private-browsing-toggled-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-cross-origin-no-cookies-when-private-browsing-toggled.php: Removed.
        * http/tests/security/contentSecurityPolicy/report-cross-origin-no-cookies-when-private-browsing-toggled.py: Added.
        * http/tests/security/contentSecurityPolicy/report-cross-origin-no-cookies.py:
        * http/tests/security/contentSecurityPolicy/report-document-uri-after-blocked-redirect.html:
        * http/tests/security/contentSecurityPolicy/report-multiple-violations-01.php: Removed.
        * http/tests/security/contentSecurityPolicy/report-multiple-violations-01.py: Added.
        * http/tests/security/contentSecurityPolicy/report-multiple-violations-02.php: Removed.
        * http/tests/security/contentSecurityPolicy/report-multiple-violations-02.py: Added.
        * http/tests/security/contentSecurityPolicy/report-only-connect-src-beacon-redirect-blocked-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-only-connect-src-beacon-redirect-blocked.php: Removed.
        * http/tests/security/contentSecurityPolicy/report-only-connect-src-beacon-redirect-blocked.py: Added.
        * http/tests/security/contentSecurityPolicy/report-only-connect-src-xmlhttprequest-redirect-to-blocked.php: Removed.
        * http/tests/security/contentSecurityPolicy/report-only-connect-src-xmlhttprequest-redirect-to-blocked.py: Added.
        * http/tests/security/contentSecurityPolicy/report-only-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-only-from-header-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-only-from-header.py:
        * http/tests/security/contentSecurityPolicy/report-only-upgrade-insecure-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-only-upgrade-insecure.py:
        * http/tests/security/contentSecurityPolicy/report-only.py:
        * http/tests/security/contentSecurityPolicy/report-same-origin-no-cookies-when-private-browsing-toggled-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-same-origin-no-cookies-when-private-browsing-toggled.py:
        * http/tests/security/contentSecurityPolicy/report-same-origin-with-cookies-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-same-origin-with-cookies-when-private-browsing-enabled-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-same-origin-with-cookies-when-private-browsing-enabled.py:
        * http/tests/security/contentSecurityPolicy/report-same-origin-with-cookies.py:
        * http/tests/security/contentSecurityPolicy/report-status-code-zero-when-using-https-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-status-code-zero-when-using-https.html:
        * http/tests/security/contentSecurityPolicy/report-uri-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-uri-from-child-frame-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-uri-from-child-frame.html:
        * http/tests/security/contentSecurityPolicy/report-uri-from-inline-javascript-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-uri-from-inline-javascript.py:
        * http/tests/security/contentSecurityPolicy/report-uri-from-javascript-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-uri-from-javascript.py:
        * http/tests/security/contentSecurityPolicy/report-uri-in-meta-tag-ignored.html:
        * http/tests/security/contentSecurityPolicy/report-uri-scheme-relative-expected.txt:
        * http/tests/security/contentSecurityPolicy/report-uri-scheme-relative.py:
        * http/tests/security/contentSecurityPolicy/report-uri.py:
        * http/tests/security/contentSecurityPolicy/resources/echo-report.php: Removed.
        * http/tests/security/contentSecurityPolicy/resources/echo-report.py: Added.
        * http/tests/security/contentSecurityPolicy/resources/generate-csp-report.php: Removed.
        * http/tests/security/contentSecurityPolicy/resources/generate-csp-report.py: Added.
        * http/tests/security/contentSecurityPolicy/resources/go-to-echo-report.js:
        (window.onload):
        * http/tests/security/contentSecurityPolicy/resources/go-to-echo-report.py:
        * http/tests/security/contentSecurityPolicy/resources/image-document-default-src-none-iframe.py:
        * http/tests/security/contentSecurityPolicy/resources/redir.php: Removed.
        * http/tests/security/contentSecurityPolicy/resources/report-file-path.php: Removed.
        * http/tests/security/contentSecurityPolicy/resources/report_file_path.py: Added.
        * http/tests/security/contentSecurityPolicy/resources/save-report-and-redirect-to-save-report.php: Removed.
        * http/tests/security/contentSecurityPolicy/resources/save-report-and-redirect-to-save-report.py: Added.
        * http/tests/security/contentSecurityPolicy/resources/save-report.php: Removed.
        * http/tests/security/contentSecurityPolicy/resources/save-report.py: Added.
        * http/tests/security/contentSecurityPolicy/resources/save_report.py: Added.
        (not_being_called):
        (save_report):
        * http/tests/security/contentSecurityPolicy/resources/worker.php: Removed.
        * http/tests/security/contentSecurityPolicy/resources/worker.py: Added.
        * http/tests/security/contentSecurityPolicy/resources/xhr-redirect-not-allowed.py:
        * http/tests/security/contentSecurityPolicy/same-origin-plugin-document-blocked-in-child-window-report-expected.txt:
        * http/tests/security/contentSecurityPolicy/same-origin-plugin-document-blocked-in-child-window-report.py:
        * http/tests/security/contentSecurityPolicy/worker-connect-src-allowed.html:
        * http/tests/security/contentSecurityPolicy/worker-connect-src-blocked.html:
        * http/tests/security/contentSecurityPolicy/worker-eval-blocked.html:
        * http/tests/security/contentSecurityPolicy/worker-function-function-blocked.html:
        * http/tests/security/contentSecurityPolicy/worker-importscripts-blocked.html:
        * http/tests/security/contentSecurityPolicy/worker-multiple-csp-headers.html:
        * http/tests/security/contentSecurityPolicy/worker-script-src.html:
        * http/tests/security/contentSecurityPolicy/worker-set-timeout-blocked.html:
        * http/tests/security/contentSecurityPolicy/worker-without-own-csp.html:
        * http/tests/security/contentSecurityPolicy/xmlhttprequest-protected-resource-does-not-crash.html:
        * http/tests/security/cookies/cookies-wrong-domain-rejected-result.php: Removed.
        * http/tests/security/cookies/cookies-wrong-domain-rejected-result.py: Added.
        * http/tests/security/cookies/cookies-wrong-domain-rejected.py:
        * http/tests/security/cookies/resources/first-party-cookie-allow.xsl:
        * http/tests/security/cookies/resources/set-a-cookie.php: Removed.
        * http/tests/security/cookies/resources/set-a-cookie.py: Added.
        * http/tests/security/cookies/resources/third-party-cookie-blocking.xsl:
        * http/tests/security/cookies/third-party-cookie-blocking-main-frame.html:
        * http/tests/security/cookies/third-party-cookie-blocking-user-action.html:
        * http/tests/security/cookies/third-party-cookie-blocking.html:
        * http/tests/security/credentials-from-different-domains.html:
        * http/tests/security/credentials-iframes-allowCrossOriginSubresourcesToAskForCredentials-expected.txt:
        * http/tests/security/credentials-iframes-expected.txt:
        * http/tests/security/import-module-crossorigin-loads.html:
        * http/tests/security/import-script-crossorigin-loads-omit.html:
        * http/tests/security/isolatedWorld/bypass-main-world-csp-worker.html:
        * http/tests/security/module-crossorigin-error-event-information-expected.txt:
        * http/tests/security/module-crossorigin-error-event-information.html:
        * http/tests/security/module-crossorigin-loads-correctly-credentials.html:
        * http/tests/security/module-crossorigin-loads-omit.html:
        * http/tests/security/module-crossorigin-onerror-information-expected.txt:
        * http/tests/security/module-crossorigin-onerror-information.html:
        * http/tests/security/private-browsing-http-auth-expected.txt:
        * http/tests/security/private-browsing-http-auth.html:
        * http/tests/security/referrer-policy-header-expected.txt:
        * http/tests/security/referrer-policy-header.html:
        * http/tests/security/resources/basic-auth.php: Removed.
        * http/tests/security/resources/basic-auth.py: Added.
        * http/tests/security/resources/cors-basic-auth.php: Removed.
        * http/tests/security/resources/cors-basic-auth.py: Added.
        * http/tests/security/resources/cors-script.php: Removed.
        * http/tests/security/resources/cors-script.py: Added.
        * http/tests/security/resources/credentials-from-different-domains-continued-1.html:
        * http/tests/security/resources/credentials-from-different-domains-continued-2.html:
        * http/tests/security/resources/credentials-iframes-different-domain.html:
        * http/tests/security/resources/credentials-iframes-same-domain.html:
        * http/tests/security/resources/credentials-main-resource.py:
        * http/tests/security/resources/import-module-crossorigin-loads-src.js:
        * http/tests/security/resources/reference-movie-cross-origin-allow.php: Removed.
        * http/tests/security/resources/reference-movie-cross-origin-allow.py: Added.
        * http/tests/security/resources/serve-referrer-policy-and-test.php: Removed.
        * http/tests/security/resources/serve-referrer-policy-and-test.py: Added.
        * http/tests/security/resources/video-cross-origin-allow-credentials.php: Removed.
        * http/tests/security/resources/video-cross-origin-allow-credentials.py: Added.
        * http/tests/security/resources/video-cross-origin-allow.php: Removed.
        * http/tests/security/resources/video-cross-origin-allow.py: Added.
        * http/tests/security/script-crossorigin-error-event-information-expected.txt:
        * http/tests/security/script-crossorigin-error-event-information.html:
        * http/tests/security/script-crossorigin-loads-correctly-credentials.html:
        * http/tests/security/script-crossorigin-loads-correctly.html:
        * http/tests/security/script-crossorigin-onerror-information-expected.txt:
        * http/tests/security/script-crossorigin-onerror-information.html:
        * http/tests/security/script-no-crossorigin-error-event-should-be-sanitized.html:
        * http/tests/security/script-no-crossorigin-onerror-should-be-sanitized.html:
        * http/tests/security/sync-xhr-partition.html:
        * http/tests/security/video-cross-origin-caching.html:
        * http/tests/security/video-cross-origin-readback.html:
        * http/tests/security/webaudio-render-remote-audio-allowed-crossorigin-redirect.html:
        * http/tests/security/webaudio-render-remote-audio-allowed-crossorigin.html:
        * http/tests/security/webaudio-render-remote-audio-blocked-no-crossorigin-redirect.html:
        * http/tests/security/webaudio-render-remote-audio-blocked-no-crossorigin.html:
        * http/tests/security/xssAuditor/report-script-tag-and-do-not-follow-redirect-when-sending-report-expected.txt:
        * http/tests/security/xssAuditor/report-script-tag-and-do-not-follow-redirect-when-sending-report.html:
        * http/tests/security/xssAuditor/report-script-tag-expected.txt:
        * http/tests/security/xssAuditor/report-script-tag-full-block-and-do-not-follow-redirect-when-sending-report-expected.txt:
        * http/tests/security/xssAuditor/report-script-tag-full-block-and-do-not-follow-redirect-when-sending-report.html:
        * http/tests/security/xssAuditor/report-script-tag-full-block-expected.txt:
        * http/tests/security/xssAuditor/report-script-tag-replace-state-expected.txt:
        * http/tests/security/xssAuditor/resources/echo-intertag.pl:
        * http/tests/security/xssAuditor/resources/tag-with-pause.py:
        * http/tests/ssl/curl/certificate-and-authentication.html:
        * platform/mac-wk1/TestExpectations:
        * platform/mac-wk1/http/tests/security/contentSecurityPolicy/report-document-uri-after-blocked-redirect-expected.txt:
        * platform/win/TestExpectations:
        * platform/win/http/tests/security/contentSecurityPolicy/report-document-uri-after-blocked-redirect-expected.txt:
        * platform/wk2/TestExpectations:
        * platform/wk2/http/tests/security/contentSecurityPolicy/block-all-mixed-content/insecure-css-in-iframe-report-only-expected.txt:

2021-04-12  Robert Jenner  <jenner@apple.com>

        [ BigSur Debug wk2 ARM64 ] webrtc/disable-encryption.html is a flakey timeout
        https://bugs.webkit.org/show_bug.cgi?id=224463

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations: Updating test expectations to Pass Timeout while test is reviewed.

2021-04-12  Chris Dumez  <cdumez@apple.com>

        webaudio/AudioListener/audiolistener-set-position.html is leaking PannerNodes
        https://bugs.webkit.org/show_bug.cgi?id=224399

        Reviewed by Geoffrey Garen.

        Add layout test coverage.

        * webaudio/OfflineAudioContext/offlineaudiocontext-can-only-render-once-expected.txt: Added.
        * webaudio/OfflineAudioContext/offlineaudiocontext-can-only-render-once.html: Added.
        * webaudio/OfflineAudioContext/offlineaudiocontext-leak-after-rendering-with-nodes-expected.txt: Added.
        * webaudio/OfflineAudioContext/offlineaudiocontext-leak-after-rendering-with-nodes.html: Added.

2021-04-12  Zalan Bujtas  <zalan@apple.com>

        ASSERTION FAILED: &layoutState().establishedFormattingState(layoutBox.formattingContextRoot()) == this in WebCore::Layout::FormattingState::boxGeometry
        https://bugs.webkit.org/show_bug.cgi?id=219905
        <rdar://problem/72350516>

        The underlying issue (non-synchronized settings update) has been addressed by r275810.

        Reviewed by Simon Fraser.

        * platform/mac-wk2/TestExpectations:

2021-04-12  Youenn Fablet  <youenn@apple.com>

        Add support for RTCEncodedFrame metadata
        https://bugs.webkit.org/show_bug.cgi?id=224430

        Reviewed by Eric Carlson.

        * http/wpt/webrtc/metadata-transform-expected.txt: Added.
        * http/wpt/webrtc/metadata-transform-worker.js: Added.
        (onrtctransform.process):
        (onrtctransform):
        * http/wpt/webrtc/metadata-transform.html: Added.

2021-04-12  Philippe Normand  <pnormand@igalia.com>

        [GStreamer][WebRTC] An audio track should be muted when capture is interrupted by the OS.
        https://bugs.webkit.org/show_bug.cgi?id=196606

        Reviewed by Xabier Rodriguez-Calvar.

        * platform/glib/TestExpectations: fast/mediastream/media-stream-track-interrupted.html is now passing.

2021-04-12  Sam Weinig  <weinig@apple.com>

        Update color-contrast() to support a target contrast ratio
        https://bugs.webkit.org/show_bug.cgi?id=224411

        Reviewed by Antti Koivisto.

        Add tests and update results for target contrast ratios in color-contrast().

        * fast/css/parsing-color-contrast-expected.txt:
        * fast/css/parsing-color-contrast.html:

2021-04-12  Antti Koivisto  <antti@apple.com>

        Descendant style relations are sometimes reset when they shouldn't
        https://bugs.webkit.org/show_bug.cgi?id=224431
        rdar://76267783

        Reviewed by Sam Weinig.

        * fast/css/first-letter-style-relation-crash-expected.txt: Added.
        * fast/css/first-letter-style-relation-crash.html: Added.

2021-04-12  Rob Buis  <rbuis@igalia.com>

        Clamp overridingContentLogicalWidth/Height to zero
        https://bugs.webkit.org/show_bug.cgi?id=224310

        Reviewed by Sergio Villar Senin.

        Add test for this.

        * fast/css-grid-layout/negative-overriding-content-logical-height-crash-expected.txt: Added.
        * fast/css-grid-layout/negative-overriding-content-logical-height-crash.html: Added.

2021-04-12  Youenn Fablet  <youenn@apple.com>

        [ macOS wk2 ] webrtc/libwebrtc/release-while-creating-offer.html is a flakey text failure
        https://bugs.webkit.org/show_bug.cgi?id=224256
        <rdar://problem/76296126>

        Reviewed by Eric Carlson.

        Pass a valid candidate to remove the rejection message.

        * platform/mac-wk2/TestExpectations:
        * webrtc/libwebrtc/release-while-creating-offer-expected.txt:
        * webrtc/libwebrtc/release-while-creating-offer.html:
        * webrtc/libwebrtc/release-while-setting-local-description.html:

2021-04-12  Philippe Normand  <pnormand@igalia.com>

        [MSE][GStreamer] Crash in WebCore::PlaybackPipeline::addSourceBuffer when setting duration and preload is set to none
        https://bugs.webkit.org/show_bug.cgi?id=224260

        Reviewed by Xabier Rodriguez-Calvar.

        * media/media-source/media-source-no-preload-set-duration-crash-expected.txt: Added.
        * media/media-source/media-source-no-preload-set-duration-crash.html: Added.

2021-04-12  Youenn Fablet  <youenn@apple.com>

        Make sure all frames get transformed when overriding a transform with another one
        https://bugs.webkit.org/show_bug.cgi?id=224367

        Reviewed by Eric Carlson.

        * http/wpt/webrtc/change-encoded-transform-expected.txt: Added.
        * http/wpt/webrtc/change-encoded-transform.html: Added.
        * http/wpt/webrtc/change-encoded-transform.js: Added.
        (appendToBuffer):
        (onrtctransform.process):
        (onrtctransform):

2021-04-12  Frederic Wang  <fred.wang@free.fr>

        Out of memory crash with find('a'.repeat(2**30))
        https://bugs.webkit.org/show_bug.cgi?id=223787

        Reviewed by Ryosuke Niwa.

        Add regression test.

        * editing/find/find-short-and-long-strings-expected.txt: Added.
        * editing/find/find-short-and-long-strings.html: Added.

2021-04-11  Cameron McCormack  <heycam@apple.com>

        Fix initial horizontal scrollbar position when vertical scrollbar is on the left.
        https://bugs.webkit.org/show_bug.cgi?id=224409

        Reviewed by Darin Adler.

        * fast/scrolling/rtl-scrollbars-initial-position-dynamic-expected.html: Added.
        * fast/scrolling/rtl-scrollbars-initial-position-dynamic.html: Added.
        * fast/scrolling/rtl-scrollbars-initial-position-expected.html: Added.
        * fast/scrolling/rtl-scrollbars-initial-position.html: Added.

2021-04-11  Sam Weinig  <weinig@apple.com>

        Reduce compile time and binary size cost of enabling proper CSSStyleDeclaration property access behavior
        https://bugs.webkit.org/show_bug.cgi?id=222518
        <rdar://problem/75136887>

        Reviewed by Darin Adler.

        * fast/css/style-enumerate-properties-expected.txt:
        * fast/css/style-enumerate-properties.html:
        * fast/dom/domListEnumeration-expected.txt:
        * fast/dom/domListEnumeration.html:
        Remove existing tests for iteration order, which is not standardized, and not consistent among
        browsers. Adds a new one that checks invariants of the 4 groupings of properties which we currently
        expect to hold, at least in our implementation.

        * fast/dom/CSSStyleDeclaration/cssstyledeclaration-properties-descriptor-expected.txt:
        * fast/dom/CSSStyleDeclaration/cssstyledeclaration-properties-descriptor.html:
        Update now that the properties are proper attributes on the prototype.

        * js/dom/put-override-should-not-use-ic.html:
        Switch to using a DOMStringList as the object that overrides put, since CSSStyleDeclaration no longer does.

        * transitions/transitions-parsing-expected.txt:
        * transitions/transitions-parsing.html:
        Remove Object.keys() aspect of the test, which is no longer meaningful since the
        properties should no longer exist in the result set.

2021-04-10  Chris Dumez  <cdumez@apple.com>

        Regression(r275668) Potential null pointer deref in AudioParam::exponentialRampToValueAtTime(float, double)
        https://bugs.webkit.org/show_bug.cgi?id=224400
        <rdar://76450376>

        Reviewed by Ryosuke Niwa.

        Add layout test coverage.

        * webaudio/AudioParam/audioparam-exponentialRampToValueAtTime-nocontext-crash-expected.txt: Added.
        * webaudio/AudioParam/audioparam-exponentialRampToValueAtTime-nocontext-crash.html: Added.

2021-04-10  Chris Dumez  <cdumez@apple.com>

        [ macOS ] imported/w3c/web-platform-tests/webaudio/the-audio-api/the-analysernode-interface/realtimeanalyser-fft-scaling.html is a flakey text failure
        https://bugs.webkit.org/show_bug.cgi?id=223966
        <rdar://problem/76028345>

        Reviewed by Darin Adler.

        Unskip test that should no longer be flaky.

        * platform/mac/TestExpectations:

2021-04-10  Chris Dumez  <cdumez@apple.com>

        [ macOS ] 3 webaudio/OfflineAudioContext/ layout-tests are flakey text failures
        https://bugs.webkit.org/show_bug.cgi?id=224387
        <rdar://problem/76468058>

        Reviewed by Eric Carlson.

        Update OfflineAudioContext leak tests to use the new test infrastructure. They are no longer impacted
        by tests running before them or in parallel to them.

        * webaudio/OfflineAudioContext/offlineaudiocontext-leak-after-rendering-expected.txt:
        * webaudio/OfflineAudioContext/offlineaudiocontext-leak-after-rendering.html:
        * webaudio/OfflineAudioContext/offlineaudiocontext-leak-expected.txt:
        * webaudio/OfflineAudioContext/offlineaudiocontext-leak-while-suspended-expected.txt:
        * webaudio/OfflineAudioContext/offlineaudiocontext-leak-while-suspended.html:
        * webaudio/OfflineAudioContext/offlineaudiocontext-leak.html:
        * webaudio/resources/audiocontext-leak-test.js: Added.
        (didGCAtLeastOneContext):
        (gcAndCheckForContextLeaks):

2021-04-09  Antoine Quint  <graouts@webkit.org>

        calc() simplification for a multiplication should apply the multiplication to each value of an addition
        https://bugs.webkit.org/show_bug.cgi?id=224376

        Reviewed by Simon Fraser.

        Rebase some non-WPT tests to account for new results.

        * css3/calc/simplification-expected.txt:
        * transitions/background-position-transitions-expected.txt:
        * transitions/background-position-transitions.html:

2021-04-09  Wenson Hsieh  <wenson_hsieh@apple.com>

        REGRESSION (r271660): Tap highlight no longer shows when tapping clickable elements without touch event listeners
        https://bugs.webkit.org/show_bug.cgi?id=224385
        <rdar://problem/76462370>

        Reviewed by Tim Horton.

        Add a new layout test that exercises 3 scenarios, using the new testing SPI:

        1.  Tapping on a `button` that prevents the "touchend" event (and therefore prevents clicking) should cause
            the tap highlight to not show up.
        2.  Tapping on a `button` that has a "touchend" event listener and does not prevent default should cause the tap
            highlight to show up.
        3.  Tapping on a `button` with no event listeners should cause the tap highlight to show up.

        * fast/events/touch/ios/tap-highlight-during-synthetic-click-expected.txt: Added.
        * fast/events/touch/ios/tap-highlight-during-synthetic-click.html: Added.
        * resources/ui-helper.js:
        (window.UIHelper.tapHighlightViewRect):

2021-04-09  Alexey Shvayka  <shvaikalesh@gmail.com>

        Remove className() and toStringName() from the method table
        https://bugs.webkit.org/show_bug.cgi?id=224247

        Reviewed by Darin Adler.

        * inspector/model/remote-object-get-properties-expected.txt:
        * inspector/model/remote-object-get-properties.html:

2021-04-09  Jean-Yves Avenard  <jya@apple.com>

        Media Session action should default to the MediaElement's default when no MediaSession handler are set
        https://bugs.webkit.org/show_bug.cgi?id=224278
        <rdar://problem/76339841>

        Reviewed by Youenn Fablet .

        * media/audio-background-playback-playlist-expected.txt: Renamed method
        * media/audio-background-playback-playlist.html: Renamed method
        * media/media-session/default-actionHandlers-expected.txt: Added.
        * media/media-session/default-actionHandlers.html: Added.
        * platform/mac/media/video-best-element-for-playback-controls-purpose-expected.txt: Renamed method
        * platform/mac/media/video-best-element-for-playback-controls-purpose.html: Renamed method

2021-04-09  Robert Jenner  <jenner@apple.com>

        [ macOS ] webgl/1.0.3/conformance/glsl/constructors/glsl-construct-ivec2.html is a flakey timeout
        https://bugs.webkit.org/show_bug.cgi?id=224396

        Unreviewed test gardening.

        * platform/mac/TestExpectations: Updating test expectations to Pass Timeout while test is reviewed.

2021-04-09  Antoine Quint  <graouts@webkit.org>

        Remove tests under css3/shapes which are superseded by tests at imported/w3c/web-platform-tests/css/css-shapes
        https://bugs.webkit.org/show_bug.cgi?id=224378

        Reviewed by Dean Jackson.

        * TestExpectations:
        * css3/shapes/shape-outside-invalid-001-expected.txt: Removed.
        * css3/shapes/shape-outside-invalid-001.html: Removed.
        * css3/shapes/shape-outside-invalid-circle-000-expected.txt: Removed.
        * css3/shapes/shape-outside-invalid-circle-000.html: Removed.
        * css3/shapes/shape-outside-invalid-circle-001-expected.txt: Removed.
        * css3/shapes/shape-outside-invalid-circle-001.html: Removed.
        * css3/shapes/shape-outside-invalid-circle-002-expected.txt: Removed.
        * css3/shapes/shape-outside-invalid-circle-002.html: Removed.
        * css3/shapes/shape-outside-invalid-circle-003-expected.txt: Removed.
        * css3/shapes/shape-outside-invalid-circle-003.html: Removed.
        * css3/shapes/shape-outside-invalid-ellipse-001-expected.txt: Removed.
        * css3/shapes/shape-outside-invalid-ellipse-001.html: Removed.
        * css3/shapes/shape-outside-invalid-ellipse-002-expected.txt: Removed.
        * css3/shapes/shape-outside-invalid-ellipse-002.html: Removed.
        * css3/shapes/shape-outside-invalid-ellipse-003-expected.txt: Removed.
        * css3/shapes/shape-outside-invalid-ellipse-003.html: Removed.
        * css3/shapes/shape-outside-invalid-ellipse-004-expected.txt: Removed.
        * css3/shapes/shape-outside-invalid-ellipse-004.html: Removed.
        * css3/shapes/shape-outside-invalid-ellipse-005-expected.txt: Removed.
        * css3/shapes/shape-outside-invalid-ellipse-005.html: Removed.
        * css3/shapes/shape-outside-invalid-ellipse-006-expected.txt: Removed.
        * css3/shapes/shape-outside-invalid-ellipse-006.html: Removed.
        * css3/shapes/shape-outside-invalid-inset-001-expected.txt: Removed.
        * css3/shapes/shape-outside-invalid-inset-001.html: Removed.
        * css3/shapes/shape-outside-invalid-inset-002-expected.txt: Removed.
        * css3/shapes/shape-outside-invalid-inset-002.html: Removed.
        * css3/shapes/shape-outside-invalid-inset-003-expected.txt: Removed.
        * css3/shapes/shape-outside-invalid-inset-003.html: Removed.
        * css3/shapes/shape-outside-invalid-inset-004-expected.txt: Removed.
        * css3/shapes/shape-outside-invalid-inset-004.html: Removed.
        * css3/shapes/shape-outside-path-no-crash-expected.txt: Removed.
        * css3/shapes/shape-outside-path-no-crash.html: Removed.
        * css3/shapes/shape-outside/shape-box/shape-outside-box-002-expected.html: Removed.
        * css3/shapes/shape-outside/shape-box/shape-outside-box-002.html: Removed.
        * css3/shapes/shape-outside/shape-box/shape-outside-box-003-expected.html: Removed.
        * css3/shapes/shape-outside/shape-box/shape-outside-box-003.html: Removed.
        * css3/shapes/shape-outside/shape-box/shape-outside-box-004-expected.html: Removed.
        * css3/shapes/shape-outside/shape-box/shape-outside-box-004.html: Removed.
        * css3/shapes/shape-outside/shape-box/shape-outside-box-006-expected.html: Removed.
        * css3/shapes/shape-outside/shape-box/shape-outside-box-006.html: Removed.
        * css3/shapes/shape-outside/shape-box/shape-outside-box-007-expected.html: Removed.
        * css3/shapes/shape-outside/shape-box/shape-outside-box-007.html: Removed.
        * css3/shapes/shape-outside/shape-box/shape-outside-box-008-expected.html: Removed.
        * css3/shapes/shape-outside/shape-box/shape-outside-box-008.html: Removed.
        * css3/shapes/shape-outside/shape-box/w3c-import.log: Removed.
        * css3/shapes/shape-outside/shape-image/gradients/shape-outside-linear-gradient-001-expected.html: Removed.
        * css3/shapes/shape-outside/shape-image/gradients/shape-outside-linear-gradient-001.html: Removed.
        * css3/shapes/shape-outside/shape-image/gradients/shape-outside-linear-gradient-002-expected.html: Removed.
        * css3/shapes/shape-outside/shape-image/gradients/shape-outside-linear-gradient-002.html: Removed.
        * css3/shapes/shape-outside/shape-image/gradients/shape-outside-linear-gradient-003-expected.html: Removed.
        * css3/shapes/shape-outside/shape-image/gradients/shape-outside-linear-gradient-003.html: Removed.
        * css3/shapes/shape-outside/shape-image/gradients/shape-outside-linear-gradient-004-expected.html: Removed.
        * css3/shapes/shape-outside/shape-image/gradients/shape-outside-linear-gradient-004.html: Removed.
        * css3/shapes/shape-outside/shape-image/gradients/shape-outside-radial-gradient-001-expected.txt: Removed.
        * css3/shapes/shape-outside/shape-image/gradients/shape-outside-radial-gradient-001.html: Removed.
        * css3/shapes/shape-outside/shape-image/gradients/shape-outside-radial-gradient-002-expected.txt: Removed.
        * css3/shapes/shape-outside/shape-image/gradients/shape-outside-radial-gradient-002.html: Removed.
        * css3/shapes/shape-outside/shape-image/gradients/shape-outside-radial-gradient-003-expected.txt: Removed.
        * css3/shapes/shape-outside/shape-image/gradients/shape-outside-radial-gradient-003.html: Removed.
        * css3/shapes/shape-outside/shape-image/gradients/shape-outside-radial-gradient-004-expected.txt: Removed.
        * css3/shapes/shape-outside/shape-image/gradients/shape-outside-radial-gradient-004.html: Removed.
        * css3/shapes/shape-outside/shape-image/gradients/w3c-import.log: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-000-expected.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-000.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-001-expected.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-001.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-002-expected.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-002.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-003-expected.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-003.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-004-expected.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-004.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-005-expected.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-005.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-006-expected.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-006.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-007-expected.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-007.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-008-expected.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-008.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-009-expected.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-009.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-010-expected.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-010.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-011-expected.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-011.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-012-expected.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-012.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-013-expected.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-013.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-014-expected.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-014.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-015-expected.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-015.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-016-expected.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-016.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-017-expected.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-017.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-018-expected.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-018.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-019-expected.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-019.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-020-expected.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-020.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-021-expected.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-021.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-022-expected.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-022.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-023-expected.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-023.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-024-expected.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-024.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-025-expected.html: Removed.
        * css3/shapes/shape-outside/shape-image/shape-image-025.html: Removed.
        * css3/shapes/shape-outside/shape-image/support/animated.gif: Removed.
        * css3/shapes/shape-outside/shape-image/support/left-half-rectangle-20.png: Removed.
        * css3/shapes/shape-outside/shape-image/support/left-half-rectangle-20.svg: Removed.
        * css3/shapes/shape-outside/shape-image/support/left-half-rectangle-50.png: Removed.
        * css3/shapes/shape-outside/shape-image/support/left-half-rectangle-50.svg: Removed.
        * css3/shapes/shape-outside/shape-image/support/left-half-rectangle-70.png: Removed.
        * css3/shapes/shape-outside/shape-image/support/left-half-rectangle-70.svg: Removed.
        * css3/shapes/shape-outside/shape-image/support/left-half-rectangle.jpg: Removed.
        * css3/shapes/shape-outside/shape-image/support/left-half-rectangle.png: Removed.
        * css3/shapes/shape-outside/shape-image/support/left-half-rectangle.svg: Removed.
        * css3/shapes/shape-outside/shape-image/support/right-half-rectangle-20.png: Removed.
        * css3/shapes/shape-outside/shape-image/support/right-half-rectangle-50.png: Removed.
        * css3/shapes/shape-outside/shape-image/support/right-half-rectangle-70.png: Removed.
        * css3/shapes/shape-outside/shape-image/support/right-half-rectangle-70.svg: Removed.
        * css3/shapes/shape-outside/shape-image/support/right-half-rectangle.gif: Removed.
        * css3/shapes/shape-outside/shape-image/support/right-half-rectangle.jpg: Removed.
        * css3/shapes/shape-outside/shape-image/support/right-half-rectangle.png: Removed.
        * css3/shapes/shape-outside/shape-image/support/right-half-rectangle.svg: Removed.
        * css3/shapes/shape-outside/shape-image/support/w3c-import.log: Removed.
        * css3/shapes/shape-outside/shape-image/w3c-import.log: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-013-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-013.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-014-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-014.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-015-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-015.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-016-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-016.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-017-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-017.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-018-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-018.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-019-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-019.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-020-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-020.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-021-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-021.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-022-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-022.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-024-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-024.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-025-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-025.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-026-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-026.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-027-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-027.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-028-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-028.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-029-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-029.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-030-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-030.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-031-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/shape-outside-circle-031.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/circle/w3c-import.log: Removed.
        * css3/shapes/shape-outside/supported-shapes/ellipse/shape-outside-ellipse-013-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/ellipse/shape-outside-ellipse-013.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/ellipse/shape-outside-ellipse-014-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/ellipse/shape-outside-ellipse-014.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/ellipse/shape-outside-ellipse-016-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/ellipse/shape-outside-ellipse-016.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/ellipse/shape-outside-ellipse-018-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/ellipse/shape-outside-ellipse-018.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/ellipse/shape-outside-ellipse-019-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/ellipse/shape-outside-ellipse-019.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/ellipse/shape-outside-ellipse-020-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/ellipse/shape-outside-ellipse-020.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/ellipse/shape-outside-ellipse-021-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/ellipse/shape-outside-ellipse-021.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/ellipse/shape-outside-ellipse-022-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/ellipse/shape-outside-ellipse-022.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/ellipse/shape-outside-ellipse-023-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/ellipse/shape-outside-ellipse-023.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/ellipse/shape-outside-ellipse-024-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/ellipse/shape-outside-ellipse-024.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/ellipse/shape-outside-ellipse-025-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/ellipse/shape-outside-ellipse-025.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/ellipse/shape-outside-ellipse-030-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/ellipse/shape-outside-ellipse-030.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/ellipse/shape-outside-ellipse-031-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/ellipse/shape-outside-ellipse-031.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/ellipse/w3c-import.log: Removed.
        * css3/shapes/shape-outside/supported-shapes/inset/shape-outside-inset-010-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/inset/shape-outside-inset-010.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/inset/shape-outside-inset-011-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/inset/shape-outside-inset-011.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/inset/shape-outside-inset-012-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/inset/shape-outside-inset-012.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/inset/shape-outside-inset-013-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/inset/shape-outside-inset-013.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/inset/shape-outside-inset-014-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/inset/shape-outside-inset-014.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/inset/shape-outside-inset-015-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/inset/shape-outside-inset-015.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/inset/w3c-import.log: Removed.
        * css3/shapes/shape-outside/supported-shapes/polygon/shape-outside-polygon-007-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/polygon/shape-outside-polygon-007.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/polygon/shape-outside-polygon-008-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/polygon/shape-outside-polygon-008.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/polygon/shape-outside-polygon-009-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/polygon/shape-outside-polygon-009.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/polygon/shape-outside-polygon-010-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/polygon/shape-outside-polygon-010.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/polygon/shape-outside-polygon-011-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/polygon/shape-outside-polygon-011.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/polygon/shape-outside-polygon-012-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/polygon/shape-outside-polygon-012.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/polygon/shape-outside-polygon-013-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/polygon/shape-outside-polygon-013.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/polygon/shape-outside-polygon-014-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/polygon/shape-outside-polygon-014.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/polygon/shape-outside-polygon-015-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/polygon/shape-outside-polygon-015.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/polygon/shape-outside-polygon-016-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/polygon/shape-outside-polygon-016.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/polygon/shape-outside-polygon-017-expected.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/polygon/shape-outside-polygon-017.html: Removed.
        * css3/shapes/shape-outside/supported-shapes/polygon/w3c-import.log: Removed.
        * css3/shapes/shape-outside/supported-shapes/support/rounded-rectangle.js: Removed.
        * css3/shapes/shape-outside/supported-shapes/support/subpixel-utils.js: Removed.
        * css3/shapes/shape-outside/supported-shapes/support/test-utils.js: Removed.
        * css3/shapes/shape-outside/supported-shapes/support/w3c-import.log: Removed.
        * css3/shapes/shape-outside/values/shape-image-threshold-000-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-image-threshold-000.html: Removed.
        * css3/shapes/shape-outside/values/shape-image-threshold-001-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-image-threshold-001.html: Removed.
        * css3/shapes/shape-outside/values/shape-image-threshold-002-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-image-threshold-002.html: Removed.
        * css3/shapes/shape-outside/values/shape-image-threshold-003-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-image-threshold-003.html: Removed.
        * css3/shapes/shape-outside/values/shape-margin-000-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-margin-000.html: Removed.
        * css3/shapes/shape-outside/values/shape-margin-001-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-margin-001.html: Removed.
        * css3/shapes/shape-outside/values/shape-margin-002-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-margin-002.html: Removed.
        * css3/shapes/shape-outside/values/shape-margin-003-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-margin-003.html: Removed.
        * css3/shapes/shape-outside/values/shape-margin-004-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-margin-004.html: Removed.
        * css3/shapes/shape-outside/values/shape-margin-005-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-margin-005.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-box-000-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-box-000.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-circle-000-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-circle-000.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-circle-001-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-circle-001.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-circle-002-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-circle-002.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-circle-003-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-circle-003.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-circle-004-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-circle-004.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-circle-005-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-circle-005.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-circle-006-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-circle-006.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-circle-007-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-circle-007.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-circle-008-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-circle-008.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-circle-009-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-circle-009.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-circle-010-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-circle-010.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-circle-011-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-circle-011.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-computed-shape-000-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-computed-shape-000.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-computed-shape-001-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-computed-shape-001.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-ellipse-000-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-ellipse-000.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-ellipse-002-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-ellipse-002.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-ellipse-003-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-ellipse-003.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-ellipse-004-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-ellipse-004.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-ellipse-006-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-ellipse-006.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-ellipse-007-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-ellipse-007.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-ellipse-008-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-ellipse-008.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-ellipse-009-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-ellipse-009.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-inset-000-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-inset-000.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-inset-001-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-inset-001.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-inset-002-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-inset-002.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-inset-003-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-inset-003.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-inset-004-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-inset-004.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-inset-005-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-inset-005.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-inset-006-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-inset-006.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-inset-007-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-inset-007.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-inset-008-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-inset-008.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-inset-009-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-inset-009.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-polygon-000-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-polygon-000.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-polygon-001-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-polygon-001.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-polygon-002-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-polygon-002.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-polygon-003-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-polygon-003.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-polygon-004-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-polygon-004.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-polygon-005-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-polygon-005.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-polygon-006-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-polygon-006.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-shape-arguments-000-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-shape-arguments-000.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-shape-arguments-001-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-shape-arguments-001.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-shape-box-pair-000-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-shape-box-pair-000.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-shape-inherit-000-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-shape-inherit-000.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-shape-initial-000-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-shape-initial-000.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-shape-none-000-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-shape-none-000.html: Removed.
        * css3/shapes/shape-outside/values/shape-outside-shape-notation-000-expected.txt: Removed.
        * css3/shapes/shape-outside/values/shape-outside-shape-notation-000.html: Removed.
        * css3/shapes/shape-outside/values/support/parsing-utils.js: Removed.
        * css3/shapes/shape-outside/values/support/w3c-import.log: Removed.
        * css3/shapes/shape-outside/values/w3c-import.log: Removed.
        * css3/shapes/spec-examples/shape-outside-001-expected.html: Removed.
        * css3/shapes/spec-examples/shape-outside-001.html: Removed.
        * css3/shapes/spec-examples/shape-outside-002-expected.html: Removed.
        * css3/shapes/spec-examples/shape-outside-002.html: Removed.
        * css3/shapes/spec-examples/shape-outside-003-expected.html: Removed.
        * css3/shapes/spec-examples/shape-outside-003.html: Removed.
        * css3/shapes/spec-examples/shape-outside-004-expected.html: Removed.
        * css3/shapes/spec-examples/shape-outside-004.html: Removed.
        * css3/shapes/spec-examples/shape-outside-005-expected.html: Removed.
        * css3/shapes/spec-examples/shape-outside-005.html: Removed.
        * css3/shapes/spec-examples/shape-outside-006-expected.html: Removed.
        * css3/shapes/spec-examples/shape-outside-006.html: Removed.
        * css3/shapes/spec-examples/shape-outside-007-expected.html: Removed.
        * css3/shapes/spec-examples/shape-outside-007.html: Removed.
        * css3/shapes/spec-examples/shape-outside-008-expected.html: Removed.
        * css3/shapes/spec-examples/shape-outside-008.html: Removed.
        * css3/shapes/spec-examples/shape-outside-010-expected.txt: Removed.
        * css3/shapes/spec-examples/shape-outside-010.html: Removed.
        * css3/shapes/spec-examples/shape-outside-011-expected.txt: Removed.
        * css3/shapes/spec-examples/shape-outside-011.html: Removed.
        * css3/shapes/spec-examples/shape-outside-012-expected.txt: Removed.
        * css3/shapes/spec-examples/shape-outside-012.html: Removed.
        * css3/shapes/spec-examples/shape-outside-013-expected.txt: Removed.
        * css3/shapes/spec-examples/shape-outside-013.html: Removed.
        * css3/shapes/spec-examples/shape-outside-014-expected.txt: Removed.
        * css3/shapes/spec-examples/shape-outside-014.html: Removed.
        * css3/shapes/spec-examples/shape-outside-015-expected.txt: Removed.
        * css3/shapes/spec-examples/shape-outside-015.html: Removed.
        * css3/shapes/spec-examples/shape-outside-016-expected.txt: Removed.
        * css3/shapes/spec-examples/shape-outside-016.html: Removed.
        * css3/shapes/spec-examples/shape-outside-017-expected.txt: Removed.
        * css3/shapes/spec-examples/shape-outside-017.html: Removed.
        * css3/shapes/spec-examples/shape-outside-018-expected.txt: Removed.
        * css3/shapes/spec-examples/shape-outside-018.html: Removed.
        * css3/shapes/spec-examples/shape-outside-019-expected.txt: Removed.
        * css3/shapes/spec-examples/shape-outside-019.html: Removed.
        * css3/shapes/spec-examples/support/circle-no-shadow.png: Removed.
        * css3/shapes/spec-examples/support/circle-shadow.png: Removed.
        * css3/shapes/spec-examples/support/rounded-triangle.svg: Removed.
        * css3/shapes/spec-examples/support/spec-example-utils.js: Removed.
        * css3/shapes/spec-examples/support/w3c-import.log: Removed.
        * css3/shapes/spec-examples/w3c-import.log: Removed.
        * css3/shapes/w3c-import.log: Removed.
        * platform/glib/TestExpectations:
        * platform/ios/TestExpectations:
        * platform/mac-wk2/TestExpectations:
        * platform/wincairo/TestExpectations:

2021-04-09  Ziran Sun  <zsun@igalia.com>

        [css-grid] Set hasIntrinsicWidth & hasIntrinsicHeight properties for SVG element's intrinsic size
        https://bugs.webkit.org/show_bug.cgi?id=223504

        Reviewed by Javier Fernandez.

        Enable 4 tests that pass now.

        * TestExpectations:

2021-04-09  Said Abou-Hallawa  <said@apple.com>

        [ macOS wk2 ARM64 ] fast/images/async-image-background-change.html is a flakey timeout
        https://bugs.webkit.org/show_bug.cgi?id=223469

        Reviewed by Darin Adler.

        If the event 'webkitImageFrameReady' fires before registering its listener,
        the test will timeout.

        Make sure the event listener is registered  before changing the background
        of the element.

        * fast/images/async-image-background-change.html:
        * platform/mac-wk2/TestExpectations:

2021-04-09  Wenson Hsieh  <wenson_hsieh@apple.com>

        REGRESSION (r273154): 3 layout tests in editing/selection/ios are consistently failing
        https://bugs.webkit.org/show_bug.cgi?id=224375
        <rdar://problem/76420167>

        Reviewed by Tim Horton.

        Rebaseline some layout tests after enabling form control refresh on iOS.

        * editing/selection/ios/do-not-hide-selection-in-visible-field-expected.txt:
        * editing/selection/ios/do-not-hide-selection-in-visible-field.html:
        * editing/selection/ios/show-selection-in-transformed-container-2-expected.txt:
        * editing/selection/ios/show-selection-in-transformed-container-2.html:
        * editing/selection/ios/show-selection-in-transformed-container-expected.txt:
        * editing/selection/ios/show-selection-in-transformed-container.html:

2021-04-08  Antoine Quint  <graouts@webkit.org>

        calc() values resulting from blending mixed type lengths should be simplified
        https://bugs.webkit.org/show_bug.cgi?id=224322

        Reviewed by Sam Weinig.

        Modify a few tests to account for the correct serialization.

        * fast/css/object-position/parsing-object-position-expected.txt:
        * fast/css/object-position/parsing-object-position.html:
        * fast/shapes/shape-outside-floats/shape-outside-animation-expected.txt:
        * fast/shapes/shape-outside-floats/shape-outside-animation.html:
        * transitions/background-position-transitions.html:
        * transitions/background-position-transitions-expected.txt:
        * transitions/resources/transition-test-helpers.js: set computedValue such that
        failures print out the actual value instead of "undefined".

2021-04-09  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] Convert http/tests/cookies convert PHP to Python
        https://bugs.webkit.org/show_bug.cgi?id=223891
        <rdar://problem/75965634>

        Reviewed by Jonathan Bedard.

        * http/tests/cookies/multiple-redirect-and-set-cookie.php: Removed.
        * http/tests/cookies/multiple-redirect-and-set-cookie.py: Added.
        (redirect_url):
        (redirect_to_step):
        (step0):
        (step2):
        * http/tests/cookies/resources/cookie-utilities.php: Removed.
        * http/tests/cookies/resources/cookie_utilities.py: Added.
        (hostname_is_equal_to_string):
        (reset_cookies_for_current_origin):
        (reset_cookies):
        (should_reset_cookies):
        (wk_set_cookie):
        * http/tests/cookies/same-site/set-first-party-cross-site-cookies.php: Removed.
        * http/tests/cookies/same-site/set-first-party-cross-site-cookies.py: Added.
        * http/tests/cookies/same-site/set-first-party-same-site-cookies.php: Removed.
        * http/tests/cookies/same-site/set-first-party-same-site-cookies.py: Added.
        * http/tests/cookies/same-site/user-load-cross-site-redirect.php: Removed.
        * http/tests/cookies/same-site/user-load-cross-site-redirect.py: Added.
        * platform/gtk/TestExpectations:
        * platform/mac/TestExpectations:
        * platform/wpe/TestExpectations:

2021-04-09  Philippe Normand  <pnormand@igalia.com>

        [GStreamer] fast/canvas/canvas-createPattern-video-loading.html is failing since r218170
        https://bugs.webkit.org/show_bug.cgi?id=173410

        Reviewed by Xabier Rodriguez-Calvar.

        * platform/gtk/TestExpectations: Unflag now-passing test.

2021-04-09  Antoine Quint  <graouts@webkit.org>

        [ Mac WK2 ] compositing/animation/keyframe-order.html is a flakey image failure
        https://bugs.webkit.org/show_bug.cgi?id=221359

        Reviewed by Dean Jackson.

        Attempt to make this test more stable by awaiting the resolution of the animation.ready
        promise as well as UIHelper.renderingUpdate() to ensure the animation has been committed.

        * compositing/animation/keyframe-order.html:

2021-04-09  Yusuke Suzuki  <ysuzuki@apple.com>

        ServiceWorker should save module scripts
        https://bugs.webkit.org/show_bug.cgi?id=224356
        <rdar://problem/75634897>

        Reviewed by Youenn Fablet.

        * http/wpt/service-workers/persistent-modules-expected.txt: Added.
        * http/wpt/service-workers/persistent-modules.html: Added.
        * http/wpt/service-workers/resources/persistent-imported-module-script.py: Added.
        (main):
        * http/wpt/service-workers/resources/persistent-module-worker.js: Added.

2021-04-08  Jiewen Tan  <jiewen_tan@apple.com>

        PCM: Write more blinded secret tests
        https://bugs.webkit.org/show_bug.cgi?id=222018
        <rdar://problem/74674160>

        Reviewed by John Wilander.

        * http/tests/privateClickMeasurement/store-private-click-measurement-with-source-nonce.html:

2021-04-08  Kate Cheney  <katherine_cheney@apple.com>

        Add test infrastructure for app bound request context string
        https://bugs.webkit.org/show_bug.cgi?id=224311
        <rdar://problem/76229003>

        Reviewed by Brent Fulgham.

        Test coverage.

        * http/tests/in-app-browser-privacy/context-string-for-subframe-expected.txt: Added.
        * http/tests/in-app-browser-privacy/context-string-for-subframe.html: Added.
        * http/tests/in-app-browser-privacy/resources/basic-iframe.html: Added.
        * platform/ios-wk2/TestExpectations:

2021-04-08  Chris Dumez  <cdumez@apple.com>

        Suspended OfflineAudioContext objects are leaking
        https://bugs.webkit.org/show_bug.cgi?id=224333

        Reviewed by Darin Adler.

        Add layout test coverage.

        * webaudio/OfflineAudioContext/offlineaudiocontext-leak-while-suspended-expected.txt: Added.
        * webaudio/OfflineAudioContext/offlineaudiocontext-leak-while-suspended.html: Added.

2021-04-08  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] Convert http/tests/navigation convert PHP to Python
        https://bugs.webkit.org/show_bug.cgi?id=222418
        <rdar://problem/74744523>

        Reviewed by Jonathan Bedard.

        * http/tests/blink/sendbeacon/beacon-cross-origin-redirect-blob-expected.txt:
        * http/tests/blink/sendbeacon/beacon-cross-origin-redirect-blob.html:
        * http/tests/blink/sendbeacon/beacon-cross-origin-redirect-expected.txt:
        * http/tests/blink/sendbeacon/beacon-cross-origin-redirect.html:
        * http/tests/navigation/image-load-in-pagehide-handler-expected.txt:
        * http/tests/navigation/image-load-in-pagehide-handler.html:
        * http/tests/navigation/image-load-in-unload-handler-expected.txt:
        * http/tests/navigation/image-load-in-unload-handler.html:
        * http/tests/navigation/no-referrer-reset-expected.txt:
        * http/tests/navigation/no-referrer-reset.html:
        * http/tests/navigation/no-referrer-same-window.html:
        * http/tests/navigation/no-referrer-subframe.html:
        * http/tests/navigation/no-referrer-target-blank.html:
        * http/tests/navigation/ping-attribute/anchor-cookie-expected.txt:
        * http/tests/navigation/ping-attribute/anchor-cookie.html:
        * http/tests/navigation/ping-attribute/anchor-cross-origin-expected.txt:
        * http/tests/navigation/ping-attribute/anchor-cross-origin-from-https-expected.txt:
        * http/tests/navigation/ping-attribute/anchor-cross-origin-from-https.html:
        * http/tests/navigation/ping-attribute/anchor-cross-origin.html:
        * http/tests/navigation/ping-attribute/anchor-ping-and-follow-redirect-when-sending-ping-expected.txt:
        * http/tests/navigation/ping-attribute/anchor-ping-and-follow-redirect-when-sending-ping.html:
        * http/tests/navigation/ping-attribute/anchor-same-origin-expected.txt:
        * http/tests/navigation/ping-attribute/anchor-same-origin.html:
        * http/tests/navigation/ping-attribute/area-cookie-expected.txt:
        * http/tests/navigation/ping-attribute/area-cookie.html:
        * http/tests/navigation/ping-attribute/area-cross-origin-expected.txt:
        * http/tests/navigation/ping-attribute/area-cross-origin-from-https-expected.txt:
        * http/tests/navigation/ping-attribute/area-cross-origin-from-https.html:
        * http/tests/navigation/ping-attribute/area-cross-origin.html:
        * http/tests/navigation/ping-attribute/area-same-origin-expected.txt:
        * http/tests/navigation/ping-attribute/area-same-origin.html:
        * http/tests/navigation/ping-attribute/resources/utilities.js:
        (clearLastPingResultAndRunTest):
        * http/tests/navigation/post-301-response.html:
        * http/tests/navigation/post-302-response.html:
        * http/tests/navigation/post-303-response.html:
        * http/tests/navigation/post-307-response.html:
        * http/tests/navigation/post-308-response.html:
        * http/tests/navigation/resources/check-ping.php: Removed.
        * http/tests/navigation/resources/check-ping.py: Added.
        * http/tests/navigation/resources/delete-ping.php: Removed.
        * http/tests/navigation/resources/delete-ping.py: Added.
        * http/tests/navigation/resources/image-load-in-pagehide-handler-2.html:
        * http/tests/navigation/resources/image-load-in-unload-handler-2.html:
        * http/tests/navigation/resources/no-referrer-helper.php: Removed.
        * http/tests/navigation/resources/no-referrer-helper.py: Added.
        * http/tests/navigation/resources/no-referrer-reset-helper.php: Removed.
        * http/tests/navigation/resources/no-referrer-reset-helper.py: Added.
        * http/tests/navigation/resources/no-referrer-same-window-helper.php: Removed.
        * http/tests/navigation/resources/no-referrer-same-window-helper.py: Added.
        * http/tests/navigation/resources/ping-file-path.php: Removed.
        * http/tests/navigation/resources/ping_file_path.py: Added.
        * http/tests/navigation/resources/redirected-post-request-contents.php: Removed.
        * http/tests/navigation/resources/redirected-post-request-contents.py: Added.
        (check_header):
        * http/tests/navigation/resources/redirection-response.php: Removed.
        * http/tests/navigation/resources/redirection-response.py: Added.
        * http/tests/navigation/resources/save-Ping.php: Removed.
        * http/tests/navigation/resources/save-ping-and-redirect-to-save-ping.php: Removed.
        * http/tests/navigation/resources/save-ping-and-redirect-to-save-ping.py: Added.
        * http/tests/navigation/resources/save-ping.py: Added.
        * http/tests/navigation/resources/save_ping.py: Added.
        (not_being_called):
        (save_ping):
        * http/tests/security/contentSecurityPolicy/1.1/form-action-src-redirect-blocked.html:

2021-04-08  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] Convert http/tests/workers convert PHP to Python
        https://bugs.webkit.org/show_bug.cgi?id=223522
        <rdar://problem/75624689>

        Reviewed by Jonathan Bedard.

        * http/tests/workers/resources/worker-encoded.py:
        * http/tests/workers/resources/xhr-response.php: Removed.

2021-04-08  Chris Dumez  <cdumez@apple.com>

        OfflineAudioContext objects are leaking
        https://bugs.webkit.org/show_bug.cgi?id=224279

        Reviewed by Darin Adler.

        Add layout test coverage.

        * webaudio/OfflineAudioContext/offlineaudiocontext-leak-after-rendering-expected.txt: Added.
        * webaudio/OfflineAudioContext/offlineaudiocontext-leak-after-rendering.html: Added.
        * webaudio/OfflineAudioContext/offlineaudiocontext-leak-expected.txt: Added.
        * webaudio/OfflineAudioContext/offlineaudiocontext-leak.html: Added.

2021-04-08  Andres Gonzalez  <andresg_22@apple.com>

        VoiceOver does not echo text insertions and deletions when a contenteditable div has a non editable descendant element with a content editable child
        https://bugs.webkit.org/show_bug.cgi?id=223818

        Reviewed by Chris Fleizach.

        * accessibility/nested-textareas-value-changed-notifications-expected.txt: Added.
        * accessibility/nested-textareas-value-changed-notifications.html: Added.

2021-04-08  Sihui Liu  <sihui_liu@apple.com>

        Remove logging for investigating http/tests/IndexedDB/storage-limit-1.html failure
        https://bugs.webkit.org/show_bug.cgi?id=223086
        <rdar://problem/75591816>

        Reviewed by Chris Dumez.

        * http/tests/IndexedDB/storage-limit-1.https.html:
        * http/tests/IndexedDB/storage-limit-2.https.html:
        * http/tests/IndexedDB/storage-limit.https.html:

2021-04-08  Antti Koivisto  <antti@apple.com>

        Revert r273621 because iPhone PLT regression
        https://bugs.webkit.org/show_bug.cgi?id=224323

        Unreviewed.

        * fast/text/splitText-dirty-lines-expected.txt:
        * fast/text/text-combine-surroundContents-crash-expected.txt:
        * imported/blink/fast/css/first-letter-range-insert-expected.txt:

2021-04-08  Youenn Fablet  <youenn@apple.com>

        Update SFrame implementation to latest version
        https://bugs.webkit.org/show_bug.cgi?id=224276

        Reviewed by Eric Carlson.

        * webrtc/sframe-test-vectors-expected.txt: Added.
        * webrtc/sframe-test-vectors.html: Added.

2021-04-07  Julian Gonzalez  <julian_a_gonzalez@apple.com>

        Nullptr dereference in ReplaceSelectionCommand::removeRedundantStylesAndKeepStyleSpanInline
        https://bugs.webkit.org/show_bug.cgi?id=224259

        Reviewed by Ryosuke Niwa.

        Add a test to catch the editing crash fixed here; thanks to Tuomas Karkkainen
        for its basic structure.

        * editing/inserting/insert-display-contents-crash-expected.txt: Added.
        * editing/inserting/insert-display-contents-crash.html: Added.

2021-04-07  Robert Jenner  <jenner@apple.com>

        [ macOS ] media/modern-media-controls/seek-forward-support/seek-forward-support.html is a flakey timeout
        https://bugs.webkit.org/show_bug.cgi?id=224297

        Unreviewed test gardening.

        * platform/mac/TestExpectations: Updating test expectations to Pass Timeout.

2021-04-07  Robert Jenner  <jenner@apple.com>

        [ BigSur wk2 Debug x86_64 ] inspector/indexeddb/requestDatabaseNames.html is a flakey text failure
        https://bugs.webkit.org/show_bug.cgi?id=224294

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations: Updating test expectations to Pass Failure.

2021-04-07  Zalan Bujtas  <zalan@apple.com>

        REGRESSION (r270849): Button content fails to render on apple.com "Blood Oxygen"/"ECG"
        https://bugs.webkit.org/show_bug.cgi?id=224261

        Reviewed by Simon Fraser.

        * fast/text/text-repaint-when-pointer-event-property-changes-expected.html: Added.
        * fast/text/text-repaint-when-pointer-event-property-changes.html: Added.

2021-04-07  Rob Buis  <rbuis@igalia.com>

        Ignore non-null lastQuote ASSERT when continuation is broken
        https://bugs.webkit.org/show_bug.cgi?id=218576

        Reviewed by Zalan Bujtas.

        Add test for this.

        * fast/dom/quotes-continuation-crash-expected.txt: Added.
        * fast/dom/quotes-continuation-crash.html: Added.

2021-04-07  Alejandro G. Castro  <alex@igalia.com>

        [GTK][WPE] Wrong frame scrolled when view is horizontally scrolled with async scrolling enabled
        https://bugs.webkit.org/show_bug.cgi?id=222900

        Reviewed by Žan Doberšek.

        Add test for the use case.

        * fast/scrolling/scrolling-inside-scrolled-overflowarea-expected.txt: Added.
        * fast/scrolling/scrolling-inside-scrolled-overflowarea.html: Added.
        * platform/ios/TestExpectations: The test uses mouseMoveTo and it is not supported in IOS.

2021-04-07  Ryosuke Niwa  <rniwa@webkit.org>

        REGRESSION(r274812): Release assert in Document::updateLayout() after calling focus({preventScroll: true}) on a textarea
        https://bugs.webkit.org/show_bug.cgi?id=224262

        Reviewed by Antti Koivisto.

        Added a regression test.

        * fast/forms/textarea/textarea-focus-prevent-scroll-crash-expected.txt: Added.
        * fast/forms/textarea/textarea-focus-prevent-scroll-crash.html: Added.

2021-04-06  Sihui Liu  <sihui_liu@apple.com>

        [ Catalina WK2 Release ] http/tests/IndexedDB/storage-limit-1.https.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=213292
        <rdar://problem/64447734>

        Reviewed by Geoffrey Garen.

        Test http/tests/IndexedDB/collect-IDB-objects.https.html, which runs right before 
        http/tests/IndexedDB/storage-limit-1.https.html, will delete databases after test completetion. During deletion, 
        we create a new database if it does not exist, extract database version from it, and then delete database files.
        This creation can happen during storage-limit-1.https.html run and interrupt testing for quota. To fix the 
        flakiness and make the deletion more efficient, let's not create a new database during deletion if database
        does not exist.

        * platform/mac-wk2/TestExpectations:
        * platform/mac/TestExpectations:

2021-04-06  Robert Jenner  <jenner@apple.com>

        [ macOS wk2 ] webrtc/libwebrtc/release-while-creating-offer.html is a flakey text failure
        https://bugs.webkit.org/show_bug.cgi?id=224256

        Unreviewed test gardneing.

        * platform/mac-wk2/TestExpectations: Updated test expectations to Pass Failure while test is reviewed.

2021-04-06  Robert Jenner  <jenner@apple.com>

        [ macOS ] media/modern-media-controls/media-controller/media-controller-fullscreen-ltr.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=215397

        Unreviewed test gardening.

        * platform/mac/TestExpectations: Removed prior test expectations from mac-wk1, and added them just to mac since test is flakey across mac, and not just in wk1. 

2021-04-06  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] Convert http/tests/misc convert PHP to Python
        https://bugs.webkit.org/show_bug.cgi?id=221981
        <rdar://problem/74399686>

        Reviewed by Jonathan Bedard.

        * http/tests/misc/prefetch-purpose-expected.txt:
        * http/tests/misc/prefetch-purpose.html:
        * http/tests/misc/resources/check-query-param.php: Removed.
        * http/tests/misc/resources/check-query-param.py: Added.
        * http/tests/misc/resources/prefetch-purpose.php: Removed.
        * http/tests/misc/resources/prefetch-purpose.py: Added.
        * http/tests/misc/resources/redirect-to-http-url.php: Removed.
        * http/tests/misc/resources/redirect-to-http-url.py: Added.
        * http/tests/misc/submit-get-in-utf16be.html:
        * http/tests/misc/submit-get-in-utf16le.html:
        * http/tests/misc/submit-post-in-utf16be.html:
        * http/tests/misc/submit-post-in-utf16le.html:
        * http/tests/misc/will-send-request-returns-null-on-redirect-expected.txt:
        * http/tests/misc/will-send-request-returns-null-on-redirect.html:
        * platform/wk2/http/tests/misc/will-send-request-returns-null-on-redirect-expected.txt:

2021-04-06  Robert Jenner  <jenner@apple.com>

        [ macOS wk2] media/modern-media-controls/macos-fullscreen-media-controls/macos-fullscreen-media-controls-drag-is-prevented-over-button.html is a flakey timeout
        https://bugs.webkit.org/show_bug.cgi?id=224135

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations: updated test expectations to Pass Timeout while test is reviewed.

2021-04-06  Amir Mark Jr  <amir_mark@apple.com>

        [BigSur Wk1] transforms/2d* and transforms/hittest-translated-content-off-to-infinity-and-back.html are flaky image failures
        https://bugs.webkit.org/show_bug.cgi?id=223904

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-04-06  Robert Jenner  <jenner@apple.com>

        [ macOS ARM64 ] compositing/background-color/no-composited-background-color-when-perspective.html is a flakey Image failure (4 pixels)
        https://bugs.webkit.org/show_bug.cgi?id=224212

        Unreviewed test gardening.

        * platform/mac/TestExpectations: Updated test expectations to Pass ImageOnlyFailure while test is reviewed.

2021-04-06  Ryosuke Niwa  <rniwa@webkit.org>

        [ wk2 ] 4 storage/websql/test-authorizer.html and constantly timing out
        https://bugs.webkit.org/show_bug.cgi?id=224245
        <rdar://problem/76281408>

        Unreviewed. Updated the test expectations to not unskip some tests in various ports that only run tests in WK2.

        * platform/gtk/TestExpectations:
        * platform/ios-simulator/TestExpectations:
        * platform/ios/TestExpectations:
        * platform/mac-wk1/TestExpectations:
        * platform/mac/TestExpectations:
        * platform/wincairo/TestExpectations:
        * platform/wk2/TestExpectations:

2021-04-06  Wenson Hsieh  <wenson_hsieh@apple.com>

        REGRESSION (r274610): Unable to drag images when image extraction is enabled
        https://bugs.webkit.org/show_bug.cgi?id=224211
        <rdar://problem/76229563>

        Reviewed by Tim Horton.

        Add a new layout test that initiates dragging on an image using a synthesized event stream, and verifies that
        "dragstart" and "dragend" events are dispatched on the image.

        * fast/events/ios/dragstart-on-image-by-long-pressing-expected.txt: Added.
        * fast/events/ios/dragstart-on-image-by-long-pressing.html: Added.
        * resources/ui-helper.js:
        (window.UIHelper.isAnimatingDragCancel):

        Add a `UIHelper` method that returns whether or not the dragging animation is being cancelled. The new test uses
        this hook to wait for the drag cancel animation to end before proceeding to the next test.

2021-04-06  Ryosuke Niwa  <rniwa@webkit.org>

        Assert failure in isCloneInShadowTreeOfSVGUseElement
        https://bugs.webkit.org/show_bug.cgi?id=224174

        Reviewed by Darin Adler and Antti Koivisto.

        Added tests for mutating nodes which is later inserted into a shadow tree during execCommand
        as well as forcing a SVG use element to update its shadow tree by mutating the corresponding
        element tree during execCommand.

        * fast/shadow-dom/mutation-event-in-shadow-tree-expected.txt: Added.
        * fast/shadow-dom/mutation-event-in-shadow-tree.html: Added.
        * svg/dom/mutate-symbol-subtree-referenced-by-use-during-execCommand-expected.txt: Added.
        * svg/dom/mutate-symbol-subtree-referenced-by-use-during-execCommand.html: Added.
        * svg/dom/update-svg-use-shadow-tree-with-execCommand-expected.txt: Added.
        * svg/dom/update-svg-use-shadow-tree-with-execCommand.html: Added.

2021-04-06  Jiewen Tan  <jiewen_tan@apple.com>

        WebCrypto in Safari will not AES-GCM encrypt 0 bytes
        https://bugs.webkit.org/show_bug.cgi?id=224083
        <rdar://75093377>

        Reviewed by Youenn Fablet.

        * crypto/subtle/aes-gcm-generate-key-encrypt-decrypt-null-plain-text-expected.txt: Added.
        * crypto/subtle/aes-gcm-generate-key-encrypt-decrypt-null-plain-text.html: Added.

2021-04-06  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] Convert http/tests/loading convert PHP to Python
        https://bugs.webkit.org/show_bug.cgi?id=222198
        <rdar://problem/74536576>

        Reviewed by Jonathan Bedard.

        * http/tests/loading/redirect-methods-expected.txt:
        * http/tests/loading/resources/redirect-methods-form.html:
        * http/tests/loading/resources/redirect-methods-result.php: Removed.
        * http/tests/loading/resources/redirect-methods-result.py: Added.

2021-04-06  Ryan Haddad  <ryanhaddad@apple.com>

        [ macOS Wk2 ] media/media-fragments/TC0051.html is flakey crashing
        https://bugs.webkit.org/show_bug.cgi?id=222277

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations: Skip this test directory to
        suppress this crash on EWS & trunk bots.

2021-04-06  Aditya Keerthi  <akeerthi@apple.com>

        [iOS][FCR] Use opaque system colors for control backgrounds
        https://bugs.webkit.org/show_bug.cgi?id=224131
        <rdar://problem/75975709>

        Reviewed by Tim Horton.

        Rebaselined tests to account for changes in color.

        * fast/forms/date/date-input-rendering-basic-expected.txt:
        * fast/forms/date/date-pseudo-elements-expected.txt:
        * fast/forms/time/time-input-rendering-basic-expected.txt:
        * platform/ios-simulator/fast/forms/auto-fill-button/hide-auto-fill-strong-password-viewable-treatment-when-form-is-reset-expected.txt:
        * platform/ios-simulator/fast/forms/auto-fill-button/input-credit-card-auto-fill-button-expected.txt:
        * platform/ios-simulator/fast/forms/auto-fill-button/input-strong-password-viewable-expected.txt:
        * platform/ios-simulator/fast/forms/datalist/datalist-searchinput-appearance-expected.txt:
        * platform/ios-simulator/fast/forms/datalist/datalist-textinput-appearance-expected.txt:
        * platform/ios-wk2/editing/input/caret-at-the-edge-of-input-expected.txt:
        * platform/ios-wk2/editing/input/reveal-caret-of-multiline-input-expected.txt:
        * platform/ios-wk2/editing/inserting/4960120-1-expected.txt:
        * platform/ios-wk2/editing/inserting/before-after-input-element-expected.txt:
        * platform/ios-wk2/editing/pasteboard/4641033-expected.txt:
        * platform/ios-wk2/editing/pasteboard/4944770-1-expected.txt:
        * platform/ios-wk2/editing/pasteboard/4944770-2-expected.txt:
        * platform/ios-wk2/editing/pasteboard/input-field-1-expected.txt:
        * platform/ios-wk2/editing/pasteboard/pasting-tabs-expected.txt:
        * platform/ios-wk2/editing/selection/4895428-3-expected.txt:
        * platform/ios-wk2/editing/selection/caret-before-select-expected.txt:
        * platform/ios-wk2/editing/selection/drag-select-1-expected.txt:
        * platform/ios-wk2/editing/selection/select-from-textfield-outwards-expected.txt:
        * platform/ios-wk2/fast/block/float/overhanging-tall-block-expected.txt:
        * platform/ios-wk2/fast/block/margin-collapse/103-expected.txt:
        * platform/ios-wk2/fast/dynamic/008-expected.txt:
        * platform/ios-wk2/fast/forms/basic-buttons-expected.txt:
        * platform/ios-wk2/fast/forms/basic-textareas-quirks-expected.txt:
        * platform/ios-wk2/fast/forms/input-appearance-preventDefault-expected.txt:
        * platform/ios-wk2/fast/forms/input-text-click-outside-expected.txt:
        * platform/ios-wk2/fast/forms/input-text-double-click-expected.txt:
        * platform/ios-wk2/fast/forms/input-text-drag-down-expected.txt:
        * platform/ios-wk2/fast/forms/input-text-option-delete-expected.txt:
        * platform/ios-wk2/fast/forms/textAreaLineHeight-expected.txt:
        * platform/ios-wk2/fast/forms/textarea-align-expected.txt:
        * platform/ios-wk2/fast/forms/textarea-placeholder-visibility-1-expected.txt:
        * platform/ios-wk2/fast/forms/textarea-placeholder-visibility-2-expected.txt:
        * platform/ios-wk2/fast/forms/textarea-scroll-height-expected.txt:
        * platform/ios-wk2/fast/forms/textarea-setinnerhtml-expected.txt:
        * platform/ios-wk2/fast/hidpi/resize-corner-hidpi-expected.txt:
        * platform/ios-wk2/fast/overflow/scroll-nested-positioned-layer-in-overflow-expected.txt:
        * platform/ios-wk2/fast/overflow/scrollRevealButton-expected.txt:
        * platform/ios-wk2/fast/parser/document-write-option-expected.txt:
        * platform/ios-wk2/fast/parser/entity-comment-in-textarea-expected.txt:
        * platform/ios-wk2/fast/parser/open-comment-in-textarea-expected.txt:
        * platform/ios-wk2/fast/spatial-navigation/snav-multiple-select-focusring-expected.txt:
        * platform/ios-wk2/fast/text/international/rtl-white-space-pre-wrap-expected.txt:
        * platform/ios-wk2/fast/text/international/unicode-bidi-plaintext-in-textarea-expected.txt:
        * platform/ios-wk2/fast/transforms/transformed-focused-text-input-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/css-pseudo/file-chooser-button-display-toggle-crash.tentative-expected.txt:
        * platform/ios/css3/flexbox/button-expected.txt:
        * platform/ios/editing/pasteboard/4806874-expected.txt:
        * platform/ios/editing/selection/3690703-2-expected.txt:
        * platform/ios/editing/selection/3690703-expected.txt:
        * platform/ios/editing/selection/3690719-expected.txt:
        * platform/ios/editing/selection/4397952-expected.txt:
        * platform/ios/editing/selection/4975120-expected.txt:
        * platform/ios/editing/selection/5240265-expected.txt:
        * platform/ios/editing/selection/replaced-boundaries-3-expected.txt:
        * platform/ios/editing/selection/select-box-expected.txt:
        * platform/ios/editing/selection/select-element-paragraph-boundary-expected.txt:
        * platform/ios/editing/selection/selection-button-text-expected.txt:
        * platform/ios/fast/block/float/032-expected.txt:
        * platform/ios/fast/block/float/float-avoidance-expected.txt:
        * platform/ios/fast/block/positioning/inline-block-relposition-expected.txt:
        * platform/ios/fast/css/continuationCrash-expected.txt:
        * platform/ios/fast/css/focus-ring-exists-for-search-field-expected.txt:
        * platform/ios/fast/css/input-search-padding-expected.txt:
        * platform/ios/fast/css/line-height-expected.txt:
        * platform/ios/fast/css/rtl-ordering-expected.txt:
        * platform/ios/fast/css/text-overflow-input-expected.txt:
        * platform/ios/fast/css/text-transform-select-expected.txt:
        * platform/ios/fast/dom/HTMLTableColElement/resize-table-using-col-width-expected.txt:
        * platform/ios/fast/dom/HTMLTextAreaElement/reset-textarea-expected.txt:
        * platform/ios/fast/dynamic/positioned-movement-with-positioned-children-expected.txt:
        * platform/ios/fast/events/context-no-deselect-expected.txt:
        * platform/ios/fast/forms/001-expected.txt:
        * platform/ios/fast/forms/003-expected.txt:
        * platform/ios/fast/forms/004-expected.txt:
        * platform/ios/fast/forms/auto-fill-button/input-auto-fill-button-expected.txt:
        * platform/ios/fast/forms/auto-fill-button/input-contacts-auto-fill-button-expected.txt:
        * platform/ios/fast/forms/auto-fill-button/input-strong-password-auto-fill-button-expected.txt:
        * platform/ios/fast/forms/basic-inputs-expected.txt:
        * platform/ios/fast/forms/basic-selects-expected.txt:
        * platform/ios/fast/forms/basic-textareas-expected.txt:
        * platform/ios/fast/forms/blankbuttons-expected.txt:
        * platform/ios/fast/forms/box-shadow-override-expected.txt:
        * platform/ios/fast/forms/button-align-expected.txt:
        * platform/ios/fast/forms/button-cannot-be-nested-expected.txt:
        * platform/ios/fast/forms/button-generated-content-expected.txt:
        * platform/ios/fast/forms/button-positioned-expected.txt:
        * platform/ios/fast/forms/button-sizes-expected.txt:
        * platform/ios/fast/forms/button-style-color-expected.txt:
        * platform/ios/fast/forms/button-table-styles-expected.txt:
        * platform/ios/fast/forms/button-text-transform-expected.txt:
        * platform/ios/fast/forms/button-white-space-expected.txt:
        * platform/ios/fast/forms/control-clip-expected.txt:
        * platform/ios/fast/forms/control-clip-overflow-expected.txt:
        * platform/ios/fast/forms/control-restrict-line-height-expected.txt:
        * platform/ios/fast/forms/disabled-select-change-index-expected.txt:
        * platform/ios/fast/forms/encoding-test-expected.txt:
        * platform/ios/fast/forms/fieldset-align-expected.txt:
        * platform/ios/fast/forms/file/file-input-direction-expected.txt:
        * platform/ios/fast/forms/file/file-input-disabled-expected.txt:
        * platform/ios/fast/forms/floating-textfield-relayout-expected.txt:
        * platform/ios/fast/forms/form-element-geometry-expected.txt:
        * platform/ios/fast/forms/hidden-listbox-expected.txt:
        * platform/ios/fast/forms/input-align-expected.txt:
        * platform/ios/fast/forms/input-appearance-bkcolor-expected.txt:
        * platform/ios/fast/forms/input-appearance-default-bkcolor-expected.txt:
        * platform/ios/fast/forms/input-appearance-disabled-expected.txt:
        * platform/ios/fast/forms/input-appearance-focus-expected.txt:
        * platform/ios/fast/forms/input-appearance-height-expected.txt:
        * platform/ios/fast/forms/input-appearance-selection-expected.txt:
        * platform/ios/fast/forms/input-appearance-visibility-expected.txt:
        * platform/ios/fast/forms/input-appearance-width-expected.txt:
        * platform/ios/fast/forms/input-button-sizes-expected.txt:
        * platform/ios/fast/forms/input-disabled-color-expected.txt:
        * platform/ios/fast/forms/input-double-click-selection-gap-bug-expected.txt:
        * platform/ios/fast/forms/input-field-text-truncated-expected.txt:
        * platform/ios/fast/forms/input-placeholder-visibility-1-expected.txt:
        * platform/ios/fast/forms/input-placeholder-visibility-3-expected.txt:
        * platform/ios/fast/forms/input-spaces-expected.txt:
        * platform/ios/fast/forms/input-table-expected.txt:
        * platform/ios/fast/forms/input-text-click-inside-expected.txt:
        * platform/ios/fast/forms/input-text-scroll-left-on-blur-expected.txt:
        * platform/ios/fast/forms/input-text-self-emptying-click-expected.txt:
        * platform/ios/fast/forms/input-type-text-min-width-expected.txt:
        * platform/ios/fast/forms/input-value-expected.txt:
        * platform/ios/fast/forms/input-width-expected.txt:
        * platform/ios/fast/forms/listbox-bidi-align-expected.txt:
        * platform/ios/fast/forms/listbox-hit-test-zoomed-expected.txt:
        * platform/ios/fast/forms/listbox-scrollbar-incremental-load-expected.txt:
        * platform/ios/fast/forms/listbox-width-change-expected.txt:
        * platform/ios/fast/forms/menulist-clip-expected.txt:
        * platform/ios/fast/forms/menulist-deselect-update-expected.txt:
        * platform/ios/fast/forms/menulist-narrow-width-expected.txt:
        * platform/ios/fast/forms/menulist-no-overflow-expected.txt:
        * platform/ios/fast/forms/menulist-option-wrap-expected.txt:
        * platform/ios/fast/forms/menulist-separator-painting-expected.txt:
        * platform/ios/fast/forms/menulist-style-color-expected.txt:
        * platform/ios/fast/forms/menulist-width-change-expected.txt:
        * platform/ios/fast/forms/minWidthPercent-expected.txt:
        * platform/ios/fast/forms/number/number-appearance-rtl-expected.txt:
        * platform/ios/fast/forms/number/number-appearance-spinbutton-disabled-readonly-expected.txt:
        * platform/ios/fast/forms/number/number-appearance-spinbutton-layer-expected.txt:
        * platform/ios/fast/forms/option-script-expected.txt:
        * platform/ios/fast/forms/option-strip-whitespace-expected.txt:
        * platform/ios/fast/forms/option-text-clip-expected.txt:
        * platform/ios/fast/forms/placeholder-pseudo-style-expected.txt:
        * platform/ios/fast/forms/plaintext-mode-2-expected.txt:
        * platform/ios/fast/forms/search-cancel-button-style-sharing-expected.txt:
        * platform/ios/fast/forms/search-display-none-cancel-button-expected.txt:
        * platform/ios/fast/forms/search-input-rtl-expected.txt:
        * platform/ios/fast/forms/select-align-expected.txt:
        * platform/ios/fast/forms/select-baseline-expected.txt:
        * platform/ios/fast/forms/select-block-background-expected.txt:
        * platform/ios/fast/forms/select-change-listbox-size-expected.txt:
        * platform/ios/fast/forms/select-change-listbox-to-popup-expected.txt:
        * platform/ios/fast/forms/select-change-popup-to-listbox-expected.txt:
        * platform/ios/fast/forms/select-dirty-parent-pref-widths-expected.txt:
        * platform/ios/fast/forms/select-disabled-appearance-expected.txt:
        * platform/ios/fast/forms/select-element-focus-ring-expected.txt:
        * platform/ios/fast/forms/select-empty-option-height-expected.txt:
        * platform/ios/fast/forms/select-initial-position-expected.txt:
        * platform/ios/fast/forms/select-item-background-clip-expected.txt:
        * platform/ios/fast/forms/select-list-box-with-height-expected.txt:
        * platform/ios/fast/forms/select-non-native-rendering-direction-expected.txt:
        * platform/ios/fast/forms/select-selected-expected.txt:
        * platform/ios/fast/forms/select-style-expected.txt:
        * platform/ios/fast/forms/select-visual-hebrew-expected.txt:
        * platform/ios/fast/forms/select-writing-direction-natural-expected.txt:
        * platform/ios/fast/forms/select/optgroup-rendering-expected.txt:
        * platform/ios/fast/forms/selectlist-minsize-expected.txt:
        * platform/ios/fast/forms/stuff-on-my-optgroup-expected.txt:
        * platform/ios/fast/forms/tabbing-input-iframe-expected.txt:
        * platform/ios/fast/forms/textarea-placeholder-pseudo-style-expected.txt:
        * platform/ios/fast/forms/textarea-scrollbar-expected.txt:
        * platform/ios/fast/forms/textarea-scrolled-type-expected.txt:
        * platform/ios/fast/forms/textarea-width-expected.txt:
        * platform/ios/fast/forms/textfield-focus-ring-expected.txt:
        * platform/ios/fast/forms/textfield-overflow-expected.txt:
        * platform/ios/fast/frames/take-focus-from-iframe-expected.txt:
        * platform/ios/fast/html/details-no-summary4-expected.txt:
        * platform/ios/fast/html/details-open-javascript-expected.txt:
        * platform/ios/fast/html/details-open2-expected.txt:
        * platform/ios/fast/html/details-open4-expected.txt:
        * platform/ios/fast/html/details-replace-summary-child-expected.txt:
        * platform/ios/fast/html/details-replace-text-expected.txt:
        * platform/ios/fast/html/keygen-expected.txt:
        * platform/ios/fast/invalid/014-expected.txt:
        * platform/ios/fast/lists/dynamic-marker-crash-expected.txt:
        * platform/ios/fast/overflow/overflow-x-y-expected.txt:
        * platform/ios/fast/replaced/replaced-breaking-expected.txt:
        * platform/ios/fast/replaced/replaced-breaking-mixture-expected.txt:
        * platform/ios/fast/replaced/three-selects-break-expected.txt:
        * platform/ios/fast/replaced/width100percent-button-expected.txt:
        * platform/ios/fast/replaced/width100percent-menulist-expected.txt:
        * platform/ios/fast/replaced/width100percent-searchfield-expected.txt:
        * platform/ios/fast/replaced/width100percent-textarea-expected.txt:
        * platform/ios/fast/replaced/width100percent-textfield-expected.txt:
        * platform/ios/fast/selectors/064-expected.txt:
        * platform/ios/fast/table/append-cells2-expected.txt:
        * platform/ios/fast/table/colspanMinWidth-expected.txt:
        * platform/ios/fast/table/remove-td-display-none-expected.txt:
        * platform/ios/fast/table/spanOverlapRepaint-expected.txt:
        * platform/ios/fast/table/text-field-baseline-expected.txt:
        * platform/ios/fast/text/drawBidiText-expected.txt:
        * platform/ios/fast/text/international/bidi-listbox-atsui-expected.txt:
        * platform/ios/fast/text/international/bidi-listbox-expected.txt:
        * platform/ios/fast/text/international/bidi-menulist-expected.txt:
        * platform/ios/fast/text/international/hindi-spacing-expected.txt:
        * platform/ios/fast/text/international/pop-up-button-text-alignment-and-direction-expected.txt:
        * platform/ios/imported/w3c/web-platform-tests/selection/selection-select-all-move-input-crash-expected.txt:
        * platform/ios/svg/custom/foreign-object-skew-expected.txt:
        * platform/ios/svg/custom/inline-svg-in-xhtml-expected.txt:
        * platform/ios/svg/hixie/mixed/003-expected.txt:
        * platform/ios/tables/mozilla/bugs/45621-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug1188-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug12384-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug18359-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug194024-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug24200-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug2479-2-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug2479-3-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug2479-4-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug26178-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug28928-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug29326-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug30559-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug30692-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug33855-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug4382-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug44505-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug4527-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug46368-1-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug46368-2-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug51037-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug51727-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug52505-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug52506-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug55545-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug59354-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug60749-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug68912-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug7342-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug92647-2-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug96334-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug99948-expected.txt:
        * platform/ios/tables/mozilla/collapsing_borders/bug41262-4-expected.txt:
        * platform/ios/tables/mozilla/core/margins-expected.txt:
        * platform/ios/tables/mozilla/dom/tableDom-expected.txt:
        * platform/ios/tables/mozilla/other/move_row-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/bugs/bug2479-5-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/bugs/bug58402-2-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/bugs/bug92647-1-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/collapsing_borders/bug41262-5-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/collapsing_borders/bug41262-6-expected.txt:
        * platform/ios/transforms/2d/zoom-menulist-expected.txt:
        * platform/ios/transforms/3d/general/perspective-non-layer-expected.txt:

2021-04-06  Tadeu Zagallo  <tzagallo@apple.com>

        Handle OOM in ScriptExecutionContext::reportUnhandledPromiseRejection
        https://bugs.webkit.org/show_bug.cgi?id=223777
        <rdar://66271491>

        Reviewed by Yusuke Suzuki.

        * js/dom/Promise-reject-large-string-expected.txt: Added.
        * js/dom/Promise-reject-large-string.html: Added.

2021-04-06  Philippe Normand  <pnormand@igalia.com>

        REGRESSION(r274358) [GStreamer] http/tests/images/mp4-partial-load.html is flaky crashing inside GStreamer
        https://bugs.webkit.org/show_bug.cgi?id=223636

        Reviewed by Carlos Alberto Lopez Perez.

        * platform/glib/TestExpectations: Update tests expectations.
        * platform/gtk/TestExpectations: Ditto.

2021-04-06  Zalan Bujtas  <zalan@apple.com>

        [LFC][Integration] Enable inline box support (RenderInline)
        https://bugs.webkit.org/show_bug.cgi?id=220148
        <rdar://problem/72768785>

        Reviewed by Antti Koivisto.

        - correctness progressions
        - output progressions 
        - 1px rounding diffs
        - misc

        * editing/execCommand/delete-hidden-crash.html:
        * fast/css/empty-inline-003-quirksmode-expected.txt:
        * fast/css3-text/css3-text-decoration/text-underline-position/underline-visual-overflow-with-subpixel-position-expected.txt:
        * fast/css3-text/css3-text-decoration/text-underline-position/underline-visual-overflow-with-subpixel-position.html:
        * fast/invalid/018-expected.txt:
        * fast/text/line-break-between-text-nodes-latin1-expected.html:
        * imported/blink/fast/css/first-letter-all-inherit-td-crash-expected.html: Removed.
        * imported/blink/fast/css/first-letter-all-inherit-td-crash-expected.txt: Added.
        * imported/blink/fast/css/first-letter-all-inherit-td-crash.html:
        * platform/ios-wk2/css2.1/t100801-c544-valgn-03-d-agi-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/css-flexbox/orthogonal-flex-item-crash-expected.txt:
        * platform/ios/css1/box_properties/border-expected.txt:
        * platform/ios/css1/box_properties/width-expected.txt:
        * platform/ios/css1/text_properties/text_decoration-expected.txt:
        * platform/ios/css1/text_properties/vertical_align-expected.txt:
        * platform/ios/css1/text_properties/word_spacing-expected.txt:
        * platform/ios/css2.1/t0803-c5505-mrgn-00-b-ag-expected.txt:
        * platform/ios/css2.1/t100801-c544-valgn-03-d-agi-expected.txt:
        * platform/ios/fast/block/basic/014-expected.txt:
        * platform/ios/fast/block/margin-collapse/block-inside-inline/001-expected.txt:
        * platform/ios/fast/block/margin-collapse/block-inside-inline/005-expected.txt:
        * platform/ios/fast/block/positioning/057-expected.txt:
        * platform/ios/fast/body-propagation/background-image/010-expected.txt:
        * platform/ios/fast/body-propagation/background-image/010-xhtml-expected.txt:
        * platform/ios/fast/css-generated-content/after-duplicated-after-split-expected.txt:
        * platform/ios/fast/css/child-style-can-override-visited-style-expected.txt:
        * platform/ios/fast/css/empty-inline-003-quirksmode-expected.txt:
        * platform/ios/fast/css/inline-element-line-break-expected.txt:
        * platform/ios/fast/css/word-space-extra-expected.txt:
        * platform/ios/fast/dom/HTMLProgressElement/progress-element-expected.txt:
        * platform/ios/fast/forms/select-change-listbox-size-expected.txt:
        * platform/ios/fast/images/image-map-anchor-children-expected.txt:
        * platform/ios/fast/inline-block/003-expected.txt:
        * platform/ios/fast/inline/002-expected.txt:
        * platform/ios/fast/inline/drawStyledEmptyInlines-expected.txt:
        * platform/ios/fast/invalid/003-expected.txt:
        * platform/ios/fast/lists/marker-before-empty-inline-expected.txt:
        * platform/ios/fast/selectors/visited-descendant-expected.txt:
        * platform/ios/fast/table/border-collapsing/004-expected.txt:
        * platform/ios/fast/table/frame-and-rules-expected.txt:
        * platform/ios/fast/table/table-display-types-strict-expected.txt:
        * platform/ios/fast/text/basic/007-expected.txt:
        * platform/ios/fast/text/basic/012-expected.txt:
        * platform/ios/fast/text/whitespace/018-expected.txt:
        * platform/ios/fast/text/whitespace/span-in-word-space-causes-overflow-expected.txt:
        * platform/ios/fonts/sans-serif-expected.txt:
        * platform/ios/fonts/serif-expected.txt:
        * platform/ios/svg/custom/svg-fonts-in-html-expected.txt:
        * platform/ios/svg/custom/svg-fonts-word-spacing-expected.txt:
        * platform/ios/svg/hixie/processing-model/003-expected.txt:
        * platform/ios/svg/hixie/processing-model/004-expected.txt:
        * platform/ios/tables/mozilla/bugs/adforce_imgis_com-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug113235-1-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug113235-2-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug113235-3-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug113424-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug1188-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug126742-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug1318-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug14323-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug18359-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug22513-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug2267-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug38916-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug4527-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug4849-2-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug57300-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug59354-expected.txt:
        * platform/ios/tables/mozilla/bugs/bug7342-expected.txt:
        * platform/ios/tables/mozilla/core/bloomberg-expected.txt:
        * platform/ios/tables/mozilla/other/wa_table_thtd_rowspan-expected.txt:
        * platform/ios/tables/mozilla/other/wa_table_tr_align-expected.txt:
        * platform/ios/tables/mozilla_expected_failures/bugs/bug89315-expected.txt:
        * platform/mac-catalina/tables/mozilla/bugs/bug18359-expected.txt:
        * platform/mac-catalina/tables/mozilla/bugs/bug7342-expected.txt:
        * platform/mac-catalina/tables/mozilla/other/wa_table_thtd_rowspan-expected.txt:
        * platform/mac-catalina/tables/mozilla/other/wa_table_tr_align-expected.txt:
        * platform/mac-wk1/fast/inline-block/003-expected.txt:
        * platform/mac/css1/box_properties/width-expected.txt:
        * platform/mac/css1/text_properties/vertical_align-expected.txt:
        * platform/mac/css1/text_properties/word_spacing-expected.txt:
        * platform/mac/css2.1/t100801-c544-valgn-03-d-agi-expected.txt:
        * platform/mac/editing/selection/previous-line-position-expected.txt:
        * platform/mac/fast/block/basic/014-expected.txt:
        * platform/mac/fast/block/margin-collapse/block-inside-inline/001-expected.txt:
        * platform/mac/fast/block/margin-collapse/block-inside-inline/005-expected.txt:
        * platform/mac/fast/block/positioning/057-expected.txt:
        * platform/mac/fast/css-generated-content/after-duplicated-after-split-expected.txt:
        * platform/mac/fast/css/child-style-can-override-visited-style-expected.txt:
        * platform/mac/fast/css/inline-element-line-break-expected.txt:
        * platform/mac/fast/css/resize-corner-tracking-transformed-expected.txt:
        * platform/mac/fast/css/word-space-extra-expected.txt:
        * platform/mac/fast/dom/HTMLProgressElement/progress-element-expected.txt:
        * platform/mac/fast/encoding/utf-16-big-endian-expected.txt:
        * platform/mac/fast/encoding/utf-16-little-endian-expected.txt:
        * platform/mac/fast/images/image-map-anchor-children-expected.txt:
        * platform/mac/fast/inline-block/003-expected.txt:
        * platform/mac/fast/inline/002-expected.txt:
        * platform/mac/fast/inline/drawStyledEmptyInlines-expected.txt:
        * platform/mac/fast/invalid/003-expected.txt:
        * platform/mac/fast/invalid/missing-end-tag-expected.txt:
        * platform/mac/fast/lists/marker-before-empty-inline-expected.txt:
        * platform/mac/fast/parser/nofoo-tags-inside-paragraph-expected.txt:
        * platform/mac/fast/parser/xhtml-alternate-entities-expected.txt:
        * platform/mac/fast/selectors/visited-descendant-expected.txt:
        * platform/mac/fast/table/frame-and-rules-expected.txt:
        * platform/mac/fast/table/table-display-types-strict-expected.txt:
        * platform/mac/fast/text/basic/007-expected.txt:
        * platform/mac/fast/text/basic/012-expected.txt:
        * platform/mac/fast/text/basic/generic-family-reset-expected.txt:
        * platform/mac/fast/text/text-letter-spacing-expected.txt:
        * platform/mac/fast/text/textIteratorNilRenderer-expected.txt:
        * platform/mac/fast/text/wbr-expected.txt:
        * platform/mac/fast/text/whitespace/018-expected.txt:
        * platform/mac/fast/text/whitespace/span-in-word-space-causes-overflow-expected.txt:
        * platform/mac/fonts/sans-serif-expected.txt:
        * platform/mac/fonts/serif-expected.txt:
        * platform/mac/svg/custom/svg-fonts-in-html-expected.txt:
        * platform/mac/svg/custom/svg-fonts-word-spacing-expected.txt:
        * platform/mac/svg/hixie/processing-model/003-expected.txt:
        * platform/mac/svg/hixie/processing-model/004-expected.txt:
        * platform/mac/tables/mozilla/bugs/adforce_imgis_com-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug113235-1-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug113235-2-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug113235-3-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug113424-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug1188-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug126742-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug1318-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug14323-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug16252-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug18359-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug22513-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug2267-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug38916-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug4527-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug4849-2-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug57300-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug57828-2-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug59354-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug60804-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug60807-expected.txt:
        * platform/mac/tables/mozilla/bugs/bug7342-expected.txt:
        * platform/mac/tables/mozilla/core/bloomberg-expected.txt:
        * platform/mac/tables/mozilla/other/wa_table_thtd_rowspan-expected.txt:
        * platform/mac/tables/mozilla/other/wa_table_tr_align-expected.txt:
        * platform/mac/tables/mozilla_expected_failures/bugs/bug89315-expected.txt:

2021-04-06  Philippe Normand  <pnormand@igalia.com>

        [GStreamer][WebRTC] Audio is not played from an audio element when the srcObject object has unstarted video tracks
        https://bugs.webkit.org/show_bug.cgi?id=209163

        Reviewed by Xabier Rodriguez-Calvar.

        * platform/glib/TestExpectations: Unflag now-passing test.

2021-04-06  Keith Miller  <keith_miller@apple.com>

        CloneDeserializer should use ArrayBuffer::tryCreate
        https://bugs.webkit.org/show_bug.cgi?id=224218

        Reviewed by Antti Koivisto.

        This test was generated by a fuzzer so it allocates a large Array backing store
        by doing Object.defineProperty on a large offset. That said, I chose to leave it
        because it's sometimes useful to do things in different ways for testing.

        Also, skip the test on windows because we seem to throw a stack overflow error.
        Not sure why this happens but it's not super important that this particular
        test runs on all ports as we're mostly trying to just unblock the fuzzer.

        * fast/dom/Window/post-message-large-array-buffer-should-not-crash-expected.txt: Added.
        * fast/dom/Window/post-message-large-array-buffer-should-not-crash.html: Added.
        * platform/win/TestExpectations:

2021-04-06  Alicia Boya García  <aboya@igalia.com>

        [GStreamer][MediaStream] Unreviewed micro-gardening
        https://bugs.webkit.org/show_bug.cgi?id=224233

        * platform/glib/TestExpectations:

2021-04-06  Kimmo Kinnunen  <kkinnunen@apple.com>

        WebGL conformance tests are missing files due to too widely matching .gitignore
        https://bugs.webkit.org/show_bug.cgi?id=223988

        Reviewed by Alexey Proskuryakov.

        Add the missing tests that were hidden by the .gitignore.

        * webgl/1.0.x/conformance/ogles/GL/build/*: Added.
        * webgl/2.0.y/conformance/ogles/GL/build/*: Added.
        * webgl/resources/webgl_test_files/conformance/ogles/GL/build/*: Added.

2021-04-06  Ian Gilbert  <iang@apple.com>

        IPC::decodeObject null dereference in decodeArrayInternal()
        https://bugs.webkit.org/show_bug.cgi?id=224214

        Reviewed by Ryosuke Niwa.

        Add null pointer check to decodeArrayInternal.

        * ipc/decode-object-array-crash-expected.txt: Added.
        * ipc/decode-object-array-crash.html: Added.

2021-04-06  Ryosuke Niwa  <rniwa@webkit.org>

        Disable WebSQL in WebKitTestRunner
        https://bugs.webkit.org/show_bug.cgi?id=224144

        Reviewed by Sihui Liu.

        Skipped various WebSQL tests on WebKit2 and removed references to openDatabase in some tests.

        * fast/dom/Window/resources/WindowProperties.js: Removed openDatabase from the list of properties to test.
        * fast/dom/Window/window-function-frame-getter-precedence-expected.txt:
        * fast/dom/Window/window-function-name-getter-precedence-expected.txt:
        * fast/frames/resources/sandboxed-iframe-storage-allowed.html: Ditto.
        * fast/frames/resources/sandboxed-iframe-storage-disallowed.html: Ditto.
        * fast/frames/sandboxed-iframe-storage-expected.txt:
        * http/tests/security/cross-frame-access-call-expected.txt:
        * http/tests/security/cross-frame-access-call.html: Ditto.
        * inspector/runtime/CommandLineAPI-inspect-expected.txt:
        * inspector/runtime/CommandLineAPI-inspect.html: Ditto.
        * js/dom/callback-function-with-handle-event-expected.txt:
        * js/dom/callback-function-with-handle-event.html: Use requestAnimationFrame instead of openDatabase.
        * js/dom/exceptions-thrown-in-callbacks-expected.txt:
        * js/dom/exceptions-thrown-in-callbacks.html: Ditto and use geolocation.getCurrentLocation.
        * platform/glib/TestExpectations: Removed entries under storage/websql since they're all skipped now.
        * platform/gtk/TestExpectations: Ditto.
        * platform/ios-wk2/TestExpectations: Ditto.
        * platform/mac-wk1/TestExpectations: Moved flaky timeout expectation on a test here from mac-wk2.
        * platform/mac-wk2/TestExpectations: Removed an entry to skip storage/websql as it's now skipped for all WK2 ports.
        * platform/mac/TestExpectations: Removed flaky timeout expectation since this will force the test to run
        in WebKitTestRunner, which isn't what we want to do.
        * platform/wincairo/TestExpectations: Removed entries under storage/websql since they're all skipped now.
        * platform/wk2/TestExpectations: Skip all the tests for WebSQL.
        * platform/wpe/TestExpectations: Removed entries under storage/websql since they're all skipped now.

2021-04-06  Frédéric Wang  <fwang@igalia.com>

        Nullptr crash in EventPath::eventTargetRespectingTargetRules
        https://bugs.webkit.org/show_bug.cgi?id=222718

        Reviewed by Ryosuke Niwa.

        Add regression test.

        * editing/undo/undo-with-disconnected-editable-element-crash-expected.txt: Added.
        * editing/undo/undo-with-disconnected-editable-element-crash.html: Added.
        * editing/undo/undo-with-disconnected-editable-element-crash.js: Added.
        (runTests.window.parent.onwebkitanimationiteration):
        (runTests):

2021-04-05  Wenson Hsieh  <wenson_hsieh@apple.com>

        REGRESSION: ASSERTION FAILED: settings().textAutosizingEnabled() && settings().textAutosizingUsesIdempotentMode() on various tests
        https://bugs.webkit.org/show_bug.cgi?id=209450
        <rdar://problem/60799255>

        Reviewed by Tim Horton.

        Remove crashing expectations for several tests that previously hit this assertion, due to running immediately
        after some layout tests in `fast/text-autosizing` that enable idempotent text autosizing.

        * platform/ios-wk2/TestExpectations:

2021-04-05  Chris Gambrell  <cgambrell@apple.com>

        REGRESSION (r275332?): [ EWS macOS iOS wk2 ] http/tests/appcache/fail-on-update.html is a flakey timeout
        https://bugs.webkit.org/show_bug.cgi?id=224120
        <rdar://problem/76157112>

        Reviewed by Jonathan Bedard.

        * http/tests/appcache/fail-on-update-2.html:
        * http/tests/appcache/fail-on-update.html:

2021-04-05  Philippe Normand  <pnormand@igalia.com>

        [ macOS ] media/webaudio-background-playback.html is a flakey text failure
        https://bugs.webkit.org/show_bug.cgi?id=221935
        <rdar://problem/74370844>

        Reviewed by Eric Carlson.

        The test was flaky because it was checking if the destination had processed new buffers
        immediately after an asynchronous state change. The proposed solution is to monitor the
        statechange event and do the actual test after another additional 100 milli-seconds have
        passed.

        * media/webaudio-background-playback.html:

2021-04-05  Saam Barati  <sbarati@apple.com>

        Enable QuotaExceededError on non GSTREAMER platforms
        https://bugs.webkit.org/show_bug.cgi?id=224136
        <rdar://71219720>

        Reviewed by Jer Noble.

        * platform/mac/media/media-source/media-source-append-before-last-range-no-quota-exceeded-expected.txt:

2021-04-05  Cameron McCormack  <heycam@apple.com>

        Fix max-content on tables with percentage cell widths.
        https://bugs.webkit.org/show_bug.cgi?id=221165

        Reviewed by Zalan Bujtas.

        Fix max-content on tables with percentage cell widths.

        * fast/table/percent-width-max-content-expected.html: Added.
        * fast/table/percent-width-max-content.html: Added.

2021-04-05  Devin Rousso  <drousso@apple.com>

        REGRESSION (r275358): [ iOS wk2 ] media/modern-media-controls/ios-inline-media-controls/ios-inline-media-dropping-controls.html is a constant text failure
        https://bugs.webkit.org/show_bug.cgi?id=224130
        <rdar://problem/76164289>

        Unreviewed test fix.

        * media/modern-media-controls/ios-inline-media-controls/ios-inline-media-dropping-controls.html:
        * media/modern-media-controls/ios-inline-media-controls/ios-inline-media-dropping-controls-expected.txt:
        Set a `maximumRightContainerButtonCountOverride` so that the collapsing behavior of the
        overflow button doesn't affect the test (and force a layout to ensure it's picked up).

2021-04-05  Christopher Reid  <chris.reid@sony.com>

        [WinCairo] Enable Service Worker tests
        https://bugs.webkit.org/show_bug.cgi?id=223591

        Reviewed by Fujii Hironori.

        * platform/wincairo-wk1/TestExpectations:
        * platform/wincairo/TestExpectations:

2021-04-02  Amir Mark Jr  <amir_mark@apple.com>

        [ MacOS ] media/modern-media-controls/macos-inline-media-controls/macos-inline-media-dropping-controls.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=224123

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-04-02  Alexey Shvayka  <shvaikalesh@gmail.com>

        Remove [Replaceable] extended attribute from `document.all`
        https://bugs.webkit.org/show_bug.cgi?id=223883

        Reviewed by Darin Adler.

        * fast/dom/undetectable-document-all-expected.txt:
        * fast/dom/undetectable-document-all.html:
        * platform/gtk/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk1/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/mac-wk2/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/html/dom/idlharness.https-expected.txt:

2021-04-02  Amir Mark Jr  <amir_mark@apple.com>

        [MacOS Debug] imported/w3c/web-platform-tests/html/semantics/scripting-1/the-script-element/css-module/css-module-worker-test.html is a flakey crash and failure
        https://bugs.webkit.org/show_bug.cgi?id=222750

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-04-02  Robert Jenner  <jenner@apple.com>

        [ EWS iOS wk2 ] css2.1/20110323/replaced-intrinsic-ratio-001.htm is a flakey text failure
        https://bugs.webkit.org/show_bug.cgi?id=224121

        Uneviewed test gardening.

        * platform/ios-simulator-wk2/TestExpectations: Updated test expectations to Pass Failure because it was slowing down EWS. Keeping expectation while test is reviewed.

2021-04-02  Zalan Bujtas  <zalan@apple.com>

        [AspectRatio] Out-of-flow box with intrinsic width (e.g. <img>) may trigger infinite recursion
        https://bugs.webkit.org/show_bug.cgi?id=224113

        Reviewed by Rob Buis.

        * fast/replaced/infinite-recursion-with-intrinsic-width-expected.txt: Added.
        * fast/replaced/infinite-recursion-with-intrinsic-width.html: Added.

2021-04-02  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] Convert http/tests/misc convert PHP to Python
        https://bugs.webkit.org/show_bug.cgi?id=221981
        <rdar://problem/74399686>

        Reviewed by Jonathan Bedard.

        * http/tests/misc/prefetch-purpose-expected.txt:
        * http/tests/misc/prefetch-purpose.html:
        * http/tests/misc/resources/check-query-param.php: Removed.
        * http/tests/misc/resources/check-query-param.py: Added.
        * http/tests/misc/resources/prefetch-purpose.php: Removed.
        * http/tests/misc/resources/prefetch-purpose.py: Added.
        * http/tests/misc/resources/redirect-to-http-url.py: Added.
        * http/tests/misc/submit-get-in-utf16be.html:
        * http/tests/misc/submit-get-in-utf16le.html:
        * http/tests/misc/submit-post-in-utf16be.html:
        * http/tests/misc/submit-post-in-utf16le.html:

2021-04-02  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] Convert http/tests/referrer-policy convert PHP to Python
        https://bugs.webkit.org/show_bug.cgi?id=223234
        <rdar://problem/75460136>

        Reviewed by Jonathan Bedard.

        * http/tests/cache/resources/svg-defs-vary.py:
        * http/tests/css/resources/webfont-request.py:
        (get_request_count):
        (set_request_count):
        (getRequestCount): Deleted.
        (setRequestCount): Deleted.
        * http/tests/eventsource/resources/status-codes.py:
        * http/tests/misc/resources/dns-prefetch-control.py:
        * http/tests/misc/resources/protected/protected-image.py:
        * http/tests/navigation/ping-attribute/resources/utilities.js:
        (clearLastPingResultAndRunTest):
        * http/tests/navigation/resources/post-goback-same-url.py:
        * http/tests/navigation/resources/randomredirects/randomredirect.py:
        * http/tests/referrer-policy-anchor/no-referrer-when-downgrade/cross-origin-http-http.html:
        * http/tests/referrer-policy-anchor/no-referrer-when-downgrade/cross-origin-http.https.html:
        * http/tests/referrer-policy-anchor/no-referrer-when-downgrade/same-origin.html:
        * http/tests/referrer-policy-anchor/no-referrer/cross-origin-http-http.html:
        * http/tests/referrer-policy-anchor/no-referrer/cross-origin-http.https.html:
        * http/tests/referrer-policy-anchor/no-referrer/same-origin.html:
        * http/tests/referrer-policy-anchor/origin-when-cross-origin/cross-origin-http-http.html:
        * http/tests/referrer-policy-anchor/origin-when-cross-origin/cross-origin-http.https.html:
        * http/tests/referrer-policy-anchor/origin-when-cross-origin/same-origin.html:
        * http/tests/referrer-policy-anchor/origin/cross-origin-http-http.html:
        * http/tests/referrer-policy-anchor/origin/cross-origin-http.https.html:
        * http/tests/referrer-policy-anchor/origin/same-origin.html:
        * http/tests/referrer-policy-anchor/same-origin/cross-origin-http-http.html:
        * http/tests/referrer-policy-anchor/same-origin/cross-origin-http.https.html:
        * http/tests/referrer-policy-anchor/same-origin/same-origin.html:
        * http/tests/referrer-policy-anchor/strict-origin-when-cross-origin/cross-origin-http-http.html:
        * http/tests/referrer-policy-anchor/strict-origin-when-cross-origin/cross-origin-http.https.html:
        * http/tests/referrer-policy-anchor/strict-origin-when-cross-origin/same-origin.html:
        * http/tests/referrer-policy-anchor/strict-origin/cross-origin-http-http.html:
        * http/tests/referrer-policy-anchor/strict-origin/cross-origin-http.https.html:
        * http/tests/referrer-policy-anchor/strict-origin/same-origin.html:
        * http/tests/referrer-policy-anchor/unsafe-url/cross-origin-http-http.html:
        * http/tests/referrer-policy-anchor/unsafe-url/cross-origin-http.https.html:
        * http/tests/referrer-policy-anchor/unsafe-url/same-origin.html:
        * http/tests/referrer-policy-img/no-referrer-when-downgrade/cross-origin-http-http.html:
        * http/tests/referrer-policy-img/no-referrer-when-downgrade/cross-origin-http.https-expected.txt:
        * http/tests/referrer-policy-img/no-referrer-when-downgrade/cross-origin-http.https.html:
        * http/tests/referrer-policy-img/no-referrer-when-downgrade/same-origin.html:
        * http/tests/referrer-policy-img/no-referrer/cross-origin-http-http.html:
        * http/tests/referrer-policy-img/no-referrer/cross-origin-http.https-expected.txt:
        * http/tests/referrer-policy-img/no-referrer/cross-origin-http.https.html:
        * http/tests/referrer-policy-img/no-referrer/same-origin.html:
        * http/tests/referrer-policy-img/origin-when-cross-origin/cross-origin-http-http.html:
        * http/tests/referrer-policy-img/origin-when-cross-origin/cross-origin-http.https-expected.txt:
        * http/tests/referrer-policy-img/origin-when-cross-origin/cross-origin-http.https.html:
        * http/tests/referrer-policy-img/origin-when-cross-origin/same-origin.html:
        * http/tests/referrer-policy-img/origin/cross-origin-http-http.html:
        * http/tests/referrer-policy-img/origin/cross-origin-http.https-expected.txt:
        * http/tests/referrer-policy-img/origin/cross-origin-http.https.html:
        * http/tests/referrer-policy-img/origin/same-origin.html:
        * http/tests/referrer-policy-img/same-origin/cross-origin-http-http.html:
        * http/tests/referrer-policy-img/same-origin/cross-origin-http.https-expected.txt:
        * http/tests/referrer-policy-img/same-origin/cross-origin-http.https.html:
        * http/tests/referrer-policy-img/same-origin/same-origin.html:
        * http/tests/referrer-policy-img/strict-origin-when-cross-origin/cross-origin-http-http.html:
        * http/tests/referrer-policy-img/strict-origin-when-cross-origin/cross-origin-http.https-expected.txt:
        * http/tests/referrer-policy-img/strict-origin-when-cross-origin/cross-origin-http.https.html:
        * http/tests/referrer-policy-img/strict-origin-when-cross-origin/same-origin.html:
        * http/tests/referrer-policy-img/strict-origin/cross-origin-http-http.html:
        * http/tests/referrer-policy-img/strict-origin/cross-origin-http.https-expected.txt:
        * http/tests/referrer-policy-img/strict-origin/cross-origin-http.https.html:
        * http/tests/referrer-policy-img/strict-origin/same-origin.html:
        * http/tests/referrer-policy-img/unsafe-url/cross-origin-http-http.html:
        * http/tests/referrer-policy-img/unsafe-url/cross-origin-http.https-expected.txt:
        * http/tests/referrer-policy-img/unsafe-url/cross-origin-http.https.html:
        * http/tests/referrer-policy-img/unsafe-url/same-origin.html:
        * http/tests/referrer-policy/resources/check-referrer.php: Removed.
        * http/tests/referrer-policy/resources/check-referrer.py: Added.
        * http/tests/referrer-policy/resources/image.php: Removed.
        * http/tests/referrer-policy/resources/image.py: Added.
        * http/tests/referrer-policy/resources/script.php: Removed.
        * http/tests/referrer-policy/resources/script.py: Added.
        * http/tests/security/xssAuditor/resources/tag-with-pause.py:
        * http/tests/websocket/tests/hybi/contentextensions/block-cookies-worker.php.json: Removed.
        * http/tests/websocket/tests/hybi/contentextensions/block-cookies-worker.py.json: Added.
        * http/tests/websocket/tests/hybi/contentextensions/block-cookies.php.json: Removed.
        * http/tests/websocket/tests/hybi/contentextensions/block-cookies.py.json: Added.
        * imported/blink/http/tests/misc/input-image-fallback-content-crash.html:
        * resources/js-test.js:
        (downgradeReferrerCallback):

2021-04-02  Aditya Keerthi  <akeerthi@apple.com>

        Do not paint native decorations for search fields without '-webkit-appearance: searchfield'
        https://bugs.webkit.org/show_bug.cgi?id=223946
        <rdar://problem/75621365>

        Reviewed by Antti Koivisto.

        Rebaselined tests to account for the removal of the native decoration
        when a different -webkit-appearance is specified on a search field.

        * platform/ios/fast/css/input-search-padding-expected.txt:
        * platform/mac/fast/css/text-input-with-webkit-border-radius-expected.txt:

2021-04-02  Chris Fleizach  <cfleizach@apple.com>

        AX: textRectsFromMarkers always fails
        https://bugs.webkit.org/show_bug.cgi?id=223556
        <rdar://74256003>

        Reviewed by Zalan Bujtas.

        * accessibility/ios-simulator/text-rects-for-range-matches-expected.txt: Added.
        * accessibility/ios-simulator/text-rects-for-range-matches.html: Added.

2021-04-02  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] Convert http/tests/multipart convert PHP to Python
        https://bugs.webkit.org/show_bug.cgi?id=223475
        <rdar://problem/75587716>

        Reviewed by Alex Christensen.

        * http/tests/multipart/invalid-image-data-standalone.html:
        * http/tests/multipart/invalid-image-data.html:
        * http/tests/multipart/multipart-async-image.html:
        * http/tests/multipart/multipart-image.html:
        * http/tests/multipart/resources/multipart.php: Removed.
        * http/tests/multipart/resources/multipart.py: Added.
        (send_part):
        * http/tests/multipart/stop-crash.html:

2021-04-02  Carlos Alberto Lopez Perez  <clopez@igalia.com>

        [GTK][WPE] Gardening of flaky tests

        Unreviewed gardening.

        Update list of flaky tests.

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:

2021-04-02  Chris Lord  <clord@igalia.com>

        Implement text rendering on OffscreenCanvas in a Worker
        https://bugs.webkit.org/show_bug.cgi?id=202793

        Reviewed by Darin Adler.

        Adjust expectations for manual OffscreenCanvas worker text test.

        * platform/glib/TestExpectations:

2021-04-02  Youenn Fablet  <youenn@apple.com>

        No audio output when unplugged wired headset during a call
        https://bugs.webkit.org/show_bug.cgi?id=216389
        <rdar://problem/68692800>

        Reviewed by Eric Carlson.

        * fast/mediastream/MediaStream-video-element-change-audio-route-expected.txt: Added.
        * fast/mediastream/MediaStream-video-element-change-audio-route.html: Added.

2021-04-02  Sergio Villar Senin  <svillar@igalia.com>

        [css-flexbox] align-content issues
        https://bugs.webkit.org/show_bug.cgi?id=221468

        Reviewed by Ryosuke Niwa.

        Fix the relative path to a stylesheet in 4 expected results. The tests were working as expected
        but the expected results were wrong without those CSS rules.

        * TestExpectations: Unskip 4 tests that should be passing now.

2021-04-02  Philippe Normand  <pnormand@igalia.com>

        REGRESSION(r268176): [GStreamer] media/video-orientation-canvas.html fails
        https://bugs.webkit.org/show_bug.cgi?id=223850

        Reviewed by Carlos Alberto Lopez Perez.

        * platform/gtk/TestExpectations: Unflag now-passing test.

2021-04-02  Youenn Fablet  <youenn@apple.com>

        Bail out early if encoded frame is written twice
        https://bugs.webkit.org/show_bug.cgi?id=224041

        Reviewed by Eric Carlson.

        * http/wpt/webrtc/write-twice-transform-expected.txt: Added.
        * http/wpt/webrtc/write-twice-transform.html: Added.
        * http/wpt/webrtc/write-twice-transform.js: Added.
        (onrtctransform.process):
        (onrtctransform):

2021-04-01  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] Convert http/tests/cache convert PHP to Python
        https://bugs.webkit.org/show_bug.cgi?id=222935
        <rdar://problem/75183314>

        Reviewed by Jonathan Bedard.

        * http/tests/cache/cache-redirections.html:
        * http/tests/cache/resources/cache-control-redirect.php: Removed.
        * http/tests/cache/resources/cache-control-redirect.py: Added.
        * http/tests/cache/resources/permanent-redirect.php: Removed.
        * http/tests/cache/resources/x-frame-options.php: Removed.
        * http/tests/cache/resources/x-frame-options.py: Added.
        * http/tests/cache/x-frame-options-304.html:
        * http/tests/navigation/window-open-redirect-and-remove-opener.html:
        * http/tests/xmlhttprequest/cacheable-cross-origin-redirect-crash.html:

2021-04-01  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] Convert http/tests/history convert PHP to Python
        https://bugs.webkit.org/show_bug.cgi?id=222614
        <rdar://problem/74946423>

        Reviewed by Jonathan Bedard.

        * http/tests/history/back-to-post.php: Removed.
        * http/tests/history/back-to-post.py: Added.
        * http/tests/history/back-with-fragment-change-expected.txt:
        * http/tests/history/back-with-fragment-change.php: Removed.
        * http/tests/history/back-with-fragment-change.py: Added.
        * http/tests/history/resources/back-during-onload-hung-page.php: Removed.
        * http/tests/history/resources/back-during-onload-hung-page.py: Added.
        * http/tests/history/resources/back-during-onload-middle.html:
        * http/tests/navigation/resources/back-twice-page-2.html:
        * platform/glib/TestExpectations:
        * platform/ios-wk1/TestExpectations:
        * platform/ios-wk2/TestExpectations:
        * platform/ios/TestExpectations:
        * platform/mac-wk1/TestExpectations:
        * platform/mac-wk2/TestExpectations:
        * platform/win/TestExpectations:

2021-04-01  Robert Jenner  <jenner@apple.com>

        inspector/animation/lifecycle-css-transition.html is a flakey timeout on EWS
        https://bugs.webkit.org/show_bug.cgi?id=222195

        Unreviewed test gardening.

        * platform/mac/TestExpectations: Removing test expectations to see if it is still an issue on EWS.

2021-04-01  Devin Rousso  <drousso@apple.com>

        REGRESSION (r275358): [ macOS ] 2X media/modern-media-controls layout-tests are text failing
        https://bugs.webkit.org/show_bug.cgi?id=224061
        <rdar://problem/76115550>

        Unreviewed test fix.

        * media/modern-media-controls/macos-fullscreen-media-controls/macos-fullscreen-media-controls-buttons-styles.html:
        * media/modern-media-controls/macos-fullscreen-media-controls/macos-fullscreen-media-controls-buttons-styles-expected.txt:
        * media/modern-media-controls/macos-inline-media-controls/macos-inline-media-dropping-controls.html:
        * media/modern-media-controls/macos-inline-media-controls/macos-inline-media-dropping-controls-expected.txt:
        Set a `maximumRightContainerButtonCountOverride` so that the collapsing behavior of the
        overflow button doesn't affect the test (and force a layout to ensure it's picked up).

2021-04-01  Amir Mark Jr  <amir_mark@apple.com>

        [BigSur Wk1 Release] webanimations/accelerated* tests are flaky image failing
        https://bugs.webkit.org/show_bug.cgi?id=224066

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-04-01  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r274381.
        https://bugs.webkit.org/show_bug.cgi?id=224080

        Caused stuttery select scrolling

        Reverted changeset:

        "Add basic (non-momentum) wheel event handling for scroll
        snap"
        https://bugs.webkit.org/show_bug.cgi?id=222594
        https://trac.webkit.org/changeset/274381

2021-04-01  Chris Gambrell  <cgambrell@apple.com>

        LayoutTests] Convert http/tests/download convert PHP to Python
        https://bugs.webkit.org/show_bug.cgi?id=222618
        <rdar://problem/74949253>

        Reviewed by Jonathan Bedard.

        * http/tests/download/default-encoding-expected.txt:
        * http/tests/download/default-encoding.html:
        * http/tests/download/inherited-encoding-expected.txt:
        * http/tests/download/inherited-encoding-form-submission-result-expected.txt:
        * http/tests/download/inherited-encoding-form-submission-result.html:
        * http/tests/download/inherited-encoding.html:
        * http/tests/download/literal-utf-8-expected.txt:
        * http/tests/download/literal-utf-8.html:
        * http/tests/download/resources/literal-koi8-r.php: Removed.
        * http/tests/download/resources/literal-koi8-r.py: Added.
        * http/tests/download/resources/literal-utf-8.php: Removed.
        * http/tests/download/resources/literal-utf-8.py: Added.

2021-04-01  Carlos Alberto Lopez Perez  <clopez@igalia.com>

        [GTK][WPE] Gardening of layout tests.

        Unreviewed gardening.

        Report and mark new failures.

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:

2021-04-01  Chris Gambrell  <cgambrell@apple.com>

        Flaky LayoutTests in http/tests/appcache
        https://bugs.webkit.org/show_bug.cgi?id=224054
        <rdar://problem/76108352>

        Reviewed by Jonathan Bedard.

        * http/tests/appcache/fail-on-update-2.html:
        * http/tests/appcache/fail-on-update.html:
        * http/tests/appcache/resources/abort-cache-onchecking.manifest.py:
        * http/tests/appcache/resources/abort-cache-ondownloading.text.py:
        * http/tests/appcache/resources/not-exist.vob.py:

2021-04-01  Mark Lam  <mark.lam@apple.com>

        Fix some missing exception checks in HTMLMediaElement methods.
        https://bugs.webkit.org/show_bug.cgi?id=224038
        rdar://69573092

        Reviewed by Eric Carlson.

        * media/missing-exception-checks-in-HTMLMediaElement-methods-expected.txt: Added.
        * media/missing-exception-checks-in-HTMLMediaElement-methods.html: Added.

2021-04-01  Devin Rousso  <drousso@apple.com>

        Limit the number of buttons shown in media controls
        https://bugs.webkit.org/show_bug.cgi?id=223909

        Reviewed by Eric Carlson.

        * media/modern-media-controls/ios-inline-media-controls/ios-inline-media-dropping-controls.html:
        * media/modern-media-controls/ios-inline-media-controls/ios-inline-media-dropping-controls-expected.txt:
        * media/modern-media-controls/macos-fullscreen-media-controls/macos-fullscreen-media-controls-buttons-containers-styles.html:
        * media/modern-media-controls/macos-fullscreen-media-controls/macos-fullscreen-media-controls-buttons-containers-styles-expected.txt:
        * media/modern-media-controls/macos-fullscreen-media-controls/macos-fullscreen-media-controls-buttons-styles.html:
        * media/modern-media-controls/macos-fullscreen-media-controls/macos-fullscreen-media-controls-buttons-styles-expected.txt:
        * media/modern-media-controls/macos-inline-media-controls/macos-inline-media-dropping-controls.html:
        * media/modern-media-controls/macos-inline-media-controls/macos-inline-media-dropping-controls-expected.txt:

        * media/modern-media-controls/macos-fullscreen-media-controls/macos-fullscreen-media-controls-constructor.html:
        * media/modern-media-controls/macos-fullscreen-media-controls/macos-fullscreen-media-controls-constructor-expected.txt:
        * media/modern-media-controls/macos-fullscreen-media-controls/macos-fullscreen-media-controls-right-container-margin.html: Removed.
        * media/modern-media-controls/macos-fullscreen-media-controls/macos-fullscreen-media-controls-right-container-margin-expected.txt: Removed.
        macOS fullscreen controls don't adjust the `buttonMargin` anymore as buttons are moved into
        the overflow menu instead.

        * media/modern-media-controls/tracks-support/auto-text-track.html:
        * media/modern-media-controls/tracks-support/click-track-in-contextmenu.html:
        * media/modern-media-controls/tracks-support/hidden-tracks.html:
        * media/modern-media-controls/tracks-support/off-text-track.html:
        * media/modern-media-controls/tracks-support/show-contextmenu-then-double-click-on-tracks-button.html:
        * media/modern-media-controls/tracks-support/text-track-selected-via-media-api.html:
        Override the default maximum right container button count so that the tracks button is shown.

2021-04-01  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r275295.
        https://bugs.webkit.org/show_bug.cgi?id=224046

        Broken 3 layout tests on wk1

        Reverted changeset:

        "[LayoutTests] Convert http/tests/download convert PHP to
        Python"
        https://bugs.webkit.org/show_bug.cgi?id=222618
        https://trac.webkit.org/changeset/275295

2021-04-01  Aditya Keerthi  <akeerthi@apple.com>

        [iOS] '-webkit-appearance: none' is not respected for searchfield decorations
        https://bugs.webkit.org/show_bug.cgi?id=224018

        Reviewed by Antti Koivisto.

        Rebaselined tests to account for the change to the way we paint
        searchfield decorations on iOS. Added a new test to verify that
        '-webkit-appearance: none' is respected.

        * fast/forms/ios/form-control-refresh/search/search-decoration-appearance-expected-mismatch.html: Added.
        * fast/forms/ios/form-control-refresh/search/search-decoration-appearance.html: Added.
        * platform/ios-simulator/fast/forms/datalist/datalist-searchinput-appearance-expected.txt:
        * platform/ios/fast/css/focus-ring-exists-for-search-field-expected.txt:
        * platform/ios/fast/css/input-search-padding-expected.txt:
        * platform/ios/fast/css/text-input-with-webkit-border-radius-expected.txt:
        * platform/ios/fast/css/text-overflow-input-expected.txt:
        * platform/ios/fast/forms/box-shadow-override-expected.txt:
        * platform/ios/fast/forms/control-restrict-line-height-expected.txt:
        * platform/ios/fast/forms/input-appearance-height-expected.txt:
        * platform/ios/fast/forms/placeholder-pseudo-style-expected.txt:
        * platform/ios/fast/forms/search-cancel-button-style-sharing-expected.txt:
        * platform/ios/fast/forms/search-display-none-cancel-button-expected.txt:
        * platform/ios/fast/forms/search-input-rtl-expected.txt:
        * platform/ios/fast/forms/search-styled-expected.txt:
        * platform/ios/fast/replaced/width100percent-searchfield-expected.txt:

2021-04-01  Rob Buis  <rbuis@igalia.com>

        Use Element for checking Settings in CSSComputedStyleDeclaration
        https://bugs.webkit.org/show_bug.cgi?id=223598

        Reviewed by Darin Adler.

        Adapt tests to verify that non-rendered elements do not expose
        contain/aspect-ratio when these features are disabled.
        Add tests for rotate, scale and translate as well.

        * fast/css/aspect-ratio-invalidate-if-disabled-expected.txt:
        * fast/css/aspect-ratio-invalidate-if-disabled.html:
        * fast/css/contain-invalidate-if-disabled-expected.txt:
        * fast/css/contain-invalidate-if-disabled.html:
        * fast/css/overscroll-behavior-invalidate-if-disabled-expected.txt:
        * fast/css/overscroll-behavior-invalidate-if-disabled.html:
        * fast/css/rotate-invalidate-if-disabled-expected.txt: Added.
        * fast/css/rotate-invalidate-if-disabled.html: Added.
        * fast/css/scale-invalidate-if-disabled-expected.txt: Added.
        * fast/css/scale-invalidate-if-disabled.html: Added.
        * fast/css/translate-invalidate-if-disabled-expected.txt: Added.
        * fast/css/translate-invalidate-if-disabled.html: Added.
        * platform/win/TestExpectations:

2021-03-31  Robert Jenner  <jenner@apple.com>

        [ Debug wk2 ] ASSERTION FAILED: willBeComposited == needsToBeComposited(layer, queryData)
        https://bugs.webkit.org/show_bug.cgi?id=223750

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations: Adding the Failure back to the test expectations that I removed during the prior update.

2021-03-31  Robert Jenner  <jenner@apple.com>

        ASSERTION FAILED: CustomElementReactionDisallowedScope::isReactionAllowed() ./dom/CustomElementReactionQueue.cpp(175) : static void WebCore::CustomElementReactionQueue::enqueueDisconnectedCallbackIfNeeded(WebCore::Element &)
        https://bugs.webkit.org/show_bug.cgi?id=224033

        Uneviewed test gardening.

        * platform/ios-simulator/TestExpectations: Updated test expectations while test is reviewed.
        * platform/mac/TestExpectations:

2021-03-31  Tadeu Zagallo  <tzagallo@apple.com>

        Missing scope release in JSDOMBuiltinConstructorBase
        https://bugs.webkit.org/show_bug.cgi?id=216851
        <rdar://problem/69144642>

        Reviewed by Yusuke Suzuki.

        * js/dom/transform-stream-expected.txt: Added.
        * js/dom/transform-stream.html: Added.

2021-03-31  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] Convert http/tests/cache convert PHP to Python
        https://bugs.webkit.org/show_bug.cgi?id=222935
        <rdar://problem/75183314>

        Reviewed by Jonathan Bedard.

        * http/tests/cache/cache-redirections.html:
        * http/tests/cache/resources/cache-control-redirect.php: Removed.
        * http/tests/cache/resources/cache-control-redirect.py: Added.
        * http/tests/cache/resources/permanent-redirect.php: Removed.
        * http/tests/cache/resources/x-frame-options.php: Removed.
        * http/tests/cache/resources/x-frame-options.py: Added.
        * http/tests/cache/x-frame-options-304.html:
        * http/tests/navigation/window-open-redirect-and-remove-opener.html:
        * http/tests/xmlhttprequest/cacheable-cross-origin-redirect-crash.html:

2021-03-31  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] Convert http/tests/appcache convert PHP to Python
        https://bugs.webkit.org/show_bug.cgi?id=221286
        <rdar://problem/73893844>

        Reviewed by Jonathan Bedard.

        * TestExpectations:
        * http/tests/appcache/404-resource-with-slow-main-resource.php: Removed.
        * http/tests/appcache/404-resource-with-slow-main-resource.py: Added.
        * http/tests/appcache/abort-cache-onchecking-manifest-404.html:
        * http/tests/appcache/abort-cache-onchecking.html:
        * http/tests/appcache/access-via-redirect.php: Removed.
        * http/tests/appcache/access-via-redirect.py: Added.
        * http/tests/appcache/auth.html:
        * http/tests/appcache/document-cookie-http-only.php: Removed.
        * http/tests/appcache/document-cookie-http-only.py: Added.
        * http/tests/appcache/document-cookie.php: Removed.
        * http/tests/appcache/document-cookie.py: Added.
        * http/tests/appcache/fail-on-update-2.html:
        * http/tests/appcache/fail-on-update.html:
        * http/tests/appcache/fallback.html:
        * http/tests/appcache/identifier-test.html:
        * http/tests/appcache/main-resource-redirect.html:
        * http/tests/appcache/manifest-redirect-2.html:
        * http/tests/appcache/manifest-redirect.html:
        * http/tests/appcache/online-whitelist.html:
        * http/tests/appcache/remove-cache.html:
        * http/tests/appcache/resource-redirect-2-expected.txt:
        * http/tests/appcache/resource-redirect-expected.txt:
        * http/tests/appcache/resources/abort-cache-onchecking-resource-404.manifest:
        * http/tests/appcache/resources/abort-cache-onchecking.manifest.php: Removed.
        * http/tests/appcache/resources/abort-cache-onchecking.manifest.py: Added.
        * http/tests/appcache/resources/abort-cache-ondownloading.manifest:
        * http/tests/appcache/resources/abort-cache-ondownloading.text.php: Removed.
        * http/tests/appcache/resources/abort-cache-ondownloading.text.py: Added.
        * http/tests/appcache/resources/abort-cache-onprogress.manifest:
        * http/tests/appcache/resources/access-via-redirect.html:
        * http/tests/appcache/resources/appcache-cookies-test.html:
        * http/tests/appcache/resources/auth/iframe.php: Removed.
        * http/tests/appcache/resources/auth/iframe.py: Added.
        * http/tests/appcache/resources/auth/manifest.php: Removed.
        * http/tests/appcache/resources/auth/manifest.py: Added.
        * http/tests/appcache/resources/auth/setup.php: Removed.
        * http/tests/appcache/resources/auth/setup.py: Added.
        * http/tests/appcache/resources/auth/subresource.php: Removed.
        * http/tests/appcache/resources/auth/subresource.py: Added.
        * http/tests/appcache/resources/cookie-protected-script.php: Removed.
        * http/tests/appcache/resources/cookie-protected-script.py: Added.
        * http/tests/appcache/resources/document-cookie.manifest:
        * http/tests/appcache/resources/fail-on-update-2.html:
        * http/tests/appcache/resources/fail-on-update-2.php: Removed.
        * http/tests/appcache/resources/fail-on-update-2.py: Added.
        * http/tests/appcache/resources/fail-on-update.php: Removed.
        * http/tests/appcache/resources/fail-on-update.py: Added.
        * http/tests/appcache/resources/fallback-redirect.php: Removed.
        * http/tests/appcache/resources/fallback-redirect.py: Added.
        * http/tests/appcache/resources/identifier-test-real.php: Removed.
        * http/tests/appcache/resources/identifier-test-real.py: Added.
        * http/tests/appcache/resources/identifier-test.php: Removed.
        * http/tests/appcache/resources/identifier-test.py: Added.
        * http/tests/appcache/resources/intercept/.htaccess:
        * http/tests/appcache/resources/main-resource-redirect-frame.php: Removed.
        * http/tests/appcache/resources/main-resource-redirect-frame.py: Added.
        * http/tests/appcache/resources/manifest-if-cookie.php: Removed.
        * http/tests/appcache/resources/manifest-if-cookie.py: Added.
        * http/tests/appcache/resources/manifest-protected-script.php: Removed.
        * http/tests/appcache/resources/manifest-redirect-2.php: Removed.
        * http/tests/appcache/resources/manifest-redirect-2.py: Added.
        * http/tests/appcache/resources/manifest-redirect.php: Removed.
        * http/tests/appcache/resources/manifest-redirect.py: Added.
        * http/tests/appcache/resources/navigating-away-while-cache-attempt-in-progress.manifest:
        * http/tests/appcache/resources/not-exist.vob.php: Removed.
        * http/tests/appcache/resources/not-exist.vob.py: Added.
        * http/tests/appcache/resources/online-allowlist.manifest:
        * http/tests/appcache/resources/online-allowlist.php: Removed.
        * http/tests/appcache/resources/online-allowlist.py: Added.
        * http/tests/appcache/resources/print-uri.php: Removed.
        * http/tests/appcache/resources/print-uri.py: Added.
        * http/tests/appcache/resources/remove-cache-frame-2.html:
        * http/tests/appcache/resources/remove-cache-frame.html:
        * http/tests/appcache/resources/remove-cache.php: Removed.
        * http/tests/appcache/resources/remove-cache.py: Added.
        * http/tests/appcache/resources/resource-redirect-2.manifest:
        * http/tests/appcache/resources/resource-redirect-2.php: Removed.
        * http/tests/appcache/resources/resource-redirect-2.py: Added.
        * http/tests/appcache/resources/resource-redirect.manifest:
        * http/tests/appcache/resources/resource-redirect.php: Removed.
        * http/tests/appcache/resources/resource-redirect.py: Added.
        * http/tests/appcache/resources/scope1/cookie-protected-manifest.php: Removed.
        * http/tests/appcache/resources/scope1/cookie-protected-manifest.py: Added.
        * http/tests/appcache/resources/scope2/cookie-protected-script.php: Removed.
        * http/tests/appcache/resources/scope2/cookie-protected-script.py: Added.
        * http/tests/appcache/resources/slow-resource.php: Removed.
        * http/tests/appcache/resources/slow-resource.py: Added.
        * http/tests/appcache/resources/uncacheable-resource.php: Removed.
        * http/tests/appcache/resources/uncacheable-resource.py: Added.
        * http/tests/appcache/resources/update-cache.php: Removed.
        * http/tests/appcache/resources/update-cache.py: Added.
        * http/tests/appcache/resources/x-frame-options-prevents-framing-test.html:
        * http/tests/appcache/update-cache.html:
        * http/tests/appcache/x-frame-options-prevents-framing-expected.txt:
        * http/tests/appcache/x-frame-options-prevents-framing.php: Removed.
        * http/tests/appcache/x-frame-options-prevents-framing.py: Added.
        * http/tests/resources/portabilityLayer.py:
        (get_count):
        (get_state):
        (set_state):
        (step_state):
        (setState): Deleted.
        (getState): Deleted.
        * http/tests/xmlhttprequest/resources/access-control-basic-preflight-cache-invalidation.py:
        * http/tests/xmlhttprequest/resources/access-control-basic-preflight-cache-timeout.py:
        * http/tests/xmlhttprequest/resources/access-control-basic-preflight-cache.py:
        * http/tests/xmlhttprequest/resources/access-control-preflight-denied-xsrf.py:
        * http/tests/xmlhttprequest/resources/no-custom-header.py:
        * http/tests/xmlhttprequest/resources/redirect-cross-origin-tripmine.py:
        * http/tests/xmlhttprequest/resources/remember-bad-password/count-failures.py:
        * platform/ios-wk2/TestExpectations:

2021-03-31  Robert Jenner  <jenner@apple.com>

        [ macOS wk2 ARM64 ] tiled-drawing/top-content-inset-fixed-attachment-cover-local.html is a flakey Image failure
        https://bugs.webkit.org/show_bug.cgi?id=224032

        Uneviewed test garending.

        * platform/mac-wk2/TestExpectations: Updated test expectations to Pass ImageOnlyFailure while test is reviewed. 

2021-03-31  Peng Liu  <peng.liu6@apple.com>

        [ macOS wk2 ] media/pip-video-going-into-fullscreen.html is a flakey timeout
        https://bugs.webkit.org/show_bug.cgi?id=223762

        Reviewed by Eric Carlson.

        Fix a flaky test related to video fullscreen by:
        1) Wait for a video presentation mode change to complete before moving to the next step in the test.
        2) Request the video to exit fullscreen before `endTest()` (to avoid interference with other tests).

        * media/pip-video-going-into-fullscreen-expected.txt:
        * media/pip-video-going-into-fullscreen.html:
        * platform/mac-wk2/TestExpectations:

2021-03-31  Robert Jenner  <jenner@apple.com>

        inspector/canvas/console-record-2d.html is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=219214

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations: Updated test expectations to Pass Timeout while test is reviewed.

2021-03-31  Cameron McCormack  <heycam@apple.com>

        Avoid creating any complex text runs when font-size is zero.
        https://bugs.webkit.org/show_bug.cgi?id=223983

        Reviewed by Myles C. Maxfield.

        * fast/text/font-size-zero-complex-expected.html: Added.
        * fast/text/font-size-zero-complex.html: Added.

2021-03-31  Mark Lam  <mark.lam@apple.com>

        Placate exception check validation below convertVariadicArguments().
        https://bugs.webkit.org/show_bug.cgi?id=224027
        rdar://68912995

        Reviewed by Saam Barati.

        * js/dom/missing-exception-check-in-convertVariadicArguments-expected.txt: Added.
        * js/dom/missing-exception-check-in-convertVariadicArguments.html: Added.

2021-03-31  Ryan Haddad  <ryanhaddad@apple.com>

        REGRESSION (Metal ANGLE): [Catalina] 6 consistent WebGL failures / timeouts
        https://bugs.webkit.org/show_bug.cgi?id=224016

        Unreviewed test gardening.

        * platform/mac/TestExpectations: Mark tests as failing / skipped.

2021-03-31  Venky Dass  <yaranamavenkataramana@apple.com>

        Null pointer access crash in WebCore::makeBoundaryPoint(..)
        https://bugs.webkit.org/show_bug.cgi?id=223977

        Reviewed by Darin Adler.

        Adding a refression test case.

        * editing/inserting/crash-make-boundary-point-expected.txt: Added.
        * editing/inserting/crash-make-boundary-point.html: Added.

2021-03-31  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] Convert http/tests/contentextensions convert PHP to Python
        https://bugs.webkit.org/show_bug.cgi?id=223891
        <rdar://problem/75965634>

        Reviewed by Jonathan Bedard.

        * http/tests/contentextensions/block-cookies-basic.html:
        * http/tests/contentextensions/block-cookies-basic.html.json:
        * http/tests/contentextensions/block-cookies-in-image-load-in-onunload.html:
        * http/tests/contentextensions/block-cookies-in-ping.html:
        * http/tests/contentextensions/block-cookies-send.html:
        * http/tests/contentextensions/resources/save_ping.py:
        (not_being_called):
        * http/tests/cookies/cookie-with-multiple-level-path.html:
        * http/tests/cookies/document-cookie-after-showModalDialog.html:
        * http/tests/cookies/document-cookie-during-iframe-parsing.html:
        * http/tests/cookies/only-accept-first-party-cookies.html:
        * http/tests/cookies/resources/cookie-utilities.js:
        * http/tests/cookies/resources/cookie-utility.php: Removed.
        * http/tests/cookies/resources/cookie-utility.py: Added.
        (delete_cookie):
        * http/tests/cookies/resources/cookie-with-multiple-level-path.php: Removed.
        * http/tests/cookies/resources/cookie-with-multiple-level-path.py: Added.
        * http/tests/cookies/resources/echo-cookies.php: Removed.
        * http/tests/cookies/resources/echo-cookies.py: Added.
        * http/tests/cookies/resources/echo-http-and-dom-cookies-and-notify-done.php: Removed.
        * http/tests/cookies/resources/echo-http-and-dom-cookies-and-notify-done.py: Added.
        * http/tests/cookies/resources/echo-json.php: Removed.
        * http/tests/cookies/resources/echo-json.py: Added.
        * http/tests/cookies/resources/post-cookies-onmessage.php: Removed.
        * http/tests/cookies/resources/post-cookies-onmessage.py: Added.
        * http/tests/cookies/resources/post-cookies-to-opener.php: Removed.
        * http/tests/cookies/resources/post-cookies-to-opener.py: Added.
        * http/tests/cookies/resources/resetCookies.js:
        (resetCookies):
        * http/tests/cookies/resources/set-cookie-and-redirect-back.php: Removed.
        * http/tests/cookies/resources/set-cookie-and-redirect-back.py: Added.
        * http/tests/cookies/resources/set-cookie-and-serve.php: Removed.
        * http/tests/cookies/resources/set-cookie-and-serve.py: Added.
        * http/tests/cookies/resources/set-cookie-on-redirect.php: Removed.
        * http/tests/cookies/resources/set-cookie-on-redirect.py: Added.
        * http/tests/cookies/resources/set-http-only-cookie.php: Removed.
        * http/tests/cookies/resources/set-http-only-cookie.py: Added.
        * http/tests/cookies/resources/setArraycookies-result.php: Removed.
        * http/tests/cookies/resources/setArraycookies.php: Removed.
        * http/tests/cookies/resources/setUtf8Cookies-result.php: Removed.
        * http/tests/cookies/resources/setUtf8Cookies.php: Removed.
        * http/tests/cookies/resources/third-party-cookie-relaxing-iframe.html:
        * http/tests/cookies/same-site/fetch-after-navigating-iframe-in-cross-origin-page.html:
        * http/tests/cookies/same-site/fetch-after-top-level-cross-origin-redirect.html:
        * http/tests/cookies/same-site/fetch-after-top-level-navigation-from-cross-origin-page.html:
        * http/tests/cookies/same-site/fetch-after-top-level-navigation-initiated-from-iframe-in-cross-origin-page.html:
        * http/tests/cookies/same-site/fetch-after-top-level-same-origin-redirect.html:
        * http/tests/cookies/same-site/fetch-in-same-origin-service-worker.html:
        * http/tests/cookies/same-site/lax-samesite-cookie-after-cross-site-history-load.php: Removed.
        * http/tests/cookies/same-site/lax-samesite-cookie-after-cross-site-history-load.py: Added.
        * http/tests/cookies/same-site/popup-cross-site-post.html:
        * http/tests/cookies/same-site/popup-cross-site.html:
        * http/tests/cookies/same-site/popup-same-site-post.html:
        * http/tests/cookies/same-site/popup-same-site-via-cross-site-redirect.html:
        * http/tests/cookies/same-site/popup-same-site-via-same-site-redirect.html:
        * http/tests/cookies/same-site/popup-same-site.html:
        * http/tests/cookies/same-site/resources/click-hyperlink.php: Removed.
        * http/tests/cookies/same-site/resources/click-hyperlink.py: Added.
        * http/tests/cookies/same-site/resources/fetch-after-navigating-iframe-in-cross-origin-page.php: Removed.
        * http/tests/cookies/same-site/resources/fetch-after-navigating-iframe-in-cross-origin-page.py: Added.
        * http/tests/cookies/same-site/resources/fetch-after-top-level-cross-origin-redirect.php: Removed.
        * http/tests/cookies/same-site/resources/fetch-after-top-level-cross-origin-redirect.py: Added.
        * http/tests/cookies/same-site/resources/fetch-after-top-level-navigation-from-cross-origin-page.php: Removed.
        * http/tests/cookies/same-site/resources/fetch-after-top-level-navigation-from-cross-origin-page.py: Added.
        * http/tests/cookies/same-site/resources/fetch-after-top-level-navigation-initiated-from-iframe-in-cross-origin-page.php: Removed.
        * http/tests/cookies/same-site/resources/fetch-after-top-level-navigation-initiated-from-iframe-in-cross-origin-page.py: Added.
        * http/tests/cookies/same-site/resources/fetch-after-top-level-same-origin-redirect.php: Removed.
        * http/tests/cookies/same-site/resources/fetch-after-top-level-same-origin-redirect.py: Added.
        * http/tests/cookies/same-site/resources/fetch-in-same-origin-service-worker.php: Removed.
        * http/tests/cookies/same-site/resources/fetch-in-same-origin-service-worker.py: Added.
        * http/tests/cookies/same-site/resources/post-from-popup.html:
        * http/tests/cookies/same-site/set-first-party-cross-site-cookies.php:
        * http/tests/cookies/same-site/set-first-party-same-site-cookies.php:
        * http/tests/cookies/set-cookie-on-redirect.html:
        * http/tests/cookies/third-party-cookie-relaxing-expected.txt:
        * http/tests/plugins/resources/third-party-cookie-accept-policy-iframe.html:
        * http/tests/privateClickMeasurement/send-attribution-conversion-request.html:
        * http/tests/resourceLoadStatistics/delete-script-accessible-cookies.html:
        * http/tests/resourceLoadStatistics/exemptDomains/app-bound-domains-exempt-from-website-data-deletion-database.html:
        * http/tests/resourceLoadStatistics/exemptDomains/app-bound-domains-exempt-from-website-data-deletion.html:
        * http/tests/resourceLoadStatistics/operating-dates-all-but-cookies-not-removed-with-user-interaction-6-days-ago.html:
        * http/tests/resourceLoadStatistics/operating-dates-all-but-cookies-removed-with-user-interaction-7-days-ago.html:
        * http/tests/resourceLoadStatistics/operating-dates-all-website-data-removed.html:
        * http/tests/resourceLoadStatistics/resources/set-all-kinds-of-cookies.py:
        * http/tests/resourceLoadStatistics/resources/set-cookie-on-redirect.py:
        * http/tests/resourceLoadStatistics/resources/set-cookie.py:
        * http/tests/resourceLoadStatistics/standalone-web-application-exempt-from-website-data-deletion.html:
        * http/tests/resourceLoadStatistics/website-data-removal-for-site-navigated-to-with-link-decoration.html:
        * http/tests/resourceLoadStatistics/website-data-removal-for-site-with-user-interaction.html:
        * http/tests/resourceLoadStatistics/website-data-removal-for-site-without-user-interaction.html:
        * http/tests/resources/__init__.py: Removed.
        * http/tests/resources/portabilityLayer.py:
        (get_cookies):
        (getState):
        * http/tests/security/cookies/third-party-cookie-blocking-redirect.html:
        * http/tests/websocket/tests/hybi/websocket-allowed-setting-cookie-as-third-party.html:
        * http/tests/websocket/tests/hybi/websocket-blocked-from-setting-cookie-as-third-party.html:
        * http/tests/websocket/tests/hybi/websocket-cookie-overwrite-behavior.html:
        * http/tests/xmlhttprequest/access-control-preflight-credential-async-expected.txt:
        * http/tests/xmlhttprequest/access-control-preflight-credential-sync-expected.txt:

2021-03-31  Eric Carlson  <eric.carlson@apple.com>

        [macOS] MediaSessionCoordinator should have join and leave methods
        https://bugs.webkit.org/show_bug.cgi?id=223955
        <rdar://problem/76021588>

        Reviewed by Jer Noble.

        * media/media-session/mock-coordinator-expected.txt:
        * media/media-session/mock-coordinator.html:

2021-03-31  Robert Jenner  <jenner@apple.com>

        REGRESSION (r275227): [ macOS iOS Release ] imported/w3c/web-platform-tests/css/css-transitions/properties-value-003.html is a constant failure
        https://bugs.webkit.org/show_bug.cgi?id=224006

        Uneviewed test gardening.

        * platform/mac/TestExpectations: Removed test expectations because EWS was not flagging this failure.

2021-03-31  Youenn Fablet  <youenn@apple.com>

        In case WebRTC VTB decoder returns a null frame, mark the decoder as failing
        https://bugs.webkit.org/show_bug.cgi?id=223993
        <rdar://problem/76049206>

        Reviewed by Eric Carlson.

        * http/wpt/webrtc/webrtc-late-transform-expected.txt: Added.
        * http/wpt/webrtc/webrtc-late-transform.html: Added.

2021-03-31  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] Convert http/tests/download convert PHP to Python
        https://bugs.webkit.org/show_bug.cgi?id=222618
        <rdar://problem/74949253>

        Reviewed by Jonathan Bedard.

        * http/tests/download/default-encoding-expected.txt:
        * http/tests/download/default-encoding.html:
        * http/tests/download/inherited-encoding-expected.txt:
        * http/tests/download/inherited-encoding-form-submission-result-expected.txt:
        * http/tests/download/inherited-encoding-form-submission-result.html:
        * http/tests/download/inherited-encoding.html:
        * http/tests/download/literal-utf-8-expected.txt:
        * http/tests/download/literal-utf-8.html:
        * http/tests/download/resources/literal-koi8-r.php: Removed.
        * http/tests/download/resources/literal-koi8-r.py: Added.
        * http/tests/download/resources/literal-utf-8.php: Removed.
        * http/tests/download/resources/literal-utf-8.py: Added.

2021-03-31  Antti Koivisto  <antti@apple.com>

        Animated pseudo element style resolved against wrong parent style
        https://bugs.webkit.org/show_bug.cgi?id=223990
        rdar://74997361

        Reviewed by Antoine Quint.

        * fast/animation/pseudo-element-style-adjuster-expected.html: Added.
        * fast/animation/pseudo-element-style-adjuster.html: Added.

2021-03-31  Youenn Fablet  <youenn@apple.com>

        Apply permission policy to geolocation
        https://bugs.webkit.org/show_bug.cgi?id=223248

        Reviewed by Eric Carlson.

        * http/tests/security/sandboxed-iframe-geolocation-getCurrentPosition-expected.txt:
        * http/tests/security/sandboxed-iframe-geolocation-watchPosition-expected.txt:

2021-03-31  Carlos Alberto Lopez Perez  <clopez@igalia.com>

        REGRESSION(r274244): [GTK][WPE] Two http/tests/security/contentSecurityPolicy tests crash
        https://bugs.webkit.org/show_bug.cgi?id=223978

        Reviewed by Philippe Normand.

        Apache not longer sends a Content-Length header with the cgi/python version of this tests,
        but it used chunked transfer encoding.
        It seems this confuses libsoup causing a critical event.
        Add an empty \r\n at the end of the test to indicate that the server has finished sending
        the data.

        * http/tests/security/contentSecurityPolicy/1.1/scripthash-allowed-by-legacy-enforced-policy-and-blocked-by-report-policy.py:
        * http/tests/security/contentSecurityPolicy/1.1/scripthash-blocked-by-legacy-enforced-policy-and-blocked-by-report-policy.py:

2021-03-31  Alexey Shvayka  <shvaikalesh@gmail.com>

        Optimize constructors of ES6 collections
        https://bugs.webkit.org/show_bug.cgi?id=223953

        Reviewed by Yusuke Suzuki.

        * js/dom/basic-weakset-expected.txt:

2021-03-30  Antoine Quint  <graouts@webkit.org>

        Computed style for background-position should not use "left" and "top" keywords
        https://bugs.webkit.org/show_bug.cgi?id=223878

        Reviewed by Simon Fraser.

        * fast/backgrounds/background-position-parsing-2-expected.txt: Removed.
        * fast/backgrounds/background-position-parsing-2.html: We remove this test because it is incorrect
        and superseded by WPT tests that we now pass, checking parsing of both valid and invalid values.
        * fast/css/background-position-serialize-expected.txt:
        * fast/css/background-position-serialize.html: Update this test to not expect "left" or "top".
        * transitions/resources/transition-test-helpers.js: Update the helper to not rely on keywords
        to obtain x and y values from the computed style.

2021-03-30  Devin Rousso  <drousso@apple.com>

        [Catalina WK2] 5 media/modern-media-controls/tracks-support tests consistently timing out
        https://bugs.webkit.org/show_bug.cgi?id=223673
        <rdar://problem/75769577>

        Unreviewed, check that the `subtitlesMenu` exists before attempting to look at its `children`.

        * media/modern-media-controls/tracks-support/auto-text-track.html:
        * media/modern-media-controls/tracks-support/click-track-in-contextmenu.html:
        * media/modern-media-controls/tracks-support/hidden-tracks.html:
        * media/modern-media-controls/tracks-support/off-text-track.html:
        * media/modern-media-controls/tracks-support/text-track-selected-via-media-api.html:

2021-03-30  Carlos Alberto Lopez Perez  <clopez@igalia.com>

        [GTK][WPE] Gardening of tests.

        Unreviewed gardening

        Update list of expected failures.

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:

2021-03-30  Jiewen Tan  <jiewen_tan@apple.com>

        PCM: Introduce PrivateClickMeasurementNetworkLoader
        https://bugs.webkit.org/show_bug.cgi?id=222217
        <rdar://74817863>

        Reviewed by Youenn Fablet.

        * http/tests/privateClickMeasurement/resources/fraudPreventionTestURL.py:
        Changes the token_public_key and unlinkable_token to be returned via JSON contents.

2021-03-30  Robert Jenner  <jenner@apple.com>

        [ macOS Debug ] imported/w3c/web-platform-tests/cors/redirect-preflight.htm is a flakey text failure
        https://bugs.webkit.org/show_bug.cgi?id=223976

        Unreviewed test gardening.

        * platform/mac/TestExpectations: Updated test expectations to Pass Failure while test is reviewed.

2021-03-30  Robert Jenner  <jenner@apple.com>

        [ Mac ] http/wpt/service-workers/service-worker-spinning-activate.https.html is flaky failing
        Nhttps://bugs.webkit.org/show_bug.cgi?id=220754

        Unreviewed test gardening.

        * platform/mac/TestExpectations: Updating test expectations to Pass Failure while test is reviewed.

2021-03-30  Robert Jenner  <jenner@apple.com>

        [mac-wk2] LayoutTest fast/mediastream/getUserMedia-webaudio.html is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=170960

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations: Updating test expectations to include Failure.

2021-03-30  Robert Jenner  <jenner@apple.com>

        [ macOS ] inspector/protocol/condition.html is a flakey timeout
        https://bugs.webkit.org/show_bug.cgi?id=223975

        Unreviewed test gardening.

        * platform/mac/TestExpectations: Updated test expectations to Pass Timeout while test is reviewed.

2021-03-30  Venky Dass  <yaranamavenkataramana@apple.com>

        Nullptr crash in Crash in WebCore::positionInParentBeforeNode(..) where a NULL check is missing.
        https://bugs.webkit.org/show_bug.cgi?id=223639

        Reviewed by Ryosuke Niwa.

        Adding a regression test case.

        * editing/inserting/edit-style-and-insert-image-expected.txt: Added.
        * editing/inserting/edit-style-and-insert-image.html: Added.

2021-03-30  Robert Jenner  <jenner@apple.com>

        [ macOS Debug ] imported/w3c/web-platform-tests/xhr/xhr-timeout-longtask.any.worker.html is a flakey text failure
        https://bugs.webkit.org/show_bug.cgi?id=223973

        unreviewed test gardening.

        * platform/mac/TestExpectations: Updated test expectations to Pass Failure while test is reviewed.

2021-03-30  Amir Mark Jr  <amir_mark@apple.com>

        [BigSur WK1 Debug] imported/w3c/web-platform-tests/xhr/event-upload-progress.any.html  is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=223944

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-03-30  Robert Jenner  <jenner@apple.com>

        [ macOS wk2 ] imported/w3c/web-platform-tests/webaudio/the-audio-api/the-audiocontext-interface/processing-after-resume.https.html is a flakey text failure
        https://bugs.webkit.org/show_bug.cgi?id=223969

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations: Updated test expectations to Pass Failure while test is reviewed.

2021-03-30  Robert Jenner  <jenner@apple.com>

        [ macOS ] imported/w3c/web-platform-tests/webaudio/the-audio-api/the-analysernode-interface/realtimeanalyser-fft-scaling.html is a flakey text failure
        https://bugs.webkit.org/show_bug.cgi?id=223966

        Unreviewed test gardening. 

        * platform/mac/TestExpectations: Updated test expectations to Pass Failure while test can be reviewed.

2021-03-30  Robert Jenner  <jenner@apple.com>

        [ Mac wk2 and iOS wk2 ] webrtc/libwebrtc/descriptionGetters.html is flaky failing.
        https://bugs.webkit.org/show_bug.cgi?id=214084

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations: removed release tag, as it is occurring outside of release.
        * platform/mac-wk2/TestExpectations: removed release tag, as it is occurring outside of release.

2021-03-30  Robert Jenner  <jenner@apple.com>

        [ macOS iOS ] crypto/crypto-random-values-oom.html is a flakey timeout
        https://bugs.webkit.org/show_bug.cgi?id=223949

        Unreviewed test gardening.

        * platform/ios-simulator-wk2/TestExpectations: Updated expectations to Pass Timeout while test is reviewed. 
        * platform/mac/TestExpectations: Updated expectations to Pass Timeout while test is reviewed. 

2021-03-30  Frédéric Wang  <fwang@igalia.com>

        Release assert in compareAnimationsByCompositeOrder
        https://bugs.webkit.org/show_bug.cgi?id=223368

        Reviewed by Antoine Quint.

        Add regression test.

        * animations/animation-remove-element-crash-expected.txt: Added.
        * animations/animation-remove-element-crash.html: Added.

2021-03-30  Antoine Quint  <graouts@webkit.org>

        [CSS Backgrounds] WPT test css/css-backgrounds/animations/border-image-width-interpolation.html asserts
        https://bugs.webkit.org/show_bug.cgi?id=206578

        Reviewed by Dean Jackson.

        Unskip imported/w3c/web-platform-tests/css/css-backgrounds/animations/border-image-width-interpolation.html
        as well as imported/w3c/web-platform-tests/css/css-backgrounds/animations/border-image-outset-composition.html
        and imported/w3c/web-platform-tests/css/css-backgrounds/animations/border-image-width-composition.html.

        * TestExpectations:

2021-03-30  Andres Gonzalez  <andresg_22@apple.com>

        Fix for accessibility/textarea-insertion-point-line-number.html.
        https://bugs.webkit.org/show_bug.cgi?id=223936
        <rdar://problem/76007361>

        Reviewed by Chris Fleizach.

        Updated this test and corrected several issues where the expected
        returned values were incorrect.

        * accessibility/textarea-insertion-point-line-number-expected.txt:
        * accessibility/textarea-insertion-point-line-number.html:

2021-03-30  Aditya Keerthi  <akeerthi@apple.com>

        [iOS] Two taps required to view <select> options on Square Checkout
        https://bugs.webkit.org/show_bug.cgi?id=223933
        <rdar://problem/74828029>

        Reviewed by Wenson Hsieh.

        Added a layout test to exercise the new codepath when a <select>
        has a single <optgroup> containing all of the <option>s.

        * fast/forms/ios/form-control-refresh/select/all-options-in-single-optgroup-expected.txt: Added.
        * fast/forms/ios/form-control-refresh/select/all-options-in-single-optgroup.html: Added.

2021-03-30  Antti Koivisto  <antti@apple.com>

        [LFC][Integration] Elements that overflow inline-blocks are not hit tested correctly
        https://bugs.webkit.org/show_bug.cgi?id=223932
        rdar://75888718

        Reviewed by Zalan Bujtas.

        * fast/inline-block/hit-test-negative-margin-child-expected.txt: Added.
        * fast/inline-block/hit-test-negative-margin-child.html: Added.

2021-03-30  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] Convert http/tests/contentextensions convert PHP to Python
        https://bugs.webkit.org/show_bug.cgi?id=223835
        <rdar://problem/75912102>

        Reviewed by Jonathan Bedard.

        * http/tests/contentextensions/block-cookies-in-csp-report-expected.txt:
        * http/tests/contentextensions/block-cookies-in-csp-report.php: Removed.
        * http/tests/contentextensions/block-cookies-in-csp-report.php.json: Removed.
        * http/tests/contentextensions/block-cookies-in-csp-report.py: Added.
        * http/tests/contentextensions/block-cookies-in-csp-report.py.json: Added.
        * http/tests/contentextensions/block-cookies-in-image-load-in-onunload-expected.txt:
        * http/tests/contentextensions/block-cookies-in-image-load-in-onunload.html:
        * http/tests/contentextensions/block-cookies-in-image-load-in-onunload.html.json:
        * http/tests/contentextensions/block-cookies-in-ping-expected.txt:
        * http/tests/contentextensions/block-cookies-in-ping.html:
        * http/tests/contentextensions/block-cookies-in-ping.html.json:
        * http/tests/contentextensions/block-csp-report-expected.txt:
        * http/tests/contentextensions/block-csp-report.php: Removed.
        * http/tests/contentextensions/block-csp-report.php.json: Removed.
        * http/tests/contentextensions/block-csp-report.py: Added.
        * http/tests/contentextensions/block-csp-report.py.json: Added.
        * http/tests/contentextensions/block-everything-unless-domain-redirect.php: Removed.
        * http/tests/contentextensions/block-everything-unless-domain-redirect.php.json: Removed.
        * http/tests/contentextensions/block-everything-unless-domain-redirect.py: Added.
        * http/tests/contentextensions/block-everything-unless-domain-redirect.py.json: Added.
        * http/tests/contentextensions/block-image-load-in-onunload-expected.txt:
        * http/tests/contentextensions/block-image-load-in-onunload.html:
        * http/tests/contentextensions/block-image-load-in-onunload.html.json:
        * http/tests/contentextensions/block-ping-expected.txt:
        * http/tests/contentextensions/block-ping-resource-type-ping-expected.txt:
        * http/tests/contentextensions/block-ping-resource-type-ping.html:
        * http/tests/contentextensions/block-ping-resource-type-ping.html.json:
        * http/tests/contentextensions/block-ping-resource-type-raw-expected.txt:
        * http/tests/contentextensions/block-ping-resource-type-raw.html:
        * http/tests/contentextensions/block-ping-resource-type-raw.html.json:
        * http/tests/contentextensions/block-ping.html:
        * http/tests/contentextensions/block-ping.html.json:
        * http/tests/contentextensions/fetch-redirect-blocked.html:
        * http/tests/contentextensions/hide-on-csp-report-expected.txt:
        * http/tests/contentextensions/hide-on-csp-report.php: Removed.
        * http/tests/contentextensions/hide-on-csp-report.php.json: Removed.
        * http/tests/contentextensions/hide-on-csp-report.py: Added.
        * http/tests/contentextensions/hide-on-csp-report.py.json: Added.
        * http/tests/contentextensions/hide-on-ping-expected.txt:
        * http/tests/contentextensions/hide-on-ping-with-ping-that-redirects-expected.txt:
        * http/tests/contentextensions/hide-on-ping-with-ping-that-redirects.html:
        * http/tests/contentextensions/hide-on-ping-with-ping-that-redirects.html.json:
        * http/tests/contentextensions/hide-on-ping.html:
        * http/tests/contentextensions/hide-on-ping.html.json:
        * http/tests/contentextensions/main-resource-redirect-blocked.php: Removed.
        * http/tests/contentextensions/main-resource-redirect-blocked.php.json: Removed.
        * http/tests/contentextensions/main-resource-redirect-blocked.py: Added.
        * http/tests/contentextensions/main-resource-redirect-blocked.py.json: Added.
        * http/tests/contentextensions/reload-without-contentextensions.html:
        * http/tests/contentextensions/resources/delete-ping.php: Removed.
        * http/tests/contentextensions/resources/delete-ping.py: Added.
        * http/tests/contentextensions/resources/get-ping-data.php: Removed.
        * http/tests/contentextensions/resources/get-ping-data.py: Added.
        * http/tests/contentextensions/resources/ping-file-path.php: Removed.
        * http/tests/contentextensions/resources/ping_file_path.py: Added.
        * http/tests/contentextensions/resources/redirect.php: Removed.
        * http/tests/contentextensions/resources/redirect.py: Added.
        * http/tests/contentextensions/resources/save-ping-and-redirect-to-save-ping.php: Removed.
        * http/tests/contentextensions/resources/save-ping-and-redirect-to-save-ping.py: Added.
        * http/tests/contentextensions/resources/save-ping.php: Removed.
        * http/tests/contentextensions/resources/save-ping.py: Added.
        * http/tests/contentextensions/resources/save_ping.py: Added.
        (not_being_called):
        (save_ping):
        * http/tests/contentextensions/resources/subresource-redirect.php: Removed.
        * http/tests/contentextensions/resources/subresource-redirect.py: Added.
        * http/tests/contentextensions/subresource-redirect-blocked.html:
        * http/tests/privateClickMeasurement/resources/redirectToConversionOnIPAddress.py:
        * http/tests/resourceLoadStatistics/ping-to-prevalent-resource-expected.txt:
        * http/tests/resourceLoadStatistics/ping-to-prevalent-resource.html:

2021-03-30  Kimmo Kinnunen  <kkinnunen@apple.com>

        Add webgl/pending/conformance/context/context-attributes-alpha-depth-stencil-antialias.html for test update
        https://bugs.webkit.org/show_bug.cgi?id=223735

        Reviewed by Dean Jackson.

        Add few tests in preparation to fix bugs related to the tested functionality and to add tests
        testing the fixes.

        * webgl/pending/README.md: Added.
        * webgl/pending/conformance/context/context-attributes-alpha-depth-stencil-antialias-expected.txt: Added.
        * webgl/pending/conformance/context/context-attributes-alpha-depth-stencil-antialias.html: Added.
        * webgl/pending/resources/js-test-pre.js: Added.
        * webgl/pending/resources/webgl_test_files/conformance/context/context-attributes-alpha-depth-stencil-antialias.html: Added.
        * webgl/pending/resources/webgl_test_files/js/js-test-post.js: Added.
        * webgl/pending/resources/webgl_test_files/js/js-test-pre.js: Added.
        * webgl/pending/resources/webgl_test_files/js/webgl-test-utils.js: Added.
        * webgl/pending/resources/webgl_test_files/resources/js-test-style.css: Added.
        * webgl/pending/resources/webkit-webgl-test-harness.js: Added.

2021-03-30  Lauro Moura  <lmoura@igalia.com>

        [GTK][WPE] Timeouts on WPT css/css-images ref-tests after updating WPT import
        https://bugs.webkit.org/show_bug.cgi?id=214472

        Reviewed by Žan Doberšek.

        * platform/glib/TestExpectations: Change expectations back to passes

2021-03-30  Kimmo Kinnunen  <kkinnunen@apple.com>

        Update WebGL conformance test suite 2021-03-24
        https://bugs.webkit.org/show_bug.cgi?id=223736

        Reviewed by Dean Jackson.

        To commit 44ac38b3b23be26fa8812334ec3e9bf67ecb5a9f  Fix whitespace by rerunning IDL extraction scripts. (#3265)
        As per it looks like there's been a significant recent regression in the video-related conformance tests
        in the test suite.

        * webgl/2.0.y/conformance2/textures/misc/immutable-tex-render-feedback-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/immutable-tex-render-feedback.html: Added.
        * webgl/resources/webgl_test_files/conformance/extensions/webgl-webcodecs-video-frame.html:
        * webgl/resources/webgl_test_files/conformance/textures/misc/video-rotation.html:
        * webgl/resources/webgl_test_files/conformance2/extensions/oes-draw-buffers-indexed.html:
        * webgl/resources/webgl_test_files/conformance2/textures/misc/immutable-tex-render-feedback.html: Added.
        * webgl/resources/webgl_test_files/js/webgl-test-utils.js:
        (destroyContext):
        * webgl/resources/webgl_test_files/resources/video-rotation-0.vp9.mp4: Added.
        * webgl/resources/webgl_test_files/resources/video-rotation-180.vp9.mp4: Added.
        * webgl/resources/webgl_test_files/resources/video-rotation-270.vp9.mp4: Added.
        * webgl/resources/webgl_test_files/resources/video-rotation-90.vp9.mp4: Added.

2021-03-29  Amir Mark Jr  <amir_mark@apple.com>

        [MacOS Debug] http/tests/security/contentSecurityPolicy/frame-src-cross-origin-load.html is a flakey failure
        https://bugs.webkit.org/show_bug.cgi?id=222748

        Unreviewed test gardening.

        * platform/mac/TestExpectations:

2021-03-29  Chris Dumez  <cdumez@apple.com>

        REGRESSION(r274992): Nullptr crash in FontCache::retrieveOrAddCachedFonts
        https://bugs.webkit.org/show_bug.cgi?id=223858
        <rdar://75883697>

        Reviewed by Darin Adler and Ryosuke Niwa.

        Add layout test coverage.

        * fonts/font-cache-crash-expected.txt: Added.
        * fonts/font-cache-crash.html: Added.

2021-03-29  Devin Rousso  <drousso@apple.com>

        Propagate user gestures through `requestAnimationFrame` just like `setTimeout`
        https://bugs.webkit.org/show_bug.cgi?id=223775
        <rdar://problem/75860868>

        Reviewed by Geoffrey Garen.

        * editing/pasteboard/dom-paste/dom-paste-requires-user-gesture.html:
        * fast/animation/request-animation-frame-propagate-user-gesture.html: Added.
        * fast/animation/request-animation-frame-propagate-user-gesture-expected.txt: Added.

2021-03-29  Robert Jenner  <jenner@apple.com>

        [ BigSur Debug wk2 ] compositing/video/video-update-rendering.html is a flakey text failure
        https://bugs.webkit.org/show_bug.cgi?id=223900

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations: Updated expectations to Pass Failure while test is reviewed.

2021-03-29  Eric Carlson  <eric.carlson@apple.com>

        [macOS] Playback is paused after scrubbing with the touch bar
        https://bugs.webkit.org/show_bug.cgi?id=223887
        rdar://75597684

        Reviewed by Jer Noble.

        * media/remote-control-command-scrubbing-expected.txt: Added.
        * media/remote-control-command-scrubbing.html: Added.

2021-03-29  Robert Jenner  <jenner@apple.com>

        [ macOS wk2 ] media/pip-video-going-into-fullscreen.html is a flakey timeout
        https://bugs.webkit.org/show_bug.cgi?id=223762

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations: Updating test expectations to Pass timeout while test is being reviewed.

2021-03-29  Frédéric Wang  <fwang@igalia.com>

        Release assert in Vector::at in RenderLayoutState::establishLineGrid
        https://bugs.webkit.org/show_bug.cgi?id=223362

        Reviewed by Zalan Bujtas.

        Add regression test.

        * fast/line-grid/establish-line-grid-crash-expected.txt: Added.
        * fast/line-grid/establish-line-grid-crash.html: Added.

2021-03-28  Antoine Quint  <graouts@webkit.org>

        Add support for animating the vertical-align CSS property
        https://bugs.webkit.org/show_bug.cgi?id=223853

        Reviewed by Antti Koivisto.

        * TestExpectations: Unskip tests related to vertical-align interpolation since they are
        no longer crashing.

2021-03-28  Diego Pino Garcia  <dpino@igalia.com>

        [GTK] Unreviewed test gardening. Add several A11y test failures to TestExpectations.

        * platform/gtk/TestExpectations:

2021-03-28  Lauro Moura  <lmoura@igalia.com>

        [GLIB] Garden fast/canvas/webgl/out-of-bounds-simulated-vertexAttrib0-drawArrays.html as slow

        Unreviewed test gardening.

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:
        * platform/wpe/TestExpectations:

2021-03-28  Diego Pino Garcia  <dpino@igalia.com>

        [GLIB] Unreviewed test gardening. Emit baseline for imported/w3c/web-platform-tests/css/css-color/system-color-compute.html

        r271968 added a specific result for iOS to account for different system colors.
        GLIB fails on the same test as iOS, so emiting a specific baseline is justified.

        * platform/glib/imported/w3c/web-platform-tests/css/css-color/system-color-compute-expected.txt: Added.

2021-03-28  Youenn Fablet  <youenn@apple.com>

        Use-after-move in UserMediaPermissionRequestManagerProxy::checkUserMediaPermissionForSpeechRecognition
        https://bugs.webkit.org/show_bug.cgi?id=223842
        <rdar://problem/75791668>

        Reviewed by Eric Carlson.

        * fast/speechrecognition/start-recognition-after-denied-gum-expected.txt: Added.
        * fast/speechrecognition/start-recognition-after-denied-gum.html: Added.
        * fast/speechrecognition/start-recognition-after-gum-expected.txt: Added.
        * fast/speechrecognition/start-recognition-after-gum.html: Added.
        * platform/mac-wk1/TestExpectations:
        * platform/win/TestExpectations:

2021-03-27  Kate Cheney  <katherine_cheney@apple.com>

        PCM: Send report to both click source and attribution destination website
        https://bugs.webkit.org/show_bug.cgi?id=223615
        <rdar://problem/75849443>

        Reviewed by Brent Fulgham.

        Layout test coverage.

        * http/tests/privateClickMeasurement/resources/conversionFilePath.py:
        * http/tests/privateClickMeasurement/resources/conversionReport.py:
        * http/tests/privateClickMeasurement/resources/fraudPreventionTestURL.py:
        * http/tests/privateClickMeasurement/resources/getConversionData.py:
        * http/tests/privateClickMeasurement/send-attribution-conversion-request-expected.txt:
        * http/tests/privateClickMeasurement/send-attribution-conversion-request.html:

2021-03-27  Zalan Bujtas  <zalan@apple.com>

        [Multicolumn] Do not try to re-validate a multicol spanner when the renderer is moved internally
        https://bugs.webkit.org/show_bug.cgi?id=223836
        <rdar://75742694>

        Reviewed by Ryosuke Niwa.

        * TestExpectations:
        * fast/multicol/spanner-get-re-added-on-move-crash-expected.txt: Added.
        * fast/multicol/spanner-get-re-added-on-move-crash.html: Added.

2021-03-26  Robert Jenner  <jenner@apple.com>

        [ macOS ] inspector/debugger/csp-exceptions.html is a flakey text failure
        https://bugs.webkit.org/show_bug.cgi?id=223830

        Unreviewed test gardening.

        * platform/mac/TestExpectations: Updated test expectations to Pass Failure Timeout while test is being reviewed. I added Timeout to the expectation because while the failure is a text failure, the text failure indicates that it's a timeout.

2021-03-26  Wenson Hsieh  <wenson_hsieh@apple.com>

        Use PUICQuickboardController for text input when HAVE(QUICKBOARD_CONTROLLER) is defined
        https://bugs.webkit.org/show_bug.cgi?id=223809
        <rdar://problem/56730407>

        Reviewed by Tim Horton.

        Remove some extraneous instancees of `QuickboardControllerForTextInputEnabled=true` from watch-specific layout
        tests, now that the feature is enabled by default.

        * fast/forms/watchos/delete-content-in-text-field.html:
        * fast/forms/watchos/edit-text-field-calls-injected-bundle.html:
        * fast/forms/watchos/enter-text-with-spellcheck-disabled-expected.txt: Added.
        * fast/forms/watchos/enter-text-with-spellcheck-disabled.html: Added.

        Add a new test to exercise the missing selector checks in `-[WKContentView _updateTextInputTraits:]`.

        * fast/forms/watchos/form-control-label-text.html:
        * fast/forms/watchos/time-picker-value-change.html:
        * fast/forms/watchos/username-text-content-type.html:

2021-03-26  Wenson Hsieh  <wenson_hsieh@apple.com>

        Allow some image overlay content to render in fully transparent image elements
        https://bugs.webkit.org/show_bug.cgi?id=223781
        <rdar://problem/75886351>

        Reviewed by Tim Horton.

        Adjust an existing layout test so that it actually checks what it was intended to check; add a new layout test
        to cover the changes in this bug.

        * fast/images/image-extraction/mac/select-word-in-draggable-image-overlay.html:

        Drive-by fix: remove some extraneous imported scripts from this layout test, and additionally simplify the test
        so that it doesn't rely on event sender to select text.

        * fast/images/image-extraction/mac/select-word-in-transparent-image-overlay-expected-mismatch.html: Added.
        * fast/images/image-extraction/mac/select-word-in-transparent-image-overlay.html: Added.

        Add a new layout test with a fully transparent image element that covers a div of the same size, with a
        background image that is identical to the image element's image. This emulates the behavior of certain websites
        that prompted this fallback image overlay rendering codepath in the first place.

2021-03-26  Imanol Fernandez  <ifernandez@igalia.com>

        Implement cachedPropertyValue for WebXR [SameObject] attributes
        https://bugs.webkit.org/show_bug.cgi?id=223635

        Reviewed by Chris Dumez.

        Update WebXR [SameObject] related test expectations.

        * platform/wpe/TestExpectations:

2021-03-26  Xabier Rodriguez Calvar  <calvaris@igalia.com>

        Unreviewed.

        * platform/glib/TestExpectations: Unflag
        media/encrypted-media/clearKey/clearKey-webm-video-playback-mse.html
        and
        media/encrypted-media/clearKey/clearKey-session-life-cycle.html

2021-03-26  Xabier Rodriguez Calvar  <calvaris@igalia.com>

        Unreviewed.

        * platform/gtk/TestExpectations: Unflag
        http/tests/security/mixedContent/insecure-audio-video-in-main-frame.html.

2021-03-26  Xabier Rodriguez Calvar  <calvaris@igalia.com>

        Unreviewed.

        * platform/gtk/TestExpectations: Unflagging
        media/track/track-remove-active-cue-crash.html.

2021-03-26  Xabier Rodriguez Calvar  <calvaris@igalia.com>

        Unreviewed.

        * platform/gtk/TestExpectations: Unflag
        http/tests/security/contentSecurityPolicy/upgrade-insecure-requests/upgrade-insecure-audio-video-in-main-frame.html

2021-03-26  Xabier Rodriguez Calvar  <calvaris@igalia.com>

        Unreviewed.

        * platform/gtk/TestExpectations: Unflagging
        mediasource-endofstream-invaliderror.html.

2021-03-26  Dean Jackson  <dino@apple.com>

        Enable Metal ANGLE backend for WebGL
        https://bugs.webkit.org/show_bug.cgi?id=220076
        <rdar://problem/72565020>

        Reviewed by Sam Weinig.

        Updated results for WebGL 2 content with the Metal ANGLE
        backend. See https://bugs.webkit.org/show_bug.cgi?id=222239

        * platform/mac/TestExpectations:
        * platform/ios-simulator-wk2/TestExpectations:
        * platform/ios-simulator/TestExpectations:
        * platform/ios-wk2/TestExpectations:
        * platform/ios/TestExpectations:
        * platform/mac/TestExpectations:
        * platform/wk2/TestExpectations:

2021-03-26  Rob Buis  <rbuis@igalia.com>

        Remove ASSERT in RenderListItem::computeMarkerStyle
        https://bugs.webkit.org/show_bug.cgi?id=222670

        Reviewed by Ryosuke Niwa.

        * fast/lists/list-item-compute-marker-style-crash-expected.txt: Added.
        * fast/lists/list-item-compute-marker-style-crash.xhtml: Added.

2021-03-25  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo-wk1/TestExpectations:
        * platform/wincairo/TestExpectations:

2021-03-25  Wenson Hsieh  <wenson_hsieh@apple.com>

        Don't add `-webkit-user-select: none;` on image elements with `draggable=true`
        https://bugs.webkit.org/show_bug.cgi?id=223774
        <rdar://problem/75860124>

        Reviewed by Tim Horton.

        * fast/images/image-extraction/mac/select-word-in-draggable-image-overlay-expected-mismatch.html: Added.
        * fast/images/image-extraction/mac/select-word-in-draggable-image-overlay.html: Added.

2021-03-25  Kyle Piddington  <kpiddington@apple.com>

        [Metal ANGLE] fast/canvas/webgl/out-of-bounds-simulated-vertexAttrib0-drawArrays.html causes GPURestarts on some machines
        https://bugs.webkit.org/show_bug.cgi?id=223767

        Reviewed by Darin Adler.

        Avoid GPURestarts on Intel machines by reducing test workload. The
        core of this test, using default generic attributes, is still in
        place.

        * fast/canvas/webgl/out-of-bounds-simulated-vertexAttrib0-drawArrays.html:

2021-03-25  Robert Jenner  <jenner@apple.com>

        [ BigSur Debug ] http/tests/security/webaudio-render-remote-audio-blocked-no-crossorigin-redirect.html is a flakey timeout
        https://bugs.webkit.org/show_bug.cgi?id=223759

        Unreviewed test gardening.

        * platform/mac/TestExpectations: Updated test expectations to Pass Timeout while test is reviewed.

2021-03-25  Robert Jenner  <jenner@apple.com>

        [ macOS ] media/modern-media-controls/macos-fullscreen-media-controls/macos-fullscreen-media-controls-drag.html is a flakey timeout
        https://bugs.webkit.org/show_bug.cgi?id=223761

        Unreviewed test gardening.

        * platform/mac/TestExpectations: Updated test expectations to Pass Timeout while test is reviewed.

2021-03-25  Zalan Bujtas  <zalan@apple.com>

        [RenederTreeBuilder] Do not try to normalize the tree while destroying the multicolumn flow
        https://bugs.webkit.org/show_bug.cgi?id=223722
        <rdar://75731256>

        Reviewed by Simon Fraser.

        * fast/multicol/crash-while-destroying-the-column-context-expected.txt: Added.
        * fast/multicol/crash-while-destroying-the-column-context.html: Added.

2021-03-25  Andres Gonzalez  <andresg_22@apple.com>

        AX: Consider implementing @aria-details.
        https://bugs.webkit.org/show_bug.cgi?id=165842
        rdar://30725491

        Reviewed by Chris Fleizach.

        * accessibility/ios-simulator/aria-details-expected.txt: Added.
        * accessibility/ios-simulator/aria-details.html: Added.
        * accessibility/mac/aria-details-expected.txt: Added.
        * accessibility/mac/aria-details.html: Added.
        * platform/mac-wk1/TestExpectations:

2021-03-25  Cameron McCormack  <heycam@apple.com>

        Collapse newly adjacent anonymous table cells when a table cell is detached from between them.
        https://bugs.webkit.org/show_bug.cgi?id=220934

        Reviewed by Zalan Bujtas.

        * fast/table/table-anonymous-cell-collapse-expected.html: Added.
        * fast/table/table-anonymous-cell-collapse.html: Added.

2021-03-25  Tim Nguyen  <ntim@apple.com>

        Enable normalization-conic-2.html WPT now that underlying bug is fixed.
        Also skip some conic-gradient tests only on Windows instead of all platforms.
        https://bugs.webkit.org/show_bug.cgi?id=221294
        <rdar://problem/74157218>

        Reviewed by Darin Adler.

        * TestExpectations: enabled imported/w3c/web-platform-tests/css/css-images/normalization-conic-2.html.

2021-03-25  Robert Jenner  <jenner@apple.com>

        [ Debug wk2 ] ASSERTION FAILED: willBeComposited == needsToBeComposited(layer, queryData)
        https://bugs.webkit.org/show_bug.cgi?id=223750

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations: Added test expectation to Pass Crash while test is reviewed.
        * platform/mac-wk2/TestExpectations: Updated test expectation to Pass Crash while test is reviewed.

2021-03-25  John Wilander  <wilander@apple.com>

        PCM: Rename attributeOn to attributionDestination and change the IDL data type of attributionSourceId to unsigned long
        https://bugs.webkit.org/show_bug.cgi?id=223661
        <rdar://problem/75762075>

        Reviewed by Brent Fulgham.

        The PR review of the update of the PCM spec lead WebKit, Mozilla, and Google to decide on two changes:
        1. Rename attributeOn to attributionDestination
        2. Change the IDL data type of attributionSourceId from DOMString to unsigned long

        The spec change can be seen in this commit:
        https://github.com/privacycg/private-click-measurement/pull/75/commits/8623b5df5e899e6652bc5b00313585f7eeafa797

        Test cases were updated accordingly.

        * http/tests/contentextensions/block-private-click-measurement.html:
        * http/tests/privateClickMeasurement/anchor-tag-attributes-reflect-expected.txt:
        * http/tests/privateClickMeasurement/anchor-tag-attributes-reflect.html:
        * http/tests/privateClickMeasurement/anchor-tag-attributes-validation-expected.txt:
        * http/tests/privateClickMeasurement/anchor-tag-attributes-validation.html:
            Since attributionSourceId is now an unsigned long, tests that checked invalid
            string values are no longer relevant. It should be noted that a set
            attributionSourceId with an invalid value becomes 0 which is a valid value.
        * http/tests/privateClickMeasurement/attribution-conversion-through-cross-site-image-redirect.html:
        * http/tests/privateClickMeasurement/attribution-conversion-through-fetch-keepalive.html:
        * http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-in-new-window.html:
        * http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-with-priority.html:
        * http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-without-priority.html:
        * http/tests/privateClickMeasurement/clear-through-website-data-removal.html:
        * http/tests/privateClickMeasurement/conversion-disabled-in-ephemeral-session.html:
        * http/tests/privateClickMeasurement/expired-ad-click-gets-removed-on-session-start.html:
        * http/tests/privateClickMeasurement/expired-attribution-report-gets-sent-on-session-start.html:
        * http/tests/privateClickMeasurement/expired-attributions-removed.html:
        * http/tests/privateClickMeasurement/second-attribution-converted-with-higher-priority.html:
        * http/tests/privateClickMeasurement/second-attribution-converted-with-lower-priority.html:
        * http/tests/privateClickMeasurement/second-conversion-with-higher-priority.html:
        * http/tests/privateClickMeasurement/second-conversion-with-lower-priority.html:
        * http/tests/privateClickMeasurement/send-attribution-conversion-request.html:
        * http/tests/privateClickMeasurement/store-disabled-in-ephemeral-session.html:
        * http/tests/privateClickMeasurement/store-private-click-measurement-with-source-nonce.html:
        * http/tests/privateClickMeasurement/store-private-click-measurement.html:

2021-03-25  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r274826 and r274968.
        https://bugs.webkit.org/show_bug.cgi?id=223746

        Added broken layout test

        Reverted changesets:

        "AX: textRectsFromMarkers always fails"
        https://bugs.webkit.org/show_bug.cgi?id=223556
        https://trac.webkit.org/changeset/274826

        "AX: Add functions rectsForTextMarkerRange for testing"
        https://bugs.webkit.org/show_bug.cgi?id=223705
        https://trac.webkit.org/changeset/274968

2021-03-24  Lauro Moura  <lmoura@igalia.com>

        [GTK] Re-skip modern-media-controls tests after r274810

        Unreviewed test gardening.

        * platform/gtk/TestExpectations: Skipping them again until proper
        support is added.

2021-03-24  Lauro Moura  <lmoura@igalia.com>

        [GLIB] Gardening already closed bug and a WPE flaky

        Unreviewed test gardening.

        * platform/glib/TestExpectations:
        * platform/wpe/TestExpectations:

2021-03-24  Robert Jenner  <jenner@apple.com>

        [ Debug ] http/tests/security/webaudio-render-remote-audio-allowed-crossorigin.html and one other test are flakey timeouts
        https://bugs.webkit.org/show_bug.cgi?id=223724

        Unreviewed test gardening.

        * platform/ios-simulator/TestExpectations: Updated test expectations to Pass Timeout while test is reviewed. 
        * platform/mac/TestExpectations: Updated test expectations to Pass Timeout while test is reviewed.

2021-03-24  Yusuke Suzuki  <ysuzuki@apple.com>

        All string resources from UserAgentStyleSheets / UserAgentScripts should be used as non-copying StringImpl
        https://bugs.webkit.org/show_bug.cgi?id=223685

        Reviewed by Saam Barati.

        * fast/dom/HTMLMeterElement/meter-element-markup-expected.txt:

2021-03-24  Robert Jenner  <jenner@apple.com>

        [ macOS Wk2 ]inspector/indexeddb/clearObjectStore.html is a flakey timeout
        https://bugs.webkit.org/show_bug.cgi?id=222140

        Unreviewed test gardening.

        * platform/mac-wk2/TestExpectations: Updating test expectations to include Pass Failure Timeout.

2021-03-24  Lauro Moura  <lmoura@igalia.com>

        REGRESSION(r274919) [ATK] accessibility/set-selected-text-range-contenteditable.html is timing out
        https://bugs.webkit.org/show_bug.cgi?id=223710

        Reviewed by Adrian Perez de Castro.

        r274919 clamped the values passed to the accessibility elements,
        making the {-1,0} text range to be collapsed to {0,0} as text ranges
        are composed of unsigned ints.

        This commit updates the test to remove the ATK-specific case of
        passing -1 to point to the final offset of a text range.

        * accessibility/set-selected-text-range-contenteditable.html: Remove
        ATK-specific quirk.
        * platform/glib/accessibility/set-selected-text-range-contenteditable-expected.txt: Removed.

2021-03-24  Eric Carlson  <eric.carlson@apple.com>

        [Cocoa] Add Experimental MediaSession coordinator
        https://bugs.webkit.org/show_bug.cgi?id=222158
        <rdar://problem/74508862>

        Reviewed by Jer Noble.

        * platform/TestExpectations:
        * media/media-session/mock-coordinator-expected.txt: Added.
        * media/media-session/mock-coordinator.html: Added.

2021-03-24  Philippe Normand  <pnormand@igalia.com>

        REGRESSION(r274870) fast/canvas/webgl/texImage2D-mse-flipY-true.html and fast/canvas/webgl/texImage2D-mse-flipY-false.html are crashing
        https://bugs.webkit.org/show_bug.cgi?id=223674

        Reviewed by Kenneth Russell.

        * platform/glib/TestExpectations:

2021-03-24  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] Convert http/tests/resourceLoadStatistics convert PHP to Python
        https://bugs.webkit.org/show_bug.cgi?id=223541
        <rdar://problem/75639142>

        Reviewed by Jonathan Bedard.

        * http/tests/resourceLoadStatistics/add-blocking-to-redirect.html:
        * http/tests/resourceLoadStatistics/blocking-in-web-worker-script-import.html:
        * http/tests/resourceLoadStatistics/cap-cache-max-age-for-prevalent-resource-expected.txt:
        * http/tests/resourceLoadStatistics/cap-cache-max-age-for-prevalent-resource.html:
        * http/tests/resourceLoadStatistics/classify-as-prevalent-based-on-subresource-redirect-collusion.html:
        * http/tests/resourceLoadStatistics/classify-as-prevalent-based-on-top-frame-redirect-collusion.html:
        * http/tests/resourceLoadStatistics/cname-cloaking-top-cname-sub-1p-cname.html:
        * http/tests/resourceLoadStatistics/cname-cloaking-top-cname-sub-3p-cname.html:
        * http/tests/resourceLoadStatistics/cname-cloaking-top-cname-sub-matching-cname.html:
        * http/tests/resourceLoadStatistics/cname-cloaking-top-cname-sub-no-cname.html:
        * http/tests/resourceLoadStatistics/cname-cloaking-top-no-cname-sub-1p-cname.html:
        * http/tests/resourceLoadStatistics/cname-cloaking-top-no-cname-sub-3p-cname.html:
        * http/tests/resourceLoadStatistics/cname-cloaking-top-no-cname-sub-no-cname.html:
        * http/tests/resourceLoadStatistics/cookie-deletion.html:
        * http/tests/resourceLoadStatistics/cookies-with-and-without-user-interaction.html:
        * http/tests/resourceLoadStatistics/do-not-block-top-level-navigation-redirect.html:
        * http/tests/resourceLoadStatistics/do-not-remove-blocking-in-redirect.html:
        * http/tests/resourceLoadStatistics/do-not-switch-session-on-navigation-to-prevalent-without-interaction.php: Removed.
        * http/tests/resourceLoadStatistics/do-not-switch-session-on-navigation-to-prevalent-without-interaction.py: Added.
        * http/tests/resourceLoadStatistics/exemptDomains/app-bound-domains-exempt-from-cookie-blocking-between-each-other.html:
        * http/tests/resourceLoadStatistics/grandfathering.html:
        * http/tests/resourceLoadStatistics/no-third-party-cookie-blocking-when-itp-is-off.html:
        * http/tests/resourceLoadStatistics/non-prevalent-resources-can-access-cookies-in-a-third-party-context.html:
        * http/tests/resourceLoadStatistics/non-sandboxed-iframe-redirect-ip-to-localhost-to-ip.html:
        * http/tests/resourceLoadStatistics/non-sandboxed-iframe-redirect-localhost-to-ip-to-localhost.html:
        * http/tests/resourceLoadStatistics/ping-to-prevalent-resource.html:
        * http/tests/resourceLoadStatistics/resources/cached-permanent-redirect.php:
        * http/tests/resourceLoadStatistics/resources/echo-query.php: Removed.
        * http/tests/resourceLoadStatistics/resources/echo-query.py: Added.
        * http/tests/resourceLoadStatistics/resources/echo-referrer.php: Removed.
        * http/tests/resourceLoadStatistics/resources/echo-referrer.py: Added.
        * http/tests/resourceLoadStatistics/resources/get-cookies.php: Removed.
        * http/tests/resourceLoadStatistics/resources/get-cookies.py: Added.
        * http/tests/resourceLoadStatistics/resources/page-with-non-sandboxed-iframe-redirect-ip-to-localhost-to-ip.html:
        * http/tests/resourceLoadStatistics/resources/page-with-non-sandboxed-iframe-redirect-localhost-to-ip-to-localhost.html:
        * http/tests/resourceLoadStatistics/resources/page-with-sandboxed-iframe-redirect-ip-to-localhost-to-ip.html:
        * http/tests/resourceLoadStatistics/resources/page-with-sandboxed-iframe-redirect-localhost-to-ip-to-localhost.html:
        * http/tests/resourceLoadStatistics/resources/redirect.php: Removed.
        * http/tests/resourceLoadStatistics/resources/redirect.py: Added.
        * http/tests/resourceLoadStatistics/resources/script-revealing-cookies.php: Removed.
        * http/tests/resourceLoadStatistics/resources/script-revealing-cookies.py: Added.
        * http/tests/resourceLoadStatistics/resources/set-all-kinds-of-cookies.php: Removed.
        * http/tests/resourceLoadStatistics/resources/set-all-kinds-of-cookies.py: Added.
        * http/tests/resourceLoadStatistics/resources/set-cookie-on-redirect.php: Removed.
        * http/tests/resourceLoadStatistics/resources/set-cookie-on-redirect.py: Added.
        * http/tests/resourceLoadStatistics/resources/set-cookie.php: Removed.
        * http/tests/resourceLoadStatistics/resources/set-cookie.py: Added.
        * http/tests/resourceLoadStatistics/resources/worker-importing-localhost-script.js:
        (onmessage):
        * http/tests/resourceLoadStatistics/sandboxed-iframe-redirect-ip-to-localhost-to-ip.html:
        * http/tests/resourceLoadStatistics/sandboxed-iframe-redirect-localhost-to-ip-to-localhost.html:
        * http/tests/resourceLoadStatistics/set-all-cookies-to-same-site-strict.html:
        * http/tests/resourceLoadStatistics/strip-referrer-to-origin-for-third-party-redirects.html:
        * http/tests/resourceLoadStatistics/strip-referrer-to-origin-for-third-party-requests.html:
        * http/tests/resourceLoadStatistics/switch-session-on-navigation-to-prevalent-with-interaction.php: Removed.
        * http/tests/resourceLoadStatistics/switch-session-on-navigation-to-prevalent-with-interaction.py: Added.
        * http/tests/resourceLoadStatistics/third-party-cookie-blocking-ephemeral.html:
        * http/tests/resourceLoadStatistics/third-party-cookie-blocking-on-sites-without-user-interaction.html:
        * http/tests/resourceLoadStatistics/third-party-cookie-blocking.html:
        * http/tests/storageAccess/resources/self-navigating-frame-after-granted-access.html:
        * platform/gtk/TestExpectations:
        * platform/wpe/TestExpectations:

2021-03-24  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] Convert http/tests/performance convert PHP to Python
        https://bugs.webkit.org/show_bug.cgi?id=223599
        <rdar://problem/75707991>

        Reviewed by Jonathan Bedard.

        * http/tests/performance/paint-timing/performance-paint-timing-fcp-after-visually-non-empty-for-num-chars.html:
        * http/tests/performance/paint-timing/performance-paint-timing-fcp-after-visually-non-empty-for-style.html:
        * http/tests/performance/paint-timing/resources/slowscript.php: Removed.
        * http/tests/performance/paint-timing/resources/slowscript.py: Added.
        * http/tests/performance/paint-timing/resources/slowstyle.php: Removed.
        * http/tests/performance/paint-timing/resources/slowstyle.py: Added.

2021-03-24  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] Convert http/tests/preload convert PHP to Python
        https://bugs.webkit.org/show_bug.cgi?id=223602
        <rdar://problem/75709989>

        Reviewed by Jonathan Bedard.

        * TestExpectations:
        * http/tests/preload/download_resources_from_header_iframe.html:
        * http/tests/preload/link-header-on-subresource-expected.txt:
        * http/tests/preload/link-header-on-subresource.html:
        * http/tests/preload/preload-encoding.php: Removed.
        * http/tests/preload/preload-encoding.py: Added.
        * http/tests/preload/resources/download_resources_from_header.php: Removed.
        * http/tests/preload/resources/download_resources_from_header.py: Added.
        * http/tests/preload/resources/dummy-preloads-subresource.css.php: Removed.
        * http/tests/preload/resources/dummy-preloads-subresource.css.py: Added.
        * http/tests/preload/single_download_preload_headers.php: Removed.
        * http/tests/preload/single_download_preload_headers.py: Added.
        * http/tests/preload/single_download_preload_headers_charset.php: Removed.
        * http/tests/preload/single_download_preload_headers_charset.py: Added.
        * http/tests/preload/viewport/meta-viewport-link-headers.php: Removed.
        * http/tests/preload/viewport/meta-viewport-link-headers.py: Added.
        * platform/ios/TestExpectations:
        * platform/win/TestExpectations:

2021-03-24  Robert Jenner  <jenner@apple.com>

        Remove unused JS and CSS files of media controls
        https://bugs.webkit.org/show_bug.cgi?id=214955

        Unreviewed test gardening.

        * platform/ios-wk2/TestExpectations: Test expectation was removed in a webkit patch, casuing a slowdown on EWS. Re-adding test expectation to Failure.

2021-03-24  Truitt Savell  <tsavell@apple.com>

        Unreviewed, reverting r274927.

        Broke many tests in WebGL

        Reverted changeset:

        "Enable Metal ANGLE backend for WebGL"
        https://bugs.webkit.org/show_bug.cgi?id=220076
        https://commits.webkit.org/r274927

2021-03-24  Sam Weinig  <weinig@apple.com>

        Update CSS Color 5 color-mix() implementation to match the latest draft spec
        https://bugs.webkit.org/show_bug.cgi?id=223665

        Reviewed by Simon Fraser.

        * fast/css/parsing-color-mix-expected.txt:
        * fast/css/parsing-color-mix.html:
        Update test and results for vastly simplified color-mix().

2021-03-24  Chris Lord  <clord@igalia.com>

        [GLIB] imported/w3c/web-platform-tests/html/canvas/offscreen/manual/draw-generic-family/2d.text.draw.generic.family.w.html is flaky failing
        https://bugs.webkit.org/show_bug.cgi?id=223671

        Unreviewed test gardening.

        * platform/glib/TestExpectations:

2021-03-24  Rob Buis  <rbuis@igalia.com>

        [css-grid] Do not allow negative heights
        https://bugs.webkit.org/show_bug.cgi?id=221439

        Reviewed by Javier Fernandez.

        Add test for this.

        * fast/css-grid-layout/zero-height-crash-expected.txt: Added.
        * fast/css-grid-layout/zero-height-crash.html: Added.

2021-03-23  Lauro Moura  <lmoura@igalia.com>

        [GLIB] Gardening some crashes and flakies

        Unreviewed test gardening.

        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:
        * platform/wpe/TestExpectations:

2021-03-23  Fujii Hironori  <Hironori.Fujii@sony.com>

        [WinCairo] Unreviewed test gardening

        * platform/wincairo-wk1/TestExpectations:
        * platform/wincairo/TestExpectations:

2021-03-23  Dean Jackson  <yolo@apple.com>

        Enable Metal ANGLE backend for WebGL
        https://bugs.webkit.org/show_bug.cgi?id=220076
        <rdar://problem/72565020>

        Reviewed by Sam Weinig.

        Updated results for WebGL 2 content with the Metal ANGLE
        backend. See https://bugs.webkit.org/show_bug.cgi?id=222239

        * platform/mac/TestExpectations:
        * platform/ios-simulator-wk2/TestExpectations:
        * platform/ios-simulator/TestExpectations:
        * platform/ios-wk2/TestExpectations:
        * platform/ios/TestExpectations:
        * platform/mac/TestExpectations:
        * platform/wk2/TestExpectations:

2021-03-23  Yusuke Suzuki  <ysuzuki@apple.com>

        [JSC] Functor for WeakGCMap::ensureValue must not invoke GC
        https://bugs.webkit.org/show_bug.cgi?id=223629

        Reviewed by Mark Lam.

        * js/dom/weak-gc-map-ensure-value-should-not-invoke-gc-expected.txt: Added.
        * js/dom/weak-gc-map-ensure-value-should-not-invoke-gc.html: Added.

2021-03-23  Jer Noble  <jer.noble@apple.com>

        [GPUP] 2 web audio WPT tests fail when media in GPU Process is enabled
        https://bugs.webkit.org/show_bug.cgi?id=221696
        <rdar://problem/74440772>

        Reviewed by Eric Carlson.

        * platform/wk2/TestExpectations:

2021-03-23  Chris Dumez  <cdumez@apple.com>

        dom/WheelEvent.cpp:47:58: runtime error: negation of -2147483648 cannot be represented in type 'int'; cast to an unsigned type to negate this value to itself
        https://bugs.webkit.org/show_bug.cgi?id=223605

        Reviewed by Darin Adler.

        Add layout test coverage.

        * fast/events/wheelevent-delta-overflow-expected.txt: Added.
        * fast/events/wheelevent-delta-overflow.html: Added.

2021-03-23  Youenn Fablet  <youenn@apple.com>

        [GPUP] Test http/wpt/mediarecorder/MediaRecorder-AV-audio-video-dataavailable.html fails when media in GPU process is enabled
        https://bugs.webkit.org/show_bug.cgi?id=221816
        <rdar://problem/74525561>

        Reviewed by Eric Carlson.

        Enable WebRTC codecs in GPUProcess.

        * http/wpt/mediarecorder/MediaRecorder-AV-audio-video-dataavailable.html:

2021-03-23  Philippe Normand  <pnormand@igalia.com>

        [MSE][GStreamer] SIGSEV in webKitMediaSrcFreeStream
        https://bugs.webkit.org/show_bug.cgi?id=220091

        Reviewed by Xabier Rodriguez-Calvar.

        * platform/gtk/TestExpectations: Unflag now-passing tests.

2021-03-23  Lauro Moura  <lmoura@igalia.com>

        [GLIB] Gardening http/tests/images/mp4-partial-load.html flaky crashes after r274358

        Unreviewed test gardening.

        * platform/glib/TestExpectations:

2021-03-23  Per Arne  <pvollan@apple.com>

        [Win] Flaky editing and events tests
        https://bugs.webkit.org/show_bug.cgi?id=223634

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-03-23  Aditya Keerthi  <akeerthi@apple.com>

        [iPadOS] Stale checked item when reopening <select>
        https://bugs.webkit.org/show_bug.cgi?id=223592
        <rdar://problem/75629529>

        Reviewed by Wenson Hsieh.

        Added a test that verifies that tapping on a select element, changing
        its value, and then tapping on the same element, presents a context
        menu with the correct checked item.

        * fast/forms/ios/form-control-refresh/select/no-stale-checked-items-in-select-picker-expected.txt: Added.
        * fast/forms/ios/form-control-refresh/select/no-stale-checked-items-in-select-picker.html: Added.

2021-03-23  Frédéric Wang  <fwang@igalia.com>

        Nullptr deref in WebCore::ApplyStyleCommand::applyRelativeFontStyleChange
        https://bugs.webkit.org/show_bug.cgi?id=223364

        Reviewed by Ryosuke Niwa.

        Add regression test.

        * editing/style/apply-font-style-change-crash-expected.txt: Added.
        * editing/style/apply-font-style-change-crash.html: Added.

2021-03-23  Frédéric Wang  <fwang@igalia.com>

        Nullopt in DOMSelection::getRangeAt
        https://bugs.webkit.org/show_bug.cgi?id=223361

        Reviewed by Ryosuke Niwa.

        Add regression test.

        * editing/selection/modify-by-lineboundary-toward-pseudo-element-expected.txt: Added.
        * editing/selection/modify-by-lineboundary-toward-pseudo-element.html: Added.

2021-03-23  Carlos Garcia Campos  <cgarcia@igalia.com>

        Debug assert failure in RenderTable::layout()
        https://bugs.webkit.org/show_bug.cgi?id=218575

        Reviewed by Ryosuke Niwa.

        Add a test for r274627.

        * printing/page-break-table-sections-crash-expected.txt: Added.
        * printing/page-break-table-sections-crash.html: Added.

2021-03-23  Martin Robinson  <mrobinson@igalia.com>

        No scrolling momentum with 'scroll-snap-type: x mandatory' if the scroller scrolls vertically
        https://bugs.webkit.org/show_bug.cgi?id=213571
        <rdar://problem/64715507>

        Reviewed by Simon Fraser.

        * tiled-drawing/scrolling/scroll-snap/scroll-snap-momentum-in-non-snapping-axis-expected.txt: Added.
        * tiled-drawing/scrolling/scroll-snap/scroll-snap-momentum-in-non-snapping-axis.html: Added.

2021-03-23  Said Abou-Hallawa  <said@apple.com>

        SVG links navigate only to internal animation elements and <view> anchors
        https://bugs.webkit.org/show_bug.cgi?id=223161

        Reviewed by Ryosuke Niwa.

        * svg/hixie/links/003.xml:

2021-03-22  Venky Dass  <yaranamavenkataramana@apple.com>

        Nullptr crash in  WebCore::RenderObject::RenderObjectBitfields::isLineBreak() where a NULL check is missing.
        https://bugs.webkit.org/show_bug.cgi?id=223409

        Reviewed by Ryosuke Niwa.

        Adding a regression test case.
        
        * editing/inserting/insert-paragraph-between-hr-and-br-assigned-to-slot-crash-expected.txt: Added.
        * editing/inserting/insert-paragraph-between-hr-and-br-assigned-to-slot-crash.html: Added.

2021-03-22  Julian Gonzalez  <julian_a_gonzalez@apple.com>

        Crash in ReplaceSelectionCommand::doApply()
        https://bugs.webkit.org/show_bug.cgi?id=223545

        Reviewed by Ryosuke Niwa.

        Add a test to catch this null pointer dereference.
        Thanks to Ryosuke Niwa for significant work in reducing
        this test case.

        * editing/execCommand/insert-image-in-composed-list-expected.txt: Added.
        * editing/execCommand/insert-image-in-composed-list.html: Added.

2021-03-22  Lauro Moura  <lmoura@igalia.com>

        [GLIB] Gardening webgl/conformance/extensions/khr-parallel-shader-compile.html timeout after r274711

        Unreviewed test gardening.

        * platform/glib/TestExpectations:

2021-03-22  Peng Liu  <peng.liu6@apple.com>

        REGRESSION (r272842): security/contentSecurityPolicy/video-with-data-url-allowed-by-media-src-star.html is consistently failing
        https://bugs.webkit.org/show_bug.cgi?id=222840

        Unreviewed test gardening.

        * platform/ios-device/TestExpectations:

2021-03-22  Chris Fleizach  <cfleizach@apple.com>

        AX: textRectsFromMarkers always fails
        https://bugs.webkit.org/show_bug.cgi?id=223556
        <rdar://74256003>

        Reviewed by Zalan Bujtas.

        * accessibility/ios-simulator/text-rects-for-range-matches.html: Added.
        * accessibility/ios-simulator/text-rects-for-range-matches-expected.txt: Added.

2021-03-22  Peng Liu  <peng.liu6@apple.com>

        [ macOS wk2 ] media/media-source/media-source-canplaythrough-event.html is a flakey text failure
        https://bugs.webkit.org/show_bug.cgi?id=223012

        Unreviewed test gardening.

        This flaky test failure has been fixed by r274591 and r274731.

        * platform/mac-wk2/TestExpectations:

2021-03-22  Peng Liu  <peng.liu6@apple.com>

        [GPUP] Add a "wallTime" field to struct RemoteMediaPlayerState
        https://bugs.webkit.org/show_bug.cgi?id=223523

        Reviewed by Eric Carlson.

        * platform/wk2/TestExpectations:

2021-03-22  Amir Mark Jr  <amir_mark@apple.com>

        [MacOS Wk1] imported/w3c/web-platform-tests/css/css-grid/grid-definition/grid-auto-repeat-max-size-001.html is a flakey failure
        https://bugs.webkit.org/show_bug.cgi?id=222686

        Unreviewed test gardening.

        * platform/mac-wk1/TestExpectations:

2021-03-22  Rob Buis  <rbuis@igalia.com>

        Enable ability to prevent scrolling in Element.focus()
        https://bugs.webkit.org/show_bug.cgi?id=178583

        Reviewed by Simon Fraser.

        The test preventScroll-textarea.html now passes on all platforms.

        * platform/ios-wk2/imported/w3c/web-platform-tests/html/interaction/focus/processing-model/preventScroll-textarea-expected.txt: Removed.
        * platform/mac-wk1/imported/w3c/web-platform-tests/html/interaction/focus/processing-model/preventScroll-textarea-expected.txt: Removed.

2021-03-22  Devin Rousso  <drousso@apple.com>

        Remove unused JS and CSS files of media controls
        https://bugs.webkit.org/show_bug.cgi?id=214955
        <rdar://problem/66604040>

        Reviewed by Eric Carlson.

        Remove tests (and their expectations) that used `ModernMediaControlsEnabled=false`.

        * accessibility/ios-simulator/has-touch-event-listener-with-shadow.html:
        * accessibility/ios-simulator/media-with-aria-label.html: Removed.
        * accessibility/ios-simulator/media-with-aria-label-expected.txt: Removed.
        * accessibility/mac/media-emits-object-replacement.html: Removed.
        * accessibility/mac/media-emits-object-replacement-expected.txt: Removed.
        * accessibility/mac/video-tag-hit-test.html: Removed.
        * accessibility/mac/video-tag-hit-test-expected.txt: Removed.
        * accessibility/mac/video-volume-slider-accessibility.html: Removed.
        * accessibility/mac/video-volume-slider-accessibility-expected.txt: Removed.
        * accessibility/media-element.html: Removed.
        * platform/gtk/accessibility/media-element-expected.txt: Removed.
        * platform/mac/accessibility/media-element-expected.txt: Removed.
        * platform/wincairo/accessibility/media-element-expected.txt: Removed.
        * accessibility/media-emits-object-replacement.html: Removed.
        * accessibility/media-emits-object-replacement-expected.txt: Removed.
        * platform/glib/accessibility/media-emits-object-replacement-expected.txt: Removed.
        * accessibility/media-with-aria-label.html: Removed.
        * accessibility/media-with-aria-label-expected.txt: Removed.
        * compositing/video/poster.html:
        * compositing/video/poster-expected.html:
        * fast/hidpi/video-controls-in-hidpi.html: Removed.
        * platform/gtk/fast/hidpi/video-controls-in-hidpi-expected.txt: Removed.
        * platform/ios/fast/hidpi/video-controls-in-hidpi-expected.txt: Removed.
        * platform/mac/fast/hidpi/video-controls-in-hidpi-expected.txt: Removed.
        * platform/win/fast/hidpi/video-controls-in-hidpi-expected.txt: Removed.
        * platform/wincairo/fast/hidpi/video-controls-in-hidpi-expected.txt: Removed.
        * platform/wpe/fast/hidpi/video-controls-in-hidpi-expected.txt: Removed.
        * fast/layers/video-layer.html: Removed.
        * platform/gtk/fast/layers/video-layer-expected.png: Removed.
        * platform/gtk/fast/layers/video-layer-expected.txt: Removed.
        * platform/ios/fast/layers/video-layer-expected.txt: Removed.
        * platform/mac/fast/layers/video-layer-expected.png: Removed.
        * platform/mac/fast/layers/video-layer-expected.txt: Removed.
        * platform/win/fast/layers/video-layer-expected.txt: Removed.
        * platform/wincairo/fast/layers/video-layer-expected.txt: Removed.
        * platform/wpe/fast/layers/video-layer-expected.txt: Removed.
        * fast/mediastream/MediaStream-video-element-video-tracks-disabled.html:
        * fullscreen/video-controls-drag.html: Removed.
        * fullscreen/video-controls-drag-expected.txt: Removed.
        * fullscreen/video-controls-override.html: Removed.
        * fullscreen/video-controls-override-expected.txt: Removed.
        * fullscreen/video-controls-rtl.html: Removed.
        * fullscreen/video-controls-rtl-expected.txt: Removed.
        * fullscreen/video-controls-timeline.html: Removed.
        * fullscreen/video-controls-timeline-expected.txt: Removed.
        * http/tests/media/hls/hls-accessiblity-describes-video-menu.html: Removed.
        * http/tests/media/hls/hls-accessiblity-describes-video-menu-expected.txt: Removed.
        * http/tests/media/hls/hls-audio-tracks-has-audio.html:
        * http/tests/media/hls/hls-audio-tracks-locale-selection.html:
        * http/tests/media/hls/hls-audio-tracks.html:
        * http/tests/media/hls/hls-progress.html:
        * http/tests/media/hls/hls-webvtt-tracks.html:
        * http/tests/media/hls/range-request.html:
        * http/tests/media/hls/video-controls-live-stream.html: Removed.
        * platform/gtk/http/tests/media/hls/video-controls-live-stream-expected.txt: Removed.
        * platform/mac/http/tests/media/hls/video-controls-live-stream-expected.txt: Removed.
        * http/tests/media/hls/video-cookie.html:
        * http/tests/media/hls/video-duration-accessibility.html: Removed.
        * http/tests/media/hls/video-duration-accessibility-expected.txt: Removed.
        * http/tests/security/contentSecurityPolicy/userAgentShadowDOM/default-src-object-data-url-allowed.html:
        * http/tests/security/contentSecurityPolicy/userAgentShadowDOM/default-src-object-data-url-blocked.html:
        * http/tests/security/contentSecurityPolicy/userAgentShadowDOM/default-src-object-data-url-blocked2.html:
        * http/tests/security/contentSecurityPolicy/userAgentShadowDOM/video-controls-allowed.html:
        * inspector/css/pseudo-element-matches.html:
        * inspector/css/pseudo-element-matches-expected.txt:
        * media/accessibility-closed-captions-has-aria-owns.html: Removed.
        * media/accessibility-closed-captions-has-aria-owns-expected.txt: Removed.
        * media/adopt-node-crash.html:
        * media/airplay-allows-buffering.html:
        * media/airplay-autoplay.html:
        * media/audio-as-video-fullscreen.html: Removed.
        * media/audio-as-video-fullscreen-expected.txt: Removed.
        * media/audio-controls-do-not-fade-out.html: Removed.
        * media/audio-controls-do-not-fade-out-expected.txt: Removed.
        * media/audio-controls-rendering.html: Removed.
        * platform/gtk/media/audio-controls-rendering-expected.txt: Removed.
        * platform/ios/media/audio-controls-rendering-expected.txt: Removed.
        * platform/mac/media/audio-controls-rendering-expected.txt: Removed.
        * platform/win/media/audio-controls-rendering-expected.txt: Removed.
        * platform/wincairo/media/audio-controls-rendering-expected.txt: Removed.
        * media/audio-controls-timeline-in-media-document.html: Removed.
        * media/audio-controls-timeline-in-media-document-expected.txt: Removed.
        * media/audio-delete-while-slider-thumb-clicked.html: Removed.
        * media/audio-delete-while-slider-thumb-clicked-expected.txt: Removed.
        * media/audio-delete-while-step-button-clicked.html: Removed.
        * media/audio-delete-while-step-button-clicked-expected.txt: Removed.
        * media/audio-repaint.html: Removed.
        * platform/gtk/media/audio-repaint-expected.txt: Removed.
        * platform/ios/media/audio-repaint-expected.txt: Removed.
        * platform/mac/media/audio-repaint-expected.txt: Removed.
        * platform/wincairo/media/audio-repaint-expected.txt: Removed.
        * media/click-placeholder-not-pausing.html: Removed.
        * media/click-placeholder-not-pausing-expected.txt: Removed.
        * media/click-volume-bar-not-pausing.html: Removed.
        * media/click-volume-bar-not-pausing-expected.txt: Removed.
        * media/controls-after-reload.html: Removed.
        * platform/gtk/media/controls-after-reload-expected.txt: Removed.
        * platform/mac-catalina/media/controls-after-reload-expected.txt: Removed.
        * platform/mac/media/controls-after-reload-expected.txt: Removed.
        * platform/win/media/controls-after-reload-expected.txt: Removed.
        * platform/wincairo/media/controls-after-reload-expected.txt: Removed.
        * media/controls-drag-timebar.html: Removed.
        * media/controls-drag-timebar-expected.txt: Removed.
        * media/controls-right-click-on-timebar.html: Removed.
        * media/controls-right-click-on-timebar-expected.txt: Removed.
        * media/controls-strict.html: Removed.
        * platform/gtk/media/controls-strict-expected.txt: Removed.
        * platform/ios/media/controls-strict-expected.txt: Removed.
        * platform/mac/media/controls-strict-expected.txt: Removed.
        * platform/mac/media/controls-strict-mode-expected.txt: Removed.
        * platform/win/media/controls-strict-expected.txt: Removed.
        * platform/wincairo/media/controls-strict-expected.txt: Removed.
        * media/controls-styling.html: Removed.
        * platform/gtk/media/controls-styling-expected.txt: Removed.
        * platform/mac/media/controls-styling-expected.txt: Removed.
        * platform/win/media/controls-styling-expected.txt: Removed.
        * platform/wincairo/media/controls-styling-expected.txt: Removed.
        * media/controls-styling-strict.html: Removed.
        * platform/gtk/media/controls-styling-strict-expected.txt: Removed.
        * platform/mac/media/controls-styling-strict-expected.txt: Removed.
        * platform/wincairo/media/controls-styling-strict-expected.txt: Removed.
        * media/controls-without-preload.html: Removed.
        * platform/gtk/media/controls-without-preload-expected.txt: Removed.
        * platform/ios/media/controls-without-preload-expected.txt: Removed.
        * platform/mac/media/controls-without-preload-expected.txt: Removed.
        * platform/win/media/controls-without-preload-expected.txt: Removed.
        * platform/wincairo/media/controls-without-preload-expected.txt: Removed.
        * media/controls/airplay-controls.html: Removed.
        * media/controls/airplay-controls-expected.txt: Removed.
        * media/controls/airplay-picker.html: Removed.
        * media/controls/airplay-picker-expected.txt: Removed.
        * media/controls/basic.html: Removed.
        * media/controls/basic-expected.txt: Removed.
        * media/controls/controls-test-helpers.js: Removed.
        * media/controls/default-size-should-show-scrubber.html: Removed.
        * media/controls/default-size-should-show-scrubber-expected.txt: Removed.
        * media/controls/elementOrder.html: Removed.
        * media/controls/elementOrder-expected.txt: Removed.
        * media/controls/forced-tracks-only.html: Removed.
        * media/controls/forced-tracks-only-expected.txt: Removed.
        * media/controls/fullscreen-button-inline-layout.html: Removed.
        * media/controls/fullscreen-button-inline-layout-expected.txt: Removed.
        * media/controls/inline-elements-dropoff-order.html: Removed.
        * media/controls/inline-elements-dropoff-order-expected.txt: Removed.
        * media/controls/picture-in-picture.html: Removed.
        * media/controls/picture-in-picture-expected.txt: Removed.
        * media/controls/pip-placeholder-without-video-controls.html: Removed.
        * media/controls/pip-placeholder-without-video-controls-expected.txt: Removed.
        * media/controls/showControlsButton.html: Removed.
        * media/controls/showControlsButton-expected.txt: Removed.
        * media/controls/statusDisplay.html: Removed.
        * media/controls/statusDisplay-expected.txt: Removed.
        * media/controls/statusDisplayBad.html: Removed.
        * media/controls/statusDisplayBad-expected.txt: Removed.
        * media/controls/track-menu.html: Removed.
        * media/controls/track-menu-expected.txt: Removed.
        * media/in-band-tracks.js:
        (seeked): Deleted.
        (testTextTrackMode): Deleted.
        (testCueStyle.seeked): Deleted.
        (testCueStyle.canplaythrough): Deleted.
        (testCueStyle): Deleted.
        * media/mac/controls-panel-not-clipped-out.html: Removed.
        * media/mac/controls-panel-not-clipped-out-expected.html: Removed.
        * media/media-captions-no-controls.html:
        * media/media-captions-no-controls-expected.txt:
        * media/media-controller-drag-crash.html: Removed.
        * media/media-controller-drag-crash-expected.txt: Removed.
        * media/media-controls-accessibility.html: Removed.
        * media/media-controls-accessibility-expected.txt: Removed.
        * media/media-controls-cancel-events.html: Removed.
        * media/media-controls-cancel-events-expected.txt: Removed.
        * media/media-controls-clone.html: Removed.
        * platform/gtk/media/media-controls-clone-expected.txt: Removed.
        * platform/ios/media/media-controls-clone-expected.txt: Removed.
        * platform/mac/media/media-controls-clone-expected.txt: Removed.
        * platform/wincairo/media/media-controls-clone-expected.txt: Removed.
        * media/media-controls-drag-timeline-set-controls-property.html: Removed.
        * media/media-controls-drag-timeline-set-controls-property-expected.txt: Removed.
        * media/media-controls-invalid-url.html: Removed.
        * media/media-controls-invalid-url-expected.txt: Removed.
        * platform/win/media/media-controls-invalid-url-expected.txt: Removed.
        * media/media-controls-play-button-updates.html: Removed.
        * platform/gtk/media/media-controls-play-button-updates-expected.png: Removed.
        * platform/gtk/media/media-controls-play-button-updates-expected.txt: Removed.
        * media/media-controls-play-button-updates-expected.txt: Removed.
        * media/media-controls-play-button-updates-expected.png: Removed.
        * media/media-controls-timeline-updates.html: Removed.
        * media/media-controls-timeline-updates-expected.txt: Removed.
        * media/media-controls-timeline-updates-after-playing.html: Removed.
        * media/media-controls-timeline-updates-after-playing-expected.txt: Removed.
        * media/media-controls-timeline-updates-when-hovered.html: Removed.
        * media/media-controls-timeline-updates-when-hovered-expected.txt: Removed.
        * media/media-controls.js: Removed.
        * media/media-document-audio-controls-visible.html: Removed.
        * media/media-document-audio-controls-visible-expected.txt: Removed.
        * media/media-document-audio-repaint.html: Removed.
        * platform/gtk/media/media-document-audio-repaint-expected.txt: Removed.
        * platform/mac/media/media-document-audio-repaint-expected.txt: Removed.
        * media/media-document-audio-repaint-expected.txt: Removed.
        * media/media-fullscreen-loop-inline.html:
        * media/media-fullscreen-pause-inline.html:
        * media/media-fullscreen-return-to-inline.html:
        * media/media-source/only-bcp47-language-tags-accepted-as-valid.html:
        * media/media-volume-slider-rendered-below.html: Removed.
        * media/media-volume-slider-rendered-below-expected.txt: Removed.
        * media/media-volume-slider-rendered-normal.html: Removed.
        * media/media-volume-slider-rendered-normal-expected.txt: Removed.
        * media/nodesFromRect-shadowContent.html: Removed.
        * media/nodesFromRect-shadowContent-expected.txt: Removed.
        * media/progress-events-generated-correctly.html:
        * media/require-user-gesture-to-load-video.html: Removed.
        * media/require-user-gesture-to-load-video-expected.txt: Removed.
        * media/tab-focus-inside-media-elements.html: Removed.
        * media/tab-focus-inside-media-elements-expected.txt: Removed.
        * media/track/in-band/track-in-band-kate-ogg-mode.html: Removed.
        * media/track/in-band/track-in-band-kate-ogg-mode-expected.txt: Removed.
        * media/track/in-band/track-in-band-kate-ogg-style.html: Removed.
        * media/track/in-band/track-in-band-kate-ogg-style-expected.txt: Removed.
        * media/track/in-band/track-in-band-srt-mkv-mode.html: Removed.
        * media/track/in-band/track-in-band-srt-mkv-mode-expected.txt: Removed.
        * media/track/in-band/track-in-band-srt-mkv-style.html: Removed.
        * media/track/in-band/track-in-band-srt-mkv-style-expected.txt: Removed.
        * media/track/regions-webvtt/vtt-region-display.html: Removed.
        * media/track/regions-webvtt/vtt-region-display-expected.txt: Removed.
        * media/track/regions-webvtt/vtt-region-dom-layout.html: Removed.
        * media/track/regions-webvtt/vtt-region-dom-layout-expected.txt: Removed.
        * media/track/texttrackcue/texttrackcue-addcue.html:
        * media/track/texttrackcue/texttrackcue-displaycue.html: Removed.
        * media/track/texttrackcue/texttrackcue-displaycue-expected.txt: Removed.
        * media/track/track-automatic-subtitles.html:
        * media/track/track-css-all-cues.html: Removed.
        * media/track/track-css-all-cues-expected.txt: Removed.
        * media/track/track-css-cue-lifetime.html: Removed.
        * media/track/track-css-cue-lifetime-expected.txt: Removed.
        * media/track/track-css-matching.html: Removed.
        * media/track/track-css-matching-expected.txt: Removed.
        * media/track/track-css-matching-default.html: Removed.
        * media/track/track-css-matching-default-expected.txt: Removed.
        * media/track/track-css-matching-lang.html: Removed.
        * media/track/track-css-matching-lang-expected.txt: Removed.
        * media/track/track-css-matching-timestamps.html: Removed.
        * media/track/track-css-matching-timestamps-expected.txt: Removed.
        * media/track/track-css-property-allowlist-expected.txt: Removed.
        * media/track/track-css-property-allowlist.html: Removed.
        * media/track/track-css-stroke-cues.html: Removed.
        * media/track/track-css-stroke-cues-expected.txt: Removed.
        * media/track/track-css-user-override.html: Removed.
        * media/track/track-css-user-override-expected.txt: Removed.
        * media/track/track-css-visible-stroke.html:
        * media/track/track-cue-container-rendering-position.html: Removed.
        * media/track/track-cue-container-rendering-position-expected.txt: Removed.
        * media/track/track-cue-css.html:
        * media/track/track-cue-css-expected.html:
        * media/track/track-cue-left-align.html:
        * media/track/track-cue-left-align-expected-mismatch.html:
        * media/track/track-cue-line-position.html:
        * media/track/track-cue-line-position-expected-mismatch.html:
        * media/track/track-cue-mutable-fragment.html:
        * media/track/track-cue-mutable-text.html: Removed.
        * media/track/track-cue-mutable-text-expected.txt: Removed.
        * media/track/track-cue-nothing-to-render.html: Removed.
        * media/track/track-cue-nothing-to-render-expected.txt: Removed.
        * media/track/track-cue-overlap-snap-to-lines-not-set.html: Removed.
        * media/track/track-cue-overlap-snap-to-lines-not-set-expected.txt: Removed.
        * media/track/track-cue-rendering.html: Removed.
        * media/track/track-cue-rendering-expected.txt: Removed.
        * media/track/track-cue-rendering-horizontal.html: Removed.
        * platform/gtk/media/track/track-cue-rendering-horizontal-expected.png: Removed.
        * platform/gtk/media/track/track-cue-rendering-horizontal-expected.txt: Removed.
        * platform/ios/media/track/track-cue-rendering-horizontal-expected.txt: Removed.
        * platform/mac/media/track/track-cue-rendering-horizontal-expected.png: Removed.
        * platform/mac/media/track/track-cue-rendering-horizontal-expected.txt: Removed.
        * platform/win/media/track/track-cue-rendering-horizontal-expected.txt: Removed.
        * platform/wincairo/media/track/track-cue-rendering-horizontal-expected.txt: Removed.
        * media/track/track-cue-rendering-mode-changed.html: Removed.
        * media/track/track-cue-rendering-mode-changed-expected.txt: Removed.
        * media/track/track-cue-rendering-on-resize.html: Removed.
        * media/track/track-cue-rendering-on-resize-expected.txt: Removed.
        * media/track/track-cue-rendering-rtl.html: Removed.
        * media/track/track-cue-rendering-rtl-expected.txt: Removed.
        * media/track/track-cue-rendering-snap-to-lines-not-set.html: Removed.
        * media/track/track-cue-rendering-snap-to-lines-not-set-expected.txt: Removed.
        * media/track/track-cue-rendering-tree-is-removed-properly.html: Removed.
        * media/track/track-cue-rendering-tree-is-removed-properly-expected.txt: Removed.
        * media/track/track-cue-rendering-vertical.html: Removed.
        * platform/gtk/media/track/track-cue-rendering-vertical-expected.png: Removed.
        * platform/gtk/media/track/track-cue-rendering-vertical-expected.txt: Removed.
        * platform/ios/media/track/track-cue-rendering-vertical-expected.txt: Removed.
        * platform/mac/media/track/track-cue-rendering-vertical-expected.txt: Removed.
        * platform/wincairo/media/track/track-cue-rendering-vertical-expected.txt: Removed.
        * media/track/track-cue-rendering-with-padding.html: Removed.
        * media/track/track-cue-rendering-with-padding-expected.txt: Removed.
        * media/track/track-cues-cuechange.html:
        * media/track/track-cues-enter-exit.html:
        * media/track/track-forced-subtitles-in-band.html:
        * media/track/track-forced-subtitles-in-band-expected.txt:
        * media/track/track-in-band-duplicate-tracks-when-source-changes.html:
        * media/track/track-in-band-legacy-api.html:
        * media/track/track-in-band-legacy-api-expected.txt:
        * media/track/track-in-band-metadata-display-order.html: Removed.
        * media/track/track-in-band-metadata-display-order-expected.txt: Removed.
        * media/track/track-in-band-mode.html:
        * media/track/track-in-band-mode-expected.txt:
        * media/track/track-in-band-style.html: Removed.
        * media/track/track-in-band-style-expected.txt: Removed.
        * media/track/track-in-band-subtitles-too-large.html: Removed.
        * media/track/track-in-band-subtitles-too-large-expected.txt: Removed.
        * media/track/track-kind.html:
        * media/track/track-kind-expected.txt:
        * media/track/track-legacyapi-with-automatic-mode.html:
        * media/track/track-legacyapi-with-automatic-mode-expected.txt:
        * media/track/track-long-word-container-sizing.html: Removed.
        * media/track/track-long-word-container-sizing-expected.txt: Removed.
        * media/track/track-manual-mode.html:
        * media/track/track-manual-mode-expected.txt:
        * media/track/track-user-preferences.html: Removed.
        * media/track/track-user-preferences-expected.txt: Removed.
        * media/track/track-user-stylesheet.html:
        * media/track/track-user-stylesheet-expected.txt:
        * media/trackmenu-test.js: Removed.
        * media/video-click-dblckick-standalone.html: Removed.
        * media/video-click-dblckick-standalone-expected.txt: Removed.
        * media/video-controls-audiotracks-trackmenu.html: Removed.
        * media/video-controls-audiotracks-trackmenu-expected.txt: Removed.
        * media/video-controls-captions.html: Removed.
        * media/video-controls-captions-expected.txt: Removed.
        * media/video-controls-captions-trackmenu.html: Removed.
        * platform/gtk/media/video-controls-captions-trackmenu-expected.txt: Removed.
        * platform/ios/media/video-controls-captions-trackmenu-expected.txt: Removed.
        * platform/mac/media/video-controls-captions-trackmenu-expected.txt: Removed.
        * platform/wincairo/media/video-controls-captions-trackmenu-expected.txt: Removed.
        * media/video-controls-captions-trackmenu-hide-on-click.html: Removed.
        * platform/gtk/media/video-controls-captions-trackmenu-hide-on-click-expected.txt: Removed.
        * platform/ios/media/video-controls-captions-trackmenu-hide-on-click-expected.txt: Removed.
        * platform/mac/media/video-controls-captions-trackmenu-hide-on-click-expected.txt: Removed.
        * platform/wincairo/media/video-controls-captions-trackmenu-hide-on-click-expected.txt: Removed.
        * media/video-controls-captions-trackmenu-hide-on-click-outside.html: Removed.
        * media/video-controls-captions-trackmenu-hide-on-click-outside-expected.txt: Removed.
        * media/video-controls-captions-trackmenu-includes-enabled-track.html: Removed.
        * media/video-controls-captions-trackmenu-includes-enabled-track-expected.txt: Removed.
        * media/video-controls-captions-trackmenu-localized.html: Removed.
        * platform/gtk/media/video-controls-captions-trackmenu-localized-expected.txt: Removed.
        * platform/ios/media/video-controls-captions-trackmenu-localized-expected.txt: Removed.
        * platform/mac/media/video-controls-captions-trackmenu-localized-expected.txt: Removed.
        * platform/wincairo/media/video-controls-captions-trackmenu-localized-expected.txt: Removed.
        * media/video-controls-captions-trackmenu-only-captions-descriptions-and-subtitles.html: Removed.
        * media/video-controls-captions-trackmenu-only-captions-descriptions-and-subtitles-expected.txt: Removed.
        * platform/gtk/media/video-controls-captions-trackmenu-only-captions-descriptions-and-subtitles-expected.txt: Removed.
        * platform/mac/media/video-controls-captions-trackmenu-only-captions-descriptions-and-subtitles-expected.txt: Removed.
        * media/video-controls-captions-trackmenu-sorted.html: Removed.
        * platform/gtk/media/video-controls-captions-trackmenu-sorted-expected.txt: Removed.
        * platform/ios/media/video-controls-captions-trackmenu-sorted-expected.txt: Removed.
        * platform/mac/media/video-controls-captions-trackmenu-sorted-expected.txt: Removed.
        * platform/win/media/video-controls-captions-trackmenu-sorted-expected.txt: Removed.
        * platform/wincairo/media/video-controls-captions-trackmenu-sorted-expected.txt: Removed.
        * media/video-controls-drop-and-restore-timeline.html: Removed.
        * media/video-controls-drop-and-restore-timeline-expected.txt: Removed.
        * media/video-controls-fullscreen-volume.html: Removed.
        * media/video-controls-fullscreen-volume-expected.txt: Removed.
        * media/video-controls-in-media-document.html: Removed.
        * media/video-controls-in-media-document-expected.txt: Removed.
        * media/video-controls-no-display-with-text-track.html: Removed.
        * media/video-controls-no-display-with-text-track-expected.txt: Removed.
        * media/video-controls-rendering.html: Removed.
        * platform/gtk/media/video-controls-rendering-expected.txt: Removed.
        * platform/ios/media/video-controls-rendering-expected.txt: Removed.
        * platform/mac/media/video-controls-rendering-expected.txt: Removed.
        * platform/win/media/video-controls-rendering-expected.txt: Removed.
        * platform/wincairo/media/video-controls-rendering-expected.txt: Removed.
        * media/video-controls-show-on-kb-or-ax-event.html: Removed.
        * media/video-controls-show-on-kb-or-ax-event-expected.txt: Removed.
        * media/video-controls-toggling.html: Removed.
        * media/video-controls-toggling-expected.txt: Removed.
        * media/video-controls-transformed.html: Removed.
        * media/video-controls-transformed-expected.txt: Removed.
        * media/video-controls-visible-audio-only.html: Removed.
        * media/video-controls-visible-audio-only-expected.txt: Removed.
        * media/video-controls-visible-exiting-fullscreen.html: Removed.
        * media/video-controls-visible-exiting-fullscreen-expected.txt: Removed.
        * media/video-controls-zoomed.html: Removed.
        * media/video-controls-zoomed-expected.txt: Removed.
        * media/video-display-toggle.html: Removed.
        * platform/gtk/media/video-display-toggle-expected.txt: Removed.
        * platform/ios/media/video-display-toggle-expected.txt: Removed.
        * platform/mac-catalina/media/video-display-toggle-expected.txt: Removed.
        * platform/mac-mojave/media/video-display-toggle-expected.txt: Removed.
        * platform/mac/media/video-display-toggle-expected.txt: Removed.
        * platform/win/media/video-display-toggle-expected.txt: Removed.
        * platform/wincairo/media/video-display-toggle-expected.txt: Removed.
        * media/video-empty-source.html: Removed.
        * platform/gtk/media/video-empty-source-expected.txt: Removed.
        * platform/ios/media/video-empty-source-expected.txt: Removed.
        * platform/mac/media/video-empty-source-expected.txt: Removed.
        * platform/win/media/video-empty-source-expected.txt: Removed.
        * platform/wincairo/media/video-empty-source-expected.txt: Removed.
        * media/video-fullscreen-only-controls.html: Removed.
        * media/video-fullscreen-only-controls-expected.txt: Removed.
        * media/video-fullscreen-only-playback.html:
        * media/video-initially-hidden-volume-slider-up.html: Removed.
        * media/video-initially-hidden-volume-slider-up-expected.txt: Removed.
        * media/video-no-audio.html: Removed.
        * platform/gtk/media/video-no-audio-expected.txt: Removed.
        * platform/ios/media/video-no-audio-expected.txt: Removed.
        * platform/mac-catalina/media/video-no-audio-expected.txt: Removed.
        * platform/mac/media/video-no-audio-expected.txt: Removed.
        * platform/win/media/video-no-audio-expected.txt: Removed.
        * platform/wincairo/media/video-no-audio-expected.txt: Removed.
        * media/video-play-audio-require-user-gesture.html: Removed.
        * media/video-play-audio-require-user-gesture-expected.txt: Removed.
        * media/video-play-require-user-gesture.html: Removed.
        * media/video-play-require-user-gesture-expected.txt: Removed.
        * media/video-trackmenu-selection.html: Removed.
        * media/video-trackmenu-selection-expected.txt: Removed.
        * media/video-volume-slider.html: Removed.
        * platform/gtk/media/video-volume-slider-expected.txt: Removed.
        * platform/ios/media/video-volume-slider-expected.txt: Removed.
        * platform/mac-catalina/media/video-volume-slider-expected.txt: Removed.
        * platform/mac-mojave/media/video-volume-slider-expected.txt: Removed.
        * platform/mac/media/video-volume-slider-expected.txt: Removed.
        * platform/win/media/video-volume-slider-expected.txt: Removed.
        * platform/wincairo/media/video-volume-slider-expected.txt: Removed.
        * media/video-volume-slider-drag.html: Removed.
        * media/video-volume-slider-drag-expected.txt: Removed.
        * media/video-zoom-controls.html: Removed.
        * platform/gtk/media/video-zoom-controls-expected.txt: Removed.
        * platform/ios/media/video-zoom-controls-expected.txt: Removed.
        * platform/mac/media/video-zoom-controls-expected.txt: Removed.
        * platform/win/media/video-zoom-controls-expected.txt: Removed.
        * platform/wincairo/media/video-zoom-controls-expected.txt: Removed.
        * media/volume-bar-empty-when-muted.html: Removed.
        * media/volume-bar-empty-when-muted-expected.txt: Removed.
        * platform/gtk/media/volume-bar-empty-when-muted-expected.txt: Removed.
        * platform/mac/media/volume-bar-empty-when-muted-expected.txt: Removed.
        * platform/ios/media/video-play-glyph-composited-outside-overflow-scrolling-touch-container.html: Removed.
        * platform/ios/media/video-play-glyph-composited-outside-overflow-scrolling-touch-container-expected.txt: Removed.
        * platform/mac/media/video-layer-crash-expected.txt:

        * TestExpectations:
        * platform/glib/TestExpectations:
        * platform/gtk/TestExpectations:
        * platform/gtk-wayland/TestExpectations:
        * platform/ios/TestExpectations:
        * platform/ios-device/TestExpectations:
        * platform/ios-simulator/TestExpectations:
        * platform/ios-wk2/TestExpectations:
        * platform/ipad/TestExpectations:
        * platform/mac/TestExpectations:
        * platform/mac-wk1/TestExpectations:
        * platform/mac-wk2/TestExpectations:
        * platform/win/TestExpectations:
        * platform/wincairo/TestExpectations:
        * platform/wincairo-wk1/TestExpectations:
        * platform/wpe/TestExpectations:

2021-03-22  Michael Saboff  <msaboff@apple.com>

        [YARR] Interpreter incorrectly matches non-BMP characters with multiple .
        https://bugs.webkit.org/show_bug.cgi?id=223498

        Reviewed by Yusuke Suzuki.

        Updated test.

        * fast/forms/ValidityState-patternMismatch-expected.txt:
        * fast/forms/ValidityState-patternMismatch.html:

2021-03-22  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] Convert http/tests/multipart convert PHP to Python
        https://bugs.webkit.org/show_bug.cgi?id=223475
        <rdar://problem/75587716>

        Reviewed by Jonathan Bedard.

        * TestExpectations:
        * http/tests/multipart/load-last-non-html-frame.php: Removed.
        * http/tests/multipart/load-last-non-html-frame.py: Added.
        * http/tests/multipart/multipart-html.php: Removed.
        * http/tests/multipart/multipart-html.py: Added.
        * http/tests/multipart/multipart-replace-non-html-content.php: Removed.
        * http/tests/multipart/multipart-replace-non-html-content.py: Added.
        * http/tests/multipart/multipart-wait-before-boundary.html:
        * http/tests/multipart/policy-ignore-crash.php: Removed.
        * http/tests/multipart/policy-ignore-crash.py: Added.
        * http/tests/multipart/resources/multipart-nodashes.php: Removed.
        * http/tests/multipart/resources/multipart-nodashes.py: Added.
        * http/tests/multipart/resources/multipart-wait-before-boundary.php: Removed.
        * http/tests/multipart/resources/multipart-wait-before-boundary.py: Added.
        (sendHeader):
        * http/tests/multipart/win-boundary-crash.html:
        * platform/ios/TestExpectations:
        * platform/win/TestExpectations:

2021-03-22  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] Convert http/tests/privateClickMeasurement convert PHP to Python
        https://bugs.webkit.org/show_bug.cgi?id=223575
        <rdar://problem/75691545>

        Reviewed by Alex Christensen.

        * http/tests/contentextensions/block-private-click-measurement-expected.txt:
        * http/tests/contentextensions/block-private-click-measurement.html:
        * http/tests/privateClickMeasurement/attribution-conversion-through-cross-site-image-redirect.html:
        * http/tests/privateClickMeasurement/attribution-conversion-through-fetch-keepalive.html:
        * http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-with-priority.html:
        * http/tests/privateClickMeasurement/attribution-conversion-through-image-redirect-without-priority.html:
        * http/tests/privateClickMeasurement/clear-through-website-data-removal.html:
        * http/tests/privateClickMeasurement/conversion-disabled-in-ephemeral-session.html:
        * http/tests/privateClickMeasurement/expired-ad-click-gets-removed-on-session-start.html:
        * http/tests/privateClickMeasurement/expired-attribution-report-gets-sent-on-session-start-expected.txt:
        * http/tests/privateClickMeasurement/expired-attribution-report-gets-sent-on-session-start.html:
        * http/tests/privateClickMeasurement/expired-attributions-removed.html:
        * http/tests/privateClickMeasurement/resources/conversionFilePath.php: Removed.
        * http/tests/privateClickMeasurement/resources/conversionFilePath.py: Added.
        * http/tests/privateClickMeasurement/resources/conversionReport.php: Removed.
        * http/tests/privateClickMeasurement/resources/conversionReport.py: Added.
        * http/tests/privateClickMeasurement/resources/convertAndPostMessageBack.html:
        * http/tests/privateClickMeasurement/resources/fraudPreventionTestURL.php: Removed.
        * http/tests/privateClickMeasurement/resources/fraudPreventionTestURL.py: Added.
        * http/tests/privateClickMeasurement/resources/getConversionData.php: Removed.
        * http/tests/privateClickMeasurement/resources/getConversionData.py: Added.
        * http/tests/privateClickMeasurement/resources/getTokenSigningData.php: Removed.
        * http/tests/privateClickMeasurement/resources/getTokenSigningData.py: Added.
        * http/tests/privateClickMeasurement/resources/redirectToConversion.php: Removed.
        * http/tests/privateClickMeasurement/resources/redirectToConversion.py: Added.
        * http/tests/privateClickMeasurement/resources/redirectToConversionOnIPAddress.php: Removed.
        * http/tests/privateClickMeasurement/resources/redirectToConversionOnIPAddress.py: Added.
        * http/tests/privateClickMeasurement/resources/tokenSigningFilePath.php: Removed.
        * http/tests/privateClickMeasurement/resources/tokenSigningFilePath.py: Added.
        * http/tests/privateClickMeasurement/second-attribution-converted-with-higher-priority.html:
        * http/tests/privateClickMeasurement/second-attribution-converted-with-lower-priority.html:
        * http/tests/privateClickMeasurement/second-conversion-with-higher-priority.html:
        * http/tests/privateClickMeasurement/second-conversion-with-lower-priority.html:
        * http/tests/privateClickMeasurement/send-attribution-conversion-request-expected.txt:
        * http/tests/privateClickMeasurement/send-attribution-conversion-request.html:
        * http/tests/privateClickMeasurement/store-private-click-measurement-with-source-nonce-expected.txt:
        * http/tests/privateClickMeasurement/store-private-click-measurement-with-source-nonce.html:

2021-03-22  Wenson Hsieh  <wenson_hsieh@apple.com>

        [iOS] Composition text is not initially highlighted when typing in text fields using Pinyin keyboard
        https://bugs.webkit.org/show_bug.cgi?id=223563
        <rdar://problem/75564516>

        Reviewed by Antti Koivisto.

        Add a test to verify that marked text underlines show up in search fields.

        * editing/input/composition-underline-in-search-field-expected-mismatch.html: Added.
        * editing/input/composition-underline-in-search-field.html: Added.

2021-03-22  Chris Dumez  <cdumez@apple.com>

        imported/w3c/web-platform-tests/webaudio/the-audio-api/the-audioparam-interface/nan-param.html is failing
        https://bugs.webkit.org/show_bug.cgi?id=223583

        Reviewed by Eric Carlson.

        Unskip test that should no longer be flaky.

        * TestExpectations:

2021-03-22  Rob Buis  <rbuis@igalia.com>

        [css-contain] Parse CSS contain property
        https://bugs.webkit.org/show_bug.cgi?id=223252

        Reviewed by Darin Adler.

        Add test to verify that contain is invisible from style when disabled.

        * fast/css/contain-invalidate-if-disabled-expected.txt: Added.
        * fast/css/contain-invalidate-if-disabled.html: Added.
        * platform/gtk/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/ios-wk2/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:
        * platform/wpe/imported/w3c/web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:

2021-03-22  Lauro Moura  <lmoura@igalia.com>

        Gardening some passing tests

        Unreviewed test gardening.

        * TestExpectations:
        * platform/glib/TestExpectations:
        * platform/wpe/TestExpectations:

2021-03-22  Chris Dumez  <cdumez@apple.com>

        Unreviewed, unskip audioworkletprocessor-param-getter-overridden.https.html WPT test as it is no longer failing.

        * TestExpectations:

2021-03-22  Zalan Bujtas  <zalan@apple.com>

        [ macOS debug arm64 ] ASSERTION FAILED: count >= 1 ./rendering/RenderMultiColumnSet.cpp(450) : unsigned int WebCore::RenderMultiColumnSet::columnCount() const
        https://bugs.webkit.org/show_bug.cgi?id=223144
        <rdar://problem/75381496>

        Reviewed by Simon Fraser.

        * platform/mac/TestExpectations:

2021-03-22  Wenson Hsieh  <wenson_hsieh@apple.com>

        [macOS] Context menu should account for image overlay content
        https://bugs.webkit.org/show_bug.cgi?id=223518
        <rdar://problem/75505210>

        Reviewed by Devin Rousso.

        Add a layout test to exercise copying via the context menu.

        * fast/images/image-extraction/mac/copy-image-overlay-text-with-context-menu-expected.txt: Added.
        * fast/images/image-extraction/mac/copy-image-overlay-text-with-context-menu.html: Added.

2021-03-22  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] Convert http/tests/workers convert PHP to Python
        https://bugs.webkit.org/show_bug.cgi?id=223522
        <rdar://problem/75624689>

        Reviewed by Alex Christensen.

        * http/tests/workers/resources/subworker-encoded.php: Removed.
        * http/tests/workers/resources/subworker-encoded.py: Added.
        * http/tests/workers/resources/worker-encoded.php: Removed.
        * http/tests/workers/resources/worker-encoded.py: Added.
        * http/tests/workers/resources/worker-importScripts-banned-mimetype.php: Removed.
        * http/tests/workers/resources/worker-importScripts-banned-mimetype.py: Added.
        * http/tests/workers/resources/xhr-query-utf8.php: Removed.
        * http/tests/workers/resources/xhr-query-utf8.py: Added.
        * http/tests/workers/resources/xhr-response.py: Added.
        * http/tests/workers/service/basic-timeout.https-expected.txt:
        * http/tests/workers/service/controller-change.html:
        * http/tests/workers/service/page-caching.html:
        * http/tests/workers/service/registration-updateViaCache-all.html:
        * http/tests/workers/service/registration-updateViaCache-none.html:
        * http/tests/workers/service/resources/basic-timeout.js:
        * http/tests/workers/service/resources/cacheable-script-worker.php: Removed.
        * http/tests/workers/service/resources/cacheable-script-worker.py: Added.
        * http/tests/workers/service/resources/download-binary.php: Removed.
        * http/tests/workers/service/resources/download-binary.py: Added.
        * http/tests/workers/service/resources/import-cacheable-script-worker.js:
        * http/tests/workers/service/resources/self_registration_update-worker.php: Removed.
        * http/tests/workers/service/resources/self_registration_update-worker.py: Added.
        * http/tests/workers/service/resources/succeed-fallback-check.php: Removed.
        * http/tests/workers/service/resources/succeed-fallback-check.py: Added.
        * http/tests/workers/service/resources/updating-fetch-worker.php: Removed.
        * http/tests/workers/service/resources/updating-fetch-worker.py: Added.
        * http/tests/workers/service/resources/updating-worker.php: Removed.
        * http/tests/workers/service/resources/updating-worker.py: Added.
        * http/tests/workers/service/self_registration_update.html:
        * http/tests/workers/service/service-worker-download-async-delegates.https-expected.txt:
        * http/tests/workers/service/service-worker-download-async-delegates.https.html:
        * http/tests/workers/service/service-worker-download.https-expected.txt:
        * http/tests/workers/service/service-worker-download.https.html:
        * http/tests/workers/service/service-worker-registration-gc-event.html:
        * http/tests/workers/text-encoding.html:
        * http/tests/workers/worker-importScripts-banned-mimetype-expected.txt:
        * http/tests/workers/worker-importScripts-banned-mimetype.html:

2021-03-22  Amir Mark Jr  <amir_mark@apple.com>

        REGRESSION (r274711): [iOS 14 Wk2] webgl/conformance/extensions/khr-parallel-shader-compile.html is consistently failing
        https://bugs.webkit.org/show_bug.cgi?id=223586

        Unreviewed test gardening

        * platform/ios-wk2/TestExpectations:

2021-03-19  Chris Dumez  <cdumez@apple.com>

        Resync webaudio web-platform-tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=223537

        Reviewed by Alex Christensen.

        Skip test that is crashing (will investigate in a follow-up).

        * TestExpectations:

2021-03-19  Chris Gambrell  <cgambrell@apple.com>

        [LayoutTests] Convert http/tests/gzip-content-encoding convert PHP to Python
        https://bugs.webkit.org/show_bug.cgi?id=223524
        <rdar://problem/75625615>

        Reviewed by Alex Christensen.

        * http/tests/gzip-content-encoding/gzip-encoded-script.html:
        * http/tests/gzip-content-encoding/gzip-encoded-stylesheet.html:
        * http/tests/gzip-content-encoding/resources/echo-data-encoding-with-gzip.php: Removed.
        * http/tests/gzip-content-encoding/resources/echo-data-encoding-with-gzip.py: Added.

2021-03-19  Zalan Bujtas  <zalan@apple.com>

        Unreviewed, reverting r274596.

        Google logo is not visible on google.com

        Reverted changeset:

        "[css-grid] Incorrect track sizing when using relative sized
        items in 'auto' column tracks"
        https://bugs.webkit.org/show_bug.cgi?id=191627
        https://commits.webkit.org/r274596

2021-03-19  Cameron McCormack  <heycam@apple.com>

        Anonymous table rows do not collapse if there are any other non-anonymous table row siblings
        https://bugs.webkit.org/show_bug.cgi?id=223490

        Reviewed by Zalan Bujtas.

        * fast/table/table-anonymous-row-collapse-expected.html: Added.
        * fast/table/table-anonymous-row-collapse.html: Added.

2021-03-19  Jer Noble  <jer.noble@apple.com>

        Many media/media-fragments/ tests are crashing due to other tests that run before them.
        https://bugs.webkit.org/show_bug.cgi?id=223277
        <rdar://problem/75492360>

        Reviewed by Eric Carlson.

        * platform/mac/TestExpectations:

2021-03-19  Youenn Fablet  <youenn@apple.com>

        Custom scheme handled origins should be considered secure
        https://bugs.webkit.org/show_bug.cgi?id=223423

        Reviewed by Alex Christensen.

        Add a new test to check device orientation in insecure context now that we cannot do that anymore with custom schemes.

        * http/tests/events/device-orientation-motion-insecure-context-expected.txt: Added.
        * http/tests/events/device-orientation-motion-insecure-context.html: Added.
        * platform/ios/http/tests/events/device-orientation-motion-insecure-context-expected.txt: Added.

2021-03-19  Jer Noble  <jer.noble@apple.com>

        [GPUP] platform/mac/media/encrypted-media/fps-clearkey-crash.html is a flaky timeout
        https://bugs.webkit.org/show_bug.cgi?id=221687
        <rdar://problem/74438911>

        Reviewed by Eric Carlson.

        * platform/mac-wk2/TestExpectations:

2021-03-19  Peng Liu  <peng.liu6@apple.com>

        [GPUP] Test imported/w3c/web-platform-tests/fetch/range/general.window.html fails when media in GPU process is enabled.
        https://bugs.webkit.org/show_bug.cgi?id=221817

        Reviewed by Jer Noble.

        * platform/wk2/TestExpectations:

2021-03-19  ChangSeok Oh  <changseok@webkit.org>

        Animated AVIF support
        https://bugs.webkit.org/show_bug.cgi?id=222804
        <rdar://problem/75362181>

        Reviewed by Philippe Normand.

        This change implements animation of the avif sequence. The decoding approach
        is similar to ones for other image formats, i.e., decoding frames in BGRA pixels
        then bit-copying them into ScalableImageDecoderFrame. The decoded frames are cached
        for future use. The repetition is missing in this change. It will be addressed
        in separate patches.

        The added avif animation test compares the last frame of each avifs and a static
        avif image. The embeded avifs images are originated from corresponding webp images
        for animated-webp.html, and encoded with timescale 100 (i.e., the duration of each frame
        is 0.01s). The total duration and the track duration are same so the added avifs samples
        are supposed to be played one time.

        * TestExpectations:
        * fast/images/animated-avif-expected.html: Added.
        * fast/images/animated-avif.html: Added.
        * fast/images/resources/avifs00-ref.avif: Added.
        * fast/images/resources/avifs00.avifs: Added.
        * fast/images/resources/avifs01-ref.avif: Added.
        * fast/images/resources/avifs01.avifs: Added.
        * fast/images/resources/avifs02-ref.avif: Added.
        * fast/images/resources/avifs02.avifs: Added.
        * platform/gtk/TestExpectations:

2021-03-19  Martin Robinson  <mrobinson@igalia.com>

        scroll-snap-stop: always not respected during momentum scrolling
        https://bugs.webkit.org/show_bug.cgi?id=223406

        Reviewed by Simon Fraser.

        * tiled-drawing/scrolling/scroll-snap/scroll-snap-stop-momentum-scroll-expected.txt: Added.
        * tiled-drawing/scrolling/scroll-snap/scroll-snap-stop-momentum-scroll.html: Added.

2021-03-19  Sergio Villar Senin  <svillar@igalia.com>

        [css-flexbox] Another WPT import
        https://bugs.webkit.org/show_bug.cgi?id=223438

        Reviewed by Manuel Rego Casasnovas.

        Import latests WPT's css-flexbox tests.

        Apart from that we're removing an invalid pixel expectations for GTK.

        * TestExpectations: Skipped some of the imported tests as they're failing right now. Also unskipped the
        select-element-zero-height-001.html test which should be working now.
        * platform/gtk/css3/flexbox/flex-order-expected.png: Removed.

2021-03-19  Kimmo Kinnunen  <kkinnunen@apple.com>

        Add WebGL 2.0.1 test drivers and test expectations to the repository
        https://bugs.webkit.org/show_bug.cgi?id=223427

        Reviewed by Kenneth Russell.

        Add test driver .html files and expecations for WebGL 2.0.1 conformance
        test suite. The actual tests were committed before.
        Add the tests as Skip until we can swap 2.0.0 with 2.0.1.
        The files are added in separate commits as the tooling fails with too big patches.
        The test drivers contain the webglVersion=2 parameter currently missing from
        2.0.0 tests.
        The directory is called 2.0.y to reflect that it is imported always from the
        ongoing, most tip-of-the-tree test suite (WebGL/sdk/tests).

        * TestExpectations:
        * webgl/2.0.y/conformance/attribs/gl-bindAttribLocation-aliasing-expected.txt: Added.
        * webgl/2.0.y/conformance/attribs/gl-bindAttribLocation-aliasing.html: Added.
        * webgl/2.0.y/conformance/attribs/gl-bindAttribLocation-matrix-expected.txt: Added.
        * webgl/2.0.y/conformance/attribs/gl-bindAttribLocation-matrix.html: Added.
        * webgl/2.0.y/conformance/attribs/gl-bindAttribLocation-nonexistent-attribute-expected.txt: Added.
        * webgl/2.0.y/conformance/attribs/gl-bindAttribLocation-nonexistent-attribute.html: Added.
        * webgl/2.0.y/conformance/attribs/gl-bindAttribLocation-repeated-expected.txt: Added.
        * webgl/2.0.y/conformance/attribs/gl-bindAttribLocation-repeated.html: Added.
        * webgl/2.0.y/conformance/attribs/gl-disabled-vertex-attrib-expected.txt: Added.
        * webgl/2.0.y/conformance/attribs/gl-disabled-vertex-attrib-update-expected.txt: Added.
        * webgl/2.0.y/conformance/attribs/gl-disabled-vertex-attrib-update.html: Added.
        * webgl/2.0.y/conformance/attribs/gl-disabled-vertex-attrib.html: Added.
        * webgl/2.0.y/conformance/attribs/gl-enable-vertex-attrib-expected.txt: Added.
        * webgl/2.0.y/conformance/attribs/gl-enable-vertex-attrib.html: Added.
        * webgl/2.0.y/conformance/attribs/gl-matrix-attributes-expected.txt: Added.
        * webgl/2.0.y/conformance/attribs/gl-matrix-attributes.html: Added.
        * webgl/2.0.y/conformance/attribs/gl-vertex-attrib-context-switch-expected.txt: Added.
        * webgl/2.0.y/conformance/attribs/gl-vertex-attrib-context-switch.html: Added.
        * webgl/2.0.y/conformance/attribs/gl-vertex-attrib-render-expected.txt: Added.
        * webgl/2.0.y/conformance/attribs/gl-vertex-attrib-render.html: Added.
        * webgl/2.0.y/conformance/attribs/gl-vertex-attrib-unconsumed-out-of-bounds-expected.txt: Added.
        * webgl/2.0.y/conformance/attribs/gl-vertex-attrib-unconsumed-out-of-bounds.html: Added.
        * webgl/2.0.y/conformance/attribs/gl-vertex-attrib-zero-issues-expected.txt: Added.
        * webgl/2.0.y/conformance/attribs/gl-vertex-attrib-zero-issues.html: Added.
        * webgl/2.0.y/conformance/attribs/gl-vertexattribpointer-expected.txt: Added.
        * webgl/2.0.y/conformance/attribs/gl-vertexattribpointer-offsets-expected.txt: Added.
        * webgl/2.0.y/conformance/attribs/gl-vertexattribpointer-offsets.html: Added.
        * webgl/2.0.y/conformance/attribs/gl-vertexattribpointer.html: Added.
        * webgl/2.0.y/conformance/buffers/buffer-bind-test-expected.txt: Added.
        * webgl/2.0.y/conformance/buffers/buffer-bind-test.html: Added.
        * webgl/2.0.y/conformance/buffers/buffer-data-and-buffer-sub-data-expected.txt: Added.
        * webgl/2.0.y/conformance/buffers/buffer-data-and-buffer-sub-data.html: Added.
        * webgl/2.0.y/conformance/buffers/buffer-data-array-buffer-delete-expected.txt: Added.
        * webgl/2.0.y/conformance/buffers/buffer-data-array-buffer-delete.html: Added.
        * webgl/2.0.y/conformance/buffers/buffer-data-dynamic-delay-expected.txt: Added.
        * webgl/2.0.y/conformance/buffers/buffer-data-dynamic-delay.html: Added.
        * webgl/2.0.y/conformance/buffers/buffer-uninitialized-expected.txt: Added.
        * webgl/2.0.y/conformance/buffers/buffer-uninitialized.html: Added.
        * webgl/2.0.y/conformance/buffers/element-array-buffer-delete-recreate-expected.txt: Added.
        * webgl/2.0.y/conformance/buffers/element-array-buffer-delete-recreate.html: Added.
        * webgl/2.0.y/conformance/buffers/index-validation-copies-indices-expected.txt: Added.
        * webgl/2.0.y/conformance/buffers/index-validation-copies-indices.html: Added.
        * webgl/2.0.y/conformance/buffers/index-validation-crash-with-buffer-sub-data-expected.txt: Added.
        * webgl/2.0.y/conformance/buffers/index-validation-crash-with-buffer-sub-data.html: Added.
        * webgl/2.0.y/conformance/buffers/index-validation-expected.txt: Added.
        * webgl/2.0.y/conformance/buffers/index-validation-large-buffer-expected.txt: Added.
        * webgl/2.0.y/conformance/buffers/index-validation-large-buffer.html: Added.
        * webgl/2.0.y/conformance/buffers/index-validation-verifies-too-many-indices-expected.txt: Added.
        * webgl/2.0.y/conformance/buffers/index-validation-verifies-too-many-indices.html: Added.
        * webgl/2.0.y/conformance/buffers/index-validation-with-resized-buffer-expected.txt: Added.
        * webgl/2.0.y/conformance/buffers/index-validation-with-resized-buffer.html: Added.
        * webgl/2.0.y/conformance/buffers/index-validation.html: Added.
        * webgl/2.0.y/conformance/buffers/vertex-buffer-updated-after-draw-expected.txt: Added.
        * webgl/2.0.y/conformance/buffers/vertex-buffer-updated-after-draw.html: Added.
        * webgl/2.0.y/conformance/canvas/buffer-offscreen-test-expected.txt: Added.
        * webgl/2.0.y/conformance/canvas/buffer-offscreen-test.html: Added.
        * webgl/2.0.y/conformance/canvas/buffer-preserve-test-expected.txt: Added.
        * webgl/2.0.y/conformance/canvas/buffer-preserve-test.html: Added.
        * webgl/2.0.y/conformance/canvas/canvas-test-expected.txt: Added.
        * webgl/2.0.y/conformance/canvas/canvas-test.html: Added.
        * webgl/2.0.y/conformance/canvas/canvas-zero-size-expected.txt: Added.
        * webgl/2.0.y/conformance/canvas/canvas-zero-size.html: Added.
        * webgl/2.0.y/conformance/canvas/draw-static-webgl-to-multiple-canvas-test-expected.txt: Added.
        * webgl/2.0.y/conformance/canvas/draw-static-webgl-to-multiple-canvas-test.html: Added.
        * webgl/2.0.y/conformance/canvas/draw-webgl-to-canvas-test-expected.txt: Added.
        * webgl/2.0.y/conformance/canvas/draw-webgl-to-canvas-test.html: Added.
        * webgl/2.0.y/conformance/canvas/drawingbuffer-hd-dpi-test-expected.txt: Added.
        * webgl/2.0.y/conformance/canvas/drawingbuffer-hd-dpi-test.html: Added.
        * webgl/2.0.y/conformance/canvas/drawingbuffer-static-canvas-test-expected.txt: Added.
        * webgl/2.0.y/conformance/canvas/drawingbuffer-static-canvas-test.html: Added.
        * webgl/2.0.y/conformance/canvas/drawingbuffer-test-expected.txt: Added.
        * webgl/2.0.y/conformance/canvas/drawingbuffer-test.html: Added.
        * webgl/2.0.y/conformance/canvas/framebuffer-bindings-affected-by-to-data-url-expected.txt: Added.
        * webgl/2.0.y/conformance/canvas/framebuffer-bindings-affected-by-to-data-url.html: Added.
        * webgl/2.0.y/conformance/canvas/framebuffer-bindings-unaffected-on-resize-expected.txt: Added.
        * webgl/2.0.y/conformance/canvas/framebuffer-bindings-unaffected-on-resize.html: Added.
        * webgl/2.0.y/conformance/canvas/rapid-resizing-expected.txt: Added.
        * webgl/2.0.y/conformance/canvas/rapid-resizing.html: Added.
        * webgl/2.0.y/conformance/canvas/render-after-resize-test-expected.txt: Added.
        * webgl/2.0.y/conformance/canvas/render-after-resize-test.html: Added.
        * webgl/2.0.y/conformance/canvas/texture-bindings-unaffected-on-resize-expected.txt: Added.
        * webgl/2.0.y/conformance/canvas/texture-bindings-unaffected-on-resize.html: Added.
        * webgl/2.0.y/conformance/canvas/to-data-url-test-expected.txt: Added.
        * webgl/2.0.y/conformance/canvas/to-data-url-test.html: Added.
        * webgl/2.0.y/conformance/canvas/viewport-unchanged-upon-resize-expected.txt: Added.
        * webgl/2.0.y/conformance/canvas/viewport-unchanged-upon-resize.html: Added.
        * webgl/2.0.y/conformance/canvas/webgl-to-2d-canvas-expected.txt: Added.
        * webgl/2.0.y/conformance/canvas/webgl-to-2d-canvas.html: Added.
        * webgl/2.0.y/conformance/context/context-attribute-preserve-drawing-buffer-expected.txt: Added.
        * webgl/2.0.y/conformance/context/context-attribute-preserve-drawing-buffer.html: Added.
        * webgl/2.0.y/conformance/context/context-attributes-alpha-depth-stencil-antialias-expected.txt: Added.
        * webgl/2.0.y/conformance/context/context-attributes-alpha-depth-stencil-antialias.html: Added.
        * webgl/2.0.y/conformance/context/context-creation-and-destruction-expected.txt: Added.
        * webgl/2.0.y/conformance/context/context-creation-and-destruction.html: Added.
        * webgl/2.0.y/conformance/context/context-creation-expected.txt: Added.
        * webgl/2.0.y/conformance/context/context-creation.html: Added.
        * webgl/2.0.y/conformance/context/context-eviction-with-garbage-collection-expected.txt: Added.
        * webgl/2.0.y/conformance/context/context-eviction-with-garbage-collection.html: Added.
        * webgl/2.0.y/conformance/context/context-hidden-alpha-expected.txt: Added.
        * webgl/2.0.y/conformance/context/context-hidden-alpha.html: Added.
        * webgl/2.0.y/conformance/context/context-lost-expected.txt: Added.
        * webgl/2.0.y/conformance/context/context-lost-restored-expected.txt: Added.
        * webgl/2.0.y/conformance/context/context-lost-restored.html: Added.
        * webgl/2.0.y/conformance/context/context-lost.html: Added.
        * webgl/2.0.y/conformance/context/context-no-alpha-fbo-with-alpha-expected.txt: Added.
        * webgl/2.0.y/conformance/context/context-no-alpha-fbo-with-alpha.html: Added.
        * webgl/2.0.y/conformance/context/context-release-upon-reload-expected.txt: Added.
        * webgl/2.0.y/conformance/context/context-release-upon-reload.html: Added.
        * webgl/2.0.y/conformance/context/context-release-with-workers-expected.txt: Added.
        * webgl/2.0.y/conformance/context/context-release-with-workers.html: Added.
        * webgl/2.0.y/conformance/context/context-size-change-expected.txt: Added.
        * webgl/2.0.y/conformance/context/context-size-change.html: Added.
        * webgl/2.0.y/conformance/context/deleted-object-behavior-expected.txt: Added.
        * webgl/2.0.y/conformance/context/deleted-object-behavior.html: Added.
        * webgl/2.0.y/conformance/context/incorrect-context-object-behaviour-expected.txt: Added.
        * webgl/2.0.y/conformance/context/incorrect-context-object-behaviour.html: Added.
        * webgl/2.0.y/conformance/context/premultiplyalpha-test-expected.txt: Added.
        * webgl/2.0.y/conformance/context/premultiplyalpha-test.html: Added.
        * webgl/2.0.y/conformance/context/user-defined-properties-on-context-expected.txt: Added.
        * webgl/2.0.y/conformance/context/user-defined-properties-on-context.html: Added.
        * webgl/2.0.y/conformance/context/zero-sized-canvas-expected.txt: Added.
        * webgl/2.0.y/conformance/context/zero-sized-canvas.html: Added.
        * webgl/2.0.y/conformance/extensions/ext-color-buffer-half-float-expected.txt: Added.
        * webgl/2.0.y/conformance/extensions/ext-color-buffer-half-float.html: Added.
        * webgl/2.0.y/conformance/extensions/ext-disjoint-timer-query-expected.txt: Added.
        * webgl/2.0.y/conformance/extensions/ext-disjoint-timer-query.html: Added.
        * webgl/2.0.y/conformance/extensions/ext-float-blend-expected.txt: Added.
        * webgl/2.0.y/conformance/extensions/ext-float-blend.html: Added.
        * webgl/2.0.y/conformance/extensions/ext-texture-compression-bptc-expected.txt: Added.
        * webgl/2.0.y/conformance/extensions/ext-texture-compression-bptc.html: Added.
        * webgl/2.0.y/conformance/extensions/ext-texture-compression-rgtc-expected.txt: Added.
        * webgl/2.0.y/conformance/extensions/ext-texture-compression-rgtc.html: Added.
        * webgl/2.0.y/conformance/extensions/ext-texture-filter-anisotropic-expected.txt: Added.
        * webgl/2.0.y/conformance/extensions/ext-texture-filter-anisotropic.html: Added.
        * webgl/2.0.y/conformance/extensions/get-extension-expected.txt: Added.
        * webgl/2.0.y/conformance/extensions/get-extension.html: Added.
        * webgl/2.0.y/conformance/extensions/khr-parallel-shader-compile-expected.txt: Added.
        * webgl/2.0.y/conformance/extensions/khr-parallel-shader-compile.html: Added.
        * webgl/2.0.y/conformance/extensions/oes-texture-float-linear-expected.txt: Added.
        * webgl/2.0.y/conformance/extensions/oes-texture-float-linear.html: Added.
        * webgl/2.0.y/conformance/extensions/s3tc-and-rgtc-expected.txt: Added.
        * webgl/2.0.y/conformance/extensions/s3tc-and-rgtc.html: Added.
        * webgl/2.0.y/conformance/extensions/webgl-compressed-texture-astc-expected.txt: Added.
        * webgl/2.0.y/conformance/extensions/webgl-compressed-texture-astc.html: Added.
        * webgl/2.0.y/conformance/extensions/webgl-compressed-texture-etc-expected.txt: Added.
        * webgl/2.0.y/conformance/extensions/webgl-compressed-texture-etc.html: Added.
        * webgl/2.0.y/conformance/extensions/webgl-compressed-texture-etc1-expected.txt: Added.
        * webgl/2.0.y/conformance/extensions/webgl-compressed-texture-etc1.html: Added.
        * webgl/2.0.y/conformance/extensions/webgl-compressed-texture-pvrtc-expected.txt: Added.
        * webgl/2.0.y/conformance/extensions/webgl-compressed-texture-pvrtc.html: Added.
        * webgl/2.0.y/conformance/extensions/webgl-compressed-texture-s3tc-srgb-expected.txt: Added.
        * webgl/2.0.y/conformance/extensions/webgl-compressed-texture-s3tc-srgb.html: Added.
        * webgl/2.0.y/conformance/extensions/webgl-compressed-texture-size-limit-expected.txt: Added.
        * webgl/2.0.y/conformance/extensions/webgl-compressed-texture-size-limit.html: Added.
        * webgl/2.0.y/conformance/extensions/webgl-debug-renderer-info-expected.txt: Added.
        * webgl/2.0.y/conformance/extensions/webgl-debug-renderer-info.html: Added.
        * webgl/2.0.y/conformance/extensions/webgl-debug-shaders-expected.txt: Added.
        * webgl/2.0.y/conformance/extensions/webgl-debug-shaders.html: Added.
        * webgl/2.0.y/conformance/extensions/webgl-multi-draw-expected.txt: Added.
        * webgl/2.0.y/conformance/extensions/webgl-multi-draw.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/angle-ambiguous-function-call-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/angle-ambiguous-function-call.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/angle-constructor-invalid-parameters-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/angle-constructor-invalid-parameters.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/angle-d3d11-compiler-error-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/angle-d3d11-compiler-error.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/angle-dx-variable-bug-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/angle-dx-variable-bug.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/array-of-struct-with-int-first-position-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/array-of-struct-with-int-first-position.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/assign-to-swizzled-twice-in-function-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/assign-to-swizzled-twice-in-function.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/bool-type-cast-bug-int-float-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/bool-type-cast-bug-int-float.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/character-set-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/character-set.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/compare-loop-index-to-uniform-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/compare-loop-index-to-uniform.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/complex-glsl-does-not-crash-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/complex-glsl-does-not-crash.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/compound-assignment-type-combination-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/compound-assignment-type-combination.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/conditional-discard-in-loop-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/conditional-discard-in-loop.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/conditional-discard-optimization-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/conditional-discard-optimization.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/conditional-texture-fetch-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/conditional-texture-fetch.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/constant-precision-qualifier-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/constant-precision-qualifier.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/floor-div-cos-should-not-truncate-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/floor-div-cos-should-not-truncate.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/floored-division-accuracy-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/floored-division-accuracy.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/fragcoord-linking-bug-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/fragcoord-linking-bug.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/gl-fragcoord-multisampling-bug-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/gl-fragcoord-multisampling-bug.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/global-invariant-does-not-leak-across-shaders-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/global-invariant-does-not-leak-across-shaders.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/if-return-and-elseif-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/if-return-and-elseif.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/in-parameter-passed-as-inout-argument-and-global-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/in-parameter-passed-as-inout-argument-and-global.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/init-array-with-loop-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/init-array-with-loop.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/invariant-does-not-leak-across-shaders-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/invariant-does-not-leak-across-shaders.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/logic-inside-block-without-braces-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/logic-inside-block-without-braces.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/long-expressions-should-not-crash-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/long-expressions-should-not-crash.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/loop-if-loop-gradient-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/loop-if-loop-gradient.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/modulo-arithmetic-accuracy-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/modulo-arithmetic-accuracy.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/multiplication-assignment-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/multiplication-assignment.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/nested-functions-should-not-crash-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/nested-functions-should-not-crash.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/nested-loops-with-break-and-continue-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/nested-loops-with-break-and-continue.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/nested-sequence-operator-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/nested-sequence-operator.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/pow-of-small-constant-in-user-defined-function-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/pow-of-small-constant-in-user-defined-function.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/pow-with-constant-exponent-should-not-crash-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/pow-with-constant-exponent-should-not-crash.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/qualcomm-crash-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/qualcomm-crash.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/qualcomm-loop-with-continue-crash-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/qualcomm-loop-with-continue-crash.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/sampler-array-struct-function-arg-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/sampler-array-struct-function-arg.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/sampler-array-using-loop-index-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/sampler-array-using-loop-index.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/sampler-struct-function-arg-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/sampler-struct-function-arg.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/sequence-operator-evaluation-order-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/sequence-operator-evaluation-order.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/sketchfab-lighting-shader-crash-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/sketchfab-lighting-shader-crash.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/struct-constructor-highp-bug-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/struct-constructor-highp-bug.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/struct-with-single-member-constructor-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/struct-with-single-member-constructor.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/temp-expressions-should-not-crash-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/temp-expressions-should-not-crash.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/unary-minus-operator-float-bug-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/unary-minus-operator-float-bug.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/undefined-index-should-not-crash-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/undefined-index-should-not-crash.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/uniforms-should-not-lose-values-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/uniforms-should-not-lose-values.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/varying-arrays-should-not-be-reversed-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/varying-arrays-should-not-be-reversed.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/vector-matrix-constructor-scalarization-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/vector-matrix-constructor-scalarization.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/vector-scalar-arithmetic-inside-loop-complex-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/vector-scalar-arithmetic-inside-loop-complex.html: Added.
        * webgl/2.0.y/conformance/glsl/bugs/vector-scalar-arithmetic-inside-loop-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/bugs/vector-scalar-arithmetic-inside-loop.html: Added.
        * webgl/2.0.y/conformance/glsl/constructors/glsl-construct-bvec2-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/constructors/glsl-construct-bvec2.html: Added.
        * webgl/2.0.y/conformance/glsl/constructors/glsl-construct-bvec3-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/constructors/glsl-construct-bvec3.html: Added.
        * webgl/2.0.y/conformance/glsl/constructors/glsl-construct-bvec4-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/constructors/glsl-construct-bvec4.html: Added.
        * webgl/2.0.y/conformance/glsl/constructors/glsl-construct-ivec2-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/constructors/glsl-construct-ivec2.html: Added.
        * webgl/2.0.y/conformance/glsl/constructors/glsl-construct-ivec3-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/constructors/glsl-construct-ivec3.html: Added.
        * webgl/2.0.y/conformance/glsl/constructors/glsl-construct-ivec4-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/constructors/glsl-construct-ivec4.html: Added.
        * webgl/2.0.y/conformance/glsl/constructors/glsl-construct-mat2-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/constructors/glsl-construct-mat2.html: Added.
        * webgl/2.0.y/conformance/glsl/constructors/glsl-construct-mat3-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/constructors/glsl-construct-mat3.html: Added.
        * webgl/2.0.y/conformance/glsl/constructors/glsl-construct-mat4-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/constructors/glsl-construct-mat4.html: Added.
        * webgl/2.0.y/conformance/glsl/constructors/glsl-construct-vec-mat-corner-cases-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/constructors/glsl-construct-vec-mat-corner-cases.html: Added.
        * webgl/2.0.y/conformance/glsl/constructors/glsl-construct-vec-mat-index-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/constructors/glsl-construct-vec-mat-index.html: Added.
        * webgl/2.0.y/conformance/glsl/constructors/glsl-construct-vec2-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/constructors/glsl-construct-vec2.html: Added.
        * webgl/2.0.y/conformance/glsl/constructors/glsl-construct-vec3-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/constructors/glsl-construct-vec3.html: Added.
        * webgl/2.0.y/conformance/glsl/constructors/glsl-construct-vec4-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/constructors/glsl-construct-vec4.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-abs-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-abs.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-acos-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-acos.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-asin-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-asin.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-atan-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-atan-xy-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-atan-xy.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-atan.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-ceil-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-ceil.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-clamp-float-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-clamp-float.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-clamp-gentype-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-clamp-gentype.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-cos-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-cos.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-cross-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-cross.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-distance-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-distance.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-dot-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-dot.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-faceforward-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-faceforward.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-floor-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-floor.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-fract-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-fract.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-length-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-length.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-max-float-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-max-float.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-max-gentype-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-max-gentype.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-min-float-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-min-float.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-min-gentype-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-min-gentype.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-mix-float-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-mix-float.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-mix-gentype-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-mix-gentype.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-mod-float-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-mod-float.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-mod-gentype-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-mod-gentype.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-normalize-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-normalize.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-reflect-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-reflect.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-sign-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-sign.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-sin-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-sin.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-smoothstep-float-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-smoothstep-float.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-smoothstep-gentype-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-smoothstep-gentype.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-step-float-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-step-float.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-step-gentype-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function-step-gentype.html: Added.
        * webgl/2.0.y/conformance/glsl/functions/glsl-function.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/add_int_float.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/add_int_float.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/add_int_mat2.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/add_int_mat2.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/add_int_mat3.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/add_int_mat3.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/add_int_mat4.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/add_int_mat4.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/add_int_vec2.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/add_int_vec2.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/add_int_vec3.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/add_int_vec3.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/add_int_vec4.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/add_int_vec4.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/add_ivec2_vec2.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/add_ivec2_vec2.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/add_ivec3_vec3.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/add_ivec3_vec3.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/add_ivec4_vec4.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/add_ivec4_vec4.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/assign_int_to_float.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/assign_int_to_float.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/assign_ivec2_to_vec2.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/assign_ivec2_to_vec2.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/assign_ivec3_to_vec3.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/assign_ivec3_to_vec3.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/assign_ivec4_to_vec4.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/assign_ivec4_to_vec4.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/construct_struct.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/construct_struct.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/divide_int_float.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/divide_int_float.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/divide_int_mat2.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/divide_int_mat2.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/divide_int_mat3.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/divide_int_mat3.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/divide_int_mat4.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/divide_int_mat4.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/divide_int_vec2.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/divide_int_vec2.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/divide_int_vec3.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/divide_int_vec3.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/divide_int_vec4.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/divide_int_vec4.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/divide_ivec2_vec2.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/divide_ivec2_vec2.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/divide_ivec3_vec3.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/divide_ivec3_vec3.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/divide_ivec4_vec4.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/divide_ivec4_vec4.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/equal_int_float.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/equal_int_float.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/equal_ivec2_vec2.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/equal_ivec2_vec2.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/equal_ivec3_vec3.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/equal_ivec3_vec3.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/equal_ivec4_vec4.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/equal_ivec4_vec4.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/function_int_float.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/function_int_float.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/function_ivec2_vec2.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/function_ivec2_vec2.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/function_ivec3_vec3.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/function_ivec3_vec3.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/function_ivec4_vec4.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/function_ivec4_vec4.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/greater_than.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/greater_than.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/greater_than_equal.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/greater_than_equal.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/less_than.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/less_than.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/less_than_equal.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/less_than_equal.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/multiply_int_float.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/multiply_int_float.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/multiply_int_mat2.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/multiply_int_mat2.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/multiply_int_mat3.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/multiply_int_mat3.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/multiply_int_mat4.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/multiply_int_mat4.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/multiply_int_vec2.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/multiply_int_vec2.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/multiply_int_vec3.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/multiply_int_vec3.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/multiply_int_vec4.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/multiply_int_vec4.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/multiply_ivec2_vec2.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/multiply_ivec2_vec2.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/multiply_ivec3_vec3.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/multiply_ivec3_vec3.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/multiply_ivec4_vec4.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/multiply_ivec4_vec4.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/not_equal_int_float.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/not_equal_int_float.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/not_equal_ivec2_vec2.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/not_equal_ivec2_vec2.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/not_equal_ivec3_vec3.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/not_equal_ivec3_vec3.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/not_equal_ivec4_vec4.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/not_equal_ivec4_vec4.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/subtract_int_float.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/subtract_int_float.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/subtract_int_mat2.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/subtract_int_mat2.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/subtract_int_mat3.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/subtract_int_mat3.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/subtract_int_mat4.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/subtract_int_mat4.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/subtract_int_vec2.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/subtract_int_vec2.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/subtract_int_vec3.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/subtract_int_vec3.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/subtract_int_vec4.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/subtract_int_vec4.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/subtract_ivec2_vec2.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/subtract_ivec2_vec2.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/subtract_ivec3_vec3.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/subtract_ivec3_vec3.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/subtract_ivec4_vec4.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/subtract_ivec4_vec4.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/ternary_int_float.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/ternary_int_float.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/ternary_ivec2_vec2.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/ternary_ivec2_vec2.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/ternary_ivec3_vec3.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/ternary_ivec3_vec3.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/implicit/ternary_ivec4_vec4.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/implicit/ternary_ivec4_vec4.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/literals/float_literal.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/literals/float_literal.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/literals/literal_precision-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/literals/literal_precision.html: Added.
        * webgl/2.0.y/conformance/glsl/literals/overflow_leak.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/literals/overflow_leak.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/matrices/glsl-mat3-construction-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/matrices/glsl-mat3-construction.html: Added.
        * webgl/2.0.y/conformance/glsl/matrices/glsl-mat4-to-mat3-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/matrices/glsl-mat4-to-mat3.html: Added.
        * webgl/2.0.y/conformance/glsl/matrices/matrix-compound-multiply-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/matrices/matrix-compound-multiply.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/boolean_precision-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/boolean_precision.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/const-variable-initialization-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/const-variable-initialization.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/embedded-struct-definitions-forbidden-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/embedded-struct-definitions-forbidden.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/empty-declaration-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/empty-declaration.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/empty_main.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/empty_main.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/expression-list-in-declarator-initializer-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/expression-list-in-declarator-initializer.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/fragcolor-fragdata-invariant-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/fragcolor-fragdata-invariant.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/gl_position_unset.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/gl_position_unset.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/global-variable-init-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/global-variable-init.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/glsl-function-nodes-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/glsl-function-nodes.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/glsl-long-variable-names-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/glsl-long-variable-names.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/glsl-vertex-branch-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/glsl-vertex-branch.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/large-loop-compile-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/large-loop-compile.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/local-variable-shadowing-outer-function-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/local-variable-shadowing-outer-function.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/non-ascii-comments.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/non-ascii-comments.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/non-ascii.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/non-ascii.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/re-compile-re-link-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/re-compile-re-link.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/sampler-operand-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/sampler-operand.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/sequence-operator-returns-constant-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/sequence-operator-returns-constant.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-precision-format-obeyed-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-precision-format-obeyed.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-struct-scope-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-struct-scope.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-uniform-packing-restrictions-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-uniform-packing-restrictions.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-varying-packing-restrictions-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-varying-packing-restrictions.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-256-character-define-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-256-character-define.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-256-character-identifier.frag-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-256-character-identifier.frag.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-_webgl-identifier.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-_webgl-identifier.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-arbitrary-indexing.frag-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-arbitrary-indexing.frag.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-arbitrary-indexing.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-arbitrary-indexing.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-array-of-structs-containing-arrays-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-array-of-structs-containing-arrays.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-array-of-structs-uniform-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-array-of-structs-uniform.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-attrib-array.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-attrib-array.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-attrib-struct.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-attrib-struct.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-clipvertex.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-clipvertex.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-comma-assignment-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-comma-assignment.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-comma-conditional-assignment-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-comma-conditional-assignment.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-comma-separated-variable-declarations-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-comma-separated-variable-declarations.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-conditional-scoping-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-conditional-scoping-negative-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-conditional-scoping-negative.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-conditional-scoping.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-default-precision.frag-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-default-precision.frag.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-default-precision.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-default-precision.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-dfdx-no-ext.frag-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-dfdx-no-ext.frag.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-dfdx.frag-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-dfdx.frag.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-do-loop-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-do-loop.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-error-directive-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-error-directive.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-explicit-int-cast.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-explicit-int-cast.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-float-return-value.frag-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-float-return-value.frag.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-for-loop-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-for-loop.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-for-scoping-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-for-scoping.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-frag-depth.frag-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-frag-depth.frag.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-function-recursion.frag-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-function-recursion.frag.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-function-scoped-struct-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-function-scoped-struct.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-functional-scoping-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-functional-scoping.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-glcolor.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-glcolor.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-gles-1.frag-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-gles-1.frag.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-gles-symbol.frag-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-gles-symbol.frag.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-global-variable-precision-mismatch-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-global-variable-precision-mismatch.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-glprojectionmatrix.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-glprojectionmatrix.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-hex-int-constant-macro-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-hex-int-constant-macro.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-implicit-vec3-to-vec4-cast.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-implicit-vec3-to-vec4-cast.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-include.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-include.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-int-return-value.frag-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-int-return-value.frag.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-invalid-identifier.frag-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-invalid-identifier.frag.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-ivec2-return-value.frag-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-ivec2-return-value.frag.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-ivec3-return-value.frag-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-ivec3-return-value.frag.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-ivec4-return-value.frag-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-ivec4-return-value.frag.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-limited-indexing.frag-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-limited-indexing.frag.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-long-line-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-long-line.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-non-ascii-error.frag-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-non-ascii-error.frag.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-non-reserved-words-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-non-reserved-words.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-precision.frag-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-precision.frag.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-preprocessor-whitespace-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-preprocessor-whitespace.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-quoted-error.frag-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-quoted-error.frag.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-reserved-words-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-reserved-words.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-short-circuiting-operators-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-short-circuiting-operators.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-similar-uniform-array-names-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-similar-uniform-array-names.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-too-many-uniforms-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-too-many-uniforms.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-two-initializer-types-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-two-initializer-types.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-undefined-preprocessor-symbol.frag-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-undefined-preprocessor-symbol.frag.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-uniform-in-loop-condition.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-uniform-in-loop-condition.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-vec2-return-value.frag-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-vec2-return-value.frag.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-vec3-return-value.frag-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-vec3-return-value.frag.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-vec4-return-value.frag-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-vec4-return-value.frag.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-vec4-vec3-vec4-conditional-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-vec4-vec3-vec4-conditional.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-version-100.frag-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-version-100.frag.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-version-100.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-version-100.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-version-120.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-version-120.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-version-130.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-version-130.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-webgl-identifier.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-webgl-identifier.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-while-loop-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-with-while-loop.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-without-precision.frag-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shader-without-precision.frag.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shaders-with-constant-expression-loop-conditions-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shaders-with-constant-expression-loop-conditions.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shaders-with-invariance-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shaders-with-invariance.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shaders-with-mis-matching-uniforms-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shaders-with-mis-matching-uniforms.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shaders-with-mis-matching-varyings-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shaders-with-mis-matching-varyings.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shaders-with-missing-varyings-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shaders-with-missing-varyings.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shaders-with-name-conflicts-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shaders-with-name-conflicts.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shaders-with-uniform-structs-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shaders-with-uniform-structs.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shaders-with-varyings-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shaders-with-varyings.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/shared-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/shared.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/struct-as-inout-parameter-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/struct-as-inout-parameter.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/struct-as-out-parameter-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/struct-as-out-parameter.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/struct-assign-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/struct-assign.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/struct-equals-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/struct-equals.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/struct-mixed-array-declarators-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/struct-mixed-array-declarators.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/struct-nesting-exceeds-maximum-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/struct-nesting-exceeds-maximum.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/struct-nesting-of-variable-names-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/struct-nesting-of-variable-names.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/struct-nesting-under-maximum-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/struct-nesting-under-maximum.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/struct-specifiers-in-uniforms-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/struct-specifiers-in-uniforms.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/struct-unary-operators-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/struct-unary-operators.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/ternary-operator-on-arrays-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/ternary-operator-on-arrays.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/ternary-operators-in-global-initializers-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/ternary-operators-in-global-initializers.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/ternary-operators-in-initializers-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/ternary-operators-in-initializers.html: Added.
        * webgl/2.0.y/conformance/glsl/misc/uninitialized-local-global-variables-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/misc/uninitialized-local-global-variables.html: Added.
        * webgl/2.0.y/conformance/glsl/preprocessor/comments-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/preprocessor/comments.html: Added.
        * webgl/2.0.y/conformance/glsl/preprocessor/macro-expansion-tricky-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/preprocessor/macro-expansion-tricky.html: Added.
        * webgl/2.0.y/conformance/glsl/reserved/_webgl_field.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/reserved/_webgl_field.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/reserved/_webgl_function.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/reserved/_webgl_function.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/reserved/_webgl_struct.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/reserved/_webgl_struct.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/reserved/_webgl_variable.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/reserved/_webgl_variable.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/reserved/webgl_field.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/reserved/webgl_field.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/reserved/webgl_function.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/reserved/webgl_function.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/reserved/webgl_struct.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/reserved/webgl_struct.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/reserved/webgl_variable.vert-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/reserved/webgl_variable.vert.html: Added.
        * webgl/2.0.y/conformance/glsl/samplers/glsl-function-texture2d-bias-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/samplers/glsl-function-texture2d-bias.html: Added.
        * webgl/2.0.y/conformance/glsl/samplers/glsl-function-texture2dlod-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/samplers/glsl-function-texture2dlod.html: Added.
        * webgl/2.0.y/conformance/glsl/samplers/glsl-function-texture2dproj-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/samplers/glsl-function-texture2dproj.html: Added.
        * webgl/2.0.y/conformance/glsl/samplers/glsl-function-texture2dprojlod-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/samplers/glsl-function-texture2dprojlod.html: Added.
        * webgl/2.0.y/conformance/glsl/variables/gl-fragcoord-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/variables/gl-fragcoord-xy-values-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/variables/gl-fragcoord-xy-values.html: Added.
        * webgl/2.0.y/conformance/glsl/variables/gl-fragcoord.html: Added.
        * webgl/2.0.y/conformance/glsl/variables/gl-fragdata-and-fragcolor-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/variables/gl-fragdata-and-fragcolor.html: Added.
        * webgl/2.0.y/conformance/glsl/variables/gl-frontfacing-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/variables/gl-frontfacing.html: Added.
        * webgl/2.0.y/conformance/glsl/variables/gl-pointcoord-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/variables/gl-pointcoord.html: Added.
        * webgl/2.0.y/conformance/glsl/variables/glsl-built-ins-expected.txt: Added.
        * webgl/2.0.y/conformance/glsl/variables/glsl-built-ins.html: Added.
        * webgl/2.0.y/conformance/limits/gl-line-width-expected.txt: Added.
        * webgl/2.0.y/conformance/limits/gl-line-width.html: Added.
        * webgl/2.0.y/conformance/limits/gl-max-texture-dimensions-expected.txt: Added.
        * webgl/2.0.y/conformance/limits/gl-max-texture-dimensions.html: Added.
        * webgl/2.0.y/conformance/limits/gl-min-attribs-expected.txt: Added.
        * webgl/2.0.y/conformance/limits/gl-min-attribs.html: Added.
        * webgl/2.0.y/conformance/limits/gl-min-textures-expected.txt: Added.
        * webgl/2.0.y/conformance/limits/gl-min-textures.html: Added.
        * webgl/2.0.y/conformance/limits/gl-min-uniforms-expected.txt: Added.
        * webgl/2.0.y/conformance/limits/gl-min-uniforms.html: Added.
        * webgl/2.0.y/conformance/misc/bad-arguments-test-expected.txt: Added.
        * webgl/2.0.y/conformance/misc/bad-arguments-test.html: Added.
        * webgl/2.0.y/conformance/misc/boolean-argument-conversion-expected.txt: Added.
        * webgl/2.0.y/conformance/misc/boolean-argument-conversion.html: Added.
        * webgl/2.0.y/conformance/misc/delayed-drawing-expected.txt: Added.
        * webgl/2.0.y/conformance/misc/delayed-drawing.html: Added.
        * webgl/2.0.y/conformance/misc/error-reporting-expected.txt: Added.
        * webgl/2.0.y/conformance/misc/error-reporting.html: Added.
        * webgl/2.0.y/conformance/misc/expando-loss-expected.txt: Added.
        * webgl/2.0.y/conformance/misc/expando-loss.html: Added.
        * webgl/2.0.y/conformance/misc/functions-returning-strings-expected.txt: Added.
        * webgl/2.0.y/conformance/misc/functions-returning-strings.html: Added.
        * webgl/2.0.y/conformance/misc/invalid-passed-params-expected.txt: Added.
        * webgl/2.0.y/conformance/misc/invalid-passed-params.html: Added.
        * webgl/2.0.y/conformance/misc/is-object-expected.txt: Added.
        * webgl/2.0.y/conformance/misc/is-object.html: Added.
        * webgl/2.0.y/conformance/misc/null-object-behaviour-expected.txt: Added.
        * webgl/2.0.y/conformance/misc/null-object-behaviour.html: Added.
        * webgl/2.0.y/conformance/misc/object-deletion-behaviour-expected.txt: Added.
        * webgl/2.0.y/conformance/misc/object-deletion-behaviour.html: Added.
        * webgl/2.0.y/conformance/misc/shader-precision-format-expected.txt: Added.
        * webgl/2.0.y/conformance/misc/shader-precision-format.html: Added.
        * webgl/2.0.y/conformance/misc/type-conversion-test-expected.txt: Added.
        * webgl/2.0.y/conformance/misc/type-conversion-test.html: Added.
        * webgl/2.0.y/conformance/misc/uninitialized-test-expected.txt: Added.
        * webgl/2.0.y/conformance/misc/uninitialized-test.html: Added.
        * webgl/2.0.y/conformance/misc/webgl-specific-expected.txt: Added.
        * webgl/2.0.y/conformance/misc/webgl-specific-stencil-settings-expected.txt: Added.
        * webgl/2.0.y/conformance/misc/webgl-specific-stencil-settings.html: Added.
        * webgl/2.0.y/conformance/misc/webgl-specific.html: Added.
        * webgl/2.0.y/conformance/more/conformance/constants-expected.txt: Added.
        * webgl/2.0.y/conformance/more/conformance/constants.html: Added.
        * webgl/2.0.y/conformance/more/conformance/getContext-expected.txt: Added.
        * webgl/2.0.y/conformance/more/conformance/getContext.html: Added.
        * webgl/2.0.y/conformance/more/conformance/methods-expected.txt: Added.
        * webgl/2.0.y/conformance/more/conformance/methods.html: Added.
        * webgl/2.0.y/conformance/more/conformance/quickCheckAPI-A-expected.txt: Added.
        * webgl/2.0.y/conformance/more/conformance/quickCheckAPI-A.html: Added.
        * webgl/2.0.y/conformance/more/conformance/quickCheckAPI-B1-expected.txt: Added.
        * webgl/2.0.y/conformance/more/conformance/quickCheckAPI-B1.html: Added.
        * webgl/2.0.y/conformance/more/conformance/quickCheckAPI-B2-expected.txt: Added.
        * webgl/2.0.y/conformance/more/conformance/quickCheckAPI-B2.html: Added.
        * webgl/2.0.y/conformance/more/conformance/quickCheckAPI-B3-expected.txt: Added.
        * webgl/2.0.y/conformance/more/conformance/quickCheckAPI-B3.html: Added.
        * webgl/2.0.y/conformance/more/conformance/quickCheckAPI-B4-expected.txt: Added.
        * webgl/2.0.y/conformance/more/conformance/quickCheckAPI-B4.html: Added.
        * webgl/2.0.y/conformance/more/conformance/quickCheckAPI-C-expected.txt: Added.
        * webgl/2.0.y/conformance/more/conformance/quickCheckAPI-C.html: Added.
        * webgl/2.0.y/conformance/more/conformance/quickCheckAPI-D_G-expected.txt: Added.
        * webgl/2.0.y/conformance/more/conformance/quickCheckAPI-D_G.html: Added.
        * webgl/2.0.y/conformance/more/conformance/quickCheckAPI-G_I-expected.txt: Added.
        * webgl/2.0.y/conformance/more/conformance/quickCheckAPI-G_I.html: Added.
        * webgl/2.0.y/conformance/more/conformance/quickCheckAPI-L_S-expected.txt: Added.
        * webgl/2.0.y/conformance/more/conformance/quickCheckAPI-L_S.html: Added.
        * webgl/2.0.y/conformance/more/conformance/quickCheckAPI-S_V-expected.txt: Added.
        * webgl/2.0.y/conformance/more/conformance/quickCheckAPI-S_V.html: Added.
        * webgl/2.0.y/conformance/more/conformance/webGLArrays-expected.txt: Added.
        * webgl/2.0.y/conformance/more/conformance/webGLArrays.html: Added.
        * webgl/2.0.y/conformance/more/functions/bindBuffer-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/bindBuffer.html: Added.
        * webgl/2.0.y/conformance/more/functions/bindBufferBadArgs-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/bindBufferBadArgs.html: Added.
        * webgl/2.0.y/conformance/more/functions/bindFramebufferLeaveNonZero-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/bindFramebufferLeaveNonZero.html: Added.
        * webgl/2.0.y/conformance/more/functions/bufferData-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/bufferData.html: Added.
        * webgl/2.0.y/conformance/more/functions/bufferDataBadArgs-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/bufferDataBadArgs.html: Added.
        * webgl/2.0.y/conformance/more/functions/bufferSubData-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/bufferSubData.html: Added.
        * webgl/2.0.y/conformance/more/functions/bufferSubDataBadArgs-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/bufferSubDataBadArgs.html: Added.
        * webgl/2.0.y/conformance/more/functions/copyTexImage2D-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/copyTexImage2D.html: Added.
        * webgl/2.0.y/conformance/more/functions/copyTexImage2DBadArgs-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/copyTexImage2DBadArgs.html: Added.
        * webgl/2.0.y/conformance/more/functions/copyTexSubImage2D-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/copyTexSubImage2D.html: Added.
        * webgl/2.0.y/conformance/more/functions/copyTexSubImage2DBadArgs-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/copyTexSubImage2DBadArgs.html: Added.
        * webgl/2.0.y/conformance/more/functions/deleteBufferBadArgs-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/deleteBufferBadArgs.html: Added.
        * webgl/2.0.y/conformance/more/functions/drawArrays-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/drawArrays.html: Added.
        * webgl/2.0.y/conformance/more/functions/drawElements-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/drawElements.html: Added.
        * webgl/2.0.y/conformance/more/functions/isTests-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/isTests.html: Added.
        * webgl/2.0.y/conformance/more/functions/isTestsBadArgs-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/isTestsBadArgs.html: Added.
        * webgl/2.0.y/conformance/more/functions/readPixels-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/readPixels.html: Added.
        * webgl/2.0.y/conformance/more/functions/readPixelsBadArgs-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/readPixelsBadArgs.html: Added.
        * webgl/2.0.y/conformance/more/functions/texImage2D-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/texImage2D.html: Added.
        * webgl/2.0.y/conformance/more/functions/texImage2DBadArgs-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/texImage2DBadArgs.html: Added.
        * webgl/2.0.y/conformance/more/functions/texImage2DHTML-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/texImage2DHTML.html: Added.
        * webgl/2.0.y/conformance/more/functions/texImage2DHTMLBadArgs-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/texImage2DHTMLBadArgs.html: Added.
        * webgl/2.0.y/conformance/more/functions/texSubImage2D-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/texSubImage2D.html: Added.
        * webgl/2.0.y/conformance/more/functions/texSubImage2DBadArgs-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/texSubImage2DBadArgs.html: Added.
        * webgl/2.0.y/conformance/more/functions/texSubImage2DHTML-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/texSubImage2DHTML.html: Added.
        * webgl/2.0.y/conformance/more/functions/texSubImage2DHTMLBadArgs-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/texSubImage2DHTMLBadArgs.html: Added.
        * webgl/2.0.y/conformance/more/functions/uniformMatrix-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/uniformMatrix.html: Added.
        * webgl/2.0.y/conformance/more/functions/uniformMatrixBadArgs-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/uniformMatrixBadArgs.html: Added.
        * webgl/2.0.y/conformance/more/functions/uniformf-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/uniformf.html: Added.
        * webgl/2.0.y/conformance/more/functions/uniformfArrayLen1-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/uniformfArrayLen1.html: Added.
        * webgl/2.0.y/conformance/more/functions/uniformfBadArgs-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/uniformfBadArgs.html: Added.
        * webgl/2.0.y/conformance/more/functions/uniformi-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/uniformi.html: Added.
        * webgl/2.0.y/conformance/more/functions/uniformiBadArgs-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/uniformiBadArgs.html: Added.
        * webgl/2.0.y/conformance/more/functions/vertexAttrib-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/vertexAttrib.html: Added.
        * webgl/2.0.y/conformance/more/functions/vertexAttribBadArgs-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/vertexAttribBadArgs.html: Added.
        * webgl/2.0.y/conformance/more/functions/vertexAttribPointer-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/vertexAttribPointer.html: Added.
        * webgl/2.0.y/conformance/more/functions/vertexAttribPointerBadArgs-expected.txt: Added.
        * webgl/2.0.y/conformance/more/functions/vertexAttribPointerBadArgs.html: Added.
        * webgl/2.0.y/conformance/more/glsl/arrayOutOfBounds-expected.txt: Added.
        * webgl/2.0.y/conformance/more/glsl/arrayOutOfBounds.html: Added.
        * webgl/2.0.y/conformance/more/glsl/uniformOutOfBounds-expected.txt: Added.
        * webgl/2.0.y/conformance/more/glsl/uniformOutOfBounds.html: Added.
        * webgl/2.0.y/conformance/offscreencanvas/context-attribute-preserve-drawing-buffer-expected.txt: Added.
        * webgl/2.0.y/conformance/offscreencanvas/context-attribute-preserve-drawing-buffer.html: Added.
        * webgl/2.0.y/conformance/offscreencanvas/context-creation-expected.txt: Added.
        * webgl/2.0.y/conformance/offscreencanvas/context-creation-worker-expected.txt: Added.
        * webgl/2.0.y/conformance/offscreencanvas/context-creation-worker.html: Added.
        * webgl/2.0.y/conformance/offscreencanvas/context-creation.html: Added.
        * webgl/2.0.y/conformance/offscreencanvas/context-lost-expected.txt: Added.
        * webgl/2.0.y/conformance/offscreencanvas/context-lost-restored-expected.txt: Added.
        * webgl/2.0.y/conformance/offscreencanvas/context-lost-restored-worker-expected.txt: Added.
        * webgl/2.0.y/conformance/offscreencanvas/context-lost-restored-worker.html: Added.
        * webgl/2.0.y/conformance/offscreencanvas/context-lost-restored.html: Added.
        * webgl/2.0.y/conformance/offscreencanvas/context-lost-worker-expected.txt: Added.
        * webgl/2.0.y/conformance/offscreencanvas/context-lost-worker.html: Added.
        * webgl/2.0.y/conformance/offscreencanvas/context-lost.html: Added.
        * webgl/2.0.y/conformance/offscreencanvas/methods-expected.txt: Added.
        * webgl/2.0.y/conformance/offscreencanvas/methods-worker-expected.txt: Added.
        * webgl/2.0.y/conformance/offscreencanvas/methods-worker.html: Added.
        * webgl/2.0.y/conformance/offscreencanvas/methods.html: Added.
        * webgl/2.0.y/conformance/offscreencanvas/offscreencanvas-resize-expected.txt: Added.
        * webgl/2.0.y/conformance/offscreencanvas/offscreencanvas-resize.html: Added.
        * webgl/2.0.y/conformance/offscreencanvas/offscreencanvas-timer-query-expected.txt: Added.
        * webgl/2.0.y/conformance/offscreencanvas/offscreencanvas-timer-query.html: Added.
        * webgl/2.0.y/conformance/offscreencanvas/offscreencanvas-transfer-image-bitmap-expected.txt: Added.
        * webgl/2.0.y/conformance/offscreencanvas/offscreencanvas-transfer-image-bitmap.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/abs/abs_001_to_006-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/abs/abs_001_to_006.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/acos/acos_001_to_006-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/acos/acos_001_to_006.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/all/all_001_to_004-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/all/all_001_to_004.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/any/any_001_to_004-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/any/any_001_to_004.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/array/array_001_to_006-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/array/array_001_to_006.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/asin/asin_001_to_006-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/asin/asin_001_to_006.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/atan/atan_001_to_008-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/atan/atan_001_to_008.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/atan/atan_009_to_012-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/atan/atan_009_to_012.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/biConstants/biConstants_001_to_008-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/biConstants/biConstants_001_to_008.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/biConstants/biConstants_009_to_016-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/biConstants/biConstants_009_to_016.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/biuDepthRange/biuDepthRange_001_to_002-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/biuDepthRange/biuDepthRange_001_to_002.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/built_in_varying_array_out_of_bounds/built_in_varying_array_out_of_bounds_001_to_001-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/built_in_varying_array_out_of_bounds/built_in_varying_array_out_of_bounds_001_to_001.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/ceil/ceil_001_to_006-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/ceil/ceil_001_to_006.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/clamp/clamp_001_to_006-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/clamp/clamp_001_to_006.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/control_flow/control_flow_001_to_008-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/control_flow/control_flow_001_to_008.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/control_flow/control_flow_009_to_010-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/control_flow/control_flow_009_to_010.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/cos/cos_001_to_006-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/cos/cos_001_to_006.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/cross/cross_001_to_002-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/cross/cross_001_to_002.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/default/default_001_to_001-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/default/default_001_to_001.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/degrees/degrees_001_to_006-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/degrees/degrees_001_to_006.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/discard/discard_001_to_002-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/discard/discard_001_to_002.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/distance/distance_001_to_006-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/distance/distance_001_to_006.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/dot/dot_001_to_006-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/dot/dot_001_to_006.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/equal/equal_001_to_008-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/equal/equal_001_to_008.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/equal/equal_009_to_012-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/equal/equal_009_to_012.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/exp/exp_001_to_008-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/exp/exp_001_to_008.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/exp/exp_009_to_012-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/exp/exp_009_to_012.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/exp2/exp2_001_to_008-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/exp2/exp2_001_to_008.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/exp2/exp2_009_to_012-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/exp2/exp2_009_to_012.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/faceforward/faceforward_001_to_006-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/faceforward/faceforward_001_to_006.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/floor/floor_001_to_006-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/floor/floor_001_to_006.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/fract/fract_001_to_006-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/fract/fract_001_to_006.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_001_to_008-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_001_to_008.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_009_to_016-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_009_to_016.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_017_to_024-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_017_to_024.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_025_to_032-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_025_to_032.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_033_to_040-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_033_to_040.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_041_to_048-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_041_to_048.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_049_to_056-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_049_to_056.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_057_to_064-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_057_to_064.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_065_to_072-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_065_to_072.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_073_to_080-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_073_to_080.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_081_to_088-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_081_to_088.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_089_to_096-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_089_to_096.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_097_to_104-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_097_to_104.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_105_to_112-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_105_to_112.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_113_to_120-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_113_to_120.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_121_to_126-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/functions/functions_121_to_126.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/gl_FragCoord/gl_FragCoord_001_to_003-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/gl_FragCoord/gl_FragCoord_001_to_003.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/gl_FrontFacing/gl_FrontFacing_001_to_001-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/gl_FrontFacing/gl_FrontFacing_001_to_001.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/greaterThan/greaterThan_001_to_008-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/greaterThan/greaterThan_001_to_008.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/greaterThanEqual/greaterThanEqual_001_to_008-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/greaterThanEqual/greaterThanEqual_001_to_008.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/inversesqrt/inversesqrt_001_to_006-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/inversesqrt/inversesqrt_001_to_006.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/length/length_001_to_006-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/length/length_001_to_006.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/lessThan/lessThan_001_to_008-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/lessThan/lessThan_001_to_008.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/lessThanEqual/lessThanEqual_001_to_008-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/lessThanEqual/lessThanEqual_001_to_008.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/log/log_001_to_008-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/log/log_001_to_008.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/log/log_009_to_012-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/log/log_009_to_012.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/log2/log2_001_to_008-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/log2/log2_001_to_008.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/log2/log2_009_to_012-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/log2/log2_009_to_012.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/mat/mat_001_to_008-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/mat/mat_001_to_008.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/mat/mat_009_to_016-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/mat/mat_009_to_016.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/mat/mat_017_to_024-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/mat/mat_017_to_024.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/mat/mat_025_to_032-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/mat/mat_025_to_032.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/mat/mat_033_to_040-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/mat/mat_033_to_040.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/mat/mat_041_to_046-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/mat/mat_041_to_046.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/mat3/mat3_001_to_006-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/mat3/mat3_001_to_006.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/matrixCompMult/matrixCompMult_001_to_004-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/matrixCompMult/matrixCompMult_001_to_004.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/max/max_001_to_006-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/max/max_001_to_006.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/min/min_001_to_006-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/min/min_001_to_006.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/mix/mix_001_to_006-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/mix/mix_001_to_006.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/mod/mod_001_to_008-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/mod/mod_001_to_008.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/normalize/normalize_001_to_006-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/normalize/normalize_001_to_006.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/not/not_001_to_004-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/not/not_001_to_004.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/notEqual/notEqual_001_to_008-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/notEqual/notEqual_001_to_008.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/notEqual/notEqual_009_to_012-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/notEqual/notEqual_009_to_012.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/operators/operators_001_to_008-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/operators/operators_001_to_008.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/operators/operators_009_to_016-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/operators/operators_009_to_016.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/operators/operators_017_to_024-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/operators/operators_017_to_024.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/operators/operators_025_to_026-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/operators/operators_025_to_026.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/pow/pow_001_to_008-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/pow/pow_001_to_008.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/pow/pow_009_to_016-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/pow/pow_009_to_016.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/pow/pow_017_to_024-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/pow/pow_017_to_024.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/radians/radians_001_to_006-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/radians/radians_001_to_006.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/reflect/reflect_001_to_006-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/reflect/reflect_001_to_006.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/refract/refract_001_to_006-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/refract/refract_001_to_006.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/sign/sign_001_to_006-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/sign/sign_001_to_006.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/sin/sin_001_to_006-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/sin/sin_001_to_006.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/smoothstep/smoothstep_001_to_006-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/smoothstep/smoothstep_001_to_006.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/sqrt/sqrt_001_to_006-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/sqrt/sqrt_001_to_006.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/step/step_001_to_006-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/step/step_001_to_006.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/struct/struct_001_to_008-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/struct/struct_001_to_008.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/struct/struct_009_to_016-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/struct/struct_009_to_016.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/struct/struct_017_to_024-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/struct/struct_017_to_024.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/struct/struct_025_to_032-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/struct/struct_025_to_032.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/struct/struct_033_to_040-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/struct/struct_033_to_040.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/struct/struct_041_to_048-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/struct/struct_041_to_048.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/struct/struct_049_to_056-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/struct/struct_049_to_056.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/swizzlers/swizzlers_001_to_008-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/swizzlers/swizzlers_001_to_008.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/swizzlers/swizzlers_009_to_016-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/swizzlers/swizzlers_009_to_016.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/swizzlers/swizzlers_017_to_024-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/swizzlers/swizzlers_017_to_024.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/swizzlers/swizzlers_025_to_032-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/swizzlers/swizzlers_025_to_032.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/swizzlers/swizzlers_033_to_040-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/swizzlers/swizzlers_033_to_040.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/swizzlers/swizzlers_041_to_048-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/swizzlers/swizzlers_041_to_048.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/swizzlers/swizzlers_049_to_056-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/swizzlers/swizzlers_049_to_056.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/swizzlers/swizzlers_057_to_064-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/swizzlers/swizzlers_057_to_064.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/swizzlers/swizzlers_065_to_072-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/swizzlers/swizzlers_065_to_072.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/swizzlers/swizzlers_073_to_080-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/swizzlers/swizzlers_073_to_080.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/swizzlers/swizzlers_081_to_088-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/swizzlers/swizzlers_081_to_088.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/swizzlers/swizzlers_089_to_096-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/swizzlers/swizzlers_089_to_096.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/swizzlers/swizzlers_097_to_104-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/swizzlers/swizzlers_097_to_104.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/swizzlers/swizzlers_105_to_112-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/swizzlers/swizzlers_105_to_112.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/swizzlers/swizzlers_113_to_120-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/swizzlers/swizzlers_113_to_120.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/tan/tan_001_to_006-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/tan/tan_001_to_006.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/vec/vec_001_to_008-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/vec/vec_001_to_008.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/vec/vec_009_to_016-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/vec/vec_009_to_016.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/vec/vec_017_to_018-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/vec/vec_017_to_018.html: Added.
        * webgl/2.0.y/conformance/ogles/GL/vec3/vec3_001_to_008-expected.txt: Added.
        * webgl/2.0.y/conformance/ogles/GL/vec3/vec3_001_to_008.html: Added.
        * webgl/2.0.y/conformance/programs/get-active-test-expected.txt: Added.
        * webgl/2.0.y/conformance/programs/get-active-test.html: Added.
        * webgl/2.0.y/conformance/programs/gl-bind-attrib-location-long-names-test-expected.txt: Added.
        * webgl/2.0.y/conformance/programs/gl-bind-attrib-location-long-names-test.html: Added.
        * webgl/2.0.y/conformance/programs/gl-bind-attrib-location-test-expected.txt: Added.
        * webgl/2.0.y/conformance/programs/gl-bind-attrib-location-test.html: Added.
        * webgl/2.0.y/conformance/programs/gl-get-active-attribute-expected.txt: Added.
        * webgl/2.0.y/conformance/programs/gl-get-active-attribute.html: Added.
        * webgl/2.0.y/conformance/programs/gl-get-active-uniform-expected.txt: Added.
        * webgl/2.0.y/conformance/programs/gl-get-active-uniform.html: Added.
        * webgl/2.0.y/conformance/programs/gl-getshadersource-expected.txt: Added.
        * webgl/2.0.y/conformance/programs/gl-getshadersource.html: Added.
        * webgl/2.0.y/conformance/programs/gl-shader-test-expected.txt: Added.
        * webgl/2.0.y/conformance/programs/gl-shader-test.html: Added.
        * webgl/2.0.y/conformance/programs/invalid-UTF-16-expected.txt: Added.
        * webgl/2.0.y/conformance/programs/invalid-UTF-16.html: Added.
        * webgl/2.0.y/conformance/programs/program-handling-expected.txt: Added.
        * webgl/2.0.y/conformance/programs/program-handling.html: Added.
        * webgl/2.0.y/conformance/programs/program-infolog-expected.txt: Added.
        * webgl/2.0.y/conformance/programs/program-infolog.html: Added.
        * webgl/2.0.y/conformance/programs/program-test-expected.txt: Added.
        * webgl/2.0.y/conformance/programs/program-test.html: Added.
        * webgl/2.0.y/conformance/programs/use-program-crash-with-discard-in-fragment-shader-expected.txt: Added.
        * webgl/2.0.y/conformance/programs/use-program-crash-with-discard-in-fragment-shader.html: Added.
        * webgl/2.0.y/conformance/reading/fbo-remains-unchanged-after-read-pixels-expected.txt: Added.
        * webgl/2.0.y/conformance/reading/fbo-remains-unchanged-after-read-pixels.html: Added.
        * webgl/2.0.y/conformance/reading/read-pixels-pack-alignment-expected.txt: Added.
        * webgl/2.0.y/conformance/reading/read-pixels-pack-alignment.html: Added.
        * webgl/2.0.y/conformance/reading/read-pixels-test-expected.txt: Added.
        * webgl/2.0.y/conformance/reading/read-pixels-test.html: Added.
        * webgl/2.0.y/conformance/renderbuffers/depth-renderbuffer-initialization-expected.txt: Added.
        * webgl/2.0.y/conformance/renderbuffers/depth-renderbuffer-initialization.html: Added.
        * webgl/2.0.y/conformance/renderbuffers/feedback-loop-expected.txt: Added.
        * webgl/2.0.y/conformance/renderbuffers/feedback-loop.html: Added.
        * webgl/2.0.y/conformance/renderbuffers/framebuffer-state-restoration-expected.txt: Added.
        * webgl/2.0.y/conformance/renderbuffers/framebuffer-state-restoration.html: Added.
        * webgl/2.0.y/conformance/renderbuffers/renderbuffer-initialization-expected.txt: Added.
        * webgl/2.0.y/conformance/renderbuffers/renderbuffer-initialization.html: Added.
        * webgl/2.0.y/conformance/renderbuffers/stencil-renderbuffer-initialization-expected.txt: Added.
        * webgl/2.0.y/conformance/renderbuffers/stencil-renderbuffer-initialization.html: Added.
        * webgl/2.0.y/conformance/rendering/bind-framebuffer-flush-bug-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/bind-framebuffer-flush-bug.html: Added.
        * webgl/2.0.y/conformance/rendering/blending-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/blending.html: Added.
        * webgl/2.0.y/conformance/rendering/canvas-alpha-bug-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/canvas-alpha-bug.html: Added.
        * webgl/2.0.y/conformance/rendering/clear-after-copyTexImage2D-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/clear-after-copyTexImage2D.html: Added.
        * webgl/2.0.y/conformance/rendering/color-mask-preserved-during-implicit-clears-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/color-mask-preserved-during-implicit-clears.html: Added.
        * webgl/2.0.y/conformance/rendering/culling-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/culling.html: Added.
        * webgl/2.0.y/conformance/rendering/default-texture-draw-bug-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/default-texture-draw-bug.html: Added.
        * webgl/2.0.y/conformance/rendering/draw-arrays-out-of-bounds-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/draw-arrays-out-of-bounds.html: Added.
        * webgl/2.0.y/conformance/rendering/draw-elements-out-of-bounds-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/draw-elements-out-of-bounds.html: Added.
        * webgl/2.0.y/conformance/rendering/draw-webgl-to-canvas-2d-repeatedly-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/draw-webgl-to-canvas-2d-repeatedly.html: Added.
        * webgl/2.0.y/conformance/rendering/draw-with-changing-start-vertex-bug-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/draw-with-changing-start-vertex-bug.html: Added.
        * webgl/2.0.y/conformance/rendering/framebuffer-switch-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/framebuffer-switch.html: Added.
        * webgl/2.0.y/conformance/rendering/framebuffer-texture-clear-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/framebuffer-texture-clear.html: Added.
        * webgl/2.0.y/conformance/rendering/framebuffer-texture-switch-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/framebuffer-texture-switch.html: Added.
        * webgl/2.0.y/conformance/rendering/gl-clear-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/gl-clear.html: Added.
        * webgl/2.0.y/conformance/rendering/gl-drawarrays-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/gl-drawarrays.html: Added.
        * webgl/2.0.y/conformance/rendering/gl-drawelements-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/gl-drawelements.html: Added.
        * webgl/2.0.y/conformance/rendering/gl-scissor-canvas-dimensions-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/gl-scissor-canvas-dimensions.html: Added.
        * webgl/2.0.y/conformance/rendering/gl-scissor-fbo-test-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/gl-scissor-fbo-test.html: Added.
        * webgl/2.0.y/conformance/rendering/gl-scissor-test-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/gl-scissor-test.html: Added.
        * webgl/2.0.y/conformance/rendering/gl-viewport-test-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/gl-viewport-test.html: Added.
        * webgl/2.0.y/conformance/rendering/line-loop-tri-fan-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/line-loop-tri-fan.html: Added.
        * webgl/2.0.y/conformance/rendering/line-rendering-quality-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/line-rendering-quality.html: Added.
        * webgl/2.0.y/conformance/rendering/many-draw-calls-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/many-draw-calls.html: Added.
        * webgl/2.0.y/conformance/rendering/more-than-65536-indices-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/more-than-65536-indices.html: Added.
        * webgl/2.0.y/conformance/rendering/multisample-corruption-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/multisample-corruption.html: Added.
        * webgl/2.0.y/conformance/rendering/negative-one-index-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/negative-one-index.html: Added.
        * webgl/2.0.y/conformance/rendering/out-of-bounds-array-buffers-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/out-of-bounds-array-buffers.html: Added.
        * webgl/2.0.y/conformance/rendering/out-of-bounds-index-buffers-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/out-of-bounds-index-buffers.html: Added.
        * webgl/2.0.y/conformance/rendering/point-no-attributes-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/point-no-attributes.html: Added.
        * webgl/2.0.y/conformance/rendering/point-size-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/point-size.html: Added.
        * webgl/2.0.y/conformance/rendering/point-specific-shader-variables-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/point-specific-shader-variables.html: Added.
        * webgl/2.0.y/conformance/rendering/point-with-gl-pointcoord-in-fragment-shader-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/point-with-gl-pointcoord-in-fragment-shader.html: Added.
        * webgl/2.0.y/conformance/rendering/polygon-offset-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/polygon-offset.html: Added.
        * webgl/2.0.y/conformance/rendering/preservedrawingbuffer-leak-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/preservedrawingbuffer-leak.html: Added.
        * webgl/2.0.y/conformance/rendering/rendering-sampling-feedback-loop-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/rendering-sampling-feedback-loop.html: Added.
        * webgl/2.0.y/conformance/rendering/rendering-stencil-large-viewport-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/rendering-stencil-large-viewport.html: Added.
        * webgl/2.0.y/conformance/rendering/scissor-rect-repeated-rendering-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/scissor-rect-repeated-rendering.html: Added.
        * webgl/2.0.y/conformance/rendering/simple-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/simple.html: Added.
        * webgl/2.0.y/conformance/rendering/texture-switch-performance-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/texture-switch-performance.html: Added.
        * webgl/2.0.y/conformance/rendering/triangle-expected.txt: Added.
        * webgl/2.0.y/conformance/rendering/triangle.html: Added.
        * webgl/2.0.y/conformance/state/fb-attach-implicit-target-assignment-expected.txt: Added.
        * webgl/2.0.y/conformance/state/fb-attach-implicit-target-assignment.html: Added.
        * webgl/2.0.y/conformance/state/gl-enable-enum-test-expected.txt: Added.
        * webgl/2.0.y/conformance/state/gl-enable-enum-test.html: Added.
        * webgl/2.0.y/conformance/state/gl-get-calls-expected.txt: Added.
        * webgl/2.0.y/conformance/state/gl-get-calls.html: Added.
        * webgl/2.0.y/conformance/state/gl-geterror-expected.txt: Added.
        * webgl/2.0.y/conformance/state/gl-geterror.html: Added.
        * webgl/2.0.y/conformance/state/gl-initial-state-expected.txt: Added.
        * webgl/2.0.y/conformance/state/gl-initial-state.html: Added.
        * webgl/2.0.y/conformance/state/state-uneffected-after-compositing-expected.txt: Added.
        * webgl/2.0.y/conformance/state/state-uneffected-after-compositing.html: Added.
        * webgl/2.0.y/conformance/textures/canvas/tex-2d-alpha-alpha-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/canvas/tex-2d-alpha-alpha-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/canvas/tex-2d-luminance-luminance-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/canvas/tex-2d-luminance-luminance-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/canvas/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/canvas/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/canvas/tex-2d-rgb-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/canvas/tex-2d-rgb-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/canvas/tex-2d-rgb-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/canvas/tex-2d-rgb-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance/textures/canvas/tex-2d-rgba-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/canvas/tex-2d-rgba-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/canvas/tex-2d-rgba-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/canvas/tex-2d-rgba-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance/textures/canvas/tex-2d-rgba-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/canvas/tex-2d-rgba-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance/textures/canvas_sub_rectangle/tex-2d-alpha-alpha-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/canvas_sub_rectangle/tex-2d-alpha-alpha-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/canvas_sub_rectangle/tex-2d-luminance-luminance-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/canvas_sub_rectangle/tex-2d-luminance-luminance-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/canvas_sub_rectangle/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/canvas_sub_rectangle/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/canvas_sub_rectangle/tex-2d-rgb-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/canvas_sub_rectangle/tex-2d-rgb-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/canvas_sub_rectangle/tex-2d-rgb-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/canvas_sub_rectangle/tex-2d-rgb-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance/textures/canvas_sub_rectangle/tex-2d-rgba-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/canvas_sub_rectangle/tex-2d-rgba-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/canvas_sub_rectangle/tex-2d-rgba-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/canvas_sub_rectangle/tex-2d-rgba-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance/textures/canvas_sub_rectangle/tex-2d-rgba-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/canvas_sub_rectangle/tex-2d-rgba-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance/textures/image/tex-2d-alpha-alpha-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image/tex-2d-alpha-alpha-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image/tex-2d-luminance-luminance-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image/tex-2d-luminance-luminance-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image/tex-2d-rgb-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image/tex-2d-rgb-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image/tex-2d-rgb-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image/tex-2d-rgb-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance/textures/image/tex-2d-rgba-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image/tex-2d-rgba-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image/tex-2d-rgba-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image/tex-2d-rgba-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance/textures/image/tex-2d-rgba-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image/tex-2d-rgba-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_blob/tex-2d-alpha-alpha-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_blob/tex-2d-alpha-alpha-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_blob/tex-2d-luminance-luminance-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_blob/tex-2d-luminance-luminance-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_blob/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_blob/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_blob/tex-2d-rgb-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_blob/tex-2d-rgb-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_blob/tex-2d-rgb-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_blob/tex-2d-rgb-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_blob/tex-2d-rgba-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_blob/tex-2d-rgba-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_blob/tex-2d-rgba-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_blob/tex-2d-rgba-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_blob/tex-2d-rgba-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_blob/tex-2d-rgba-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_canvas/tex-2d-alpha-alpha-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_canvas/tex-2d-alpha-alpha-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_canvas/tex-2d-luminance-luminance-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_canvas/tex-2d-luminance-luminance-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_canvas/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_canvas/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_canvas/tex-2d-rgb-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_canvas/tex-2d-rgb-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_canvas/tex-2d-rgb-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_canvas/tex-2d-rgb-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_canvas/tex-2d-rgba-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_canvas/tex-2d-rgba-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_canvas/tex-2d-rgba-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_canvas/tex-2d-rgba-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_canvas/tex-2d-rgba-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_canvas/tex-2d-rgba-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image/tex-2d-alpha-alpha-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image/tex-2d-alpha-alpha-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image/tex-2d-luminance-luminance-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image/tex-2d-luminance-luminance-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image/tex-2d-rgb-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image/tex-2d-rgb-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image/tex-2d-rgb-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image/tex-2d-rgb-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image/tex-2d-rgba-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image/tex-2d-rgba-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image/tex-2d-rgba-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image/tex-2d-rgba-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image/tex-2d-rgba-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image/tex-2d-rgba-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-alpha-alpha-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-alpha-alpha-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-luminance-luminance-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-luminance-luminance-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-rgb-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-rgb-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-rgb-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-rgb-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-rgba-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-rgba-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-rgba-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-rgba-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-rgba-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-rgba-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_data/tex-2d-alpha-alpha-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_data/tex-2d-alpha-alpha-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_data/tex-2d-luminance-luminance-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_data/tex-2d-luminance-luminance-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_data/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_data/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_data/tex-2d-rgb-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_data/tex-2d-rgb-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_data/tex-2d-rgb-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_data/tex-2d-rgb-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_data/tex-2d-rgba-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_data/tex-2d-rgba-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_data/tex-2d-rgba-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_data/tex-2d-rgba-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_data/tex-2d-rgba-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_image_data/tex-2d-rgba-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_video/tex-2d-alpha-alpha-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_video/tex-2d-alpha-alpha-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_video/tex-2d-luminance-luminance-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_video/tex-2d-luminance-luminance-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_video/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_video/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_video/tex-2d-rgb-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_video/tex-2d-rgb-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_video/tex-2d-rgb-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_video/tex-2d-rgb-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_video/tex-2d-rgba-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_video/tex-2d-rgba-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_video/tex-2d-rgba-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_video/tex-2d-rgba-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_video/tex-2d-rgba-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_bitmap_from_video/tex-2d-rgba-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance/textures/image_data/tex-2d-alpha-alpha-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_data/tex-2d-alpha-alpha-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_data/tex-2d-luminance-luminance-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_data/tex-2d-luminance-luminance-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_data/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_data/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_data/tex-2d-rgb-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_data/tex-2d-rgb-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_data/tex-2d-rgb-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_data/tex-2d-rgb-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance/textures/image_data/tex-2d-rgba-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_data/tex-2d-rgba-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/image_data/tex-2d-rgba-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_data/tex-2d-rgba-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance/textures/image_data/tex-2d-rgba-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/image_data/tex-2d-rgba-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance/textures/misc/canvas-teximage-after-multiple-drawimages-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/canvas-teximage-after-multiple-drawimages.html: Added.
        * webgl/2.0.y/conformance/textures/misc/copy-tex-image-2d-formats-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/copy-tex-image-2d-formats.html: Added.
        * webgl/2.0.y/conformance/textures/misc/copy-tex-image-and-sub-image-2d-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/copy-tex-image-and-sub-image-2d.html: Added.
        * webgl/2.0.y/conformance/textures/misc/copy-tex-image-crash-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/copy-tex-image-crash.html: Added.
        * webgl/2.0.y/conformance/textures/misc/copytexsubimage2d-large-partial-copy-corruption-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/copytexsubimage2d-large-partial-copy-corruption.html: Added.
        * webgl/2.0.y/conformance/textures/misc/copytexsubimage2d-subrects-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/copytexsubimage2d-subrects.html: Added.
        * webgl/2.0.y/conformance/textures/misc/cube-incomplete-fbo-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/cube-incomplete-fbo.html: Added.
        * webgl/2.0.y/conformance/textures/misc/cube-map-uploads-out-of-order-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/cube-map-uploads-out-of-order.html: Added.
        * webgl/2.0.y/conformance/textures/misc/default-texture-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/default-texture.html: Added.
        * webgl/2.0.y/conformance/textures/misc/exif-orientation-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/exif-orientation.html: Added.
        * webgl/2.0.y/conformance/textures/misc/gl-pixelstorei-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/gl-pixelstorei.html: Added.
        * webgl/2.0.y/conformance/textures/misc/gl-teximage-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/gl-teximage.html: Added.
        * webgl/2.0.y/conformance/textures/misc/mipmap-fbo-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/mipmap-fbo.html: Added.
        * webgl/2.0.y/conformance/textures/misc/origin-clean-conformance-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/origin-clean-conformance-offscreencanvas-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/origin-clean-conformance-offscreencanvas.html: Added.
        * webgl/2.0.y/conformance/textures/misc/origin-clean-conformance.html: Added.
        * webgl/2.0.y/conformance/textures/misc/tex-image-and-sub-image-2d-with-array-buffer-view-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/tex-image-and-sub-image-2d-with-array-buffer-view.html: Added.
        * webgl/2.0.y/conformance/textures/misc/tex-image-and-uniform-binding-bugs-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/tex-image-and-uniform-binding-bugs.html: Added.
        * webgl/2.0.y/conformance/textures/misc/tex-image-canvas-corruption-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/tex-image-canvas-corruption.html: Added.
        * webgl/2.0.y/conformance/textures/misc/tex-image-webgl-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/tex-image-webgl.html: Added.
        * webgl/2.0.y/conformance/textures/misc/tex-image-with-format-and-type-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/tex-image-with-format-and-type.html: Added.
        * webgl/2.0.y/conformance/textures/misc/tex-image-with-invalid-data-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/tex-image-with-invalid-data.html: Added.
        * webgl/2.0.y/conformance/textures/misc/tex-sub-image-2d-bad-args-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/tex-sub-image-2d-bad-args.html: Added.
        * webgl/2.0.y/conformance/textures/misc/tex-sub-image-2d-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/tex-sub-image-2d.html: Added.
        * webgl/2.0.y/conformance/textures/misc/tex-video-using-tex-unit-non-zero-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/tex-video-using-tex-unit-non-zero.html: Added.
        * webgl/2.0.y/conformance/textures/misc/texparameter-test-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/texparameter-test.html: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-active-bind-2-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-active-bind-2.html: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-active-bind-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-active-bind.html: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-attachment-formats-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-attachment-formats.html: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-clear-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-clear.html: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-complete-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-complete.html: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-copying-and-deletion-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-copying-and-deletion.html: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-copying-feedback-loops-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-copying-feedback-loops.html: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-corner-case-videos-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-corner-case-videos.html: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-cube-as-fbo-attachment-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-cube-as-fbo-attachment.html: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-draw-with-2d-and-cube-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-draw-with-2d-and-cube.html: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-hd-dpi-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-hd-dpi.html: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-mips-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-mips.html: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-size-cube-maps-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-size-cube-maps.html: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-size-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-size-limit-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-size-limit.html: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-size.html: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-sub-image-cube-maps-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-sub-image-cube-maps.html: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-transparent-pixels-initialized-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-transparent-pixels-initialized.html: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-upload-cube-maps-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-upload-cube-maps.html: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-upload-size-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-upload-size.html: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-video-transparent-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-video-transparent.html: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-with-flip-y-and-premultiply-alpha-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/texture-with-flip-y-and-premultiply-alpha.html: Added.
        * webgl/2.0.y/conformance/textures/misc/upload-from-srcset-with-empty-data-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/upload-from-srcset-with-empty-data.html: Added.
        * webgl/2.0.y/conformance/textures/misc/video-rotation-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/misc/video-rotation.html: Added.
        * webgl/2.0.y/conformance/textures/svg_image/tex-2d-alpha-alpha-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/svg_image/tex-2d-alpha-alpha-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/svg_image/tex-2d-luminance-luminance-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/svg_image/tex-2d-luminance-luminance-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/svg_image/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/svg_image/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/svg_image/tex-2d-rgb-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/svg_image/tex-2d-rgb-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/svg_image/tex-2d-rgb-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/svg_image/tex-2d-rgb-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance/textures/svg_image/tex-2d-rgba-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/svg_image/tex-2d-rgba-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/svg_image/tex-2d-rgba-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/svg_image/tex-2d-rgba-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance/textures/svg_image/tex-2d-rgba-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/svg_image/tex-2d-rgba-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance/textures/video/tex-2d-alpha-alpha-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/video/tex-2d-alpha-alpha-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/video/tex-2d-luminance-luminance-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/video/tex-2d-luminance-luminance-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/video/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/video/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/video/tex-2d-rgb-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/video/tex-2d-rgb-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/video/tex-2d-rgb-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/video/tex-2d-rgb-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance/textures/video/tex-2d-rgba-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/video/tex-2d-rgba-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/video/tex-2d-rgba-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/video/tex-2d-rgba-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance/textures/video/tex-2d-rgba-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/video/tex-2d-rgba-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance/textures/webgl_canvas/tex-2d-alpha-alpha-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/webgl_canvas/tex-2d-alpha-alpha-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/webgl_canvas/tex-2d-luminance-luminance-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/webgl_canvas/tex-2d-luminance-luminance-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/webgl_canvas/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/webgl_canvas/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/webgl_canvas/tex-2d-rgb-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/webgl_canvas/tex-2d-rgb-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/webgl_canvas/tex-2d-rgb-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/webgl_canvas/tex-2d-rgb-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance/textures/webgl_canvas/tex-2d-rgba-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/webgl_canvas/tex-2d-rgba-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance/textures/webgl_canvas/tex-2d-rgba-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/webgl_canvas/tex-2d-rgba-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance/textures/webgl_canvas/tex-2d-rgba-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance/textures/webgl_canvas/tex-2d-rgba-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance/typedarrays/array-buffer-crash-expected.txt: Added.
        * webgl/2.0.y/conformance/typedarrays/array-buffer-crash.html: Added.
        * webgl/2.0.y/conformance/typedarrays/array-buffer-view-crash-expected.txt: Added.
        * webgl/2.0.y/conformance/typedarrays/array-buffer-view-crash.html: Added.
        * webgl/2.0.y/conformance/typedarrays/array-large-array-tests-expected.txt: Added.
        * webgl/2.0.y/conformance/typedarrays/array-large-array-tests.html: Added.
        * webgl/2.0.y/conformance/typedarrays/array-unit-tests-expected.txt: Added.
        * webgl/2.0.y/conformance/typedarrays/array-unit-tests.html: Added.
        * webgl/2.0.y/conformance/typedarrays/data-view-crash-expected.txt: Added.
        * webgl/2.0.y/conformance/typedarrays/data-view-crash.html: Added.
        * webgl/2.0.y/conformance/typedarrays/data-view-test-expected.txt: Added.
        * webgl/2.0.y/conformance/typedarrays/data-view-test.html: Added.
        * webgl/2.0.y/conformance/typedarrays/typed-arrays-in-workers-expected.txt: Added.
        * webgl/2.0.y/conformance/typedarrays/typed-arrays-in-workers.html: Added.
        * webgl/2.0.y/conformance/uniforms/gl-uniform-arrays-expected.txt: Added.
        * webgl/2.0.y/conformance/uniforms/gl-uniform-arrays.html: Added.
        * webgl/2.0.y/conformance/uniforms/gl-uniform-bool-expected.txt: Added.
        * webgl/2.0.y/conformance/uniforms/gl-uniform-bool.html: Added.
        * webgl/2.0.y/conformance/uniforms/gl-uniformmatrix4fv-expected.txt: Added.
        * webgl/2.0.y/conformance/uniforms/gl-uniformmatrix4fv.html: Added.
        * webgl/2.0.y/conformance/uniforms/gl-unknown-uniform-expected.txt: Added.
        * webgl/2.0.y/conformance/uniforms/gl-unknown-uniform.html: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-00-expected.txt: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-00.html: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-01-expected.txt: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-01.html: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-02-expected.txt: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-02.html: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-03-expected.txt: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-03.html: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-04-expected.txt: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-04.html: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-05-expected.txt: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-05.html: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-06-expected.txt: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-06.html: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-07-expected.txt: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-07.html: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-08-expected.txt: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-08.html: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-09-expected.txt: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-09.html: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-10-expected.txt: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-10.html: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-11-expected.txt: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-11.html: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-12-expected.txt: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-12.html: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-13-expected.txt: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-13.html: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-14-expected.txt: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-14.html: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-15-expected.txt: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-15.html: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-16-expected.txt: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-16.html: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-17-expected.txt: Added.
        * webgl/2.0.y/conformance/uniforms/no-over-optimization-on-uniform-array-17.html: Added.
        * webgl/2.0.y/conformance/uniforms/null-uniform-location-expected.txt: Added.
        * webgl/2.0.y/conformance/uniforms/null-uniform-location.html: Added.
        * webgl/2.0.y/conformance/uniforms/out-of-bounds-uniform-array-access-expected.txt: Added.
        * webgl/2.0.y/conformance/uniforms/out-of-bounds-uniform-array-access.html: Added.
        * webgl/2.0.y/conformance/uniforms/uniform-default-values-expected.txt: Added.
        * webgl/2.0.y/conformance/uniforms/uniform-default-values.html: Added.
        * webgl/2.0.y/conformance/uniforms/uniform-location-expected.txt: Added.
        * webgl/2.0.y/conformance/uniforms/uniform-location.html: Added.
        * webgl/2.0.y/conformance/uniforms/uniform-samplers-test-expected.txt: Added.
        * webgl/2.0.y/conformance/uniforms/uniform-samplers-test.html: Added.
        * webgl/2.0.y/conformance/uniforms/uniform-values-per-program-expected.txt: Added.
        * webgl/2.0.y/conformance/uniforms/uniform-values-per-program.html: Added.
        * webgl/2.0.y/conformance2/attribs/gl-bindAttribLocation-aliasing-inactive-expected.txt: Added.
        * webgl/2.0.y/conformance2/attribs/gl-bindAttribLocation-aliasing-inactive.html: Added.
        * webgl/2.0.y/conformance2/attribs/gl-vertex-attrib-expected.txt: Added.
        * webgl/2.0.y/conformance2/attribs/gl-vertex-attrib-i-render-expected.txt: Added.
        * webgl/2.0.y/conformance2/attribs/gl-vertex-attrib-i-render.html: Added.
        * webgl/2.0.y/conformance2/attribs/gl-vertex-attrib-normalized-int-expected.txt: Added.
        * webgl/2.0.y/conformance2/attribs/gl-vertex-attrib-normalized-int.html: Added.
        * webgl/2.0.y/conformance2/attribs/gl-vertex-attrib.html: Added.
        * webgl/2.0.y/conformance2/attribs/gl-vertexattribipointer-expected.txt: Added.
        * webgl/2.0.y/conformance2/attribs/gl-vertexattribipointer-offsets-expected.txt: Added.
        * webgl/2.0.y/conformance2/attribs/gl-vertexattribipointer-offsets.html: Added.
        * webgl/2.0.y/conformance2/attribs/gl-vertexattribipointer.html: Added.
        * webgl/2.0.y/conformance2/attribs/render-no-enabled-attrib-arrays-expected.txt: Added.
        * webgl/2.0.y/conformance2/attribs/render-no-enabled-attrib-arrays.html: Added.
        * webgl/2.0.y/conformance2/buffers/bound-buffer-size-change-test-expected.txt: Added.
        * webgl/2.0.y/conformance2/buffers/bound-buffer-size-change-test.html: Added.
        * webgl/2.0.y/conformance2/buffers/buffer-copying-contents-expected.txt: Added.
        * webgl/2.0.y/conformance2/buffers/buffer-copying-contents.html: Added.
        * webgl/2.0.y/conformance2/buffers/buffer-copying-restrictions-expected.txt: Added.
        * webgl/2.0.y/conformance2/buffers/buffer-copying-restrictions.html: Added.
        * webgl/2.0.y/conformance2/buffers/buffer-data-and-buffer-sub-data-sub-source-expected.txt: Added.
        * webgl/2.0.y/conformance2/buffers/buffer-data-and-buffer-sub-data-sub-source.html: Added.
        * webgl/2.0.y/conformance2/buffers/buffer-overflow-test-expected.txt: Added.
        * webgl/2.0.y/conformance2/buffers/buffer-overflow-test.html: Added.
        * webgl/2.0.y/conformance2/buffers/buffer-type-restrictions-expected.txt: Added.
        * webgl/2.0.y/conformance2/buffers/buffer-type-restrictions.html: Added.
        * webgl/2.0.y/conformance2/buffers/delete-buffer-expected.txt: Added.
        * webgl/2.0.y/conformance2/buffers/delete-buffer.html: Added.
        * webgl/2.0.y/conformance2/buffers/get-buffer-sub-data-expected.txt: Added.
        * webgl/2.0.y/conformance2/buffers/get-buffer-sub-data-validity-expected.txt: Added.
        * webgl/2.0.y/conformance2/buffers/get-buffer-sub-data-validity.html: Added.
        * webgl/2.0.y/conformance2/buffers/get-buffer-sub-data.html: Added.
        * webgl/2.0.y/conformance2/buffers/one-large-uniform-buffer-expected.txt: Added.
        * webgl/2.0.y/conformance2/buffers/one-large-uniform-buffer.html: Added.
        * webgl/2.0.y/conformance2/buffers/uniform-buffers-expected.txt: Added.
        * webgl/2.0.y/conformance2/buffers/uniform-buffers-second-compile-expected.txt: Added.
        * webgl/2.0.y/conformance2/buffers/uniform-buffers-second-compile.html: Added.
        * webgl/2.0.y/conformance2/buffers/uniform-buffers-state-restoration-expected.txt: Added.
        * webgl/2.0.y/conformance2/buffers/uniform-buffers-state-restoration.html: Added.
        * webgl/2.0.y/conformance2/buffers/uniform-buffers.html: Added.
        * webgl/2.0.y/conformance2/canvas/to-data-url-with-pack-params-expected.txt: Added.
        * webgl/2.0.y/conformance2/canvas/to-data-url-with-pack-params.html: Added.
        * webgl/2.0.y/conformance2/context/constants-and-properties-2-expected.txt: Added.
        * webgl/2.0.y/conformance2/context/constants-and-properties-2.html: Added.
        * webgl/2.0.y/conformance2/context/context-attributes-depth-stencil-antialias-obeyed-expected.txt: Added.
        * webgl/2.0.y/conformance2/context/context-attributes-depth-stencil-antialias-obeyed.html: Added.
        * webgl/2.0.y/conformance2/context/context-mode-expected.txt: Added.
        * webgl/2.0.y/conformance2/context/context-mode.html: Added.
        * webgl/2.0.y/conformance2/context/context-resize-changes-buffer-binding-bug-expected.txt: Added.
        * webgl/2.0.y/conformance2/context/context-resize-changes-buffer-binding-bug.html: Added.
        * webgl/2.0.y/conformance2/context/context-sharing-texture2darray-texture3d-data-bug-expected.txt: Added.
        * webgl/2.0.y/conformance2/context/context-sharing-texture2darray-texture3d-data-bug.html: Added.
        * webgl/2.0.y/conformance2/context/context-type-test-2-expected.txt: Added.
        * webgl/2.0.y/conformance2/context/context-type-test-2.html: Added.
        * webgl/2.0.y/conformance2/context/incorrect-context-object-behaviour-expected.txt: Added.
        * webgl/2.0.y/conformance2/context/incorrect-context-object-behaviour.html: Added.
        * webgl/2.0.y/conformance2/context/methods-2-expected.txt: Added.
        * webgl/2.0.y/conformance2/context/methods-2.html: Added.
        * webgl/2.0.y/conformance2/context/no-experimental-webgl2-expected.txt: Added.
        * webgl/2.0.y/conformance2/context/no-experimental-webgl2.html: Added.
        * webgl/2.0.y/conformance2/extensions/ext-color-buffer-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/extensions/ext-color-buffer-float.html: Added.
        * webgl/2.0.y/conformance2/extensions/ext-color-buffer-half-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/extensions/ext-color-buffer-half-float.html: Added.
        * webgl/2.0.y/conformance2/extensions/ext-disjoint-timer-query-webgl2-expected.txt: Added.
        * webgl/2.0.y/conformance2/extensions/ext-disjoint-timer-query-webgl2.html: Added.
        * webgl/2.0.y/conformance2/extensions/ext-texture-filter-anisotropic-expected.txt: Added.
        * webgl/2.0.y/conformance2/extensions/ext-texture-filter-anisotropic.html: Added.
        * webgl/2.0.y/conformance2/extensions/ext-texture-norm16-expected.txt: Added.
        * webgl/2.0.y/conformance2/extensions/ext-texture-norm16.html: Added.
        * webgl/2.0.y/conformance2/extensions/oes-draw-buffers-indexed-expected.txt: Added.
        * webgl/2.0.y/conformance2/extensions/oes-draw-buffers-indexed.html: Added.
        * webgl/2.0.y/conformance2/extensions/ovr_multiview2-expected.txt: Added.
        * webgl/2.0.y/conformance2/extensions/ovr_multiview2.html: Added.
        * webgl/2.0.y/conformance2/extensions/ovr_multiview2_depth-expected.txt: Added.
        * webgl/2.0.y/conformance2/extensions/ovr_multiview2_depth.html: Added.
        * webgl/2.0.y/conformance2/extensions/ovr_multiview2_draw_buffers-expected.txt: Added.
        * webgl/2.0.y/conformance2/extensions/ovr_multiview2_draw_buffers.html: Added.
        * webgl/2.0.y/conformance2/extensions/ovr_multiview2_flat_varying-expected.txt: Added.
        * webgl/2.0.y/conformance2/extensions/ovr_multiview2_flat_varying.html: Added.
        * webgl/2.0.y/conformance2/extensions/ovr_multiview2_instanced_draw-expected.txt: Added.
        * webgl/2.0.y/conformance2/extensions/ovr_multiview2_instanced_draw.html: Added.
        * webgl/2.0.y/conformance2/extensions/ovr_multiview2_non_multiview_shaders-expected.txt: Added.
        * webgl/2.0.y/conformance2/extensions/ovr_multiview2_non_multiview_shaders.html: Added.
        * webgl/2.0.y/conformance2/extensions/ovr_multiview2_single_view_operations-expected.txt: Added.
        * webgl/2.0.y/conformance2/extensions/ovr_multiview2_single_view_operations.html: Added.
        * webgl/2.0.y/conformance2/extensions/ovr_multiview2_timer_query-expected.txt: Added.
        * webgl/2.0.y/conformance2/extensions/ovr_multiview2_timer_query.html: Added.
        * webgl/2.0.y/conformance2/extensions/ovr_multiview2_transform_feedback-expected.txt: Added.
        * webgl/2.0.y/conformance2/extensions/ovr_multiview2_transform_feedback.html: Added.
        * webgl/2.0.y/conformance2/extensions/promoted-extensions-expected.txt: Added.
        * webgl/2.0.y/conformance2/extensions/promoted-extensions-in-shaders-expected.txt: Added.
        * webgl/2.0.y/conformance2/extensions/promoted-extensions-in-shaders.html: Added.
        * webgl/2.0.y/conformance2/extensions/promoted-extensions.html: Added.
        * webgl/2.0.y/conformance2/extensions/webgl-multi-draw-instanced-base-vertex-base-instance-expected.txt: Added.
        * webgl/2.0.y/conformance2/extensions/webgl-multi-draw-instanced-base-vertex-base-instance.html: Added.
        * webgl/2.0.y/conformance2/glsl3/array-as-return-value-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/array-as-return-value.html: Added.
        * webgl/2.0.y/conformance2/glsl3/array-assign-constructor-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/array-assign-constructor.html: Added.
        * webgl/2.0.y/conformance2/glsl3/array-assign-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/array-assign.html: Added.
        * webgl/2.0.y/conformance2/glsl3/array-complex-indexing-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/array-complex-indexing.html: Added.
        * webgl/2.0.y/conformance2/glsl3/array-element-increment-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/array-element-increment.html: Added.
        * webgl/2.0.y/conformance2/glsl3/array-equality-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/array-equality.html: Added.
        * webgl/2.0.y/conformance2/glsl3/array-in-complex-expression-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/array-in-complex-expression.html: Added.
        * webgl/2.0.y/conformance2/glsl3/array-initialize-with-same-name-array-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/array-initialize-with-same-name-array.html: Added.
        * webgl/2.0.y/conformance2/glsl3/array-length-side-effects-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/array-length-side-effects.html: Added.
        * webgl/2.0.y/conformance2/glsl3/attrib-location-length-limits-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/attrib-location-length-limits.html: Added.
        * webgl/2.0.y/conformance2/glsl3/bool-type-cast-bug-uint-ivec-uvec-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/bool-type-cast-bug-uint-ivec-uvec.html: Added.
        * webgl/2.0.y/conformance2/glsl3/compare-structs-containing-arrays-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/compare-structs-containing-arrays.html: Added.
        * webgl/2.0.y/conformance2/glsl3/compound-assignment-type-combination-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/compound-assignment-type-combination.html: Added.
        * webgl/2.0.y/conformance2/glsl3/const-array-init-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/const-array-init.html: Added.
        * webgl/2.0.y/conformance2/glsl3/const-struct-from-array-as-function-parameter-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/const-struct-from-array-as-function-parameter.html: Added.
        * webgl/2.0.y/conformance2/glsl3/float-parsing-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/float-parsing.html: Added.
        * webgl/2.0.y/conformance2/glsl3/forbidden-operators-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/forbidden-operators.html: Added.
        * webgl/2.0.y/conformance2/glsl3/forward-declaration-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/forward-declaration.html: Added.
        * webgl/2.0.y/conformance2/glsl3/frag-depth-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/frag-depth.html: Added.
        * webgl/2.0.y/conformance2/glsl3/gradient-in-discontinuous-loop-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/gradient-in-discontinuous-loop.html: Added.
        * webgl/2.0.y/conformance2/glsl3/input-with-interpotaion-as-lvalue-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/input-with-interpotaion-as-lvalue.html: Added.
        * webgl/2.0.y/conformance2/glsl3/invalid-default-precision-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/invalid-default-precision.html: Added.
        * webgl/2.0.y/conformance2/glsl3/invalid-invariant-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/invalid-invariant.html: Added.
        * webgl/2.0.y/conformance2/glsl3/loops-with-side-effects-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/loops-with-side-effects.html: Added.
        * webgl/2.0.y/conformance2/glsl3/matrix-row-major-dynamic-indexing-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/matrix-row-major-dynamic-indexing.html: Added.
        * webgl/2.0.y/conformance2/glsl3/matrix-row-major-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/matrix-row-major.html: Added.
        * webgl/2.0.y/conformance2/glsl3/misplaced-version-directive-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/misplaced-version-directive.html: Added.
        * webgl/2.0.y/conformance2/glsl3/no-attribute-vertex-shader-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/no-attribute-vertex-shader.html: Added.
        * webgl/2.0.y/conformance2/glsl3/precision-side-effects-bug-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/precision-side-effects-bug.html: Added.
        * webgl/2.0.y/conformance2/glsl3/sampler-array-indexing-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/sampler-array-indexing.html: Added.
        * webgl/2.0.y/conformance2/glsl3/sampler-no-precision-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/sampler-no-precision.html: Added.
        * webgl/2.0.y/conformance2/glsl3/sequence-operator-returns-non-constant-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/sequence-operator-returns-non-constant.html: Added.
        * webgl/2.0.y/conformance2/glsl3/shader-linking-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/shader-linking.html: Added.
        * webgl/2.0.y/conformance2/glsl3/shader-with-1024-character-define-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/shader-with-1024-character-define.html: Added.
        * webgl/2.0.y/conformance2/glsl3/shader-with-1024-character-identifier.frag-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/shader-with-1024-character-identifier.frag.html: Added.
        * webgl/2.0.y/conformance2/glsl3/shader-with-1025-character-define-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/shader-with-1025-character-define.html: Added.
        * webgl/2.0.y/conformance2/glsl3/shader-with-1025-character-identifier.frag-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/shader-with-1025-character-identifier.frag.html: Added.
        * webgl/2.0.y/conformance2/glsl3/shader-with-invalid-characters-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/shader-with-invalid-characters.html: Added.
        * webgl/2.0.y/conformance2/glsl3/shader-with-mis-matching-uniform-block-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/shader-with-mis-matching-uniform-block.html: Added.
        * webgl/2.0.y/conformance2/glsl3/short-circuiting-in-loop-condition-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/short-circuiting-in-loop-condition.html: Added.
        * webgl/2.0.y/conformance2/glsl3/switch-case-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/switch-case.html: Added.
        * webgl/2.0.y/conformance2/glsl3/texture-offset-non-constant-offset-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/texture-offset-non-constant-offset.html: Added.
        * webgl/2.0.y/conformance2/glsl3/texture-offset-out-of-range-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/texture-offset-out-of-range.html: Added.
        * webgl/2.0.y/conformance2/glsl3/texture-offset-uniform-texture-coordinate-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/texture-offset-uniform-texture-coordinate.html: Added.
        * webgl/2.0.y/conformance2/glsl3/tricky-loop-conditions-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/tricky-loop-conditions.html: Added.
        * webgl/2.0.y/conformance2/glsl3/uint-int-shift-bug-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/uint-int-shift-bug.html: Added.
        * webgl/2.0.y/conformance2/glsl3/unary-minus-operator-in-dynamic-loop-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/unary-minus-operator-in-dynamic-loop.html: Added.
        * webgl/2.0.y/conformance2/glsl3/uniform-block-layout-match-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/uniform-block-layout-match.html: Added.
        * webgl/2.0.y/conformance2/glsl3/uniform-block-layouts-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/uniform-block-layouts.html: Added.
        * webgl/2.0.y/conformance2/glsl3/uniform-location-length-limits-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/uniform-location-length-limits.html: Added.
        * webgl/2.0.y/conformance2/glsl3/uniform-struct-with-non-square-matrix-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/uniform-struct-with-non-square-matrix.html: Added.
        * webgl/2.0.y/conformance2/glsl3/uninitialized-local-global-variables-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/uninitialized-local-global-variables.html: Added.
        * webgl/2.0.y/conformance2/glsl3/valid-invariant-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/valid-invariant.html: Added.
        * webgl/2.0.y/conformance2/glsl3/varying-struct-inline-definition-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/varying-struct-inline-definition.html: Added.
        * webgl/2.0.y/conformance2/glsl3/vector-dynamic-indexing-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/vector-dynamic-indexing-nv-driver-bug-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/vector-dynamic-indexing-nv-driver-bug.html: Added.
        * webgl/2.0.y/conformance2/glsl3/vector-dynamic-indexing-swizzled-lvalue-expected.txt: Added.
        * webgl/2.0.y/conformance2/glsl3/vector-dynamic-indexing-swizzled-lvalue.html: Added.
        * webgl/2.0.y/conformance2/glsl3/vector-dynamic-indexing.html: Added.
        * webgl/2.0.y/conformance2/misc/expando-loss-2-expected.txt: Added.
        * webgl/2.0.y/conformance2/misc/expando-loss-2.html: Added.
        * webgl/2.0.y/conformance2/misc/getextension-while-pbo-bound-stability-expected.txt: Added.
        * webgl/2.0.y/conformance2/misc/getextension-while-pbo-bound-stability.html: Added.
        * webgl/2.0.y/conformance2/misc/instanceof-test-expected.txt: Added.
        * webgl/2.0.y/conformance2/misc/instanceof-test.html: Added.
        * webgl/2.0.y/conformance2/misc/null-object-behaviour-2-expected.txt: Added.
        * webgl/2.0.y/conformance2/misc/null-object-behaviour-2.html: Added.
        * webgl/2.0.y/conformance2/misc/object-deletion-behaviour-2-expected.txt: Added.
        * webgl/2.0.y/conformance2/misc/object-deletion-behaviour-2.html: Added.
        * webgl/2.0.y/conformance2/misc/uninitialized-test-2-expected.txt: Added.
        * webgl/2.0.y/conformance2/misc/uninitialized-test-2.html: Added.
        * webgl/2.0.y/conformance2/misc/views-with-offsets-expected.txt: Added.
        * webgl/2.0.y/conformance2/misc/views-with-offsets.html: Added.
        * webgl/2.0.y/conformance2/offscreencanvas/context-creation-expected.txt: Added.
        * webgl/2.0.y/conformance2/offscreencanvas/context-creation-worker-expected.txt: Added.
        * webgl/2.0.y/conformance2/offscreencanvas/context-creation-worker.html: Added.
        * webgl/2.0.y/conformance2/offscreencanvas/context-creation.html: Added.
        * webgl/2.0.y/conformance2/offscreencanvas/methods-2-expected.txt: Added.
        * webgl/2.0.y/conformance2/offscreencanvas/methods-2-worker-expected.txt: Added.
        * webgl/2.0.y/conformance2/offscreencanvas/methods-2-worker.html: Added.
        * webgl/2.0.y/conformance2/offscreencanvas/methods-2.html: Added.
        * webgl/2.0.y/conformance2/offscreencanvas/offscreencanvas-query-expected.txt: Added.
        * webgl/2.0.y/conformance2/offscreencanvas/offscreencanvas-query.html: Added.
        * webgl/2.0.y/conformance2/offscreencanvas/offscreencanvas-sync-expected.txt: Added.
        * webgl/2.0.y/conformance2/offscreencanvas/offscreencanvas-sync.html: Added.
        * webgl/2.0.y/conformance2/offscreencanvas/offscreencanvas-timer-query-expected.txt: Added.
        * webgl/2.0.y/conformance2/offscreencanvas/offscreencanvas-timer-query.html: Added.
        * webgl/2.0.y/conformance2/offscreencanvas/offscreencanvas-transfer-image-bitmap-expected.txt: Added.
        * webgl/2.0.y/conformance2/offscreencanvas/offscreencanvas-transfer-image-bitmap.html: Added.
        * webgl/2.0.y/conformance2/programs/active-built-in-attribs-expected.txt: Added.
        * webgl/2.0.y/conformance2/programs/active-built-in-attribs.html: Added.
        * webgl/2.0.y/conformance2/programs/gl-get-frag-data-location-expected.txt: Added.
        * webgl/2.0.y/conformance2/programs/gl-get-frag-data-location.html: Added.
        * webgl/2.0.y/conformance2/programs/sampler-uniforms-expected.txt: Added.
        * webgl/2.0.y/conformance2/programs/sampler-uniforms.html: Added.
        * webgl/2.0.y/conformance2/query/occlusion-query-expected.txt: Added.
        * webgl/2.0.y/conformance2/query/occlusion-query.html: Added.
        * webgl/2.0.y/conformance2/query/query-expected.txt: Added.
        * webgl/2.0.y/conformance2/query/query.html: Added.
        * webgl/2.0.y/conformance2/reading/format-r11f-g11f-b10f-expected.txt: Added.
        * webgl/2.0.y/conformance2/reading/format-r11f-g11f-b10f.html: Added.
        * webgl/2.0.y/conformance2/reading/read-pixels-from-fbo-test-expected.txt: Added.
        * webgl/2.0.y/conformance2/reading/read-pixels-from-fbo-test.html: Added.
        * webgl/2.0.y/conformance2/reading/read-pixels-from-rgb8-into-pbo-bug-expected.txt: Added.
        * webgl/2.0.y/conformance2/reading/read-pixels-from-rgb8-into-pbo-bug.html: Added.
        * webgl/2.0.y/conformance2/reading/read-pixels-into-pixel-pack-buffer-expected.txt: Added.
        * webgl/2.0.y/conformance2/reading/read-pixels-into-pixel-pack-buffer.html: Added.
        * webgl/2.0.y/conformance2/reading/read-pixels-pack-parameters-expected.txt: Added.
        * webgl/2.0.y/conformance2/reading/read-pixels-pack-parameters.html: Added.
        * webgl/2.0.y/conformance2/renderbuffers/framebuffer-object-attachment-expected.txt: Added.
        * webgl/2.0.y/conformance2/renderbuffers/framebuffer-object-attachment.html: Added.
        * webgl/2.0.y/conformance2/renderbuffers/framebuffer-test-expected.txt: Added.
        * webgl/2.0.y/conformance2/renderbuffers/framebuffer-test.html: Added.
        * webgl/2.0.y/conformance2/renderbuffers/framebuffer-texture-layer-expected.txt: Added.
        * webgl/2.0.y/conformance2/renderbuffers/framebuffer-texture-layer.html: Added.
        * webgl/2.0.y/conformance2/renderbuffers/invalidate-framebuffer-expected.txt: Added.
        * webgl/2.0.y/conformance2/renderbuffers/invalidate-framebuffer.html: Added.
        * webgl/2.0.y/conformance2/renderbuffers/multisample-with-full-sample-counts-expected.txt: Added.
        * webgl/2.0.y/conformance2/renderbuffers/multisample-with-full-sample-counts.html: Added.
        * webgl/2.0.y/conformance2/renderbuffers/multisampled-depth-renderbuffer-initialization-expected.txt: Added.
        * webgl/2.0.y/conformance2/renderbuffers/multisampled-depth-renderbuffer-initialization.html: Added.
        * webgl/2.0.y/conformance2/renderbuffers/multisampled-renderbuffer-initialization-expected.txt: Added.
        * webgl/2.0.y/conformance2/renderbuffers/multisampled-renderbuffer-initialization.html: Added.
        * webgl/2.0.y/conformance2/renderbuffers/multisampled-stencil-renderbuffer-initialization-expected.txt: Added.
        * webgl/2.0.y/conformance2/renderbuffers/multisampled-stencil-renderbuffer-initialization.html: Added.
        * webgl/2.0.y/conformance2/renderbuffers/readbuffer-expected.txt: Added.
        * webgl/2.0.y/conformance2/renderbuffers/readbuffer.html: Added.
        * webgl/2.0.y/conformance2/rendering/attrib-type-match-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/attrib-type-match.html: Added.
        * webgl/2.0.y/conformance2/rendering/blitframebuffer-filter-outofbounds-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/blitframebuffer-filter-outofbounds.html: Added.
        * webgl/2.0.y/conformance2/rendering/blitframebuffer-filter-srgb-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/blitframebuffer-filter-srgb.html: Added.
        * webgl/2.0.y/conformance2/rendering/blitframebuffer-multisampled-readbuffer-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/blitframebuffer-multisampled-readbuffer.html: Added.
        * webgl/2.0.y/conformance2/rendering/blitframebuffer-outside-readbuffer-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/blitframebuffer-outside-readbuffer.html: Added.
        * webgl/2.0.y/conformance2/rendering/blitframebuffer-r11f-g11f-b10f-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/blitframebuffer-r11f-g11f-b10f.html: Added.
        * webgl/2.0.y/conformance2/rendering/blitframebuffer-resolve-to-back-buffer-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/blitframebuffer-resolve-to-back-buffer.html: Added.
        * webgl/2.0.y/conformance2/rendering/blitframebuffer-scissor-enabled-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/blitframebuffer-scissor-enabled.html: Added.
        * webgl/2.0.y/conformance2/rendering/blitframebuffer-size-overflow-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/blitframebuffer-size-overflow.html: Added.
        * webgl/2.0.y/conformance2/rendering/blitframebuffer-srgb-and-linear-drawbuffers-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/blitframebuffer-srgb-and-linear-drawbuffers.html: Added.
        * webgl/2.0.y/conformance2/rendering/blitframebuffer-stencil-only-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/blitframebuffer-stencil-only.html: Added.
        * webgl/2.0.y/conformance2/rendering/blitframebuffer-test-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/blitframebuffer-test.html: Added.
        * webgl/2.0.y/conformance2/rendering/canvas-resizing-with-pbo-bound-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/canvas-resizing-with-pbo-bound.html: Added.
        * webgl/2.0.y/conformance2/rendering/clear-func-buffer-type-match-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/clear-func-buffer-type-match.html: Added.
        * webgl/2.0.y/conformance2/rendering/clear-srgb-color-buffer-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/clear-srgb-color-buffer.html: Added.
        * webgl/2.0.y/conformance2/rendering/clearbuffer-sub-source-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/clearbuffer-sub-source.html: Added.
        * webgl/2.0.y/conformance2/rendering/clearbufferfv-with-alpha-false-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/clearbufferfv-with-alpha-false.html: Added.
        * webgl/2.0.y/conformance2/rendering/clipping-wide-points-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/clipping-wide-points.html: Added.
        * webgl/2.0.y/conformance2/rendering/depth-stencil-feedback-loop-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/depth-stencil-feedback-loop.html: Added.
        * webgl/2.0.y/conformance2/rendering/draw-buffers-dirty-state-bug-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/draw-buffers-dirty-state-bug.html: Added.
        * webgl/2.0.y/conformance2/rendering/draw-buffers-driver-hang-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/draw-buffers-driver-hang.html: Added.
        * webgl/2.0.y/conformance2/rendering/draw-buffers-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/draw-buffers.html: Added.
        * webgl/2.0.y/conformance2/rendering/draw-with-integer-texture-base-level-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/draw-with-integer-texture-base-level.html: Added.
        * webgl/2.0.y/conformance2/rendering/element-index-uint-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/element-index-uint.html: Added.
        * webgl/2.0.y/conformance2/rendering/framebuffer-completeness-draw-framebuffer-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/framebuffer-completeness-draw-framebuffer.html: Added.
        * webgl/2.0.y/conformance2/rendering/framebuffer-completeness-unaffected-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/framebuffer-completeness-unaffected.html: Added.
        * webgl/2.0.y/conformance2/rendering/framebuffer-mismatched-attachment-targets-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/framebuffer-mismatched-attachment-targets.html: Added.
        * webgl/2.0.y/conformance2/rendering/framebuffer-render-to-layer-angle-issue-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/framebuffer-render-to-layer-angle-issue.html: Added.
        * webgl/2.0.y/conformance2/rendering/framebuffer-render-to-layer-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/framebuffer-render-to-layer.html: Added.
        * webgl/2.0.y/conformance2/rendering/framebuffer-texture-changing-base-level-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/framebuffer-texture-changing-base-level.html: Added.
        * webgl/2.0.y/conformance2/rendering/framebuffer-texture-level1-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/framebuffer-texture-level1.html: Added.
        * webgl/2.0.y/conformance2/rendering/framebuffer-unsupported-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/framebuffer-unsupported.html: Added.
        * webgl/2.0.y/conformance2/rendering/fs-color-type-mismatch-color-buffer-type-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/fs-color-type-mismatch-color-buffer-type.html: Added.
        * webgl/2.0.y/conformance2/rendering/instanced-arrays-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/instanced-arrays.html: Added.
        * webgl/2.0.y/conformance2/rendering/instanced-rendering-bug-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/instanced-rendering-bug.html: Added.
        * webgl/2.0.y/conformance2/rendering/instanced-rendering-large-divisor-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/instanced-rendering-large-divisor.html: Added.
        * webgl/2.0.y/conformance2/rendering/line-rendering-quality-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/line-rendering-quality.html: Added.
        * webgl/2.0.y/conformance2/rendering/multisampling-fragment-evaluation-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/multisampling-fragment-evaluation.html: Added.
        * webgl/2.0.y/conformance2/rendering/out-of-bounds-index-buffers-after-copying-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/out-of-bounds-index-buffers-after-copying.html: Added.
        * webgl/2.0.y/conformance2/rendering/rasterizer-discard-and-implicit-clear-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/rasterizer-discard-and-implicit-clear.html: Added.
        * webgl/2.0.y/conformance2/rendering/read-draw-when-missing-image-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/read-draw-when-missing-image.html: Added.
        * webgl/2.0.y/conformance2/rendering/rgb-format-support-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/rgb-format-support.html: Added.
        * webgl/2.0.y/conformance2/rendering/texture-switch-performance-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/texture-switch-performance.html: Added.
        * webgl/2.0.y/conformance2/rendering/uniform-block-buffer-size-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/uniform-block-buffer-size.html: Added.
        * webgl/2.0.y/conformance2/rendering/vertex-id-expected.txt: Added.
        * webgl/2.0.y/conformance2/rendering/vertex-id.html: Added.
        * webgl/2.0.y/conformance2/samplers/multi-context-sampler-test-expected.txt: Added.
        * webgl/2.0.y/conformance2/samplers/multi-context-sampler-test.html: Added.
        * webgl/2.0.y/conformance2/samplers/sampler-drawing-test-expected.txt: Added.
        * webgl/2.0.y/conformance2/samplers/sampler-drawing-test.html: Added.
        * webgl/2.0.y/conformance2/samplers/samplers-expected.txt: Added.
        * webgl/2.0.y/conformance2/samplers/samplers.html: Added.
        * webgl/2.0.y/conformance2/state/gl-enum-tests-expected.txt: Added.
        * webgl/2.0.y/conformance2/state/gl-enum-tests.html: Added.
        * webgl/2.0.y/conformance2/state/gl-get-calls-expected.txt: Added.
        * webgl/2.0.y/conformance2/state/gl-get-calls.html: Added.
        * webgl/2.0.y/conformance2/state/gl-getstring-expected.txt: Added.
        * webgl/2.0.y/conformance2/state/gl-getstring.html: Added.
        * webgl/2.0.y/conformance2/state/gl-object-get-calls-expected.txt: Added.
        * webgl/2.0.y/conformance2/state/gl-object-get-calls.html: Added.
        * webgl/2.0.y/conformance2/sync/sync-webgl-specific-expected.txt: Added.
        * webgl/2.0.y/conformance2/sync/sync-webgl-specific.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-r11f_g11f_b10f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-r11f_g11f_b10f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-r11f_g11f_b10f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-r11f_g11f_b10f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-r16f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-r16f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-r16f-red-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-r16f-red-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-r32f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-r32f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-r8-red-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-r8-red-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-r8ui-red_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-r8ui-red_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rg16f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rg16f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rg16f-rg-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rg16f-rg-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rg32f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rg32f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rg8-rg-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rg8-rg-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rg8ui-rg_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rg8ui-rg_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgb16f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgb16f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgb16f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgb16f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgb32f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgb32f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgb565-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgb565-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgb565-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgb565-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgb5_a1-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgb5_a1-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgb5_a1-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgb5_a1-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgb8ui-rgb_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgb8ui-rgb_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgb9_e5-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgb9_e5-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgb9_e5-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgb9_e5-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgba16f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgba16f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgba16f-rgba-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgba16f-rgba-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgba32f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgba32f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgba4-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgba4-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgba4-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgba4-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgba8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgba8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgba8ui-rgba_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-rgba8ui-rgba_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-srgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-srgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-srgb8_alpha8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-2d-srgb8_alpha8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-r11f_g11f_b10f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-r11f_g11f_b10f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-r11f_g11f_b10f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-r11f_g11f_b10f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-r16f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-r16f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-r16f-red-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-r16f-red-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-r32f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-r32f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-r8-red-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-r8-red-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-r8ui-red_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-r8ui-red_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rg16f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rg16f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rg16f-rg-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rg16f-rg-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rg32f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rg32f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rg8-rg-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rg8-rg-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rg8ui-rg_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rg8ui-rg_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgb16f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgb16f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgb16f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgb16f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgb32f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgb32f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgb565-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgb565-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgb565-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgb565-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgb5_a1-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgb5_a1-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgb5_a1-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgb5_a1-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgb8ui-rgb_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgb8ui-rgb_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgb9_e5-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgb9_e5-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgb9_e5-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgb9_e5-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgba16f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgba16f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgba16f-rgba-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgba16f-rgba-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgba32f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgba32f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgba4-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgba4-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgba4-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgba4-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgba8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgba8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgba8ui-rgba_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-rgba8ui-rgba_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-srgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-srgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-srgb8_alpha8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas/tex-3d-srgb8_alpha8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-r11f_g11f_b10f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-r11f_g11f_b10f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-r11f_g11f_b10f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-r11f_g11f_b10f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-r16f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-r16f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-r16f-red-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-r16f-red-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-r32f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-r32f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-r8-red-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-r8-red-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-r8ui-red_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-r8ui-red_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rg16f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rg16f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rg16f-rg-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rg16f-rg-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rg32f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rg32f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rg8-rg-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rg8-rg-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rg8ui-rg_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rg8ui-rg_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgb16f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgb16f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgb16f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgb16f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgb32f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgb32f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgb565-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgb565-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgb565-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgb565-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgb5_a1-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgb5_a1-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgb5_a1-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgb5_a1-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgb8ui-rgb_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgb8ui-rgb_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgb9_e5-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgb9_e5-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgb9_e5-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgb9_e5-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgba16f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgba16f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgba16f-rgba-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgba16f-rgba-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgba32f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgba32f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgba4-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgba4-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgba4-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgba4-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgba8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgba8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgba8ui-rgba_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-rgba8ui-rgba_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-srgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-srgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-srgb8_alpha8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-2d-srgb8_alpha8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-r11f_g11f_b10f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-r11f_g11f_b10f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-r11f_g11f_b10f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-r11f_g11f_b10f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-r16f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-r16f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-r16f-red-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-r16f-red-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-r32f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-r32f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-r8-red-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-r8-red-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-r8ui-red_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-r8ui-red_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rg16f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rg16f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rg16f-rg-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rg16f-rg-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rg32f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rg32f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rg8-rg-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rg8-rg-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rg8ui-rg_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rg8ui-rg_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgb16f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgb16f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgb16f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgb16f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgb32f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgb32f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgb565-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgb565-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgb565-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgb565-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgb5_a1-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgb5_a1-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgb5_a1-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgb5_a1-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgb8ui-rgb_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgb8ui-rgb_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgb9_e5-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgb9_e5-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgb9_e5-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgb9_e5-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgba16f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgba16f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgba16f-rgba-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgba16f-rgba-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgba32f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgba32f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgba4-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgba4-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgba4-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgba4-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgba8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgba8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgba8ui-rgba_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-rgba8ui-rgba_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-srgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-srgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-srgb8_alpha8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/canvas_sub_rectangle/tex-3d-srgb8_alpha8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-r11f_g11f_b10f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-r11f_g11f_b10f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-r11f_g11f_b10f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-r11f_g11f_b10f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-r16f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-r16f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-r16f-red-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-r16f-red-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-r32f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-r32f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-r8-red-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-r8-red-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-r8ui-red_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-r8ui-red_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rg16f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rg16f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rg16f-rg-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rg16f-rg-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rg32f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rg32f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rg8-rg-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rg8-rg-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rg8ui-rg_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rg8ui-rg_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgb16f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgb16f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgb16f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgb16f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgb32f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgb32f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgb565-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgb565-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgb565-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgb565-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgb5_a1-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgb5_a1-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgb5_a1-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgb5_a1-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgb8ui-rgb_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgb8ui-rgb_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgb9_e5-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgb9_e5-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgb9_e5-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgb9_e5-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgba16f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgba16f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgba16f-rgba-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgba16f-rgba-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgba32f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgba32f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgba4-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgba4-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgba4-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgba4-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgba8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgba8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgba8ui-rgba_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-rgba8ui-rgba_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-srgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-srgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-srgb8_alpha8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-2d-srgb8_alpha8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-r11f_g11f_b10f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-r11f_g11f_b10f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-r11f_g11f_b10f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-r11f_g11f_b10f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-r16f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-r16f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-r16f-red-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-r16f-red-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-r32f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-r32f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-r8-red-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-r8-red-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-r8ui-red_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-r8ui-red_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rg16f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rg16f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rg16f-rg-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rg16f-rg-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rg32f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rg32f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rg8-rg-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rg8-rg-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rg8ui-rg_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rg8ui-rg_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgb16f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgb16f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgb16f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgb16f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgb32f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgb32f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgb565-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgb565-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgb565-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgb565-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgb5_a1-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgb5_a1-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgb5_a1-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgb5_a1-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgb8ui-rgb_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgb8ui-rgb_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgb9_e5-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgb9_e5-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgb9_e5-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgb9_e5-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgba16f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgba16f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgba16f-rgba-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgba16f-rgba-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgba32f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgba32f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgba4-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgba4-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgba4-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgba4-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgba8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgba8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgba8ui-rgba_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-rgba8ui-rgba_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-srgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-srgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-srgb8_alpha8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image/tex-3d-srgb8_alpha8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-r11f_g11f_b10f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-r11f_g11f_b10f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-r11f_g11f_b10f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-r11f_g11f_b10f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-r16f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-r16f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-r16f-red-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-r16f-red-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-r32f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-r32f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-r8-red-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-r8-red-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-r8ui-red_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-r8ui-red_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rg16f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rg16f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rg16f-rg-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rg16f-rg-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rg32f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rg32f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rg8-rg-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rg8-rg-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rg8ui-rg_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rg8ui-rg_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgb16f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgb16f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgb16f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgb16f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgb32f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgb32f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgb565-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgb565-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgb565-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgb565-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgb5_a1-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgb5_a1-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgb5_a1-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgb5_a1-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgb8ui-rgb_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgb8ui-rgb_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgb9_e5-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgb9_e5-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgb9_e5-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgb9_e5-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgba16f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgba16f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgba16f-rgba-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgba16f-rgba-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgba32f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgba32f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgba4-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgba4-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgba4-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgba4-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgba8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgba8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgba8ui-rgba_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-rgba8ui-rgba_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-srgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-srgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-srgb8_alpha8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-2d-srgb8_alpha8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-r11f_g11f_b10f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-r11f_g11f_b10f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-r11f_g11f_b10f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-r11f_g11f_b10f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-r16f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-r16f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-r16f-red-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-r16f-red-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-r32f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-r32f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-r8-red-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-r8-red-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-r8ui-red_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-r8ui-red_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rg16f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rg16f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rg16f-rg-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rg16f-rg-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rg32f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rg32f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rg8-rg-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rg8-rg-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rg8ui-rg_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rg8ui-rg_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgb16f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgb16f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgb16f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgb16f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgb32f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgb32f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgb565-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgb565-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgb565-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgb565-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgb5_a1-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgb5_a1-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgb5_a1-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgb5_a1-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgb8ui-rgb_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgb8ui-rgb_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgb9_e5-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgb9_e5-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgb9_e5-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgb9_e5-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgba16f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgba16f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgba16f-rgba-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgba16f-rgba-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgba32f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgba32f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgba4-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgba4-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgba4-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgba4-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgba8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgba8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgba8ui-rgba_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-rgba8ui-rgba_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-srgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-srgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-srgb8_alpha8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_blob/tex-3d-srgb8_alpha8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-r11f_g11f_b10f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-r11f_g11f_b10f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-r11f_g11f_b10f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-r11f_g11f_b10f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-r16f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-r16f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-r16f-red-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-r16f-red-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-r32f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-r32f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-r8-red-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-r8-red-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-r8ui-red_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-r8ui-red_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rg16f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rg16f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rg16f-rg-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rg16f-rg-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rg32f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rg32f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rg8-rg-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rg8-rg-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rg8ui-rg_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rg8ui-rg_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgb16f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgb16f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgb16f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgb16f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgb32f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgb32f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgb565-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgb565-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgb565-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgb565-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgb5_a1-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgb5_a1-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgb5_a1-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgb5_a1-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgb8ui-rgb_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgb8ui-rgb_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgb9_e5-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgb9_e5-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgb9_e5-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgb9_e5-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgba16f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgba16f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgba16f-rgba-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgba16f-rgba-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgba32f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgba32f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgba4-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgba4-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgba4-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgba4-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgba8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgba8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgba8ui-rgba_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-rgba8ui-rgba_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-srgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-srgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-srgb8_alpha8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-2d-srgb8_alpha8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-r11f_g11f_b10f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-r11f_g11f_b10f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-r11f_g11f_b10f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-r11f_g11f_b10f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-r16f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-r16f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-r16f-red-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-r16f-red-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-r32f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-r32f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-r8-red-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-r8-red-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-r8ui-red_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-r8ui-red_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rg16f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rg16f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rg16f-rg-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rg16f-rg-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rg32f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rg32f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rg8-rg-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rg8-rg-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rg8ui-rg_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rg8ui-rg_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgb16f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgb16f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgb16f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgb16f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgb32f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgb32f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgb565-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgb565-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgb565-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgb565-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgb5_a1-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgb5_a1-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgb5_a1-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgb5_a1-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgb8ui-rgb_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgb8ui-rgb_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgb9_e5-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgb9_e5-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgb9_e5-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgb9_e5-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgba16f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgba16f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgba16f-rgba-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgba16f-rgba-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgba32f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgba32f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgba4-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgba4-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgba4-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgba4-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgba8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgba8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgba8ui-rgba_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-rgba8ui-rgba_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-srgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-srgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-srgb8_alpha8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_canvas/tex-3d-srgb8_alpha8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-r11f_g11f_b10f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-r11f_g11f_b10f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-r11f_g11f_b10f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-r11f_g11f_b10f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-r16f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-r16f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-r16f-red-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-r16f-red-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-r32f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-r32f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-r8-red-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-r8-red-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-r8ui-red_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-r8ui-red_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rg16f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rg16f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rg16f-rg-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rg16f-rg-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rg32f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rg32f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rg8-rg-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rg8-rg-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rg8ui-rg_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rg8ui-rg_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgb16f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgb16f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgb16f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgb16f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgb32f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgb32f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgb565-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgb565-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgb565-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgb565-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgb5_a1-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgb5_a1-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgb5_a1-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgb5_a1-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgb8ui-rgb_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgb8ui-rgb_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgb9_e5-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgb9_e5-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgb9_e5-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgb9_e5-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgba16f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgba16f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgba16f-rgba-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgba16f-rgba-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgba32f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgba32f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgba4-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgba4-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgba4-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgba4-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgba8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgba8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgba8ui-rgba_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-rgba8ui-rgba_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-srgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-srgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-srgb8_alpha8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-2d-srgb8_alpha8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-r11f_g11f_b10f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-r11f_g11f_b10f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-r11f_g11f_b10f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-r11f_g11f_b10f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-r16f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-r16f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-r16f-red-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-r16f-red-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-r32f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-r32f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-r8-red-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-r8-red-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-r8ui-red_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-r8ui-red_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rg16f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rg16f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rg16f-rg-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rg16f-rg-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rg32f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rg32f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rg8-rg-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rg8-rg-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rg8ui-rg_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rg8ui-rg_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgb16f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgb16f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgb16f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgb16f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgb32f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgb32f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgb565-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgb565-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgb565-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgb565-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgb5_a1-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgb5_a1-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgb5_a1-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgb5_a1-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgb8ui-rgb_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgb8ui-rgb_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgb9_e5-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgb9_e5-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgb9_e5-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgb9_e5-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgba16f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgba16f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgba16f-rgba-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgba16f-rgba-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgba32f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgba32f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgba4-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgba4-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgba4-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgba4-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgba8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgba8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgba8ui-rgba_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-rgba8ui-rgba_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-srgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-srgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-srgb8_alpha8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image/tex-3d-srgb8_alpha8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-r11f_g11f_b10f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-r11f_g11f_b10f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-r11f_g11f_b10f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-r11f_g11f_b10f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-r16f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-r16f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-r16f-red-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-r16f-red-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-r32f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-r32f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-r8-red-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-r8-red-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-r8ui-red_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-r8ui-red_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rg16f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rg16f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rg16f-rg-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rg16f-rg-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rg32f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rg32f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rg8-rg-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rg8-rg-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rg8ui-rg_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rg8ui-rg_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgb16f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgb16f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgb16f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgb16f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgb32f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgb32f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgb565-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgb565-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgb565-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgb565-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgb5_a1-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgb5_a1-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgb5_a1-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgb5_a1-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgb8ui-rgb_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgb8ui-rgb_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgb9_e5-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgb9_e5-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgb9_e5-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgb9_e5-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgba16f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgba16f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgba16f-rgba-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgba16f-rgba-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgba32f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgba32f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgba4-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgba4-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgba4-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgba4-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgba8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgba8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgba8ui-rgba_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-rgba8ui-rgba_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-srgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-srgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-srgb8_alpha8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-2d-srgb8_alpha8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-r11f_g11f_b10f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-r11f_g11f_b10f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-r11f_g11f_b10f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-r11f_g11f_b10f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-r16f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-r16f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-r16f-red-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-r16f-red-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-r32f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-r32f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-r8-red-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-r8-red-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-r8ui-red_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-r8ui-red_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rg16f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rg16f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rg16f-rg-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rg16f-rg-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rg32f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rg32f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rg8-rg-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rg8-rg-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rg8ui-rg_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rg8ui-rg_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgb16f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgb16f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgb16f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgb16f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgb32f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgb32f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgb565-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgb565-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgb565-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgb565-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgb5_a1-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgb5_a1-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgb5_a1-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgb5_a1-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgb8ui-rgb_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgb8ui-rgb_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgb9_e5-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgb9_e5-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgb9_e5-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgb9_e5-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgba16f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgba16f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgba16f-rgba-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgba16f-rgba-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgba32f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgba32f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgba4-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgba4-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgba4-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgba4-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgba8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgba8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgba8ui-rgba_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-rgba8ui-rgba_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-srgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-srgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-srgb8_alpha8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_bitmap/tex-3d-srgb8_alpha8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-r11f_g11f_b10f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-r11f_g11f_b10f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-r11f_g11f_b10f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-r11f_g11f_b10f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-r16f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-r16f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-r16f-red-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-r16f-red-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-r32f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-r32f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-r8-red-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-r8-red-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-r8ui-red_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-r8ui-red_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rg16f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rg16f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rg16f-rg-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rg16f-rg-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rg32f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rg32f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rg8-rg-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rg8-rg-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rg8ui-rg_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rg8ui-rg_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgb16f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgb16f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgb16f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgb16f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgb32f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgb32f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgb565-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgb565-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgb565-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgb565-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgb5_a1-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgb5_a1-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgb5_a1-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgb5_a1-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgb8ui-rgb_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgb8ui-rgb_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgb9_e5-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgb9_e5-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgb9_e5-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgb9_e5-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgba16f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgba16f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgba16f-rgba-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgba16f-rgba-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgba32f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgba32f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgba4-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgba4-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgba4-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgba4-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgba8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgba8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgba8ui-rgba_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-rgba8ui-rgba_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-srgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-srgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-srgb8_alpha8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-2d-srgb8_alpha8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-r11f_g11f_b10f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-r11f_g11f_b10f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-r11f_g11f_b10f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-r11f_g11f_b10f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-r16f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-r16f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-r16f-red-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-r16f-red-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-r32f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-r32f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-r8-red-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-r8-red-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-r8ui-red_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-r8ui-red_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rg16f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rg16f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rg16f-rg-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rg16f-rg-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rg32f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rg32f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rg8-rg-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rg8-rg-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rg8ui-rg_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rg8ui-rg_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgb16f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgb16f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgb16f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgb16f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgb32f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgb32f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgb565-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgb565-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgb565-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgb565-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgb5_a1-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgb5_a1-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgb5_a1-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgb5_a1-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgb8ui-rgb_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgb8ui-rgb_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgb9_e5-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgb9_e5-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgb9_e5-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgb9_e5-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgba16f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgba16f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgba16f-rgba-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgba16f-rgba-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgba32f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgba32f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgba4-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgba4-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgba4-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgba4-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgba8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgba8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgba8ui-rgba_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-rgba8ui-rgba_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-srgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-srgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-srgb8_alpha8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_image_data/tex-3d-srgb8_alpha8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-r11f_g11f_b10f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-r11f_g11f_b10f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-r11f_g11f_b10f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-r11f_g11f_b10f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-r16f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-r16f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-r16f-red-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-r16f-red-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-r32f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-r32f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-r8-red-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-r8-red-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-r8ui-red_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-r8ui-red_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rg16f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rg16f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rg16f-rg-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rg16f-rg-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rg32f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rg32f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rg8-rg-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rg8-rg-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rg8ui-rg_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rg8ui-rg_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgb16f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgb16f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgb16f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgb16f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgb32f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgb32f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgb565-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgb565-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgb565-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgb565-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgb5_a1-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgb5_a1-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgb5_a1-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgb5_a1-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgb8ui-rgb_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgb8ui-rgb_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgb9_e5-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgb9_e5-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgb9_e5-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgb9_e5-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgba16f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgba16f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgba16f-rgba-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgba16f-rgba-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgba32f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgba32f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgba4-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgba4-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgba4-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgba4-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgba8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgba8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgba8ui-rgba_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-rgba8ui-rgba_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-srgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-srgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-srgb8_alpha8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-2d-srgb8_alpha8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-r11f_g11f_b10f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-r11f_g11f_b10f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-r11f_g11f_b10f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-r11f_g11f_b10f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-r16f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-r16f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-r16f-red-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-r16f-red-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-r32f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-r32f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-r8-red-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-r8-red-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-r8ui-red_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-r8ui-red_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rg16f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rg16f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rg16f-rg-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rg16f-rg-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rg32f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rg32f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rg8-rg-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rg8-rg-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rg8ui-rg_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rg8ui-rg_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgb16f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgb16f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgb16f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgb16f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgb32f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgb32f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgb565-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgb565-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgb565-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgb565-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgb5_a1-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgb5_a1-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgb5_a1-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgb5_a1-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgb8ui-rgb_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgb8ui-rgb_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgb9_e5-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgb9_e5-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgb9_e5-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgb9_e5-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgba16f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgba16f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgba16f-rgba-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgba16f-rgba-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgba32f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgba32f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgba4-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgba4-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgba4-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgba4-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgba8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgba8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgba8ui-rgba_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-rgba8ui-rgba_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-srgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-srgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-srgb8_alpha8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_bitmap_from_video/tex-3d-srgb8_alpha8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-r11f_g11f_b10f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-r11f_g11f_b10f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-r11f_g11f_b10f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-r11f_g11f_b10f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-r16f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-r16f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-r16f-red-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-r16f-red-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-r32f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-r32f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-r8-red-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-r8-red-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-r8ui-red_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-r8ui-red_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rg16f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rg16f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rg16f-rg-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rg16f-rg-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rg32f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rg32f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rg8-rg-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rg8-rg-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rg8ui-rg_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rg8ui-rg_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgb16f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgb16f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgb16f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgb16f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgb32f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgb32f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgb565-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgb565-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgb565-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgb565-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgb5_a1-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgb5_a1-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgb5_a1-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgb5_a1-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgb8ui-rgb_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgb8ui-rgb_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgb9_e5-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgb9_e5-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgb9_e5-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgb9_e5-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgba16f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgba16f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgba16f-rgba-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgba16f-rgba-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgba32f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgba32f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgba4-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgba4-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgba4-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgba4-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgba8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgba8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgba8ui-rgba_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-rgba8ui-rgba_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-srgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-srgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-srgb8_alpha8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-2d-srgb8_alpha8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-r11f_g11f_b10f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-r11f_g11f_b10f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-r11f_g11f_b10f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-r11f_g11f_b10f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-r16f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-r16f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-r16f-red-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-r16f-red-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-r32f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-r32f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-r8-red-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-r8-red-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-r8ui-red_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-r8ui-red_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rg16f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rg16f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rg16f-rg-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rg16f-rg-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rg32f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rg32f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rg8-rg-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rg8-rg-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rg8ui-rg_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rg8ui-rg_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgb16f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgb16f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgb16f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgb16f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgb32f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgb32f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgb565-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgb565-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgb565-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgb565-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgb5_a1-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgb5_a1-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgb5_a1-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgb5_a1-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgb8ui-rgb_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgb8ui-rgb_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgb9_e5-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgb9_e5-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgb9_e5-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgb9_e5-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgba16f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgba16f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgba16f-rgba-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgba16f-rgba-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgba32f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgba32f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgba4-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgba4-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgba4-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgba4-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgba8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgba8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgba8ui-rgba_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-rgba8ui-rgba_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-srgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-srgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-srgb8_alpha8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/image_data/tex-3d-srgb8_alpha8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/active-3d-texture-bug-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/active-3d-texture-bug.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/angle-stuck-depth-textures-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/angle-stuck-depth-textures.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/canvas-remains-unchanged-after-used-in-webgl-texture-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/canvas-remains-unchanged-after-used-in-webgl-texture.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/compressed-tex-from-pbo-crash-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/compressed-tex-from-pbo-crash.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/compressed-tex-image-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/compressed-tex-image.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/copy-texture-cube-map-AMD-bug-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/copy-texture-cube-map-AMD-bug.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/copy-texture-cube-map-bug-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/copy-texture-cube-map-bug.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/copy-texture-image-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/copy-texture-image-luma-format-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/copy-texture-image-luma-format.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/copy-texture-image-same-texture-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/copy-texture-image-same-texture.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/copy-texture-image-webgl-specific-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/copy-texture-image-webgl-specific.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/copy-texture-image.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/generate-mipmap-with-large-base-level-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/generate-mipmap-with-large-base-level.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/gl-get-tex-parameter-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/gl-get-tex-parameter.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/integer-cubemap-specification-order-bug-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/integer-cubemap-specification-order-bug.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/integer-cubemap-texture-sampling-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/integer-cubemap-texture-sampling.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/mipmap-fbo-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/mipmap-fbo.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/npot-video-sizing-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/npot-video-sizing.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/origin-clean-conformance-offscreencanvas-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/origin-clean-conformance-offscreencanvas.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-3d-mipmap-levels-intel-bug-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-3d-mipmap-levels-intel-bug.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-3d-size-limit-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-3d-size-limit.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-base-level-bug-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-base-level-bug.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-image-and-sub-image-with-array-buffer-view-sub-source-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-image-and-sub-image-with-array-buffer-view-sub-source.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-image-with-bad-args-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-image-with-bad-args-from-dom-elements-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-image-with-bad-args-from-dom-elements.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-image-with-bad-args.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-image-with-different-data-source-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-image-with-different-data-source.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-input-validation-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-input-validation.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-mipmap-levels-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-mipmap-levels.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-new-formats-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-new-formats.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-srgb-mipmap-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-srgb-mipmap.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-storage-2d-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-storage-2d.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-storage-and-subimage-3d-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-storage-and-subimage-3d.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-storage-compressed-formats-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-storage-compressed-formats.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-subimage3d-canvas-bug-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-subimage3d-canvas-bug.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-subimage3d-pixel-buffer-bug-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-subimage3d-pixel-buffer-bug.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-unpack-params-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-unpack-params-imagedata-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-unpack-params-imagedata.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-unpack-params-with-flip-y-and-premultiply-alpha-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-unpack-params-with-flip-y-and-premultiply-alpha.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/tex-unpack-params.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/texel-fetch-undefined-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/texel-fetch-undefined.html: Added.
        * webgl/2.0.y/conformance2/textures/misc/texture-npot-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/misc/texture-npot.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-r11f_g11f_b10f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-r11f_g11f_b10f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-r11f_g11f_b10f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-r11f_g11f_b10f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-r16f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-r16f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-r16f-red-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-r16f-red-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-r32f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-r32f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-r8-red-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-r8-red-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-r8ui-red_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-r8ui-red_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rg16f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rg16f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rg16f-rg-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rg16f-rg-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rg32f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rg32f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rg8-rg-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rg8-rg-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rg8ui-rg_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rg8ui-rg_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgb16f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgb16f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgb16f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgb16f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgb32f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgb32f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgb565-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgb565-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgb565-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgb565-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgb5_a1-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgb5_a1-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgb5_a1-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgb5_a1-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgb8ui-rgb_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgb8ui-rgb_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgb9_e5-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgb9_e5-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgb9_e5-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgb9_e5-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgba16f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgba16f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgba16f-rgba-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgba16f-rgba-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgba32f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgba32f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgba4-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgba4-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgba4-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgba4-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgba8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgba8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgba8ui-rgba_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-rgba8ui-rgba_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-srgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-srgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-srgb8_alpha8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-2d-srgb8_alpha8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-r11f_g11f_b10f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-r11f_g11f_b10f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-r11f_g11f_b10f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-r11f_g11f_b10f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-r16f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-r16f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-r16f-red-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-r16f-red-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-r32f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-r32f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-r8-red-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-r8-red-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-r8ui-red_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-r8ui-red_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rg16f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rg16f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rg16f-rg-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rg16f-rg-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rg32f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rg32f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rg8-rg-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rg8-rg-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rg8ui-rg_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rg8ui-rg_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgb16f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgb16f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgb16f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgb16f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgb32f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgb32f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgb565-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgb565-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgb565-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgb565-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgb5_a1-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgb5_a1-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgb5_a1-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgb5_a1-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgb8ui-rgb_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgb8ui-rgb_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgb9_e5-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgb9_e5-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgb9_e5-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgb9_e5-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgba16f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgba16f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgba16f-rgba-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgba16f-rgba-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgba32f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgba32f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgba4-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgba4-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgba4-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgba4-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgba8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgba8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgba8ui-rgba_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-rgba8ui-rgba_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-srgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-srgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-srgb8_alpha8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/svg_image/tex-3d-srgb8_alpha8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-r11f_g11f_b10f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-r11f_g11f_b10f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-r11f_g11f_b10f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-r11f_g11f_b10f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-r16f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-r16f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-r16f-red-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-r16f-red-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-r32f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-r32f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-r8-red-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-r8-red-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-r8ui-red_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-r8ui-red_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rg16f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rg16f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rg16f-rg-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rg16f-rg-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rg32f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rg32f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rg8-rg-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rg8-rg-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rg8ui-rg_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rg8ui-rg_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgb16f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgb16f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgb16f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgb16f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgb32f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgb32f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgb565-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgb565-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgb565-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgb565-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgb5_a1-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgb5_a1-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgb5_a1-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgb5_a1-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgb8ui-rgb_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgb8ui-rgb_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgb9_e5-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgb9_e5-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgb9_e5-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgb9_e5-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgba16f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgba16f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgba16f-rgba-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgba16f-rgba-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgba32f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgba32f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgba4-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgba4-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgba4-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgba4-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgba8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgba8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgba8ui-rgba_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-rgba8ui-rgba_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-srgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-srgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-srgb8_alpha8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-2d-srgb8_alpha8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-r11f_g11f_b10f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-r11f_g11f_b10f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-r11f_g11f_b10f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-r11f_g11f_b10f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-r16f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-r16f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-r16f-red-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-r16f-red-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-r32f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-r32f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-r8-red-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-r8-red-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-r8ui-red_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-r8ui-red_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rg16f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rg16f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rg16f-rg-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rg16f-rg-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rg32f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rg32f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rg8-rg-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rg8-rg-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rg8ui-rg_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rg8ui-rg_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgb16f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgb16f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgb16f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgb16f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgb32f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgb32f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgb565-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgb565-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgb565-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgb565-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgb5_a1-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgb5_a1-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgb5_a1-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgb5_a1-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgb8ui-rgb_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgb8ui-rgb_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgb9_e5-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgb9_e5-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgb9_e5-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgb9_e5-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgba16f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgba16f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgba16f-rgba-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgba16f-rgba-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgba32f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgba32f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgba4-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgba4-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgba4-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgba4-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgba8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgba8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgba8ui-rgba_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-rgba8ui-rgba_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-srgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-srgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-srgb8_alpha8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/video/tex-3d-srgb8_alpha8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-r11f_g11f_b10f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-r11f_g11f_b10f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-r11f_g11f_b10f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-r11f_g11f_b10f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-r16f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-r16f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-r16f-red-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-r16f-red-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-r32f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-r32f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-r8-red-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-r8-red-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-r8ui-red_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-r8ui-red_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rg16f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rg16f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rg16f-rg-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rg16f-rg-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rg32f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rg32f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rg8-rg-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rg8-rg-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rg8ui-rg_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rg8ui-rg_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgb16f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgb16f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgb16f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgb16f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgb32f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgb32f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgb565-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgb565-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgb565-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgb565-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgb5_a1-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgb5_a1-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgb5_a1-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgb5_a1-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgb8ui-rgb_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgb8ui-rgb_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgb9_e5-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgb9_e5-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgb9_e5-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgb9_e5-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgba16f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgba16f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgba16f-rgba-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgba16f-rgba-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgba32f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgba32f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgba4-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgba4-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgba4-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgba4-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgba8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgba8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgba8ui-rgba_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-rgba8ui-rgba_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-srgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-srgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-srgb8_alpha8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-2d-srgb8_alpha8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-r11f_g11f_b10f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-r11f_g11f_b10f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-r11f_g11f_b10f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-r11f_g11f_b10f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-r11f_g11f_b10f-rgb-unsigned_int_10f_11f_11f_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-r16f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-r16f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-r16f-red-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-r16f-red-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-r32f-red-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-r32f-red-float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-r8-red-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-r8-red-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-r8ui-red_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-r8ui-red_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rg16f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rg16f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rg16f-rg-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rg16f-rg-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rg32f-rg-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rg32f-rg-float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rg8-rg-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rg8-rg-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rg8ui-rg_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rg8ui-rg_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgb10_a2-rgba-unsigned_int_2_10_10_10_rev.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgb16f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgb16f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgb16f-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgb16f-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgb32f-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgb32f-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgb565-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgb565-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgb565-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgb565-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgb5_a1-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgb5_a1-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgb5_a1-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgb5_a1-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgb8ui-rgb_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgb8ui-rgb_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgb9_e5-rgb-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgb9_e5-rgb-float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgb9_e5-rgb-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgb9_e5-rgb-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgba16f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgba16f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgba16f-rgba-half_float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgba16f-rgba-half_float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgba32f-rgba-float-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgba32f-rgba-float.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgba4-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgba4-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgba4-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgba4-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgba8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgba8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgba8ui-rgba_integer-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-rgba8ui-rgba_integer-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-srgb8-rgb-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-srgb8-rgb-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-srgb8_alpha8-rgba-unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/conformance2/textures/webgl_canvas/tex-3d-srgb8_alpha8-rgba-unsigned_byte.html: Added.
        * webgl/2.0.y/conformance2/transform_feedback/default_transform_feedback-expected.txt: Added.
        * webgl/2.0.y/conformance2/transform_feedback/default_transform_feedback.html: Added.
        * webgl/2.0.y/conformance2/transform_feedback/non-existent-varying-expected.txt: Added.
        * webgl/2.0.y/conformance2/transform_feedback/non-existent-varying.html: Added.
        * webgl/2.0.y/conformance2/transform_feedback/same-buffer-two-binding-points-expected.txt: Added.
        * webgl/2.0.y/conformance2/transform_feedback/same-buffer-two-binding-points.html: Added.
        * webgl/2.0.y/conformance2/transform_feedback/simultaneous_binding-expected.txt: Added.
        * webgl/2.0.y/conformance2/transform_feedback/simultaneous_binding.html: Added.
        * webgl/2.0.y/conformance2/transform_feedback/switching-objects-expected.txt: Added.
        * webgl/2.0.y/conformance2/transform_feedback/switching-objects.html: Added.
        * webgl/2.0.y/conformance2/transform_feedback/too-small-buffers-expected.txt: Added.
        * webgl/2.0.y/conformance2/transform_feedback/too-small-buffers.html: Added.
        * webgl/2.0.y/conformance2/transform_feedback/transform_feedback-expected.txt: Added.
        * webgl/2.0.y/conformance2/transform_feedback/transform_feedback.html: Added.
        * webgl/2.0.y/conformance2/transform_feedback/two-unreferenced-varyings-expected.txt: Added.
        * webgl/2.0.y/conformance2/transform_feedback/two-unreferenced-varyings.html: Added.
        * webgl/2.0.y/conformance2/transform_feedback/unwritten-output-defaults-to-zero-expected.txt: Added.
        * webgl/2.0.y/conformance2/transform_feedback/unwritten-output-defaults-to-zero.html: Added.
        * webgl/2.0.y/conformance2/uniforms/dependent-buffer-change-expected.txt: Added.
        * webgl/2.0.y/conformance2/uniforms/dependent-buffer-change.html: Added.
        * webgl/2.0.y/conformance2/uniforms/draw-with-uniform-blocks-expected.txt: Added.
        * webgl/2.0.y/conformance2/uniforms/draw-with-uniform-blocks.html: Added.
        * webgl/2.0.y/conformance2/uniforms/gl-uniform-arrays-sub-source-expected.txt: Added.
        * webgl/2.0.y/conformance2/uniforms/gl-uniform-arrays-sub-source.html: Added.
        * webgl/2.0.y/conformance2/uniforms/incompatible-texture-type-for-sampler-expected.txt: Added.
        * webgl/2.0.y/conformance2/uniforms/incompatible-texture-type-for-sampler.html: Added.
        * webgl/2.0.y/conformance2/uniforms/large-uniform-buffers-expected.txt: Added.
        * webgl/2.0.y/conformance2/uniforms/large-uniform-buffers.html: Added.
        * webgl/2.0.y/conformance2/uniforms/query-uniform-blocks-after-shader-detach-expected.txt: Added.
        * webgl/2.0.y/conformance2/uniforms/query-uniform-blocks-after-shader-detach.html: Added.
        * webgl/2.0.y/conformance2/uniforms/simple-buffer-change-expected.txt: Added.
        * webgl/2.0.y/conformance2/uniforms/simple-buffer-change.html: Added.
        * webgl/2.0.y/conformance2/uniforms/uniform-blocks-with-arrays-expected.txt: Added.
        * webgl/2.0.y/conformance2/uniforms/uniform-blocks-with-arrays.html: Added.
        * webgl/2.0.y/conformance2/vertex_arrays/vertex-array-object-and-disabled-attributes-expected.txt: Added.
        * webgl/2.0.y/conformance2/vertex_arrays/vertex-array-object-and-disabled-attributes.html: Added.
        * webgl/2.0.y/conformance2/vertex_arrays/vertex-array-object-expected.txt: Added.
        * webgl/2.0.y/conformance2/vertex_arrays/vertex-array-object.html: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/arrays-expected.txt: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/arrays.html: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/conditionals-expected.txt: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/conditionals.html: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/constant_expressions-expected.txt: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/constant_expressions.html: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/constants-expected.txt: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/constants.html: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/conversions-expected.txt: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/conversions.html: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/declarations-expected.txt: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/declarations.html: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/fragdata-expected.txt: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/fragdata.html: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/functions-expected.txt: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/functions.html: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/invalid_texture_functions-expected.txt: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/invalid_texture_functions.html: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/keywords-expected.txt: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/keywords.html: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/linkage-expected.txt: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/linkage.html: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/negative-expected.txt: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/negative.html: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/preprocessor-expected.txt: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/preprocessor.html: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/qualification_order-expected.txt: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/qualification_order.html: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/scoping-expected.txt: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/scoping.html: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/switch-expected.txt: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/switch.html: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/swizzles-expected.txt: Added.
        * webgl/2.0.y/deqp/data/gles3/shaders/swizzles.html: Added.
        * webgl/2.0.y/deqp/framework/opengl/simplereference/referencecontext-expected.txt: Added.
        * webgl/2.0.y/deqp/framework/opengl/simplereference/referencecontext.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/attriblocation-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/attriblocation.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/booleanstatequery-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/booleanstatequery.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/buffercopy-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/buffercopy.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/bufferobjectquery-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/bufferobjectquery.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/clipping-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/clipping.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/defaultvertexattribute-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/defaultvertexattribute.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/draw/draw_arrays-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/draw/draw_arrays.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/draw/draw_arrays_instanced-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/draw/draw_arrays_instanced.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/draw/draw_elements-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/draw/draw_elements.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/draw/draw_elements_instanced-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/draw/draw_elements_instanced.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/draw/draw_range_elements-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/draw/draw_range_elements.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/draw/instancing-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/draw/instancing.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/draw/random-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/draw/random.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/blend-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/blend.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/clear-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/clear.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex2d_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex2d_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex2d_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex2d_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex2d_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex2d_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex2d_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex2d_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex2d_04-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex2d_04.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex2d_05-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex2d_05.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex2darray_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex2darray_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex2darray_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex2darray_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex2darray_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex2darray_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex2darray_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex2darray_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex2darray_04-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex2darray_04.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex2darray_05-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex2darray_05.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex3d_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex3d_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex3d_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex3d_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex3d_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex3d_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex3d_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex3d_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex3d_04-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex3d_04.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex3d_05-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/tex3d_05.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/texcube_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/texcube_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/texcube_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/texcube_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/texcube_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/texcube_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/texcube_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/texcube_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/texcube_04-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/texcube_04.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/texcube_05-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocolorbuffer/texcube_05.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocompleteness-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbocompleteness.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbodepthbuffer-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbodepthbuffer.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fboinvalidate/default-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fboinvalidate/default.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fboinvalidate/format_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fboinvalidate/format_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fboinvalidate/format_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fboinvalidate/format_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fboinvalidate/format_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fboinvalidate/format_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fboinvalidate/sub-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fboinvalidate/sub.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fboinvalidate/target-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fboinvalidate/target.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fboinvalidate/whole-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fboinvalidate/whole.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbomultisample.2_samples-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbomultisample.2_samples.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbomultisample.4_samples-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbomultisample.4_samples.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbomultisample.8_samples-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbomultisample.8_samples.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/recreate_color_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/recreate_color_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/recreate_color_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/recreate_color_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/recreate_color_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/recreate_color_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/recreate_color_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/recreate_color_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/recreate_color_04-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/recreate_color_04.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/recreate_color_05-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/recreate_color_05.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/recreate_color_06-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/recreate_color_06.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/recreate_depth_stencil-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/recreate_depth_stencil.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/resize_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/resize_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/resize_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/resize_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/resize_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/resize_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/resize_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/resize_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/shared_colorbuffer_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/shared_colorbuffer_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/shared_colorbuffer_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/shared_colorbuffer_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/shared_colorbuffer_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/shared_colorbuffer_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/shared_colorbuffer_clear-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/shared_colorbuffer_clear.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/shared_depth_stencil-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/shared_depth_stencil.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/stencil_clear-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fborender/stencil_clear.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbostatequery-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbostatequery.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbostencilbuffer-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fbostencilbuffer.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/floatstatequery-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/floatstatequery.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fragdepth-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fragdepth.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fragmentoutput/array.fixed-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fragmentoutput/array.fixed.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fragmentoutput/array.float-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fragmentoutput/array.float.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fragmentoutput/array.int-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fragmentoutput/array.int.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fragmentoutput/array.uint-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fragmentoutput/array.uint.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fragmentoutput/basic.fixed-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fragmentoutput/basic.fixed.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fragmentoutput/basic.float-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fragmentoutput/basic.float.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fragmentoutput/basic.int-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fragmentoutput/basic.int.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fragmentoutput/basic.uint-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fragmentoutput/basic.uint.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fragmentoutput/random_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fragmentoutput/random_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fragmentoutput/random_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fragmentoutput/random_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/fragmentoutput/random_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/fragmentoutput/random_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_04-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_04.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_05-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_05.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_06-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_06.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_07-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_07.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_08-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_08.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_09-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_09.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_10-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_10.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_11-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_11.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_12-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_12.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_13-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_13.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_14-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_14.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_15-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_15.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_16-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_16.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_17-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_17.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_18-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_18.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_19-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_19.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_20-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_20.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_21-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_21.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_22-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_22.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_23-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_23.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_24-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_24.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_25-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_25.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_26-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_26.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_27-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_27.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_28-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_28.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_29-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_29.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_30-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_30.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_31-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_31.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_32-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_32.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_33-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_33.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_34-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/conversion_34.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/default_framebuffer_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/default_framebuffer_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/default_framebuffer_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/default_framebuffer_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/default_framebuffer_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/default_framebuffer_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/default_framebuffer_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/default_framebuffer_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/default_framebuffer_04-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/default_framebuffer_04.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/default_framebuffer_05-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/default_framebuffer_05.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/default_framebuffer_06-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/default_framebuffer_06.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/depth_stencil-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/depth_stencil.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/rect_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/rect_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/rect_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/rect_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/rect_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/rect_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/rect_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/rect_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/rect_04-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/rect_04.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/rect_05-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/rect_05.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/rect_06-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/framebufferblit/rect_06.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/indexedstatequery-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/indexedstatequery.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/instancedrendering-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/instancedrendering.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/integerstatequery-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/integerstatequery.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/internalformatquery-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/internalformatquery.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/lifetime-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/lifetime.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/multisample-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/multisample.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/negativebufferapi-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/negativebufferapi.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/negativefragmentapi-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/negativefragmentapi.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/negativeshaderapi-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/negativeshaderapi.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/negativestateapi-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/negativestateapi.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/negativetextureapi-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/negativetextureapi.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/negativevertexarrayapi-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/negativevertexarrayapi.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/occlusionquery_conservative-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/occlusionquery_conservative.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/occlusionquery_strict-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/occlusionquery_strict.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/pixelbufferobject-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/pixelbufferobject.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/primitiverestart/00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/primitiverestart/00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/primitiverestart/01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/primitiverestart/01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/primitiverestart/02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/primitiverestart/02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/primitiverestart/03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/primitiverestart/03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/primitiverestart/04-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/primitiverestart/04.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/primitiverestart/05-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/primitiverestart/05.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/primitiverestart/06-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/primitiverestart/06.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/primitiverestart/07-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/primitiverestart/07.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/rasterizerdiscard-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/rasterizerdiscard.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/rbostatequery-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/rbostatequery.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/readpixel-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/readpixel.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/samplerobject-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/samplerobject.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/samplerstatequery-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/samplerstatequery.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderapi-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderapi.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderbuiltinvar-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderbuiltinvar.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadercommonfunction-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadercommonfunction.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderderivate_dfdx-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderderivate_dfdx.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderderivate_dfdy-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderderivate_dfdy.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderderivate_fwidth-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderderivate_fwidth.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderindexing/mat_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderindexing/mat_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderindexing/mat_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderindexing/mat_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderindexing/mat_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderindexing/mat_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderindexing/tmp-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderindexing/tmp.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderindexing/uniform-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderindexing/uniform.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderindexing/varying-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderindexing/varying.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderindexing/vec2-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderindexing/vec2.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderindexing/vec3-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderindexing/vec3.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderindexing/vec4-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderindexing/vec4.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderloop_do_while-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderloop_do_while.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderloop_for-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderloop_for.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderloop_while-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderloop_while.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/add_assign-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/add_assign.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/add_const-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/add_const.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/add_dynamic-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/add_dynamic.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/add_uniform-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/add_uniform.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/determinant-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/determinant.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/div_assign-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/div_assign.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/div_const-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/div_const.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/div_dynamic-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/div_dynamic.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/div_uniform-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/div_uniform.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/inverse-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/inverse.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/matrixcompmult-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/matrixcompmult.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/mul_assign-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/mul_assign.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/mul_const_highp-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/mul_const_highp.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/mul_const_lowp-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/mul_const_lowp.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/mul_const_mediump-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/mul_const_mediump.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/mul_dynamic_highp-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/mul_dynamic_highp.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/mul_dynamic_lowp-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/mul_dynamic_lowp.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/mul_dynamic_mediump-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/mul_dynamic_mediump.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/mul_uniform_highp-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/mul_uniform_highp.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/mul_uniform_lowp-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/mul_uniform_lowp.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/mul_uniform_mediump-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/mul_uniform_mediump.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/negation-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/negation.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/outerproduct-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/outerproduct.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/post_decrement-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/post_decrement.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/post_increment-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/post_increment.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/pre_decrement-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/pre_decrement.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/pre_increment-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/pre_increment.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/sub_assign-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/sub_assign.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/sub_const-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/sub_const.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/sub_dynamic-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/sub_dynamic.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/sub_uniform-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/sub_uniform.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/transpose-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/transpose.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/unary_addition-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadermatrix/unary_addition.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/angle_and_trigonometry_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/angle_and_trigonometry_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/angle_and_trigonometry_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/angle_and_trigonometry_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/angle_and_trigonometry_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/angle_and_trigonometry_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/angle_and_trigonometry_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/angle_and_trigonometry_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_04-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_04.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_05-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_05.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_06-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_06.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_07-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_07.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_08-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_08.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_09-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_09.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_10-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_10.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_11-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_11.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_12-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_12.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_13-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_13.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_14-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_14.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_15-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/binary_operator_15.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/bool_compare-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/bool_compare.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/common_functions_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/common_functions_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/common_functions_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/common_functions_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/common_functions_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/common_functions_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/common_functions_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/common_functions_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/common_functions_04-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/common_functions_04.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/common_functions_05-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/common_functions_05.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/common_functions_06-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/common_functions_06.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/exponential-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/exponential.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/float_compare-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/float_compare.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/geometric-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/geometric.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/int_compare-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/int_compare.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/selection-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/selection.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/sequence-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/sequence.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/unary_operator_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/unary_operator_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/unary_operator_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/unary_operator_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/unary_operator_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderoperator/unary_operator_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderpackingfunction-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderpackingfunction.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderprecision_float-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderprecision_float.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderprecision_int-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderprecision_int.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderprecision_uint-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderprecision_uint.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderstatequery-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderstatequery.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderstruct-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderstruct.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderswitch-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shaderswitch.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadertexturefunction/texelfetch-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadertexturefunction/texelfetch.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadertexturefunction/texelfetchoffset-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadertexturefunction/texelfetchoffset.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadertexturefunction/texture-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadertexturefunction/texture.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadertexturefunction/texturegrad-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadertexturefunction/texturegrad.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadertexturefunction/texturegradoffset-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadertexturefunction/texturegradoffset.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadertexturefunction/texturelod-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadertexturefunction/texturelod.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadertexturefunction/texturelodoffset-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadertexturefunction/texturelodoffset.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadertexturefunction/textureoffset-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadertexturefunction/textureoffset.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadertexturefunction/textureproj-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadertexturefunction/textureproj.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadertexturefunction/textureprojgrad-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadertexturefunction/textureprojgrad.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadertexturefunction/textureprojgradoffset-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadertexturefunction/textureprojgradoffset.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadertexturefunction/textureprojlod-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadertexturefunction/textureprojlod.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadertexturefunction/textureprojlodoffset-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadertexturefunction/textureprojlodoffset.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadertexturefunction/textureprojoffset-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadertexturefunction/textureprojoffset.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadertexturefunction/texturesize-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/shadertexturefunction/texturesize.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/stringquery-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/stringquery.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/sync-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/sync.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_combinations_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_combinations_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_combinations_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_combinations_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_combinations_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_combinations_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_combinations_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_combinations_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_combinations_04-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_combinations_04.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_combinations_05-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_combinations_05.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_formats_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_formats_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_formats_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_formats_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_formats_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_formats_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_formats_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_formats_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_formats_04-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_formats_04.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_formats_05-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_formats_05.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_formats_06-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_formats_06.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_formats_07-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_formats_07.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_formats_08-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_formats_08.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_formats_09-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_formats_09.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_sizes_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_sizes_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_sizes_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_sizes_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_sizes_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_sizes_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_sizes_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_sizes_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_sizes_04-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_array_sizes_04.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_combinations_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_combinations_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_combinations_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_combinations_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_combinations_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_combinations_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_combinations_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_combinations_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_combinations_04-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_combinations_04.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_combinations_05-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_combinations_05.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_formats_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_formats_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_formats_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_formats_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_formats_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_formats_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_formats_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_formats_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_formats_04-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_formats_04.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_formats_05-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_formats_05.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_formats_06-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_formats_06.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_formats_07-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_formats_07.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_formats_08-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_formats_08.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_formats_09-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_formats_09.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_sizes_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_sizes_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_sizes_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_sizes_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_sizes_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_sizes_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_sizes_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_sizes_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_sizes_04-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_sizes_04.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_sizes_05-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/2d_sizes_05.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_04-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_04.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_05-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_05.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_06-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_06.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_07-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_07.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_08-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_08.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_09-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_09.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_10-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_10.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_11-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_11.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_12-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_12.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_13-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_13.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_14-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_14.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_15-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_15.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_16-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_16.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_17-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_17.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_18-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_18.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_19-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_19.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_20-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_20.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_21-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_21.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_22-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_22.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_23-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_23.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_24-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_24.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_25-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_25.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_26-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_26.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_27-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_27.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_28-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_28.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_29-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_29.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_30-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_30.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_31-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_31.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_32-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_32.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_33-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_33.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_34-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_34.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_35-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_combinations_35.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_formats_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_formats_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_formats_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_formats_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_formats_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_formats_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_formats_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_formats_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_formats_04-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_formats_04.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_formats_05-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_formats_05.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_formats_06-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_formats_06.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_formats_07-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_formats_07.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_formats_08-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_formats_08.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_formats_09-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_formats_09.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_sizes_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_sizes_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_sizes_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_sizes_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_sizes_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_sizes_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_sizes_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_sizes_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_sizes_04-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/3d_sizes_04.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_combinations_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_combinations_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_combinations_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_combinations_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_combinations_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_combinations_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_combinations_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_combinations_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_combinations_04-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_combinations_04.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_combinations_05-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_combinations_05.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_formats_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_formats_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_formats_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_formats_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_formats_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_formats_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_formats_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_formats_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_formats_04-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_formats_04.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_formats_05-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_formats_05.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_formats_06-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_formats_06.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_formats_07-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_formats_07.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_formats_08-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_formats_08.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_formats_09-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_formats_09.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_no_edges_visible-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_no_edges_visible.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_sizes_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_sizes_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_sizes_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_sizes_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_sizes_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_sizes_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_sizes_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_sizes_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_sizes_04-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturefiltering/cube_sizes_04.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/compressed_2d-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/compressed_2d.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/compressed_cube-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/compressed_cube.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_array_npot_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_array_npot_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_array_npot_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_array_npot_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_array_npot_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_array_npot_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_array_npot_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_array_npot_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_array_pot_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_array_pot_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_array_pot_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_array_pot_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_array_pot_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_array_pot_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_array_pot_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_array_pot_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_npot_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_npot_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_npot_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_npot_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_npot_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_npot_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_npot_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_npot_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_pot_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_pot_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_pot_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_pot_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_pot_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_pot_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_pot_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_2d_pot_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_3d_npot_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_3d_npot_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_3d_npot_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_3d_npot_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_3d_npot_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_3d_npot_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_3d_npot_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_3d_npot_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_3d_pot_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_3d_pot_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_3d_pot_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_3d_pot_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_3d_pot_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_3d_pot_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_3d_pot_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_3d_pot_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_cube_npot_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_cube_npot_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_cube_npot_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_cube_npot_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_cube_npot_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_cube_npot_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_cube_npot_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_cube_npot_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_cube_pot_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_cube_pot_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_cube_pot_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_cube_pot_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_cube_pot_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_cube_pot_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_cube_pot_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_color_cube_pot_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_depth_stencil-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/sized_depth_stencil.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/unsized_2d-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/unsized_2d.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/unsized_2d_array-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/unsized_2d_array.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/unsized_3d-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureformat/unsized_3d.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_always-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_always.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_greater-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_greater.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_greater_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_greater_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_less-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_less.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_less_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_less_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_linear_always-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_linear_always.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_linear_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_linear_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_linear_greater-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_linear_greater.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_linear_greater_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_linear_greater_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_linear_less-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_linear_less.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_linear_less_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_linear_less_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_linear_never-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_linear_never.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_linear_not_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_linear_not_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_nearest_always-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_nearest_always.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_nearest_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_nearest_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_nearest_greater-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_nearest_greater.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_nearest_greater_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_nearest_greater_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_nearest_less-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_nearest_less.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_nearest_less_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_nearest_less_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_nearest_never-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_nearest_never.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_nearest_not_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_mipmap_nearest_not_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_never-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_never.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_not_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_linear_not_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_always-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_always.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_greater-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_greater.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_greater_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_greater_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_less-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_less.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_less_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_less_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_linear_always-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_linear_always.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_linear_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_linear_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_linear_greater-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_linear_greater.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_linear_greater_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_linear_greater_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_linear_less-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_linear_less.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_linear_less_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_linear_less_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_linear_never-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_linear_never.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_linear_not_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_linear_not_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_nearest_always-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_nearest_always.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_nearest_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_nearest_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_nearest_greater-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_nearest_greater.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_nearest_greater_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_nearest_greater_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_nearest_less-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_nearest_less.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_nearest_less_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_nearest_less_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_nearest_never-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_nearest_never.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_nearest_not_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_mipmap_nearest_not_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_never-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_never.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_not_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_array_nearest_not_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_always-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_always.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_greater-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_greater.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_greater_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_greater_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_less-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_less.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_less_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_less_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_linear_always-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_linear_always.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_linear_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_linear_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_linear_greater-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_linear_greater.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_linear_greater_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_linear_greater_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_linear_less-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_linear_less.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_linear_less_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_linear_less_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_linear_never-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_linear_never.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_linear_not_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_linear_not_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_nearest_always-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_nearest_always.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_nearest_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_nearest_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_nearest_greater-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_nearest_greater.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_nearest_greater_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_nearest_greater_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_nearest_less-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_nearest_less.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_nearest_less_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_nearest_less_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_nearest_never-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_nearest_never.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_nearest_not_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_mipmap_nearest_not_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_never-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_never.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_not_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_linear_not_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_always-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_always.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_greater-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_greater.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_greater_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_greater_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_less-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_less.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_less_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_less_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_linear_always-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_linear_always.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_linear_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_linear_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_linear_greater-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_linear_greater.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_linear_greater_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_linear_greater_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_linear_less-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_linear_less.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_linear_less_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_linear_less_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_linear_never-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_linear_never.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_linear_not_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_linear_not_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_nearest_always-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_nearest_always.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_nearest_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_nearest_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_nearest_greater-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_nearest_greater.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_nearest_greater_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_nearest_greater_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_nearest_less-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_nearest_less.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_nearest_less_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_nearest_less_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_nearest_never-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_nearest_never.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_nearest_not_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_mipmap_nearest_not_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_never-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_never.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_not_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/2d_nearest_not_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_always-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_always.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_greater-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_greater.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_greater_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_greater_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_less-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_less.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_less_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_less_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_linear_always-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_linear_always.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_linear_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_linear_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_linear_greater-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_linear_greater.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_linear_greater_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_linear_greater_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_linear_less-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_linear_less.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_linear_less_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_linear_less_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_linear_never-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_linear_never.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_linear_not_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_linear_not_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_nearest_always-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_nearest_always.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_nearest_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_nearest_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_nearest_greater-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_nearest_greater.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_nearest_greater_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_nearest_greater_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_nearest_less-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_nearest_less.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_nearest_less_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_nearest_less_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_nearest_never-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_nearest_never.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_nearest_not_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_mipmap_nearest_not_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_never-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_never.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_not_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_linear_not_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_always-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_always.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_greater-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_greater.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_greater_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_greater_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_less-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_less.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_less_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_less_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_linear_always-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_linear_always.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_linear_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_linear_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_linear_greater-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_linear_greater.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_linear_greater_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_linear_greater_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_linear_less-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_linear_less.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_linear_less_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_linear_less_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_linear_never-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_linear_never.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_linear_not_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_linear_not_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_nearest_always-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_nearest_always.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_nearest_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_nearest_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_nearest_greater-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_nearest_greater.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_nearest_greater_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_nearest_greater_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_nearest_less-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_nearest_less.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_nearest_less_or_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_nearest_less_or_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_nearest_never-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_nearest_never.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_nearest_not_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_mipmap_nearest_not_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_never-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_never.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_not_equal-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/textureshadow/cube_nearest_not_equal.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_copyteximage2d-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_copyteximage2d.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_copytexsubimage2d-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_copytexsubimage2d.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_teximage2d_2d_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_teximage2d_2d_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_teximage2d_2d_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_teximage2d_2d_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_teximage2d_cube_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_teximage2d_cube_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_teximage2d_cube_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_teximage2d_cube_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_teximage2d_cube_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_teximage2d_cube_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_teximage2d_cube_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_teximage2d_cube_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_teximage2d_cube_04-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_teximage2d_cube_04.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_teximage3d_2d_array_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_teximage3d_2d_array_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_teximage3d_2d_array_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_teximage3d_2d_array_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_teximage3d_2d_array_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_teximage3d_2d_array_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_teximage3d_3d_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_teximage3d_3d_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_teximage3d_3d_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_teximage3d_3d_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_teximage3d_3d_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_teximage3d_3d_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_teximage3d_3d_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_teximage3d_3d_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_teximage3d_3d_04-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_teximage3d_3d_04.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_texsubimage2d_2d_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_texsubimage2d_2d_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_texsubimage2d_2d_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_texsubimage2d_2d_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_texsubimage2d_2d_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_texsubimage2d_2d_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_texsubimage2d_cube_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_texsubimage2d_cube_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_texsubimage2d_cube_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_texsubimage2d_cube_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_texsubimage2d_cube_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_texsubimage2d_cube_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_texsubimage2d_cube_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_texsubimage2d_cube_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_texsubimage2d_cube_04-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_texsubimage2d_cube_04.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_texsubimage3d_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_texsubimage3d_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_texsubimage3d_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_texsubimage3d_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_texsubimage3d_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_texsubimage3d_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_texsubimage3d_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_texsubimage3d_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_texsubimage3d_04-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/basic_texsubimage3d_04.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/random_teximage2d_2d-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/random_teximage2d_2d.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/random_teximage2d_cube-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/random_teximage2d_cube.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage2d_align-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage2d_align.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage2d_depth-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage2d_depth.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage2d_depth_pbo-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage2d_depth_pbo.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage2d_pbo_2d_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage2d_pbo_2d_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage2d_pbo_2d_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage2d_pbo_2d_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage2d_pbo_cube_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage2d_pbo_cube_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage2d_pbo_cube_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage2d_pbo_cube_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage2d_pbo_cube_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage2d_pbo_cube_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage2d_pbo_cube_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage2d_pbo_cube_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage2d_pbo_cube_04-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage2d_pbo_cube_04.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage2d_pbo_params-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage2d_pbo_params.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage2d_unpack_params-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage2d_unpack_params.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage3d_depth-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage3d_depth.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage3d_depth_pbo-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage3d_depth_pbo.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage3d_pbo_2d_array_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage3d_pbo_2d_array_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage3d_pbo_2d_array_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage3d_pbo_2d_array_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage3d_pbo_3d_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage3d_pbo_3d_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage3d_pbo_3d_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage3d_pbo_3d_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage3d_pbo_params-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage3d_pbo_params.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage3d_unpack_params-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/teximage3d_unpack_params.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage2d_format_2d_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage2d_format_2d_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage2d_format_2d_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage2d_format_2d_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage2d_format_2d_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage2d_format_2d_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage2d_format_cube_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage2d_format_cube_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage2d_format_cube_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage2d_format_cube_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage2d_format_cube_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage2d_format_cube_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage2d_format_cube_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage2d_format_cube_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage2d_format_cube_04-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage2d_format_cube_04.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage2d_format_depth_stencil-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage2d_format_depth_stencil.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage2d_format_size-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage2d_format_size.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage3d_format_2d_array_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage3d_format_2d_array_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage3d_format_2d_array_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage3d_format_2d_array_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage3d_format_2d_array_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage3d_format_2d_array_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage3d_format_3d_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage3d_format_3d_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage3d_format_3d_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage3d_format_3d_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage3d_format_3d_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage3d_format_3d_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage3d_format_3d_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage3d_format_3d_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage3d_format_depth_stencil-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage3d_format_depth_stencil.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage3d_format_size-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texstorage3d_format_size.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage2d_align-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage2d_align.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage2d_depth-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage2d_depth.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage2d_empty_tex-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage2d_empty_tex.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage2d_pbo_2d_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage2d_pbo_2d_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage2d_pbo_2d_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage2d_pbo_2d_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage2d_pbo_cube_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage2d_pbo_cube_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage2d_pbo_cube_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage2d_pbo_cube_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage2d_pbo_cube_02-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage2d_pbo_cube_02.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage2d_pbo_cube_03-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage2d_pbo_cube_03.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage2d_pbo_cube_04-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage2d_pbo_cube_04.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage2d_pbo_params-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage2d_pbo_params.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage2d_unpack_params-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage2d_unpack_params.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage3d_depth-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage3d_depth.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage3d_pbo_2d_array_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage3d_pbo_2d_array_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage3d_pbo_2d_array_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage3d_pbo_2d_array_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage3d_pbo_3d_00-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage3d_pbo_3d_00.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage3d_pbo_3d_01-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage3d_pbo_3d_01.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage3d_pbo_params-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage3d_pbo_params.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage3d_unpack_params-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturespecification/texsubimage3d_unpack_params.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturestatequery-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturestatequery.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/eac_r11_npot-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/eac_r11_npot.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/eac_r11_pot-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/eac_r11_pot.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/eac_rg11_npot-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/eac_rg11_npot.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/eac_rg11_pot-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/eac_rg11_pot.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/eac_signed_r11_npot-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/eac_signed_r11_npot.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/eac_signed_r11_pot-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/eac_signed_r11_pot.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/eac_signed_rg11_npot-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/eac_signed_rg11_npot.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/eac_signed_rg11_pot-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/eac_signed_rg11_pot.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/etc2_eac_rgba8_npot-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/etc2_eac_rgba8_npot.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/etc2_eac_rgba8_pot-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/etc2_eac_rgba8_pot.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/etc2_eac_srgb8_alpha8_npot-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/etc2_eac_srgb8_alpha8_npot.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/etc2_eac_srgb8_alpha8_pot-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/etc2_eac_srgb8_alpha8_pot.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/etc2_rgb8_npot-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/etc2_rgb8_npot.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/etc2_rgb8_pot-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/etc2_rgb8_pot.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/etc2_rgb8_punchthrough_alpha1_npot-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/etc2_rgb8_punchthrough_alpha1_npot.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/etc2_rgb8_punchthrough_alpha1_pot-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/etc2_rgb8_punchthrough_alpha1_pot.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/etc2_srgb8_npot-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/etc2_srgb8_npot.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/etc2_srgb8_pot-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/etc2_srgb8_pot.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/etc2_srgb8_punchthrough_alpha1_npot-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/etc2_srgb8_punchthrough_alpha1_npot.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/etc2_srgb8_punchthrough_alpha1_pot-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/etc2_srgb8_punchthrough_alpha1_pot.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/rgba8_npot-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/rgba8_npot.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/rgba8_pot-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/texturewrap/rgba8_pot.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/array_element_interleaved_lines-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/array_element_interleaved_lines.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/array_element_interleaved_points-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/array_element_interleaved_points.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/array_element_interleaved_triangles-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/array_element_interleaved_triangles.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/array_element_separate_lines-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/array_element_separate_lines.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/array_element_separate_points-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/array_element_separate_points.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/array_element_separate_triangles-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/array_element_separate_triangles.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/array_interleaved_lines-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/array_interleaved_lines.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/array_interleaved_points-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/array_interleaved_points.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/array_interleaved_triangles-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/array_interleaved_triangles.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/array_separate_lines-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/array_separate_lines.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/array_separate_points-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/array_separate_points.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/array_separate_triangles-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/array_separate_triangles.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/basic_types_interleaved_lines-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/basic_types_interleaved_lines.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/basic_types_interleaved_points-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/basic_types_interleaved_points.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/basic_types_interleaved_triangles-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/basic_types_interleaved_triangles.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/basic_types_separate_lines-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/basic_types_separate_lines.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/basic_types_separate_points-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/basic_types_separate_points.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/basic_types_separate_triangles-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/basic_types_separate_triangles.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/interpolation_centroid-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/interpolation_centroid.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/interpolation_flat-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/interpolation_flat.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/interpolation_smooth-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/interpolation_smooth.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/point_size-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/point_size.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/position-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/position.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/random_interleaved_lines-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/random_interleaved_lines.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/random_interleaved_points-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/random_interleaved_points.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/random_interleaved_triangles-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/random_interleaved_triangles.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/random_separate_lines-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/random_separate_lines.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/random_separate_points-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/random_separate_points.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/random_separate_triangles-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/transformfeedback/random_separate_triangles.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/uniformapi/info_query-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/uniformapi/info_query.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/uniformapi/random-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/uniformapi/random.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/uniformapi/value_assigned-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/uniformapi/value_assigned.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/uniformapi/value_initial-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/uniformapi/value_initial.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/uniformbuffers/instance_array_basic_type-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/uniformbuffers/instance_array_basic_type.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/uniformbuffers/multi_basic_types-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/uniformbuffers/multi_basic_types.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/uniformbuffers/multi_nested_struct-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/uniformbuffers/multi_nested_struct.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/uniformbuffers/random-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/uniformbuffers/random.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/uniformbuffers/single_basic_array-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/uniformbuffers/single_basic_array.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/uniformbuffers/single_basic_type-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/uniformbuffers/single_basic_type.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/uniformbuffers/single_nested_struct-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/uniformbuffers/single_nested_struct.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/uniformbuffers/single_nested_struct_array-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/uniformbuffers/single_nested_struct_array.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/uniformbuffers/single_struct-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/uniformbuffers/single_struct.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/uniformbuffers/single_struct_array-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/uniformbuffers/single_struct_array.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrayobject-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrayobject.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/multiple_attributes.count-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/multiple_attributes.count.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/multiple_attributes.output-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/multiple_attributes.output.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/multiple_attributes.storage-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/multiple_attributes.storage.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/multiple_attributes.stride-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/multiple_attributes.stride.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.first-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.first.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.normalize-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.normalize.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.offset-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.offset.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.output_type.byte-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.output_type.byte.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.output_type.float-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.output_type.float.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.output_type.half-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.output_type.half.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.output_type.int-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.output_type.int.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.output_type.int_2_10_10_10-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.output_type.int_2_10_10_10.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.output_type.short-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.output_type.short.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.output_type.unsigned_byte-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.output_type.unsigned_byte.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.output_type.unsigned_int-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.output_type.unsigned_int.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.output_type.unsigned_int_2_10_10_10-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.output_type.unsigned_int_2_10_10_10.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.output_type.unsigned_short-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.output_type.unsigned_short.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.stride-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.stride.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.usage.dynamic_copy-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.usage.dynamic_copy.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.usage.dynamic_draw-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.usage.dynamic_draw.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.usage.dynamic_read-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.usage.dynamic_read.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.usage.static_copy-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.usage.static_copy.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.usage.static_draw-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.usage.static_draw.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.usage.static_read-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.usage.static_read.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.usage.stream_copy-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.usage.stream_copy.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.usage.stream_draw-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.usage.stream_draw.html: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.usage.stream_read-expected.txt: Added.
        * webgl/2.0.y/deqp/functional/gles3/vertexarrays/single_attribute.usage.stream_read.html: Added.

2021-03-19  Per Arne  <pvollan@apple.com>

        [Win] Update test expectations
        https://bugs.webkit.org/show_bug.cgi?id=223456

        Unreviewed test gardening.

        * platform/win/TestExpectations:

2021-03-19  Kimmo Kinnunen  <kkinnunen@apple.com>

        Add WebGL 1.0.4 test drivers and test expectations to the repository
        https://bugs.webkit.org/show_bug.cgi?id=223426

        Reviewed by Kenneth Russell.

        Add test driver .html files and expecations for WebGL 1.0.4 conformance
        test suite. The actual tests were committed before.
        Add the tests as Skip until we can swap 1.0.3 with 1.0.4.
        The files are added in separate commits as the tooling fails with too big patches.
        The directory is called 1.0.x to reflect that it is imported always from the
        ongoing, most tip-of-the-tree test suite (WebGL/sdk/tests).

        * TestExpectations:
        * webgl/1.0.x/conformance/attribs/gl-bindAttribLocation-aliasing-expected.txt: Added.
        * webgl/1.0.x/conformance/attribs/gl-bindAttribLocation-aliasing.html: Added.
        * webgl/1.0.x/conformance/attribs/gl-bindAttribLocation-matrix-expected.txt: Added.
        * webgl/1.0.x/conformance/attribs/gl-bindAttribLocation-matrix.html: Added.
        * webgl/1.0.x/conformance/attribs/gl-bindAttribLocation-nonexistent-attribute-expected.txt: Added.
        * webgl/1.0.x/conformance/attribs/gl-bindAttribLocation-nonexistent-attribute.html: Added.
        * webgl/1.0.x/conformance/attribs/gl-bindAttribLocation-repeated-expected.txt: Added.
        * webgl/1.0.x/conformance/attribs/gl-bindAttribLocation-repeated.html: Added.
        * webgl/1.0.x/conformance/attribs/gl-disabled-vertex-attrib-expected.txt: Added.
        * webgl/1.0.x/conformance/attribs/gl-disabled-vertex-attrib-update-expected.txt: Added.
        * webgl/1.0.x/conformance/attribs/gl-disabled-vertex-attrib-update.html: Added.
        * webgl/1.0.x/conformance/attribs/gl-disabled-vertex-attrib.html: Added.
        * webgl/1.0.x/conformance/attribs/gl-enable-vertex-attrib-expected.txt: Added.
        * webgl/1.0.x/conformance/attribs/gl-enable-vertex-attrib.html: Added.
        * webgl/1.0.x/conformance/attribs/gl-matrix-attributes-expected.txt: Added.
        * webgl/1.0.x/conformance/attribs/gl-matrix-attributes.html: Added.
        * webgl/1.0.x/conformance/attribs/gl-vertex-attrib-context-switch-expected.txt: Added.
        * webgl/1.0.x/conformance/attribs/gl-vertex-attrib-context-switch.html: Added.
        * webgl/1.0.x/conformance/attribs/gl-vertex-attrib-expected.txt: Added.
        * webgl/1.0.x/conformance/attribs/gl-vertex-attrib-render-expected.txt: Added.
        * webgl/1.0.x/conformance/attribs/gl-vertex-attrib-render.html: Added.
        * webgl/1.0.x/conformance/attribs/gl-vertex-attrib-unconsumed-out-of-bounds-expected.txt: Added.
        * webgl/1.0.x/conformance/attribs/gl-vertex-attrib-unconsumed-out-of-bounds.html: Added.
        * webgl/1.0.x/conformance/attribs/gl-vertex-attrib-zero-issues-expected.txt: Added.
        * webgl/1.0.x/conformance/attribs/gl-vertex-attrib-zero-issues.html: Added.
        * webgl/1.0.x/conformance/attribs/gl-vertex-attrib.html: Added.
        * webgl/1.0.x/conformance/attribs/gl-vertexattribpointer-expected.txt: Added.
        * webgl/1.0.x/conformance/attribs/gl-vertexattribpointer-offsets-expected.txt: Added.
        * webgl/1.0.x/conformance/attribs/gl-vertexattribpointer-offsets.html: Added.
        * webgl/1.0.x/conformance/attribs/gl-vertexattribpointer.html: Added.
        * webgl/1.0.x/conformance/buffers/buffer-bind-test-expected.txt: Added.
        * webgl/1.0.x/conformance/buffers/buffer-bind-test.html: Added.
        * webgl/1.0.x/conformance/buffers/buffer-data-and-buffer-sub-data-expected.txt: Added.
        * webgl/1.0.x/conformance/buffers/buffer-data-and-buffer-sub-data.html: Added.
        * webgl/1.0.x/conformance/buffers/buffer-data-array-buffer-delete-expected.txt: Added.
        * webgl/1.0.x/conformance/buffers/buffer-data-array-buffer-delete.html: Added.
        * webgl/1.0.x/conformance/buffers/buffer-data-dynamic-delay-expected.txt: Added.
        * webgl/1.0.x/conformance/buffers/buffer-data-dynamic-delay.html: Added.
        * webgl/1.0.x/conformance/buffers/buffer-uninitialized-expected.txt: Added.
        * webgl/1.0.x/conformance/buffers/buffer-uninitialized.html: Added.
        * webgl/1.0.x/conformance/buffers/element-array-buffer-delete-recreate-expected.txt: Added.
        * webgl/1.0.x/conformance/buffers/element-array-buffer-delete-recreate.html: Added.
        * webgl/1.0.x/conformance/buffers/index-validation-copies-indices-expected.txt: Added.
        * webgl/1.0.x/conformance/buffers/index-validation-copies-indices.html: Added.
        * webgl/1.0.x/conformance/buffers/index-validation-crash-with-buffer-sub-data-expected.txt: Added.
        * webgl/1.0.x/conformance/buffers/index-validation-crash-with-buffer-sub-data.html: Added.
        * webgl/1.0.x/conformance/buffers/index-validation-expected.txt: Added.
        * webgl/1.0.x/conformance/buffers/index-validation-large-buffer-expected.txt: Added.
        * webgl/1.0.x/conformance/buffers/index-validation-large-buffer.html: Added.
        * webgl/1.0.x/conformance/buffers/index-validation-verifies-too-many-indices-expected.txt: Added.
        * webgl/1.0.x/conformance/buffers/index-validation-verifies-too-many-indices.html: Added.
        * webgl/1.0.x/conformance/buffers/index-validation-with-resized-buffer-expected.txt: Added.
        * webgl/1.0.x/conformance/buffers/index-validation-with-resized-buffer.html: Added.
        * webgl/1.0.x/conformance/buffers/index-validation.html: Added.
        * webgl/1.0.x/conformance/buffers/vertex-buffer-updated-after-draw-expected.txt: Added.
        * webgl/1.0.x/conformance/buffers/vertex-buffer-updated-after-draw.html: Added.
        * webgl/1.0.x/conformance/canvas/buffer-offscreen-test-expected.txt: Added.
        * webgl/1.0.x/conformance/canvas/buffer-offscreen-test.html: Added.
        * webgl/1.0.x/conformance/canvas/buffer-preserve-test-expected.txt: Added.
        * webgl/1.0.x/conformance/canvas/buffer-preserve-test.html: Added.
        * webgl/1.0.x/conformance/canvas/canvas-test-expected.txt: Added.
        * webgl/1.0.x/conformance/canvas/canvas-test.html: Added.
        * webgl/1.0.x/conformance/canvas/canvas-zero-size-expected.txt: Added.
        * webgl/1.0.x/conformance/canvas/canvas-zero-size.html: Added.
        * webgl/1.0.x/conformance/canvas/draw-static-webgl-to-multiple-canvas-test-expected.txt: Added.
        * webgl/1.0.x/conformance/canvas/draw-static-webgl-to-multiple-canvas-test.html: Added.
        * webgl/1.0.x/conformance/canvas/draw-webgl-to-canvas-test-expected.txt: Added.
        * webgl/1.0.x/conformance/canvas/draw-webgl-to-canvas-test.html: Added.
        * webgl/1.0.x/conformance/canvas/drawingbuffer-hd-dpi-test-expected.txt: Added.
        * webgl/1.0.x/conformance/canvas/drawingbuffer-hd-dpi-test.html: Added.
        * webgl/1.0.x/conformance/canvas/drawingbuffer-static-canvas-test-expected.txt: Added.
        * webgl/1.0.x/conformance/canvas/drawingbuffer-static-canvas-test.html: Added.
        * webgl/1.0.x/conformance/canvas/drawingbuffer-test-expected.txt: Added.
        * webgl/1.0.x/conformance/canvas/drawingbuffer-test.html: Added.
        * webgl/1.0.x/conformance/canvas/framebuffer-bindings-affected-by-to-data-url-expected.txt: Added.
        * webgl/1.0.x/conformance/canvas/framebuffer-bindings-affected-by-to-data-url.html: Added.
        * webgl/1.0.x/conformance/canvas/framebuffer-bindings-unaffected-on-resize-expected.txt: Added.
        * webgl/1.0.x/conformance/canvas/framebuffer-bindings-unaffected-on-resize.html: Added.
        * webgl/1.0.x/conformance/canvas/rapid-resizing-expected.txt: Added.
        * webgl/1.0.x/conformance/canvas/rapid-resizing.html: Added.
        * webgl/1.0.x/conformance/canvas/render-after-resize-test-expected.txt: Added.
        * webgl/1.0.x/conformance/canvas/render-after-resize-test.html: Added.
        * webgl/1.0.x/conformance/canvas/texture-bindings-unaffected-on-resize-expected.txt: Added.
        * webgl/1.0.x/conformance/canvas/texture-bindings-unaffected-on-resize.html: Added.
        * webgl/1.0.x/conformance/canvas/to-data-url-test-expected.txt: Added.
        * webgl/1.0.x/conformance/canvas/to-data-url-test.html: Added.
        * webgl/1.0.x/conformance/canvas/viewport-unchanged-upon-resize-expected.txt: Added.
        * webgl/1.0.x/conformance/canvas/viewport-unchanged-upon-resize.html: Added.
        * webgl/1.0.x/conformance/canvas/webgl-to-2d-canvas-expected.txt: Added.
        * webgl/1.0.x/conformance/canvas/webgl-to-2d-canvas.html: Added.
        * webgl/1.0.x/conformance/context/constants-and-properties-expected.txt: Added.
        * webgl/1.0.x/conformance/context/constants-and-properties.html: Added.
        * webgl/1.0.x/conformance/context/context-attribute-preserve-drawing-buffer-expected.txt: Added.
        * webgl/1.0.x/conformance/context/context-attribute-preserve-drawing-buffer.html: Added.
        * webgl/1.0.x/conformance/context/context-attributes-alpha-depth-stencil-antialias-expected.txt: Added.
        * webgl/1.0.x/conformance/context/context-attributes-alpha-depth-stencil-antialias.html: Added.
        * webgl/1.0.x/conformance/context/context-creation-and-destruction-expected.txt: Added.
        * webgl/1.0.x/conformance/context/context-creation-and-destruction.html: Added.
        * webgl/1.0.x/conformance/context/context-creation-expected.txt: Added.
        * webgl/1.0.x/conformance/context/context-creation.html: Added.
        * webgl/1.0.x/conformance/context/context-eviction-with-garbage-collection-expected.txt: Added.
        * webgl/1.0.x/conformance/context/context-eviction-with-garbage-collection.html: Added.
        * webgl/1.0.x/conformance/context/context-hidden-alpha-expected.txt: Added.
        * webgl/1.0.x/conformance/context/context-hidden-alpha.html: Added.
        * webgl/1.0.x/conformance/context/context-lost-expected.txt: Added.
        * webgl/1.0.x/conformance/context/context-lost-restored-expected.txt: Added.
        * webgl/1.0.x/conformance/context/context-lost-restored.html: Added.
        * webgl/1.0.x/conformance/context/context-lost.html: Added.
        * webgl/1.0.x/conformance/context/context-no-alpha-fbo-with-alpha-expected.txt: Added.
        * webgl/1.0.x/conformance/context/context-no-alpha-fbo-with-alpha.html: Added.
        * webgl/1.0.x/conformance/context/context-release-upon-reload-expected.txt: Added.
        * webgl/1.0.x/conformance/context/context-release-upon-reload.html: Added.
        * webgl/1.0.x/conformance/context/context-release-with-workers-expected.txt: Added.
        * webgl/1.0.x/conformance/context/context-release-with-workers.html: Added.
        * webgl/1.0.x/conformance/context/context-size-change-expected.txt: Added.
        * webgl/1.0.x/conformance/context/context-size-change.html: Added.
        * webgl/1.0.x/conformance/context/context-type-test-expected.txt: Added.
        * webgl/1.0.x/conformance/context/context-type-test.html: Added.
        * webgl/1.0.x/conformance/context/deleted-object-behavior-expected.txt: Added.
        * webgl/1.0.x/conformance/context/deleted-object-behavior.html: Added.
        * webgl/1.0.x/conformance/context/incorrect-context-object-behaviour-expected.txt: Added.
        * webgl/1.0.x/conformance/context/incorrect-context-object-behaviour.html: Added.
        * webgl/1.0.x/conformance/context/methods-expected.txt: Added.
        * webgl/1.0.x/conformance/context/methods.html: Added.
        * webgl/1.0.x/conformance/context/premultiplyalpha-test-expected.txt: Added.
        * webgl/1.0.x/conformance/context/premultiplyalpha-test.html: Added.
        * webgl/1.0.x/conformance/context/user-defined-properties-on-context-expected.txt: Added.
        * webgl/1.0.x/conformance/context/user-defined-properties-on-context.html: Added.
        * webgl/1.0.x/conformance/context/zero-sized-canvas-expected.txt: Added.
        * webgl/1.0.x/conformance/context/zero-sized-canvas.html: Added.
        * webgl/1.0.x/conformance/extensions/angle-instanced-arrays-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/angle-instanced-arrays-out-of-bounds-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/angle-instanced-arrays-out-of-bounds.html: Added.
        * webgl/1.0.x/conformance/extensions/angle-instanced-arrays.html: Added.
        * webgl/1.0.x/conformance/extensions/ext-blend-minmax-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/ext-blend-minmax.html: Added.
        * webgl/1.0.x/conformance/extensions/ext-color-buffer-half-float-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/ext-color-buffer-half-float.html: Added.
        * webgl/1.0.x/conformance/extensions/ext-disjoint-timer-query-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/ext-disjoint-timer-query.html: Added.
        * webgl/1.0.x/conformance/extensions/ext-float-blend-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/ext-float-blend.html: Added.
        * webgl/1.0.x/conformance/extensions/ext-frag-depth-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/ext-frag-depth.html: Added.
        * webgl/1.0.x/conformance/extensions/ext-sRGB-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/ext-sRGB.html: Added.
        * webgl/1.0.x/conformance/extensions/ext-shader-texture-lod-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/ext-shader-texture-lod.html: Added.
        * webgl/1.0.x/conformance/extensions/ext-texture-compression-bptc-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/ext-texture-compression-bptc.html: Added.
        * webgl/1.0.x/conformance/extensions/ext-texture-compression-rgtc-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/ext-texture-compression-rgtc.html: Added.
        * webgl/1.0.x/conformance/extensions/ext-texture-filter-anisotropic-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/ext-texture-filter-anisotropic.html: Added.
        * webgl/1.0.x/conformance/extensions/get-extension-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/get-extension.html: Added.
        * webgl/1.0.x/conformance/extensions/khr-parallel-shader-compile-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/khr-parallel-shader-compile.html: Added.
        * webgl/1.0.x/conformance/extensions/oes-element-index-uint-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/oes-element-index-uint.html: Added.
        * webgl/1.0.x/conformance/extensions/oes-fbo-render-mipmap-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/oes-fbo-render-mipmap.html: Added.
        * webgl/1.0.x/conformance/extensions/oes-standard-derivatives-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/oes-standard-derivatives.html: Added.
        * webgl/1.0.x/conformance/extensions/oes-texture-float-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/oes-texture-float-linear-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/oes-texture-float-linear.html: Added.
        * webgl/1.0.x/conformance/extensions/oes-texture-float-with-canvas-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/oes-texture-float-with-canvas.html: Added.
        * webgl/1.0.x/conformance/extensions/oes-texture-float-with-image-data-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/oes-texture-float-with-image-data.html: Added.
        * webgl/1.0.x/conformance/extensions/oes-texture-float-with-image-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/oes-texture-float-with-image.html: Added.
        * webgl/1.0.x/conformance/extensions/oes-texture-float-with-video-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/oes-texture-float-with-video.html: Added.
        * webgl/1.0.x/conformance/extensions/oes-texture-float.html: Added.
        * webgl/1.0.x/conformance/extensions/oes-texture-half-float-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/oes-texture-half-float-linear-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/oes-texture-half-float-linear.html: Added.
        * webgl/1.0.x/conformance/extensions/oes-texture-half-float-with-canvas-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/oes-texture-half-float-with-canvas.html: Added.
        * webgl/1.0.x/conformance/extensions/oes-texture-half-float-with-image-data-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/oes-texture-half-float-with-image-data.html: Added.
        * webgl/1.0.x/conformance/extensions/oes-texture-half-float-with-image-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/oes-texture-half-float-with-image.html: Added.
        * webgl/1.0.x/conformance/extensions/oes-texture-half-float-with-video-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/oes-texture-half-float-with-video.html: Added.
        * webgl/1.0.x/conformance/extensions/oes-texture-half-float.html: Added.
        * webgl/1.0.x/conformance/extensions/oes-vertex-array-object-bufferData-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/oes-vertex-array-object-bufferData.html: Added.
        * webgl/1.0.x/conformance/extensions/oes-vertex-array-object-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/oes-vertex-array-object.html: Added.
        * webgl/1.0.x/conformance/extensions/s3tc-and-rgtc-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/s3tc-and-rgtc.html: Added.
        * webgl/1.0.x/conformance/extensions/webgl-compressed-texture-astc-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/webgl-compressed-texture-astc.html: Added.
        * webgl/1.0.x/conformance/extensions/webgl-compressed-texture-etc-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/webgl-compressed-texture-etc.html: Added.
        * webgl/1.0.x/conformance/extensions/webgl-compressed-texture-etc1-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/webgl-compressed-texture-etc1.html: Added.
        * webgl/1.0.x/conformance/extensions/webgl-compressed-texture-pvrtc-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/webgl-compressed-texture-pvrtc.html: Added.
        * webgl/1.0.x/conformance/extensions/webgl-compressed-texture-s3tc-srgb-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/webgl-compressed-texture-s3tc-srgb.html: Added.
        * webgl/1.0.x/conformance/extensions/webgl-compressed-texture-size-limit-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/webgl-compressed-texture-size-limit.html: Added.
        * webgl/1.0.x/conformance/extensions/webgl-debug-renderer-info-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/webgl-debug-renderer-info.html: Added.
        * webgl/1.0.x/conformance/extensions/webgl-debug-shaders-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/webgl-debug-shaders.html: Added.
        * webgl/1.0.x/conformance/extensions/webgl-depth-texture-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/webgl-depth-texture.html: Added.
        * webgl/1.0.x/conformance/extensions/webgl-draw-buffers-broadcast-return-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/webgl-draw-buffers-broadcast-return.html: Added.
        * webgl/1.0.x/conformance/extensions/webgl-draw-buffers-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/webgl-draw-buffers-framebuffer-unsupported-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/webgl-draw-buffers-framebuffer-unsupported.html: Added.
        * webgl/1.0.x/conformance/extensions/webgl-draw-buffers-max-draw-buffers-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/webgl-draw-buffers-max-draw-buffers.html: Added.
        * webgl/1.0.x/conformance/extensions/webgl-draw-buffers.html: Added.
        * webgl/1.0.x/conformance/extensions/webgl-multi-draw-expected.txt: Added.
        * webgl/1.0.x/conformance/extensions/webgl-multi-draw.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/angle-ambiguous-function-call-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/angle-ambiguous-function-call.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/angle-constructor-invalid-parameters-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/angle-constructor-invalid-parameters.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/angle-d3d11-compiler-error-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/angle-d3d11-compiler-error.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/angle-dx-variable-bug-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/angle-dx-variable-bug.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/array-of-struct-with-int-first-position-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/array-of-struct-with-int-first-position.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/assign-to-swizzled-twice-in-function-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/assign-to-swizzled-twice-in-function.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/bool-type-cast-bug-int-float-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/bool-type-cast-bug-int-float.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/character-set-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/character-set.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/compare-loop-index-to-uniform-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/compare-loop-index-to-uniform.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/complex-glsl-does-not-crash-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/complex-glsl-does-not-crash.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/compound-assignment-type-combination-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/compound-assignment-type-combination.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/conditional-discard-in-loop-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/conditional-discard-in-loop.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/conditional-discard-optimization-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/conditional-discard-optimization.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/conditional-texture-fetch-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/conditional-texture-fetch.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/constant-precision-qualifier-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/constant-precision-qualifier.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/essl3-shaders-with-webgl1-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/essl3-shaders-with-webgl1.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/floor-div-cos-should-not-truncate-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/floor-div-cos-should-not-truncate.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/floored-division-accuracy-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/floored-division-accuracy.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/fragcoord-linking-bug-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/fragcoord-linking-bug.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/gl-fragcoord-multisampling-bug-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/gl-fragcoord-multisampling-bug.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/global-invariant-does-not-leak-across-shaders-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/global-invariant-does-not-leak-across-shaders.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/if-return-and-elseif-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/if-return-and-elseif.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/in-parameter-passed-as-inout-argument-and-global-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/in-parameter-passed-as-inout-argument-and-global.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/init-array-with-loop-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/init-array-with-loop.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/invariant-does-not-leak-across-shaders-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/invariant-does-not-leak-across-shaders.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/logic-inside-block-without-braces-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/logic-inside-block-without-braces.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/long-expressions-should-not-crash-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/long-expressions-should-not-crash.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/loop-if-loop-gradient-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/loop-if-loop-gradient.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/modulo-arithmetic-accuracy-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/modulo-arithmetic-accuracy.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/multiplication-assignment-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/multiplication-assignment.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/nested-functions-should-not-crash-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/nested-functions-should-not-crash.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/nested-loops-with-break-and-continue-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/nested-loops-with-break-and-continue.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/nested-sequence-operator-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/nested-sequence-operator.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/pow-of-small-constant-in-user-defined-function-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/pow-of-small-constant-in-user-defined-function.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/pow-with-constant-exponent-should-not-crash-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/pow-with-constant-exponent-should-not-crash.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/qualcomm-crash-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/qualcomm-crash.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/qualcomm-loop-with-continue-crash-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/qualcomm-loop-with-continue-crash.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/sampler-array-struct-function-arg-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/sampler-array-struct-function-arg.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/sampler-array-using-loop-index-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/sampler-array-using-loop-index.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/sampler-struct-function-arg-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/sampler-struct-function-arg.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/sequence-operator-evaluation-order-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/sequence-operator-evaluation-order.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/sketchfab-lighting-shader-crash-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/sketchfab-lighting-shader-crash.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/struct-constructor-highp-bug-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/struct-constructor-highp-bug.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/struct-with-single-member-constructor-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/struct-with-single-member-constructor.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/temp-expressions-should-not-crash-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/temp-expressions-should-not-crash.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/unary-minus-operator-float-bug-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/unary-minus-operator-float-bug.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/undefined-index-should-not-crash-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/undefined-index-should-not-crash.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/uniforms-should-not-lose-values-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/uniforms-should-not-lose-values.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/varying-arrays-should-not-be-reversed-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/varying-arrays-should-not-be-reversed.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/vector-matrix-constructor-scalarization-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/vector-matrix-constructor-scalarization.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/vector-scalar-arithmetic-inside-loop-complex-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/vector-scalar-arithmetic-inside-loop-complex.html: Added.
        * webgl/1.0.x/conformance/glsl/bugs/vector-scalar-arithmetic-inside-loop-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/bugs/vector-scalar-arithmetic-inside-loop.html: Added.
        * webgl/1.0.x/conformance/glsl/constructors/glsl-construct-bvec2-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/constructors/glsl-construct-bvec2.html: Added.
        * webgl/1.0.x/conformance/glsl/constructors/glsl-construct-bvec3-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/constructors/glsl-construct-bvec3.html: Added.
        * webgl/1.0.x/conformance/glsl/constructors/glsl-construct-bvec4-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/constructors/glsl-construct-bvec4.html: Added.
        * webgl/1.0.x/conformance/glsl/constructors/glsl-construct-ivec2-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/constructors/glsl-construct-ivec2.html: Added.
        * webgl/1.0.x/conformance/glsl/constructors/glsl-construct-ivec3-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/constructors/glsl-construct-ivec3.html: Added.
        * webgl/1.0.x/conformance/glsl/constructors/glsl-construct-ivec4-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/constructors/glsl-construct-ivec4.html: Added.
        * webgl/1.0.x/conformance/glsl/constructors/glsl-construct-mat2-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/constructors/glsl-construct-mat2.html: Added.
        * webgl/1.0.x/conformance/glsl/constructors/glsl-construct-mat3-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/constructors/glsl-construct-mat3.html: Added.
        * webgl/1.0.x/conformance/glsl/constructors/glsl-construct-mat4-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/constructors/glsl-construct-mat4.html: Added.
        * webgl/1.0.x/conformance/glsl/constructors/glsl-construct-vec-mat-corner-cases-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/constructors/glsl-construct-vec-mat-corner-cases.html: Added.
        * webgl/1.0.x/conformance/glsl/constructors/glsl-construct-vec-mat-index-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/constructors/glsl-construct-vec-mat-index.html: Added.
        * webgl/1.0.x/conformance/glsl/constructors/glsl-construct-vec2-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/constructors/glsl-construct-vec2.html: Added.
        * webgl/1.0.x/conformance/glsl/constructors/glsl-construct-vec3-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/constructors/glsl-construct-vec3.html: Added.
        * webgl/1.0.x/conformance/glsl/constructors/glsl-construct-vec4-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/constructors/glsl-construct-vec4.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-abs-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-abs.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-acos-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-acos.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-asin-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-asin.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-atan-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-atan-xy-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-atan-xy.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-atan.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-ceil-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-ceil.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-clamp-float-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-clamp-float.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-clamp-gentype-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-clamp-gentype.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-cos-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-cos.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-cross-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-cross.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-distance-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-distance.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-dot-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-dot.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-faceforward-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-faceforward.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-floor-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-floor.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-fract-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-fract.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-length-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-length.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-max-float-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-max-float.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-max-gentype-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-max-gentype.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-min-float-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-min-float.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-min-gentype-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-min-gentype.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-mix-float-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-mix-float.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-mix-gentype-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-mix-gentype.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-mod-float-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-mod-float.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-mod-gentype-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-mod-gentype.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-normalize-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-normalize.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-reflect-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-reflect.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-sign-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-sign.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-sin-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-sin.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-smoothstep-float-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-smoothstep-float.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-smoothstep-gentype-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-smoothstep-gentype.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-step-float-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-step-float.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-step-gentype-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function-step-gentype.html: Added.
        * webgl/1.0.x/conformance/glsl/functions/glsl-function.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/add_int_float.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/add_int_float.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/add_int_mat2.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/add_int_mat2.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/add_int_mat3.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/add_int_mat3.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/add_int_mat4.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/add_int_mat4.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/add_int_vec2.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/add_int_vec2.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/add_int_vec3.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/add_int_vec3.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/add_int_vec4.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/add_int_vec4.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/add_ivec2_vec2.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/add_ivec2_vec2.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/add_ivec3_vec3.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/add_ivec3_vec3.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/add_ivec4_vec4.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/add_ivec4_vec4.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/assign_int_to_float.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/assign_int_to_float.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/assign_ivec2_to_vec2.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/assign_ivec2_to_vec2.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/assign_ivec3_to_vec3.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/assign_ivec3_to_vec3.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/assign_ivec4_to_vec4.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/assign_ivec4_to_vec4.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/construct_struct.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/construct_struct.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/divide_int_float.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/divide_int_float.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/divide_int_mat2.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/divide_int_mat2.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/divide_int_mat3.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/divide_int_mat3.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/divide_int_mat4.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/divide_int_mat4.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/divide_int_vec2.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/divide_int_vec2.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/divide_int_vec3.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/divide_int_vec3.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/divide_int_vec4.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/divide_int_vec4.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/divide_ivec2_vec2.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/divide_ivec2_vec2.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/divide_ivec3_vec3.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/divide_ivec3_vec3.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/divide_ivec4_vec4.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/divide_ivec4_vec4.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/equal_int_float.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/equal_int_float.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/equal_ivec2_vec2.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/equal_ivec2_vec2.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/equal_ivec3_vec3.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/equal_ivec3_vec3.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/equal_ivec4_vec4.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/equal_ivec4_vec4.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/function_int_float.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/function_int_float.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/function_ivec2_vec2.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/function_ivec2_vec2.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/function_ivec3_vec3.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/function_ivec3_vec3.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/function_ivec4_vec4.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/function_ivec4_vec4.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/greater_than.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/greater_than.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/greater_than_equal.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/greater_than_equal.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/less_than.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/less_than.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/less_than_equal.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/less_than_equal.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/multiply_int_float.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/multiply_int_float.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/multiply_int_mat2.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/multiply_int_mat2.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/multiply_int_mat3.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/multiply_int_mat3.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/multiply_int_mat4.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/multiply_int_mat4.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/multiply_int_vec2.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/multiply_int_vec2.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/multiply_int_vec3.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/multiply_int_vec3.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/multiply_int_vec4.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/multiply_int_vec4.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/multiply_ivec2_vec2.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/multiply_ivec2_vec2.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/multiply_ivec3_vec3.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/multiply_ivec3_vec3.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/multiply_ivec4_vec4.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/multiply_ivec4_vec4.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/not_equal_int_float.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/not_equal_int_float.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/not_equal_ivec2_vec2.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/not_equal_ivec2_vec2.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/not_equal_ivec3_vec3.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/not_equal_ivec3_vec3.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/not_equal_ivec4_vec4.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/not_equal_ivec4_vec4.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/subtract_int_float.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/subtract_int_float.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/subtract_int_mat2.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/subtract_int_mat2.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/subtract_int_mat3.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/subtract_int_mat3.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/subtract_int_mat4.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/subtract_int_mat4.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/subtract_int_vec2.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/subtract_int_vec2.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/subtract_int_vec3.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/subtract_int_vec3.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/subtract_int_vec4.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/subtract_int_vec4.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/subtract_ivec2_vec2.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/subtract_ivec2_vec2.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/subtract_ivec3_vec3.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/subtract_ivec3_vec3.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/subtract_ivec4_vec4.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/subtract_ivec4_vec4.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/ternary_int_float.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/ternary_int_float.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/ternary_ivec2_vec2.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/ternary_ivec2_vec2.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/ternary_ivec3_vec3.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/ternary_ivec3_vec3.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/implicit/ternary_ivec4_vec4.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/implicit/ternary_ivec4_vec4.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/literals/float_literal.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/literals/float_literal.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/literals/literal_precision-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/literals/literal_precision.html: Added.
        * webgl/1.0.x/conformance/glsl/literals/overflow_leak.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/literals/overflow_leak.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/matrices/glsl-mat3-construction-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/matrices/glsl-mat3-construction.html: Added.
        * webgl/1.0.x/conformance/glsl/matrices/glsl-mat4-to-mat3-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/matrices/glsl-mat4-to-mat3.html: Added.
        * webgl/1.0.x/conformance/glsl/matrices/matrix-compound-multiply-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/matrices/matrix-compound-multiply.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/attrib-location-length-limits-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/attrib-location-length-limits.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/boolean_precision-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/boolean_precision.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/const-variable-initialization-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/const-variable-initialization.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/embedded-struct-definitions-forbidden-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/embedded-struct-definitions-forbidden.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/empty-declaration-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/empty-declaration.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/empty_main.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/empty_main.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/expression-list-in-declarator-initializer-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/expression-list-in-declarator-initializer.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/fragcolor-fragdata-invariant-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/fragcolor-fragdata-invariant.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/gl_position_unset.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/gl_position_unset.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/global-variable-init-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/global-variable-init.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/glsl-function-nodes-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/glsl-function-nodes.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/glsl-long-variable-names-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/glsl-long-variable-names.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/glsl-vertex-branch-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/glsl-vertex-branch.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/large-loop-compile-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/large-loop-compile.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/local-variable-shadowing-outer-function-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/local-variable-shadowing-outer-function.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/non-ascii-comments.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/non-ascii-comments.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/non-ascii.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/non-ascii.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/re-compile-re-link-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/re-compile-re-link.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/sampler-operand-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/sampler-operand.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/sequence-operator-returns-constant-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/sequence-operator-returns-constant.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-precision-format-obeyed-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-precision-format-obeyed.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-struct-scope-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-struct-scope.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-uniform-packing-restrictions-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-uniform-packing-restrictions.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-varying-packing-restrictions-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-varying-packing-restrictions.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-256-character-define-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-256-character-define.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-256-character-identifier.frag-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-256-character-identifier.frag.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-257-character-define-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-257-character-define.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-257-character-identifier.frag-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-257-character-identifier.frag.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-_webgl-identifier.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-_webgl-identifier.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-arbitrary-indexing.frag-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-arbitrary-indexing.frag.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-arbitrary-indexing.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-arbitrary-indexing.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-array-of-structs-containing-arrays-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-array-of-structs-containing-arrays.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-array-of-structs-uniform-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-array-of-structs-uniform.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-attrib-array.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-attrib-array.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-attrib-struct.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-attrib-struct.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-clipvertex.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-clipvertex.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-comma-assignment-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-comma-assignment.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-comma-conditional-assignment-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-comma-conditional-assignment.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-comma-separated-variable-declarations-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-comma-separated-variable-declarations.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-conditional-scoping-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-conditional-scoping-negative-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-conditional-scoping-negative.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-conditional-scoping.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-default-precision.frag-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-default-precision.frag.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-default-precision.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-default-precision.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-dfdx-no-ext.frag-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-dfdx-no-ext.frag.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-dfdx.frag-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-dfdx.frag.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-do-loop-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-do-loop.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-error-directive-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-error-directive.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-explicit-int-cast.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-explicit-int-cast.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-float-return-value.frag-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-float-return-value.frag.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-for-loop-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-for-loop.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-for-scoping-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-for-scoping.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-frag-depth.frag-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-frag-depth.frag.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-function-recursion.frag-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-function-recursion.frag.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-function-scoped-struct-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-function-scoped-struct.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-functional-scoping-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-functional-scoping.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-glcolor.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-glcolor.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-gles-1.frag-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-gles-1.frag.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-gles-symbol.frag-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-gles-symbol.frag.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-global-variable-precision-mismatch-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-global-variable-precision-mismatch.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-glprojectionmatrix.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-glprojectionmatrix.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-hex-int-constant-macro-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-hex-int-constant-macro.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-implicit-vec3-to-vec4-cast.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-implicit-vec3-to-vec4-cast.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-include.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-include.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-int-return-value.frag-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-int-return-value.frag.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-invalid-identifier.frag-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-invalid-identifier.frag.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-ivec2-return-value.frag-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-ivec2-return-value.frag.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-ivec3-return-value.frag-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-ivec3-return-value.frag.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-ivec4-return-value.frag-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-ivec4-return-value.frag.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-limited-indexing.frag-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-limited-indexing.frag.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-long-line-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-long-line.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-non-ascii-error.frag-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-non-ascii-error.frag.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-non-reserved-words-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-non-reserved-words.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-precision.frag-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-precision.frag.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-preprocessor-whitespace-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-preprocessor-whitespace.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-quoted-error.frag-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-quoted-error.frag.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-reserved-words-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-reserved-words.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-short-circuiting-operators-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-short-circuiting-operators.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-similar-uniform-array-names-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-similar-uniform-array-names.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-too-many-uniforms-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-too-many-uniforms.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-two-initializer-types-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-two-initializer-types.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-undefined-preprocessor-symbol.frag-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-undefined-preprocessor-symbol.frag.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-uniform-in-loop-condition.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-uniform-in-loop-condition.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-vec2-return-value.frag-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-vec2-return-value.frag.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-vec3-return-value.frag-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-vec3-return-value.frag.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-vec4-return-value.frag-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-vec4-return-value.frag.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-vec4-vec3-vec4-conditional-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-vec4-vec3-vec4-conditional.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-version-100.frag-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-version-100.frag.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-version-100.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-version-100.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-version-120.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-version-120.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-version-130.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-version-130.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-webgl-identifier.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-webgl-identifier.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-while-loop-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-with-while-loop.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-without-precision.frag-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shader-without-precision.frag.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shaders-with-constant-expression-loop-conditions-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shaders-with-constant-expression-loop-conditions.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shaders-with-invariance-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shaders-with-invariance.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shaders-with-mis-matching-uniforms-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shaders-with-mis-matching-uniforms.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shaders-with-mis-matching-varyings-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shaders-with-mis-matching-varyings.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shaders-with-missing-varyings-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shaders-with-missing-varyings.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shaders-with-name-conflicts-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shaders-with-name-conflicts.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shaders-with-uniform-structs-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shaders-with-uniform-structs.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shaders-with-varyings-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shaders-with-varyings.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/shared-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/shared.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/struct-as-inout-parameter-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/struct-as-inout-parameter.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/struct-as-out-parameter-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/struct-as-out-parameter.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/struct-assign-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/struct-assign.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/struct-equals-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/struct-equals.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/struct-mixed-array-declarators-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/struct-mixed-array-declarators.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/struct-nesting-exceeds-maximum-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/struct-nesting-exceeds-maximum.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/struct-nesting-of-variable-names-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/struct-nesting-of-variable-names.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/struct-nesting-under-maximum-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/struct-nesting-under-maximum.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/struct-specifiers-in-uniforms-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/struct-specifiers-in-uniforms.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/struct-unary-operators-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/struct-unary-operators.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/ternary-operator-on-arrays-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/ternary-operator-on-arrays.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/ternary-operators-in-global-initializers-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/ternary-operators-in-global-initializers.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/ternary-operators-in-initializers-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/ternary-operators-in-initializers.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/uniform-location-length-limits-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/uniform-location-length-limits.html: Added.
        * webgl/1.0.x/conformance/glsl/misc/uninitialized-local-global-variables-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/misc/uninitialized-local-global-variables.html: Added.
        * webgl/1.0.x/conformance/glsl/preprocessor/comments-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/preprocessor/comments.html: Added.
        * webgl/1.0.x/conformance/glsl/preprocessor/macro-expansion-tricky-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/preprocessor/macro-expansion-tricky.html: Added.
        * webgl/1.0.x/conformance/glsl/reserved/_webgl_field.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/reserved/_webgl_field.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/reserved/_webgl_function.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/reserved/_webgl_function.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/reserved/_webgl_struct.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/reserved/_webgl_struct.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/reserved/_webgl_variable.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/reserved/_webgl_variable.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/reserved/webgl_field.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/reserved/webgl_field.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/reserved/webgl_function.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/reserved/webgl_function.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/reserved/webgl_struct.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/reserved/webgl_struct.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/reserved/webgl_variable.vert-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/reserved/webgl_variable.vert.html: Added.
        * webgl/1.0.x/conformance/glsl/samplers/glsl-function-texture2d-bias-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/samplers/glsl-function-texture2d-bias.html: Added.
        * webgl/1.0.x/conformance/glsl/samplers/glsl-function-texture2dlod-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/samplers/glsl-function-texture2dlod.html: Added.
        * webgl/1.0.x/conformance/glsl/samplers/glsl-function-texture2dproj-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/samplers/glsl-function-texture2dproj.html: Added.
        * webgl/1.0.x/conformance/glsl/samplers/glsl-function-texture2dprojlod-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/samplers/glsl-function-texture2dprojlod.html: Added.
        * webgl/1.0.x/conformance/glsl/variables/gl-fragcoord-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/variables/gl-fragcoord-xy-values-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/variables/gl-fragcoord-xy-values.html: Added.
        * webgl/1.0.x/conformance/glsl/variables/gl-fragcoord.html: Added.
        * webgl/1.0.x/conformance/glsl/variables/gl-fragdata-and-fragcolor-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/variables/gl-fragdata-and-fragcolor.html: Added.
        * webgl/1.0.x/conformance/glsl/variables/gl-frontfacing-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/variables/gl-frontfacing.html: Added.
        * webgl/1.0.x/conformance/glsl/variables/gl-pointcoord-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/variables/gl-pointcoord.html: Added.
        * webgl/1.0.x/conformance/glsl/variables/glsl-built-ins-expected.txt: Added.
        * webgl/1.0.x/conformance/glsl/variables/glsl-built-ins.html: Added.
        * webgl/1.0.x/conformance/limits/gl-line-width-expected.txt: Added.
        * webgl/1.0.x/conformance/limits/gl-line-width.html: Added.
        * webgl/1.0.x/conformance/limits/gl-max-texture-dimensions-expected.txt: Added.
        * webgl/1.0.x/conformance/limits/gl-max-texture-dimensions.html: Added.
        * webgl/1.0.x/conformance/limits/gl-min-attribs-expected.txt: Added.
        * webgl/1.0.x/conformance/limits/gl-min-attribs.html: Added.
        * webgl/1.0.x/conformance/limits/gl-min-textures-expected.txt: Added.
        * webgl/1.0.x/conformance/limits/gl-min-textures.html: Added.
        * webgl/1.0.x/conformance/limits/gl-min-uniforms-expected.txt: Added.
        * webgl/1.0.x/conformance/limits/gl-min-uniforms.html: Added.
        * webgl/1.0.x/conformance/misc/bad-arguments-test-expected.txt: Added.
        * webgl/1.0.x/conformance/misc/bad-arguments-test.html: Added.
        * webgl/1.0.x/conformance/misc/boolean-argument-conversion-expected.txt: Added.
        * webgl/1.0.x/conformance/misc/boolean-argument-conversion.html: Added.
        * webgl/1.0.x/conformance/misc/delayed-drawing-expected.txt: Added.
        * webgl/1.0.x/conformance/misc/delayed-drawing.html: Added.
        * webgl/1.0.x/conformance/misc/error-reporting-expected.txt: Added.
        * webgl/1.0.x/conformance/misc/error-reporting.html: Added.
        * webgl/1.0.x/conformance/misc/expando-loss-expected.txt: Added.
        * webgl/1.0.x/conformance/misc/expando-loss.html: Added.
        * webgl/1.0.x/conformance/misc/functions-returning-strings-expected.txt: Added.
        * webgl/1.0.x/conformance/misc/functions-returning-strings.html: Added.
        * webgl/1.0.x/conformance/misc/instanceof-test-expected.txt: Added.
        * webgl/1.0.x/conformance/misc/instanceof-test.html: Added.
        * webgl/1.0.x/conformance/misc/invalid-passed-params-expected.txt: Added.
        * webgl/1.0.x/conformance/misc/invalid-passed-params.html: Added.
        * webgl/1.0.x/conformance/misc/is-object-expected.txt: Added.
        * webgl/1.0.x/conformance/misc/is-object.html: Added.
        * webgl/1.0.x/conformance/misc/null-object-behaviour-expected.txt: Added.
        * webgl/1.0.x/conformance/misc/null-object-behaviour.html: Added.
        * webgl/1.0.x/conformance/misc/object-deletion-behaviour-expected.txt: Added.
        * webgl/1.0.x/conformance/misc/object-deletion-behaviour.html: Added.
        * webgl/1.0.x/conformance/misc/shader-precision-format-expected.txt: Added.
        * webgl/1.0.x/conformance/misc/shader-precision-format.html: Added.
        * webgl/1.0.x/conformance/misc/type-conversion-test-expected.txt: Added.
        * webgl/1.0.x/conformance/misc/type-conversion-test.html: Added.
        * webgl/1.0.x/conformance/misc/uninitialized-test-expected.txt: Added.
        * webgl/1.0.x/conformance/misc/uninitialized-test.html: Added.
        * webgl/1.0.x/conformance/misc/webgl-specific-expected.txt: Added.
        * webgl/1.0.x/conformance/misc/webgl-specific-stencil-settings-expected.txt: Added.
        * webgl/1.0.x/conformance/misc/webgl-specific-stencil-settings.html: Added.
        * webgl/1.0.x/conformance/misc/webgl-specific.html: Added.
        * webgl/1.0.x/conformance/more/conformance/constants-expected.txt: Added.
        * webgl/1.0.x/conformance/more/conformance/constants.html: Added.
        * webgl/1.0.x/conformance/more/conformance/getContext-expected.txt: Added.
        * webgl/1.0.x/conformance/more/conformance/getContext.html: Added.
        * webgl/1.0.x/conformance/more/conformance/methods-expected.txt: Added.
        * webgl/1.0.x/conformance/more/conformance/methods.html: Added.
        * webgl/1.0.x/conformance/more/conformance/quickCheckAPI-A-expected.txt: Added.
        * webgl/1.0.x/conformance/more/conformance/quickCheckAPI-A.html: Added.
        * webgl/1.0.x/conformance/more/conformance/quickCheckAPI-B1-expected.txt: Added.
        * webgl/1.0.x/conformance/more/conformance/quickCheckAPI-B1.html: Added.
        * webgl/1.0.x/conformance/more/conformance/quickCheckAPI-B2-expected.txt: Added.
        * webgl/1.0.x/conformance/more/conformance/quickCheckAPI-B2.html: Added.
        * webgl/1.0.x/conformance/more/conformance/quickCheckAPI-B3-expected.txt: Added.
        * webgl/1.0.x/conformance/more/conformance/quickCheckAPI-B3.html: Added.
        * webgl/1.0.x/conformance/more/conformance/quickCheckAPI-B4-expected.txt: Added.
        * webgl/1.0.x/conformance/more/conformance/quickCheckAPI-B4.html: Added.
        * webgl/1.0.x/conformance/more/conformance/quickCheckAPI-C-expected.txt: Added.
        * webgl/1.0.x/conformance/more/conformance/quickCheckAPI-C.html: Added.
        * webgl/1.0.x/conformance/more/conformance/quickCheckAPI-D_G-expected.txt: Added.
        * webgl/1.0.x/conformance/more/conformance/quickCheckAPI-D_G.html: Added.
        * webgl/1.0.x/conformance/more/conformance/quickCheckAPI-G_I-expected.txt: Added.
        * webgl/1.0.x/conformance/more/conformance/quickCheckAPI-G_I.html: Added.
        * webgl/1.0.x/conformance/more/conformance/quickCheckAPI-L_S-expected.txt: Added.
        * webgl/1.0.x/conformance/more/conformance/quickCheckAPI-L_S.html: Added.
        * webgl/1.0.x/conformance/more/conformance/quickCheckAPI-S_V-expected.txt: Added.
        * webgl/1.0.x/conformance/more/conformance/quickCheckAPI-S_V.html: Added.
        * webgl/1.0.x/conformance/more/conformance/webGLArrays-expected.txt: Added.
        * webgl/1.0.x/conformance/more/conformance/webGLArrays.html: Added.
        * webgl/1.0.x/conformance/more/functions/bindBuffer-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/bindBuffer.html: Added.
        * webgl/1.0.x/conformance/more/functions/bindBufferBadArgs-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/bindBufferBadArgs.html: Added.
        * webgl/1.0.x/conformance/more/functions/bindFramebufferLeaveNonZero-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/bindFramebufferLeaveNonZero.html: Added.
        * webgl/1.0.x/conformance/more/functions/bufferData-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/bufferData.html: Added.
        * webgl/1.0.x/conformance/more/functions/bufferDataBadArgs-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/bufferDataBadArgs.html: Added.
        * webgl/1.0.x/conformance/more/functions/bufferSubData-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/bufferSubData.html: Added.
        * webgl/1.0.x/conformance/more/functions/bufferSubDataBadArgs-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/bufferSubDataBadArgs.html: Added.
        * webgl/1.0.x/conformance/more/functions/copyTexImage2D-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/copyTexImage2D.html: Added.
        * webgl/1.0.x/conformance/more/functions/copyTexImage2DBadArgs-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/copyTexImage2DBadArgs.html: Added.
        * webgl/1.0.x/conformance/more/functions/copyTexSubImage2D-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/copyTexSubImage2D.html: Added.
        * webgl/1.0.x/conformance/more/functions/copyTexSubImage2DBadArgs-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/copyTexSubImage2DBadArgs.html: Added.
        * webgl/1.0.x/conformance/more/functions/deleteBufferBadArgs-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/deleteBufferBadArgs.html: Added.
        * webgl/1.0.x/conformance/more/functions/drawArrays-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/drawArrays.html: Added.
        * webgl/1.0.x/conformance/more/functions/drawElements-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/drawElements.html: Added.
        * webgl/1.0.x/conformance/more/functions/isTests-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/isTests.html: Added.
        * webgl/1.0.x/conformance/more/functions/isTestsBadArgs-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/isTestsBadArgs.html: Added.
        * webgl/1.0.x/conformance/more/functions/readPixels-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/readPixels.html: Added.
        * webgl/1.0.x/conformance/more/functions/readPixelsBadArgs-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/readPixelsBadArgs.html: Added.
        * webgl/1.0.x/conformance/more/functions/texImage2D-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/texImage2D.html: Added.
        * webgl/1.0.x/conformance/more/functions/texImage2DBadArgs-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/texImage2DBadArgs.html: Added.
        * webgl/1.0.x/conformance/more/functions/texImage2DHTML-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/texImage2DHTML.html: Added.
        * webgl/1.0.x/conformance/more/functions/texImage2DHTMLBadArgs-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/texImage2DHTMLBadArgs.html: Added.
        * webgl/1.0.x/conformance/more/functions/texSubImage2D-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/texSubImage2D.html: Added.
        * webgl/1.0.x/conformance/more/functions/texSubImage2DBadArgs-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/texSubImage2DBadArgs.html: Added.
        * webgl/1.0.x/conformance/more/functions/texSubImage2DHTML-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/texSubImage2DHTML.html: Added.
        * webgl/1.0.x/conformance/more/functions/texSubImage2DHTMLBadArgs-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/texSubImage2DHTMLBadArgs.html: Added.
        * webgl/1.0.x/conformance/more/functions/uniformMatrix-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/uniformMatrix.html: Added.
        * webgl/1.0.x/conformance/more/functions/uniformMatrixBadArgs-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/uniformMatrixBadArgs.html: Added.
        * webgl/1.0.x/conformance/more/functions/uniformf-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/uniformf.html: Added.
        * webgl/1.0.x/conformance/more/functions/uniformfArrayLen1-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/uniformfArrayLen1.html: Added.
        * webgl/1.0.x/conformance/more/functions/uniformfBadArgs-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/uniformfBadArgs.html: Added.
        * webgl/1.0.x/conformance/more/functions/uniformi-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/uniformi.html: Added.
        * webgl/1.0.x/conformance/more/functions/uniformiBadArgs-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/uniformiBadArgs.html: Added.
        * webgl/1.0.x/conformance/more/functions/vertexAttrib-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/vertexAttrib.html: Added.
        * webgl/1.0.x/conformance/more/functions/vertexAttribBadArgs-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/vertexAttribBadArgs.html: Added.
        * webgl/1.0.x/conformance/more/functions/vertexAttribPointer-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/vertexAttribPointer.html: Added.
        * webgl/1.0.x/conformance/more/functions/vertexAttribPointerBadArgs-expected.txt: Added.
        * webgl/1.0.x/conformance/more/functions/vertexAttribPointerBadArgs.html: Added.
        * webgl/1.0.x/conformance/more/glsl/arrayOutOfBounds-expected.txt: Added.
        * webgl/1.0.x/conformance/more/glsl/arrayOutOfBounds.html: Added.
        * webgl/1.0.x/conformance/more/glsl/uniformOutOfBounds-expected.txt: Added.
        * webgl/1.0.x/conformance/more/glsl/uniformOutOfBounds.html: Added.
        * webgl/1.0.x/conformance/offscreencanvas/context-attribute-preserve-drawing-buffer-expected.txt: Added.
        * webgl/1.0.x/conformance/offscreencanvas/context-attribute-preserve-drawing-buffer.html: Added.
        * webgl/1.0.x/conformance/offscreencanvas/context-creation-expected.txt: Added.
        * webgl/1.0.x/conformance/offscreencanvas/context-creation-worker-expected.txt: Added.
        * webgl/1.0.x/conformance/offscreencanvas/context-creation-worker.html: Added.
        * webgl/1.0.x/conformance/offscreencanvas/context-creation.html: Added.
        * webgl/1.0.x/conformance/offscreencanvas/context-lost-expected.txt: Added.
        * webgl/1.0.x/conformance/offscreencanvas/context-lost-restored-expected.txt: Added.
        * webgl/1.0.x/conformance/offscreencanvas/context-lost-restored-worker-expected.txt: Added.
        * webgl/1.0.x/conformance/offscreencanvas/context-lost-restored-worker.html: Added.
        * webgl/1.0.x/conformance/offscreencanvas/context-lost-restored.html: Added.
        * webgl/1.0.x/conformance/offscreencanvas/context-lost-worker-expected.txt: Added.
        * webgl/1.0.x/conformance/offscreencanvas/context-lost-worker.html: Added.
        * webgl/1.0.x/conformance/offscreencanvas/context-lost.html: Added.
        * webgl/1.0.x/conformance/offscreencanvas/methods-expected.txt: Added.
        * webgl/1.0.x/conformance/offscreencanvas/methods-worker-expected.txt: Added.
        * webgl/1.0.x/conformance/offscreencanvas/methods-worker.html: Added.
        * webgl/1.0.x/conformance/offscreencanvas/methods.html: Added.
        * webgl/1.0.x/conformance/offscreencanvas/offscreencanvas-resize-expected.txt: Added.
        * webgl/1.0.x/conformance/offscreencanvas/offscreencanvas-resize.html: Added.
        * webgl/1.0.x/conformance/offscreencanvas/offscreencanvas-timer-query-expected.txt: Added.
        * webgl/1.0.x/conformance/offscreencanvas/offscreencanvas-timer-query.html: Added.
        * webgl/1.0.x/conformance/offscreencanvas/offscreencanvas-transfer-image-bitmap-expected.txt: Added.
        * webgl/1.0.x/conformance/offscreencanvas/offscreencanvas-transfer-image-bitmap.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/abs/abs_001_to_006-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/abs/abs_001_to_006.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/acos/acos_001_to_006-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/acos/acos_001_to_006.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/all/all_001_to_004-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/all/all_001_to_004.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/any/any_001_to_004-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/any/any_001_to_004.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/array/array_001_to_006-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/array/array_001_to_006.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/asin/asin_001_to_006-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/asin/asin_001_to_006.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/atan/atan_001_to_008-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/atan/atan_001_to_008.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/atan/atan_009_to_012-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/atan/atan_009_to_012.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/biConstants/biConstants_001_to_008-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/biConstants/biConstants_001_to_008.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/biConstants/biConstants_009_to_016-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/biConstants/biConstants_009_to_016.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/biuDepthRange/biuDepthRange_001_to_002-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/biuDepthRange/biuDepthRange_001_to_002.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/built_in_varying_array_out_of_bounds/built_in_varying_array_out_of_bounds_001_to_001-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/built_in_varying_array_out_of_bounds/built_in_varying_array_out_of_bounds_001_to_001.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/ceil/ceil_001_to_006-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/ceil/ceil_001_to_006.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/clamp/clamp_001_to_006-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/clamp/clamp_001_to_006.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/control_flow/control_flow_001_to_008-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/control_flow/control_flow_001_to_008.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/control_flow/control_flow_009_to_010-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/control_flow/control_flow_009_to_010.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/cos/cos_001_to_006-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/cos/cos_001_to_006.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/cross/cross_001_to_002-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/cross/cross_001_to_002.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/default/default_001_to_001-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/default/default_001_to_001.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/degrees/degrees_001_to_006-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/degrees/degrees_001_to_006.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/discard/discard_001_to_002-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/discard/discard_001_to_002.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/distance/distance_001_to_006-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/distance/distance_001_to_006.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/dot/dot_001_to_006-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/dot/dot_001_to_006.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/equal/equal_001_to_008-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/equal/equal_001_to_008.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/equal/equal_009_to_012-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/equal/equal_009_to_012.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/exp/exp_001_to_008-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/exp/exp_001_to_008.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/exp/exp_009_to_012-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/exp/exp_009_to_012.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/exp2/exp2_001_to_008-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/exp2/exp2_001_to_008.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/exp2/exp2_009_to_012-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/exp2/exp2_009_to_012.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/faceforward/faceforward_001_to_006-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/faceforward/faceforward_001_to_006.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/floor/floor_001_to_006-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/floor/floor_001_to_006.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/fract/fract_001_to_006-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/fract/fract_001_to_006.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_001_to_008-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_001_to_008.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_009_to_016-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_009_to_016.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_017_to_024-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_017_to_024.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_025_to_032-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_025_to_032.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_033_to_040-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_033_to_040.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_041_to_048-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_041_to_048.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_049_to_056-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_049_to_056.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_057_to_064-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_057_to_064.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_065_to_072-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_065_to_072.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_073_to_080-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_073_to_080.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_081_to_088-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_081_to_088.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_089_to_096-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_089_to_096.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_097_to_104-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_097_to_104.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_105_to_112-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_105_to_112.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_113_to_120-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_113_to_120.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_121_to_126-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/functions/functions_121_to_126.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/gl_FragCoord/gl_FragCoord_001_to_003-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/gl_FragCoord/gl_FragCoord_001_to_003.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/gl_FrontFacing/gl_FrontFacing_001_to_001-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/gl_FrontFacing/gl_FrontFacing_001_to_001.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/greaterThan/greaterThan_001_to_008-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/greaterThan/greaterThan_001_to_008.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/greaterThanEqual/greaterThanEqual_001_to_008-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/greaterThanEqual/greaterThanEqual_001_to_008.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/inversesqrt/inversesqrt_001_to_006-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/inversesqrt/inversesqrt_001_to_006.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/length/length_001_to_006-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/length/length_001_to_006.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/lessThan/lessThan_001_to_008-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/lessThan/lessThan_001_to_008.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/lessThanEqual/lessThanEqual_001_to_008-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/lessThanEqual/lessThanEqual_001_to_008.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/log/log_001_to_008-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/log/log_001_to_008.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/log/log_009_to_012-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/log/log_009_to_012.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/log2/log2_001_to_008-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/log2/log2_001_to_008.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/log2/log2_009_to_012-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/log2/log2_009_to_012.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/mat/mat_001_to_008-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/mat/mat_001_to_008.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/mat/mat_009_to_016-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/mat/mat_009_to_016.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/mat/mat_017_to_024-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/mat/mat_017_to_024.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/mat/mat_025_to_032-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/mat/mat_025_to_032.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/mat/mat_033_to_040-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/mat/mat_033_to_040.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/mat/mat_041_to_046-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/mat/mat_041_to_046.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/mat3/mat3_001_to_006-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/mat3/mat3_001_to_006.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/matrixCompMult/matrixCompMult_001_to_004-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/matrixCompMult/matrixCompMult_001_to_004.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/max/max_001_to_006-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/max/max_001_to_006.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/min/min_001_to_006-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/min/min_001_to_006.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/mix/mix_001_to_006-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/mix/mix_001_to_006.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/mod/mod_001_to_008-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/mod/mod_001_to_008.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/normalize/normalize_001_to_006-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/normalize/normalize_001_to_006.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/not/not_001_to_004-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/not/not_001_to_004.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/notEqual/notEqual_001_to_008-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/notEqual/notEqual_001_to_008.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/notEqual/notEqual_009_to_012-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/notEqual/notEqual_009_to_012.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/operators/operators_001_to_008-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/operators/operators_001_to_008.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/operators/operators_009_to_016-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/operators/operators_009_to_016.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/operators/operators_017_to_024-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/operators/operators_017_to_024.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/operators/operators_025_to_026-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/operators/operators_025_to_026.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/pow/pow_001_to_008-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/pow/pow_001_to_008.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/pow/pow_009_to_016-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/pow/pow_009_to_016.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/pow/pow_017_to_024-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/pow/pow_017_to_024.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/radians/radians_001_to_006-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/radians/radians_001_to_006.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/reflect/reflect_001_to_006-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/reflect/reflect_001_to_006.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/refract/refract_001_to_006-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/refract/refract_001_to_006.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/sign/sign_001_to_006-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/sign/sign_001_to_006.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/sin/sin_001_to_006-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/sin/sin_001_to_006.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/smoothstep/smoothstep_001_to_006-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/smoothstep/smoothstep_001_to_006.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/sqrt/sqrt_001_to_006-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/sqrt/sqrt_001_to_006.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/step/step_001_to_006-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/step/step_001_to_006.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/struct/struct_001_to_008-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/struct/struct_001_to_008.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/struct/struct_009_to_016-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/struct/struct_009_to_016.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/struct/struct_017_to_024-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/struct/struct_017_to_024.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/struct/struct_025_to_032-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/struct/struct_025_to_032.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/struct/struct_033_to_040-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/struct/struct_033_to_040.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/struct/struct_041_to_048-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/struct/struct_041_to_048.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/struct/struct_049_to_056-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/struct/struct_049_to_056.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/swizzlers/swizzlers_001_to_008-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/swizzlers/swizzlers_001_to_008.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/swizzlers/swizzlers_009_to_016-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/swizzlers/swizzlers_009_to_016.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/swizzlers/swizzlers_017_to_024-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/swizzlers/swizzlers_017_to_024.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/swizzlers/swizzlers_025_to_032-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/swizzlers/swizzlers_025_to_032.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/swizzlers/swizzlers_033_to_040-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/swizzlers/swizzlers_033_to_040.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/swizzlers/swizzlers_041_to_048-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/swizzlers/swizzlers_041_to_048.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/swizzlers/swizzlers_049_to_056-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/swizzlers/swizzlers_049_to_056.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/swizzlers/swizzlers_057_to_064-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/swizzlers/swizzlers_057_to_064.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/swizzlers/swizzlers_065_to_072-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/swizzlers/swizzlers_065_to_072.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/swizzlers/swizzlers_073_to_080-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/swizzlers/swizzlers_073_to_080.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/swizzlers/swizzlers_081_to_088-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/swizzlers/swizzlers_081_to_088.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/swizzlers/swizzlers_089_to_096-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/swizzlers/swizzlers_089_to_096.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/swizzlers/swizzlers_097_to_104-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/swizzlers/swizzlers_097_to_104.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/swizzlers/swizzlers_105_to_112-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/swizzlers/swizzlers_105_to_112.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/swizzlers/swizzlers_113_to_120-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/swizzlers/swizzlers_113_to_120.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/tan/tan_001_to_006-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/tan/tan_001_to_006.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/vec/vec_001_to_008-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/vec/vec_001_to_008.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/vec/vec_009_to_016-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/vec/vec_009_to_016.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/vec/vec_017_to_018-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/vec/vec_017_to_018.html: Added.
        * webgl/1.0.x/conformance/ogles/GL/vec3/vec3_001_to_008-expected.txt: Added.
        * webgl/1.0.x/conformance/ogles/GL/vec3/vec3_001_to_008.html: Added.
        * webgl/1.0.x/conformance/programs/get-active-test-expected.txt: Added.
        * webgl/1.0.x/conformance/programs/get-active-test.html: Added.
        * webgl/1.0.x/conformance/programs/gl-bind-attrib-location-long-names-test-expected.txt: Added.
        * webgl/1.0.x/conformance/programs/gl-bind-attrib-location-long-names-test.html: Added.
        * webgl/1.0.x/conformance/programs/gl-bind-attrib-location-test-expected.txt: Added.
        * webgl/1.0.x/conformance/programs/gl-bind-attrib-location-test.html: Added.
        * webgl/1.0.x/conformance/programs/gl-get-active-attribute-expected.txt: Added.
        * webgl/1.0.x/conformance/programs/gl-get-active-attribute.html: Added.
        * webgl/1.0.x/conformance/programs/gl-get-active-uniform-expected.txt: Added.
        * webgl/1.0.x/conformance/programs/gl-get-active-uniform.html: Added.
        * webgl/1.0.x/conformance/programs/gl-getshadersource-expected.txt: Added.
        * webgl/1.0.x/conformance/programs/gl-getshadersource.html: Added.
        * webgl/1.0.x/conformance/programs/gl-shader-test-expected.txt: Added.
        * webgl/1.0.x/conformance/programs/gl-shader-test.html: Added.
        * webgl/1.0.x/conformance/programs/invalid-UTF-16-expected.txt: Added.
        * webgl/1.0.x/conformance/programs/invalid-UTF-16.html: Added.
        * webgl/1.0.x/conformance/programs/program-handling-expected.txt: Added.
        * webgl/1.0.x/conformance/programs/program-handling.html: Added.
        * webgl/1.0.x/conformance/programs/program-infolog-expected.txt: Added.
        * webgl/1.0.x/conformance/programs/program-infolog.html: Added.
        * webgl/1.0.x/conformance/programs/program-test-expected.txt: Added.
        * webgl/1.0.x/conformance/programs/program-test.html: Added.
        * webgl/1.0.x/conformance/programs/use-program-crash-with-discard-in-fragment-shader-expected.txt: Added.
        * webgl/1.0.x/conformance/programs/use-program-crash-with-discard-in-fragment-shader.html: Added.
        * webgl/1.0.x/conformance/reading/fbo-remains-unchanged-after-read-pixels-expected.txt: Added.
        * webgl/1.0.x/conformance/reading/fbo-remains-unchanged-after-read-pixels.html: Added.
        * webgl/1.0.x/conformance/reading/read-pixels-pack-alignment-expected.txt: Added.
        * webgl/1.0.x/conformance/reading/read-pixels-pack-alignment.html: Added.
        * webgl/1.0.x/conformance/reading/read-pixels-test-expected.txt: Added.
        * webgl/1.0.x/conformance/reading/read-pixels-test.html: Added.
        * webgl/1.0.x/conformance/renderbuffers/depth-renderbuffer-initialization-expected.txt: Added.
        * webgl/1.0.x/conformance/renderbuffers/depth-renderbuffer-initialization.html: Added.
        * webgl/1.0.x/conformance/renderbuffers/feedback-loop-expected.txt: Added.
        * webgl/1.0.x/conformance/renderbuffers/feedback-loop.html: Added.
        * webgl/1.0.x/conformance/renderbuffers/framebuffer-object-attachment-expected.txt: Added.
        * webgl/1.0.x/conformance/renderbuffers/framebuffer-object-attachment.html: Added.
        * webgl/1.0.x/conformance/renderbuffers/framebuffer-state-restoration-expected.txt: Added.
        * webgl/1.0.x/conformance/renderbuffers/framebuffer-state-restoration.html: Added.
        * webgl/1.0.x/conformance/renderbuffers/framebuffer-test-expected.txt: Added.
        * webgl/1.0.x/conformance/renderbuffers/framebuffer-test.html: Added.
        * webgl/1.0.x/conformance/renderbuffers/renderbuffer-initialization-expected.txt: Added.
        * webgl/1.0.x/conformance/renderbuffers/renderbuffer-initialization.html: Added.
        * webgl/1.0.x/conformance/renderbuffers/stencil-renderbuffer-initialization-expected.txt: Added.
        * webgl/1.0.x/conformance/renderbuffers/stencil-renderbuffer-initialization.html: Added.
        * webgl/1.0.x/conformance/rendering/bind-framebuffer-flush-bug-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/bind-framebuffer-flush-bug.html: Added.
        * webgl/1.0.x/conformance/rendering/blending-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/blending.html: Added.
        * webgl/1.0.x/conformance/rendering/canvas-alpha-bug-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/canvas-alpha-bug.html: Added.
        * webgl/1.0.x/conformance/rendering/clear-after-copyTexImage2D-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/clear-after-copyTexImage2D.html: Added.
        * webgl/1.0.x/conformance/rendering/clipping-wide-points-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/clipping-wide-points.html: Added.
        * webgl/1.0.x/conformance/rendering/color-mask-preserved-during-implicit-clears-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/color-mask-preserved-during-implicit-clears.html: Added.
        * webgl/1.0.x/conformance/rendering/culling-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/culling.html: Added.
        * webgl/1.0.x/conformance/rendering/default-texture-draw-bug-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/default-texture-draw-bug.html: Added.
        * webgl/1.0.x/conformance/rendering/draw-arrays-out-of-bounds-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/draw-arrays-out-of-bounds.html: Added.
        * webgl/1.0.x/conformance/rendering/draw-elements-out-of-bounds-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/draw-elements-out-of-bounds.html: Added.
        * webgl/1.0.x/conformance/rendering/draw-webgl-to-canvas-2d-repeatedly-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/draw-webgl-to-canvas-2d-repeatedly.html: Added.
        * webgl/1.0.x/conformance/rendering/draw-with-changing-start-vertex-bug-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/draw-with-changing-start-vertex-bug.html: Added.
        * webgl/1.0.x/conformance/rendering/framebuffer-switch-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/framebuffer-switch.html: Added.
        * webgl/1.0.x/conformance/rendering/framebuffer-texture-clear-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/framebuffer-texture-clear.html: Added.
        * webgl/1.0.x/conformance/rendering/framebuffer-texture-switch-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/framebuffer-texture-switch.html: Added.
        * webgl/1.0.x/conformance/rendering/gl-clear-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/gl-clear.html: Added.
        * webgl/1.0.x/conformance/rendering/gl-drawarrays-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/gl-drawarrays.html: Added.
        * webgl/1.0.x/conformance/rendering/gl-drawelements-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/gl-drawelements.html: Added.
        * webgl/1.0.x/conformance/rendering/gl-scissor-canvas-dimensions-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/gl-scissor-canvas-dimensions.html: Added.
        * webgl/1.0.x/conformance/rendering/gl-scissor-fbo-test-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/gl-scissor-fbo-test.html: Added.
        * webgl/1.0.x/conformance/rendering/gl-scissor-test-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/gl-scissor-test.html: Added.
        * webgl/1.0.x/conformance/rendering/gl-viewport-test-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/gl-viewport-test.html: Added.
        * webgl/1.0.x/conformance/rendering/line-loop-tri-fan-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/line-loop-tri-fan.html: Added.
        * webgl/1.0.x/conformance/rendering/line-rendering-quality-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/line-rendering-quality.html: Added.
        * webgl/1.0.x/conformance/rendering/many-draw-calls-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/many-draw-calls.html: Added.
        * webgl/1.0.x/conformance/rendering/more-than-65536-indices-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/more-than-65536-indices.html: Added.
        * webgl/1.0.x/conformance/rendering/multisample-corruption-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/multisample-corruption.html: Added.
        * webgl/1.0.x/conformance/rendering/negative-one-index-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/negative-one-index.html: Added.
        * webgl/1.0.x/conformance/rendering/out-of-bounds-array-buffers-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/out-of-bounds-array-buffers.html: Added.
        * webgl/1.0.x/conformance/rendering/out-of-bounds-index-buffers-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/out-of-bounds-index-buffers.html: Added.
        * webgl/1.0.x/conformance/rendering/point-no-attributes-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/point-no-attributes.html: Added.
        * webgl/1.0.x/conformance/rendering/point-size-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/point-size.html: Added.
        * webgl/1.0.x/conformance/rendering/point-specific-shader-variables-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/point-specific-shader-variables.html: Added.
        * webgl/1.0.x/conformance/rendering/point-with-gl-pointcoord-in-fragment-shader-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/point-with-gl-pointcoord-in-fragment-shader.html: Added.
        * webgl/1.0.x/conformance/rendering/polygon-offset-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/polygon-offset.html: Added.
        * webgl/1.0.x/conformance/rendering/preservedrawingbuffer-leak-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/preservedrawingbuffer-leak.html: Added.
        * webgl/1.0.x/conformance/rendering/rendering-sampling-feedback-loop-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/rendering-sampling-feedback-loop.html: Added.
        * webgl/1.0.x/conformance/rendering/rendering-stencil-large-viewport-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/rendering-stencil-large-viewport.html: Added.
        * webgl/1.0.x/conformance/rendering/scissor-rect-repeated-rendering-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/scissor-rect-repeated-rendering.html: Added.
        * webgl/1.0.x/conformance/rendering/simple-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/simple.html: Added.
        * webgl/1.0.x/conformance/rendering/texture-switch-performance-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/texture-switch-performance.html: Added.
        * webgl/1.0.x/conformance/rendering/triangle-expected.txt: Added.
        * webgl/1.0.x/conformance/rendering/triangle.html: Added.
        * webgl/1.0.x/conformance/state/fb-attach-implicit-target-assignment-expected.txt: Added.
        * webgl/1.0.x/conformance/state/fb-attach-implicit-target-assignment.html: Added.
        * webgl/1.0.x/conformance/state/gl-enable-enum-test-expected.txt: Added.
        * webgl/1.0.x/conformance/state/gl-enable-enum-test.html: Added.
        * webgl/1.0.x/conformance/state/gl-enum-tests-expected.txt: Added.
        * webgl/1.0.x/conformance/state/gl-enum-tests.html: Added.
        * webgl/1.0.x/conformance/state/gl-get-calls-expected.txt: Added.
        * webgl/1.0.x/conformance/state/gl-get-calls.html: Added.
        * webgl/1.0.x/conformance/state/gl-geterror-expected.txt: Added.
        * webgl/1.0.x/conformance/state/gl-geterror.html: Added.
        * webgl/1.0.x/conformance/state/gl-getstring-expected.txt: Added.
        * webgl/1.0.x/conformance/state/gl-getstring.html: Added.
        * webgl/1.0.x/conformance/state/gl-initial-state-expected.txt: Added.
        * webgl/1.0.x/conformance/state/gl-initial-state.html: Added.
        * webgl/1.0.x/conformance/state/gl-object-get-calls-expected.txt: Added.
        * webgl/1.0.x/conformance/state/gl-object-get-calls.html: Added.
        * webgl/1.0.x/conformance/state/state-uneffected-after-compositing-expected.txt: Added.
        * webgl/1.0.x/conformance/state/state-uneffected-after-compositing.html: Added.
        * webgl/1.0.x/conformance/textures/canvas/tex-2d-alpha-alpha-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/canvas/tex-2d-alpha-alpha-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/canvas/tex-2d-luminance-luminance-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/canvas/tex-2d-luminance-luminance-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/canvas/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/canvas/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/canvas/tex-2d-rgb-rgb-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/canvas/tex-2d-rgb-rgb-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/canvas/tex-2d-rgb-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/canvas/tex-2d-rgb-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/1.0.x/conformance/textures/canvas/tex-2d-rgba-rgba-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/canvas/tex-2d-rgba-rgba-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/canvas/tex-2d-rgba-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/canvas/tex-2d-rgba-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/1.0.x/conformance/textures/canvas/tex-2d-rgba-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/canvas/tex-2d-rgba-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/1.0.x/conformance/textures/canvas_sub_rectangle/tex-2d-alpha-alpha-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/canvas_sub_rectangle/tex-2d-alpha-alpha-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/canvas_sub_rectangle/tex-2d-luminance-luminance-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/canvas_sub_rectangle/tex-2d-luminance-luminance-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/canvas_sub_rectangle/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/canvas_sub_rectangle/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/canvas_sub_rectangle/tex-2d-rgb-rgb-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/canvas_sub_rectangle/tex-2d-rgb-rgb-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/canvas_sub_rectangle/tex-2d-rgb-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/canvas_sub_rectangle/tex-2d-rgb-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/1.0.x/conformance/textures/canvas_sub_rectangle/tex-2d-rgba-rgba-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/canvas_sub_rectangle/tex-2d-rgba-rgba-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/canvas_sub_rectangle/tex-2d-rgba-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/canvas_sub_rectangle/tex-2d-rgba-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/1.0.x/conformance/textures/canvas_sub_rectangle/tex-2d-rgba-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/canvas_sub_rectangle/tex-2d-rgba-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/1.0.x/conformance/textures/image/tex-2d-alpha-alpha-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image/tex-2d-alpha-alpha-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image/tex-2d-luminance-luminance-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image/tex-2d-luminance-luminance-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image/tex-2d-rgb-rgb-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image/tex-2d-rgb-rgb-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image/tex-2d-rgb-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image/tex-2d-rgb-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/1.0.x/conformance/textures/image/tex-2d-rgba-rgba-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image/tex-2d-rgba-rgba-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image/tex-2d-rgba-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image/tex-2d-rgba-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/1.0.x/conformance/textures/image/tex-2d-rgba-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image/tex-2d-rgba-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_blob/tex-2d-alpha-alpha-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_blob/tex-2d-alpha-alpha-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_blob/tex-2d-luminance-luminance-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_blob/tex-2d-luminance-luminance-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_blob/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_blob/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_blob/tex-2d-rgb-rgb-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_blob/tex-2d-rgb-rgb-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_blob/tex-2d-rgb-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_blob/tex-2d-rgb-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_blob/tex-2d-rgba-rgba-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_blob/tex-2d-rgba-rgba-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_blob/tex-2d-rgba-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_blob/tex-2d-rgba-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_blob/tex-2d-rgba-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_blob/tex-2d-rgba-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_canvas/tex-2d-alpha-alpha-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_canvas/tex-2d-alpha-alpha-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_canvas/tex-2d-luminance-luminance-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_canvas/tex-2d-luminance-luminance-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_canvas/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_canvas/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_canvas/tex-2d-rgb-rgb-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_canvas/tex-2d-rgb-rgb-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_canvas/tex-2d-rgb-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_canvas/tex-2d-rgb-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_canvas/tex-2d-rgba-rgba-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_canvas/tex-2d-rgba-rgba-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_canvas/tex-2d-rgba-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_canvas/tex-2d-rgba-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_canvas/tex-2d-rgba-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_canvas/tex-2d-rgba-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image/tex-2d-alpha-alpha-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image/tex-2d-alpha-alpha-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image/tex-2d-luminance-luminance-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image/tex-2d-luminance-luminance-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image/tex-2d-rgb-rgb-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image/tex-2d-rgb-rgb-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image/tex-2d-rgb-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image/tex-2d-rgb-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image/tex-2d-rgba-rgba-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image/tex-2d-rgba-rgba-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image/tex-2d-rgba-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image/tex-2d-rgba-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image/tex-2d-rgba-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image/tex-2d-rgba-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-alpha-alpha-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-alpha-alpha-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-luminance-luminance-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-luminance-luminance-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-rgb-rgb-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-rgb-rgb-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-rgb-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-rgb-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-rgba-rgba-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-rgba-rgba-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-rgba-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-rgba-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-rgba-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_bitmap/tex-2d-rgba-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_data/tex-2d-alpha-alpha-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_data/tex-2d-alpha-alpha-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_data/tex-2d-luminance-luminance-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_data/tex-2d-luminance-luminance-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_data/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_data/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_data/tex-2d-rgb-rgb-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_data/tex-2d-rgb-rgb-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_data/tex-2d-rgb-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_data/tex-2d-rgb-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_data/tex-2d-rgba-rgba-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_data/tex-2d-rgba-rgba-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_data/tex-2d-rgba-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_data/tex-2d-rgba-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_data/tex-2d-rgba-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_image_data/tex-2d-rgba-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_video/tex-2d-alpha-alpha-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_video/tex-2d-alpha-alpha-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_video/tex-2d-luminance-luminance-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_video/tex-2d-luminance-luminance-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_video/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_video/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_video/tex-2d-rgb-rgb-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_video/tex-2d-rgb-rgb-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_video/tex-2d-rgb-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_video/tex-2d-rgb-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_video/tex-2d-rgba-rgba-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_video/tex-2d-rgba-rgba-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_video/tex-2d-rgba-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_video/tex-2d-rgba-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_video/tex-2d-rgba-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_bitmap_from_video/tex-2d-rgba-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/1.0.x/conformance/textures/image_data/tex-2d-alpha-alpha-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_data/tex-2d-alpha-alpha-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_data/tex-2d-luminance-luminance-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_data/tex-2d-luminance-luminance-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_data/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_data/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_data/tex-2d-rgb-rgb-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_data/tex-2d-rgb-rgb-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_data/tex-2d-rgb-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_data/tex-2d-rgb-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/1.0.x/conformance/textures/image_data/tex-2d-rgba-rgba-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_data/tex-2d-rgba-rgba-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/image_data/tex-2d-rgba-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_data/tex-2d-rgba-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/1.0.x/conformance/textures/image_data/tex-2d-rgba-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/image_data/tex-2d-rgba-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/1.0.x/conformance/textures/misc/canvas-teximage-after-multiple-drawimages-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/canvas-teximage-after-multiple-drawimages.html: Added.
        * webgl/1.0.x/conformance/textures/misc/compressed-tex-image-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/compressed-tex-image.html: Added.
        * webgl/1.0.x/conformance/textures/misc/copy-tex-image-2d-formats-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/copy-tex-image-2d-formats.html: Added.
        * webgl/1.0.x/conformance/textures/misc/copy-tex-image-and-sub-image-2d-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/copy-tex-image-and-sub-image-2d.html: Added.
        * webgl/1.0.x/conformance/textures/misc/copy-tex-image-crash-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/copy-tex-image-crash.html: Added.
        * webgl/1.0.x/conformance/textures/misc/copytexsubimage2d-large-partial-copy-corruption-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/copytexsubimage2d-large-partial-copy-corruption.html: Added.
        * webgl/1.0.x/conformance/textures/misc/copytexsubimage2d-subrects-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/copytexsubimage2d-subrects.html: Added.
        * webgl/1.0.x/conformance/textures/misc/cube-incomplete-fbo-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/cube-incomplete-fbo.html: Added.
        * webgl/1.0.x/conformance/textures/misc/cube-map-uploads-out-of-order-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/cube-map-uploads-out-of-order.html: Added.
        * webgl/1.0.x/conformance/textures/misc/default-texture-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/default-texture.html: Added.
        * webgl/1.0.x/conformance/textures/misc/exif-orientation-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/exif-orientation.html: Added.
        * webgl/1.0.x/conformance/textures/misc/gl-get-tex-parameter-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/gl-get-tex-parameter.html: Added.
        * webgl/1.0.x/conformance/textures/misc/gl-pixelstorei-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/gl-pixelstorei.html: Added.
        * webgl/1.0.x/conformance/textures/misc/gl-teximage-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/gl-teximage.html: Added.
        * webgl/1.0.x/conformance/textures/misc/mipmap-fbo-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/mipmap-fbo.html: Added.
        * webgl/1.0.x/conformance/textures/misc/origin-clean-conformance-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/origin-clean-conformance-offscreencanvas-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/origin-clean-conformance-offscreencanvas.html: Added.
        * webgl/1.0.x/conformance/textures/misc/origin-clean-conformance.html: Added.
        * webgl/1.0.x/conformance/textures/misc/tex-image-and-sub-image-2d-with-array-buffer-view-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/tex-image-and-sub-image-2d-with-array-buffer-view.html: Added.
        * webgl/1.0.x/conformance/textures/misc/tex-image-and-uniform-binding-bugs-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/tex-image-and-uniform-binding-bugs.html: Added.
        * webgl/1.0.x/conformance/textures/misc/tex-image-canvas-corruption-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/tex-image-canvas-corruption.html: Added.
        * webgl/1.0.x/conformance/textures/misc/tex-image-webgl-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/tex-image-webgl.html: Added.
        * webgl/1.0.x/conformance/textures/misc/tex-image-with-format-and-type-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/tex-image-with-format-and-type.html: Added.
        * webgl/1.0.x/conformance/textures/misc/tex-image-with-invalid-data-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/tex-image-with-invalid-data.html: Added.
        * webgl/1.0.x/conformance/textures/misc/tex-input-validation-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/tex-input-validation.html: Added.
        * webgl/1.0.x/conformance/textures/misc/tex-sub-image-2d-bad-args-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/tex-sub-image-2d-bad-args.html: Added.
        * webgl/1.0.x/conformance/textures/misc/tex-sub-image-2d-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/tex-sub-image-2d.html: Added.
        * webgl/1.0.x/conformance/textures/misc/tex-video-using-tex-unit-non-zero-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/tex-video-using-tex-unit-non-zero.html: Added.
        * webgl/1.0.x/conformance/textures/misc/texparameter-test-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/texparameter-test.html: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-active-bind-2-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-active-bind-2.html: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-active-bind-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-active-bind.html: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-attachment-formats-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-attachment-formats.html: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-clear-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-clear.html: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-complete-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-complete.html: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-copying-and-deletion-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-copying-and-deletion.html: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-copying-feedback-loops-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-copying-feedback-loops.html: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-corner-case-videos-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-corner-case-videos.html: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-cube-as-fbo-attachment-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-cube-as-fbo-attachment.html: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-draw-with-2d-and-cube-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-draw-with-2d-and-cube.html: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-fakeblack-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-fakeblack.html: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-formats-test-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-formats-test.html: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-hd-dpi-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-hd-dpi.html: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-mips-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-mips.html: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-npot-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-npot-video-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-npot-video.html: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-npot.html: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-size-cube-maps-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-size-cube-maps.html: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-size-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-size-limit-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-size-limit.html: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-size.html: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-sub-image-cube-maps-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-sub-image-cube-maps.html: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-transparent-pixels-initialized-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-transparent-pixels-initialized.html: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-upload-cube-maps-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-upload-cube-maps.html: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-upload-size-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-upload-size.html: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-video-transparent-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-video-transparent.html: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-with-flip-y-and-premultiply-alpha-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/texture-with-flip-y-and-premultiply-alpha.html: Added.
        * webgl/1.0.x/conformance/textures/misc/upload-from-srcset-with-empty-data-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/upload-from-srcset-with-empty-data.html: Added.
        * webgl/1.0.x/conformance/textures/misc/video-rotation-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/misc/video-rotation.html: Added.
        * webgl/1.0.x/conformance/textures/svg_image/tex-2d-alpha-alpha-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/svg_image/tex-2d-alpha-alpha-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/svg_image/tex-2d-luminance-luminance-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/svg_image/tex-2d-luminance-luminance-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/svg_image/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/svg_image/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/svg_image/tex-2d-rgb-rgb-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/svg_image/tex-2d-rgb-rgb-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/svg_image/tex-2d-rgb-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/svg_image/tex-2d-rgb-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/1.0.x/conformance/textures/svg_image/tex-2d-rgba-rgba-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/svg_image/tex-2d-rgba-rgba-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/svg_image/tex-2d-rgba-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/svg_image/tex-2d-rgba-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/1.0.x/conformance/textures/svg_image/tex-2d-rgba-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/svg_image/tex-2d-rgba-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/1.0.x/conformance/textures/video/tex-2d-alpha-alpha-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/video/tex-2d-alpha-alpha-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/video/tex-2d-luminance-luminance-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/video/tex-2d-luminance-luminance-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/video/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/video/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/video/tex-2d-rgb-rgb-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/video/tex-2d-rgb-rgb-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/video/tex-2d-rgb-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/video/tex-2d-rgb-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/1.0.x/conformance/textures/video/tex-2d-rgba-rgba-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/video/tex-2d-rgba-rgba-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/video/tex-2d-rgba-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/video/tex-2d-rgba-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/1.0.x/conformance/textures/video/tex-2d-rgba-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/video/tex-2d-rgba-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/1.0.x/conformance/textures/webgl_canvas/tex-2d-alpha-alpha-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/webgl_canvas/tex-2d-alpha-alpha-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/webgl_canvas/tex-2d-luminance-luminance-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/webgl_canvas/tex-2d-luminance-luminance-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/webgl_canvas/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/webgl_canvas/tex-2d-luminance_alpha-luminance_alpha-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/webgl_canvas/tex-2d-rgb-rgb-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/webgl_canvas/tex-2d-rgb-rgb-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/webgl_canvas/tex-2d-rgb-rgb-unsigned_short_5_6_5-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/webgl_canvas/tex-2d-rgb-rgb-unsigned_short_5_6_5.html: Added.
        * webgl/1.0.x/conformance/textures/webgl_canvas/tex-2d-rgba-rgba-unsigned_byte-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/webgl_canvas/tex-2d-rgba-rgba-unsigned_byte.html: Added.
        * webgl/1.0.x/conformance/textures/webgl_canvas/tex-2d-rgba-rgba-unsigned_short_4_4_4_4-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/webgl_canvas/tex-2d-rgba-rgba-unsigned_short_4_4_4_4.html: Added.
        * webgl/1.0.x/conformance/textures/webgl_canvas/tex-2d-rgba-rgba-unsigned_short_5_5_5_1-expected.txt: Added.
        * webgl/1.0.x/conformance/textures/webgl_canvas/tex-2d-rgba-rgba-unsigned_short_5_5_5_1.html: Added.
        * webgl/1.0.x/conformance/typedarrays/array-buffer-crash-expected.txt: Added.
        * webgl/1.0.x/conformance/typedarrays/array-buffer-crash.html: Added.
        * webgl/1.0.x/conformance/typedarrays/array-buffer-view-crash-expected.txt: Added.
        * webgl/1.0.x/conformance/typedarrays/array-buffer-view-crash.html: Added.
        * webgl/1.0.x/conformance/typedarrays/array-large-array-tests-expected.txt: Added.
        * webgl/1.0.x/conformance/typedarrays/array-large-array-tests.html: Added.
        * webgl/1.0.x/conformance/typedarrays/array-unit-tests-expected.txt: Added.
        * webgl/1.0.x/conformance/typedarrays/array-unit-tests.html: Added.
        * webgl/1.0.x/conformance/typedarrays/data-view-crash-expected.txt: Added.
        * webgl/1.0.x/conformance/typedarrays/data-view-crash.html: Added.
        * webgl/1.0.x/conformance/typedarrays/data-view-test-expected.txt: Added.
        * webgl/1.0.x/conformance/typedarrays/data-view-test.html: Added.
        * webgl/1.0.x/conformance/typedarrays/typed-arrays-in-workers-expected.txt: Added.
        * webgl/1.0.x/conformance/typedarrays/typed-arrays-in-workers.html: Added.
        * webgl/1.0.x/conformance/uniforms/gl-uniform-arrays-expected.txt: Added.
        * webgl/1.0.x/conformance/uniforms/gl-uniform-arrays.html: Added.
        * webgl/1.0.x/conformance/uniforms/gl-uniform-bool-expected.txt: Added.
        * webgl/1.0.x/conformance/uniforms/gl-uniform-bool.html: Added.
        * webgl/1.0.x/conformance/uniforms/gl-uniformmatrix4fv-expected.txt: Added.
        * webgl/1.0.x/conformance/uniforms/gl-uniformmatrix4fv.html: Added.
        * webgl/1.0.x/conformance/uniforms/gl-unknown-uniform-expected.txt: Added.
        * webgl/1.0.x/conformance/uniforms/gl-unknown-uniform.html: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-00-expected.txt: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-00.html: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-01-expected.txt: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-01.html: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-02-expected.txt: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-02.html: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-03-expected.txt: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-03.html: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-04-expected.txt: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-04.html: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-05-expected.txt: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-05.html: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-06-expected.txt: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-06.html: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-07-expected.txt: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-07.html: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-08-expected.txt: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-08.html: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-09-expected.txt: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-09.html: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-10-expected.txt: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-10.html: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-11-expected.txt: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-11.html: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-12-expected.txt: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-12.html: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-13-expected.txt: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-13.html: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-14-expected.txt: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-14.html: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-15-expected.txt: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-15.html: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-16-expected.txt: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-16.html: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-17-expected.txt: Added.
        * webgl/1.0.x/conformance/uniforms/no-over-optimization-on-uniform-array-17.html: Added.
        * webgl/1.0.x/conformance/uniforms/null-uniform-location-expected.txt: Added.
        * webgl/1.0.x/conformance/uniforms/null-uniform-location.html: Added.
        * webgl/1.0.x/conformance/uniforms/out-of-bounds-uniform-array-access-expected.txt: Added.
        * webgl/1.0.x/conformance/uniforms/out-of-bounds-uniform-array-access.html: Added.
        * webgl/1.0.x/conformance/uniforms/uniform-default-values-expected.txt: Added.
        * webgl/1.0.x/conformance/uniforms/uniform-default-values.html: Added.
        * webgl/1.0.x/conformance/uniforms/uniform-location-expected.txt: Added.
        * webgl/1.0.x/conformance/uniforms/uniform-location.html: Added.
        * webgl/1.0.x/conformance/uniforms/uniform-samplers-test-expected.txt: Added.
        * webgl/1.0.x/conformance/uniforms/uniform-samplers-test.html: Added.
        * webgl/1.0.x/conformance/uniforms/uniform-values-per-program-expected.txt: Added.
        * webgl/1.0.x/conformance/uniforms/uniform-values-per-program.html: Added.
        * webgl/1.0.x/deqp/data/gles2/shaders/conditionals-expected.txt: Added.
        * webgl/1.0.x/deqp/data/gles2/shaders/conditionals.html: Added.
        * webgl/1.0.x/deqp/data/gles2/shaders/constant_expressions-expected.txt: Added.
        * webgl/1.0.x/deqp/data/gles2/shaders/constant_expressions.html: Added.
        * webgl/1.0.x/deqp/data/gles2/shaders/constants-expected.txt: Added.
        * webgl/1.0.x/deqp/data/gles2/shaders/constants.html: Added.
        * webgl/1.0.x/deqp/data/gles2/shaders/conversions-expected.txt: Added.
        * webgl/1.0.x/deqp/data/gles2/shaders/conversions.html: Added.
        * webgl/1.0.x/deqp/data/gles2/shaders/declarations-expected.txt: Added.
        * webgl/1.0.x/deqp/data/gles2/shaders/declarations.html: Added.
        * webgl/1.0.x/deqp/data/gles2/shaders/fragdata-expected.txt: Added.
        * webgl/1.0.x/deqp/data/gles2/shaders/fragdata.html: Added.
        * webgl/1.0.x/deqp/data/gles2/shaders/functions-expected.txt: Added.
        * webgl/1.0.x/deqp/data/gles2/shaders/functions.html: Added.
        * webgl/1.0.x/deqp/data/gles2/shaders/invalid_texture_functions-expected.txt: Added.
        * webgl/1.0.x/deqp/data/gles2/shaders/invalid_texture_functions.html: Added.
        * webgl/1.0.x/deqp/data/gles2/shaders/keywords-expected.txt: Added.
        * webgl/1.0.x/deqp/data/gles2/shaders/keywords.html: Added.
        * webgl/1.0.x/deqp/data/gles2/shaders/linkage-expected.txt: Added.
        * webgl/1.0.x/deqp/data/gles2/shaders/linkage.html: Added.
        * webgl/1.0.x/deqp/data/gles2/shaders/preprocessor-expected.txt: Added.
        * webgl/1.0.x/deqp/data/gles2/shaders/preprocessor.html: Added.
        * webgl/1.0.x/deqp/data/gles2/shaders/qualification_order-expected.txt: Added.
        * webgl/1.0.x/deqp/data/gles2/shaders/qualification_order.html: Added.
        * webgl/1.0.x/deqp/data/gles2/shaders/reserved_operators-expected.txt: Added.
        * webgl/1.0.x/deqp/data/gles2/shaders/reserved_operators.html: Added.
        * webgl/1.0.x/deqp/data/gles2/shaders/scoping-expected.txt: Added.
        * webgl/1.0.x/deqp/data/gles2/shaders/scoping.html: Added.
        * webgl/1.0.x/deqp/data/gles2/shaders/swizzles-expected.txt: Added.
        * webgl/1.0.x/deqp/data/gles2/shaders/swizzles.html: Added.
        * webgl/resources/webkit-webgl-test-harness.js:
        (list):
        (window.webglTestHarness.reportResults):
        (window.webglTestHarness.notifyFinished):

2021-03-19  Diego Pino Garcia  <dpino@igalia.com>

        [GTK] Unreviewed test gardening. Mark MediaStream-MediaElement-srcObject.https.html as failure.

        * platform/glib/imported/w3c/web-platform-tests/mediacapture-streams/MediaStream-MediaElement-srcObject.https-expected.txt: Removed.
        * platform/gtk/TestExpectations:

2021-03-19  Kimmo Kinnunen  <kkinnunen@apple.com>

        Add WebGL 1.0.4 and 2.0.1 test files to the repository
        https://bugs.webkit.org/show_bug.cgi?id=223425

        Reviewed by Kenneth Russell.

        Add WebGL conformance test suite files to the repository.
        The content from WebGL repo is based on aeea582f62e5b161e715cac9a27193a04edd9d98
        with WebKit changes applied.
        WebKit changes (to be upstreamed):
          - Use inclusive terminology
          - Remove testRunner.overridePreference use.

        * webgl/resources/webgl_test_files/*: Added.

== Rolled over to ChangeLog-2021-03-18 ==
