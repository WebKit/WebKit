<!DOCTYPE html>
<html>
    <head>
        <script src=../media-file.js></script>
        <script src=../video-test.js></script>
    </head>
    <body>
        <div id=video_container></div>
        <script>
            setCaptionDisplayMode('Automatic');
            var mediaFile = findMediaFile("video", "../content/test");
            document.getElementById('video_container').innerHTML = "<video src='" + mediaFile + "' controls ><track kind='captions' src='captions-webvtt/simple-captions.vtt' default ></video>";
        </script>
        <div>
            This test that removing a track element before it has been processed doesn't crash (https://bugs.webkit.org/show_bug.cgi?id=85095).
            <p>If this test does not crash, it passes.</p>
        </div>
        <script>
            endTest();
        </script>
    </body>
</html>
