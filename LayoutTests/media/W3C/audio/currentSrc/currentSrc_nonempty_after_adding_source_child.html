<!doctype html>
<html>
 <head>
  <title>audio.currentSrc - non-empty after adding source element</title>
  <script src="../../w3cwrapper.js"></script>
 </head>
 <body>
  <p><a href="http://dev.w3.org/html5/spec/Overview.html#dom-media-currentsrc">spec reference</a></p>
  <div id="log"></div>
  <script>
var v = document.createElement("audio");
document.body.appendChild(v);
assert_true(
 v.currentSrc == "",
 "audioElement.currentSrc should be empty if there is no source");
var s = document.createElement("source");
s.src = ".";
v.appendChild(s);
var t = async_test("audioElement.currentSrc should not be empty after adding source element (even with a bogus value)");
window.setTimeout(function() {
 t.step(function() {
  assert_false(
   v.currentSrc == "")});
 t.done();
}, 0);
  </script>
 </body>
</html>
