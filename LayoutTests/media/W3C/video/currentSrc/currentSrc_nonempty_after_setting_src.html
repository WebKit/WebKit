<!doctype html>
<html>
 <head>
  <title>video.currentSrc - non-empty after setting src attribute</title>
  <script src="../../w3cwrapper.js"></script>
 </head>
 <body>
  <p><a href="http://dev.w3.org/html5/spec/Overview.html#dom-media-currentsrc">spec reference</a></p>
  <div id="log"></div>
  <script>
var v = document.createElement("video");
assert_true(
 v.currentSrc == "",
 "videoElement.currentSrc should be empty if there is no source");
v.src = ".";
var t = async_test("videoElement.currentSrc should not be empty after setting src attribute (even to a bogus value)");
window.setTimeout(function() {
 t.step(function() {
  assert_false(
   v.currentSrc == "")});
 t.done();
}, 0);
  </script>
 </body>
</html>
