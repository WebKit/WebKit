<!DOCTYPE html>
<body style="height: 1000px; width: 1000px">
        <div id="cb"> 
            <div id="child" style="height: 100%"> 
                <iframe style="width: 100%; height: 100%" data-expected-height=604></iframe> 
                <div>crbug.com/414532: Layout a percentage height replaced element when it has anonymous wrapper and an ancestor changes height.</div>
            </div>
        </div>
</div>
</body>
<script src="../../resources/check-layout.js"></script>
<script>
    function runTest() {
        document.body.offsetTop;
        var cb = document.getElementById('cb');
        cb.style.height = "600px";
        document.body.offsetTop;
        checkLayout('iframe');
    }

    window.onload = runTest;
</script>
