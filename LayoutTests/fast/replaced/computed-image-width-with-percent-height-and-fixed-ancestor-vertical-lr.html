<!DOCTYPE html>
<html>
<head>
    <style>
        img { height: 100%; }
        body { height: 400px; margin: 0px; padding: 0px; }
    </style>
    <script src="../../resources/check-layout.js"></script>
</head>
<body>
    <p>The square below should be 100px by 100px.
    https://bugs.webkit.org/show_bug.cgi?id=103812 
    In strict mode, an image with height set to 100% and a fixed height ancestor should expand to its instrinsic height and width. 
    Percentage height "is calculated with respect to the height of the generated box's containing block."  </p>
    <br>
    <div style="-webkit-writing-mode: vertical-lr;">
        <img src="resources/square-blue-100x100.png" onload="checkLayout('img')" data-expected-height=100>
    </div>
</body>
</html>
