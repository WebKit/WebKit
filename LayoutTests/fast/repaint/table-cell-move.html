<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
        "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<script src="resources/repaint.js"></script>
<script>
    function repaintTest()
    {
        document.getElementById("t").style.height='60px';
        document.getElementById("s").style.height='0';
    }
</script>
</head>
<body onload="runRepaintTest();">
<p><b>BUG ID:</b> <a href="https://bugs.webkit.org/show_bug.cgi?id=8449">Bugzilla bug 8449</a>
REGRESSION: Incomplete repaint of table cell that moved
<p id="success" style="background-color:palegreen; padding:3px;"><b>TEST PASS:</b> 
There should be only a green square below the line, and no red.
</p>

<p id="failure" style="background-color:#FF3300; padding:3px;"><b>TEST FAIL:</b>  
There will be a red square and a green rectangle.
</p>
<hr>
<table cellspacing="0" cellpadding="0">
    <tr>
        <td></td>
        <td style="height: 0;" id="t"></td>
    </tr>
    <tr>
        <td style="width: 60px;">
            <div style="background: green; height: 60px;"></div>
        </td>
        <td style="height: 180px;"></td>
    </tr>
    <tr>
        <td style="background: red;"></td>
        <td style="height: 60px;" id="s"></td>
    </tr>
</table>

</body>
</html>
