<!DOCTYPE html>
<html>
<script>
if (window.testRunner)
    testRunner.overridePreference("WebKitCSSGridLayoutEnabled", 1);
</script>
<link href="resources/grid.css" rel="stylesheet">
<style>
.grid {
    -webkit-grid-template-rows: 50px 50px;
    -webkit-grid-template-columns: 0.5fr 0.5fr;
}

.floatPos {
    float: left;
}

.absolutePos {
    position: absolute;
}

.fixedPos {
    position: fixed;
}

.one {
    width: 100px;
    height: 40px;
}

.two {
    width: 50px;
    height: 40px;
}
.three {
    width: 40px;
    height: 40px;
}
.four {
    width: 30px;
    height: 40px;
}

.testContainer {
    position: relative;
    height: 100px;
}
</style>
<body>

<p>This test checks that the shrink-to-fit behavior is applied to out-of-flow positioned elements.</p>

<div class="testContainer">
  <div class="grid">
    <div class="one firstRowFirstColumn"></div>
    <div class="two firstRowSecondColumn"></div>
    <div class="three secondRowFirstColumn"></div>
    <div class="four secondRowSecondColumn"></div>
  </div>
</div>

<div class="testContainer">
  <div class="grid floatPos">
    <div class="one firstRowFirstColumn"></div>
    <div class="two firstRowSecondColumn"></div>
    <div class="three secondRowFirstColumn"></div>
    <div class="four secondRowSecondColumn"></div>
  </div>
</div>

<div class="testContainer">
  <div class="grid absolutePos">
    <div class="one firstRowFirstColumn"></div>
    <div class="two firstRowSecondColumn"></div>
    <div class="three secondRowFirstColumn"></div>
    <div class="four secondRowSecondColumn"></div>
  </div>
</div>

<div class="testContainer">
  <div class="grid fixedPos">
    <div class="one firstRowFirstColumn"></div>
    <div class="two firstRowSecondColumn"></div>
    <div class="three secondRowFirstColumn"></div>
    <div class="four secondRowSecondColumn"></div>
  </div>
</div>

</body>
</html>
