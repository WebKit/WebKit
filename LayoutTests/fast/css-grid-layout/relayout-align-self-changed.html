<!DOCTYPE HTML>
<link href="resources/grid.css" rel="stylesheet">
<style>
.grid {
  grid: 150px / 100px 100px;
  width: 200px;
  position: relative;
}
.toStretch { align-self: end; }
.fromStretch { align-self: stretch; }
</style>
<script src="../../resources/check-layout.js"></script>
<p>Tests how a align-self style change requires a relayout of the grid and previously stretched items.</p>
<p>The grid bellow had initially 'align-self: end' and was changed to 'stretch'.</p>
<div class="grid">
    <div style="width: 50px;" class="toStretch firstRowFirstColumn" data-expected-height="150" data-offset-y="0">
        <div style="height: 50px"></div>
    </div>
    <div style="width: 50px;" class="toStretch firstRowSecondColumn" data-expected-height="150" data-offset-y="0">
        <div style="height: 100px"></div>
    </div>
</div>
<p>The grid bellow was initially stretched and it has now 'align-self: center'.</p>
<div class="grid">
    <div style="width: 50px;" class="fromStretch firstRowFirstColumn" data-expected-height="50" data-offset-y="50">
        <div style="height: 50px"></div>
    </div>
    <div style="width: 50px;" class="fromStretch firstRowSecondColumn" data-expected-height="100" data-offset-y="25">
        <div style="height: 100px"></div>
    </div>
</div>
<script>
document.body.offsetLeft;
document.getElementsByClassName('toStretch')[0].style.alignSelf = 'stretch';
document.getElementsByClassName('toStretch')[1].style.alignSelf = 'stretch';
document.getElementsByClassName('fromStretch')[0].style.alignSelf = 'center';
document.getElementsByClassName('fromStretch')[1].style.alignSelf = 'center';
checkLayout(".grid");
</script>
