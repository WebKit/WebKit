<meta charset="koi8-r">
<body onload="test()">
<p>Test that non-ASCII data: URLs are handled correctly.</p>
<pre id=result></pre>
<script>
if (window.testRunner)
    testRunner.dumpAsText();

function test() {
    document.getElementById("result").innerHTML += "1. " + (window.frames[0].document.body.innerHTML == "" ? "SUCCESS" : "FAILURE") + ".\r";
    document.getElementById("result").innerHTML += "2. " + (window.frames[1].document.body.innerHTML == "" ? "SUCCESS" : "FAILURE") + ".\r";
    document.getElementById("result").innerHTML += "3. " + (window.frames[2].document.body.innerHTML == "" ? "SUCCESS" : "FAILURE") + ".\r";
}
</script>
<iframe src="data:text/html;charset=utf-8,<body></body>"></iframe>
<iframe src="data:text/html;charset=utf-8,<body foo='%23'></body>"></iframe>
<iframe src="data:text/html;charset=utf-8,<body>%D0%9F%D1%80%D0%BE%D0%B2%D0%B5%D1%80%D0%BA%D0%B0</body>"></iframe>
</body>
