<style>
    div#a { width: 100px; height: 100px; background-color: lightblue; }
    div#b { display: none; }
    div#b a { display: block; width: 100px; height: 100px; background-color: blue; }
    div#a:hover + div { display:block; }
</style>
<p>
    Test for <i><a href="rdar://problem/7873647">rdar://problem/7873647</a>
    Crash when updating hover state</i>.
</p>
<p>
    Hover over the light blue square, then move down into the blue square. The browser should not crash.
</p>
<div id="a"></div>
<div id="b">
    <a></a>
</div>
<script>
    if (window.testRunner) {
        testRunner.dumpAsText();
        document.body.offsetTop;
        var y = document.getElementById("a").getBoundingClientRect().top;
        eventSender.mouseMoveTo(50, y + 50);
        eventSender.mouseMoveTo(50, y + 150);
    }
</script>
