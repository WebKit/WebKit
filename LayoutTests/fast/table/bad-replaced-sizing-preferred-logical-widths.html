<!DOCTYPE html>
<html>
<head>
<script src="../../resources/check-layout.js"></script>
<style>
html {
    width: 800px;
}

table {
    width: 100%;
    border-spacing: 0px;
}

td {
    height: 25px;
    padding: 0px;
}
</style>
</head>
<body onload="checkLayout('iframe')">
<p>Bug <a href='https://bugs.webkit.org/show_bug.cgi?id=95892'>95892</a>: REGRESSION(r122501): replaced elements with percent width are wrongly size when inserted inside an auto-table layout.</p>
<p>This test checks that a replaced element inside an auto-table layout properly computes its preferred logical width.</p>
<table align="middle">
<tbody>
    <tr>
    <td>
        <div style="width:100%">
        <iframe srcdoc="<!DOCTYPE html><p>Lorem Ipsum</p>" width="100%" data-expected-width="763"></iframe>
        </div>
    </td>
    <td align="right" valign="middle">
        <div style="width:10px;"></div>
    </td>
    </tr>
</tbody>
</table>
</script>
</body>
</html>
