<head>
<script>
function print(message)
{
    var paragraph = document.createElement("p");
    paragraph.appendChild(document.createTextNode(message));
    document.getElementById("console").appendChild(paragraph);
}
function test()
{
    if (window.testRunner)
        testRunner.dumpAsText();

    var ev = document.createEvent("MouseEvent");
    ev.initMouseEvent("click", true, true, null, 1, 1, 1, 1, 1, false, false, false, false, 0, document);
    print("Successfully created a mouse event object without a view and didn't crash.");
}
</script>
</head>
<body onload="test()" id="root">
<p>This is a regression test for <a href="https://bugs.webkit.org/show_bug.cgi?id=4298">bug 4298</a>. Without the bug fix it causes a crash.</p>
<hr>
<p><div id=console></div></p>
</body>
