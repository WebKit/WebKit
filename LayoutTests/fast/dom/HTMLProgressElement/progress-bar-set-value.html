<!doctype html>
<html>
<head>
<style>
progress {
    -webkit-appearance: none;
}
</style>
<script type="text/javascript">
function runTest() {
    bad = document.createElement("progress");
    bad.id="bad";
    bad.max=100;
    bad.setAttribute("value",10);
    bad.setAttribute("style", "border:solid red");
    document.getElementsByTagName('body')[0].appendChild(bad);
    document.body.offsetLeft;
    document.getElementById('bad').value = 50;
}
</script>
</head>
<body onload="runTest();">
<!-- [bug 100507] https://bugs.webkit.org/show_bug.cgi?id=100507 -->
<!-- Progress bar shadow tree sometimes is not relayouted. -->
</body>
</html>
