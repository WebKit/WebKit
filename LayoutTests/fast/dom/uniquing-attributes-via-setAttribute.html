<!DOCTYPE html>
<html>
<body>
<p>Tests uniquing attributes via setAttribute. WebKit shouldn't crash under GuardMalloc or ASAN builds.</p>
<div></div>
<script>

if (window.testRunner)
    testRunner.dumpAsText();

var div = document.querySelector('div');
div.setAttribute('name', 'a');

var divClone = div.cloneNode(true);
document.body.appendChild(divClone);

div.setAttribute('name', 'b');
divClone.setAttribute('name', 'b');

document.write("PASS. WebKit didn't crash.");

</script>
</body>
</html>
