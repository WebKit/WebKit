<!DOCTYPE html> <!-- webkit-test-runner [ useFlexibleViewport=true focusStartsInputSessionPolicy=allow ] -->
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="../../../resources/ui-helper.js"></script>
    <script src="../../../resources/js-test.js"></script>
    <style>
        body, html {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
        }

        input {
            width: 200px;
            height: 44px;
            position: absolute;
            left: calc(50% - 100px);
            top: calc(50% - 22px);
        }
    </style>
</head>
<body>
    <input type="datetime-local"></input>
    <script>
    jsTestIsAsync = true;

    addEventListener("load", async () => {
        description("This test verifies that presenting a date picker in a web view in an empty window does not crash.");

        let input = document.querySelector("input");
        await UIHelper.resizeWindowTo(0, 100);
        input.focus();
        await UIHelper.delayFor(300);
        input.blur();

        testPassed("Did not crash after showing date picker");
        finishJSTest();
    });
    </script>
</body>
</html>
