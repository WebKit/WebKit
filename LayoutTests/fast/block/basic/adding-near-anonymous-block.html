<style>
    div#withAfter::after {
        content: "This should be the second line.";
        display: block;
    }
</style>
<p>
    This is a test for <i><a href="https://bugs.webkit.org/show_bug.cgi?id=18809">https://bugs.webkit.org/show_bug.cgi?id=18809</a>
    Forms with block level generated content and absolutely positioned labels break inline layout (fixed on reflow)</i>.
</p>

<div id="withAfter">
    This should be
    <span style="position: absolute;"></span>
    a single line.
</div>

<div>
    <div></div>
    This should be
    <span style="position: absolute;"></span>
    a single line.
</div>

<div>
    <div></div>
    a single line.<span style="float: left;">This should be&nbsp;</span>
</div>
