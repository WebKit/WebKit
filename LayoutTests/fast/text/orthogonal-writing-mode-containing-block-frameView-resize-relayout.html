<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
</head>
<body>
This test makes sure that resizing the FrameView causes content with an orthogonal containing block to relayout. The test passes if the Chinese characters below are written vertically.
<div>
<iframe id="iframe" style="width: 700px; height: 0px; border: 0px;" srcdoc="<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
</head>
<body>
<div id='probe' style='-webkit-writing-mode: vertical-rl'>
中华人民共和国
</div>
<div style='width: 1px; height: 2000px; position: absolute; left: 0px; top: 0px;'></div>
</body>
</html>"></iframe>
</div>
<script>
if (window.testRunner)
	testRunner.waitUntilDone();

var iframe = document.getElementById("iframe");
iframe.addEventListener("load", function() {
	window.setTimeout(function() {
		document.getElementById("iframe").style.height = "500px";
		if (window.testRunner)
			testRunner.notifyDone();
	}, 0);
});
</script>
</body>
</html>