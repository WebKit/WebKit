<style>
    pre { white-space: pre-wrap; background: silver; width: 7ex; }
</style>
<p>
    Test for
    <i><a href="https://bugs.webkit.org/show_bug.cgi?id=7216">http://bugzilla.opendarwin.org/show_bug.cgi?id=7216</a>
    white-space: pre-wrap collapses leading whitespace following a newline</i>.
</p>
<hr>
<p>Here <code>bar</code> should be right under <code>foo</code>:</p>
<pre>foo      bar</pre>
<p>Here <code>bar</code> should be on the right hand side of the second line:</p>
<pre>foo<br>   bar</pre>
<pre>foo    <br>   bar</pre>
<pre>foo
   bar</pre>
<pre>foo 
   bar</pre>
<pre>foo  
   bar</pre>
<pre>foo   
   bar</pre>
<pre>foo    
   bar</pre>
<p>Here <code>bar</code> should be on the right hand side of the third line:</p>
<pre>foo<br>
   bar</pre>
<pre>foo baz
   bar</pre>
