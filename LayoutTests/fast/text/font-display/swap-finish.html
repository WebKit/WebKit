<!DOCTYPE html>
<html>
<head>
<script>
if (window.internals) {
    internals.settings.setFontLoadTimingOverride("Swap");
    internals.settings.setShouldIgnoreFontLoadCompletions(false);
}
</script>
<style>
@font-face {
    font-family: "MyFont";
    src: url("../../../resources/Ahem.ttf") format("truetype");
}
</style>
</head>
<body>
This test makes sure that text being drawn during the "swap" period after the font finishes loading is rendered as visible. The test passes if you see a black rectangle below.
<div style="font: 100px 'MyFont';">Hello</div>
</body>
</html>
