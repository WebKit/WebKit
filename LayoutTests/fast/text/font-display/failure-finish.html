<!DOCTYPE html>
<html>
<head>
<script>
if (window.internals) {
    internals.settings.setFontLoadTimingOverride("Failure");
    internals.settings.setShouldIgnoreFontLoadCompletions(false);
}
</script>
<style>
@font-face {
    font-family: "MyFont";
    src: url("../../../resources/Ahem.ttf") format("truetype");
}
</style>
</head>
<body>
This test makes sure that text being drawn during the "failure" period after the font finishes loading is rendered with the old font. The test passes if there is text below.
<div style="font: 100px 'MyFont';">Hello</div>
</body>
</html>
