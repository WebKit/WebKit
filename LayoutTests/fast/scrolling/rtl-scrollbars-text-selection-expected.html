<!DOCTYPE html>
<html>
<head>
<script>
if (window.internals) {
    internals.settings.setUserInterfaceDirectionPolicy("System");
    internals.settings.setSystemLayoutDirection("RTL");
}
</script>
</head>
<body style="margin: 0px;">
<div id="text" style="font: 20px Ahem;">pppppppppppppp</div>
This test makes sure that hit testing works with rtl scrollbars. The test passes if the first character above (it looks like an underline) is selected.
<div style="width: 1px; height: 1000px;"></div>
<script>
var text = document.getElementById("text").childNodes[0];
var selection = window.getSelection();
selection.removeAllRanges();
var range = document.createRange();
range.setStart(text, 0);
range.setEnd(text, 1);
selection.addRange(range);
</script>
</body>
</html>
