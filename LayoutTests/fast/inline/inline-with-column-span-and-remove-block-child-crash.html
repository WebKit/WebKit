<!DOCTYPE html>
<html>
<head>
  <title>This test that when the block element is removed from an inline element when column span is present, we do not crash.</title>
  <style>
    #container {
      -webkit-column-count: 2; 
    }
    #after {
      -webkit-column-span: all;
    }
  </style>
</head>
<body>
<div id=container>
  <span id=outer>Pass if no crash or assert in debug.
    <div id=removethis></div>
  </span>
  <div id=after></div>
</div>
</body>

<script>
  if (window.testRunner)
    testRunner.dumpAsText();

  document.execCommand("SelectAll");

  var elem = document.getElementById("removethis");
  elem.parentNode.removeChild(elem);

  document.getElementById("outer").style.position = "relative";
</script>
</html>
