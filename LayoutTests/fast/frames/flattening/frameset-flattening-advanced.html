<html>
<head>
    <script type="text/javascript">
        function test()
        {
            if (window.internals)
                internals.settings.setFrameFlatteningEnabled(true);
            // Force synchronous layout.
            document.body.offsetHeight;
        }
    </script>
</head>

<frameset rows="53%, 100%" frameborder="0" border=0 framespacing="0" onload="test();">
    <frameset cols="53%, 100%">
        <frame src="data:text/html,
            <style>body { background-color: green; }</style>
            <p>
                Test for frameset flattening. The flattening only works inside the DRT.
            </p>
            <div style='position: absolute; width: 350px; height: 50px; left: 0; top: 0px;'></div>
        ">
        </frame>
        <frame src="data:text/html,
            <style>body { background-color: red; }</style>
            <div style='position: absolute; width: 300px; height: 100px; left: 0; top: 0px;'></div>
        ">
        </frame>
    </frameset>
    <frameset cols="200, *">
        <frame src="data:text/html,
            <style>body { background-color: yellow; }</style>
            <div style='position: absolute; width: 50px; height: 200px; left: 0; top: 0px;'></div>
        ">
        </frame>
        <frame src="data:text/html,
            <style>body { background-color: blue; }</style>
            <div style='position: absolute; width: 650px; height: 400px; left: 0; top: 0px;'></div>
        ">
        </frame>
    </frameset>
    <noframes>
        <body>
        </body>
    </noframes>
</frameset>
</html>
