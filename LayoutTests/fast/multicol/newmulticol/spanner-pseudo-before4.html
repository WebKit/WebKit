<!DOCTYPE html>
<html>
    <head>
        <title>Spanner as ::before pseudo element</title>
        <script>
            if (window.internals)
                internals.settings.setRegionBasedColumnsEnabled(true);
            function test() {
                document.body.offsetTop; // trigger layout
                document.getElementById('elm').className = "x";
            }
        </script>
        <style>
            .x::before { display:block; -webkit-column-span:all; column-span:all; background:yellow; content:".........."; }
        </style>
    </head>
    <body onload="test()">
        <p>There should be three rectangles with identical sizes below. The first and third one
        should be blue with nothing inside. The second one should be yellow with some dots
        inside.</p>
        <div style="-webkit-columns:4; columns:4; orphans:1; widows:1; line-height:100px; background:blue;">
            <span>&nbsp;</span>
            <span id="elm">&nbsp;</span>
        </div>
    </body>
</html>
