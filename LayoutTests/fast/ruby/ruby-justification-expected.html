This test makes sure that ruby inside text-align: justify has its contents justified.
<div style="text-align: justify; font-size: 16px;">
<div>
<span style="white-space: pre">abcdefg abcdefg</span> mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm
</div>
<div>
<span style="white-space: pre">abcdefg abcdefg</span> abcdefg mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm
</div>
<div>
<span style="white-space: pre">abcdefg <ruby>abcdefg<rt><span style="color: transparent;">a</span></ruby></span> abcdefg mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm
</div>
<div>
<span style="white-space: pre">a<span">&#x685c;</span>b</span> mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm
</div>
</div>
<div style="font-family: Ahem; font-size: 16px;">
<ruby>abcdefg&nbsp;abcdefg<rt>a</ruby> mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm
</div>
<div>
a
</div>
<div style="text-align: justify;">
<span style="white-space: pre">abcdefg abcdefg</span> mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm
</div>
<div style="font-family: Ahem">
<span style="color: transparent">abcdefg abcdef</span>a
</div>
<div style="text-align: justify; font-family: Ahem">
<span style="white-space: pre">abcdefg abcdefg</span> mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm
</div>
