<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Namespace chaining</title>
    </head>
    <body>
        <div id="d" xmlns:svg="http://www.w3.org/2000/svg" style="height: 110px">
            TEST FAILED
        </div>
        <script type="text/javascript"><![CDATA[
            var div = document.getElementById("d");
            div.innerHTML = "<svg:svg width='110' height='110'><svg:defs id='defs'><svg:text>TEST FAILED</svg:text></svg:defs><svg:rect x='5' y='5' width='100' height='100' fill='green' id='r'/></svg:svg>";
            var rect = document.getElementById("r");
            if (rect.namespaceURI == "http://www.w3.org/2000/svg") {
                var defs = document.getElementById("defs");
                defs.parentNode.removeChild(defs);
            } else {
                console.log("Incorrect namespace:", rect.namespaceURI);
            }
        ]]></script>
    </body>
</html>
