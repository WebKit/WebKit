<html>
<head>
    <style>
        div:first-letter { font-size: larger; color: green; }
        div:before { content: "The "; }
    </style>
    <script>
        function test()
        {
            document.body.offsetTop;
            document.getElementById('target').style.fontSize = '24px';
        }
    </script>
</head>
<body onload="test()">
    <p>
        Test for <i><a href="http://bugs.webkit.org/show_bug.cgi?id=14221">http://bugs.webkit.org/show_bug.cgi?id=14221</a>
        Repro crash (ASSERTION FAILED: oldText in RenderBlock::updateFirstLetter() during relayout of :before content with first-letter style)</i>.
    </p>
    <div id="target">
        first letter is green and larger than the rest.
    </div>
</body>
</html>
