<html>
    <head>
        <script>            
            function test()
            {
                document.getElementById("tf").setAttribute("results", 0);
                document.execCommand("Redo");
            }
        </script>
    </head>
    <body onload="test()">
        This tests that we don't crash when redoing an editing command after the search field has been detached and reattached.<br>
        <input type="search" id="tf"><br>
        <script>
            if (window.testRunner)
                testRunner.dumpAsText();
            
            document.getElementById("tf").focus();
            document.execCommand("InsertText", false, "test");
            document.execCommand("Undo");
        </script>
    </body>
</html>
