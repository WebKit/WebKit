<div id="description">This tests to see if pasting a single paragraph not in a block at the end of a block just before a paragraph not in a block removes a line break. You should see two separate paragraphs below.</div>
<div id="edit" contentEditable="true"><div id="paragraphOne">Paragraph One</div>Paragraph two.</div>

<script>
if (window.testRunner)
    window.testRunner.dumpAsText();
paragraphOne = document.getElementById("paragraphOne");
// Place the caret at the end of the block that contains the first paragraph.
window.getSelection().setPosition(paragraphOne, paragraphOne.childNodes.length);

document.execCommand("InsertHTML", false, ".");
if (window.testRunner)
    document.body.innerText = document.getElementById("description").innerText + "\n" + document.getElementById("edit").innerHTML;
</script>
