<!DOCTYPE html>
<html>
<script src="../../fast/js/resources/js-test-pre.js"></script>
<script>
window.jsTestIsAsync = true;

if (window.layoutTestController)
    layoutTestController.waitUntilDone();

document.addEventListener("DOMCharacterDataModified", function() {
    document.body.innerHTML = "PASS. WebKit didn't crash."; 
    gc();
    finishJSTest();
}, true);

document.write("A<br>");
document.designMode = "on";
document.execCommand("SelectAll");
document.execCommand("InsertHTML", false, 4);
</script>
<script src="../../fast/js/resources/js-test-post.js"></script>
</html>
