<!DOCTYPE html>
<html>
<body>
<p id="description">This tests single-clicking on text inside user-select: all. WebKit should select the entire element.
To manually test, single click on "click here" below. WebKit should select the entire bordered region.</p>
<div id="container"><div class="select-all">Click here</div></div>
<script src="../../resources/dump-as-markup.js"></script>
<style>
.select-all {
    border: 1px solid black;
    height: 100px;
    width: 100px;
    -webkit-user-select: all;
    -moz-user-select: all;
}
</style>
<script>

Markup.description(document.getElementById('description').textContent);

function clickOnElement(element) {
    eventSender.mouseMoveTo(element.offsetLeft + 10, element.offsetTop + 10);
    eventSender.mouseDown(0);
    eventSender.mouseUp(0);
}

if (window.eventSender) {
    clickOnElement(document.querySelector('.select-all'));
    Markup.dump('container');
} else
    Markup.noAutoDump();

</script>
</body>
</html>
