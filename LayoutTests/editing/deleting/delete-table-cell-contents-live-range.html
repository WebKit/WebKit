<!DOCTYPE html><!-- webkit-test-runner [ LiveRangeSelectionEnabled=true ] -->
<html>
<body>
<p id="description">This tests for a crash when deleting the contents of a table cell. Below, you should only see one link, 'Cached', pointing to 'fakelink.html', inside of a table. <a href="radr://problem/5156801">&lt;radr://problem/5156801&gt;</a></p>
<div id="test" contenteditable="true"><table id="table" border=0 cellpadding=0 cellspacing=0><tr><td><br><a  href="fakelink.html">Cached</a><a  href=""fakelink.html">Similar</a></td></tr></table>
</div>
<script src="../../resources/dump-as-markup.js"></script>
<script>
s = window.getSelection();
table = document.getElementById("table");
s.setPosition(table, table.childNodes.length);
s.modify("move", "backward", "character");
document.execCommand("Delete");
document.execCommand("Delete");
document.execCommand("Delete");
document.execCommand("Delete");
document.execCommand("Delete");
document.execCommand("Delete");
document.execCommand("Delete");
Markup.description(description.textContent);
Markup.dump("test");
</script>
</body>
</html>
