<html>
<head>
<style>
blockquote[type="cite"] {
    color: blue;
    margin: 0px;
    padding-left: 4px;
    border-left: 2px solid blue;
}
</style>
</head>
<body>
<div id="description">This tests to see that if the caret is in an empty quoted paragraph, and there's no quoted content before that paragraph, then pressing delete removes that paragraph's quoting and the empty line.  Below you should see the attribution line, an unquoted paragraph, and then two quoted paragraphs with "quoted" in them.</div>
<div id="edit" contentEditable="true">
<div><br></div>
<div>On Tuesday, Justin wrote:</div>
<div><br></div>
<blockquote type="cite" id="blockquote"><br>quoted<br>quoted</blockquote>
</div>

<script>
if (window.testRunner)
    window.testRunner.dumpAsText();
blockquote = document.getElementById("blockquote");
window.getSelection().setPosition(blockquote, 0);
document.execCommand("Delete");
document.execCommand("InsertText", false, "not quoted");
if (window.testRunner)
    document.body.innerText = document.getElementById("description").innerText + "\n" + document.getElementById("edit").innerHTML;
</script>

</body>
</html>
