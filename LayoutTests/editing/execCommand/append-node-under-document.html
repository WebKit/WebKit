<!DOCTYPE html>
<html>
<body onload="runTest()">
<script>

if (window.testRunner)
    testRunner.dumpAsText();

function runTest() {
  document.designMode = "on";
  document.open();
  var parent = document.appendChild(document.createElement('iframe'));
  parent.appendChild(document.createElement('iframe'));
  parent.focus();
  document.execCommand("InsertHorizontalRule");

  document.open();
  document.writeln('This test ensures WebKit does not crash when replacing contents in a document whose the only content is a nested iframes.<br>PASS.');
}

</script>
</body>
</html>
