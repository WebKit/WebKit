<p>This tests for a hang when making a list out of a selection containing a table with empty cells.  There should be three list items below, one with a table and two empty.</p>
<div id="div" contenteditable="true">
<div>
    <div>
        <table border="1">
        <tr><td>1</td><td>2</td><td>3</td></tr>
        <tr><td></td><td></td><td></td></tr>
        </table>
        <br>
    </div>
    <div><br></div>
    <div><br></div>
</div>
</div>

<script>
if (window.testRunner)
    window.testRunner.dumpAsText();
    
document.getElementById("div");
div.focus();
document.execCommand("SelectAll");
document.execCommand("InsertUnorderedList");
</script>
