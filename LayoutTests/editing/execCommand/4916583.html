<p>This tests for a bug when outdenting an indented list item.  You should see 'foo' and 'bar' each in their own list item below.</p>
<div id="div" contenteditable="true"><ul><li>foo</li><ul><li id="li">bar<br></li></ul></ul></div>
<p id="console"></p>
<script>

if (window.testRunner)
    testRunner.dumpAsText();

function log(message) {
    var console = document.getElementById("console");
    var text = document.createTextNode(message);
    console.appendChild(text);
}

var li = document.getElementById("li");
var sel = window.getSelection();

sel.setPosition(li, 0);
document.execCommand("Outdent");

log(document.getElementById('div').innerHTML);
</script>
