<p id="p">This tests for a hang when creating a list from a particular selection, of table content that is already in a list item.  The table should be in a list, and each table cell should contain a list item.</p>
<div id="div" contenteditable="true"><ul><li id="li"><table border="1"><tr><td id="td">foo</td><td>bar</td></tr></table></li></ul>

<br></div>

<script>
li = document.getElementById("li");
td = document.getElementById("td");
window.getSelection().setBaseAndExtent(td, 0, li, li.childNodes.length);
document.execCommand("InsertUnorderedList");

if (window.testRunner) {
    window.testRunner.dumpAsText();
    div = document.getElementById("div");
    p = document.getElementById("p");
    document.body.innerText = p.innerText + "\n\nDOM:\n" + div.innerHTML;
}
</script>
