<html>
<body>
<p>This tests formatting a text immediately after hr with h1 tag.</p>
<div id="e" contenteditable><hr>test</div>

<ul>
<li>Before:<span id="c1"></span></li>
<li>After:<span id="c2"></span></li>
</ul>

<script type="text/javascript">

if (window.testRunner)
    testRunner.dumpAsText();

var e = document.getElementById('e');
document.getElementById('c1').appendChild(document.createTextNode(e.innerHTML));

var s = window.getSelection();
s.setPosition(document.getElementById('e'), 1);
document.execCommand("formatblock", false, "h1");

document.getElementById('c2').appendChild(document.createTextNode(e.innerHTML));

</script>
