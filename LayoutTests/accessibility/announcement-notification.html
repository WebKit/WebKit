<!DOCTYPE HTML>
<html>
<head>
<script src="../resources/js-test.js"></script>
<script src="../resources/accessibility-helper.js"></script>
</head>
<body>

<script>
if (accessibilityController) {
    window.jsTestIsAsync = true;
    let output = "Tests announcement notifications.\n\n";

    accessibilityController.addNotificationListener((axElement, notification) => {
        if (notification == "AXAnnouncementRequested") {
            output += "Received announcement request.";

            debug(output);
            finishJSTest();
        }
    });
    accessibilityController.announce("Hello World!");
}
</script>
</body>
</html>
