<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>
<script src="../../resources/js-test-pre.js"></script>
</head>
<body id="body">

<body>
<div id="wrapper">
<h1>
	<img src="" alt="Apple"> 
    <span> Some text </span>
</h1>
<div id="message">
Message content.<br><br>
Some other text.<br>
</div>
<img alt="" style="bottom: -20px; right: -30px; width: 135px; height: 100px;" src="">	
</div>

<p id="description"></p>
<div id="console"></div>

</body>

<script>

    description("This tests that we are getting the correct string for document range if the end visible position anchors an ignored replaced node.");

    if (window.accessibilityController) {

          var body = accessibilityController.rootElement.childAtIndex(0);
          var startMarker = body.startTextMarker;
          var endMarker = body.endTextMarker;
          var textMarkerRange = body.textMarkerRangeForMarkers(startMarker, endMarker);
          debug("String: \n" + body.stringForTextMarkerRange(textMarkerRange));
    }
    
</script>

<script src="../../resources/js-test-post.js"></script>
</body>
</html>
