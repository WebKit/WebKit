<html>
<head>
<script type="text/javascript" src="../inspector-test.js"></script>
<script type="text/javascript" src="./replay-test.js"></script>
<script>

window._times = [Date.now(), new Date().toString()];

function dumpNondeterministicState()
{
    return window._times;
}

function test()
{
    function statesAreEqual(a, b)
    {
        if (typeof a !== "array" || typeof b !== "array")
            return false;
        if (a.length !== b.length)
            return false;

        for (var i = 0; i < a.length; ++i)
            if (a[i] !== b[i])
                return false;

        return true;
    }

    InspectorTest.Replay.runSingleSegmentRefTest(statesAreEqual);
}

</script>
</head>
<body onload="runTest()">
<p>Tests that we can capture and replay nondeterminism in Date.now() and the Date constructor.</p>
</body>
</html>
