

FAIL event and promise ordering when navigate() is to a 204s and then to a same-document navigation assert_array_equals: lengths differ, expected array ["navigate", "AbortSignal abort", "navigateerror", "navigate", "currententrychange", "committed rejected 1", "finished rejected 1", "committed fulfilled 2", "promise microtask", "navigatesuccess", "finished fulfilled 2"] length 11, got ["navigate", "AbortSignal abort", "committed fulfilled 2", "promise microtask", "finished fulfilled 2"] length 5
FAIL event and promise ordering when navigate() is to a 205s and then to a same-document navigation assert_array_equals: lengths differ, expected array ["navigate", "AbortSignal abort", "navigateerror", "navigate", "currententrychange", "committed rejected 1", "finished rejected 1", "committed fulfilled 2", "promise microtask", "navigatesuccess", "finished fulfilled 2"] length 11, got ["navigate", "AbortSignal abort", "committed fulfilled 2", "promise microtask", "finished fulfilled 2"] length 5
FAIL event and promise ordering when navigate() is to a Content-Disposition: attachment responses and then to a same-document navigation assert_array_equals: lengths differ, expected array ["navigate", "AbortSignal abort", "navigateerror", "navigate", "currententrychange", "committed rejected 1", "finished rejected 1", "committed fulfilled 2", "promise microtask", "navigatesuccess", "finished fulfilled 2"] length 11, got ["navigate", "AbortSignal abort", "navigate", "currententrychange", "navigatesuccess", "committed fulfilled 2", "promise microtask", "finished fulfilled 2"] length 8

