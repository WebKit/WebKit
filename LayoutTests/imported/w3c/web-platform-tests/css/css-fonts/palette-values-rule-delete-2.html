<!DOCTYPE html>
<html class="reftest-wait">
<head>
<meta charset="utf-8">
<title>Tests that dynamically deleting a @font-palette-values rule causes the necessary rendering update</title>
<link rel="help" href="https://drafts.csswg.org/css-fonts/#font-palette-values">
<link rel="author" title="Myles C. Maxfield" href="mailto:mmaxfield@apple.com">
<link rel="match" href="palette-values-rule-delete-2-ref.html">
<style id="style">
@font-face {
    font-family: "Ahem-COLR";
    src: url("resources/Ahem-COLOR-palettes.ttf") format("truetype");
}

@font-palette-values MyPalette {
    font-family: "Ahem-COLR";
    base-palette: 1;
}
</style>
</head>
<body>
<div style="font: 48px 'Ahem-COLR'; font-palette: MyPalette;">A</div>
<script>
let count = 0;
function tick() {
    if (count > 3) {
        document.getElementById("style").sheet.deleteRule(1);
        document.documentElement.classList.remove("reftest-wait");
    } else {
        ++count;
        requestAnimationFrame(tick);
    }
}
requestAnimationFrame(tick);
</script>
</body>
</html>
