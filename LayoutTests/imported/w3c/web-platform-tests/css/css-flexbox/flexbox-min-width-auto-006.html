<!DOCTYPE html>
<title>CSS Flexible Box Test: Aspect ratio handling of images</title>
<link rel="author" title="Sergio Villar Senin" href="mailto:svillar@igalia.com" />
<link rel="help" href="https://drafts.csswg.org/css-flexbox-1/#min-size-auto" />
<link rel="match" href="reference/flexbox-min-width-auto-006-ref.html" />
<meta name="assert" content="Test that min-width:auto does not incorrectly stretch items with aspect ratio" />

<style>
#reference-overlapped-red {
    position: relative;
    background-color: red;
    width: 10px;
    height: 10px;
    top: 40px;
    z-index: -1;
}
.constrained-width-flex {
    width: 100px;
    display: flex;
    border: 1px solid black;
}
.constrained-height-flex {
    display: flex;
    height: 100px;
}
</style>

<p>Test passes if there are a (vertically centered) 20x20 and a 60x100 green boxes enclosed on each 100x100 square.</p>

<div class="constrained-width-flex">
    <div class="constrained-height-flex">
        <img  src="data:image/svg+xml,
                <svg width='20' height='20' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'>
                    <rect width='100%' height='100%' fill='green'/>
                </svg>"/>
    </div>
</div>

<br>

<div class="constrained-width-flex">
    <div class="constrained-height-flex">
        <img  src="support/60x60-green.png"/>
    </div>
</div>