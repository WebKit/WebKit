<body>
<p class="desc"> Test to ensure beginlayer works for filter and shadow. </p>
<script>
var canvas, ctx;
canvas = document.createElement("canvas");
canvas.width = 200;
canvas.height = 200;
document.body.appendChild(canvas);

ctx = canvas.getContext("2d");
ctx.fillStyle = 'rgba(0,0,255,1)';
ctx.fillRect(50,50,95,70);

ctx.filter = 'sepia(1) opacity(70%)';
ctx.shadowOffsetX = -10;
ctx.shadowOffsetY = 10;
ctx.shadowColor = 'rgba(0,1,0,0.5)';

ctx.beginLayer();

ctx.fillStyle = 'rgba(225,0,0,1)';
ctx.fillRect(60,40,75,50);
ctx.fillStyle = 'rgba(0,255,0,1)';
ctx.fillRect(80,60,75,50);

ctx.endLayer();

</script>
</body>
