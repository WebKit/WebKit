2021-08-02  Chris Dumez  <cdumez@apple.com>

        HTMLElement.innerText setter should convert new lines to <br>
        https://bugs.webkit.org/show_bug.cgi?id=228605
        <rdar://problem/81333038>

        Reviewed by Darin Adler.

        Rebaseline WPT tests that are now passing. Those tests were already passing in Chrome and Firefox.

        * web-platform-tests/html/dom/elements/the-innertext-and-outertext-properties/innertext-setter-expected.txt:
        * web-platform-tests/html/dom/elements/the-innertext-idl-attribute/setter-expected.txt:
        * web-platform-tests/innerText/setter-expected.txt:

2021-08-02  Jer Noble  <jer.noble@apple.com>

        [Cocoa] Remove support for AVAssetImageGenerator
        https://bugs.webkit.org/show_bug.cgi?id=228560

        Reviewed by Eric Carlson.

        The 2x2-green.mp4 file fails to decode as its natural size is too small for the system decoder to handle. Replace with
        a media file of more reasonable size.

        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/video-aspect-ratio.html:
        * web-platform-tests/html/semantics/embedded-content/media-elements/video_loop_base.html:
        * web-platform-tests/media/16x16-green.mp4: Added.

2021-08-02  Martin Robinson  <mrobinson@webkit.org>

        [css-scroll-snap] Consider all snap areas at a given snap offset when snapping
        https://bugs.webkit.org/show_bug.cgi?id=228141

        Reviewed by Frédéric Wang.

        * web-platform-tests/css/css-scroll-snap/overflowing-snap-areas-expected.txt:
        * web-platform-tests/css/css-scroll-snap/overflowing-snap-areas.html:

2021-07-31  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r280488.
        https://bugs.webkit.org/show_bug.cgi?id=228677

        media/modern-media-controls/ tests are failing or timed-out

        Reverted changeset:

        "[Cocoa] Remove support for AVAssetImageGenerator"
        https://bugs.webkit.org/show_bug.cgi?id=228560
        https://commits.webkit.org/r280488

2021-07-30  Rob Buis  <rbuis@igalia.com>

        [css-overflow] Implement clip value for overflow
        https://bugs.webkit.org/show_bug.cgi?id=198230

        Reviewed by Simon Fraser.

        * web-platform-tests/css/css-overflow/overflow-clip-hit-testing-expected.txt: Added.
        * web-platform-tests/css/css-overflow/overflow-clip-scroll-size-expected.txt: Added.
        * web-platform-tests/css/css-overflow/parsing/overflow-computed-expected.txt:
        * web-platform-tests/css/css-overflow/parsing/overflow-valid-expected.txt:

2021-07-30  Chris Dumez  <cdumez@apple.com>

        Add initial support for 'Cross-Origin-Opener-Policy' HTTP header
        https://bugs.webkit.org/show_bug.cgi?id=192193
        <rdar://problem/42013525>

        Reviewed by Geoff Garen.

        Rebaseline WPT tests now that most tests are passing.

        * web-platform-tests/IndexedDB/serialize-sharedarraybuffer-throws.https-expected.txt:
        * web-platform-tests/html/cross-origin-embedder-policy/cross-origin-isolated-permission.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/blob-popup.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/coep-blob-popup.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/coep-navigate-popup.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/coep-redirect.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/coep.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/coop-coep-sandbox.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/coop-csp-sandbox-navigate.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/coop-csp-sandbox.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/coop-navigated-history-popup.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/coop-navigated-popup.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/coop-sandbox.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/header-parsing.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/historical/coep-navigate-popup-unsafe-inherit.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/historical/popup-same-origin-unsafe-allow-outgoing-with-cross-origin.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/historical/popup-same-origin-unsafe-allow-outgoing-with-same-origin.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/historical/popup-same-origin-unsafe-allow-outgoing-with-same-site.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/historical/popup-same-site-unsafe-allow-outgoing-with-cross-origin.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/historical/popup-same-site-unsafe-allow-outgoing-with-same-origin.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/historical/popup-same-site-unsafe-allow-outgoing-with-same-site.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/historical/popup-same-site-with-cross-origin.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/historical/popup-same-site-with-same-origin.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/historical/popup-same-site-with-same-site.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/iframe-popup-same-origin-allow-popups-to-same-origin-allow-popups.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/iframe-popup-same-origin-allow-popups-to-same-origin.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/iframe-popup-same-origin-to-same-origin.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/iframe-popup-same-origin-to-unsafe-none.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/iframe-popup-unsafe-none-to-same-origin.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/javascript-url.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/navigate-to-aboutblank.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/no-https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/popup-coop-by-sw-from-coop.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/popup-coop-by-sw.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/popup-redirect-cache.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/popup-redirect-same-origin-allow-popups.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/popup-same-origin-allow-popups-with-cross-origin.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/popup-same-origin-allow-popups-with-same-origin.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/popup-same-origin-allow-popups-with-same-site.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/popup-same-origin-with-cross-origin.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/popup-same-origin-with-same-origin.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/popup-same-origin-with-same-site.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/popup-unsafe-none-with-cross-origin.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/popup-unsafe-none-with-same-origin.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/popup-unsafe-none-with-same-site.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/popup-unspecified-with-cross-origin.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/popup-unspecified-with-same-origin.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/popup-unspecified-with-same-site.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/popup-with-structured-header.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/resource-popup.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/resources/resource-popup.html:
        * web-platform-tests/html/dom/idlharness.worker-expected.txt:

2021-07-30  Chris Dumez  <cdumez@apple.com>

        Unreviewed, reverting r280482.

        Will take a more conservative approach

        Reverted changeset:

        "HTMLElement.innerText setter should convert new lines to
        <br>"
        https://bugs.webkit.org/show_bug.cgi?id=228605
        https://commits.webkit.org/r280482

2021-07-30  Chris Dumez  <cdumez@apple.com>

        Document's fallback base URL should be deduced from its creator when URL is about:blank
        https://bugs.webkit.org/show_bug.cgi?id=228624

        Reviewed by Geoffrey Garen.

        Rebaseline WPT test now that one more check is passing.

        * web-platform-tests/html/infrastructure/urls/terminology-0/document-base-url-expected.txt:

2021-07-30  Jer Noble  <jer.noble@apple.com>

        [Cocoa] Remove support for AVAssetImageGenerator
        https://bugs.webkit.org/show_bug.cgi?id=228560

        Reviewed by Eric Carlson.

        The 2x2-green.mp4 file fails to decode as its natural size is too small for the system decoder to handle. Replace with
        a media file of more reasonable size.

        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/video-aspect-ratio.html:
        * web-platform-tests/html/semantics/embedded-content/media-elements/video_loop_base.html:
        * web-platform-tests/media/16x16-green.mp4: Added.

2021-07-30  Chris Dumez  <cdumez@apple.com>

        HTMLElement.innerText setter should convert new lines to <br>
        https://bugs.webkit.org/show_bug.cgi?id=228605

        Reviewed by Sam Weinig.

        Rebaselined WPT tests that are now passing. Note that those were failing in WebKit but passing in Firefox
        and Chrome.

        * web-platform-tests/html/dom/elements/the-innertext-and-outertext-properties/innertext-setter-expected.txt:
        * web-platform-tests/html/dom/elements/the-innertext-idl-attribute/setter-expected.txt:
        * web-platform-tests/innerText/setter-expected.txt:

2021-07-30  Chris Dumez  <cdumez@apple.com>

        Clicking an HTMLLinkElement should not trigger a navigation
        https://bugs.webkit.org/show_bug.cgi?id=228618

        Reviewed by Sam Weinig.

        Rebaseline WPT test now that more checks are passing.

        * web-platform-tests/html/infrastructure/urls/resolving-urls/query-encoding/navigation.sub-expected.txt:

2021-07-30  Chris Dumez  <cdumez@apple.com>

        postMessage() should throw if any duplicate transferable is found in transferList
        https://bugs.webkit.org/show_bug.cgi?id=228608

        Reviewed by Youenn Fablet.

        Rebaseline WPT test now that more checks are passing.

        * web-platform-tests/html/infrastructure/safe-passing-of-structured-data/transfer-errors.window-expected.txt:

2021-07-28  Sihui Liu  <sihui_liu@apple.com>

        Implement IDBTransaction.durability
        https://bugs.webkit.org/show_bug.cgi?id=228289

        Reviewed by Darin Adler.

        * web-platform-tests/IndexedDB/idlharness.any-expected.txt:
        * web-platform-tests/IndexedDB/idlharness.any.worker-expected.txt:
        * web-platform-tests/IndexedDB/transaction-relaxed-durability.tentative.any-expected.txt:
        * web-platform-tests/IndexedDB/transaction-relaxed-durability.tentative.any.worker-expected.txt:

2021-07-28  Sihui Liu  <sihui_liu@apple.com>

        IDBFactory.databases should not return databases with invalid version
        https://bugs.webkit.org/show_bug.cgi?id=228554

        Reviewed by Chris Dumez.

        * web-platform-tests/IndexedDB/get-databases.any-expected.txt:
        * web-platform-tests/IndexedDB/get-databases.any.worker-expected.txt:

2021-07-28  Ayumi Kojima  <ayumi_kojima@apple.com>

        Unreviewed, reverting r280402.

        Wrong baseline set.

        Reverted changeset:

        "[ iPad ] Rebaseline 2 imported/w3c/web-platform-tests/html
        tests."
        https://bugs.webkit.org/show_bug.cgi?id=228568
        https://commits.webkit.org/r280402

2021-07-28  Ayumi Kojima  <ayumi_kojima@apple.com>

        [ iPad ] Rebaseline 2 imported/w3c/web-platform-tests/html tests.
        https://bugs.webkit.org/show_bug.cgi?id=228568

        Unreviewed test gardening.

        * web-platform-tests/html/browsers/the-window-object/noopener-noreferrer-sizing.window-expected.txt:

2021-07-26  Chris Dumez  <cdumez@apple.com>

        Location.href setter uses wrong window to resolve relative URLs
        https://bugs.webkit.org/show_bug.cgi?id=228287

        Reviewed by Darin Adler.

        Rebaseline a few WPT tests now that more checks are passing.

        * web-platform-tests/html/semantics/scripting-1/the-script-element/execution-timing/083-expected.txt:
        * web-platform-tests/html/semantics/scripting-1/the-script-element/execution-timing/084-expected.txt:
        * web-platform-tests/html/webappapis/scripting/processing-model-2/window-onerror-with-cross-frame-event-listeners-1-expected.txt:
        * web-platform-tests/html/webappapis/scripting/processing-model-2/window-onerror-with-cross-frame-event-listeners-2-expected.txt:

2021-07-26  Johnson Zhou  <qiaosong_zhou@apple.com>

        Added FormDataEvent support.
        https://bugs.webkit.org/show_bug.cgi?id=227718

        Reviewed by Chris Dumez.

        * web-platform-tests/html/semantics/forms/form-submission-0/FormDataEvent.window-expected.txt:
        * web-platform-tests/html/semantics/forms/form-submission-0/constructing-form-data-set-expected.txt:
        * web-platform-tests/html/semantics/forms/form-submission-0/text-plain.window-expected.txt:
        * web-platform-tests/html/semantics/forms/form-submission-0/urlencoded2.window-expected.txt:
        * web-platform-tests/html/webappapis/scripting/events/event-handler-all-global-events-expected.txt:
        * web-platform-tests/html/webappapis/scripting/events/event-handler-attributes-body-window-expected.txt:
        * web-platform-tests/html/webappapis/scripting/events/event-handler-attributes-windowless-body-expected.txt:
        * web-platform-tests/xhr/formdata-expected.txt:

2021-07-23  Alexey Shvayka  <shvaikalesh@gmail.com>

        [JSC] Call custom accessors / values with their holder's global object
        https://bugs.webkit.org/show_bug.cgi?id=225997

        Reviewed by Yusuke Suzuki.

        * web-platform-tests/WebIDL/ecmascript-binding/global-object-implicit-this-value-cross-realm-expected.txt: Added.
        * web-platform-tests/WebIDL/ecmascript-binding/global-object-implicit-this-value-cross-realm.html: Added.
        * web-platform-tests/WebIDL/ecmascript-binding/invalid-this-value-cross-realm-expected.txt: Added.
        * web-platform-tests/WebIDL/ecmascript-binding/invalid-this-value-cross-realm.html: Added.
        * web-platform-tests/WebIDL/ecmascript-binding/support/create-realm.js: Added.
        * web-platform-tests/WebIDL/ecmascript-binding/support/dummy-iframe.html: Added.
        * web-platform-tests/html/browsers/origin/cross-origin-objects/window-location-and-location-href-cross-realm-set-expected.txt: Added.
        * web-platform-tests/html/browsers/origin/cross-origin-objects/window-location-and-location-href-cross-realm-set.html: Added.

        * web-platform-tests/html/webappapis/scripting/events/compile-event-handler-settings-objects-expected.txt:
        * web-platform-tests/html/webappapis/scripting/processing-model-2/integration-with-the-javascript-job-queue/promise-job-incumbent-expected.txt:
        * web-platform-tests/service-workers/service-worker/fetch-request-css-cross-origin.https-expected.txt:
        * web-platform-tests/webrtc-encoded-transform/sframe-transform-readable.html:
        All these are confirmed progressions.

        * web-platform-tests/performance-timeline/supportedEntryTypes-cross-realm-access-expected.txt: Added.
        * web-platform-tests/performance-timeline/supportedEntryTypes-cross-realm-access.html: Added.

2021-07-22  Alex Christensen  <achristensen@webkit.org>

        XHR.send(Document) should replace mismatched surrogates with replacement character before sending
        https://bugs.webkit.org/show_bug.cgi?id=228170

        Reviewed by Chris Dumez.

        * web-platform-tests/xhr/send-entity-body-document-bogus-expected.txt:

2021-07-22  Sihui Liu  <sihui_liu@apple.com>

        [macOS Debug] Layout Test imported/w3c/web-platform-tests/IndexedDB/open-request-queue.html is a flaky timeout.
        https://bugs.webkit.org/show_bug.cgi?id=172044

        Reviewed by Chris Dumez.

        * web-platform-tests/IndexedDB/open-request-queue-expected.txt:

2021-07-21  Rob Buis  <rbuis@igalia.com>

        [AspectRatio] Fix select-element-001.html
        https://bugs.webkit.org/show_bug.cgi?id=228144

        Reviewed by Manuel Rego Casasnovas.

        Import fixed select-element-001.html based on SHA c2ddbb6.

        * web-platform-tests/css/css-sizing/aspect-ratio/select-element-001-expected.html:
        * web-platform-tests/css/css-sizing/aspect-ratio/select-element-001.html:
        * web-platform-tests/css/css-sizing/aspect-ratio/w3c-import.log:

2021-07-20  Chris Lord  <clord@igalia.com>

        Canvas and OffscreenCanvas getContext should check if argument is an object before trying to convert it to a dictionary
        https://bugs.webkit.org/show_bug.cgi?id=227792

        Reviewed by Sam Weinig.

        Synchronise with upstream WPT 2d canvas getContext tests.

        * web-platform-tests/html/canvas/offscreen/the-offscreen-canvas/2d-getcontext-options.any-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/the-offscreen-canvas/2d-getcontext-options.any.html: Added.
        * web-platform-tests/html/canvas/offscreen/the-offscreen-canvas/2d-getcontext-options.any.js: Added.
        (test.const.options.get alpha):
        (test.const.options.get willReadFrequently):
        (test.const.options.get desynchronized):
        (test.const.options.get colorSpace):
        (test):
        * web-platform-tests/html/canvas/offscreen/the-offscreen-canvas/2d-getcontext-options.any.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/the-offscreen-canvas/2d-getcontext-options.any.worker.html: Added.
        * web-platform-tests/html/canvas/offscreen/the-offscreen-canvas/2d.getcontext.extraargs-expected.txt: Removed.
        * web-platform-tests/html/canvas/offscreen/the-offscreen-canvas/2d.getcontext.extraargs.cache-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/the-offscreen-canvas/2d.getcontext.extraargs.cache.html: Added.
        * web-platform-tests/html/canvas/offscreen/the-offscreen-canvas/2d.getcontext.extraargs.cache.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/the-offscreen-canvas/2d.getcontext.extraargs.cache.worker.html: Added.
        * web-platform-tests/html/canvas/offscreen/the-offscreen-canvas/2d.getcontext.extraargs.cache.worker.js: Added.
        (t_fail.t.step_func):
        (t.step):
        * web-platform-tests/html/canvas/offscreen/the-offscreen-canvas/2d.getcontext.extraargs.create-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/the-offscreen-canvas/2d.getcontext.extraargs.create.html: Added.
        * web-platform-tests/html/canvas/offscreen/the-offscreen-canvas/2d.getcontext.extraargs.create.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/the-offscreen-canvas/2d.getcontext.extraargs.create.worker.html: Added.
        * web-platform-tests/html/canvas/offscreen/the-offscreen-canvas/2d.getcontext.extraargs.create.worker.js: Added.
        (t_fail.t.step_func):
        (t.step):
        * web-platform-tests/html/canvas/offscreen/the-offscreen-canvas/2d.getcontext.extraargs.html: Removed.
        * web-platform-tests/html/canvas/offscreen/the-offscreen-canvas/2d.getcontext.extraargs.worker-expected.txt: Removed.
        * web-platform-tests/html/canvas/offscreen/the-offscreen-canvas/2d.getcontext.extraargs.worker.js: Removed.
        * web-platform-tests/html/canvas/offscreen/the-offscreen-canvas/w3c-import.log:
        * web-platform-tests/html/semantics/embedded-content/the-canvas-element/2d-getcontext-options-expected.txt: Added.
        * web-platform-tests/html/semantics/embedded-content/the-canvas-element/2d-getcontext-options.html: Added.
        * web-platform-tests/html/semantics/embedded-content/the-canvas-element/2d.getcontext.extraargs.cache-expected.txt: Added.
        * web-platform-tests/html/semantics/embedded-content/the-canvas-element/2d.getcontext.extraargs.cache.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/html/semantics/embedded-content/the-canvas-element/2d.getcontext.extraargs.html.
        * web-platform-tests/html/semantics/embedded-content/the-canvas-element/2d.getcontext.extraargs.create-expected.txt: Added.
        * web-platform-tests/html/semantics/embedded-content/the-canvas-element/2d.getcontext.extraargs.create.html: Added.
        * web-platform-tests/html/semantics/embedded-content/the-canvas-element/w3c-import.log:

2021-07-20  Sam Sneddon  <gsnedders@apple.com>

        Change referrer-policy default to strict-origin-when-cross-origin
        https://bugs.webkit.org/show_bug.cgi?id=218909

        Reviewed by Chris Dumez.

        This matches the behavior of other browsers. Update all our tests to deal with the origin now being shorter.

        * web-platform-tests/fetch/api/cors/cors-preflight-referrer.any-expected.txt:
        * web-platform-tests/fetch/api/cors/cors-preflight-referrer.any.worker-expected.txt:
        * web-platform-tests/html/browsers/browsing-the-web/navigating-across-documents/source/navigate-child-src-about-blank-expected.txt:
        * web-platform-tests/html/browsers/windows/browsing-context-expected.txt:
        * web-platform-tests/service-workers/service-worker/fetch-event-referrer-policy.https-expected.txt:

2021-07-20  Ziran Sun  <zsun@igalia.com>

        Images as grid items should use the overridingLogicalWidth when defined to compute the logical Height
        https://bugs.webkit.org/show_bug.cgi?id=228022

        Reviewed by Javier Fernandez.

        Update test expectations as the sub-tests are now passing.

        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-029-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-030-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-031-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-035-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-036-expected.txt:

2021-07-20  Rob Buis  <rbuis@igalia.com>

        Fix grid aspect-ratio tests
        https://bugs.webkit.org/show_bug.cgi?id=225860

        Reviewed by Javier Fernandez.

        Import aspect-ratio tests based on 56bf98c5c0.

        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-013-expected.xht: Removed.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-013.html: Removed.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-018.html:
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-019.html:

2021-07-19  Sihui Liu  <sihui_liu@apple.com>

        Implement IDBTransaction.commit()
        https://bugs.webkit.org/show_bug.cgi?id=227815
        <rdar://problem/80651270>

        Reviewed by Brady Eidson.

        * web-platform-tests/IndexedDB/idb-explicit-commit-throw.any-expected.txt:
        * web-platform-tests/IndexedDB/idb-explicit-commit-throw.any.worker-expected.txt:
        * web-platform-tests/IndexedDB/idb-explicit-commit.any-expected.txt: Some test is timed out as our backend does
        not support running multiple transactions simultaneously now.
        * web-platform-tests/IndexedDB/idb-explicit-commit.any.worker-expected.txt: Ditto.
        * web-platform-tests/IndexedDB/idlharness.any-expected.txt:
        * web-platform-tests/IndexedDB/idlharness.any.worker-expected.txt:

2021-07-19  Chris Dumez  <cdumez@apple.com>

        HTMLImageElement.decoding should reflect the decoding content attribute, limited to only known values
        https://bugs.webkit.org/show_bug.cgi?id=228081

        Reviewed by Alex Christensen.

        Rebaseline WPT test now that more checks are passing.

        * web-platform-tests/html/dom/reflection-embedded-expected.txt:

2021-07-19  Chris Dumez  <cdumez@apple.com>

        FetchResponse.formData() should not reject promise if the body is null and the MIME Type is "application/x-www-form-urlencoded"
        https://bugs.webkit.org/show_bug.cgi?id=228085

        Reviewed by Alex Christensen.

        Rebaseline WPT tests now that more checks are passing.

        * web-platform-tests/fetch/api/request/request-consume-empty.any-expected.txt:
        * web-platform-tests/fetch/api/request/request-consume-empty.any.worker-expected.txt:
        * web-platform-tests/fetch/api/response/response-consume-empty.any-expected.txt:
        * web-platform-tests/fetch/api/response/response-consume-empty.any.worker-expected.txt:

2021-07-19  Chris Dumez  <cdumez@apple.com>

        Unreviewed, land test baselines for cross-origin-opener-policy tests
        https://bugs.webkit.org/show_bug.cgi?id=228080

        * web-platform-tests/html/cross-origin-opener-policy/blob-popup.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/coep-blob-popup.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/coep-navigate-popup.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/coep-redirect.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/coep.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/coop-coep-sandbox.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/coop-csp-sandbox-navigate.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/coop-csp-sandbox.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/coop-navigated-history-popup.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/coop-navigated-popup.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/coop-same-origin-allow-popups-document-write-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/coop-sandbox.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/header-parsing.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/historical/coep-navigate-popup-unsafe-inherit.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/historical/popup-same-origin-unsafe-allow-outgoing-with-cross-origin.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/historical/popup-same-origin-unsafe-allow-outgoing-with-same-origin.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/historical/popup-same-origin-unsafe-allow-outgoing-with-same-site.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/historical/popup-same-site-unsafe-allow-outgoing-with-cross-origin.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/historical/popup-same-site-unsafe-allow-outgoing-with-same-origin.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/historical/popup-same-site-unsafe-allow-outgoing-with-same-site.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/historical/popup-same-site-with-cross-origin.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/historical/popup-same-site-with-same-origin.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/historical/popup-same-site-with-same-site.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/iframe-popup-same-origin-allow-popups-to-same-origin-allow-popups.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/iframe-popup-same-origin-allow-popups-to-same-origin.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/iframe-popup-same-origin-allow-popups-to-unsafe-none.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/iframe-popup-same-origin-to-same-origin.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/iframe-popup-same-origin-to-unsafe-none.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/iframe-popup-unsafe-none-to-same-origin.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/iframe-popup-unsafe-none-to-unsafe-none.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/javascript-url.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/navigate-to-aboutblank.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/navigate-top-to-aboutblank.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/popup-coop-by-sw-from-coop.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/popup-coop-by-sw.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/popup-meta-http-equiv.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/popup-redirect-cache.https-expected.txt:
        * web-platform-tests/html/cross-origin-opener-policy/popup-redirect-same-origin-allow-popups.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/popup-same-origin-allow-popups-with-cross-origin.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/popup-same-origin-allow-popups-with-same-origin.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/popup-same-origin-allow-popups-with-same-site.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/popup-same-origin-with-cross-origin.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/popup-same-origin-with-same-origin.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/popup-same-origin-with-same-site.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/popup-unsafe-none-with-cross-origin.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/popup-unsafe-none-with-same-origin.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/popup-unsafe-none-with-same-site.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/popup-unspecified-with-cross-origin.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/popup-unspecified-with-same-origin.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/popup-unspecified-with-same-site.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/popup-with-structured-header.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/access-from-coop-page-to-openee_coop-ro.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/access-from-coop-page-to-openee_coop-ro_cross-origin.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/access-from-coop-page-to-opener_coop-ro.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/access-from-coop-page-to-opener_coop-ro_cross-origin.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/access-from-coop-page-to-other_coop-ro.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/access-from-coop-page-to-other_coop-ro_cross-origin.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/access-to-coop-page-from-openee_coop-ro.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/access-to-coop-page-from-openee_coop-ro_cross-origin.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/access-to-coop-page-from-opener_coop-ro.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/access-to-coop-page-from-opener_coop-ro_cross-origin.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/access-to-coop-page-from-other_coop-ro.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/access-to-coop-page-from-other_coop-ro_cross-origin.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/property-blur.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/property-close.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/property-closed.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/property-focus.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/property-frames.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/property-indexed-getter.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/property-length.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/property-location-get.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/property-location-set.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/property-named-getter.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/property-opener-get.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/property-opener-set.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/property-postmessage-1.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/property-postmessage-2.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/property-self.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/property-top.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/property-window.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/report-to-both_coop-ro.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/access-reporting/reporting-observer-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/navigation-reporting/report-only-four-reports.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/navigation-reporting/report-only-from-unsafe-none.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/navigation-reporting/report-only-same-origin-report-to.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/navigation-reporting/report-only-same-origin-with-coep-report-only.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/navigation-reporting/report-only-same-origin-with-coep.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/navigation-reporting/report-only-same-origin.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/navigation-reporting/reporting-coop-navigated-opener.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/navigation-reporting/reporting-coop-navigated-popup.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/navigation-reporting/reporting-popup-same-origin-allow-popups-report-to.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/navigation-reporting/reporting-popup-same-origin-coep-report-to.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/navigation-reporting/reporting-popup-same-origin-report-to.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/navigation-reporting/reporting-popup-same-origin.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/navigation-reporting/reporting-popup-unsafe-none-report-to.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/reporting/navigation-reporting/reporting-redirect-with-same-origin-allow-popups.https-expected.txt: Added.
        * web-platform-tests/html/cross-origin-opener-policy/resource-popup.https-expected.txt: Added.

2021-07-19  Ziran Sun  <zsun@igalia.com>

        [css-grid] Images as grid items should use the overridingLogicalHeight when defined to compute the logical width
        https://bugs.webkit.org/show_bug.cgi?id=227984

        Reviewed by Javier Fernandez.

        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-011-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-012-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-013-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-014-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-017-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-018-expected.txt:

2021-07-19  Ziran Sun  <zsun@igalia.com>

        [css-grid] Use correct block-size to resolve min-content
        https://bugs.webkit.org/show_bug.cgi?id=227167

        Reviewed by Javier Fernandez.

        The following test is passing -
        
        * web-platform-tests/css/css-grid/grid-items/grid-item-inline-contribution-001.html:

2021-07-15  Chris Dumez  <cdumez@apple.com>

        Implement 'SubmitEvent' interface
        https://bugs.webkit.org/show_bug.cgi?id=202978

        Reviewed by Alex Christensen.

        Rebaseline WPT tests now that more checks are passing.

        * web-platform-tests/html/semantics/forms/form-submission-0/SubmitEvent.window-expected.txt:
        * web-platform-tests/html/semantics/forms/form-submission-0/implicit-submission.optional-expected.txt:

2021-07-15  Chris Dumez  <cdumez@apple.com>

        Add initial support for BroadcastChannel behind a runtime flag
        https://bugs.webkit.org/show_bug.cgi?id=227924

        Reviewed by Sam Weinig.

        Rebaseline WPT tests now that more tests are running and we are passing more checks.

        * web-platform-tests/FileAPI/url/url-in-tags-revoke.window-expected.txt:
        * web-platform-tests/html/browsers/the-window-object/noopener-noreferrer-BarProp.window-expected.txt:
        * web-platform-tests/html/browsers/the-window-object/noopener-noreferrer-sizing.window-expected.txt:
        * web-platform-tests/html/browsers/the-window-object/window-open-noreferrer-expected.txt:
        * web-platform-tests/html/cross-origin-embedder-policy/report-only-require-corp.https-expected.txt:
        * web-platform-tests/html/cross-origin-embedder-policy/require-corp.https-expected.txt:
        * web-platform-tests/html/dom/idlharness.worker-expected.txt:
        * web-platform-tests/html/infrastructure/safe-passing-of-structured-data/shared-array-buffers/broadcastchannel-success.https-expected.txt:
        * web-platform-tests/html/semantics/forms/form-submission-target/rel-base-target-expected.txt:
        * web-platform-tests/html/semantics/forms/form-submission-target/rel-button-target-expected.txt:
        * web-platform-tests/html/semantics/forms/form-submission-target/rel-form-target-expected.txt:
        * web-platform-tests/html/semantics/forms/form-submission-target/rel-input-target-expected.txt:
        * web-platform-tests/html/semantics/links/links-created-by-a-and-area-elements/htmlanchorelement_noopener-expected.txt:
        * web-platform-tests/html/semantics/links/links-created-by-a-and-area-elements/target_blank_implicit_noopener-expected.txt:
        * web-platform-tests/html/semantics/links/links-created-by-a-and-area-elements/target_blank_implicit_noopener_base-expected.txt:
        * web-platform-tests/wasm/serialization/module/broadcastchannel-success-and-failure-expected.txt:
        * web-platform-tests/wasm/serialization/module/broadcastchannel-success-expected.txt:
        * web-platform-tests/webmessaging/MessageEvent-trusted.any-expected.txt:
        * web-platform-tests/webmessaging/MessageEvent-trusted.any.worker-expected.txt:
        * web-platform-tests/webmessaging/broadcastchannel/basics-expected.txt: Removed.
        * web-platform-tests/webmessaging/broadcastchannel/basics.any-expected.txt:
        * web-platform-tests/webmessaging/broadcastchannel/basics.any.worker-expected.txt:
        * web-platform-tests/webmessaging/broadcastchannel/blobs-expected.txt:
        * web-platform-tests/webmessaging/broadcastchannel/interface-expected.txt: Removed.
        * web-platform-tests/webmessaging/broadcastchannel/interface.any-expected.txt:
        * web-platform-tests/webmessaging/broadcastchannel/interface.any.worker-expected.txt:
        * web-platform-tests/webmessaging/broadcastchannel/sandbox-expected.txt:
        * web-platform-tests/webmessaging/broadcastchannel/workers-expected.txt: Added.
        * web-platform-tests/webmessaging/multi-globals/broadcastchannel-current.sub-expected.txt:
        * web-platform-tests/webstorage/storage_session_window_noopener.window-expected.txt:
        * web-platform-tests/workers/semantics/interface-objects/001.worker-expected.txt:

2021-07-15  Chris Dumez  <cdumez@apple.com>

        FetchResponse.formData() should reject promise with a TypeError if the body is null
        https://bugs.webkit.org/show_bug.cgi?id=228007

        Reviewed by Alex Christensen.

        Rebaseline WPT tests now that more checks are passing.

        * web-platform-tests/fetch/api/request/request-consume-empty.any-expected.txt:
        * web-platform-tests/fetch/api/request/request-consume-empty.any.worker-expected.txt:
        * web-platform-tests/fetch/api/response/response-consume-empty.any-expected.txt:
        * web-platform-tests/fetch/api/response/response-consume-empty.any.worker-expected.txt:

2021-07-15  Chris Dumez  <cdumez@apple.com>

        Sync XHR 'load' event is always has total/loaded=0
        https://bugs.webkit.org/show_bug.cgi?id=228004

        Reviewed by Alex Christensen.

        Rebaseline WPT test that is now passing.

        * web-platform-tests/xhr/send-sync-response-event-order-expected.txt:

2021-07-15  Tim Nguyen  <ntim@apple.com>

        <dialog> element: do not perform close() method steps when removing open attribute.
        https://bugs.webkit.org/show_bug.cgi?id=227872

        Reviewed by Chris Dumez.

        Test: web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-open.html

        The close function now follows the steps at: https://html.spec.whatwg.org/multipage/interactive-elements.html#close-the-dialog

        * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-open-expected.txt:

2021-07-15  Tim Nguyen  <ntim@apple.com>

        Re-import html/semantics/interactive-elements/the-dialog-element WPT
        https://bugs.webkit.org/show_bug.cgi?id=227986

        Unreviewed.

        Upstream commit: https://github.com/web-platform-tests/wpt/commit/10a8411ba8ed0012da5ecefc6eba9956a13b2c21

        * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-form-submission-expected.txt:
        * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-form-submission.html:
        * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-open-expected.txt:
        * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-open.html:

2021-07-15  Ziran Sun  <zsun@igalia.com>

        Resync web-platform-tests/css/css-grid tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227901

        Reviewed by Manuel Rego Casasnovas.

        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-vertWM-003-expected.html:
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-vertWM-004-expected.html:
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-vertWM-003-expected.html:
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-vertWM-004-expected.html:
        * web-platform-tests/css/css-grid/alignment/grid-item-aspect-ratio-stretch-1-expected.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/alignment/grid-item-no-aspect-ratio-stretch-4-expected.html.
        * web-platform-tests/css/css-grid/alignment/grid-item-aspect-ratio-stretch-1.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/alignment/grid-item-no-aspect-ratio-stretch-4.html.
        * web-platform-tests/css/css-grid/alignment/grid-item-aspect-ratio-stretch-2-expected.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/alignment/grid-item-no-aspect-ratio-stretch-5-expected.html.
        * web-platform-tests/css/css-grid/alignment/grid-item-aspect-ratio-stretch-2.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/alignment/grid-item-no-aspect-ratio-stretch-10.html.
        * web-platform-tests/css/css-grid/alignment/grid-item-aspect-ratio-stretch-3-expected.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/alignment/grid-item-no-aspect-ratio-stretch-6-expected.html.
        * web-platform-tests/css/css-grid/alignment/grid-item-aspect-ratio-stretch-3.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/alignment/grid-item-no-aspect-ratio-stretch-6.html.
        * web-platform-tests/css/css-grid/alignment/grid-item-aspect-ratio-stretch-4-expected.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/alignment/grid-item-no-aspect-ratio-stretch-7-expected.html.
        * web-platform-tests/css/css-grid/alignment/grid-item-aspect-ratio-stretch-4.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/alignment/grid-item-no-aspect-ratio-stretch-7.html.
        * web-platform-tests/css/css-grid/alignment/grid-item-no-aspect-ratio-stretch-10-expected.html: Removed.
        * web-platform-tests/css/css-grid/alignment/grid-item-no-aspect-ratio-stretch-4-expected.html:
        * web-platform-tests/css/css-grid/alignment/grid-item-no-aspect-ratio-stretch-4.html:
        * web-platform-tests/css/css-grid/alignment/grid-item-no-aspect-ratio-stretch-5-expected.html:
        * web-platform-tests/css/css-grid/alignment/grid-item-no-aspect-ratio-stretch-5.html:
        * web-platform-tests/css/css-grid/alignment/grid-item-no-aspect-ratio-stretch-6-expected.html:
        * web-platform-tests/css/css-grid/alignment/grid-item-no-aspect-ratio-stretch-6.html:
        * web-platform-tests/css/css-grid/alignment/grid-item-no-aspect-ratio-stretch-8-expected.html: Removed.
        * web-platform-tests/css/css-grid/alignment/grid-item-no-aspect-ratio-stretch-8.html: Removed.
        * web-platform-tests/css/css-grid/alignment/grid-item-no-aspect-ratio-stretch-9-expected.html: Removed.
        * web-platform-tests/css/css-grid/alignment/grid-item-no-aspect-ratio-stretch-9.html: Removed.
        * web-platform-tests/css/css-grid/alignment/w3c-import.log:
        * web-platform-tests/css/css-grid/grid-item-percentage-quirk-001-expected.html: Removed.
        * web-platform-tests/css/css-grid/grid-item-percentage-quirk-002-expected.html: Removed.
        * web-platform-tests/css/css-grid/grid-items/grid-item-inline-contribution-002-expected.xht: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/grid-items/grid-item-inline-contribution-002.tentative-expected.xht.
        * web-platform-tests/css/css-grid/grid-items/grid-item-inline-contribution-002.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/grid-items/grid-item-inline-contribution-002.tentative.html.
        * web-platform-tests/css/css-grid/grid-items/grid-item-inline-contribution-003-expected.xht: Renamed from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/grid-items/grid-item-inline-contribution-003.tentative-expected.xht.
        * web-platform-tests/css/css-grid/grid-items/grid-item-inline-contribution-003.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/grid-items/grid-item-inline-contribution-003.tentative.html.
        * web-platform-tests/css/css-grid/grid-items/grid-items-contribution-negative-margins-expected.xht: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/grid-items/grid-item-inline-contribution-002.tentative-expected.xht.
        * web-platform-tests/css/css-grid/grid-items/grid-items-contribution-negative-margins.html: Added.
        * web-platform-tests/css/css-grid/grid-items/w3c-import.log:
        * web-platform-tests/css/css-grid/grid-model/grid-areas-overflowing-grid-container-004.html:
        * web-platform-tests/css/css-grid/grid-model/grid-areas-overflowing-grid-container-005.html:
        * web-platform-tests/css/css-grid/layout-algorithm/grid-find-fr-size-restart-algorithm-expected.xht: Renamed from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/grid-items/grid-item-inline-contribution-002.tentative-expected.xht.
        * web-platform-tests/css/css-grid/layout-algorithm/grid-find-fr-size-restart-algorithm.html: Added.
        * web-platform-tests/css/css-grid/layout-algorithm/w3c-import.log:
        * web-platform-tests/css/css-grid/w3c-import.log:

2021-07-14  Chris Dumez  <cdumez@apple.com>

        Fix type of exceptions thrown in the WebAudio API
        https://bugs.webkit.org/show_bug.cgi?id=227959

        Reviewed by Yusuke Suzuki.

        Resync WebAudio WPT tests from upstream 04ab41dced1f354873cab0 to gain test coverage and
        rebaseline those tests.

        * web-platform-tests/webaudio/resources/audit.js:
        (Should.prototype.throw):
        * web-platform-tests/webaudio/the-audio-api/the-analysernode-interface/ctor-analyser-expected.txt:
        * web-platform-tests/webaudio/the-audio-api/the-audiocontext-interface/audiocontextoptions-expected.txt:
        * web-platform-tests/webaudio/the-audio-api/the-audiocontext-interface/audiocontextoptions.html:
        * web-platform-tests/webaudio/the-audio-api/the-audionode-interface/audionode-connect-method-chaining-expected.txt:
        * web-platform-tests/webaudio/the-audio-api/the-audionode-interface/audionode-expected.txt:
        * web-platform-tests/webaudio/the-audio-api/the-audionode-interface/different-contexts-expected.txt: Added.
        * web-platform-tests/webaudio/the-audio-api/the-audionode-interface/different-contexts.html: Added.
        * web-platform-tests/webaudio/the-audio-api/the-audionode-interface/w3c-import.log:
        * web-platform-tests/webaudio/the-audio-api/the-audioworklet-interface/audioworklet-registerprocessor-dynamic.https-expected.txt: Added.
        * web-platform-tests/webaudio/the-audio-api/the-audioworklet-interface/audioworklet-registerprocessor-dynamic.https.html: Added.
        * web-platform-tests/webaudio/the-audio-api/the-audioworklet-interface/audioworkletnode-constructor-options.https-expected.txt:
        * web-platform-tests/webaudio/the-audio-api/the-audioworklet-interface/processors/dynamic-register-processor.js: Added.
        (ProcessorA.prototype.process):
        (ProcessorA):
        (ProcessorB):
        (ProcessorB.prototype.process):
        * web-platform-tests/webaudio/the-audio-api/the-audioworklet-interface/processors/w3c-import.log:
        * web-platform-tests/webaudio/the-audio-api/the-audioworklet-interface/w3c-import.log:
        * web-platform-tests/webaudio/the-audio-api/the-biquadfilternode-interface/biquad-basic-expected.txt:
        * web-platform-tests/webaudio/the-audio-api/the-biquadfilternode-interface/ctor-biquadfilter-expected.txt:
        * web-platform-tests/webaudio/the-audio-api/the-channelsplitternode-interface/ctor-channelsplitter-expected.txt:
        * web-platform-tests/webaudio/the-audio-api/the-channelsplitternode-interface/ctor-channelsplitter.html:
        * web-platform-tests/webaudio/the-audio-api/the-delaynode-interface/ctor-delay-expected.txt:
        * web-platform-tests/webaudio/the-audio-api/the-gainnode-interface/ctor-gain-expected.txt:
        * web-platform-tests/webaudio/the-audio-api/the-iirfilternode-interface/ctor-iirfilter-expected.txt:
        * web-platform-tests/webaudio/the-audio-api/the-mediastreamaudiodestinationnode-interface/ctor-mediastreamaudiodestination-expected.txt:
        * web-platform-tests/webaudio/the-audio-api/the-offlineaudiocontext-interface/ctor-offlineaudiocontext-expected.txt:
        * web-platform-tests/webaudio/the-audio-api/the-oscillatornode-interface/ctor-oscillator-expected.txt:
        * web-platform-tests/webaudio/the-audio-api/the-waveshapernode-interface/ctor-waveshaper-expected.txt:

2021-07-13  Alex Christensen  <achristensen@webkit.org>

        Update and fix URL WPT tests
        https://bugs.webkit.org/show_bug.cgi?id=227820

        Reviewed by Chris Dumez.

        * web-platform-tests/url/failure-expected.txt:
        * web-platform-tests/url/resources/a-element-origin.js:
        (runURLTests):
        * web-platform-tests/url/resources/a-element.js:
        (runURLTests):
        * web-platform-tests/url/resources/setters_tests.json:
        * web-platform-tests/url/resources/urltestdata.json:
        * web-platform-tests/url/url-constructor.any-expected.txt:
        * web-platform-tests/url/url-constructor.any.js:
        (bURL):
        * web-platform-tests/url/url-constructor.any.worker-expected.txt:
        * web-platform-tests/url/url-origin.any.js:
        (bURL):
        * web-platform-tests/url/url-setters-a-area.window-expected.txt:
        * web-platform-tests/url/url-setters.any-expected.txt:
        * web-platform-tests/url/url-setters.any.worker-expected.txt:

2021-07-13  Chris Dumez  <cdumez@apple.com>

        Resync webmessaging WPT tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227919

        Reviewed by Geoffrey Garen.

        Resync webmessaging WPT tests from upstream 42c571ee2ec9742f0c46ca.

        * resources/resource-files.json:
        * web-platform-tests/webmessaging/*: Updated.

2021-07-13  Chris Dumez  <cdumez@apple.com>

        Revoking Blob URL after calling XMLHttpRequest::open() causes the XHR to fail
        https://bugs.webkit.org/show_bug.cgi?id=227821

        Reviewed by Alex Christensen.

        Rebaseline WPT tests now that more checks are passing.

        * web-platform-tests/FileAPI/url/url-with-xhr.any-expected.txt:
        * web-platform-tests/FileAPI/url/url-with-xhr.any.worker-expected.txt:

2021-07-13  Martin Robinson  <mrobinson@igalia.com>

        RenderLayerScrollableArea::updateScrollPosition assumes that it can scroll to the targeted scroll position
        https://bugs.webkit.org/show_bug.cgi?id=227803

        Reviewed by Simon Fraser.

        * web-platform-tests/css/css-scroll-snap/nested-scrollIntoView-snaps-expected.txt: Update test result to reflect newly passing test.

2021-07-12  Chris Dumez  <cdumez@apple.com>

        Resync content-security-policy web-platform-tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227651

        Reviewed by Sam Weinig.

        Resync content-security-policy web-platform-tests from upstream 2c19d6ee62676ac90146.

        * resources/import-expectations.json:
        * resources/resource-files.json:
        * web-platform-tests/content-security-policy/*: Updated.
        * web-platform-tests/reporting/*: Imported.

2021-07-12  Rob Buis  <rbuis@igalia.com>

        Resync web-platform-tests/css/css-overflow from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227849

        Reviewed by Manuel Rego Casasnovas.

        Import based on 1d6a9a37bc.

        * resources/resource-files.json:
        * web-platform-tests/css/css-overflow/clip-001.html:
        * web-platform-tests/css/css-overflow/clip-002-expected.html: Added.
        * web-platform-tests/css/css-overflow/clip-002.html: Added.
        * web-platform-tests/css/css-overflow/clip-003-expected.html: Added.
        * web-platform-tests/css/css-overflow/clip-003.html: Added.
        * web-platform-tests/css/css-overflow/clip-004-expected.html: Added.
        * web-platform-tests/css/css-overflow/clip-004.html: Added.
        * web-platform-tests/css/css-overflow/clip-005-expected.html: Added.
        * web-platform-tests/css/css-overflow/clip-005.html: Added.
        * web-platform-tests/css/css-overflow/clip-006-expected.html: Added.
        * web-platform-tests/css/css-overflow/clip-006.html: Added.
        * web-platform-tests/css/css-overflow/clip-007-expected.html: Added.
        * web-platform-tests/css/css-overflow/clip-007.html: Added.
        * web-platform-tests/css/css-overflow/dynamic-visible-to-clip-001.html:
        * web-platform-tests/css/css-overflow/incremental-scroll-expected.html: Added.
        * web-platform-tests/css/css-overflow/incremental-scroll.html: Added.
        * web-platform-tests/css/css-overflow/no-scrollable-overflow-vertical-rl-2-expected.html: Added.
        * web-platform-tests/css/css-overflow/no-scrollable-overflow-vertical-rl-2.html: Added.
        * web-platform-tests/css/css-overflow/no-scrollable-overflow-vertical-rl-expected.html: Added.
        * web-platform-tests/css/css-overflow/no-scrollable-overflow-vertical-rl.html: Added.
        * web-platform-tests/css/css-overflow/overflow-body-propagation-007-expected.html: Added.
        * web-platform-tests/css/css-overflow/overflow-body-propagation-007.html: Added.
        * web-platform-tests/css/css-overflow/overflow-body-propagation-008-expected.html: Added.
        * web-platform-tests/css/css-overflow/overflow-body-propagation-008.html: Added.
        * web-platform-tests/css/css-overflow/overflow-body-propagation-009-expected.html: Added.
        * web-platform-tests/css/css-overflow/overflow-body-propagation-009.html: Added.
        * web-platform-tests/css/css-overflow/overflow-body-propagation-010-expected.html: Added.
        * web-platform-tests/css/css-overflow/overflow-body-propagation-010.html: Added.
        * web-platform-tests/css/css-overflow/overflow-body-propagation-011-expected.html: Added.
        * web-platform-tests/css/css-overflow/overflow-body-propagation-011.html: Added.
        * web-platform-tests/css/css-overflow/overflow-clip-001-crash.html: Added.
        * web-platform-tests/css/css-overflow/overflow-clip-002-crash.html: Added.
        * web-platform-tests/css/css-overflow/overflow-clip-cant-scroll-expected.html: Added.
        * web-platform-tests/css/css-overflow/overflow-clip-cant-scroll.html: Added.
        * web-platform-tests/css/css-overflow/overflow-clip-content-visual-overflow-expected.html: Added.
        * web-platform-tests/css/css-overflow/overflow-clip-content-visual-overflow.html: Added.
        * web-platform-tests/css/css-overflow/overflow-clip-hit-testing.html: Added.
        * web-platform-tests/css/css-overflow/overflow-clip-margin-001-expected.html: Added.
        * web-platform-tests/css/css-overflow/overflow-clip-margin-001.html: Added.
        * web-platform-tests/css/css-overflow/overflow-clip-margin-002-expected.html: Added.
        * web-platform-tests/css/css-overflow/overflow-clip-margin-002.html: Added.
        * web-platform-tests/css/css-overflow/overflow-clip-margin-003-expected.html: Added.
        * web-platform-tests/css/css-overflow/overflow-clip-margin-003.html: Added.
        * web-platform-tests/css/css-overflow/overflow-clip-margin-004-expected.html: Added.
        * web-platform-tests/css/css-overflow/overflow-clip-margin-004.html: Added.
        * web-platform-tests/css/css-overflow/overflow-clip-margin-005-expected.html: Added.
        * web-platform-tests/css/css-overflow/overflow-clip-margin-005.html: Added.
        * web-platform-tests/css/css-overflow/overflow-clip-margin-006-expected.html: Added.
        * web-platform-tests/css/css-overflow/overflow-clip-margin-006.html: Added.
        * web-platform-tests/css/css-overflow/overflow-clip-margin-007-expected.html: Added.
        * web-platform-tests/css/css-overflow/overflow-clip-margin-007.html: Added.
        * web-platform-tests/css/css-overflow/overflow-clip-margin-intersection-observer.html: Added.
        * web-platform-tests/css/css-overflow/overflow-clip-margin-invalidation-expected.html: Added.
        * web-platform-tests/css/css-overflow/overflow-clip-margin-invalidation.html: Added.
        * web-platform-tests/css/css-overflow/overflow-clip-scroll-size.html: Added.
        * web-platform-tests/css/css-overflow/overflow-empty-child-box-expected.txt: Added.
        * web-platform-tests/css/css-overflow/overflow-empty-child-box.html: Added.
        * web-platform-tests/css/css-overflow/overflow-hidden-resize-with-stacking-context-child-expected.html: Added.
        * web-platform-tests/css/css-overflow/overflow-hidden-resize-with-stacking-context-child.html: Added.
        * web-platform-tests/css/css-overflow/overflow-negative-margin-dynamic-expected.html: Added.
        * web-platform-tests/css/css-overflow/overflow-negative-margin-dynamic.html: Added.
        * web-platform-tests/css/css-overflow/overflow-negative-margin-expected.html: Added.
        * web-platform-tests/css/css-overflow/overflow-negative-margin.html: Added.
        * web-platform-tests/css/css-overflow/overflow-no-frameset-propagation-expected.html: Added.
        * web-platform-tests/css/css-overflow/overflow-no-frameset-propagation.html: Added.
        * web-platform-tests/css/css-overflow/overflow-padding.html:
        * web-platform-tests/css/css-overflow/overflow-replaced-element-001-expected.txt: Added.
        * web-platform-tests/css/css-overflow/overflow-replaced-element-001.html: Added.
        * web-platform-tests/css/css-overflow/overflow-scroll-resize-visibility-hidden-expected.html: Added.
        * web-platform-tests/css/css-overflow/overflow-scroll-resize-visibility-hidden.html: Added.
        * web-platform-tests/css/css-overflow/parsing/overflow-computed-expected.txt:
        * web-platform-tests/css/css-overflow/parsing/overflow-computed.html:
        * web-platform-tests/css/css-overflow/parsing/scrollbar-gutter-invalid.html:
        * web-platform-tests/css/css-overflow/parsing/scrollbar-gutter-valid.html:
        * web-platform-tests/css/css-overflow/scrollable-overflow-float-expected.txt: Added.
        * web-platform-tests/css/css-overflow/scrollable-overflow-float.html: Added.
        * web-platform-tests/css/css-overflow/scrollable-overflow-self-collapsing-expected.txt: Added.
        * web-platform-tests/css/css-overflow/scrollable-overflow-self-collapsing.html: Added.
        * web-platform-tests/css/css-overflow/scrollable-overflow-textarea-expected.txt: Added.
        * web-platform-tests/css/css-overflow/scrollable-overflow-textarea.html: Added.
        * web-platform-tests/css/css-overflow/scrollable-overflow-transform-001-expected.txt: Added.
        * web-platform-tests/css/css-overflow/scrollable-overflow-transform-001.html: Added.
        * web-platform-tests/css/css-overflow/scrollable-overflow-transform-002-expected.txt: Added.
        * web-platform-tests/css/css-overflow/scrollable-overflow-transform-002.html: Added.
        * web-platform-tests/css/css-overflow/scrollable-overflow-transform-003-expected.txt: Added.
        * web-platform-tests/css/css-overflow/scrollable-overflow-transform-003.html: Added.
        * web-platform-tests/css/css-overflow/scrollable-overflow-transform-dynamic-001-expected.txt: Added.
        * web-platform-tests/css/css-overflow/scrollable-overflow-transform-dynamic-001.html: Added.
        * web-platform-tests/css/css-overflow/scrollable-overflow-transform-dynamic-002-expected.txt: Added.
        * web-platform-tests/css/css-overflow/scrollable-overflow-transform-dynamic-002.html: Added.
        * web-platform-tests/css/css-overflow/scrollable-overflow-transform-dynamic-003-expected.txt: Added.
        * web-platform-tests/css/css-overflow/scrollable-overflow-transform-dynamic-003.html: Added.
        * web-platform-tests/css/css-overflow/scrollable-overflow-transform-dynamic-004-expected.txt: Added.
        * web-platform-tests/css/css-overflow/scrollable-overflow-transform-dynamic-004.html: Added.
        * web-platform-tests/css/css-overflow/scrollable-overflow-transform-dynamic-005-expected.txt: Added.
        * web-platform-tests/css/css-overflow/scrollable-overflow-transform-dynamic-005.html: Added.
        * web-platform-tests/css/css-overflow/scrollable-overflow-transform-dynamic-006-expected.txt: Added.
        * web-platform-tests/css/css-overflow/scrollable-overflow-transform-dynamic-006.html: Added.
        * web-platform-tests/css/css-overflow/scrollbar-gutter-001.html: Added.
        * web-platform-tests/css/css-overflow/scrollbar-gutter-propagation-001.html: Added.
        * web-platform-tests/css/css-overflow/scrollbar-gutter-propagation-002.html: Added.
        * web-platform-tests/css/css-overflow/scrollbar-gutter-propagation-003.html: Added.
        * web-platform-tests/css/css-overflow/scrollbar-gutter-propagation-004.html: Added.
        * web-platform-tests/css/css-overflow/scrollbar-gutter-propagation-005.html: Added.
        * web-platform-tests/css/css-overflow/scrollbar-gutter-propagation-006.html: Added.
        * web-platform-tests/css/css-overflow/scrollbar-gutter-propagation-007.html: Added.
        * web-platform-tests/css/css-overflow/scrollbar-gutter-rtl-001.html: Added.
        * web-platform-tests/css/css-overflow/scrollbar-gutter-vertical-lr-001.html: Added.
        * web-platform-tests/css/css-overflow/scrollbar-gutter-vertical-rl-001.html: Added.
        * web-platform-tests/css/css-overflow/w3c-import.log:
        * web-platform-tests/css/css-overflow/webkit-line-clamp-036-expected.html: Added.
        * web-platform-tests/css/css-overflow/webkit-line-clamp-036.html: Added.
        * web-platform-tests/css/css-overflow/webkit-line-clamp-037-expected.html: Added.
        * web-platform-tests/css/css-overflow/webkit-line-clamp-037.html: Added.
        * web-platform-tests/css/css-overflow/webkit-line-clamp-dynamic-001-expected.html: Added.
        * web-platform-tests/css/css-overflow/webkit-line-clamp-dynamic-001.html: Added.

2021-07-11  Chris Dumez  <cdumez@apple.com>

        :link and :visited pseudo-class selectors should not match <link> elements
        https://bugs.webkit.org/show_bug.cgi?id=227847

        Reviewed by Sam Weinig.

        Rebaseline WPT tests now that more checks are passing.

        * web-platform-tests/dom/nodes/ParentNode-querySelector-All-expected.txt:
        * web-platform-tests/dom/nodes/ParentNode-querySelector-All-xht-expected.txt:
        * web-platform-tests/html/semantics/selectors/pseudo-classes/link-expected.txt:

2021-07-11  Chris Dumez  <cdumez@apple.com>

        XMLSerializer.serializeToString() doesn't properly escape \n, \n and \t
        https://bugs.webkit.org/show_bug.cgi?id=227844

        Reviewed by Darin Adler.

        Rebaseline WPT test now that one more subtest is passing.

        * web-platform-tests/domparsing/XMLSerializer-serializeToString-expected.txt:

2021-07-10  Chris Dumez  <cdumez@apple.com>

        document.readyState should be "complete" after calling DOMParser.parseFromString()
        https://bugs.webkit.org/show_bug.cgi?id=227846

        Reviewed by Ryosuke Niwa.

        Rebaseline WPT test that is now passing.

        * web-platform-tests/domparsing/xmldomparser-expected.txt:

2021-07-10  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r279803.
        https://bugs.webkit.org/show_bug.cgi?id=227850

        Introduce many crashes on AS-mac Debug bot

        Reverted changeset:

        "document.readyState should be "complete" after calling
        DOMParser.parseFromString()"
        https://bugs.webkit.org/show_bug.cgi?id=227846
        https://commits.webkit.org/r279803

2021-07-09  Chris Dumez  <cdumez@apple.com>

        document.readyState should be "complete" after calling DOMParser.parseFromString()
        https://bugs.webkit.org/show_bug.cgi?id=227846

        Reviewed by Ryosuke Niwa.

        Rebaseline WPT test that is now passing.

        * web-platform-tests/domparsing/xmldomparser-expected.txt:

2021-07-09  Chris Dumez  <cdumez@apple.com>

        [WebCrypto] deriveBits() incorrectly throws for PBKDF2 algorithm when the password is empty
        https://bugs.webkit.org/show_bug.cgi?id=227810

        Reviewed by Yusuke Suzuki.

        Rebaseline WPT tests that are now passing.

        * web-platform-tests/WebCryptoAPI/derive_bits_keys/pbkdf2.https.any-expected.txt:
        * web-platform-tests/WebCryptoAPI/derive_bits_keys/pbkdf2.https.any.worker-expected.txt:

2021-07-09  Yusuke Suzuki  <ysuzuki@apple.com>

        Add BigInt64Array and BigUint64Array support to crypto.getRandomValues
        https://bugs.webkit.org/show_bug.cgi?id=227611

        Reviewed by Chris Dumez.

        Resync web-platform-tests/WebCryptoAPI/ directory.

        * web-platform-tests/WebCryptoAPI/digest/test_digest-expected.txt: Removed.
        * web-platform-tests/WebCryptoAPI/encrypt_decrypt/test_aes_cbc-expected.txt: Removed.
        * web-platform-tests/WebCryptoAPI/encrypt_decrypt/test_aes_gcm-expected.txt: Removed.
        * web-platform-tests/WebCryptoAPI/encrypt_decrypt/test_rsa_oaep-expected.txt: Removed.
        * web-platform-tests/WebCryptoAPI/getRandomValues-bigint.tentative.any-expected.txt: Added.
        * web-platform-tests/WebCryptoAPI/getRandomValues-bigint.tentative.any.html: Added.
        * web-platform-tests/WebCryptoAPI/getRandomValues-bigint.tentative.any.js: Added.
        (const.array.of.arrays.test):
        * web-platform-tests/WebCryptoAPI/getRandomValues-bigint.tentative.any.worker-expected.txt: Added.
        * web-platform-tests/WebCryptoAPI/getRandomValues-bigint.tentative.any.worker.html: Added.
        * web-platform-tests/WebCryptoAPI/import_export/test_ec_importKey-expected.txt: Removed.
        * web-platform-tests/WebCryptoAPI/import_export/test_symmetric_importKey-expected.txt: Removed.
        * web-platform-tests/WebCryptoAPI/sign_verify/test_ecdsa-expected.txt: Removed.
        * web-platform-tests/WebCryptoAPI/sign_verify/test_hmac-expected.txt: Removed.
        * web-platform-tests/WebCryptoAPI/w3c-import.log:

2021-07-08  Yusuke Suzuki  <ysuzuki@apple.com>

        Fix StructuredClone for streams to handle BigInt64Array / BigUint64Array
        https://bugs.webkit.org/show_bug.cgi?id=227571

        Reviewed by Chris Dumez.

        * resources/import-expectations.json:
        * web-platform-tests/FileAPI/blob/Blob-constructor.any-expected.txt:
        * web-platform-tests/FileAPI/blob/Blob-constructor.any.js:
        (test_blob):
        * web-platform-tests/FileAPI/blob/Blob-constructor.any.worker-expected.txt:
        * web-platform-tests/encoding/encodeInto.any-expected.txt:
        * web-platform-tests/encoding/encodeInto.any.js:
        (string_appeared_here.forEach.type.string_appeared_here.forEach):
        (Float64Array.forEach.view.string_appeared_here.forEach): Deleted.
        * web-platform-tests/encoding/encodeInto.any.worker-expected.txt:
        * web-platform-tests/encoding/w3c-import.log:
        * web-platform-tests/fetch/api/response/response-clone.any-expected.txt:
        * web-platform-tests/fetch/api/response/response-clone.any.js:
        * web-platform-tests/fetch/api/response/response-clone.any.worker-expected.txt:

2021-07-08  Chris Dumez  <cdumez@apple.com>

        [IndexedDB] KeyPath validity checks should happen on the cloned value, not the original one
        https://bugs.webkit.org/show_bug.cgi?id=227813

        Reviewed by Geoffrey Garen.

        Rebaseline WPT test that is now passing.

        * web-platform-tests/IndexedDB/clone-before-keypath-eval-expected.txt:

2021-07-08  Alex Christensen  <achristensen@webkit.org>

        Fix some whitespace handling issues in URL setters
        https://bugs.webkit.org/show_bug.cgi?id=227806

        Reviewed by Chris Dumez.

        * web-platform-tests/url/a-element-expected.txt:
        * web-platform-tests/url/a-element-xhtml-expected.txt:
        * web-platform-tests/url/url-setters-stripping.any-expected.txt:
        * web-platform-tests/url/url-setters-stripping.any.worker-expected.txt:

2021-07-08  Alex Christensen  <achristensen@webkit.org>

        Remove unused URL test expectation files.

        * web-platform-tests/url/historical-expected.txt: Removed.
        * web-platform-tests/url/url-setters-expected.txt: Removed.

2021-07-08  Chris Dumez  <cdumez@apple.com>

        [WebCrypto] deriveBits() fails if length is not a multiple of 8 for ECDH algorithm
        https://bugs.webkit.org/show_bug.cgi?id=227796

        Reviewed by Alex Christensen.

        Rebaseline WPT tests now that more checks are passing.

        * web-platform-tests/WebCryptoAPI/derive_bits_keys/ecdh_bits.https.any-expected.txt:
        * web-platform-tests/WebCryptoAPI/derive_bits_keys/ecdh_bits.https.any.worker-expected.txt:

2021-07-08  Myles C. Maxfield  <mmaxfield@apple.com>

        [GPU Process] Canvas image rendering can render arbitrary DOM content in the GPU process, which is against policy (for now)
        https://bugs.webkit.org/show_bug.cgi?id=227519
        <rdar://problem/76678163>

        Reviewed by Darin Adler.

        * web-platform-tests/html/canvas/element/imagebitmap/createImageBitmap-flipY-expected.txt:

2021-07-07  Chris Dumez  <cdumez@apple.com>

        Our structured cloning implementation does not encode all of RegExp's flags
        https://bugs.webkit.org/show_bug.cgi?id=227779

        Reviewed by Yusuke Suzuki.

        Rebaseline WPT test.

        * web-platform-tests/IndexedDB/structured-clone.any-expected.txt:

2021-07-07  Chris Dumez  <cdumez@apple.com>

        [WebCrypto] Support Elliptic Curve P-521 on Mac
        https://bugs.webkit.org/show_bug.cgi?id=216755
        <rdar://problem/69667220>

        Reviewed by Alex Christensen.

        Rebaseline WPT test now that a lot more checks are passing.

        * web-platform-tests/WebCryptoAPI/derive_bits_keys/ecdh_bits.https.any-expected.txt:
        * web-platform-tests/WebCryptoAPI/derive_bits_keys/ecdh_bits.https.any.worker-expected.txt:
        * web-platform-tests/WebCryptoAPI/derive_bits_keys/ecdh_keys.https.any-expected.txt:
        * web-platform-tests/WebCryptoAPI/derive_bits_keys/ecdh_keys.https.any.worker-expected.txt:
        * web-platform-tests/WebCryptoAPI/generateKey/failures_ECDH.https.any-expected.txt:
        * web-platform-tests/WebCryptoAPI/generateKey/failures_ECDH.https.any.worker-expected.txt:
        * web-platform-tests/WebCryptoAPI/generateKey/failures_ECDSA.https.any-expected.txt:
        * web-platform-tests/WebCryptoAPI/generateKey/failures_ECDSA.https.any.worker-expected.txt:
        * web-platform-tests/WebCryptoAPI/generateKey/successes_ECDH.https.any-expected.txt:
        * web-platform-tests/WebCryptoAPI/generateKey/successes_ECDH.https.any.worker-expected.txt:
        * web-platform-tests/WebCryptoAPI/generateKey/successes_ECDSA.https.any-expected.txt:
        * web-platform-tests/WebCryptoAPI/generateKey/successes_ECDSA.https.any.worker-expected.txt:
        * web-platform-tests/WebCryptoAPI/import_export/ec_importKey.https.any-expected.txt:
        * web-platform-tests/WebCryptoAPI/import_export/ec_importKey.https.any.worker-expected.txt:
        * web-platform-tests/WebCryptoAPI/sign_verify/ecdsa.https.any-expected.txt:
        * web-platform-tests/WebCryptoAPI/sign_verify/ecdsa.https.any.worker-expected.txt:

2021-07-07  Chris Dumez  <cdumez@apple.com>

        [IndexedDB] Transaction should be inactive during structured clone
        https://bugs.webkit.org/show_bug.cgi?id=227773

        Reviewed by Geoffrey Garen.

        Rebaseline WPT tests now that more checks are passing.

        * web-platform-tests/IndexedDB/structured-clone-transaction-state.any-expected.txt:
        * web-platform-tests/IndexedDB/structured-clone-transaction-state.any.worker-expected.txt:

2021-07-07  Chris Dumez  <cdumez@apple.com>

        IDBObjectStore.keyPath should keep returning the same object
        https://bugs.webkit.org/show_bug.cgi?id=227770

        Reviewed by Darin Adler.

        Rebaseline WPT tests that are now passing.

        * web-platform-tests/IndexedDB/idbobjectstore_keyPath.any-expected.txt:
        * web-platform-tests/IndexedDB/idbobjectstore_keyPath.any.worker-expected.txt:

2021-07-07  Alex Christensen  <achristensen@webkit.org>

        DOMURL's href setter should use empty URL as base URL
        https://bugs.webkit.org/show_bug.cgi?id=227772

        Reviewed by Yusuke Suzuki.

        * web-platform-tests/url/historical.any-expected.txt:
        * web-platform-tests/url/historical.any.worker-expected.txt:

2021-07-07  Alex Christensen  <achristensen@webkit.org>

        URL host setter should pass host to URLParser instead of trying to encode it itself
        https://bugs.webkit.org/show_bug.cgi?id=227749

        Reviewed by Chris Dumez.

        * web-platform-tests/url/url-setters-a-area.window-expected.txt:
        * web-platform-tests/url/url-setters.any-expected.txt:
        * web-platform-tests/url/url-setters.any.worker-expected.txt:

2021-07-07  Chris Dumez  <cdumez@apple.com>

        IDBIndex.keyPath should keep returning the same object
        https://bugs.webkit.org/show_bug.cgi?id=227758

        Reviewed by Geoffrey Garen.

        Rebaseline WPT tests that are now passing.

        * web-platform-tests/IndexedDB/idbindex_keyPath.any-expected.txt:
        * web-platform-tests/IndexedDB/idbindex_keyPath.any.worker-expected.txt:

2021-07-07  Alex Christensen  <achristensen@webkit.org>

        Allow setting empty hosts of URLs with non-special schemes
        https://bugs.webkit.org/show_bug.cgi?id=227752

        Reviewed by Chris Dumez.

        * web-platform-tests/url/url-setters-a-area.window-expected.txt:
        * web-platform-tests/url/url-setters.any-expected.txt:
        * web-platform-tests/url/url-setters.any.worker-expected.txt:

2021-07-07  Alex Christensen  <achristensen@webkit.org>

        URL path setter should add "./" before non-empty path and after empty host for URLs with non-special schemes
        https://bugs.webkit.org/show_bug.cgi?id=227750

        Reviewed by Chris Dumez.

        * web-platform-tests/url/url-setters-a-area.window-expected.txt:
        * web-platform-tests/url/url-setters.any-expected.txt:
        * web-platform-tests/url/url-setters.any.worker-expected.txt:

2021-07-07  Chris Dumez  <cdumez@apple.com>

        REGRESSION (r279427): [ Mac wk2 ] imported/w3c/web-platform-tests/html/semantics/scripting-1/the-script-element/css-module/import-css-module-basic.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=227730
        <rdar://problem/80240658>

        Unreviewed, address flakiness of test by silencing console logging.

        * web-platform-tests/html/semantics/scripting-1/the-script-element/css-module/import-css-module-basic-expected.txt:

2021-07-07  Alex Christensen  <achristensen@webkit.org>

        Update URL test expectations
        https://bugs.webkit.org/show_bug.cgi?id=172337

        * web-platform-tests/url/failure-expected.txt:

2021-07-06  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r279546, r279554, r279558 and r279567.
        https://bugs.webkit.org/show_bug.cgi?id=227732

        Speedometer/jQuery-TodoMVC 2-3% regression

        Reverted changesets:

        "[WebIDL] Rework runtime enabled properties leveraging
        PropertyCallback"
        https://bugs.webkit.org/show_bug.cgi?id=227275
        https://commits.webkit.org/r279546

        "[WebIDL] Generate constructor's hash table in
        GenerateConstructorHelperMethods"
        https://bugs.webkit.org/show_bug.cgi?id=227668
        https://commits.webkit.org/r279554

        "[WebIDL] Simplify generation of runtime conditionally read-
        write attributes"
        https://bugs.webkit.org/show_bug.cgi?id=227672
        https://commits.webkit.org/r279558

        "Use AbortSignal's [PrivateIdentifier] whenSignalAborted()
        static method"
        https://bugs.webkit.org/show_bug.cgi?id=227673
        https://commits.webkit.org/r279567

2021-07-06  Youenn Fablet  <youenn@apple.com>

        Unable to use 'data:application/javascript' url for Worker
        https://bugs.webkit.org/show_bug.cgi?id=225716
        <rdar://problem/78222538>

        Reviewed by Alex Christensen.

        * web-platform-tests/fetch/api/cors/data-url-worker-expected.txt:
        * web-platform-tests/html/cross-origin-embedder-policy/cross-origin-isolated-permission.https-expected.txt:
        * web-platform-tests/html/webappapis/the-windoworworkerglobalscope-mixin/Worker_Self_Origin-expected.txt:
        * web-platform-tests/service-workers/service-worker/local-url-inherit-controller.https-expected.txt:
        * web-platform-tests/workers/Worker_script_mimetype-expected.txt:
        * web-platform-tests/workers/constructors/Worker/same-origin-expected.txt:
        * web-platform-tests/workers/data-url-expected.txt:
        * web-platform-tests/workers/dedicated-worker-in-data-url-context.window-expected.txt:
        * web-platform-tests/workers/modules/dedicated-worker-import-data-url-cross-origin-expected.txt:
        * web-platform-tests/workers/modules/dedicated-worker-import-data-url.any-expected.txt:

2021-07-06  Chris Dumez  <cdumez@apple.com>

        Resync cookies web-platform-tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227641

        Reviewed by Darin Adler.

        Resync cookies web-platform-tests from upstream 2c19d6ee62676ac90146.

        * resources/import-expectations.json:
        * web-platform-tests/cookies/*: Updated.

2021-07-06  Antti Koivisto  <antti@apple.com>

        Import basic :has() tests
        https://bugs.webkit.org/show_bug.cgi?id=227703

        Reviewed by Alan Bujtas.

        Along with some other updates to css/selectors.

        * web-platform-tests/css/selectors/focus-visible-022.tentative-expected.txt: Added.
        * web-platform-tests/css/selectors/focus-visible-022.tentative.html: Added.
        * web-platform-tests/css/selectors/has-basic-expected.txt: Added.
        * web-platform-tests/css/selectors/has-basic.html: Added.
        * web-platform-tests/css/selectors/has-relative-argument-expected.txt: Added.
        * web-platform-tests/css/selectors/has-relative-argument.html: Added.
        * web-platform-tests/css/selectors/is-where-parsing-expected.txt:
        * web-platform-tests/css/selectors/is-where-parsing.html:
        * web-platform-tests/css/selectors/parsing/parse-has-expected.txt: Added.
        * web-platform-tests/css/selectors/parsing/parse-has.html: Added.
        * web-platform-tests/css/selectors/parsing/w3c-import.log:
        * web-platform-tests/css/selectors/user-invalid.html:
        * web-platform-tests/css/selectors/user-valid-expected.txt: Added.
        * web-platform-tests/css/selectors/user-valid.html: Added.
        * web-platform-tests/css/selectors/w3c-import.log:

2021-07-05  Cameron McCormack  <heycam@apple.com>

        Move some Mac MathML test expectation files around
        https://bugs.webkit.org/show_bug.cgi?id=227520
        <rdar://79749198>

        Reviewed by Frédéric Wang.

        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-combining-expected.txt:
        * web-platform-tests/mathml/relations/css-styling/padding-border-margin/border-002-expected.txt:
        Make the macOS expectation file the default for these tests.

2021-07-05  Alexey Shvayka  <shvaikalesh@gmail.com>

        Use AbortSignal's [PrivateIdentifier] whenSignalAborted() static method
        https://bugs.webkit.org/show_bug.cgi?id=227673

        Reviewed by Youenn Fablet.

        * web-platform-tests/streams/piping/abort.any-expected.txt:
        * web-platform-tests/streams/piping/abort.any.worker-expected.txt:
        * web-platform-tests/streams/piping/pipe-through.any-expected.txt:
        * web-platform-tests/streams/piping/pipe-through.any.worker-expected.txt:

2021-07-04  Rob Buis  <rbuis@igalia.com>

        Resync web-platform-tests/css/css-sizing/aspect-ratio from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227657

        Reviewed by Sam Weinig.

        Resync web-platform-tests/css/css-sizing/aspect-ratio from upstream c21b0b8ca7.

        * web-platform-tests/css/css-sizing/aspect-ratio/flex-aspect-ratio-025.html:
        * web-platform-tests/css/css-sizing/aspect-ratio/flex-aspect-ratio-026.html:
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-020.html:
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-021.html:
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-028-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-028.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-029-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-029.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-030-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-030.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-031-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-031.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-032-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-032.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-033-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-033.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-034-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-034.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-035-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-035.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-036-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-036.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-037-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-037.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-038-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-038.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/select-element-001-expected.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/select-element-001.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/w3c-import.log:

2021-07-03  Carlos Alberto Lopez Perez  <clopez@igalia.com>

        [GTK][WPE] Gardening of expected failures and update list of baselines.

        - Rebase WPT tests after recent updates (see r279516 or r279202)
        - Generate new expectations after r279427

        Unreviewed gardening.

        * web-platform-tests/fetch/api/headers/header-values-expected.txt: Removed.
        * web-platform-tests/fetch/api/redirect/redirect-count-expected.txt: Removed.
        * web-platform-tests/html/canvas/offscreen/fill-and-stroke-styles/2d.fillStyle.CSSHSL-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/fill-and-stroke-styles/2d.fillStyle.toStringFunctionCallback-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/fill-and-stroke-styles/2d.fillStyle.toStringFunctionCallback.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/fill-and-stroke-styles/2d.gradient.conic.invalid.inputs-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/fill-and-stroke-styles/2d.gradient.conic.invalid.inputs.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/fill-and-stroke-styles/2d.gradient.conic.negative.rotation-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/fill-and-stroke-styles/2d.gradient.conic.negative.rotation.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/fill-and-stroke-styles/2d.gradient.conic.positive.rotation-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/fill-and-stroke-styles/2d.gradient.conic.positive.rotation.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/filters/2d.filter.canvasFilterObject-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/filters/2d.filter.canvasFilterObject.blur.exceptions-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/filters/2d.filter.canvasFilterObject.blur.exceptions.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/filters/2d.filter.canvasFilterObject.colorMatrix-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/filters/2d.filter.canvasFilterObject.colorMatrix.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/filters/2d.filter.canvasFilterObject.componentTransfer.discrete-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/filters/2d.filter.canvasFilterObject.componentTransfer.discrete.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/filters/2d.filter.canvasFilterObject.componentTransfer.gamma-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/filters/2d.filter.canvasFilterObject.componentTransfer.gamma.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/filters/2d.filter.canvasFilterObject.componentTransfer.identity-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/filters/2d.filter.canvasFilterObject.componentTransfer.identity.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/filters/2d.filter.canvasFilterObject.componentTransfer.linear-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/filters/2d.filter.canvasFilterObject.componentTransfer.linear.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/filters/2d.filter.canvasFilterObject.componentTransfer.table-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/filters/2d.filter.canvasFilterObject.componentTransfer.table.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/filters/2d.filter.canvasFilterObject.convolveMatrix.exceptions-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/filters/2d.filter.canvasFilterObject.convolveMatrix.exceptions.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/filters/2d.filter.canvasFilterObject.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.1.radius.dompoint-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.1.radius.dompoint.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.1.radius.double-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.1.radius.double.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.2.radii.1.dompoint-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.2.radii.1.dompoint.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.2.radii.1.double-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.2.radii.1.double.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.2.radii.2.dompoint-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.2.radii.2.dompoint.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.2.radii.2.double-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.2.radii.2.double.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.3.radii.1.dompoint-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.3.radii.1.dompoint.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.3.radii.1.double-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.3.radii.1.double.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.3.radii.2.dompoint-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.3.radii.2.dompoint.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.3.radii.2.double-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.3.radii.2.double.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.3.radii.3.dompoint-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.3.radii.3.dompoint.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.3.radii.3.double-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.3.radii.3.double.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.4.radii.1.dompoint-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.4.radii.1.dompoint.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.4.radii.1.double-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.4.radii.1.double.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.4.radii.2.dompoint-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.4.radii.2.dompoint.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.4.radii.2.double-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.4.radii.2.double.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.4.radii.3.dompoint-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.4.radii.3.dompoint.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.4.radii.3.double-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.4.radii.3.double.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.4.radii.4.dompoint-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.4.radii.4.dompoint.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.4.radii.4.double-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.4.radii.4.double.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.closed-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.closed.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.end.1-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.end.1.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.end.2-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.end.2.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.end.3-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.end.3.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.end.4-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.end.4.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.negative-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.negative.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.newsubpath-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.newsubpath.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.nonfinite-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.nonfinite.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.radius.intersecting.1-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.radius.intersecting.1.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.radius.intersecting.2-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.radius.intersecting.2.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.radius.none-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.radius.none.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.radius.toomany-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.radius.toomany.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.selfintersect-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.selfintersect.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.winding-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.winding.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.zero.1-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.zero.1.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.zero.2-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.zero.2.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.zero.3-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.zero.3.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.zero.4-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.zero.4.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.zero.5-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.zero.5.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.zero.6-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/path-objects/2d.path.roundrect.zero.6.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/text/2d.text.drawing.style.measure.direction-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/text/2d.text.drawing.style.measure.direction.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/text/2d.text.drawing.style.measure.rtl.text-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/text/2d.text.drawing.style.measure.rtl.text.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/text/2d.text.drawing.style.measure.textAlign-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/text/2d.text.drawing.style.measure.textAlign.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/text/2d.text.drawing.style.nonfinite.spacing-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/text/2d.text.drawing.style.nonfinite.spacing.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/transformations/2d.transformation.combined.3d.transforms-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/transformations/2d.transformation.combined.3d.transforms.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/transformations/2d.transformation.rotate3d-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/transformations/2d.transformation.rotate3d.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/transformations/2d.transformation.rotate3d.x-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/transformations/2d.transformation.rotate3d.x.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/transformations/2d.transformation.rotate3d.y-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/transformations/2d.transformation.rotate3d.y.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/transformations/2d.transformation.rotate3d.z-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/transformations/2d.transformation.rotate3d.z.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/transformations/2d.transformation.rotateAxis-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/transformations/2d.transformation.rotateAxis.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/transformations/2d.transformation.scale.3d-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/transformations/2d.transformation.scale.3d.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/transformations/2d.transformation.setTransform.3d-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/transformations/2d.transformation.setTransform.3d.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/transformations/2d.transformation.transform.3d-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/transformations/2d.transformation.transform.3d.worker-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/transformations/2d.transformation.translate.3d-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/transformations/2d.transformation.translate.3d.worker-expected.txt: Added.

2021-07-02  Chris Dumez  <cdumez@apple.com>

        Resync WebCryptoAPI web-platform-tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227601

        Reviewed by Geoffrey Garen.

        Resync WebCryptoAPI web-platform-tests from upstream 2c19d6ee62676ac90146.

        * web-platform-tests/WebCryptoAPI/*: Updated.

2021-07-02  Chris Dumez  <cdumez@apple.com>

        Resync encoding web-platform-tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227602

        Reviewed by Alex Christensen.

        Resync encoding web-platform-tests from upstream 2c19d6ee62676ac90146.

        * web-platform-tests/encoding/*: Updated.

2021-06-30  Darin Adler  <darin@apple.com>

        CSS parser using a token for Unicode ranges, but recent CSS specification says it should not
        https://bugs.webkit.org/show_bug.cgi?id=227569

        Reviewed by Sam Weinig.

        * web-platform-tests/css/css-syntax/unicode-range-selector-expected.txt:
        * web-platform-tests/css/css-syntax/urange-parsing-expected.txt:
        Expect passes instead of fails.

2021-07-01  Alex Christensen  <achristensen@webkit.org>

        Align beacon CORS mode with Chrome and Firefox
        https://bugs.webkit.org/show_bug.cgi?id=227590

        Reviewed by Chris Dumez.

        * web-platform-tests/beacon/beacon-cors.https.window-expected.txt:

2021-07-01  Youenn Fablet  <youenn@apple.com>

        ReadableStream.getReader do not throw a proper exception when parameter is of wrong type
        https://bugs.webkit.org/show_bug.cgi?id=226220
        <rdar://problem/78711382>

        Reviewed by Chris Dumez.

        * web-platform-tests/streams/readable-streams/default-reader.any-expected.txt:
        * web-platform-tests/streams/readable-streams/default-reader.any.worker-expected.txt:
        * web-platform-tests/streams/readable-streams/general.any-expected.txt:
        * web-platform-tests/streams/readable-streams/general.any.worker-expected.txt:
        * web-platform-tests/streams/readable-streams/templated.any-expected.txt:
        * web-platform-tests/streams/readable-streams/templated.any.worker-expected.txt:

2021-07-01  Youenn Fablet  <youenn@apple.com>

        [Cocoa] Migrate WebRTC UDP socket handling to NW API
        https://bugs.webkit.org/show_bug.cgi?id=227210

        Reviewed by Eric Carlson.

        Rebasing tests as timing changes a bit.
        This aligns with Chrome and Firefox behavior.

        * web-platform-tests/webrtc/no-media-call-expected.txt:
        * web-platform-tests/webrtc/promises-call-expected.txt:

2021-07-01  Emilio Cobos Álvarez  <emilio@crisal.io>

        Support unprefixed :autofill pseudo-class.
        https://bugs.webkit.org/show_bug.cgi?id=220459

        Reviewed by Antti Koivisto.

        * web-platform-tests/html/semantics/selectors/pseudo-classes/autofill-expected.txt: Test passes now

2021-06-30  Chris Dumez  <cdumez@apple.com>

        REGRESSION (r279427) [ Mac ] imported/w3c/web-platform-tests/html/semantics/scripting-1/the-script-element/css-module/integrity.html is failing
        https://bugs.webkit.org/show_bug.cgi?id=227557
        <rdar://problem/79993241>

        Unreviewed, silence console logging to address test flakiness.

        * web-platform-tests/html/semantics/scripting-1/the-script-element/css-module/integrity-expected.txt:

2021-06-30  Truitt Savell  <tsavell@apple.com>

        Update test expectations for imported/w3c/web-platform-tests/html/rendering/non-replaced-elements/flow-content-0/dialog.html after the changes in r279427
        https://bugs.webkit.org/show_bug.cgi?id=227553

        Unreviewed test gardening.

        * web-platform-tests/html/rendering/non-replaced-elements/flow-content-0/dialog-expected.txt:

2021-06-30  Truitt Savell  <tsavell@apple.com>

        Unreviewed, reverting r279405.

        Casued 50+ webrtc crashes on Big Sur Debug

        Reverted changeset:

        "[Cocoa] Migrate WebRTC UDP socket handling to NW API"
        https://bugs.webkit.org/show_bug.cgi?id=227210
        https://commits.webkit.org/r279405

2021-06-30  Darin Adler  <darin@apple.com>

        CSS specification prohibits numbers with trailing decimal point (e.g. "1.px"), but we allow them
        https://bugs.webkit.org/show_bug.cgi?id=227517

        Reviewed by Sam Weinig.

        * web-platform-tests/css/css-syntax/decimal-points-in-numbers-expected.txt:
        Expect a pass instead of a fail.

2021-06-30  Chris Dumez  <cdumez@apple.com>

        Resync html WPT tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227460

        Reviewed by Sam Weinig.

        Resync html WPT tests from upstream a38612f39e7752c3532.

        * resources/resource-files.json:
        * web-platform-tests/html/*: Updated.

2021-06-30  Chris Dumez  <cdumez@apple.com>

        Resync workers WPT tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227512

        Reviewed by Sam Weinig.

        Resync workers WPT tests from upstream a38612f39e7752c353208.

        * resources/resource-files.json:
        * web-platform-tests/workers/*: Updated.

2021-06-30  Tim Nguyen  <ntim@apple.com>

        Add modal dialog UA styles
        https://bugs.webkit.org/show_bug.cgi?id=226175

        Reviewed by Antti Koivisto.

        This adds an :-internal-modal-dialog pseudo class and a test to make sure it does not leak.

        This improves WPT results a lot and expectations have been updated. Some tests start failing,
        but those are mainly top-layer related (which isn't implemented yet).

        * web-platform-tests/html/rendering/non-replaced-elements/flow-content-0/dialog-expected.txt:
        * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/abspos-dialog-layout-expected.txt:
        * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/centering-expected.txt:

2021-06-30  Tim Nguyen  <ntim@apple.com>

        Re-import html/semantics/interactive-elements/the-dialog-element WPT
        https://bugs.webkit.org/show_bug.cgi?id=227523

        Reviewed by Antti Koivisto.

        WPT Revision: https://github.com/web-platform-tests/wpt/commit/616577e3962171d2ffe41472e13f6353e6ea43ef

        * resources/import-expectations.json:
        * resources/resource-files.json:
        * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/abspos-dialog-layout-expected.txt:
        * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/abspos-dialog-layout.html:
        * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/centering-expected.txt:
        * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/centering-iframe.sub.html:
        * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/centering.html:
        * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-audio-video-crash.html: Added.
        * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-form-submission-expected.txt:
        * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-form-submission.html:
        * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-not-in-tree-crash.html: Added.
        * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-scrolled-viewport-expected.txt: Removed.
        * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-scrolled-viewport.html: Removed.
        * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/focus-after-close-expected.txt: Added.
        * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/focus-after-close.html: Added.
        * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/w3c-import.log:

2021-06-30  Tim Nguyen  <ntim@apple.com>

        Implement support for <dialog> element close event
        https://bugs.webkit.org/show_bug.cgi?id=227493

        Reviewed by Antti Koivisto.

        With this change, the m_isOpen flag of HTMLDialogElement is only changed on attribute change, so attribute changes can
        be detected more easily to fire this new "close" event.

        Test: web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-close.html
        Adjusted existing test expectations for new `close` event.

        * web-platform-tests/html/browsers/the-window-object/security-window/window-security.https-expected.txt:
        * web-platform-tests/html/browsers/the-window-object/window-properties.https-expected.txt:
        * web-platform-tests/html/dom/idlharness.https-expected.txt:
        * web-platform-tests/mathml/relations/html5-tree/math-global-event-handlers.tentative-expected.txt:
        * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-close-expected.txt:
        * web-platform-tests/html/webappapis/scripting/events/event-handler-all-global-events-expected.txt:
        * web-platform-tests/html/webappapis/scripting/events/event-handler-attributes-body-window-expected.txt:
        * web-platform-tests/html/webappapis/scripting/events/event-handler-attributes-windowless-body-expected.txt:

2021-06-30  Youenn Fablet  <youenn@apple.com>

        [Cocoa] Migrate WebRTC UDP socket handling to NW API
        https://bugs.webkit.org/show_bug.cgi?id=227210

        Reviewed by Eric Carlson.

        Rebasing tests as timing changes a bit.
        This aligns with Chrome and Firefox behavior.

        * web-platform-tests/webrtc/no-media-call-expected.txt:
        * web-platform-tests/webrtc/promises-call-expected.txt:

2021-06-29  Tim Nguyen  <ntim@apple.com>

        Implement form[method=dialog]
        https://bugs.webkit.org/show_bug.cgi?id=226172

        Reviewed by Chris Dumez.

        Marked relevant WPT as pass & unskipped relevant test.

        * web-platform-tests/html/dom/reflection-forms-expected.txt:
        * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-form-submission-expected.txt:

2021-06-29  Chris Dumez  <cdumez@apple.com>

        Resync speech-api WPT tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227503

        Reviewed by Sam Weinig.

        Resync speech-api WPT tests from upstream a38612f39e7752c353208.

        * web-platform-tests/speech-api/*: Updated.

2021-06-29  Chris Dumez  <cdumez@apple.com>

        Resync css/cssom WPT tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227506

        Reviewed by Sam Weinig.

        Resync css/cssom WPT tests from upstream a38612f39e7752c353208.

        * resources/resource-files.json:
        * web-platform-tests/css/cssom/*: Updated.

2021-06-29  Johnson Zhou  <qiaosong_zhou@apple.com>

        Encoding specified in the 'charset' attribute should have precedence over 'content' attribute
        https://bugs.webkit.org/show_bug.cgi?id=227464

        Reviewed by Geoffrey Garen. 

        * web-platform-tests/html/syntax/parsing/meta-inhead-insertion-mode-expected.txt:

2021-06-29  Chris Dumez  <cdumez@apple.com>

        Resync service-worker WPT tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227490

        Reviewed by Geoffrey Garen.

        Resync service-worker WPT tests from upstream a38612f39e7752c353208.

        * web-platform-tests/service-workers/*: Updated.

2021-06-29  Chris Dumez  <cdumez@apple.com>

        Resync IDL interfaces from upstream web-platform-tests
        https://bugs.webkit.org/show_bug.cgi?id=227485

        Reviewed by Sam Weinig.

        Resync IDL interfaces from upstream web-platform-tests a38612f39e7752c353208.

        * web-platform-tests/content-security-policy/securitypolicyviolation/idlharness.window-expected.txt:
        * web-platform-tests/css/css-images/idlharness.html:
        * web-platform-tests/css/cssom/idlharness-expected.txt:
        * web-platform-tests/css/cssom/idlharness.html:
        * web-platform-tests/fetch/cors-rfc1918/idlharness.tentative.any-expected.txt: Removed.
        * web-platform-tests/fetch/cors-rfc1918/idlharness.tentative.any.html: Removed.
        * web-platform-tests/fetch/cors-rfc1918/idlharness.tentative.any.js: Removed.
        * web-platform-tests/fetch/cors-rfc1918/idlharness.tentative.any.worker-expected.txt: Removed.
        * web-platform-tests/fetch/cors-rfc1918/idlharness.tentative.any.worker.html: Removed.
        * web-platform-tests/fetch/cors-rfc1918/w3c-import.log: Removed.
        * web-platform-tests/geolocation-API/idlharness.https.window-expected.txt:
        * web-platform-tests/html/dom/idlharness.worker-expected.txt:
        * web-platform-tests/mediacapture-streams/idlharness.https.window-expected.txt:
        * web-platform-tests/mediacapture-streams/idlharness.https.window.js:
        (async idl_array):
        * web-platform-tests/payment-request/idlharness.https.window-expected.txt:
        * web-platform-tests/pointerevents/idlharness.window-expected.txt:
        * web-platform-tests/uievents/idlharness.window-expected.txt:
        * web-platform-tests/wasm/jsapi/idlharness.any-expected.txt:
        * web-platform-tests/wasm/jsapi/idlharness.any.worker-expected.txt:
        Update / rebaseline a few tests due to IDL interface changes.

        * web-platform-tests/interfaces/*: Updated.

2021-06-29  Chris Dumez  <cdumez@apple.com>

        Resync intersection-observer WPT tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227500

        Reviewed by Sam Weinig.

        Resync intersection-observer WPT tests from upstream a38612f39e7752c353208.

        * web-platform-tests/intersection-observer/target-is-root-expected.txt: Added.
        * web-platform-tests/intersection-observer/target-is-root.html: Added.
        * web-platform-tests/intersection-observer/w3c-import.log:

2021-06-29  Darin Adler  <darin@apple.com>

        CSS style sheets loaded by HTMLLinkElement do not fall back correctly when charset is an invalid encoding name
        https://bugs.webkit.org/show_bug.cgi?id=227498

        Reviewed by Sam Weinig.

        * web-platform-tests/css/css-syntax/charset/page-windows-1251-charset-attribute-bogus-expected.txt:
        Expect a pass instead of a fail.

2021-06-29  Alex Christensen  <achristensen@webkit.org>

        xhr.send(URLSearchParams) should align default Content-Type header field with Chrome and Firefox
        https://bugs.webkit.org/show_bug.cgi?id=227477

        Reviewed by Chris Dumez.

        * web-platform-tests/xhr/setrequestheader-content-type-expected.txt:

2021-06-29  Martin Robinson  <mrobinson@igalia.com>

        CSS scroll snap should allow scrolling to the middle of snap areas that overflow the snapport
        https://bugs.webkit.org/show_bug.cgi?id=223021
        <rdar://problem/75518606>

        Reviewed by Simon Fraser.

        * web-platform-tests/css/css-scroll-snap/overflowing-snap-areas-expected.txt: Update test
        expectations to reflect newly passing tests.

2021-06-28  Darin Adler  <darin@apple.com>

        CSS parser "consume declaration" algorithm does not handle whitespace correctly
        https://bugs.webkit.org/show_bug.cgi?id=227368

        Reviewed by Sam Weinig.

        * web-platform-tests/css/css-properties-values-api/at-property-animation-expected.txt:
        * web-platform-tests/css/css-properties-values-api/at-property-expected.txt:
        * web-platform-tests/css/css-properties-values-api/at-property-shadow-expected.txt:
        * web-platform-tests/css/css-properties-values-api/determine-registration-expected.txt:
        * web-platform-tests/css/css-properties-values-api/registered-property-cssom-expected.txt:
        * web-platform-tests/css/css-properties-values-api/var-reference-registered-properties-expected.txt:
        Regenerated to reflect the whitespace trimming: one new pass, no new failures. Some of
        these tests will also need updates to match the newer CSS specification. Not doing those
        here right now.

        * web-platform-tests/css/css-properties-values-api/at-property.html:
        Pulled down a newer version of this test from the WPT repository with expectations in line
        with newer CSS specification.

        * web-platform-tests/css/css-syntax/declarations-trim-whitespace-expected.txt:
        * web-platform-tests/css/css-variables/variable-cssText-expected.txt:
        Expect most tests to pass instead of fail. There are still some failures. Given my reading
        of the CSS specification I suspect it is the tests that are incorrect.

        * web-platform-tests/css/css-variables/variable-definition-expected.txt:
        * web-platform-tests/css/css-variables/variable-definition.html:
        Pulled down a newer version of this test from the WPT repository with expectations in line
        with newer CSS specification. Some tests are still failing because of expectations about
        trailing whitespace. Given my reading of the CSS specification I suspect it is the tests
        that are incorrect.

        * web-platform-tests/css/css-variables/variable-reference-expected.txt:
        * web-platform-tests/css/css-variables/variable-reference.html:
        * web-platform-tests/css/css-variables/variable-substitution-variable-declaration-expected.txt:
        * web-platform-tests/css/css-variables/variable-substitution-variable-declaration.html:
        Pulled down a newer version of these tests from the WPT repository with expectations in
        line with newer CSS specification.

        * web-platform-tests/css/cssom/variable-names-expected.txt: Expect tests to pass, not fail.

2021-06-28  Chris Dumez  <cdumez@apple.com>

        Resync fetch WPT tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227307

        Reviewed by Geoff Garen.

        Resync fetch WPT tests from upstream a38612f39e7752c35320.

        * web-platform-tests/fetch/*: Updated.

2021-06-25  Ziran Sun  <zsun@igalia.com>

        [css-grid] Consider container's writing mode to get grid item's margin
        https://bugs.webkit.org/show_bug.cgi?id=226877

        Reviewed by Sergio Villar Senin.

        Update test results.
  
        * web-platform-tests/css/css-grid/alignment/grid-self-alignment-non-static-positioned-items-008-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-self-alignment-non-static-positioned-items-011-expected.txt:

2021-06-25  Ziran Sun  <zsun@igalia.com>

        Resync web-platform-tests/css/css-grid tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=223593

        Reviewed by Sergio Villar Senin and Manuel Rego Casasnovas.

        * web-platform-tests/css/css-grid/abspos/absolute-positioning-grid-container-parent-002-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/absolute-positioning-grid-container-parent-002.html: Added.
        * web-platform-tests/css/css-grid/abspos/descendant-static-position-004-expected.html:
        * web-platform-tests/css/css-grid/abspos/descendant-static-position-004.html:
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-001-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-001.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-002-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-002.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-img-001-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-img-001.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-img-002-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-img-002.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-img-last-baseline-001-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-img-last-baseline-001.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-img-last-baseline-002-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-img-last-baseline-002.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-last-baseline-001-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-last-baseline-001.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-last-baseline-002-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-last-baseline-002.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-rtl-001-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-rtl-001.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-rtl-002-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-rtl-002.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-rtl-003-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-rtl-003.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-rtl-004-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-rtl-004.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-rtl-last-baseline-001-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-rtl-last-baseline-001.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-rtl-last-baseline-002-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-rtl-last-baseline-002.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-rtl-last-baseline-003-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-rtl-last-baseline-003.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-rtl-last-baseline-004-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-rtl-last-baseline-004.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-safe-001-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-safe-001.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-vertWM-001-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-vertWM-001.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-vertWM-002-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-vertWM-002.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-vertWM-003-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-vertWM-003.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-vertWM-004-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-vertWM-004.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-vertWM-last-baseline-001-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-vertWM-last-baseline-001.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-vertWM-last-baseline-002-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-vertWM-last-baseline-002.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-vertWM-last-baseline-003-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-vertWM-last-baseline-003.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-vertWM-last-baseline-004-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-align-self-vertWM-last-baseline-004.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-001-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-001.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-002-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-002.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-img-001-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-img-001.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-img-002-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-img-002.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-img-last-baseline-001-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-img-last-baseline-001.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-img-last-baseline-002-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-img-last-baseline-002.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-last-baseline-001-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-last-baseline-001.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-last-baseline-002-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-last-baseline-002.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-rtl-001-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-rtl-001.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-rtl-002-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-rtl-002.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-rtl-003-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-rtl-003.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-rtl-004-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-rtl-004.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-rtl-last-baseline-001-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-rtl-last-baseline-001.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-rtl-last-baseline-002-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-rtl-last-baseline-002.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-rtl-last-baseline-003-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-rtl-last-baseline-003.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-rtl-last-baseline-004-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-rtl-last-baseline-004.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-vertWM-001-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-vertWM-001.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-vertWM-002-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-vertWM-002.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-vertWM-003-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-vertWM-003.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-vertWM-004-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-vertWM-004.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-vertWM-last-baseline-001-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-vertWM-last-baseline-001.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-vertWM-last-baseline-002-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-vertWM-last-baseline-002.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-vertWM-last-baseline-003-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-vertWM-last-baseline-003.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-vertWM-last-baseline-004-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-abspos-staticpos-justify-self-vertWM-last-baseline-004.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-positioned-item-dynamic-change-002-expected.xht: Added.
        * web-platform-tests/css/css-grid/abspos/grid-positioned-item-dynamic-change-002.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-positioned-item-dynamic-change-003-expected.xht: Added.
        * web-platform-tests/css/css-grid/abspos/grid-positioned-item-dynamic-change-003.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-positioned-item-dynamic-change-004-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/grid-positioned-item-dynamic-change-004.html: Added.
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-013-expected.txt:
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-015-expected.txt:
        * web-platform-tests/css/css-grid/abspos/positioned-grid-items-018-expected.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/grid-item-percentage-quirk-002-expected.html.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-items-018.html: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-items-019-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-items-019.html: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-items-020-expected.xht: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-items-020.html: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-items-021-expected.xht: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-items-021.html: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-items-022-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-items-022.html: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-items-negative-indices-001-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-items-negative-indices-001.html: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-items-negative-indices-002-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-items-negative-indices-002.html: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-items-negative-indices-003-expected.html: Added.
        * web-platform-tests/css/css-grid/abspos/positioned-grid-items-negative-indices-003.html: Added.
        * web-platform-tests/css/css-grid/abspos/support/colors-8x16.png: Added.
        * web-platform-tests/css/css-grid/abspos/support/w3c-import.log:
        * web-platform-tests/css/css-grid/abspos/w3c-import.log:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-011-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-011.html:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-012-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-012.html:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-013-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-013.html:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-014-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-014.html:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-017-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-017.html:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-018-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-018.html:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-029-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-029.html:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-030-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-030.html:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-031-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-031.html:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-035-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-035.html:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-036-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-alignment-implies-size-change-036.html:
        * web-platform-tests/css/css-grid/alignment/grid-baseline-004-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-baseline-004.html:
        * web-platform-tests/css/css-grid/alignment/grid-baseline-align-cycles-001.html:
        * web-platform-tests/css/css-grid/alignment/grid-content-alignment-overflow-002-expected.txt: Added.
        * web-platform-tests/css/css-grid/alignment/grid-content-alignment-overflow-002.html: Added.
        * web-platform-tests/css/css-grid/alignment/grid-content-distribution-026-expected.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/grid-item-percentage-quirk-001-expected.html.
        * web-platform-tests/css/css-grid/alignment/grid-content-distribution-026.html: Added.
        * web-platform-tests/css/css-grid/alignment/grid-content-distribution-027-expected.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/grid-item-percentage-quirk-002-expected.html.
        * web-platform-tests/css/css-grid/alignment/grid-content-distribution-027.html: Added.
        * web-platform-tests/css/css-grid/alignment/grid-content-distribution-028-expected.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/grid-item-percentage-quirk-002-expected.html.
        * web-platform-tests/css/css-grid/alignment/grid-content-distribution-028.html: Added.
        * web-platform-tests/css/css-grid/alignment/grid-gutters-015-expected.html: Added.
        * web-platform-tests/css/css-grid/alignment/grid-gutters-015.html: Added.
        * web-platform-tests/css/css-grid/alignment/grid-gutters-016-expected.html: Added.
        * web-platform-tests/css/css-grid/alignment/grid-gutters-016.html: Added.
        * web-platform-tests/css/css-grid/alignment/grid-item-auto-margins-001-expected.xht: Added.
        * web-platform-tests/css/css-grid/alignment/grid-item-auto-margins-001.html: Added.
        * web-platform-tests/css/css-grid/alignment/grid-item-auto-margins-002-expected.xht: Added.
        * web-platform-tests/css/css-grid/alignment/grid-item-auto-margins-002.html: Added.
        * web-platform-tests/css/css-grid/alignment/grid-row-axis-self-baseline-synthesized-001-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-row-axis-self-baseline-synthesized-001.html:
        * web-platform-tests/css/css-grid/alignment/grid-row-axis-self-baseline-synthesized-002-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-row-axis-self-baseline-synthesized-002.html:
        * web-platform-tests/css/css-grid/alignment/grid-row-axis-self-baseline-synthesized-003-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-row-axis-self-baseline-synthesized-003.html:
        * web-platform-tests/css/css-grid/alignment/grid-self-alignment-expected.txt: Added.
        * web-platform-tests/css/css-grid/alignment/grid-self-alignment-non-static-positioned-items-008-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-self-alignment-non-static-positioned-items-008.html:
        * web-platform-tests/css/css-grid/alignment/grid-self-alignment-non-static-positioned-items-012-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-self-alignment-non-static-positioned-items-012.html:
        * web-platform-tests/css/css-grid/alignment/grid-self-alignment-positioned-items-with-margin-border-padding-016-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-self-alignment-positioned-items-with-margin-border-padding-016.html:
        * web-platform-tests/css/css-grid/alignment/grid-self-alignment.html: Added.
        * web-platform-tests/css/css-grid/alignment/grid-self-baseline-not-applied-if-sizing-cyclic-dependency-001-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-self-baseline-not-applied-if-sizing-cyclic-dependency-001.html:
        * web-platform-tests/css/css-grid/alignment/grid-self-baseline-not-applied-if-sizing-cyclic-dependency-002-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-self-baseline-not-applied-if-sizing-cyclic-dependency-002.html:
        * web-platform-tests/css/css-grid/alignment/grid-self-baseline-not-applied-if-sizing-cyclic-dependency-003-expected.txt:
        * web-platform-tests/css/css-grid/alignment/grid-self-baseline-not-applied-if-sizing-cyclic-dependency-003.html:
        * web-platform-tests/css/css-grid/alignment/replaced-alignment-with-aspect-ratio-001-expected.xht: Added.
        * web-platform-tests/css/css-grid/alignment/replaced-alignment-with-aspect-ratio-001.html: Added.
        * web-platform-tests/css/css-grid/alignment/replaced-alignment-with-aspect-ratio-002-expected.xht: Added.
        * web-platform-tests/css/css-grid/alignment/replaced-alignment-with-aspect-ratio-002.html: Added.
        * web-platform-tests/css/css-grid/alignment/replaced-alignment-with-aspect-ratio-003.tentative-expected.xht: Added.
        * web-platform-tests/css/css-grid/alignment/replaced-alignment-with-aspect-ratio-003.tentative.html: Added.
        * web-platform-tests/css/css-grid/alignment/replaced-alignment-with-aspect-ratio-004-expected.xht: Added.
        * web-platform-tests/css/css-grid/alignment/replaced-alignment-with-aspect-ratio-004.html: Added.
        * web-platform-tests/css/css-grid/alignment/replaced-alignment-with-aspect-ratio-005-expected.xht: Added.
        * web-platform-tests/css/css-grid/alignment/replaced-alignment-with-aspect-ratio-005.html: Added.
        * web-platform-tests/css/css-grid/alignment/replaced-alignment-with-aspect-ratio-006-expected.xht: Added.
        * web-platform-tests/css/css-grid/alignment/replaced-alignment-with-aspect-ratio-006.html: Added.
        * web-platform-tests/css/css-grid/alignment/replaced-alignment-with-aspect-ratio-007-expected.xht: Added.
        * web-platform-tests/css/css-grid/alignment/replaced-alignment-with-aspect-ratio-007.html: Added.
        * web-platform-tests/css/css-grid/alignment/replaced-alignment-with-aspect-ratio-008-expected.xht: Added.
        * web-platform-tests/css/css-grid/alignment/replaced-alignment-with-aspect-ratio-008.html: Added.
        * web-platform-tests/css/css-grid/alignment/replaced-alignment-with-aspect-ratio-009-expected.xht: Added.
        * web-platform-tests/css/css-grid/alignment/replaced-alignment-with-aspect-ratio-009.html: Added.
        * web-platform-tests/css/css-grid/alignment/support/25x50-green.png: Added.
        * web-platform-tests/css/css-grid/alignment/support/50x50-green.png: Added.
        * web-platform-tests/css/css-grid/alignment/support/w3c-import.log:
        * web-platform-tests/css/css-grid/alignment/w3c-import.log:
        * web-platform-tests/css/css-grid/dynamic-grid-with-auto-fill-expected.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/grid-item-percentage-quirk-002-expected.html.
        * web-platform-tests/css/css-grid/dynamic-grid-with-auto-fill.html: Added.
        * web-platform-tests/css/css-grid/dynamic-grid-within-flexbox-expected.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/grid-item-percentage-quirk-002-expected.html.
        * web-platform-tests/css/css-grid/dynamic-grid-within-flexbox.html: Added.
        * web-platform-tests/css/css-grid/grid-definition/grid-auto-repeat-aspect-ratio-001-expected.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/grid-item-percentage-quirk-002-expected.html.
        * web-platform-tests/css/css-grid/grid-definition/grid-auto-repeat-aspect-ratio-001.html: Added.
        * web-platform-tests/css/css-grid/grid-definition/grid-auto-repeat-aspect-ratio-002-expected.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/grid-item-percentage-quirk-002-expected.html.
        * web-platform-tests/css/css-grid/grid-definition/grid-auto-repeat-aspect-ratio-002.html: Added.
        * web-platform-tests/css/css-grid/grid-definition/grid-auto-repeat-dynamic-001-expected.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/grid-item-percentage-quirk-002-expected.html.
        * web-platform-tests/css/css-grid/grid-definition/grid-auto-repeat-dynamic-001.html: Added.
        * web-platform-tests/css/css-grid/grid-definition/grid-auto-repeat-dynamic-002-expected.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/grid-item-percentage-quirk-002-expected.html.
        * web-platform-tests/css/css-grid/grid-definition/grid-auto-repeat-dynamic-002.html: Added.
        * web-platform-tests/css/css-grid/grid-definition/grid-auto-repeat-dynamic-003-expected.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/grid-item-percentage-quirk-002-expected.html.
        * web-platform-tests/css/css-grid/grid-definition/grid-auto-repeat-dynamic-003.html: Added.
        * web-platform-tests/css/css-grid/grid-definition/grid-auto-repeat-min-size-003-expected.txt: Added.
        * web-platform-tests/css/css-grid/grid-definition/grid-auto-repeat-min-size-003.html: Added.
        * web-platform-tests/css/css-grid/grid-definition/grid-auto-repeat-min-size-004-expected.txt: Added.
        * web-platform-tests/css/css-grid/grid-definition/grid-auto-repeat-min-size-004.html: Added.
        * web-platform-tests/css/css-grid/grid-definition/grid-auto-repeat-multiple-values-004-expected.html: Added.
        * web-platform-tests/css/css-grid/grid-definition/grid-auto-repeat-multiple-values-004.html: Added.
        * web-platform-tests/css/css-grid/grid-definition/grid-auto-repeat-multiple-values-005-expected.html: Added.
        * web-platform-tests/css/css-grid/grid-definition/grid-auto-repeat-multiple-values-005.html: Added.
        * web-platform-tests/css/css-grid/grid-definition/grid-repeat-max-width-001-expected.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/grid-item-percentage-quirk-002-expected.html.
        * web-platform-tests/css/css-grid/grid-definition/grid-repeat-max-width-001.html: Added.
        * web-platform-tests/css/css-grid/grid-definition/w3c-import.log:
        * web-platform-tests/css/css-grid/grid-item-percentage-quirk-001.html:
        * web-platform-tests/css/css-grid/grid-item-percentage-quirk-002.html:
        * web-platform-tests/css/css-grid/grid-items/aspect-ratio-001-expected.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/grid-item-percentage-quirk-002-expected.html.
        * web-platform-tests/css/css-grid/grid-items/aspect-ratio-001.html: Added.
        * web-platform-tests/css/css-grid/grid-items/aspect-ratio-002-expected.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/grid-item-percentage-quirk-002-expected.html.
        * web-platform-tests/css/css-grid/grid-items/aspect-ratio-002.html: Added.
        * web-platform-tests/css/css-grid/grid-items/aspect-ratio-003-expected.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/grid-item-percentage-quirk-002-expected.html.
        * web-platform-tests/css/css-grid/grid-items/aspect-ratio-003.html: Added.
        * web-platform-tests/css/css-grid/grid-items/aspect-ratio-004-expected.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/grid-item-percentage-quirk-002-expected.html.
        * web-platform-tests/css/css-grid/grid-items/aspect-ratio-004.html: Added.
        * web-platform-tests/css/css-grid/grid-items/grid-auto-margin-and-replaced-item-001.html:
        * web-platform-tests/css/css-grid/grid-items/grid-item-inline-contribution-001-expected.xht: Added.
        * web-platform-tests/css/css-grid/grid-items/grid-item-inline-contribution-001.html: Added.
        * web-platform-tests/css/css-grid/grid-items/grid-item-inline-contribution-002.tentative-expected.xht: Added.
        * web-platform-tests/css/css-grid/grid-items/grid-item-inline-contribution-002.tentative.html: Added.
        * web-platform-tests/css/css-grid/grid-items/grid-item-inline-contribution-003.tentative-expected.xht: Added.
        * web-platform-tests/css/css-grid/grid-items/grid-item-inline-contribution-003.tentative.html: Added.
        * web-platform-tests/css/css-grid/grid-items/grid-items-percentage-paddings-015-expected.txt: Added.
        * web-platform-tests/css/css-grid/grid-items/grid-items-percentage-paddings-015.html: Added.
        * web-platform-tests/css/css-grid/grid-items/replaced-element-001-expected.xht: Added.
        * web-platform-tests/css/css-grid/grid-items/replaced-element-001.html: Added.
        * web-platform-tests/css/css-grid/grid-items/replaced-element-002-expected.xht: Added.
        * web-platform-tests/css/css-grid/grid-items/replaced-element-002.html: Added.
        * web-platform-tests/css/css-grid/grid-items/replaced-element-007-expected.xht: Added.
        * web-platform-tests/css/css-grid/grid-items/replaced-element-007.html: Added.
        * web-platform-tests/css/css-grid/grid-items/replaced-element-010-expected.xht: Added.
        * web-platform-tests/css/css-grid/grid-items/replaced-element-010.html: Added.
        * web-platform-tests/css/css-grid/grid-items/replaced-element-011-expected.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/grid-item-percentage-quirk-002-expected.html.
        * web-platform-tests/css/css-grid/grid-items/replaced-element-011.html: Added.
        * web-platform-tests/css/css-grid/grid-items/replaced-element-012-expected.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/grid-item-percentage-quirk-002-expected.html.
        * web-platform-tests/css/css-grid/grid-items/replaced-element-012.html: Added.
        * web-platform-tests/css/css-grid/grid-items/replaced-element-013-expected.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/grid-item-percentage-quirk-002-expected.html.
        * web-platform-tests/css/css-grid/grid-items/replaced-element-013.html: Added.
        * web-platform-tests/css/css-grid/grid-items/w3c-import.log:
        * web-platform-tests/css/css-grid/grid-model/grid-areas-overflowing-grid-container-003-expected.html:
        * web-platform-tests/css/css-grid/grid-model/grid-areas-overflowing-grid-container-003.html:
        * web-platform-tests/css/css-grid/grid-model/grid-areas-overflowing-grid-container-009-expected.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/grid-model/grid-areas-overflowing-grid-container-003-expected.html.
        * web-platform-tests/css/css-grid/grid-model/grid-areas-overflowing-grid-container-009.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/grid-model/grid-areas-overflowing-grid-container-003.html.
        * web-platform-tests/css/css-grid/grid-model/grid-button-001-expected.txt:
        * web-platform-tests/css/css-grid/grid-model/grid-overflow-padding-001.html:
        * web-platform-tests/css/css-grid/grid-model/grid-overflow-padding-002.html:
        * web-platform-tests/css/css-grid/grid-model/w3c-import.log:
        * web-platform-tests/css/css-grid/grid-within-flexbox-definite-change-expected.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/css/css-grid/grid-item-percentage-quirk-002-expected.html.
        * web-platform-tests/css/css-grid/grid-within-flexbox-definite-change.html: Added.
        * web-platform-tests/css/css-grid/layout-algorithm/baseline-alignment-affects-intrinsic-size-002.html:
        * web-platform-tests/css/css-grid/layout-algorithm/baseline-alignment-affects-intrinsic-size-003.html:
        * web-platform-tests/css/css-grid/layout-algorithm/baseline-alignment-affects-intrinsic-size-004.html:
        * web-platform-tests/css/css-grid/layout-algorithm/baseline-alignment-affects-intrinsic-size-005.html:
        * web-platform-tests/css/css-grid/layout-algorithm/baseline-alignment-affects-intrinsic-size-006.html:
        * web-platform-tests/css/css-grid/layout-algorithm/flex-and-intrinsic-sizes-001-expected.txt:
        * web-platform-tests/css/css-grid/layout-algorithm/flex-and-intrinsic-sizes-001.html:
        * web-platform-tests/css/css-grid/layout-algorithm/flex-sizing-rows-indefinite-height-expected.xht: Added.
        * web-platform-tests/css/css-grid/layout-algorithm/flex-sizing-rows-indefinite-height.html: Added.
        * web-platform-tests/css/css-grid/layout-algorithm/grid-content-distribution-must-account-for-track-sizing-002-expected.txt:
        * web-platform-tests/css/css-grid/layout-algorithm/grid-content-distribution-must-account-for-track-sizing-002.html:
        * web-platform-tests/css/css-grid/layout-algorithm/grid-flex-track-intrinsic-sizes-001-expected.txt:
        * web-platform-tests/css/css-grid/layout-algorithm/grid-flex-track-intrinsic-sizes-001.html:
        * web-platform-tests/css/css-grid/layout-algorithm/grid-flex-track-intrinsic-sizes-002-expected.txt:
        * web-platform-tests/css/css-grid/layout-algorithm/grid-flex-track-intrinsic-sizes-002.html:
        * web-platform-tests/css/css-grid/layout-algorithm/grid-intrinsic-size-with-orthogonal-items-expected.txt:
        * web-platform-tests/css/css-grid/layout-algorithm/grid-intrinsic-size-with-orthogonal-items.html:
        * web-platform-tests/css/css-grid/layout-algorithm/w3c-import.log:
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-align-content-001-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-align-content-001.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-align-content-002-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-align-content-002.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-align-content-003-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-align-content-003.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-align-content-004-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-align-content-004.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-align-tracks-001-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-align-tracks-001.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-align-tracks-multi-001-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-align-tracks-multi-001.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-align-tracks-stretch-001-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-align-tracks-stretch-001.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-align-tracks-stretch-002-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-align-tracks-stretch-002.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-fragmentation-001-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-fragmentation-001.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-fragmentation-002-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-fragmentation-002.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-fragmentation-003-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-fragmentation-003.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-fragmentation-004-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-fragmentation-004.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-fragmentation-005-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-fragmentation-005.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-fragmentation-006-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-fragmentation-006.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-gap-001-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-gap-001.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-grid-item-content-baseline-001-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-grid-item-content-baseline-001.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-grid-item-self-baseline-001-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-grid-item-self-baseline-001.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-grid-item-self-baseline-002a-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-grid-item-self-baseline-002a.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-grid-item-self-baseline-002b-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-grid-item-self-baseline-002b.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-grid-placement-named-lines-001-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-grid-placement-named-lines-001.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-grid-placement-named-lines-002-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-grid-placement-named-lines-002.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-grid-template-columns-computed-withcontent-expected.txt: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-grid-template-columns-computed-withcontent.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-intrinsic-sizing-001-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-intrinsic-sizing-001.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-intrinsic-sizing-002-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-intrinsic-sizing-002.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-intrinsic-sizing-003-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-intrinsic-sizing-003.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-intrinsic-sizing-004-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-intrinsic-sizing-004.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-intrinsic-sizing-005-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-intrinsic-sizing-005.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-intrinsic-sizing-006-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-intrinsic-sizing-006.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-item-placement-001-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-item-placement-001.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-item-placement-002-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-item-placement-002.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-item-placement-003-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-item-placement-003.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-item-placement-004-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-item-placement-004.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-item-placement-005-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-item-placement-005.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-item-placement-006-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-item-placement-006.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-item-placement-007-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-item-placement-007.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-justify-content-001-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-justify-content-001.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-justify-content-002-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-justify-content-002.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-justify-content-003-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-justify-content-003.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-justify-content-004-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-justify-content-004.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-justify-tracks-001-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-justify-tracks-001.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-justify-tracks-multi-001-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-justify-tracks-multi-001.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-justify-tracks-stretch-001-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-justify-tracks-stretch-001.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-justify-tracks-stretch-002-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-justify-tracks-stretch-002.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-order-001-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-order-001.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-order-002-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-order-002.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-parsing-expected.txt: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-parsing.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-subgrid-001-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-subgrid-001.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-subgrid-002-expected.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/masonry-subgrid-002.html: Added.
        * web-platform-tests/css/css-grid/masonry/tentative/w3c-import.log: Added.
        * web-platform-tests/css/css-grid/subgrid/abs-pos-004-expected.html: Added.
        * web-platform-tests/css/css-grid/subgrid/abs-pos-004.html: Added.
        * web-platform-tests/css/css-grid/subgrid/subgrid-mbp-overflow-004-expected.html: Added.
        * web-platform-tests/css/css-grid/subgrid/subgrid-mbp-overflow-004.html: Added.
        * web-platform-tests/css/css-grid/subgrid/w3c-import.log:
        * web-platform-tests/css/css-grid/support/grid-child-utils.js:
        * web-platform-tests/css/css-grid/table-grid-item-005-expected.txt: Added.
        * web-platform-tests/css/css-grid/table-grid-item-005.html: Added.
        * web-platform-tests/css/css-grid/table-grid-item-dynamic-002-expected.html: Added.
        * web-platform-tests/css/css-grid/table-grid-item-dynamic-002.html: Added.
        * web-platform-tests/css/css-grid/table-grid-item-dynamic-003-expected.html: Added.
        * web-platform-tests/css/css-grid/table-grid-item-dynamic-003.html: Added.
        * web-platform-tests/css/css-grid/table-grid-item-dynamic-004-expected.html: Added.
        * web-platform-tests/css/css-grid/table-grid-item-dynamic-004.html: Added.
        * web-platform-tests/css/css-grid/w3c-import.log:

2021-06-24  Darin Adler  <darin@apple.com>

        CSS parser does not handle unpaired surrogates correctly
        https://bugs.webkit.org/show_bug.cgi?id=227357

        Reviewed by Sam Weinig.

        * web-platform-tests/css/css-syntax/input-preprocessing-expected.txt:
        Expect tests to pass instead of fail.

2021-06-24  Alex Christensen  <achristensen@webkit.org>

        Fix URL test expectations after r279234
        https://bugs.webkit.org/show_bug.cgi?id=227321

        That revision was a mistake.  I took the expected from the bots instead of the actual.
        This should actually update the expectations.

        * web-platform-tests/url/url-constructor.any-expected.txt:
        * web-platform-tests/url/url-constructor.any.worker-expected.txt:
        * web-platform-tests/url/url-origin.any-expected.txt:
        * web-platform-tests/url/url-origin.any.worker-expected.txt:

2021-06-24  Alex Christensen  <achristensen@webkit.org>

        Fix URL test expectations after r279211
        https://bugs.webkit.org/show_bug.cgi?id=227321

        The process of moving and committing did something strange to the invalid UTF-16 sequences.
        This should fix the bots.

        * web-platform-tests/url/url-constructor.any-expected.txt:
        * web-platform-tests/url/url-constructor.any.worker-expected.txt:
        * web-platform-tests/url/url-origin.any-expected.txt:
        * web-platform-tests/url/url-origin.any.worker-expected.txt:

2021-06-24  Chris Dumez  <cdumez@apple.com>

        Resync eventsource WPT tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227324

        Reviewed by Alex Christensen.

        Resync eventsource WPT tests from upstream a38612f39e7752c353.

        * web-platform-tests/eventsource/*: Updated.

2021-06-24  Chris Dumez  <cdumez@apple.com>

        (r279211) introduced 4 failing web-platform-tests
        https://bugs.webkit.org/show_bug.cgi?id=227355
        <rdar://problem/79728204>

        Unreviewed, rebaseline a few WPT url tests after resync in r279211.

        * web-platform-tests/url/url-constructor.any-expected.txt:
        * web-platform-tests/url/url-constructor.any.worker-expected.txt:
        * web-platform-tests/url/url-origin.any-expected.txt:
        * web-platform-tests/url/url-origin.any.worker-expected.txt:

2021-06-24  Chris Dumez  <cdumez@apple.com>

        Resync websockets WPT tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227317

        Reviewed by Alex Christensen.

        Resync websockets WPT tests from upstream a38612f39e7752c3532080c.

        * web-platform-tests/websockets/*: Updated.

2021-06-24  Chris Dumez  <cdumez@apple.com>

        Resync custom-elements WPT tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227330

        Reviewed by Alex Christensen.

        Resync custom-elements WPT tests from upstream a38612f39e7752c353.

        * web-platform-tests/custom-elements/*: Updated.

2021-06-24  Chris Dumez  <cdumez@apple.com>

        Resync WebIDL WPT tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227322

        Reviewed by Alex Christensen.

        Resync WebIDL WPT tests from upstream a38612f39e7752c353.

        * web-platform-tests/WebIDL/*: Updated.

2021-06-24  Chris Dumez  <cdumez@apple.com>

        Resync shadow-dom WPT tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227331

        Reviewed by Alex Christensen.

        Resync shadow-dom WPT tests from upstream a38612f39e7752c353.

        * web-platform-tests/shadow-dom/*: Updated.

2021-06-24  Chris Dumez  <cdumez@apple.com>

        Resync beacon WPT tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227323

        Reviewed by Alex Christensen.

        Resync beacon WPT tests from upstream a38612f39e7752c353.

        * web-platform-tests/beacon/*: Updated.

2021-06-24 Emilio Cobos Álvarez  <emilio@crisal.io>

        Update some html pseudo-class tests.
        https://bugs.webkit.org/show_bug.cgi?id=225851

        Reviewed by Manuel Rego Casasnovas.

        Generated by ./Tools/Scripts/import-w3c-tests web-platform-tests/html/semantics/selectors -t, plus the relevant expectation update.

        * resources/import-expectations.json:
        * web-platform-tests/html/semantics/selectors/META.yml:
        * web-platform-tests/html/semantics/selectors/pseudo-classes/autofill-expected.txt: Added.
        * web-platform-tests/html/semantics/selectors/pseudo-classes/autofill.html: Added.
        * web-platform-tests/html/semantics/selectors/pseudo-classes/invalid-after-clone-expected.txt: Added.
        * web-platform-tests/html/semantics/selectors/pseudo-classes/invalid-after-clone.html: Added.
        * web-platform-tests/html/semantics/selectors/pseudo-classes/link-expected.txt:
        * web-platform-tests/html/semantics/selectors/pseudo-classes/link.html:
        * web-platform-tests/html/semantics/selectors/pseudo-classes/w3c-import.log:

2021-06-23  Chris Dumez  <cdumez@apple.com>

        Resync url WPT tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227321

        Reviewed by Alex Christensen.

        Resync url WPT tests from upstream a38612f39e7752c353.

        * web-platform-tests/url/*: Updated.

2021-06-23  Chris Dumez  <cdumez@apple.com>

        Unreviewed, silence console logging for imported/w3c/web-platform-tests/html/browsers/origin/cross-origin-objects/cross-origin-objects.html

        The console logging was making the test flaky.

        * web-platform-tests/html/browsers/origin/cross-origin-objects/cross-origin-objects-expected.txt:

2021-06-23  Alex Christensen  <achristensen@webkit.org>

        Fix some PerformanceNavigationTiming bugs
        https://bugs.webkit.org/show_bug.cgi?id=227329

        Reviewed by Chris Dumez.

        * web-platform-tests/navigation-timing/buffered-flag.window-expected.txt: Added.
        * web-platform-tests/navigation-timing/buffered-flag.window.html: Added.
        * web-platform-tests/navigation-timing/nav2_test_unique_nav_instances-expected.txt:

2021-06-23  Chris Dumez  <cdumez@apple.com>

        Update WPT resources from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227296

        Reviewed by Darin Adler.

        * web-platform-tests/IndexedDB/idlharness.any-expected.txt:
        * web-platform-tests/IndexedDB/idlharness.any.worker-expected.txt:
        * web-platform-tests/WebCryptoAPI/idlharness.https.any-expected.txt:
        * web-platform-tests/WebCryptoAPI/idlharness.https.any.worker-expected.txt:
        * web-platform-tests/content-security-policy/securitypolicyviolation/idlharness.window-expected.txt:
        * web-platform-tests/css/css-animations/idlharness-expected.txt:
        * web-platform-tests/css/css-font-loading/idlharness.https-expected.txt:
        * web-platform-tests/css/css-syntax/input-preprocessing-expected.txt:
        * web-platform-tests/css/css-transitions/idlharness-expected.txt:
        * web-platform-tests/css/cssom-view/idlharness-expected.txt:
        * web-platform-tests/css/cssom/idlharness-expected.txt:
        * web-platform-tests/dom/idlharness.any.worker-expected.txt:
        * web-platform-tests/dom/idlharness.window-expected.txt:
        * web-platform-tests/domparsing/idlharness.window-expected.txt:
        * web-platform-tests/eventsource/idlharness-expected.txt:
        * web-platform-tests/fetch/api/idlharness.any-expected.txt:
        * web-platform-tests/fetch/api/idlharness.any.worker-expected.txt:
        * web-platform-tests/fetch/cors-rfc1918/idlharness.tentative.any-expected.txt:
        * web-platform-tests/fetch/cors-rfc1918/idlharness.tentative.any.worker-expected.txt:
        * web-platform-tests/hr-time/idlharness.any-expected.txt:
        * web-platform-tests/hr-time/idlharness.any.worker-expected.txt:
        * web-platform-tests/html/browsers/browsing-the-web/navigating-across-documents/javascript-url-return-value-handling-dynamic-expected.txt:
        * web-platform-tests/html/dom/idlharness.worker-expected.txt:
        * web-platform-tests/html/infrastructure/safe-passing-of-structured-data/structured-cloning-error-stack-optional.sub.window-expected.txt:
        * web-platform-tests/interfaces/DOM-Parsing.idl:
        * web-platform-tests/interfaces/SVG.idl:
        * web-platform-tests/interfaces/mediasession.idl:
        * web-platform-tests/mediasession/idlharness.window-expected.txt:
        * web-platform-tests/notifications/idlharness.https.any-expected.txt:
        * web-platform-tests/notifications/idlharness.https.any.worker-expected.txt:
        * web-platform-tests/pointerevents/idlharness.window-expected.txt:
        Rebaseline existing tests.

        * web-platform-tests/resources/*: Updated.

2021-06-23  Chris Dumez  <cdumez@apple.com>

        Resync IndexedDB WPT tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227315

        Reviewed by Darin Adler.

        Resync IndexedDB WPT tests from upstream a38612f39e7752c3532080c.

        * web-platform-tests/IndexedDB/*: Updated.

2021-06-23  Chris Dumez  <cdumez@apple.com>

        REGRESSION (r279169?): [MacOS] imported/w3c/web-platform-tests/html/semantics/embedded-content/the-video-element/video_timeupdate_on_seek.html is consistently failing.
        https://bugs.webkit.org/show_bug.cgi?id=227312
        <rdar://problem/79684170>

        Unreviewed, update python script used by the test to be compatible with the new WPT tools (updated in r279169).

        * web-platform-tests/html/semantics/embedded-content/the-video-element/timeout_on_seek.py:
        (main):

2021-06-23  Chris Dumez  <cdumez@apple.com>

        Update WPT tools from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227255

        Reviewed by Jonathan Bedard.

        Update WPT tools from upstream 94d018bb5d7c0d46df7ba1.

        * web-platform-tests/tools/*: Updated.

2021-06-22  Cathie Chen  <cathiechen@igalia.com>

        Implement width and height attributes on source elements of <picture>
        https://bugs.webkit.org/show_bug.cgi?id=222368

        Reviewed by Darin Adler.

        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/picture-aspect-ratio-expected.txt:

2021-06-21  Chris Dumez  <cdumez@apple.com>

        Adjust `fetch` port blocking for ports 990, 989
        https://bugs.webkit.org/show_bug.cgi?id=226971
        <rdar://problem/79287147>

        Reviewed by Geoffrey Garen.

        Re-sync some WPT tests from upstream d41f24fb67a2d65c to gain test coverage from:
        - https://github.com/web-platform-tests/wpt/pull/29343

        * web-platform-tests/fetch/api/request/request-bad-port.any-expected.txt:
        * web-platform-tests/fetch/api/request/request-bad-port.any.js:
        * web-platform-tests/fetch/api/request/request-bad-port.any.worker-expected.txt:
        * web-platform-tests/tools/wptserve/wptserve/utils.py:
        (isomorphic_decode):
        (isomorphic_encode):
        (is_bad_port):
        (http2_compatible):
        * web-platform-tests/websockets/Create-blocked-port.any-expected.txt:
        * web-platform-tests/websockets/Create-blocked-port.any.js:
        * web-platform-tests/websockets/Create-blocked-port.any.worker-expected.txt:
        * web-platform-tests/websockets/constants.sub.js: Added.
        (url_has_variant):
        (else.url_has_flag):
        (url_has_flag):
        (IsWebSocket):
        (CreateWebSocketNonAbsolute):
        (CreateWebSocketNonWsScheme):
        (CreateWebSocketNonAsciiProtocol):
        (CreateWebSocketWithAsciiSep):
        (CreateWebSocketWithBlockedPort):
        (CreateWebSocketWithSpaceInUrl):
        (CreateWebSocketWithSpaceInProtocol):
        (CreateWebSocketWithRepeatedProtocols):
        (CreateWebSocketWithRepeatedProtocolsCaseInsensitive):
        (CreateWebSocket):

2021-06-21  Rob Buis  <rbuis@igalia.com>

        CSSOM test for serializing font-variant fails
        https://bugs.webkit.org/show_bug.cgi?id=226770

        Reviewed by Darin Adler.

        Update improved test result.

        * web-platform-tests/css/css-fonts/parsing/font-variant-east-asian-invalid-expected.txt:
        * web-platform-tests/css/css-fonts/parsing/font-variant-valid-expected.txt:
        * web-platform-tests/css/cssom/serialize-values-expected.txt:

2021-06-19  Darin Adler  <darin@apple.com>

        Fix CSS serialization issues affecting css-counter-styles tests
        https://bugs.webkit.org/show_bug.cgi?id=226708

        Reviewed by Antti Koivisto.

        * web-platform-tests/css/css-counter-styles/counter-style-additive-symbols-syntax-expected.txt:
        * web-platform-tests/css/css-counter-styles/counter-style-symbols-syntax-expected.txt:
        * web-platform-tests/css/css-syntax/url-whitespace-consumption-expected.txt:
        Updated to reflect progressions.

2021-06-18  Chris Dumez  <cdumez@apple.com>

        [WebIDL] Assigning a value outside the float range to a 'float' attribute should throw a TypeError
        https://bugs.webkit.org/show_bug.cgi?id=227146

        Reviewed by Sam Weinig.

        Rebaseline WPT test that is now fully passing.

        * web-platform-tests/webaudio/the-audio-api/the-pannernode-interface/pannernode-setposition-throws-expected.txt:

2021-06-18  Oriol Brufau  <obrufau@igalia.com>

        [css-logical] Fix cssom "set a CSS declaration" for logical properties
        https://bugs.webkit.org/show_bug.cgi?id=226461

        Reviewed by Antti Koivisto.

        This test is now passing.

        * web-platform-tests/css/cssom/cssstyledeclaration-setter-logical-expected.txt:

2021-06-17  Chris Dumez  <cdumez@apple.com>

        Add support for IDBCursor.request
        https://bugs.webkit.org/show_bug.cgi?id=227152

        Reviewed by Geoffrey Garen.

        Rebaseline some WPT tests now that they are passing.

        * web-platform-tests/IndexedDB/idbcursor-request.any-expected.txt:
        * web-platform-tests/IndexedDB/idbcursor-request.any.worker-expected.txt:
        * web-platform-tests/IndexedDB/idlharness.any-expected.txt:
        * web-platform-tests/IndexedDB/idlharness.any.worker-expected.txt:

2021-06-17  Chris Dumez  <cdumez@apple.com>

        Resync DOM WPT tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=227144

        Reviewed by Geoffrey Garen.

        Resync DOM WPT tests from upstream ec5c1fc86b65142e7b.

        * resources/resource-files.json:
        * web-platform-tests/dom/*: Updated.
        * web-platform-tests/interfaces/dom.idl:

2021-06-16  Chris Dumez  <cdumez@apple.com>

        Resync FileAPI tests from upstream WPT
        https://bugs.webkit.org/show_bug.cgi?id=227089

        Reviewed by Darin Adler.

        Resync FileAPI tests from upstream WPT b5949c67c948bc452e3.

        * web-platform-tests/FileAPI/*: Updated.

2021-06-16  Chris Dumez  <cdumez@apple.com>

        Resync webaudio tests from upstream WPT
        https://bugs.webkit.org/show_bug.cgi?id=227091

        Reviewed by Geoffrey Garen.

        Resync webaudio tests from upstream WPT b5949c67c948bc452e3.

        * web-platform-tests/webaudio/the-audio-api/the-audiobuffersourcenode-interface/audiobuffersource-duration-loop.html:
        * web-platform-tests/webaudio/the-audio-api/the-audioparam-interface/audioparam-cancel-and-hold-expected.txt: Added.
        * web-platform-tests/webaudio/the-audio-api/the-audioparam-interface/audioparam-cancel-and-hold.html: Added.
        * web-platform-tests/webaudio/the-audio-api/the-audioparam-interface/audioparam-nominal-range-expected.txt: Added.
        * web-platform-tests/webaudio/the-audio-api/the-audioparam-interface/audioparam-nominal-range.html: Added.
        * web-platform-tests/webaudio/the-audio-api/the-audioparam-interface/audioparam-setValueCurve-exceptions-expected.txt:
        * web-platform-tests/webaudio/the-audio-api/the-audioparam-interface/audioparam-setValueCurve-exceptions.html:
        * web-platform-tests/webaudio/the-audio-api/the-audioparam-interface/cancel-scheduled-values-expected.txt:
        * web-platform-tests/webaudio/the-audio-api/the-audioparam-interface/cancel-scheduled-values.html:
        * web-platform-tests/webaudio/the-audio-api/the-audioparam-interface/event-insertion-expected.txt:
        * web-platform-tests/webaudio/the-audio-api/the-audioparam-interface/event-insertion.html:
        * web-platform-tests/webaudio/the-audio-api/the-audioparam-interface/w3c-import.log:
        * web-platform-tests/webaudio/the-audio-api/the-audioworklet-interface/audioworklet-throw-onmessage.https-expected.txt: Added.
        * web-platform-tests/webaudio/the-audio-api/the-audioworklet-interface/audioworklet-throw-onmessage.https.html: Added.
        * web-platform-tests/webaudio/the-audio-api/the-audioworklet-interface/processors/w3c-import.log:
        * web-platform-tests/webaudio/the-audio-api/the-audioworklet-interface/w3c-import.log:
        * web-platform-tests/webaudio/the-audio-api/the-biquadfilternode-interface/biquad-automation-expected.txt:
        * web-platform-tests/webaudio/the-audio-api/the-biquadfilternode-interface/biquad-automation.html:
        * web-platform-tests/webaudio/the-audio-api/the-constantsourcenode-interface/test-constantsourcenode.html:
        * web-platform-tests/webaudio/the-audio-api/the-convolvernode-interface/realtime-conv-expected.txt:
        * web-platform-tests/webaudio/the-audio-api/the-convolvernode-interface/realtime-conv.html:
        * web-platform-tests/webaudio/the-audio-api/the-pannernode-interface/pannernode-setposition-throws-expected.txt: Added.
        * web-platform-tests/webaudio/the-audio-api/the-pannernode-interface/pannernode-setposition-throws.html: Added.
        * web-platform-tests/webaudio/the-audio-api/the-pannernode-interface/w3c-import.log:
        * web-platform-tests/webaudio/the-audio-api/the-periodicwave-interface/periodicWave.html:

2021-06-16  Ada Chan  <ada.chan@apple.com>

        Allow WebXR tests to be run on Mac
        https://bugs.webkit.org/show_bug.cgi?id=227054

        Reviewed by Sam Weinig.

        Updated expected results.

        * web-platform-tests/webxr/events_input_source_recreation.https-expected.txt:
        * web-platform-tests/webxr/events_input_sources_change.https-expected.txt:
        * web-platform-tests/webxr/events_referenceSpace_reset_immersive.https-expected.txt: Added.
        * web-platform-tests/webxr/events_referenceSpace_reset_inline.https-expected.txt: Added.
        * web-platform-tests/webxr/events_session_select.https-expected.txt:
        * web-platform-tests/webxr/events_session_select_subframe.https-expected.txt:
        * web-platform-tests/webxr/events_session_squeeze.https-expected.txt:
        * web-platform-tests/webxr/exclusive_requestFrame_nolayer.https-expected.txt:
        * web-platform-tests/webxr/getInputPose_handedness.https-expected.txt:
        * web-platform-tests/webxr/getViewerPose_emulatedPosition.https-expected.txt:
        * web-platform-tests/webxr/navigator_xr_sameObject.https-expected.txt:
        * web-platform-tests/webxr/render_state_update.https-expected.txt:
        * web-platform-tests/webxr/render_state_vertical_fov_immersive.https-expected.txt:
        * web-platform-tests/webxr/render_state_vertical_fov_inline.https-expected.txt:
        * web-platform-tests/webxr/webGLCanvasContext_create_xrcompatible.https-expected.txt:
        * web-platform-tests/webxr/webGLCanvasContext_makecompatible_contextlost.https-expected.txt:
        * web-platform-tests/webxr/webGLCanvasContext_makecompatible_reentrant.https-expected.txt:
        * web-platform-tests/webxr/xrBoundedReferenceSpace_updates.https-expected.txt:
        * web-platform-tests/webxr/xrDevice_disconnect_ends.https-expected.txt: Added.
        * web-platform-tests/webxr/xrDevice_requestSession_immersive.https-expected.txt:
        * web-platform-tests/webxr/xrDevice_requestSession_optionalFeatures.https-expected.txt:
        * web-platform-tests/webxr/xrFrame_getPose.https-expected.txt:
        * web-platform-tests/webxr/xrFrame_getViewerPose_getPose.https-expected.txt:
        * web-platform-tests/webxr/xrFrame_getViewerPose_getPose_identities.https-expected.txt: Added.
        * web-platform-tests/webxr/xrFrame_lifetime.https-expected.txt:
        * web-platform-tests/webxr/xrFrame_session_sameObject.https-expected.txt:
        * web-platform-tests/webxr/xrInputSource_add_remove.https-expected.txt:
        * web-platform-tests/webxr/xrInputSource_emulatedPosition.https-expected.txt:
        * web-platform-tests/webxr/xrInputSource_profiles.https-expected.txt:
        * web-platform-tests/webxr/xrInputSource_sameObject.https-expected.txt:
        * web-platform-tests/webxr/xrPose_transform_sameObject.https-expected.txt:
        * web-platform-tests/webxr/xrReferenceSpace_originOffset.https-expected.txt:
        * web-platform-tests/webxr/xrReferenceSpace_originOffsetBounded.https-expected.txt:
        * web-platform-tests/webxr/xrReferenceSpace_originOffset_viewer.https-expected.txt:
        * web-platform-tests/webxr/xrReferenceSpace_relationships.https-expected.txt:
        * web-platform-tests/webxr/xrRigidTransform_constructor.https-expected.txt:
        * web-platform-tests/webxr/xrRigidTransform_inverse.https-expected.txt:
        * web-platform-tests/webxr/xrRigidTransform_sameObject.https-expected.txt:
        * web-platform-tests/webxr/xrSession_cancelAnimationFrame.https-expected.txt:
        * web-platform-tests/webxr/xrSession_cancelAnimationFrame_invalidhandle.https-expected.txt:
        * web-platform-tests/webxr/xrSession_end.https-expected.txt:
        * web-platform-tests/webxr/xrSession_input_events_end.https-expected.txt:
        * web-platform-tests/webxr/xrSession_requestAnimationFrame_callback_calls.https-expected.txt:
        * web-platform-tests/webxr/xrSession_requestAnimationFrame_data_valid.https-expected.txt:
        * web-platform-tests/webxr/xrSession_requestAnimationFrame_getViewerPose.https-expected.txt:
        * web-platform-tests/webxr/xrSession_requestAnimationFrame_timestamp.https-expected.txt:
        * web-platform-tests/webxr/xrSession_requestReferenceSpace.https-expected.txt:
        * web-platform-tests/webxr/xrSession_requestSessionDuringEnd.https-expected.txt: Added.
        * web-platform-tests/webxr/xrSession_sameObject.https-expected.txt:
        * web-platform-tests/webxr/xrSession_viewer_referenceSpace.https-expected.txt:
        * web-platform-tests/webxr/xrStationaryReferenceSpace_floorlevel_updates.https-expected.txt:
        * web-platform-tests/webxr/xrView_eyes.https-expected.txt:
        * web-platform-tests/webxr/xrView_match.https-expected.txt:
        * web-platform-tests/webxr/xrView_oneframeupdate.https-expected.txt:
        * web-platform-tests/webxr/xrView_sameObject.https-expected.txt:
        * web-platform-tests/webxr/xrViewerPose_views_sameObject.https-expected.txt:
        * web-platform-tests/webxr/xrViewport_valid.https-expected.txt:
        * web-platform-tests/webxr/xrWebGLLayer_constructor.https-expected.txt:
        * web-platform-tests/webxr/xrWebGLLayer_framebuffer_sameObject.https-expected.txt:
        * web-platform-tests/webxr/xrWebGLLayer_viewports.https-expected.txt:
        * web-platform-tests/webxr/xr_viewport_scale.https-expected.txt: Added.

2021-06-15  Alex Christensen  <achristensen@webkit.org>

        Check for "xn--" in any subdomain when parsing URL hosts
        https://bugs.webkit.org/show_bug.cgi?id=226912

        Reviewed by Darin Adler.

        * web-platform-tests/url/a-element-expected.txt:
        * web-platform-tests/url/a-element-xhtml-expected.txt:
        * web-platform-tests/url/failure-expected.txt:
        * web-platform-tests/url/resources/urltestdata.json:
        * web-platform-tests/url/toascii.window-expected.txt:
        * web-platform-tests/url/url-constructor-expected.txt:

2021-06-11  Sergio Villar Senin  <svillar@igalia.com>

        logged in GitHub issue pages have bad layout for "Notifications Customize" link
        https://bugs.webkit.org/show_bug.cgi?id=226859

        Reviewed by Alan Bujtas.

        * web-platform-tests/html/rendering/the-details-element/summary-display-list-item-002-expected.html: Added.
        * web-platform-tests/html/rendering/the-details-element/summary-display-list-item-002.html: Added.

2021-06-14  Youenn Fablet  <youenn@apple.com>

        Import WPT webrtc-extensions
        https://bugs.webkit.org/show_bug.cgi?id=226961

        Reviewed by Eric Carlson.

        * resources/import-expectations.json:
        * web-platform-tests/webrtc-extensions/: Added.

2021-06-14  Truitt Savell  <tsavell@apple.com>

        Unreviewed, reverting r278842.

        introduced a failing test

        Reverted changeset:

        "Fix RTCDataChannelInit::decode"
        https://bugs.webkit.org/show_bug.cgi?id=226968
        https://commits.webkit.org/r278842

2021-06-14  Youenn Fablet  <youenn@apple.com>

        Fix RTCDataChannelInit::decode
        https://bugs.webkit.org/show_bug.cgi?id=226968

        Reviewed by Eric Carlson.

        * web-platform-tests/webrtc-extensions/transfer-datachannel-service-worker.https-expected.txt: Added.
        * web-platform-tests/webrtc-extensions/transfer-datachannel-service-worker.https.html: Added.
        * web-platform-tests/webrtc-extensions/transfer-datachannel-service-worker.js: Added.
        (onmessage):

2021-06-14  Youenn Fablet  <youenn@apple.com>

        Move Transferable RTCDataChannel tests to WPT
        https://bugs.webkit.org/show_bug.cgi?id=226967

        Reviewed by Eric Carlson.

        * web-platform-tests/webrtc-extensions/transfer-datachannel-expected.txt: Renamed from LayoutTests/http/wpt/webrtc/datachannel-worker-expected.txt.
        * web-platform-tests/webrtc-extensions/transfer-datachannel-worker.js: Renamed from LayoutTests/http/wpt/webrtc/datachannel-worker.js.
        * web-platform-tests/webrtc-extensions/transfer-datachannel.html: Renamed from LayoutTests/http/wpt/webrtc/datachannel-worker.html.

2021-06-11  Cathie Chen  <cathiechen@igalia.com>

        Use HTMLDimension to parse different HTML attribute length values
        https://bugs.webkit.org/show_bug.cgi?id=226810

        Reviewed by Darin Adler.

        * web-platform-tests/html/rendering/dimension-attributes-expected.txt:
        * web-platform-tests/html/rendering/pixel-length-attributes-expected.txt:

2021-06-10  Chris Dumez  <cdumez@apple.com>

        REGRESSION: service-workers/service-worker/credentials.https.html and content-security-policy/reporting/report-only-in-meta.sub.html failing together constantly.
        https://bugs.webkit.org/show_bug.cgi?id=226884
        <rdar://problem/79148983>

        Reviewed by Geoffrey Garen.

        Resync set-cookie.py from upsteam WPT 7f913d9d12a54858 as it had a hard-coded
        expiration for the cookie (which has just passed).

        * web-platform-tests/content-security-policy/reporting/support/set-cookie.py:
        (main):
        * web-platform-tests/cookies/resources/set-cookie.py:
        (main):

2021-06-10  Alex Christensen  <achristensen@webkit.org>

        Move Timing-Allow-Origin checks to the network process
        https://bugs.webkit.org/show_bug.cgi?id=226678
        <rdar://problem/45227788>

        Reviewed by Chris Dumez.

        * web-platform-tests/resource-timing/CodingConventions.md: Added.
        * web-platform-tests/resource-timing/SO-XO-SO-redirect-chain-tao.https-expected.txt: Added.
        * web-platform-tests/resource-timing/SO-XO-SO-redirect-chain-tao.https.html: Added.
        * web-platform-tests/resource-timing/SyntheticResponse.py:
        (main):
        * web-platform-tests/resource-timing/TAO-match-expected.txt: Added.
        * web-platform-tests/resource-timing/TAO-match.html: Added.
        * web-platform-tests/resource-timing/TAO-null-opaque-origin-expected.txt: Added.
        * web-platform-tests/resource-timing/TAO-null-opaque-origin.html: Added.
        * web-platform-tests/resource-timing/TAO-port-mismatch-means-crossorigin-expected.txt: Added.
        * web-platform-tests/resource-timing/TAO-port-mismatch-means-crossorigin.html: Added.
        * web-platform-tests/resource-timing/__init__.py: Added.
        * web-platform-tests/resource-timing/buffer-full-add-after-full-event-expected.txt:
        * web-platform-tests/resource-timing/buffer-full-add-after-full-event.html:
        * web-platform-tests/resource-timing/buffer-full-add-entries-during-callback-expected.txt:
        * web-platform-tests/resource-timing/buffer-full-add-entries-during-callback-that-drop.html:
        * web-platform-tests/resource-timing/buffer-full-add-entries-during-callback.html:
        * web-platform-tests/resource-timing/buffer-full-add-then-clear-expected.txt:
        * web-platform-tests/resource-timing/buffer-full-add-then-clear.html:
        * web-platform-tests/resource-timing/buffer-full-decrease-buffer-during-callback.html:
        * web-platform-tests/resource-timing/buffer-full-increase-buffer-during-callback-expected.txt:
        * web-platform-tests/resource-timing/buffer-full-increase-buffer-during-callback.html:
        * web-platform-tests/resource-timing/buffer-full-inspect-buffer-during-callback-expected.txt:
        * web-platform-tests/resource-timing/buffer-full-inspect-buffer-during-callback.html:
        * web-platform-tests/resource-timing/buffer-full-set-to-current-buffer-expected.txt:
        * web-platform-tests/resource-timing/buffer-full-set-to-current-buffer.html:
        * web-platform-tests/resource-timing/buffer-full-store-and-clear-during-callback-expected.txt:
        * web-platform-tests/resource-timing/buffer-full-store-and-clear-during-callback.html:
        * web-platform-tests/resource-timing/buffer-full-then-increased-expected.txt:
        * web-platform-tests/resource-timing/buffer-full-then-increased.html:
        * web-platform-tests/resource-timing/buffer-full-when-populate-entries-expected.txt:
        * web-platform-tests/resource-timing/buffer-full-when-populate-entries.html:
        All these buffer-full tests start failing when I update them.
        That is an unrelated bug.  Firefox has the same bug, and we had the same bug before and after this change.
        * web-platform-tests/resource-timing/connection-reuse-expected.txt: Added.
        * web-platform-tests/resource-timing/connection-reuse.html: Added.
        * web-platform-tests/resource-timing/connection-reuse.https-expected.txt: Added.
        * web-platform-tests/resource-timing/connection-reuse.https.html: Added.
        * web-platform-tests/resource-timing/cross-origin-start-end-time-with-redirects-expected.txt: Added.
        * web-platform-tests/resource-timing/cross-origin-start-end-time-with-redirects.html: Added.
        * web-platform-tests/resource-timing/cross-origin-status-codes.html:
        * web-platform-tests/resource-timing/document-domain-no-impact-opener-expected.txt: Added.
        * web-platform-tests/resource-timing/document-domain-no-impact-opener.html: Added.
        * web-platform-tests/resource-timing/entry-attributes-expected.txt: Added.
        * web-platform-tests/resource-timing/entry-attributes.html: Added.
        * web-platform-tests/resource-timing/fetch-cross-origin-redirect.https-expected.txt: Added.
        * web-platform-tests/resource-timing/fetch-cross-origin-redirect.https.html: Added.
        * web-platform-tests/resource-timing/font-timestamps-expected.txt: Added.
        * web-platform-tests/resource-timing/font-timestamps.html: Added.
        * web-platform-tests/resource-timing/iframe-failed-commit-expected.txt: Added.
        * web-platform-tests/resource-timing/iframe-failed-commit.html: Added.
        * web-platform-tests/resource-timing/initiator-type-for-script-expected.txt: Added.
        * web-platform-tests/resource-timing/initiator-type-for-script.html: Added.
        * web-platform-tests/resource-timing/nextHopProtocol-is-tao-protected.https-expected.txt: Added.
        * web-platform-tests/resource-timing/nextHopProtocol-is-tao-protected.https.html: Added.
        * web-platform-tests/resource-timing/object-not-found-after-TAO-cross-origin-redirect-expected.txt: Added.
        * web-platform-tests/resource-timing/object-not-found-after-TAO-cross-origin-redirect.html: Added.
        * web-platform-tests/resource-timing/object-not-found-after-cross-origin-redirect-expected.txt: Added.
        * web-platform-tests/resource-timing/object-not-found-after-cross-origin-redirect.html: Added.
        * web-platform-tests/resource-timing/redirects-expected.txt: Added.
        * web-platform-tests/resource-timing/redirects.html: Added.
        * web-platform-tests/resource-timing/resource-ignore-data-url-expected.txt: Added.
        * web-platform-tests/resource-timing/resource-ignore-data-url.html: Added.
        * web-platform-tests/resource-timing/resource_TAO_cross_origin_redirect_chain-expected.txt:
        This apparent regression is actually a progression.
        When this test is run from our test infrastructure, Chrome and Firefox fail the same tests that you see now failing here,
        indicating that something is wrong with our test infrastructure.  When run on wpt.live, all browsers pass this test
        after this change.
        * web-platform-tests/resource-timing/resource_cached.html: Added.
        * web-platform-tests/resource-timing/resource_initiator_types.html:
        * web-platform-tests/resource-timing/resource_nested_dedicated_worker.worker.js:
        (async_test):
        (async_test.async const): Deleted.
        * web-platform-tests/resource-timing/resource_timing_content_length-expected.txt: Added.
        * web-platform-tests/resource-timing/resource_timing_content_length.html: Added.
        * web-platform-tests/resource-timing/resources/200_empty.asis: Added.
        * web-platform-tests/resource-timing/resources/TAOResponse.py:
        (main):
        * web-platform-tests/resource-timing/resources/all_resource_types.html: Added.
        * web-platform-tests/resource-timing/resources/buffer-full-utilities.js:
        (const.waitForNextTask):
        (const.forceBufferFullEvent.async clearBufferAndSetSize):
        (const.forceBufferFullEvent):
        (const.fillUpTheBufferWithTwoResources.async clearBufferAndSetSize):
        (async const.fillUpTheBufferWithSingleResource.async clearBufferAndSetSize):
        (async const):
        (let.appendScript): Deleted.
        (let.waitForNextTask): Deleted.
        (let.waitUntilConditionIsMet.cond.return.new.Promise.resolve.let.checkCondition): Deleted.
        (let.waitForEventToFire.return.new.Promise): Deleted.
        (let.waitForEventToFire): Deleted.
        (let.fillUpTheBufferWithTwoResources.async src): Deleted.
        * web-platform-tests/resource-timing/resources/cacheable-and-validated.py: Added.
        (main):
        * web-platform-tests/resource-timing/resources/connection-reuse-test.js: Added.
        (attribute_test.async client):
        (attribute_test):
        * web-platform-tests/resource-timing/resources/csp-default-none.html: Added.
        * web-platform-tests/resource-timing/resources/csp-default-none.html.headers: Added.
        * web-platform-tests/resource-timing/resources/document-domain-no-impact.html: Added.
        * web-platform-tests/resource-timing/resources/document-refreshed.html: Added.
        * web-platform-tests/resource-timing/resources/document-that-refreshes.html: Added.
        * web-platform-tests/resource-timing/resources/embed-refresh.html: Added.
        * web-platform-tests/resource-timing/resources/green-frame.html: Added.
        * web-platform-tests/resource-timing/resources/green.html: Added.
        * web-platform-tests/resource-timing/resources/green.html.headers: Added.
        * web-platform-tests/resource-timing/resources/gzip_xml.py:
        * web-platform-tests/resource-timing/resources/iframe-refresh.html: Added.
        * web-platform-tests/resource-timing/resources/iframe-reload-TAO.sub.html:
        * web-platform-tests/resource-timing/resources/multi_redirect.py:
        (main):
        * web-platform-tests/resource-timing/resources/object-refresh.html: Added.
        * web-platform-tests/resource-timing/resources/redirect-cors.py: Added.
        (main):
        * web-platform-tests/resource-timing/resources/resource-timing-content-length.py: Added.
        (main):
        * web-platform-tests/resource-timing/resources/resource_timing_test0.xml:
        * web-platform-tests/resource-timing/resources/sizes-helper.js: Added.
        (const.checkSizeFields):
        * web-platform-tests/resource-timing/resources/status-code.py:
        (main):
        * web-platform-tests/resource-timing/resources/webperftestharness.js:
        (test_namespace):
        (test_attribute_exists):
        (test_enum):
        * web-platform-tests/resource-timing/resources/webperftestharnessextension.js:
        (test_method_exists):
        * web-platform-tests/resource-timing/same-origin-from-cross-origin-redirect-expected.txt: Added.
        * web-platform-tests/resource-timing/same-origin-from-cross-origin-redirect.html: Added.
        * web-platform-tests/resource-timing/sizes-cache.any.js: Added.
        (const.accumulateEntries):
        (const.checkResourceSizes.list.let.entry.of.entries.else):
        (promise_test):
        * web-platform-tests/resource-timing/sizes-redirect-img-expected.txt: Added.
        * web-platform-tests/resource-timing/sizes-redirect-img.html: Added.
        * web-platform-tests/resource-timing/sizes-redirect.any.js: Added.
        (const.accumulateEntry):
        (const.checkResourceSizes):
        (const.redirectUrl):
        (promise_test):
        * web-platform-tests/resource-timing/status-codes-create-entry.html:
        * web-platform-tests/resource-timing/test_resource_timing-expected.txt:
        * web-platform-tests/resource-timing/test_resource_timing.https-expected.txt:
        * web-platform-tests/resource-timing/workerStart-tao-protected.https.html:

2021-06-10  Youenn Fablet  <youenn@apple.com>

        CountQueuingStrategy.constructor misses checking the type of init param
        https://bugs.webkit.org/show_bug.cgi?id=226759

        Reviewed by Chris Dumez.

        * web-platform-tests/streams/queuing-strategies.any-expected.txt:
        * web-platform-tests/streams/queuing-strategies.any.worker-expected.txt:

2021-06-10  Youenn Fablet  <youenn@apple.com>

        Update libwebrtc to M92
        https://bugs.webkit.org/show_bug.cgi?id=226494

        Reviewed by Eric Carlson.

        * web-platform-tests/webrtc/datachannel-emptystring-expected.txt:
        * web-platform-tests/webrtc/protocol/rtp-payloadtypes-expected.txt:
        * web-platform-tests/webrtc/protocol/unknown-mediatypes-expected.txt:
        * web-platform-tests/webrtc/receiver-track-live.https-expected.txt:

2021-06-09  Cathie Chen  <cathiechen@igalia.com>

        Aspect ratio from width and height attribute is not compatible to string with invalid ends
        https://bugs.webkit.org/show_bug.cgi?id=226469

        Reviewed by Antti Koivisto.

        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/img-aspect-ratio-expected.txt:

2021-06-09  Alex Christensen  <achristensen@webkit.org>

        Performance API: Implement performance.timeOrigin
        https://bugs.webkit.org/show_bug.cgi?id=174862

        Reviewed by Ryosuke Niwa.

        * web-platform-tests/hr-time/idlharness.any-expected.txt:
        * web-platform-tests/hr-time/idlharness.any.worker-expected.txt:
        * web-platform-tests/hr-time/window-worker-timeOrigin.window-expected.txt:

2021-06-08  Rob Buis  <rbuis@igalia.com>

        CSSOM test for serializing counter() fails
        https://bugs.webkit.org/show_bug.cgi?id=184256

        Reviewed by Sam Weinig.

        Update improved test result.

        * web-platform-tests/css/cssom/serialize-values-expected.txt:

2021-06-08  Truitt Savell  <tsavell@apple.com>

        Unreviewed, reverting r278609.

        Broke builds with a linker error.

        Reverted changeset:

        "Update libwebrtc to M92"
        https://bugs.webkit.org/show_bug.cgi?id=226494
        https://commits.webkit.org/r278609

2021-06-08  Youenn Fablet  <youenn@apple.com>

        Update libwebrtc to M92
        https://bugs.webkit.org/show_bug.cgi?id=226494

        Reviewed by Eric Carlson.

        * web-platform-tests/webrtc/datachannel-emptystring-expected.txt:
        * web-platform-tests/webrtc/protocol/rtp-payloadtypes-expected.txt:
        * web-platform-tests/webrtc/protocol/unknown-mediatypes-expected.txt:
        * web-platform-tests/webrtc/receiver-track-live.https-expected.txt:

2021-06-07  Alexey Shvayka  <shvaikalesh@gmail.com>

        Unreviewed, reland r276592 with a fix for put() override in prototype chain of a JSProxy
        https://bugs.webkit.org/show_bug.cgi?id=226185

        * web-platform-tests/WebIDL/ecmascript-binding/global-object-implicit-this-value.any-expected.txt:
        * web-platform-tests/WebIDL/ecmascript-binding/interface-object-set-receiver-expected.txt: Added.
        * web-platform-tests/WebIDL/ecmascript-binding/interface-object-set-receiver.html: Added.
        * web-platform-tests/WebIDL/ecmascript-binding/interface-prototype-constructor-set-receiver-expected.txt:
        * web-platform-tests/WebIDL/ecmascript-binding/interface-prototype-constructor-set-receiver.html:

2021-06-07  Alexey Shvayka  <shvaikalesh@gmail.com>

        Window should behave like a legacy platform object without indexed setter
        https://bugs.webkit.org/show_bug.cgi?id=225894

        Reviewed by Darin Adler.

        * web-platform-tests/html/browsers/the-window-object/window-indexed-properties-delete-no-cache-expected.txt: Added.
        * web-platform-tests/html/browsers/the-window-object/window-indexed-properties-delete-no-cache.html: Added.
        * web-platform-tests/html/browsers/the-window-object/window-indexed-properties-expected.txt:
        * web-platform-tests/html/browsers/the-window-object/window-indexed-properties-strict-expected.txt:
        * web-platform-tests/html/browsers/the-window-object/window-indexed-properties-strict.html:
        * web-platform-tests/html/browsers/the-window-object/window-indexed-properties.html:

2021-06-07  Imanol Fernandez  <ifernandez@igalia.com>

        Use 3D points to map the WebXRBoundedReferenceSpace bounds transform
        https://bugs.webkit.org/show_bug.cgi?id=224365
        <rdar://problem/76754927>

        Reviewed by Sergio Villar Senin.

        Update WebXR test expectations.

        * web-platform-tests/webxr/xrReferenceSpace_originOffsetBounded.https-expected.txt:

2021-06-06  Darin Adler  <darin@apple.com>

        Handle custom identifiers and strings separately, so we can quote strings correctly consistently
        https://bugs.webkit.org/show_bug.cgi?id=226694

        Reviewed by Sam Weinig.

        * web-platform-tests/css/css-animations/parsing/animation-name-valid-expected.txt:
        * web-platform-tests/css/css-counter-styles/counter-style-negative-syntax-expected.txt:
        * web-platform-tests/css/css-counter-styles/counter-style-pad-syntax-expected.txt:
        * web-platform-tests/css/css-counter-styles/counter-style-prefix-suffix-syntax-expected.txt:
        * web-platform-tests/css/css-counter-styles/counter-style-symbols-syntax-expected.txt:
        * web-platform-tests/css/css-grid/parsing/grid-area-computed-expected.txt:
        * web-platform-tests/css/css-grid/parsing/grid-area-shorthand-expected.txt:
        * web-platform-tests/css/css-grid/parsing/grid-area-valid-expected.txt:
        * web-platform-tests/css/css-lists/parsing/content-invalid-expected.txt:
        * web-platform-tests/css/css-transitions/transition-property-002-expected.txt:
        * web-platform-tests/css/cssom/getComputedStyle-pseudo-expected.txt:
        * web-platform-tests/css/cssom/serialize-values-expected.txt:
        Rebased to reflect progressions. In some cases the entire test passes, in other cases we still
        have failures, but the string serialization part of the test has progressed.

2021-06-04  Chris Dumez  <cdumez@apple.com>

        Worker.constructor throws an exception when the url param is an empty string
        https://bugs.webkit.org/show_bug.cgi?id=226637

        Reviewed by Darin Adler.

        Rebaseline WPT test now that it is passing.

        * web-platform-tests/workers/constructors/Worker/Worker-constructor-expected.txt:

2021-06-04  Alex Christensen  <achristensen@webkit.org>

        Implement off-by-default experimental feature for PerformanceResourceTiming.transferSize, encodedBodySize, and decodedBodySize
        https://bugs.webkit.org/show_bug.cgi?id=226629

        Reviewed by Brady Eidson.

        * web-platform-tests/navigation-timing/nav2_test_attributes_exist-expected.txt:
        * web-platform-tests/navigation-timing/nav2_test_attributes_values-expected.txt:
        * web-platform-tests/navigation-timing/secure_connection_start_non_zero.https-expected.txt:
        * web-platform-tests/navigation-timing/test_document_onload-expected.txt:
        * web-platform-tests/resource-timing/TAO-case-insensitive-null-opaque-origin.sub-expected.txt:
        * web-platform-tests/resource-timing/TAO-crossorigin-port.sub-expected.txt:
        * web-platform-tests/resource-timing/TAO-null-opaque-origin.sub-expected.txt:
        This apparent regression is actually just uncovering an existing failure.
        The test expects the sum of many values to not be equal to zero.
        It used to be adding undefined to many 0 values, which returned undefined, which is not equal to zero.
        Now it's adding 0's and getting 0 which correctly indicates that we are not exposing timing values where we should.
        * web-platform-tests/resource-timing/cors-preflight.any-expected.txt:
        * web-platform-tests/resource-timing/cors-preflight.any.worker-expected.txt:
        * web-platform-tests/resource-timing/idlharness.any-expected.txt:
        * web-platform-tests/resource-timing/idlharness.any.worker-expected.txt:
        * web-platform-tests/resource-timing/resource-timing-level1.sub-expected.txt:
        * web-platform-tests/resource-timing/resource_connection_reuse-expected.txt:
        * web-platform-tests/resource-timing/resource_connection_reuse.https-expected.txt:
        * web-platform-tests/resource-timing/single-entry-per-resource-expected.txt:
        * web-platform-tests/resource-timing/test_resource_timing.https-expected.txt:
        * web-platform-tests/service-workers/service-worker/resource-timing-cross-origin.https-expected.txt:

2021-06-03  Youenn Fablet  <youenn@apple.com>

        Cherry-pick webrtc fix to correctly handle audio track state in case of renegotiation
        https://bugs.webkit.org/show_bug.cgi?id=226577

        Reviewed by Eric Carlson.

        * web-platform-tests/webrtc/receiver-track-live.https-expected.txt:

2021-06-02  Alex Christensen  <achristensen@webkit.org>

        Fix WPT test resource-timing/cross-origin-redirects.html
        https://bugs.webkit.org/show_bug.cgi?id=190523
        <rdar://45227788>

        Reviewed by Brady Eidson.

        * web-platform-tests/navigation-timing/nav2_test_redirect_server-expected.txt:
        * web-platform-tests/navigation-timing/nav2_test_redirect_server.html:
        Sometimes, with our use of Performance::reduceTimeResolution, the event times are equal to each other.
        Allow this.
        * web-platform-tests/resource-timing/cross-origin-redirects-expected.txt: Added.
        * web-platform-tests/resource-timing/cross-origin-redirects.html: Added.
        * web-platform-tests/resource-timing/resources/entry-invariants.js: Added.
        (const.assert_all_equal_):
        (const.assert_ordered_):
        (const.assert_zeroed_):
        (const.assert_not_negative_):
        (const.assert_positive_):
        (const.attribute_test_internal):
        (async const):
        (const.attribute_test_with_validator):
        * web-platform-tests/resource-timing/resources/resource-loaders.js: Added.
        (const.load.font.path.return.document.fonts.ready.then):
        (const.load.stylesheet.async path):
        (const.load.iframe.async path):
        (const.load.script.async path):
        (const.load.xhr_sync.async path):

2021-06-02  Martin Robinson  <mrobinson@igalia.com>

        [css-scroll-snap] Scroll snap is broken with non-horizontal writing modes
        https://bugs.webkit.org/show_bug.cgi?id=226010

        Reviewed by Frédéric Wang.

        * web-platform-tests/css/css-scroll-snap/scroll-snap-type-on-root-element-expected.txt: Update expectations to mark tests as passing.
        * web-platform-tests/css/css-scroll-snap/snap-inline-block-expected.txt: Ditto.

2021-06-01  Jean-Yves Avenard  <jya@apple.com>

        MediaSession.coordinator should not be optional, relying on coordinator state change instead
        https://bugs.webkit.org/show_bug.cgi?id=226328
        rdar://77461335

        Reviewed by Eric Carlson.

        * web-platform-tests/mediasession/idlharness.window-expected.txt:

2021-06-01  Cathie Chen  <cathiechen@igalia.com>

        Update tests of mapping width and height attributes to aspect-ratio from WPT
        https://bugs.webkit.org/show_bug.cgi?id=226472

        Reviewed by Rob Buis.

        Base commit: https://github.com/web-platform-tests/wpt/commit/da6406b38dae07a8a69c384b72ddd89b48d5194a

        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/canvas-aspect-ratio-expected.txt:
        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/canvas-aspect-ratio.html:
        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/img-aspect-ratio-expected.txt:
        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/img-aspect-ratio.html:
        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/resources/aspect-ratio.js:
        (test_computed_style_aspect_ratio):
        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/video-aspect-ratio.html:

2021-05-31  Chris Dumez  <cdumez@apple.com>

        Unreviewed, rebaseline web-platform-tests/webaudio/the-audio-api/the-convolvernode-interface/active-processing.https.html after r278233.

        The test progressed slightly even though it still isn't fully passing.

        * web-platform-tests/webaudio/the-audio-api/the-convolvernode-interface/active-processing.https-expected.txt:

2021-04-29  Sergio Villar Senin  <svillar@igalia.com>

        Enable <summary> to be a flex container
        https://bugs.webkit.org/show_bug.cgi?id=190065

        Reviewed by Antti Koivisto.

        Imported several WPT tests adding coverage for <summary> as grid/flex.

        * resources/import-expectations.json:
        * resources/resource-files.json:
        * web-platform-tests/html/rendering/the-details-element/details-blockification-expected.txt: Added.
        * web-platform-tests/html/rendering/the-details-element/details-blockification.html: Added.
        * web-platform-tests/html/rendering/the-details-element/summary-display-flex-expected.html: Added.
        * web-platform-tests/html/rendering/the-details-element/summary-display-flex.html: Added.
        * web-platform-tests/html/rendering/the-details-element/summary-display-grid-expected.html: Added.
        * web-platform-tests/html/rendering/the-details-element/summary-display-grid.html: Added.
        * web-platform-tests/html/rendering/the-details-element/summary-display-inline-flex-expected.html: Added.
        * web-platform-tests/html/rendering/the-details-element/summary-display-inline-flex.html: Added.
        * web-platform-tests/html/rendering/the-details-element/summary-display-inline-grid-expected.html: Added.
        * web-platform-tests/html/rendering/the-details-element/summary-display-inline-grid.html: Added.
        * web-platform-tests/html/rendering/the-details-element/summary-in-ol-expected.html: Added.
        * web-platform-tests/html/rendering/the-details-element/summary-in-ol.html: Added.
        * web-platform-tests/html/rendering/the-details-element/w3c-import.log:

2021-05-28  Rob Buis  <rbuis@igalia.com>

        Webkit doesn't calculate padding-top/-bottom in % correctly when parent has padding
        https://bugs.webkit.org/show_bug.cgi?id=221202

        Reviewed by Manuel Rego Casasnovas.

        Add test for this.

        * web-platform-tests/css/css-position/position-absolute-padding-percentage-expected.txt: Added.
        * web-platform-tests/css/css-position/position-absolute-padding-percentage.html: Added.

2021-05-28  Martin Robinson  <mrobinson@webkit.org>

        More readily layout when scroll-snap properties change
        https://bugs.webkit.org/show_bug.cgi?id=225950

        Reviewed by Simon Fraser.

        * web-platform-tests/css/css-scroll-snap/scroll-snap-type-change-expected.txt: Updated expectation
        for newly passing test.

2021-05-27  Said Abou-Hallawa  <said@apple.com>

        Values of keySplines control points must all be in the range 0 to 1
        https://bugs.webkit.org/show_bug.cgi?id=226336

        Reviewed by Sam Weinig.

        * web-platform-tests/svg/animations/keysplines-x-limits-expected.txt:
        * web-platform-tests/svg/animations/keysplines-y-limits-expected.txt: Added.
        * web-platform-tests/svg/animations/keysplines-y-limits.html: Added.

2021-05-27  Ziran Sun  <zsun@igalia.com>

        [css-grid] Add discrete animation support for grid-template-columns|rows
        https://bugs.webkit.org/show_bug.cgi?id=226174

        Reviewed by Antoine Quint.

        * web-platform-tests/css/css-grid/animation/grid-template-columns-interpolation-expected.txt:
        * web-platform-tests/css/css-grid/animation/grid-template-rows-interpolation-expected.txt:

2021-05-26  Alex Christensen  <achristensen@webkit.org>

        URL path setter messes up UTF-8 encoding after ?
        https://bugs.webkit.org/show_bug.cgi?id=226136

        Reviewed by Chris Dumez.

        * web-platform-tests/url/url-setters-expected.txt:

2021-05-26  Chris Dumez  <cdumez@apple.com>

        Drop SecurityPolicyViolationEvent's blockedURL & documentURL attributes
        https://bugs.webkit.org/show_bug.cgi?id=226270

        Reviewed by Alex Christensen.

        Rebaseline WPT test due to change.

        * web-platform-tests/content-security-policy/securitypolicyviolation/idlharness.window-expected.txt:

2021-05-25  Chris Dumez  <cdumez@apple.com>

        CSP does not apply to AudioWorklets
        https://bugs.webkit.org/show_bug.cgi?id=225862
        <rdar://problem/78098440>

        Reviewed by Eric Carlson.

        Rebaseline WPT test that is now passing.

        * web-platform-tests/worklets/audio-worklet-csp.https-expected.txt:

2021-05-25  Chris Dumez  <cdumez@apple.com>

        SecurityPolicyViolationEvent.constructor do not throw any exception as expected when eventInitDict param do not include all the members required
        https://bugs.webkit.org/show_bug.cgi?id=226215

        Reviewed by Darin Adler.

        Rebaseline WPT tests that are now passing.

        * web-platform-tests/content-security-policy/securitypolicyviolation/constructor-required-fields-expected.txt:
        * web-platform-tests/content-security-policy/securitypolicyviolation/idlharness.window-expected.txt:

2021-05-25  Tim Nguyen  <ntim@apple.com>

        Add basic <dialog> element UA styles
        https://bugs.webkit.org/show_bug.cgi?id=226169

        Reviewed by Antti Koivisto.

        Basic styles from https://html.spec.whatwg.org/#flow-content-3

        * web-platform-tests/html/rendering/non-replaced-elements/flow-content-0/dialog-expected.txt:
        * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/abspos-dialog-layout-expected.txt:
        * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/centering-expected.txt:
        * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-autofocus-expected.txt:
        * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-autofocus-multiple-times-expected.txt:
        * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/dialog-showModal-expected.txt:
        * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/inert-node-is-unfocusable-expected.txt:
        * web-platform-tests/html/semantics/interactive-elements/the-dialog-element/remove-dialog-should-unblock-document-expected.txt:

2021-05-24  Cathie Chen  <cathiechen@igalia.com>

        Use the parsed width and height attributes as a presentational hint for aspect-ratio CSS property
        https://bugs.webkit.org/show_bug.cgi?id=217529

        Reviewed by Antti Koivisto.

        Update the expected results of test_computed_style which are passed now.

        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/img-aspect-ratio-expected.txt:
        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/video-aspect-ratio-expected.txt:

2021-05-24  Cameron McCormack  <heycam@apple.com>

        Add missing operators.woff that a few WPTs reference.
        https://bugs.webkit.org/show_bug.cgi?id=225586
        <rdar://77527890>

        Reviewed by Frédéric Wang.

        * web-platform-tests/fonts/math/operators.woff: Added.
        * web-platform-tests/mathml/presentation-markup/operators/mo-font-relative-lengths-001-expected.txt:
        * web-platform-tests/mathml/presentation-markup/operators/mo-minsize-maxsize-001-expected.txt:
        * web-platform-tests/mathml/presentation-markup/operators/mo-stretch-properties-dynamic-001-expected.txt:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-combining-expected.txt: Added.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-001-expected.txt:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-002-expected.txt:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-003-expected.txt:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-001-expected.txt:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-005-expected.txt:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-006-expected.txt:

2021-05-24  Imanol Fernandez  <ifernandez@igalia.com>

        Update WebXR WPT tests
        https://bugs.webkit.org/show_bug.cgi?id=224935
        <rdar://problem/77323099>

        Reviewed by Sergio Villar Senin.

        * resources/import-expectations.json:
        * web-platform-tests/webxr/META.yml:
        * web-platform-tests/webxr/anchors/META.yml: Added.
        * web-platform-tests/webxr/anchors/ar_anchor_freefloating_create_move.https.html:
        * web-platform-tests/webxr/anchors/ar_anchor_freefloating_delay_creation.https.html:
        * web-platform-tests/webxr/anchors/ar_anchor_freefloating_failure.https.html:
        * web-platform-tests/webxr/anchors/ar_anchor_freefloating_pause_resume_stop.https.html:
        * web-platform-tests/webxr/anchors/ar_anchor_states.https.html:
        * web-platform-tests/webxr/anchors/w3c-import.log:
        * web-platform-tests/webxr/ar-module/META.yml: Added.
        * web-platform-tests/webxr/ar-module/w3c-import.log:
        * web-platform-tests/webxr/ar-module/xrDevice_requestSession_immersive-ar.https-expected.txt:
        * web-platform-tests/webxr/ar-module/xrDevice_requestSession_immersive-ar.https.html:
        * web-platform-tests/webxr/ar-module/xrSession_environmentBlendMode.https.html:
        * web-platform-tests/webxr/ar-module/xrSession_interactionMode.https.html: Added.
        * web-platform-tests/webxr/depth-sensing/cpu/depth_sensing_cpu_dataUnavailable.https.html: Added.
        * web-platform-tests/webxr/depth-sensing/cpu/depth_sensing_cpu_inactiveFrame.https.html: Added.
        * web-platform-tests/webxr/depth-sensing/cpu/depth_sensing_cpu_incorrectUsage.https.html: Added.
        * web-platform-tests/webxr/depth-sensing/cpu/depth_sensing_cpu_luminance_alpha_dataValid.https.html: Added.
        * web-platform-tests/webxr/depth-sensing/cpu/depth_sensing_cpu_staleView.https.html: Added.
        * web-platform-tests/webxr/depth-sensing/cpu/w3c-import.log: Added.
        * web-platform-tests/webxr/depth-sensing/dataUnavailableTests.js: Added.
        (return.session.requestReferenceSpace.then):
        (const.dataUnavailableTestFunctionGenerator):
        * web-platform-tests/webxr/depth-sensing/depth_sensing_notEnabled.https.html: Added.
        * web-platform-tests/webxr/depth-sensing/gpu/depth_sensing_gpu_dataUnavailable.https.html: Added.
        * web-platform-tests/webxr/depth-sensing/gpu/depth_sensing_gpu_inactiveFrame.https.html: Added.
        * web-platform-tests/webxr/depth-sensing/gpu/depth_sensing_gpu_incorrectUsage.https.html: Added.
        * web-platform-tests/webxr/depth-sensing/gpu/depth_sensing_gpu_staleView.https.html: Added.
        * web-platform-tests/webxr/depth-sensing/gpu/w3c-import.log: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/ar-module/w3c-import.log.
        * web-platform-tests/webxr/depth-sensing/inactiveFrameTests.js: Added.
        (return.session.requestReferenceSpace.then):
        (const.inactiveFrameTestFunctionGenerator):
        * web-platform-tests/webxr/depth-sensing/staleViewsTests.js: Added.
        (return.session.requestReferenceSpace.then):
        (const.staleViewsTestFunctionGenerator):
        * web-platform-tests/webxr/depth-sensing/w3c-import.log: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/dom-overlay/w3c-import.log.
        * web-platform-tests/webxr/dom-overlay/META.yml: Added.
        * web-platform-tests/webxr/dom-overlay/ar_dom_overlay.https.html:
        * web-platform-tests/webxr/dom-overlay/idlharness.https.window.js:
        (async idl_array):
        * web-platform-tests/webxr/dom-overlay/nested_fullscreen.https.html: Added.
        * web-platform-tests/webxr/dom-overlay/w3c-import.log:
        * web-platform-tests/webxr/events_input_source_recreation.https-expected.txt:
        * web-platform-tests/webxr/events_input_source_recreation.https.html:
        * web-platform-tests/webxr/events_input_sources_change.https-expected.txt:
        * web-platform-tests/webxr/events_input_sources_change.https.html:
        * web-platform-tests/webxr/events_referenceSpace_reset_immersive.https.html:
        * web-platform-tests/webxr/events_referenceSpace_reset_inline.https.html:
        * web-platform-tests/webxr/events_session_select.https-expected.txt:
        * web-platform-tests/webxr/events_session_select.https.html:
        * web-platform-tests/webxr/events_session_select_subframe.https-expected.txt:
        * web-platform-tests/webxr/events_session_select_subframe.https.html:
        * web-platform-tests/webxr/events_session_squeeze.https-expected.txt:
        * web-platform-tests/webxr/events_session_squeeze.https.html:
        * web-platform-tests/webxr/exclusive_requestFrame_nolayer.https.html:
        * web-platform-tests/webxr/gamepads-module/META.yml: Added.
        * web-platform-tests/webxr/gamepads-module/w3c-import.log:
        * web-platform-tests/webxr/gamepads-module/xrInputSource_gamepad_disconnect.https.html:
        * web-platform-tests/webxr/gamepads-module/xrInputSource_gamepad_input_registered.https.html:
        * web-platform-tests/webxr/getInputPose_handedness.https-expected.txt:
        * web-platform-tests/webxr/getInputPose_handedness.https.html:
        * web-platform-tests/webxr/getInputPose_pointer.https.html:
        * web-platform-tests/webxr/getViewerPose_emulatedPosition.https-expected.txt:
        * web-platform-tests/webxr/getViewerPose_emulatedPosition.https.html:
        * web-platform-tests/webxr/hand-input/META.yml: Added.
        * web-platform-tests/webxr/hand-input/idlharness.https.window.html: Added.
        * web-platform-tests/webxr/hand-input/idlharness.https.window.js: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/dom-overlay/idlharness.https.window.js.
        (async idl_array):
        * web-platform-tests/webxr/hand-input/w3c-import.log: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/dom-overlay/w3c-import.log.
        * web-platform-tests/webxr/hit-test/META.yml: Added.
        * web-platform-tests/webxr/hit-test/ar_hittest_source_cancel.https.html: Added.
        * web-platform-tests/webxr/hit-test/ar_hittest_subscription_inputSources.https.html:
        * web-platform-tests/webxr/hit-test/ar_hittest_subscription_refSpaces.https.html:
        * web-platform-tests/webxr/hit-test/ar_hittest_subscription_states_regular.https.html:
        * web-platform-tests/webxr/hit-test/ar_hittest_subscription_states_transient.https.html:
        * web-platform-tests/webxr/hit-test/ar_hittest_subscription_transientInputSources.https.html:
        * web-platform-tests/webxr/hit-test/w3c-import.log:
        * web-platform-tests/webxr/layers/META.yml: Added.
        * web-platform-tests/webxr/layers/w3c-import.log: Copied from LayoutTests/imported/w3c/web-platform-tests/webxr/dom-overlay/w3c-import.log.
        * web-platform-tests/webxr/layers/xrWebGLBinding_constructor.https.html: Added.
        * web-platform-tests/webxr/light-estimation/w3c-import.log: Added.
        * web-platform-tests/webxr/light-estimation/xrFrame_getLightEstimate_oldSession.https.html: Added.
        * web-platform-tests/webxr/light-estimation/xrFrame_getLightEstimate_staleFrame.https.html: Added.
        * web-platform-tests/webxr/light-estimation/xrFrame_getLightEstimate_valid.https.html: Added.
        * web-platform-tests/webxr/light-estimation/xrSession_getLightProbe_ended.https.html: Added.
        * web-platform-tests/webxr/light-estimation/xrSession_getLightProbe_notEnabled.https.html: Added.
        * web-platform-tests/webxr/light-estimation/xrSession_getLightProbe_valid.https.html: Added.
        * web-platform-tests/webxr/light-estimation/xrWebGLBinding_getReflectionCubeMap.https.html: Added.
        * web-platform-tests/webxr/navigator_xr_sameObject.https-expected.txt:
        * web-platform-tests/webxr/navigator_xr_sameObject.https.html:
        * web-platform-tests/webxr/render_state_update.https-expected.txt:
        * web-platform-tests/webxr/render_state_update.https.html:
        * web-platform-tests/webxr/render_state_vertical_fov_immersive.https-expected.txt:
        * web-platform-tests/webxr/render_state_vertical_fov_immersive.https.html:
        * web-platform-tests/webxr/render_state_vertical_fov_inline.https.html:
        * web-platform-tests/webxr/resources/w3c-import.log:
        * web-platform-tests/webxr/resources/webxr_math_utils.js:
        (let.flip_quaternion):
        * web-platform-tests/webxr/resources/webxr_test_asserts.js:
        (const.get_mismatched_component):
        (const.assert_point_approx_equals):
        (const.assert_orientation_approx_equals):
        (const.assert_point_significantly_not_equals):
        (const.assert_transform_approx_equals):
        * web-platform-tests/webxr/resources/webxr_test_constants.js:
        * web-platform-tests/webxr/resources/webxr_test_constants_fake_depth.js: Added.
        (const.convertDepthBufferToArrayBuffer):
        (const.createDepthSensingData):
        (const.getExpectedValueAt):
        * web-platform-tests/webxr/resources/webxr_util.js:
        (async return):
        (async loadChromiumResources):
        * web-platform-tests/webxr/w3c-import.log:
        * web-platform-tests/webxr/webGLCanvasContext_create_xrcompatible.https-expected.txt:
        * web-platform-tests/webxr/webGLCanvasContext_create_xrcompatible.https.html:
        * web-platform-tests/webxr/webGLCanvasContext_makecompatible_contextlost.https-expected.txt:
        * web-platform-tests/webxr/webGLCanvasContext_makecompatible_contextlost.https.html:
        * web-platform-tests/webxr/webGLCanvasContext_makecompatible_reentrant.https-expected.txt:
        * web-platform-tests/webxr/webGLCanvasContext_makecompatible_reentrant.https.html:
        * web-platform-tests/webxr/webxr_feature_policy.https.html:
        * web-platform-tests/webxr/xrBoundedReferenceSpace_updates.https-expected.txt:
        * web-platform-tests/webxr/xrBoundedReferenceSpace_updates.https.html:
        * web-platform-tests/webxr/xrDevice_disconnect_ends.https.html:
        * web-platform-tests/webxr/xrDevice_requestSession_immersive.https-expected.txt:
        * web-platform-tests/webxr/xrDevice_requestSession_immersive.https.html:
        * web-platform-tests/webxr/xrDevice_requestSession_optionalFeatures.https-expected.txt:
        * web-platform-tests/webxr/xrDevice_requestSession_optionalFeatures.https.html:
        * web-platform-tests/webxr/xrDevice_requestSession_requiredFeatures_unknown.https-expected.txt:
        * web-platform-tests/webxr/xrFrame_getPose.https-expected.txt:
        * web-platform-tests/webxr/xrFrame_getPose.https.html:
        * web-platform-tests/webxr/xrFrame_getViewerPose_getPose.https-expected.txt:
        * web-platform-tests/webxr/xrFrame_getViewerPose_getPose.https.html:
        * web-platform-tests/webxr/xrFrame_getViewerPose_getPose_identities.https.html: Added.
        * web-platform-tests/webxr/xrFrame_lifetime.https.html:
        * web-platform-tests/webxr/xrFrame_session_sameObject.https-expected.txt:
        * web-platform-tests/webxr/xrFrame_session_sameObject.https.html:
        * web-platform-tests/webxr/xrInputSource_add_remove.https-expected.txt:
        * web-platform-tests/webxr/xrInputSource_add_remove.https.html:
        * web-platform-tests/webxr/xrInputSource_emulatedPosition.https-expected.txt:
        * web-platform-tests/webxr/xrInputSource_emulatedPosition.https.html:
        * web-platform-tests/webxr/xrInputSource_profiles.https-expected.txt:
        * web-platform-tests/webxr/xrInputSource_profiles.https.html:
        * web-platform-tests/webxr/xrInputSource_sameObject.https-expected.txt:
        * web-platform-tests/webxr/xrInputSource_sameObject.https.html:
        * web-platform-tests/webxr/xrPose_transform_sameObject.https.html:
        * web-platform-tests/webxr/xrReferenceSpace_originOffset.https-expected.txt:
        * web-platform-tests/webxr/xrReferenceSpace_originOffset.https.html:
        * web-platform-tests/webxr/xrReferenceSpace_originOffsetBounded.https.html:
        * web-platform-tests/webxr/xrReferenceSpace_originOffset_viewer.https-expected.txt:
        * web-platform-tests/webxr/xrReferenceSpace_originOffset_viewer.https.html:
        * web-platform-tests/webxr/xrReferenceSpace_relationships.https-expected.txt:
        * web-platform-tests/webxr/xrReferenceSpace_relationships.https.html:
        * web-platform-tests/webxr/xrRigidTransform_constructor.https-expected.txt:
        * web-platform-tests/webxr/xrRigidTransform_constructor.https.html:
        * web-platform-tests/webxr/xrRigidTransform_inverse.https-expected.txt:
        * web-platform-tests/webxr/xrRigidTransform_inverse.https.html:
        * web-platform-tests/webxr/xrRigidTransform_sameObject.https-expected.txt:
        * web-platform-tests/webxr/xrRigidTransform_sameObject.https.html:
        * web-platform-tests/webxr/xrSession_cancelAnimationFrame.https-expected.txt:
        * web-platform-tests/webxr/xrSession_cancelAnimationFrame.https.html:
        * web-platform-tests/webxr/xrSession_cancelAnimationFrame_invalidhandle.https-expected.txt:
        * web-platform-tests/webxr/xrSession_cancelAnimationFrame_invalidhandle.https.html:
        * web-platform-tests/webxr/xrSession_end.https-expected.txt:
        * web-platform-tests/webxr/xrSession_end.https.html:
        * web-platform-tests/webxr/xrSession_input_events_end.https.html:
        * web-platform-tests/webxr/xrSession_requestAnimationFrame_callback_calls.https-expected.txt:
        * web-platform-tests/webxr/xrSession_requestAnimationFrame_callback_calls.https.html:
        * web-platform-tests/webxr/xrSession_requestAnimationFrame_data_valid.https-expected.txt:
        * web-platform-tests/webxr/xrSession_requestAnimationFrame_data_valid.https.html:
        * web-platform-tests/webxr/xrSession_requestAnimationFrame_getViewerPose.https-expected.txt:
        * web-platform-tests/webxr/xrSession_requestAnimationFrame_getViewerPose.https.html:
        * web-platform-tests/webxr/xrSession_requestAnimationFrame_timestamp.https-expected.txt:
        * web-platform-tests/webxr/xrSession_requestAnimationFrame_timestamp.https.html:
        * web-platform-tests/webxr/xrSession_requestReferenceSpace.https-expected.txt:
        * web-platform-tests/webxr/xrSession_requestReferenceSpace.https.html:
        * web-platform-tests/webxr/xrSession_requestReferenceSpace_features.https-expected.txt:
        * web-platform-tests/webxr/xrSession_requestReferenceSpace_features.https.html:
        * web-platform-tests/webxr/xrSession_requestSessionDuringEnd.https.html: Added.
        * web-platform-tests/webxr/xrSession_sameObject.https-expected.txt:
        * web-platform-tests/webxr/xrSession_sameObject.https.html:
        * web-platform-tests/webxr/xrSession_viewer_referenceSpace.https-expected.txt:
        * web-platform-tests/webxr/xrSession_viewer_referenceSpace.https.html:
        * web-platform-tests/webxr/xrSession_visibilityState.https.html:
        * web-platform-tests/webxr/xrStationaryReferenceSpace_floorlevel_updates.https.html:
        * web-platform-tests/webxr/xrView_eyes.https-expected.txt:
        * web-platform-tests/webxr/xrView_eyes.https.html:
        * web-platform-tests/webxr/xrView_match.https-expected.txt:
        * web-platform-tests/webxr/xrView_match.https.html:
        * web-platform-tests/webxr/xrView_oneframeupdate.https-expected.txt:
        * web-platform-tests/webxr/xrView_oneframeupdate.https.html:
        * web-platform-tests/webxr/xrView_sameObject.https-expected.txt:
        * web-platform-tests/webxr/xrView_sameObject.https.html:
        * web-platform-tests/webxr/xrViewerPose_views_sameObject.https-expected.txt:
        * web-platform-tests/webxr/xrViewerPose_views_sameObject.https.html:
        * web-platform-tests/webxr/xrViewport_valid.https-expected.txt:
        * web-platform-tests/webxr/xrViewport_valid.https.html:
        * web-platform-tests/webxr/xrWebGLLayer_constructor.https-expected.txt:
        * web-platform-tests/webxr/xrWebGLLayer_constructor.https.html:
        * web-platform-tests/webxr/xrWebGLLayer_framebuffer_draw.https-expected.txt:
        * web-platform-tests/webxr/xrWebGLLayer_framebuffer_draw.https.html:
        * web-platform-tests/webxr/xrWebGLLayer_framebuffer_sameObject.https-expected.txt:
        * web-platform-tests/webxr/xrWebGLLayer_framebuffer_sameObject.https.html:
        * web-platform-tests/webxr/xrWebGLLayer_framebuffer_scale.https.html:
        * web-platform-tests/webxr/xrWebGLLayer_opaque_framebuffer.https-expected.txt:
        * web-platform-tests/webxr/xrWebGLLayer_opaque_framebuffer.https.html:
        * web-platform-tests/webxr/xrWebGLLayer_opaque_framebuffer_stencil.https.html:
        * web-platform-tests/webxr/xrWebGLLayer_viewports.https-expected.txt:
        * web-platform-tests/webxr/xrWebGLLayer_viewports.https.html:
        * web-platform-tests/webxr/xr_viewport_scale.https.html: Added.

2021-05-21  Rob Buis  <rbuis@igalia.com>

        grid track size should reject unitless length
        https://bugs.webkit.org/show_bug.cgi?id=189137

        Reviewed by Sergio Villar Senin.

        Update improved test result.

        * web-platform-tests/quirks/unitless-length/excluded-properties-001-expected.txt:

2021-05-20  Alexey Shvayka  <shvaikalesh@gmail.com>

        [WebIDL] Remove [ImplicitThis] and [CustomProxyToJSObject] extended attributes
        https://bugs.webkit.org/show_bug.cgi?id=223758

        Reviewed by Sam Weinig.

        * web-platform-tests/WebIDL/ecmascript-binding/global-object-implicit-this-value.any-expected.txt: Added.
        * web-platform-tests/WebIDL/ecmascript-binding/global-object-implicit-this-value.any.html: Added.
        * web-platform-tests/WebIDL/ecmascript-binding/global-object-implicit-this-value.any.js: Added.
        * web-platform-tests/WebIDL/ecmascript-binding/global-object-implicit-this-value.any.worker-expected.txt: Added.
        * web-platform-tests/WebIDL/ecmascript-binding/global-object-implicit-this-value.any.worker.html: Added.
        * web-platform-tests/webaudio/the-audio-api/the-audioworklet-interface/audioworklet-registerprocessor-called-on-globalthis.https-expected.txt: Added.
        * web-platform-tests/webaudio/the-audio-api/the-audioworklet-interface/audioworklet-registerprocessor-called-on-globalthis.https.html: Added.
        * web-platform-tests/webaudio/the-audio-api/the-audioworklet-interface/processors/dummy-processor-globalthis.js: Added.

2021-05-20  Alexey Shvayka  <shvaikalesh@gmail.com>

        Align internal methods of WindowProperties object with the spec
        https://bugs.webkit.org/show_bug.cgi?id=222918

        Reviewed by Sam Weinig.

        * web-platform-tests/WebIDL/ecmascript-binding/class-string-named-properties-object.window-expected.txt:
        * web-platform-tests/WebIDL/ecmascript-binding/class-string-named-properties-object.window.js:
        * web-platform-tests/WebIDL/ecmascript-binding/window-named-properties-object-expected.txt: Added.
        * web-platform-tests/WebIDL/ecmascript-binding/window-named-properties-object.html: Added.
        * web-platform-tests/html/browsers/origin/cross-origin-objects/cross-origin-objects.html:
        * web-platform-tests/html/browsers/the-window-object/named-access-on-the-window-object/window-named-properties-expected.txt:
        * web-platform-tests/html/browsers/the-window-object/named-access-on-the-window-object/window-named-properties.html:

2021-05-20  Felipe Erias  <felipeerias@igalia.com>

        [css-flexbox] Wrong height of an empty table inside an orthogonal flex parent
        https://bugs.webkit.org/show_bug.cgi?id=225339

        Reviewed by Sergio Villar Senin.
        
        Add a test for an empty table inside a flexbox container, where the logical heights of both elements
        are orthogonal to each other (the table has vertical writing mode and the flexbox uses row direction).
        
        This is a flipped version of table-as-item-specified-height.html.

        * web-platform-tests/css/css-flexbox/table-as-item-specified-width-vertical-expected.html: Added.
        * web-platform-tests/css/css-flexbox/table-as-item-specified-width-vertical.html: Added.

2021-05-19  Alex Christensen  <achristensen@webkit.org>

        Add support for Navigation Timing Level 2
        https://bugs.webkit.org/show_bug.cgi?id=184363

        Reviewed by Ryosuke Niwa.

        * web-platform-tests/navigation-timing/META.yml: Added.
        * web-platform-tests/navigation-timing/dom_interactive_image_document-expected.txt: Added.
        * web-platform-tests/navigation-timing/dom_interactive_image_document.html: Added.
        * web-platform-tests/navigation-timing/dom_interactive_media_document-expected.txt: Added.
        * web-platform-tests/navigation-timing/dom_interactive_media_document.html: Added.
        * web-platform-tests/navigation-timing/idlharness.window.js:
        * web-platform-tests/navigation-timing/nav2_test_attributes_exist-expected.txt: Added.
        * web-platform-tests/navigation-timing/nav2_test_attributes_exist.html: Added.
        This test fails because we have not implemented transferSize, encodedBodySize, and decodedBodySize as noted in PerformanceResourceTiming.idl
        * web-platform-tests/navigation-timing/nav2_test_attributes_values-expected.txt: Added.
        * web-platform-tests/navigation-timing/nav2_test_attributes_values.html: Added.
        This test fails because we have not implemented transferSize, encodedBodySize, and decodedBodySize as noted in PerformanceResourceTiming.idl
        * web-platform-tests/navigation-timing/nav2_test_document_open-expected.txt:
        * web-platform-tests/navigation-timing/nav2_test_document_open.html:
        * web-platform-tests/navigation-timing/nav2_test_document_replaced-expected.txt:
        * web-platform-tests/navigation-timing/nav2_test_document_replaced.html:
        * web-platform-tests/navigation-timing/nav2_test_frame_removed-expected.txt:
        * web-platform-tests/navigation-timing/nav2_test_instance_accessible_from_the_start-expected.txt:
        * web-platform-tests/navigation-timing/nav2_test_instance_accessible_from_the_start.html:
        * web-platform-tests/navigation-timing/nav2_test_instance_accessors-expected.txt: Added.
        * web-platform-tests/navigation-timing/nav2_test_instance_accessors.html: Added.
        * web-platform-tests/navigation-timing/nav2_test_navigate_iframe-expected.txt: Added.
        * web-platform-tests/navigation-timing/nav2_test_navigate_iframe.html: Added.
        * web-platform-tests/navigation-timing/nav2_test_navigate_within_document-expected.txt:
        * web-platform-tests/navigation-timing/nav2_test_navigate_within_document.html:
        * web-platform-tests/navigation-timing/nav2_test_navigation_type_backforward-expected.txt:
        * web-platform-tests/navigation-timing/nav2_test_navigation_type_backforward.html:
        * web-platform-tests/navigation-timing/nav2_test_navigation_type_navigate-expected.txt: Added.
        * web-platform-tests/navigation-timing/nav2_test_navigation_type_navigate.html: Added.
        * web-platform-tests/navigation-timing/nav2_test_navigation_type_reload-expected.txt:
        * web-platform-tests/navigation-timing/nav2_test_navigation_type_reload.html:
        * web-platform-tests/navigation-timing/nav2_test_redirect_chain_xserver_final_original_origin-expected.txt: Added.
        This test fails because our test infrastructure doesn't support loading from www.localhost.
        * web-platform-tests/navigation-timing/nav2_test_redirect_chain_xserver_final_original_origin.html: Copied from LayoutTests/imported/w3c/web-platform-tests/navigation-timing/nav2_test_redirect_chain_xserver_partial_opt_in.html.
        * web-platform-tests/navigation-timing/nav2_test_redirect_chain_xserver_partial_opt_in-expected.txt:
        This test fails because our test infrastructure doesn't support loading from www.localhost.
        * web-platform-tests/navigation-timing/nav2_test_redirect_chain_xserver_partial_opt_in.html:
        * web-platform-tests/navigation-timing/nav2_test_redirect_none-expected.txt: Added.
        * web-platform-tests/navigation-timing/nav2_test_redirect_none.html: Added.
        * web-platform-tests/navigation-timing/nav2_test_redirect_server-expected.txt:
        This test failure needs further investigation.
        * web-platform-tests/navigation-timing/nav2_test_redirect_server.html:
        * web-platform-tests/navigation-timing/nav2_test_redirect_xserver-expected.txt:
        This test fails because our test infrastructure doesn't support loading from www.localhost.
        * web-platform-tests/navigation-timing/nav2_test_redirect_xserver.html:
        * web-platform-tests/navigation-timing/nav2_test_unique_nav_instances-expected.txt: Added.
        This test failure needs further investigation.
        * web-platform-tests/navigation-timing/nav2_test_unique_nav_instances.html: Added.
        * web-platform-tests/navigation-timing/po-navigation-expected.txt: Added.
        * web-platform-tests/navigation-timing/po-navigation.html: Added.
        * web-platform-tests/navigation-timing/resources/webperftestharness.js:
        (test_namespace):
        (test_attribute_exists):
        (test_enum):
        * web-platform-tests/navigation-timing/secure-connection-start-reuse.https-expected.txt: Added.
        * web-platform-tests/navigation-timing/secure-connection-start-reuse.https.html: Added.
        * web-platform-tests/navigation-timing/secure_connection_start_non_zero.https-expected.txt:
        This test has been marked as flaky.  It needs to be fixed to not rely on no initial connection reuse.
        * web-platform-tests/navigation-timing/supported_navigation_type.any-expected.txt:
        * web-platform-tests/navigation-timing/supported_navigation_type.any.worker-expected.txt:
        * web-platform-tests/navigation-timing/test_document_onload-expected.txt: Added.
        * web-platform-tests/navigation-timing/test_document_onload.html: Added.
        This test failure needs further investigation.
        * web-platform-tests/navigation-timing/unload-event-same-origin-check-expected.txt:
        * web-platform-tests/navigation-timing/unload-event-same-origin-check.html:
        * web-platform-tests/performance-timeline/META.yml: Added.
        * web-platform-tests/performance-timeline/buffered-flag-after-timeout.any.js: Added.
        (async_test.t.t.step_timeout):
        * web-platform-tests/performance-timeline/buffered-flag-observer.any.js: Added.
        * web-platform-tests/performance-timeline/get-invalid-entries-expected.txt: Added.
        * web-platform-tests/performance-timeline/get-invalid-entries.html: Added.
        * web-platform-tests/performance-timeline/idlharness.any.js: Added.
        (async idl_array):
        * web-platform-tests/performance-timeline/multiple-buffered-flag-observers.any.js: Added.
        (promise_test):
        * web-platform-tests/performance-timeline/not-clonable-expected.txt: Added.
        * web-platform-tests/performance-timeline/not-clonable.html: Added.
        * web-platform-tests/performance-timeline/observer-buffered-false.any.js: Added.
        (async_test.t.t.step_timeout):
        * web-platform-tests/performance-timeline/performanceentry-tojson.any.js: Added.
        (test):
        * web-platform-tests/performance-timeline/po-callback-mutate.any.js: Added.
        (async_test):
        * web-platform-tests/performance-timeline/po-disconnect-removes-observed-types.any.js: Added.
        (async_test):
        * web-platform-tests/performance-timeline/po-disconnect.any.js: Added.
        (async_test):
        (test):
        * web-platform-tests/performance-timeline/po-entries-sort.any.js: Added.
        (async_test):
        * web-platform-tests/performance-timeline/po-getentries.any.js: Added.
        (async_test):
        * web-platform-tests/performance-timeline/po-mark-measure.any.js: Added.
        (async_test):
        * web-platform-tests/performance-timeline/po-observe-expected.txt: Added.
        * web-platform-tests/performance-timeline/po-observe-repeated-type.any.js: Added.
        (async_test):
        * web-platform-tests/performance-timeline/po-observe.html: Added.
        * web-platform-tests/performance-timeline/po-resource-expected.txt: Added.
        * web-platform-tests/performance-timeline/po-resource.html: Added.
        * web-platform-tests/performance-timeline/po-takeRecords.any.js: Added.
        (async_test):
        * web-platform-tests/performance-timeline/resources/postmessage-entry.html: Added.
        * web-platform-tests/performance-timeline/resources/worker-invalid-entries.js: Added.
        * web-platform-tests/performance-timeline/resources/worker-with-performance-observer.js: Added.
        (catch):
        * web-platform-tests/performance-timeline/supportedEntryTypes.any-expected.txt:
        This test failure needs further investigation.  It's a bindings generation problem I've unsuccessfully looked into before.
        * web-platform-tests/performance-timeline/supportedEntryTypes.any.js:
        (test):
        * web-platform-tests/performance-timeline/supportedEntryTypes.any.worker-expected.txt:
        * web-platform-tests/performance-timeline/webtiming-resolution.any.js: Added.
        (testTimeResolution):
        (timeByUserTiming):
        * web-platform-tests/performance-timeline/worker-with-performance-observer-expected.txt: Added.
        * web-platform-tests/performance-timeline/worker-with-performance-observer.html: Added.
        * web-platform-tests/service-workers/service-worker/navigation-timing.https-expected.txt:
        This existing test failure needs more investigation.  We are probably close to a fix after this patch.

2021-05-19  Rob Buis  <rbuis@igalia.com>

        https://bugs.webkit.org/show_bug.cgi?id=225964
        Fix flex-aspect-ratio-002+004.html

        Reviewed by Sergio Villar Senin.

        Import tests.

        * web-platform-tests/css/css-sizing/aspect-ratio/flex-aspect-ratio-002.html:
        * web-platform-tests/css/css-sizing/aspect-ratio/flex-aspect-ratio-004.html:

2021-05-18  Keith Miller  <keith_miller@apple.com>

        Temporarily revert r276592 as it breaks some native apps
        https://bugs.webkit.org/show_bug.cgi?id=225917

        Unreviewed, revert.

        * web-platform-tests/WebIDL/ecmascript-binding/interface-object-set-receiver-expected.txt: Removed.
        * web-platform-tests/WebIDL/ecmascript-binding/interface-object-set-receiver.html: Removed.
        * web-platform-tests/WebIDL/ecmascript-binding/interface-prototype-constructor-set-receiver-expected.txt:
        * web-platform-tests/WebIDL/ecmascript-binding/interface-prototype-constructor-set-receiver.html:

2021-05-16  Cameron McCormack  <heycam@apple.com>

        Make MathML WPTs wait for all font loads
        https://bugs.webkit.org/show_bug.cgi?id=225728

        Reviewed by Darin Adler.

        With current interop issues around font loading, there's no guarantee
        that waiting on the document.fonts.ready promise in the load event will
        catch font loads initiated by content. Since these tests are not
        explicitly testing font loading behavior, change to wait explicitly for
        all fonts to load.

        * web-platform-tests/mathml/presentation-markup/fractions/frac-1-expected.txt:
        * web-platform-tests/mathml/presentation-markup/fractions/frac-1.html:
        * web-platform-tests/mathml/presentation-markup/fractions/frac-bar-001.html:
        * web-platform-tests/mathml/presentation-markup/fractions/frac-bar-002.html:
        * web-platform-tests/mathml/presentation-markup/fractions/frac-linethickness-002-expected.txt:
        * web-platform-tests/mathml/presentation-markup/fractions/frac-linethickness-002.html:
        * web-platform-tests/mathml/presentation-markup/fractions/frac-parameters-1.html:
        * web-platform-tests/mathml/presentation-markup/fractions/frac-parameters-2.html:
        * web-platform-tests/mathml/presentation-markup/fractions/frac-parameters-3-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/fractions/frac-parameters-3-expected.txt.
        * web-platform-tests/mathml/presentation-markup/fractions/frac-parameters-3.html:
        * web-platform-tests/mathml/presentation-markup/fractions/frac-parameters-gap-001-expected.html:
        * web-platform-tests/mathml/presentation-markup/fractions/frac-parameters-gap-001.html:
        * web-platform-tests/mathml/presentation-markup/fractions/frac-parameters-gap-002-expected.html:
        * web-platform-tests/mathml/presentation-markup/fractions/frac-parameters-gap-002.html:
        * web-platform-tests/mathml/presentation-markup/fractions/frac-parameters-gap-003-expected.html:
        * web-platform-tests/mathml/presentation-markup/fractions/frac-parameters-gap-003.html:
        * web-platform-tests/mathml/presentation-markup/fractions/frac-parameters-gap-004-expected.html:
        * web-platform-tests/mathml/presentation-markup/fractions/frac-parameters-gap-004.html:
        * web-platform-tests/mathml/presentation-markup/fractions/frac-parameters-gap-005-expected.html:
        * web-platform-tests/mathml/presentation-markup/fractions/frac-parameters-gap-005.html:
        * web-platform-tests/mathml/presentation-markup/fractions/frac-parameters-gap-006-expected.html:
        * web-platform-tests/mathml/presentation-markup/fractions/frac-parameters-gap-006.html:
        * web-platform-tests/mathml/presentation-markup/mrow/inferred-mrow-stretchy-expected.txt:
        * web-platform-tests/mathml/presentation-markup/mrow/inferred-mrow-stretchy.html:
        * web-platform-tests/mathml/presentation-markup/mrow/no-spacing-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/mrow/no-spacing-expected.txt.
        * web-platform-tests/mathml/presentation-markup/mrow/no-spacing.html:
        * web-platform-tests/mathml/presentation-markup/mrow/spacing-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/mrow/spacing-expected.txt.
        * web-platform-tests/mathml/presentation-markup/mrow/spacing.html:
        * web-platform-tests/mathml/presentation-markup/operators/mo-axis-height-1.html:
        * web-platform-tests/mathml/presentation-markup/operators/mo-font-relative-lengths-001-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-font-relative-lengths-001-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/mo-font-relative-lengths-001.html:
        * web-platform-tests/mathml/presentation-markup/operators/mo-minsize-maxsize-001-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-minsize-maxsize-001-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/mo-minsize-maxsize-001.html:
        * web-platform-tests/mathml/presentation-markup/operators/mo-stretch-properties-dynamic-001-expected.txt: Renamed from LayoutTests/platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/mo-stretch-properties-dynamic-001-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/mo-stretch-properties-dynamic-001.html:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-001-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-001-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-001.html:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-002-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-002-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-002.html:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-003-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-003-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-003.html:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-004-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-004-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-004.html:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-005-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-005-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-005.html:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-006-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-006-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-largeop-006.html:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-001-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-001-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-001.html:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-002-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-002-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-002.html:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-003-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-003-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-003.html:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-004-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-004-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-004.html:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-005-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-005-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-005.html:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-006-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-006-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-movablelimits-006.html:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-001-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-001-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-001.html:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-002-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-002-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-002.html:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-003-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-003-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-003.html:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-004-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-004-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-004.html:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-005-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-005-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-005.html:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-006-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-006-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-spacing-006.html:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-001-expected.txt: Renamed from LayoutTests/platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-001-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-001.html:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-002-expected.txt: Renamed from LayoutTests/platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-002-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-002.html:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-003-expected.txt: Renamed from LayoutTests/platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-003-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-003.html:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-004-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-004-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-004.html:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-005-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-005-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-005.html:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-006-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-006-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-stretchy-006.html:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-001-expected.txt: Renamed from LayoutTests/platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-001-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-001.html:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-002-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-002-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-002.html:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-003-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-003-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-003.html:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-004-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-004-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-004.html:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-005-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-005-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-005.html:
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-006-expected.txt: Renamed from LayoutTests/platform/mac-wk1/imported/w3c/web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-006-expected.txt.
        * web-platform-tests/mathml/presentation-markup/operators/operator-dictionary-symmetric-006.html:
        * web-platform-tests/mathml/presentation-markup/radicals/dynamic-radical-paint-invalidation-001.html:
        * web-platform-tests/mathml/presentation-markup/radicals/root-parameters-1.html:
        * web-platform-tests/mathml/presentation-markup/radicals/root-parameters-2-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/radicals/root-parameters-2-expected.txt.
        * web-platform-tests/mathml/presentation-markup/radicals/root-parameters-2.html:
        * web-platform-tests/mathml/presentation-markup/scripts/cramped-001-expected.txt:
        * web-platform-tests/mathml/presentation-markup/scripts/cramped-001.html:
        * web-platform-tests/mathml/presentation-markup/scripts/empty-underover-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/scripts/empty-underover-expected.txt.
        * web-platform-tests/mathml/presentation-markup/scripts/empty-underover.html:
        * web-platform-tests/mathml/presentation-markup/scripts/subsup-parameters-1.html:
        * web-platform-tests/mathml/presentation-markup/scripts/subsup-parameters-2-expected.txt:
        * web-platform-tests/mathml/presentation-markup/scripts/subsup-parameters-2.html:
        * web-platform-tests/mathml/presentation-markup/scripts/underover-1.html:
        * web-platform-tests/mathml/presentation-markup/scripts/underover-parameters-1.html:
        * web-platform-tests/mathml/presentation-markup/scripts/underover-parameters-2.html:
        * web-platform-tests/mathml/presentation-markup/scripts/underover-parameters-3-expected.txt:
        * web-platform-tests/mathml/presentation-markup/scripts/underover-parameters-3.html:
        * web-platform-tests/mathml/presentation-markup/scripts/underover-parameters-4.tentative-expected.txt: Renamed from LayoutTests/platform/glib/imported/w3c/web-platform-tests/mathml/presentation-markup/scripts/underover-parameters-4.tentative-expected.txt.
        * web-platform-tests/mathml/presentation-markup/scripts/underover-parameters-4.tentative.html:
        * web-platform-tests/mathml/presentation-markup/tables/table-axis-height.html:
        * web-platform-tests/mathml/relations/css-styling/color-005.html:
        * web-platform-tests/mathml/relations/css-styling/displaystyle-013.html:
        * web-platform-tests/mathml/relations/css-styling/displaystyle-014.html:
        * web-platform-tests/mathml/relations/css-styling/displaystyle-1.html:
        * web-platform-tests/mathml/relations/css-styling/displaystyle-2.html:
        * web-platform-tests/mathml/relations/css-styling/displaystyle-3.html:
        * web-platform-tests/mathml/relations/css-styling/lengths-2.html:
        * web-platform-tests/mathml/relations/css-styling/visibility-005.html:
        * web-platform-tests/mathml/support/fonts.js: Added.
        (loadAllFonts):

2021-05-16  Sam Weinig  <weinig@apple.com>

        Add support for creating/accessing/setting non-sRGB ImageData via canvas
        https://bugs.webkit.org/show_bug.cgi?id=225841

        Reviewed by Darin Adler.

        * web-platform-tests/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.to.p3-expected.txt:
        Update result to passing.

2021-05-15  Said Abou-Hallawa  <said@apple.com>

        Implement CanvasRenderingContext2D.createConicGradient
        https://bugs.webkit.org/show_bug.cgi?id=225539

        Reviewed by Sam Weinig.

        * web-platform-tests/html/canvas/element/fill-and-stroke-styles/2d.gradient.conic-expected.txt:

2021-05-14  Darin Adler  <darin@apple.com>

        output element doesn't react properly to node tree mutations
        https://bugs.webkit.org/show_bug.cgi?id=196532

        Reviewed by Ryosuke Niwa.

        * web-platform-tests/custom-elements/builtin-coverage-expected.txt:
        Updated since HTMLOptionElement now has a constructor. Still not passing, but closer to correct.

        * web-platform-tests/custom-elements/form-associated/form-reset-callback-expected.txt:
        Updated due to changes in HTMLOptionElement, but still not passing.

        * web-platform-tests/html/semantics/forms/the-output-element/mutations.window-expected.txt:
        Updated to reflect passing test.

        * web-platform-tests/html/semantics/forms/the-output-element/mutations.window.js:
        Updated to a newer version of the upstream version of this. Decided to just update this one file
        rather than importing the latest version across more tests at this time.

2021-05-14  Ziran Sun  <zsun@igalia.com>

        Wrong static position for out-of-flow positioned element with different writing-mode than its containing block
        https://bugs.webkit.org/show_bug.cgi?id=189513

        Reviewed by Sergio Villar Senin.

        Updated the following WPT tests that are now passing.

        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-001-expected.txt:
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-002-expected.txt:
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-003-expected.txt:
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-004-expected.txt:
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-005-expected.txt:
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-007-expected.txt:
        * web-platform-tests/css/css-grid/abspos/orthogonal-positioned-grid-descendants-010-expected.txt:

2021-05-14  Alex Christensen  <achristensen@webkit.org>

        Resource Timing: secureConnectionStart == 0 when a connection is re-used
        https://bugs.webkit.org/show_bug.cgi?id=225733

        Reviewed by Chris Dumez.

        * web-platform-tests/resource-timing/resource_connection_reuse_mixed_content-expected.txt:

2021-05-13  Dean Jackson  <dino@apple.com>

        [WebXR] Allow WebXR to be tested on PLATFORM(COCOA)
        https://bugs.webkit.org/show_bug.cgi?id=225578

        Reviewed by Sam Weinig.

        New expected results.

        * web-platform-tests/webxr/exclusive_requestFrame_nolayer.https-expected.txt: Added.
        * web-platform-tests/webxr/render_state_vertical_fov_inline.https-expected.txt: Added.
        * web-platform-tests/webxr/webxr-supported-by-feature-policy-expected.txt: Added.
        * web-platform-tests/webxr/webxr_availability.http.sub-expected.txt: Added.
        * web-platform-tests/webxr/webxr_feature_policy.https-expected.txt: Added.
        * web-platform-tests/webxr/xrFrame_lifetime.https-expected.txt: Added.
        * web-platform-tests/webxr/xrPose_transform_sameObject.https-expected.txt: Added.
        * web-platform-tests/webxr/xrReferenceSpace_originOffsetBounded.https-expected.txt: Added.
        * web-platform-tests/webxr/xrSession_input_events_end.https-expected.txt: Added.
        * web-platform-tests/webxr/xrSession_visibilityState.https-expected.txt: Added.
        * web-platform-tests/webxr/xrStationaryReferenceSpace_floorlevel_updates.https-expected.txt: Added.
        * web-platform-tests/webxr/xrWebGLLayer_framebuffer_scale.https-expected.txt: Added.
        * web-platform-tests/webxr/xrWebGLLayer_opaque_framebuffer_stencil.https-expected.txt: Added.

2021-05-13  Martin Robinson  <mrobinson@webkit.org>

        Import new and updated css-scroll-snap WPT tests
        https://bugs.webkit.org/show_bug.cgi?id=225653

        Reviewed by Sergio Villar Senin.

        * resources/import-expectations.json:
        * web-platform-tests/css/css-scroll-snap/input/keyboard-expected.txt:
        * web-platform-tests/css/css-scroll-snap/input/keyboard.html:
        * web-platform-tests/css/css-scroll-snap/nested-scrollIntoView-snaps-expected.txt:
        * web-platform-tests/css/css-scroll-snap/nested-scrollIntoView-snaps.html:
        * web-platform-tests/css/css-scroll-snap/scroll-margin-visibility-check-expected.txt: Added.
        * web-platform-tests/css/css-scroll-snap/scroll-margin-visibility-check.html: Added.
        * web-platform-tests/css/css-scroll-snap/scroll-padding-and-margin-expected.txt: Added.
        * web-platform-tests/css/css-scroll-snap/scroll-padding-and-margin.html: Added.
        * web-platform-tests/css/css-scroll-snap/scroll-snap-root-001-expected.html: Added.
        * web-platform-tests/css/css-scroll-snap/scroll-snap-root-001.html: Added.
        * web-platform-tests/css/css-scroll-snap/scroll-snap-root-002-expected.html: Added.
        * web-platform-tests/css/css-scroll-snap/scroll-snap-root-002.html: Added.
        * web-platform-tests/css/css-scroll-snap/scroll-snap-root-003-expected.html: Added.
        * web-platform-tests/css/css-scroll-snap/scroll-snap-root-003.html: Added.
        * web-platform-tests/css/css-scroll-snap/snap-after-initial-layout/direction-rtl.html:
        * web-platform-tests/css/css-scroll-snap/snap-after-initial-layout/scroll-snap-initial-layout-000-expected.html: Added.
        * web-platform-tests/css/css-scroll-snap/snap-after-initial-layout/scroll-snap-initial-layout-000.html: Added.
        * web-platform-tests/css/css-scroll-snap/snap-after-initial-layout/scroll-snap-writing-mode-000-expected.html: Added.
        * web-platform-tests/css/css-scroll-snap/snap-after-initial-layout/scroll-snap-writing-mode-000.html: Added.
        * web-platform-tests/css/css-scroll-snap/snap-after-initial-layout/w3c-import.log:
        * web-platform-tests/css/css-scroll-snap/snap-after-initial-layout/writing-mode-horizontal-tb.html:
        * web-platform-tests/css/css-scroll-snap/snap-after-initial-layout/writing-mode-vertical-lr.html:
        * web-platform-tests/css/css-scroll-snap/snap-after-initial-layout/writing-mode-vertical-rl.html:
        * web-platform-tests/css/css-scroll-snap/snap-after-relayout/resnap-to-focused-expected.txt: Added.
        * web-platform-tests/css/css-scroll-snap/snap-after-relayout/resnap-to-focused.html: Added.
        * web-platform-tests/css/css-scroll-snap/snap-after-relayout/w3c-import.log:
        * web-platform-tests/css/css-scroll-snap/snap-at-user-scroll-end-expected.txt: Added.
        * web-platform-tests/css/css-scroll-snap/snap-at-user-scroll-end.html: Added.
        * web-platform-tests/css/css-scroll-snap/support/common.js:
        (async keyPress):
        * web-platform-tests/css/css-scroll-snap/w3c-import.log:

2021-05-12  Chris Dumez  <cdumez@apple.com>

        Notification.requestPermission() should return a Promise
        https://bugs.webkit.org/show_bug.cgi?id=225712

        Reviewed by Darin Adler.

        Drop manual test that should not have been imported from WPT. The test happened to be using Notification.requestPermission()
        internally.

        * web-platform-tests/service-workers/service-worker/fetch-event-within-sw-manual.https-expected.txt: Removed.
        * web-platform-tests/service-workers/service-worker/fetch-event-within-sw-manual.https.html: Removed.

2021-05-12  Ziran Sun  <zsun@igalia.com>

        Wrong position for orthogonal positioned element with writing-mode: vertical-rl
        https://bugs.webkit.org/show_bug.cgi?id=180633

        Reviewed by Javier Fernandez.

        Re-sync the following 3 tests with WPT. grid-self-alignment-non-static-positioned-items-009.html and
        grid-self-alignment-non-static-positioned-items-010.html are now passing.
        grid-self-alignment-non-static-positioned-items-011.html is now producing the same test results as those
        in Chromium.

        * web-platform-tests/css/css-grid/alignment/grid-self-alignment-non-static-positioned-items-009.html:
        * web-platform-tests/css/css-grid/alignment/grid-self-alignment-non-static-positioned-items-010.html:
        * web-platform-tests/css/css-grid/alignment/grid-self-alignment-non-static-positioned-items-011.html:

2021-05-12  Sergio Villar Senin  <svillar@igalia.com>

        [css-flexbox] Do not use margins when computing aspect ratio cross sizes
        https://bugs.webkit.org/show_bug.cgi?id=221210
        <rdar://problem/74097534>

        Reviewed by Javier Fernandez.

        * web-platform-tests/css/css-flexbox/flex-aspect-ratio-img-row-013-expected.txt:
         Replaced FAIL by PASS expectations + new expectations.
        * web-platform-tests/css/css-flexbox/flex-aspect-ratio-img-row-013.html: Imported
        latest changes from upstream WPT.

2021-05-11  Cathie Chen  <cathiechen@igalia.com>

        [CSS contain] Support contain:size
        https://bugs.webkit.org/show_bug.cgi?id=223570

        Reviewed by Alan Bujtas.

        <canvas> and <video> don't support computing aspect ratio from width and height attributes yet,
        so the heights are zero when they are with "contain: size".

        * web-platform-tests/css/css-contain/contain-size-grid-003-expected.txt:
        * web-platform-tests/css/css-contain/contain-size-grid-004-expected.txt:
        * web-platform-tests/css/css-contain/contain-size-multicol-as-flex-item-expected.txt:
        * web-platform-tests/css/css-flexbox/flex-item-contains-strict-expected.txt:
        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/canvas-aspect-ratio-expected.txt:
        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/video-aspect-ratio-expected.txt:

2021-05-10  Rob Buis  <rbuis@igalia.com>

        Implement <form>.requestSubmit()
        https://bugs.webkit.org/show_bug.cgi?id=197958

        Reviewed by Darin Adler.

        Update improved test results and import requestSubmit tests.

        * web-platform-tests/html/dom/idlharness.https-expected.txt:
        * web-platform-tests/html/semantics/forms/form-submission-0/request-submit-activation-expected.txt: Added.
        * web-platform-tests/html/semantics/forms/form-submission-0/request-submit-activation.html: Added.
        * web-platform-tests/html/semantics/forms/the-form-element/form-requestsubmit-autofocus-expected.txt: Added.
        * web-platform-tests/html/semantics/forms/the-form-element/form-requestsubmit-autofocus.html: Added.
        * web-platform-tests/html/semantics/forms/the-form-element/form-requestsubmit-expected.txt:
        * web-platform-tests/html/semantics/forms/the-form-element/form-requestsubmit.html:

2021-05-06  Tim Nguyen  <ntim@apple.com>

        Re-import css/mediaqueries/test_media_queries.html WPT
        https://bugs.webkit.org/show_bug.cgi?id=225469

        Unreviewed. Test gardening.

        Pulls in https://github.com/web-platform-tests/wpt/pull/28881 to fix device specific test failures.
        Also removes platform-specific test expectations which were added to that issue.

        * web-platform-tests/css/mediaqueries/test_media_queries-expected.txt:
        * web-platform-tests/css/mediaqueries/test_media_queries.html:

2021-05-06  Tim Nguyen  <ntim@apple.com>

        Re-import css/css-fonts WPT
        https://bugs.webkit.org/show_bug.cgi?id=225455

        Reviewed by Simon Fraser.

        Base commit: https://github.com/web-platform-tests/wpt/commit/c4c81d21b9d606bedd0adb8f72bd0ecf15740e3e

        * resources/resource-files.json:
        * web-platform-tests/css/css-font-loading/fontface-override-descriptor-getter-setter.sub-expected.txt: Added.
        * web-platform-tests/css/css-fonts/ascent-descent-override-expected.html: Added.
        * web-platform-tests/css/css-fonts/ascent-descent-override.html: Added.
        * web-platform-tests/css/css-fonts/downloadable-font-in-iframe-print-expected.html: Added.
        * web-platform-tests/css/css-fonts/downloadable-font-in-iframe-print.html: Added.
        * web-platform-tests/css/css-fonts/downloadable-font-print-expected.html: Added.
        * web-platform-tests/css/css-fonts/downloadable-font-print.html: Added.
        * web-platform-tests/css/css-fonts/fallback-url-to-local-expected.txt: Added.
        * web-platform-tests/css/css-fonts/fallback-url-to-local.html: Added.
        * web-platform-tests/css/css-fonts/font-display/font-display-expected.html:
        * web-platform-tests/css/css-fonts/font-display/font-display.html:
        * web-platform-tests/css/css-fonts/font-face-range-order.html:
        * web-platform-tests/css/css-fonts/font-feature-resolution-001-expected.html:
        * web-platform-tests/css/css-fonts/font-feature-resolution-001.html:
        * web-platform-tests/css/css-fonts/font-feature-resolution-002-expected.html: Added.
        * web-platform-tests/css/css-fonts/font-feature-resolution-002.html: Added.
        * web-platform-tests/css/css-fonts/font-size-adjust-zero-1-expected.html: Added.
        * web-platform-tests/css/css-fonts/font-size-adjust-zero-1.html: Added.
        * web-platform-tests/css/css-fonts/font-size-adjust-zero-2-expected.html: Added.
        * web-platform-tests/css/css-fonts/font-size-adjust-zero-2.html: Added.
        * web-platform-tests/css/css-fonts/font-size-zero-1-expected.html: Added.
        * web-platform-tests/css/css-fonts/font-size-zero-1-notref.html: Added.
        * web-platform-tests/css/css-fonts/font-size-zero-1-ref-expected.html: Added.
        * web-platform-tests/css/css-fonts/font-size-zero-1-ref.html: Added.
        * web-platform-tests/css/css-fonts/font-size-zero-1.html: Added.
        * web-platform-tests/css/css-fonts/font-size-zero-2-expected.html: Added.
        * web-platform-tests/css/css-fonts/font-size-zero-2.html: Added.
        * web-platform-tests/css/css-fonts/line-gap-override-expected.html: Added.
        * web-platform-tests/css/css-fonts/line-gap-override.html: Added.
        * web-platform-tests/css/css-fonts/math-script-level-and-math-style/math-script-level-001.tentative.html:
        * web-platform-tests/css/css-fonts/metrics-override-normal-keyword-expected.html: Added.
        * web-platform-tests/css/css-fonts/metrics-override-normal-keyword.html: Added.
        * web-platform-tests/css/css-fonts/parsing/font-variation-settings-computed-expected.txt:
        * web-platform-tests/css/css-fonts/parsing/font-variation-settings-computed.html:
        * web-platform-tests/css/css-fonts/parsing/font-variation-settings-invalid-expected.txt:
        * web-platform-tests/css/css-fonts/parsing/font-variation-settings-invalid.html:
        * web-platform-tests/css/css-fonts/parsing/font-variation-settings-valid-expected.txt:
        * web-platform-tests/css/css-fonts/parsing/font-variation-settings-valid.html:
        * web-platform-tests/css/css-fonts/rem-in-monospace-expected.html: Added.
        * web-platform-tests/css/css-fonts/rem-in-monospace.html: Added.
        * web-platform-tests/css/css-fonts/resources/markA.ttf: Added.
        * web-platform-tests/css/css-fonts/resources/markB.ttf: Added.
        * web-platform-tests/css/css-fonts/resources/w3c-import.log: Added.
        * web-platform-tests/css/css-fonts/size-adjust-01-expected.html: Added.
        * web-platform-tests/css/css-fonts/size-adjust-01.html: Added.
        * web-platform-tests/css/css-fonts/size-adjust-02-expected.html: Added.
        * web-platform-tests/css/css-fonts/size-adjust-02.html: Added.
        * web-platform-tests/css/css-fonts/size-adjust-text-decoration.tentative-expected.html: Added.
        * web-platform-tests/css/css-fonts/size-adjust-text-decoration.tentative.html: Added.
        * web-platform-tests/css/css-fonts/size-adjust.tentative-expected.html: Added.
        * web-platform-tests/css/css-fonts/size-adjust.tentative.html: Added.
        * web-platform-tests/css/css-fonts/support/fonts/Lato-Medium-Liga.ttf: Added.
        * web-platform-tests/css/css-fonts/support/fonts/w3c-import.log:
        * web-platform-tests/css/css-fonts/variations/at-font-face-font-matching.html:
        * web-platform-tests/css/css-fonts/variations/font-parse-numeric-stretch-style-weight.html:
        * web-platform-tests/css/css-fonts/variations/font-variation-settings-parsing-expected.txt: Removed.
        * web-platform-tests/css/css-fonts/variations/font-variation-settings-parsing.html: Removed.
        * web-platform-tests/css/css-fonts/variations/variable-opsz-size-adjust-expected.html: Added.
        * web-platform-tests/css/css-fonts/variations/variable-opsz-size-adjust.html: Added.
        * web-platform-tests/css/css-fonts/variations/w3c-import.log:
        * web-platform-tests/css/css-fonts/w3c-import.log:

2021-05-06  Tim Nguyen  <ntim@apple.com>

        Re-import css/css-flexbox WPT
        https://bugs.webkit.org/show_bug.cgi?id=225450

        Reviewed by Youenn Fablet.

        * resources/resource-files.json:
        * web-platform-tests/css/css-flexbox/align-items-baseline-overflow-non-visible-expected.html:
        * web-platform-tests/css/css-flexbox/align-items-baseline-overflow-non-visible.html:
        * web-platform-tests/css/css-flexbox/aspect-ratio-intrinsic-size-001-expected.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-flexbox/padding-overflow-crash-expected.html.
        * web-platform-tests/css/css-flexbox/aspect-ratio-intrinsic-size-001.html: Added.
        * web-platform-tests/css/css-flexbox/aspect-ratio-intrinsic-size-002-expected.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-flexbox/padding-overflow-crash-expected.html.
        * web-platform-tests/css/css-flexbox/aspect-ratio-intrinsic-size-002.html: Added.
        * web-platform-tests/css/css-flexbox/aspect-ratio-intrinsic-size-003-expected.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-flexbox/padding-overflow-crash-expected.html.
        * web-platform-tests/css/css-flexbox/aspect-ratio-intrinsic-size-003.html: Added.
        * web-platform-tests/css/css-flexbox/aspect-ratio-intrinsic-size-004-expected.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-flexbox/padding-overflow-crash-expected.html.
        * web-platform-tests/css/css-flexbox/aspect-ratio-intrinsic-size-004.html: Added.
        * web-platform-tests/css/css-flexbox/aspect-ratio-intrinsic-size-005-expected.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-flexbox/padding-overflow-crash-expected.html.
        * web-platform-tests/css/css-flexbox/aspect-ratio-intrinsic-size-005.html: Added.
        * web-platform-tests/css/css-flexbox/aspect-ratio-intrinsic-size-006-expected.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-flexbox/padding-overflow-crash-expected.html.
        * web-platform-tests/css/css-flexbox/aspect-ratio-intrinsic-size-006.html: Added.
        * web-platform-tests/css/css-flexbox/flex-item-compressible-001.html:
        * web-platform-tests/css/css-flexbox/flex-item-compressible-002.html:
        * web-platform-tests/css/css-flexbox/flexbox-align-self-baseline-horiz-001a-expected.xhtml:
        * web-platform-tests/css/css-flexbox/flexbox-align-self-baseline-horiz-001b-expected.xhtml:
        * web-platform-tests/css/css-flexbox/flexbox-align-self-baseline-horiz-006-expected.xhtml:
        * web-platform-tests/css/css-flexbox/flexbox-align-self-baseline-horiz-007-expected.xhtml:
        * web-platform-tests/css/css-flexbox/flexbox-align-self-baseline-horiz-008-expected.xhtml:
        * web-platform-tests/css/css-flexbox/flexbox-align-self-horiz-001-block-expected.xhtml:
        * web-platform-tests/css/css-flexbox/flexbox-align-self-horiz-001-table-expected.xhtml:
        * web-platform-tests/css/css-flexbox/flexbox-align-self-horiz-002-expected.xhtml:
        * web-platform-tests/css/css-flexbox/flexbox-align-self-horiz-003-expected.xhtml:
        * web-platform-tests/css/css-flexbox/flexbox-align-self-horiz-004-expected.xhtml:
        * web-platform-tests/css/css-flexbox/flexbox-baseline-align-self-baseline-horiz-001-expected.html:
        * web-platform-tests/css/css-flexbox/flexbox-baseline-align-self-baseline-vert-001-expected.html:
        * web-platform-tests/css/css-flexbox/flexbox-baseline-multi-item-horiz-001a-expected.html:
        * web-platform-tests/css/css-flexbox/flexbox-baseline-multi-item-horiz-001a.html:
        * web-platform-tests/css/css-flexbox/flexbox-baseline-multi-item-horiz-001b-expected.html:
        * web-platform-tests/css/css-flexbox/flexbox-baseline-multi-item-horiz-001b.html:
        * web-platform-tests/css/css-flexbox/flexbox-baseline-multi-item-vert-001a-expected.html:
        * web-platform-tests/css/css-flexbox/flexbox-baseline-multi-item-vert-001a.html:
        * web-platform-tests/css/css-flexbox/flexbox-baseline-multi-item-vert-001b-expected.html:
        * web-platform-tests/css/css-flexbox/flexbox-baseline-multi-item-vert-001b.html:
        * web-platform-tests/css/css-flexbox/flexbox-baseline-multi-line-horiz-001-expected.html:
        * web-platform-tests/css/css-flexbox/flexbox-baseline-multi-line-horiz-001.html:
        * web-platform-tests/css/css-flexbox/flexbox-baseline-multi-line-horiz-002-expected.html:
        * web-platform-tests/css/css-flexbox/flexbox-baseline-multi-line-horiz-002.html:
        * web-platform-tests/css/css-flexbox/flexbox-baseline-multi-line-vert-001-expected.html:
        * web-platform-tests/css/css-flexbox/flexbox-baseline-multi-line-vert-001.html:
        * web-platform-tests/css/css-flexbox/flexbox-baseline-multi-line-vert-002-expected.html:
        * web-platform-tests/css/css-flexbox/flexbox-baseline-multi-line-vert-002.html:
        * web-platform-tests/css/css-flexbox/flexbox-flex-basis-content-003a-expected.html:
        * web-platform-tests/css/css-flexbox/flexbox-flex-basis-content-003a.html:
        * web-platform-tests/css/css-flexbox/flexbox-flex-basis-content-003b-expected.html:
        * web-platform-tests/css/css-flexbox/flexbox-flex-basis-content-003b.html:
        * web-platform-tests/css/css-flexbox/flexbox-flex-basis-content-004a-expected.html:
        * web-platform-tests/css/css-flexbox/flexbox-flex-basis-content-004a.html:
        * web-platform-tests/css/css-flexbox/flexbox-flex-basis-content-004b-expected.html:
        * web-platform-tests/css/css-flexbox/flexbox-flex-basis-content-004b.html:
        * web-platform-tests/css/css-flexbox/flexbox-items-as-stacking-contexts-002-expected.html:
        * web-platform-tests/css/css-flexbox/flexbox-items-as-stacking-contexts-002.html:
        * web-platform-tests/css/css-flexbox/flexbox-items-as-stacking-contexts-003-expected.html:
        * web-platform-tests/css/css-flexbox/flexbox-items-as-stacking-contexts-003.html:
        * web-platform-tests/css/css-flexbox/flexbox-justify-content-horiz-002-expected.xhtml:
        * web-platform-tests/css/css-flexbox/flexbox-justify-content-vert-002-expected.xhtml:
        * web-platform-tests/css/css-flexbox/flexbox-mbp-horiz-004-expected.xhtml:
        * web-platform-tests/css/css-flexbox/flexbox-mbp-horiz-004.xhtml:
        * web-platform-tests/css/css-flexbox/flexbox-overflow-padding-001-expected.xht: Added.
        * web-platform-tests/css/css-flexbox/flexbox-overflow-padding-001.html: Added.
        * web-platform-tests/css/css-flexbox/flexbox-overflow-padding-002-expected.xht: Added.
        * web-platform-tests/css/css-flexbox/flexbox-overflow-padding-002.html: Added.
        * web-platform-tests/css/css-flexbox/flexbox-paint-ordering-002-expected.xhtml:
        * web-platform-tests/css/css-flexbox/flexbox-paint-ordering-002.xhtml:
        * web-platform-tests/css/css-flexbox/flexbox-table-fixup-001-expected.xhtml:
        * web-platform-tests/css/css-flexbox/flexbox_align-items-center-3-expected.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/css-flexbox/padding-overflow-crash-expected.html.
        * web-platform-tests/css/css-flexbox/flexbox_align-items-center-3.html: Added.
        * web-platform-tests/css/css-flexbox/flexbox_justifycontent-left-001-expected.html: Added.
        * web-platform-tests/css/css-flexbox/flexbox_justifycontent-left-001.html: Added.
        * web-platform-tests/css/css-flexbox/flexbox_justifycontent-left-002-expected.html: Added.
        * web-platform-tests/css/css-flexbox/flexbox_justifycontent-left-002.html: Added.
        * web-platform-tests/css/css-flexbox/flexbox_justifycontent-right-001-expected.html: Added.
        * web-platform-tests/css/css-flexbox/flexbox_justifycontent-right-001.html: Added.
        * web-platform-tests/css/css-flexbox/flexbox_justifycontent-right-002-expected.html: Added.
        * web-platform-tests/css/css-flexbox/flexbox_justifycontent-right-002.html: Added.
        * web-platform-tests/css/css-flexbox/negative-overflow-expected.txt:
        * web-platform-tests/css/css-flexbox/negative-overflow.html:
        * web-platform-tests/css/css-flexbox/overflow-auto-005-expected.html:
        * web-platform-tests/css/css-flexbox/overflow-auto-005.html:
        * web-platform-tests/css/css-flexbox/overflow-top-left-expected.html:
        * web-platform-tests/css/css-flexbox/padding-overflow-crash-expected.html:
        * web-platform-tests/css/css-flexbox/padding-overflow-crash.html:
        * web-platform-tests/css/css-flexbox/select-element-zero-height-001-expected.html:
        * web-platform-tests/css/css-flexbox/select-element-zero-height-001.html:
        * web-platform-tests/css/css-flexbox/table-as-item-min-content-height-1.tentative-expected.xht: Added.
        * web-platform-tests/css/css-flexbox/table-as-item-min-content-height-1.tentative.html: Added.
        * web-platform-tests/css/css-flexbox/table-as-item-min-content-height-2.tentative-expected.xht: Added.
        * web-platform-tests/css/css-flexbox/table-as-item-min-content-height-2.tentative.html: Added.
        * web-platform-tests/css/css-flexbox/table-as-item-min-height-1-expected.xht: Added.
        * web-platform-tests/css/css-flexbox/table-as-item-min-height-1.html: Added.
        * web-platform-tests/css/css-flexbox/table-as-item-stretch-cross-size-3.html:
        * web-platform-tests/css/css-flexbox/table-as-item-stretch-cross-size-4-expected.xht: Added.
        * web-platform-tests/css/css-flexbox/table-as-item-stretch-cross-size-4.html: Added.
        * web-platform-tests/css/css-flexbox/table-as-item-stretch-cross-size-5-expected.xht: Added.
        * web-platform-tests/css/css-flexbox/table-as-item-stretch-cross-size-5.html: Added.
        * web-platform-tests/css/css-flexbox/w3c-import.log:

2021-05-06  Tim Nguyen  <ntim@apple.com>

        Re-import css/css-display WPT
        https://bugs.webkit.org/show_bug.cgi?id=225448

        Reviewed by Youenn Fablet.

        * web-platform-tests/css/css-display/display-contents-dynamic-fieldset-legend-001-expected.html: Added.
        * web-platform-tests/css/css-display/display-contents-dynamic-fieldset-legend-001.html: Added.
        * web-platform-tests/css/css-display/display-contents-fieldset-002-expected.html: Added.
        * web-platform-tests/css/css-display/display-contents-fieldset-002.html: Added.
        * web-platform-tests/css/css-display/display-contents-slot-attach-whitespace-expected.html: Added.
        * web-platform-tests/css/css-display/display-contents-slot-attach-whitespace.html: Added.
        * web-platform-tests/css/css-display/display-first-line-001.html:
        * web-platform-tests/css/css-display/display-math-on-non-mathml-elements-expected.txt: Added.
        * web-platform-tests/css/css-display/display-math-on-non-mathml-elements.html: Added.
        * web-platform-tests/css/css-display/display-math-on-pseudo-elements-001-expected.txt: Added.
        * web-platform-tests/css/css-display/display-math-on-pseudo-elements-001.html: Added.
        * web-platform-tests/css/css-display/display-math-on-pseudo-elements-002-expected.html: Added.
        * web-platform-tests/css/css-display/display-math-on-pseudo-elements-002.html: Added.
        * web-platform-tests/css/css-display/textarea-display-expected.txt: Added.
        * web-platform-tests/css/css-display/textarea-display.html: Added.
        * web-platform-tests/css/css-display/w3c-import.log:

2021-05-06  Tim Nguyen  <ntim@apple.com>

        Re-import css/css-contain WPT
        https://bugs.webkit.org/show_bug.cgi?id=225445

        Reviewed by Rob Buis.

        * resources/resource-files.json:
        * web-platform-tests/css/css-contain/content-visibility/animation-display-lock-expected.txt: Added.
        * web-platform-tests/css/css-contain/content-visibility/animation-display-lock.html: Added.
        * web-platform-tests/css/css-contain/content-visibility/content-visibility-035.html:
        * web-platform-tests/css/css-contain/content-visibility/content-visibility-044-expected.txt:
        * web-platform-tests/css/css-contain/content-visibility/content-visibility-044.html:
        * web-platform-tests/css/css-contain/content-visibility/content-visibility-continuations-crash.html: Added.
        * web-platform-tests/css/css-contain/content-visibility/element-reassigned-to-skipped-slot-expected.html: Added.
        * web-platform-tests/css/css-contain/content-visibility/element-reassigned-to-skipped-slot.html: Added.
        * web-platform-tests/css/css-contain/content-visibility/element-reassigned-to-slot-in-skipped-subtree-expected.html: Added.
        * web-platform-tests/css/css-contain/content-visibility/element-reassigned-to-slot-in-skipped-subtree.html: Added.
        * web-platform-tests/css/css-contain/content-visibility/w3c-import.log:

2021-05-06  Tim Nguyen  <ntim@apple.com>

        Re-import css/css-will-change WPTs
        https://bugs.webkit.org/show_bug.cgi?id=225444

        Reviewed by Youenn Fablet.

        * web-platform-tests/css/css-will-change/w3c-import.log:
        * web-platform-tests/css/css-will-change/will-change-fixpos-cb-contain-1-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-fixpos-cb-contain-1.html: Added.
        * web-platform-tests/css/css-will-change/will-change-fixpos-cb-filter-1-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-fixpos-cb-filter-1.html: Added.
        * web-platform-tests/css/css-will-change/will-change-fixpos-cb-height-1-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-fixpos-cb-height-1.html: Added.
        * web-platform-tests/css/css-will-change/will-change-fixpos-cb-offset-path-1-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-fixpos-cb-offset-path-1.html: Added.
        * web-platform-tests/css/css-will-change/will-change-fixpos-cb-perspective-1-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-fixpos-cb-perspective-1.html: Added.
        * web-platform-tests/css/css-will-change/will-change-fixpos-cb-position-1-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-fixpos-cb-position-1.html: Added.
        * web-platform-tests/css/css-will-change/will-change-fixpos-cb-transform-1-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-fixpos-cb-transform-1.html: Added.
        * web-platform-tests/css/css-will-change/will-change-fixpos-cb-transform-style-1-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-fixpos-cb-transform-style-1.html: Added.
        * web-platform-tests/css/css-will-change/will-change-fixpos-cb-translate-1-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-fixpos-cb-translate-1.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-001-expected.html: Removed.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-001.html: Removed.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-002-expected.html: Removed.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-003-expected.html: Removed.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-backdrop-filter-1-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-backdrop-filter-1.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/css/css-will-change/will-change-stacking-context-002.html.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-clip-path-1-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-clip-path-1.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-filter-1-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-filter-1.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-height-1-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-height-1.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-isolation-1-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-isolation-1.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-mask-1-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-mask-1.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-mix-blend-mode-1-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-mix-blend-mode-1.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-offset-path-1-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-offset-path-1.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-opacity-1-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-opacity-1.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-opacity-2-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-opacity-2.html: Renamed from LayoutTests/imported/w3c/web-platform-tests/css/css-will-change/will-change-stacking-context-003.html.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-perspective-1-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-perspective-1.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-position-1-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-position-1.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-transform-1-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-transform-1.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-transform-style-1-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-transform-style-1.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-translate-1-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-translate-1.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-z-index-1-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-z-index-1.html: Added.
        * web-platform-tests/css/css-will-change/will-change-transform-huge-offset-scrolled-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-transform-huge-offset-scrolled.html: Added.

2021-05-06  Tim Nguyen  <ntim@apple.com>

        Re-import css/css-counter-styles WPT

        Unreviewed. Trivial WPT re-import.

        * web-platform-tests/css/css-counter-styles/counter-style-additive-symbols-syntax-expected.txt:
        * web-platform-tests/css/css-counter-styles/counter-style-additive-symbols-syntax.html:
        * web-platform-tests/css/css-counter-styles/counter-style-pad-syntax-expected.txt:
        * web-platform-tests/css/css-counter-styles/counter-style-pad-syntax.html:

2021-05-06  Tim Nguyen  <ntim@apple.com>

        Re-import css/css-color & css/css-color-adjust WPT
        https://bugs.webkit.org/show_bug.cgi?id=225438

        Reviewed by Youenn Fablet.

        * resources/resource-files.json:
        * web-platform-tests/css/css-color-adjust/META.yml: Added.
        * web-platform-tests/css/css-color-adjust/rendering/dark-color-scheme/color-scheme-iframe-background-mismatch-opaque-cross-origin.sub-expected.html: Added.
        * web-platform-tests/css/css-color-adjust/rendering/dark-color-scheme/color-scheme-iframe-background-mismatch-opaque-cross-origin.sub.html: Added.
        * web-platform-tests/css/css-color-adjust/rendering/dark-color-scheme/color-scheme-system-colors-expected.txt: Added.
        * web-platform-tests/css/css-color-adjust/rendering/dark-color-scheme/color-scheme-system-colors.html: Added.
        * web-platform-tests/css/css-color-adjust/rendering/dark-color-scheme/w3c-import.log:
        * web-platform-tests/css/css-color-adjust/w3c-import.log:
        * web-platform-tests/css/css-color/color-function-parsing.html:
        * web-platform-tests/css/css-color/color-function-parsing-expected.txt:
        * web-platform-tests/css/css-color/color-mix-basic-001.tentative-expected.txt: Added.
        * web-platform-tests/css/css-color/color-mix-basic-001.tentative.html: Added.
        * web-platform-tests/css/css-color/predefined-014-expected.html: Removed.
        * web-platform-tests/css/css-color/predefined-014.html: Removed.
        * web-platform-tests/css/css-color/predefined-015-expected.html: Removed.
        * web-platform-tests/css/css-color/predefined-015.html: Removed.
        * web-platform-tests/css/css-color/w3c-import.log:

2021-05-06  Tim Nguyen  <ntim@apple.com>

        Re-import css/css-cascade WPT
        https://bugs.webkit.org/show_bug.cgi?id=225437

        Reviewed by Youenn Fablet.

        * web-platform-tests/css/css-cascade/all-prop-001-expected.html:
        * web-platform-tests/css/css-cascade/all-prop-001.html:
        * web-platform-tests/css/css-cascade/all-prop-revert-visited-expected.html: Added.
        * web-platform-tests/css/css-cascade/all-prop-revert-visited.html: Added.
        * web-platform-tests/css/css-cascade/all-prop-unset-visited-expected.html: Added.
        * web-platform-tests/css/css-cascade/all-prop-unset-visited.html: Added.
        * web-platform-tests/css/css-cascade/import-conditional-001-expected.xht: Added.
        * web-platform-tests/css/css-cascade/import-conditional-001.html: Added.
        * web-platform-tests/css/css-cascade/important-prop.html:
        * web-platform-tests/css/css-cascade/initial-background-color-expected.html: Added.
        * web-platform-tests/css/css-cascade/initial-background-color.html: Added.
        * web-platform-tests/css/css-cascade/support/test-green.css: Added.
        (.test):
        * web-platform-tests/css/css-cascade/support/test-red.css: Added.
        (.test):
        * web-platform-tests/css/css-cascade/support/w3c-import.log: Added.
        * web-platform-tests/css/css-cascade/unset-val-001.html:
        * web-platform-tests/css/css-cascade/unset-value-storage.html: Added.
        * web-platform-tests/css/css-cascade/unset-value-storage-expected.txt: Added.
        * web-platform-tests/css/css-cascade/w3c-import.log:

2021-05-06  Tim Nguyen  <ntim@apple.com>

        Re-sync css/css-break WPTs
        https://bugs.webkit.org/show_bug.cgi?id=225436

        Reviewed by Youenn Fablet.

        * web-platform-tests/css/css-break/animation/w3c-import.log: Added.
        * web-platform-tests/css/css-break/parsing/box-decoration-break-computed-expected.txt: Added.
        * web-platform-tests/css/css-break/parsing/box-decoration-break-computed.html: Added.
        * web-platform-tests/css/css-break/parsing/box-decoration-break-invalid-expected.txt: Added.
        * web-platform-tests/css/css-break/parsing/box-decoration-break-invalid.html: Added.
        * web-platform-tests/css/css-break/parsing/box-decoration-break-valid-expected.txt: Added.
        * web-platform-tests/css/css-break/parsing/box-decoration-break-valid.html: Added.
        * web-platform-tests/css/css-break/parsing/break-after-computed-expected.txt: Added.
        * web-platform-tests/css/css-break/parsing/break-after-computed.html: Added.
        * web-platform-tests/css/css-break/parsing/break-after-invalid-expected.txt: Added.
        * web-platform-tests/css/css-break/parsing/break-after-invalid.html: Added.
        * web-platform-tests/css/css-break/parsing/break-after-valid-expected.txt: Added.
        * web-platform-tests/css/css-break/parsing/break-after-valid.html: Added.
        * web-platform-tests/css/css-break/parsing/break-before-computed-expected.txt: Added.
        * web-platform-tests/css/css-break/parsing/break-before-computed.html: Added.
        * web-platform-tests/css/css-break/parsing/break-before-invalid-expected.txt: Added.
        * web-platform-tests/css/css-break/parsing/break-before-invalid.html: Added.
        * web-platform-tests/css/css-break/parsing/break-before-valid-expected.txt: Added.
        * web-platform-tests/css/css-break/parsing/break-before-valid.html: Added.
        * web-platform-tests/css/css-break/parsing/break-inside-computed-expected.txt: Added.
        * web-platform-tests/css/css-break/parsing/break-inside-computed.html: Added.
        * web-platform-tests/css/css-break/parsing/break-inside-invalid-expected.txt: Added.
        * web-platform-tests/css/css-break/parsing/break-inside-invalid.html: Added.
        * web-platform-tests/css/css-break/parsing/break-inside-valid-expected.txt: Added.
        * web-platform-tests/css/css-break/parsing/break-inside-valid.html: Added.
        * web-platform-tests/css/css-break/parsing/orphans-computed-expected.txt: Added.
        * web-platform-tests/css/css-break/parsing/orphans-computed.html: Added.
        * web-platform-tests/css/css-break/parsing/orphans-invalid-expected.txt: Added.
        * web-platform-tests/css/css-break/parsing/orphans-invalid.html: Added.
        * web-platform-tests/css/css-break/parsing/orphans-valid-expected.txt: Added.
        * web-platform-tests/css/css-break/parsing/orphans-valid.html: Added.
        * web-platform-tests/css/css-break/parsing/w3c-import.log: Added.
        * web-platform-tests/css/css-break/parsing/widows-computed-expected.txt: Added.
        * web-platform-tests/css/css-break/parsing/widows-computed.html: Added.
        * web-platform-tests/css/css-break/parsing/widows-invalid-expected.txt: Added.
        * web-platform-tests/css/css-break/parsing/widows-invalid.html: Added.
        * web-platform-tests/css/css-break/parsing/widows-valid-expected.txt: Added.
        * web-platform-tests/css/css-break/parsing/widows-valid.html: Added.

2021-05-06  Tim Nguyen  <ntim@apple.com>

        Re-import css/css-backgrounds WPTs
        https://bugs.webkit.org/show_bug.cgi?id=225408

        Reviewed by Youenn Fablet.

        * resources/resource-files.json:
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-element-not-visible-at-current-viewport-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-element-not-visible-at-current-viewport.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-fallback-additive-keyframe-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-fallback-additive-keyframe.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-fallback-missing-0-percent-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-fallback-missing-0-percent.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-fallback-missing-100-percent-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-fallback-missing-100-percent.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-fallback-replace-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-fallback-replace.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-fragmented-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-fragmented.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-in-body-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-in-body.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-non-zero-size-element-change-to-zero-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-non-zero-size-element-change-to-zero.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-single-keyframe-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-single-keyframe.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-three-keyframes1-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-three-keyframes1.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-three-keyframes2-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-three-keyframes2.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-three-keyframes3-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-three-keyframes3.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-with-images-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-with-images.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-with-table1-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-with-table1.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-with-table2-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-with-table2.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-with-table3-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-with-table3.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-with-table4-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-with-table4.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-with-zero-playbackRate-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-with-zero-playbackRate.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-zero-size-element-change-to-non-zero-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-zero-size-element-change-to-non-zero.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-zero-size-element-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation-zero-size-element.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-animation.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-transition-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-transition.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-transparent-animation-in-body-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/background-color-transparent-animation-in-body.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/invalidation/background-color-animation-with-zero-alpha-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/invalidation/background-color-animation-with-zero-alpha.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/invalidation/background-color-transition-obscured-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/invalidation/background-color-transition-obscured.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/invalidation/background-color-transition-with-delay-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/invalidation/background-color-transition-with-delay.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/invalidation/background-color-transition-with-initially-transparent-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/invalidation/background-color-transition-with-initially-transparent.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/invalidation/w3c-import.log: Added.
        * web-platform-tests/css/css-backgrounds/animations/two-background-color-animation-diff-length1-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/two-background-color-animation-diff-length1.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/two-background-color-animation-diff-length2-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/two-background-color-animation-diff-length2.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/two-background-color-animation-diff-length3-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/two-background-color-animation-diff-length3.html: Added.
        * web-platform-tests/css/css-backgrounds/animations/w3c-import.log:
        * web-platform-tests/css/css-backgrounds/background-attachment-350.html:
        * web-platform-tests/css/css-backgrounds/background-attachment-353-expected.xht: Added.
        * web-platform-tests/css/css-backgrounds/background-attachment-353.html: Added.
        * web-platform-tests/css/css-backgrounds/background-attachment-fixed-inside-transform-1-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/background-attachment-fixed-inside-transform-1.html: Added.
        * web-platform-tests/css/css-backgrounds/background-attachment-local/attachment-local-clipping-color-5.html:
        * web-platform-tests/css/css-backgrounds/background-attachment-local/attachment-local-clipping-image-5.html:
        * web-platform-tests/css/css-backgrounds/background-clip-content-box-002-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/background-clip-content-box-002.html: Added.
        * web-platform-tests/css/css-backgrounds/background-margin-iframe-root.html:
        * web-platform-tests/css/css-backgrounds/background-margin-root.html:
        * web-platform-tests/css/css-backgrounds/background-margin-transformed-root.html:
        * web-platform-tests/css/css-backgrounds/background-margin-will-change-root.html:
        * web-platform-tests/css/css-backgrounds/background-repeat-round-1a-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-round-1a.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-round-1b-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-round-1b.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-round-1c-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-round-1c.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-round-1d-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-round-1d.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-round-1e-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-round-1e.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-round-2-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-round-2.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-round-3-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-round-3.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-round-4-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-round-4.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-space-10-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-space-10.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-space-1a-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-space-1a.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-space-1b-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-space-1b.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-space-1c-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-space-1c.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-space-2-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-space-2.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-space-3-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-space-3.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-space-4-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-space-4.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-space-5-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-space-5.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-space-6-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-space-6.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-space-7-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-space-7.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-space-8-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-space-8.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-space-9-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/background-repeat-space-9.html: Added.
        * web-platform-tests/css/css-backgrounds/background-size-006.html:
        * web-platform-tests/css/css-backgrounds/background-size-009.html:
        * web-platform-tests/css/css-backgrounds/background-size-014.html:
        * web-platform-tests/css/css-backgrounds/background-size-017.html:
        * web-platform-tests/css/css-backgrounds/background-size-041-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/background-size-041.html: Added.
        * web-platform-tests/css/css-backgrounds/background-size-042-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/background-size-042.html: Added.
        * web-platform-tests/css/css-backgrounds/background-size-043-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/background-size-043.html: Added.
        * web-platform-tests/css/css-backgrounds/background-size-044-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/background-size-044.html: Added.
        * web-platform-tests/css/css-backgrounds/background-size-percentage-root-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/background-size-percentage-root.html: Added.
        * web-platform-tests/css/css-backgrounds/bg-color-with-gradient-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/bg-color-with-gradient.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-displayed-with-transparent-border-color-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-displayed-with-transparent-border-color.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-image-type-003.htm:
        * web-platform-tests/css/css-backgrounds/border-image-repeat-1-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-repeat-1.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-repeat-round-1-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-repeat-round-1.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-repeat-round-2-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-repeat-round-2.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-repeat-space-1-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-repeat-space-1.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-repeat-space-2-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-repeat-space-2.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-repeat-space-3-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-repeat-space-3.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-repeat-space-4-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-repeat-space-4-ref-1-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-repeat-space-4-ref-1.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-repeat-space-4.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-repeat-space-5-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-repeat-space-5-ref-1-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-repeat-space-5-ref-1.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-repeat-space-5.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-repeat-space-6-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-repeat-space-6.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-repeat-space-7-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-repeat-space-7.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-shorthand-002-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-shorthand-002.htm:
        * web-platform-tests/css/css-backgrounds/border-image-shorthand-003-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-shorthand-003.htm:
        * web-platform-tests/css/css-backgrounds/border-image-slice-005-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-slice-005.htm:
        * web-platform-tests/css/css-backgrounds/border-image-slice-007-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/border-image-slice-007.htm:
        * web-platform-tests/css/css-backgrounds/border-radius-012-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/border-radius-012.html: Added.
        * web-platform-tests/css/css-backgrounds/border-radius-clip-001-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/border-radius-clip-001.htm: Removed.
        * web-platform-tests/css/css-backgrounds/border-radius-clip-001.html: Added.
        * web-platform-tests/css/css-backgrounds/border-radius-clip-002-expected.htm: Added.
        * web-platform-tests/css/css-backgrounds/border-radius-clip-002.htm:
        * web-platform-tests/css/css-backgrounds/border-radius-clipping-002-expected.xht: Added.
        * web-platform-tests/css/css-backgrounds/border-radius-clipping-002.html: Added.
        * web-platform-tests/css/css-backgrounds/border-radius-clipping-expected.html: Removed.
        * web-platform-tests/css/css-backgrounds/border-radius-clipping.html: Removed.
        * web-platform-tests/css/css-backgrounds/border-width-small-values-001-a-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/border-width-small-values-001-a.html: Added.
        * web-platform-tests/css/css-backgrounds/border-width-small-values-001-b-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/border-width-small-values-001-b.html: Added.
        * web-platform-tests/css/css-backgrounds/border-width-small-values-001-c-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/border-width-small-values-001-c.html: Added.
        * web-platform-tests/css/css-backgrounds/border-width-small-values-001-d-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/border-width-small-values-001-d.html: Added.
        * web-platform-tests/css/css-backgrounds/border-width-small-values-001-e-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/border-width-small-values-001-e.html: Added.
        * web-platform-tests/css/css-backgrounds/box-shadow-029-expected.xht: Added.
        * web-platform-tests/css/css-backgrounds/box-shadow-029.html: Added.
        * web-platform-tests/css/css-backgrounds/box-shadow-039-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/box-shadow-039.html: Added.
        * web-platform-tests/css/css-backgrounds/box-shadow-040-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/box-shadow-040.html: Added.
        * web-platform-tests/css/css-backgrounds/box-shadow-041-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/box-shadow-041.html: Added.
        * web-platform-tests/css/css-backgrounds/box-shadow-042-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/box-shadow-042.html: Added.
        * web-platform-tests/css/css-backgrounds/box-shadow-currentcolor-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/box-shadow-currentcolor.html: Added.
        * web-platform-tests/css/css-backgrounds/box-shadow-overlapping-001-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/box-shadow-overlapping-001.html: Added.
        * web-platform-tests/css/css-backgrounds/box-shadow-overlapping-002-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/box-shadow-overlapping-002.html: Added.
        * web-platform-tests/css/css-backgrounds/box-shadow-overlapping-003-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/box-shadow-overlapping-003.html: Added.
        * web-platform-tests/css/css-backgrounds/box-shadow-overlapping-004-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/box-shadow-overlapping-004.html: Added.
        * web-platform-tests/css/css-backgrounds/box-shadow-radius-000-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/box-shadow-radius-000.html: Added.
        * web-platform-tests/css/css-backgrounds/box-shadow-radius-001-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/box-shadow-radius-001.html: Added.
        * web-platform-tests/css/css-backgrounds/css3-border-image-repeat-repeat-expected.html:
        * web-platform-tests/css/css-backgrounds/css3-border-image-repeat-repeat.html:
        * web-platform-tests/css/css-backgrounds/css3-border-image-repeat-stretch-expected.html:
        * web-platform-tests/css/css-backgrounds/css3-border-image-repeat-stretch.html:
        * web-platform-tests/css/css-backgrounds/hidpi/simple-bg-color-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/hidpi/simple-bg-color.html: Added.
        * web-platform-tests/css/css-backgrounds/hidpi/w3c-import.log: Added.
        * web-platform-tests/css/css-backgrounds/inline-background-rtl-001-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/inline-background-rtl-001.html: Added.
        * web-platform-tests/css/css-backgrounds/linear-gradient-calc-crash.html: Added.
        * web-platform-tests/css/css-backgrounds/linear-gradient-currentcolor-first-line-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/linear-gradient-currentcolor-first-line.html: Added.
        * web-platform-tests/css/css-backgrounds/parsing/background-image-invalid-expected.txt:
        * web-platform-tests/css/css-backgrounds/parsing/background-image-invalid.html:
        * web-platform-tests/css/css-backgrounds/parsing/background-image-valid-expected.txt:
        * web-platform-tests/css/css-backgrounds/parsing/background-image-valid.html:
        * web-platform-tests/css/css-backgrounds/simple-bg-color-expected.html: Added.
        * web-platform-tests/css/css-backgrounds/simple-bg-color.html: Added.
        * web-platform-tests/css/css-backgrounds/support/100x100-gr-rr.png: Added.
        * web-platform-tests/css/css-backgrounds/support/100x100-green-with-red-corners.png: Added.
        * web-platform-tests/css/css-backgrounds/support/9grid40-30-20-10-green.png: Added.
        * web-platform-tests/css/css-backgrounds/support/9grid40-30-20-10-red-old.png: Added.
        * web-platform-tests/css/css-backgrounds/support/9grid40-30-20-10-red.png: Added.
        * web-platform-tests/css/css-backgrounds/support/aqua-yellow-32x32.png: Added.
        * web-platform-tests/css/css-backgrounds/support/aqua-yellow-37x37.png: Added.
        * web-platform-tests/css/css-backgrounds/support/blue-diamond-27x27.png: Added.
        * web-platform-tests/css/css-backgrounds/support/new-red-diamond-27x27.png: Added.
        * web-platform-tests/css/css-backgrounds/support/orange-intrinsic-none.svg: Added.
        * web-platform-tests/css/css-backgrounds/support/reticule-bl.png: Added.
        * web-platform-tests/css/css-backgrounds/support/reticule-bo.png: Added.
        * web-platform-tests/css/css-backgrounds/support/reticule-br.png: Added.
        * web-platform-tests/css/css-backgrounds/support/reticule-ct.png: Added.
        * web-platform-tests/css/css-backgrounds/support/reticule-le.png: Added.
        * web-platform-tests/css/css-backgrounds/support/reticule-ri.png: Added.
        * web-platform-tests/css/css-backgrounds/support/reticule-tl.png: Added.
        * web-platform-tests/css/css-backgrounds/support/reticule-to.png: Added.
        * web-platform-tests/css/css-backgrounds/support/reticule-tr.png: Added.
        * web-platform-tests/css/css-backgrounds/support/reticule.png: Added.
        * web-platform-tests/css/css-backgrounds/support/w3c-import.log:
        * web-platform-tests/css/css-backgrounds/support/y.png: Added.
        * web-platform-tests/css/css-backgrounds/w3c-import.log:

2021-05-06  Tim Nguyen  <ntim@apple.com>

        [mediaqueries] Remove "on-demand" value for any-hover/hover & "forced" value for prefers-contrast
        https://bugs.webkit.org/show_bug.cgi?id=225400

        Reviewed by Antti Koivisto.

        These were both removed from the spec and currently never evaluate to true. They also won't eval to true after this change.
        Only change is serialization, since the values will become invalid.

        Also:
        - Re-synced css/mediaqueries WPTs
        - Adjusted any-hover/hover parsing tests accordingly.

        * web-platform-tests/css/mediaqueries/mq-dynamic-empty-children-expected.txt: Added.
        * web-platform-tests/css/mediaqueries/mq-dynamic-empty-children.html: Added.
        * web-platform-tests/css/mediaqueries/prefers-contrast-expected.txt: Added.
        * web-platform-tests/css/mediaqueries/prefers-contrast.html: Added.
        * web-platform-tests/css/mediaqueries/test_media_queries-expected.txt:
        * web-platform-tests/css/mediaqueries/test_media_queries.html:
        * web-platform-tests/css/mediaqueries/w3c-import.log:

2021-05-06  Tim Nguyen  <ntim@apple.com>

        Re-sync css/css-box/parsing/padding-valid.html WPT

        Unreviewed. Trivial WPT sync on one single test.

        * web-platform-tests/css/css-box/parsing/padding-valid-expected.txt:
        * web-platform-tests/css/css-box/parsing/padding-valid.html:

2021-05-05  Tim Nguyen  <ntim@apple.com>

        Re-sync css/css-animations WPTs
        https://bugs.webkit.org/show_bug.cgi?id=225404

        Reviewed by Myles C. Maxfield.

        * resources/resource-files.json:
        * web-platform-tests/css/css-animations/nested-scale-animations-expected.html: Added.
        * web-platform-tests/css/css-animations/nested-scale-animations.html: Added.
        * web-platform-tests/css/css-animations/svg-transform-animation-expected.html: Added.
        * web-platform-tests/css/css-animations/svg-transform-animation.html: Added.
        * web-platform-tests/css/css-animations/transform-animation-under-large-scale-expected.html: Added.
        * web-platform-tests/css/css-animations/transform-animation-under-large-scale.html: Added.
        * web-platform-tests/css/css-animations/translation-animation-subpixel-offset-expected.html: Added.
        * web-platform-tests/css/css-animations/translation-animation-subpixel-offset.html: Added.
        * web-platform-tests/css/css-animations/KeyframeEffect-getKeyframes.tentative.html:
        * web-platform-tests/css/css-animations/event-dispatch.tentative-expected.txt:
        * web-platform-tests/css/css-animations/event-dispatch.tentative.html:
        * web-platform-tests/css/css-animations/parsing/animation-invalid-expected.txt:
        * web-platform-tests/css/css-animations/parsing/animation-invalid.html:
        * web-platform-tests/css/css-animations/parsing/animation-shorthand-expected.txt:
        * web-platform-tests/css/css-animations/parsing/animation-shorthand.html:
        * web-platform-tests/css/css-animations/support/testcommon.js:
        (armTimeoutWhenReady):
        * web-platform-tests/css/css-animations/w3c-import.log:

2021-05-05  Tim Nguyen  <ntim@apple.com>

        Invalid media query keyword values should not be parsable
        https://bugs.webkit.org/show_bug.cgi?id=225282

        Reviewed by Dean Jackson.

        Updated WPT expectations.

        * web-platform-tests/css/mediaqueries/prefers-color-scheme-expected.txt:
        * web-platform-tests/css/mediaqueries/prefers-reduced-motion-expected.txt:

2021-05-05  Chris Lord  <clord@igalia.com>

        Update WPT OffscreenCanvas tests to respect [EnforceRange]
        https://bugs.webkit.org/show_bug.cgi?id=225391

        Reviewed by Darin Adler.

        Synchronise with upstream WPT OffscreenCanvas tests.

        * web-platform-tests/html/canvas/offscreen/pixel-manipulation/2d.imageData.get.tiny-expected.txt: Removed.
        * web-platform-tests/html/canvas/offscreen/pixel-manipulation/2d.imageData.get.tiny.html: Removed.
        * web-platform-tests/html/canvas/offscreen/pixel-manipulation/2d.imageData.get.tiny.worker-expected.txt: Removed.
        * web-platform-tests/html/canvas/offscreen/pixel-manipulation/2d.imageData.get.tiny.worker.html: Removed.
        * web-platform-tests/html/canvas/offscreen/pixel-manipulation/2d.imageData.get.tiny.worker.js: Removed.
        * web-platform-tests/html/canvas/offscreen/the-offscreen-canvas/size.attributes.idl-expected.txt:
        * web-platform-tests/html/canvas/offscreen/the-offscreen-canvas/size.attributes.idl.html:
        * web-platform-tests/html/canvas/offscreen/the-offscreen-canvas/size.attributes.idl.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/the-offscreen-canvas/size.attributes.idl.worker.js:
        (t.step):

2021-05-05  Chris Lord  <clord@igalia.com>

        OffscreenCanvas should preserve context transform after transferToImageBitmap
        https://bugs.webkit.org/show_bug.cgi?id=225304

        Reviewed by Darin Adler.

        Rebaseline transferToImageBitmap tests.

        * web-platform-tests/html/canvas/offscreen/manual/the-offscreen-canvas/offscreencanvas.transfer.to.imagebitmap-expected.txt:
        * web-platform-tests/html/canvas/offscreen/manual/the-offscreen-canvas/offscreencanvas.transfer.to.imagebitmap.w-expected.txt:

2021-05-04  Tyler Wilcock  <twilco.o@protonmail.com>

        Import webstorage WPTs
        https://bugs.webkit.org/show_bug.cgi?id=225369

        Reviewed by Darin Adler.

        Import tip-of-tree webstorage WPTs with:
        `Tools/Scripts/import-w3c-tests -t web-platform-tests/webstorage`

        This patch also sets the baseline results for the newly imported tests.

        * resources/import-expectations.json:
        * web-platform-tests/webstorage/META.yml: Added.
        * web-platform-tests/webstorage/README.md: Added.
        * web-platform-tests/webstorage/defineProperty.window-expected.txt: Added.
        * web-platform-tests/webstorage/defineProperty.window.html: Added.
        * web-platform-tests/webstorage/defineProperty.window.js: Added.
        (string_appeared_here.forEach.):
        (string_appeared_here.forEach):
        * web-platform-tests/webstorage/document-domain-expected.txt: Added.
        * web-platform-tests/webstorage/document-domain.html: Added.
        * web-platform-tests/webstorage/eventTestHarness.js: Added.
        (iframe.contentWindow.onstorage):
        (runAfterNStorageEvents):
        (onTimeout):
        (countStorageEvents):
        (clearStorage):
        * web-platform-tests/webstorage/event_basic-expected.txt: Added.
        * web-platform-tests/webstorage/event_basic.html: Added.
        * web-platform-tests/webstorage/event_basic.js: Added.
        (testStorages.):
        (testStorages):
        * web-platform-tests/webstorage/event_body_attribute-expected.txt: Added.
        * web-platform-tests/webstorage/event_body_attribute.html: Added.
        * web-platform-tests/webstorage/event_body_attribute.js: Added.
        (testStorages.):
        (testStorages):
        * web-platform-tests/webstorage/event_case_sensitive-expected.txt: Added.
        * web-platform-tests/webstorage/event_case_sensitive.html: Added.
        * web-platform-tests/webstorage/event_case_sensitive.js: Added.
        (testStorages.):
        (testStorages):
        * web-platform-tests/webstorage/event_constructor.window-expected.txt: Added.
        * web-platform-tests/webstorage/event_constructor.window.html: Added.
        * web-platform-tests/webstorage/event_constructor.window.js: Added.
        (test):
        * web-platform-tests/webstorage/event_initstorageevent.window-expected.txt: Added.
        * web-platform-tests/webstorage/event_initstorageevent.window.html: Added.
        * web-platform-tests/webstorage/event_initstorageevent.window.js: Added.
        (test):
        * web-platform-tests/webstorage/event_local_key-expected.txt: Added.
        * web-platform-tests/webstorage/event_local_key.html: Added.
        * web-platform-tests/webstorage/event_local_newvalue-expected.txt: Added.
        * web-platform-tests/webstorage/event_local_newvalue.html: Added.
        * web-platform-tests/webstorage/event_local_oldvalue-expected.txt: Added.
        * web-platform-tests/webstorage/event_local_oldvalue.html: Added.
        * web-platform-tests/webstorage/event_local_removeitem-expected.txt: Added.
        * web-platform-tests/webstorage/event_local_removeitem.html: Added.
        * web-platform-tests/webstorage/event_local_storagearea-expected.txt: Added.
        * web-platform-tests/webstorage/event_local_storagearea.html: Added.
        * web-platform-tests/webstorage/event_local_url-expected.txt: Added.
        * web-platform-tests/webstorage/event_local_url.html: Added.
        * web-platform-tests/webstorage/event_no_duplicates-expected.txt: Added.
        * web-platform-tests/webstorage/event_no_duplicates.html: Added.
        * web-platform-tests/webstorage/event_session_key-expected.txt: Added.
        * web-platform-tests/webstorage/event_session_key.html: Added.
        * web-platform-tests/webstorage/event_session_newvalue-expected.txt: Added.
        * web-platform-tests/webstorage/event_session_newvalue.html: Added.
        * web-platform-tests/webstorage/event_session_oldvalue-expected.txt: Added.
        * web-platform-tests/webstorage/event_session_oldvalue.html: Added.
        * web-platform-tests/webstorage/event_session_removeitem-expected.txt: Added.
        * web-platform-tests/webstorage/event_session_removeitem.html: Added.
        * web-platform-tests/webstorage/event_session_storagearea-expected.txt: Added.
        * web-platform-tests/webstorage/event_session_storagearea.html: Added.
        * web-platform-tests/webstorage/event_session_url-expected.txt: Added.
        * web-platform-tests/webstorage/event_session_url.html: Added.
        * web-platform-tests/webstorage/event_setattribute-expected.txt: Added.
        * web-platform-tests/webstorage/event_setattribute.html: Added.
        * web-platform-tests/webstorage/event_setattribute.js: Added.
        (testStorages.):
        (testStorages):
        * web-platform-tests/webstorage/missing_arguments.window-expected.txt: Added.
        * web-platform-tests/webstorage/missing_arguments.window.html: Added.
        * web-platform-tests/webstorage/missing_arguments.window.js: Added.
        (tests):
        (tests.forEach):
        * web-platform-tests/webstorage/resources/event_body_handler.html: Added.
        * web-platform-tests/webstorage/resources/event_setattribute_handler.html: Added.
        * web-platform-tests/webstorage/resources/local_change_item_iframe.html: Added.
        * web-platform-tests/webstorage/resources/local_set_item_clear_iframe.html: Added.
        * web-platform-tests/webstorage/resources/local_set_item_iframe.html: Added.
        * web-platform-tests/webstorage/resources/local_set_item_remove_iframe.html: Added.
        * web-platform-tests/webstorage/resources/session_change_item_iframe.html: Added.
        * web-platform-tests/webstorage/resources/session_set_item_clear_iframe.html: Added.
        * web-platform-tests/webstorage/resources/session_set_item_iframe.html: Added.
        * web-platform-tests/webstorage/resources/session_set_item_remove_iframe.html: Added.
        * web-platform-tests/webstorage/resources/storage_local_window_open_second.html: Added.
        * web-platform-tests/webstorage/resources/storage_session_window_noopener_second.html: Added.
        * web-platform-tests/webstorage/resources/storage_session_window_open_second.html: Added.
        * web-platform-tests/webstorage/resources/w3c-import.log: Added.
        * web-platform-tests/webstorage/set.window-expected.txt: Added.
        * web-platform-tests/webstorage/set.window.html: Added.
        * web-platform-tests/webstorage/set.window.js: Added.
        (string_appeared_here.forEach.):
        (string_appeared_here.forEach):
        * web-platform-tests/webstorage/storage_builtins.window-expected.txt: Added.
        * web-platform-tests/webstorage/storage_builtins.window.html: Added.
        * web-platform-tests/webstorage/storage_builtins.window.js: Added.
        (string_appeared_here.forEach.):
        (string_appeared_here.forEach):
        * web-platform-tests/webstorage/storage_clear.window-expected.txt: Added.
        * web-platform-tests/webstorage/storage_clear.window.html: Added.
        * web-platform-tests/webstorage/storage_clear.window.js: Added.
        (string_appeared_here.forEach):
        * web-platform-tests/webstorage/storage_enumerate.window-expected.txt: Added.
        * web-platform-tests/webstorage/storage_enumerate.window.html: Added.
        * web-platform-tests/webstorage/storage_enumerate.window.js: Added.
        (string_appeared_here.forEach):
        * web-platform-tests/webstorage/storage_functions_not_overwritten.window-expected.txt: Added.
        * web-platform-tests/webstorage/storage_functions_not_overwritten.window.html: Added.
        * web-platform-tests/webstorage/storage_functions_not_overwritten.window.js: Added.
        (string_appeared_here.forEach.):
        (string_appeared_here.forEach):
        * web-platform-tests/webstorage/storage_getitem.window-expected.txt: Added.
        * web-platform-tests/webstorage/storage_getitem.window.html: Added.
        * web-platform-tests/webstorage/storage_getitem.window.js: Added.
        (string_appeared_here.forEach.):
        (string_appeared_here.forEach):
        * web-platform-tests/webstorage/storage_in.window-expected.txt: Added.
        * web-platform-tests/webstorage/storage_in.window.html: Added.
        * web-platform-tests/webstorage/storage_in.window.js: Added.
        (string_appeared_here.forEach):
        * web-platform-tests/webstorage/storage_indexing.window-expected.txt: Added.
        * web-platform-tests/webstorage/storage_indexing.window.html: Added.
        * web-platform-tests/webstorage/storage_indexing.window.js: Added.
        (string_appeared_here.forEach.):
        (string_appeared_here.forEach):
        * web-platform-tests/webstorage/storage_key.window-expected.txt: Added.
        * web-platform-tests/webstorage/storage_key.window.html: Added.
        * web-platform-tests/webstorage/storage_key.window.js: Added.
        (string_appeared_here.forEach.):
        (string_appeared_here.forEach):
        * web-platform-tests/webstorage/storage_key_empty_string.window-expected.txt: Added.
        * web-platform-tests/webstorage/storage_key_empty_string.window.html: Added.
        * web-platform-tests/webstorage/storage_key_empty_string.window.js: Added.
        (string_appeared_here.forEach):
        * web-platform-tests/webstorage/storage_length.window-expected.txt: Added.
        * web-platform-tests/webstorage/storage_length.window.html: Added.
        * web-platform-tests/webstorage/storage_length.window.js: Added.
        (string_appeared_here.forEach):
        * web-platform-tests/webstorage/storage_local_setitem_quotaexceedederr.window-expected.txt: Added.
        * web-platform-tests/webstorage/storage_local_setitem_quotaexceedederr.window.html: Added.
        * web-platform-tests/webstorage/storage_local_setitem_quotaexceedederr.window.js: Added.
        (test):
        * web-platform-tests/webstorage/storage_local_window_open.window-expected.txt: Added.
        * web-platform-tests/webstorage/storage_local_window_open.window.html: Added.
        * web-platform-tests/webstorage/storage_local_window_open.window.js: Added.
        (async_test):
        * web-platform-tests/webstorage/storage_removeitem.window-expected.txt: Added.
        * web-platform-tests/webstorage/storage_removeitem.window.html: Added.
        * web-platform-tests/webstorage/storage_removeitem.window.js: Added.
        (string_appeared_here.forEach):
        * web-platform-tests/webstorage/storage_session_setitem_quotaexceedederr.window.html: Added.
        * web-platform-tests/webstorage/storage_session_setitem_quotaexceedederr.window.js: Added.
        (test):
        * web-platform-tests/webstorage/storage_session_window_noopener.window-expected.txt: Added.
        * web-platform-tests/webstorage/storage_session_window_noopener.window.html: Added.
        * web-platform-tests/webstorage/storage_session_window_noopener.window.js: Added.
        (async_test):
        * web-platform-tests/webstorage/storage_session_window_open.window-expected.txt: Added.
        * web-platform-tests/webstorage/storage_session_window_open.window.html: Added.
        * web-platform-tests/webstorage/storage_session_window_open.window.js: Added.
        (async_test):
        * web-platform-tests/webstorage/storage_set_value_enumerate.window-expected.txt: Added.
        * web-platform-tests/webstorage/storage_set_value_enumerate.window.html: Added.
        * web-platform-tests/webstorage/storage_set_value_enumerate.window.js: Added.
        (string_appeared_here.forEach.):
        (string_appeared_here.forEach):
        * web-platform-tests/webstorage/storage_setitem.window-expected.txt: Added.
        * web-platform-tests/webstorage/storage_setitem.window.html: Added.
        * web-platform-tests/webstorage/storage_setitem.window.js: Added.
        (string_appeared_here.forEach.):
        (string_appeared_here.forEach):
        * web-platform-tests/webstorage/storage_string_conversion.window-expected.txt: Added.
        * web-platform-tests/webstorage/storage_string_conversion.window.html: Added.
        * web-platform-tests/webstorage/storage_string_conversion.window.js: Added.
        (string_appeared_here.forEach.):
        (string_appeared_here.forEach):
        * web-platform-tests/webstorage/storage_supported_property_names.window-expected.txt: Added.
        * web-platform-tests/webstorage/storage_supported_property_names.window.html: Added.
        * web-platform-tests/webstorage/storage_supported_property_names.window.js: Added.
        (string_appeared_here.forEach):
        * web-platform-tests/webstorage/symbol-props.window-expected.txt: Added.
        * web-platform-tests/webstorage/symbol-props.window.html: Added.
        * web-platform-tests/webstorage/symbol-props.window.js: Added.
        (string_appeared_here.forEach.):
        (string_appeared_here.forEach):
        * web-platform-tests/webstorage/w3c-import.log: Added.

2021-05-03  Ryan Haddad  <ryanhaddad@apple.com>

        REGRESSION(r266511): [ macOS iOS wk2 ]  imported/w3c/web-platform-tests/webrtc/RTCPeerConnection-restartIce.https.html is a flaky failure
        https://bugs.webkit.org/show_bug.cgi?id=216159

        Unreviewed test gardening.

        Rebaseline this test as the output has changed since it was marked
        failing. We will need to monitor results to see if it is still flaky.

        * web-platform-tests/webrtc/RTCPeerConnection-restartIce.https-expected.txt:

2021-05-03  Chris Lord  <clord@igalia.com>

        Decoding an SVG off the main thread causes a crash
        https://bugs.webkit.org/show_bug.cgi?id=206055

        Reviewed by Darin Adler.

        Rebaseline OffscreenCanvas SVG tests.

        * web-platform-tests/html/canvas/offscreen/drawing-images-to-the-canvas/2d.drawImage.zerosource.image.worker-expected.txt:

2021-05-02  Sam Weinig  <weinig@apple.com>

        Consider removing imported/w3c/canvas and canvas/philip (Part 2)
        https://bugs.webkit.org/show_bug.cgi?id=225269

        Reviewed by Simon Fraser.

        Remove imported/w3c/canvas/* and canvas/philip/* and related expecations
        and results. They are out of date copies of tests now bundled as part of
        WPT in imported/w3c/web-platform-tests/html/canvas/element and are no
        longer useful.

        Part 2 removes the remaining copy in imported/w3c/canvas.

        * canvas: Removed.

2021-05-01  Sam Weinig  <weinig@apple.com>

        Update operations in CanvasImageData.idl to use long rather than float as per spec
        https://bugs.webkit.org/show_bug.cgi?id=225263

        Reviewed by Simon Fraser.

        * canvas/2d.imageData.create2.tiny-expected.txt:
        * canvas/2d.imageData.get.tiny-expected.txt:
        Update results, which now don't pass, to match the spec behavior.

        * web-platform-tests/html/canvas/element/pixel-manipulation/2d.imageData.create2.double-expected.txt:
        * web-platform-tests/html/canvas/element/pixel-manipulation/2d.imageData.create2.zero-expected.txt:
        * web-platform-tests/html/canvas/element/pixel-manipulation/2d.imageData.get.double-expected.txt:
        * web-platform-tests/html/canvas/element/pixel-manipulation/2d.imageData.get.large.crash-expected.txt:
        * web-platform-tests/html/canvas/element/pixel-manipulation/2d.imageData.get.rounding-expected.txt:
        * web-platform-tests/html/canvas/element/pixel-manipulation/2d.imageData.get.zero-expected.txt:
        Update results, which now pass!

2021-04-30  Oriol Brufau  <obrufau@igalia.com>

        [css-logical] Fix logical shorthands with var()
        https://bugs.webkit.org/show_bug.cgi?id=224594

        Reviewed by Manuel Rego Casasnovas.

        Add a new test.
        Some cases still fail because of bug 225206 and bug 225209.

        * web-platform-tests/css/css-logical/logicalprops-with-variables-expected.txt: Added.
        * web-platform-tests/css/css-logical/logicalprops-with-variables.html: Added.

2021-04-30  Sergio Villar Senin  <svillar@igalia.com>

        Nullopt in RenderFlexibleBox::layoutFlexItems in RenderFlexibleBox::layoutBlock via RenderMultiColumnFlow::layout
        https://bugs.webkit.org/show_bug.cgi?id=223369

        Reviewed by Alan Bujtas.

        Imported a test from WPT covering this issue.

        * web-platform-tests/css/css-flexbox/percentage-padding-002-expected.html: Added.
        * web-platform-tests/css/css-flexbox/percentage-padding-002.html: Added.
        * web-platform-tests/css/css-flexbox/w3c-import.log:

2021-04-29  Sam Weinig  <weinig@apple.com>

        Add support for CanvasRenderingContext2DSettings
        https://bugs.webkit.org/show_bug.cgi?id=225173

        Reviewed by Chris Dumez.

        Update test results.

        * web-platform-tests/html/canvas/element/context-attributes/getContextAttributes-expected.txt:
        * web-platform-tests/html/dom/idlharness.https-expected.txt:

2021-04-29  Sam Weinig  <weinig@apple.com>

        Update WPT tests in html/canvas/element/wide-gamut-canvas
        https://bugs.webkit.org/show_bug.cgi?id=225177

        Reviewed by Darin Adler.

        Update to the latest version of the tests.

        * resources/import-expectations.json:
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.to.p3.html: Added.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.to.srgb.html: Added.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.toBlob.p3.canvas.html: Added.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.toBlob.with.putImageData.html: Added.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.toDataURL.p3.canvas.html: Added.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/2d.color.space.p3.toDataURL.with.putImageData.html: Added.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/ImageData-fidelity-expected.txt: Removed.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/ImageData-fidelity.html: Removed.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/canvas-colorManaged-convertToBlob-roundtrip-expected.txt: Removed.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/canvas-colorManaged-convertToBlob-roundtrip.html: Removed.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/canvas-colorManaged-toBlob-toDataURL-expected.txt: Removed.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/canvas-colorManaged-toBlob-toDataURL.html: Removed.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/canvas-colorspace-arguments-expected.txt: Removed.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/canvas-colorspace-arguments.html: Removed.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/canvas-createImageBitmap-e_srgb-expected.txt: Removed.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/canvas-createImageBitmap-e_srgb.html: Removed.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/canvas-createPutGetImageData-colorManaged-expected.txt: Removed.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/canvas-createPutGetImageData-colorManaged.html: Removed.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/canvas-draw-high-bit-depth-images-expected.txt: Removed.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/canvas-draw-high-bit-depth-images.html: Removed.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/canvas-drawImage-e_srgb-expected.txt: Removed.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/canvas-drawImage-e_srgb.html: Removed.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/canvas-drawImage-offscreenCanvas-expected.txt: Removed.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/canvas-drawImage-offscreenCanvas.html: Removed.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/canvas-getImageData-e_srgb-expected.txt: Removed.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/canvas-getImageData-e_srgb.html: Removed.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/imageData-colorManagedBehavior-expected.txt: Removed.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/imageData-colorManagedBehavior.html: Removed.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/imageData-colorSpace-expected.txt: Removed.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/imageData-colorSpace.html: Removed.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/imagedata-no-color-settings-crash-expected.txt: Removed.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/imagedata-no-color-settings-crash.html: Removed.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/transferFromImageBitmap-expected.txt: Removed.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/transferFromImageBitmap.html: Removed.
        * web-platform-tests/html/canvas/element/wide-gamut-canvas/w3c-import.log:

2021-04-29  Rob Buis  <rbuis@igalia.com>

        Resync web-platform-tests/css/css-sizing/aspect-ratio from upstream
        https://bugs.webkit.org/show_bug.cgi?id=225182

        Reviewed by Manuel Rego Casasnovas.

        Resync web-platform-tests/css/css-sizing/aspect-ratio from upstream bde70eda50.

        * web-platform-tests/css/css-sizing/aspect-ratio/abspos-017-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/abspos-017.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/abspos-018-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/abspos-018.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/abspos-019-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/abspos-019.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/abspos-020-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/abspos-020.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/block-aspect-ratio-031-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/block-aspect-ratio-031.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/block-aspect-ratio-032-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/block-aspect-ratio-032.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/block-aspect-ratio-033-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/block-aspect-ratio-033.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/block-aspect-ratio-034-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/block-aspect-ratio-034.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-018-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-018.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-019-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-019.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-020-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-020.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-021-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-021.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-022-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-022.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-023-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-023.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-024-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-024.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-025-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-025.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-026-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-026.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-027-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/grid-aspect-ratio-027.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/replaced-element-034-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/replaced-element-034.html: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/w3c-import.log:

2021-04-29  Antoine Quint  <graouts@webkit.org>

        Rotation axis parallel to the z axis should not serialize using the "z" keyword for the rotate property
        https://bugs.webkit.org/show_bug.cgi?id=225101

        Reviewed by Antti Koivisto.

        Update the tests per https://github.com/web-platform-tests/wpt/pull/28712 as well as their expectations.

        * web-platform-tests/css/css-transforms/animation/rotate-composition-expected.txt:
        * web-platform-tests/css/css-transforms/animation/rotate-interpolation-expected.txt:
        * web-platform-tests/css/css-transforms/animation/rotate-interpolation.html:
        * web-platform-tests/css/css-transforms/parsing/rotate-parsing-valid-expected.txt:
        * web-platform-tests/css/css-transforms/parsing/rotate-parsing-valid.html:

2021-04-28  Rob Buis  <rbuis@igalia.com>

        [aspect-ratio] Treat border/padding correctly for box-sizing: border-box
        https://bugs.webkit.org/show_bug.cgi?id=225015

        Reviewed by Darin Adler.

        Import WPT test for this.

        * web-platform-tests/css/css-sizing/aspect-ratio/block-aspect-ratio-035-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/block-aspect-ratio-035.html: Added.

2021-04-28  Ziran Sun  <zsun@igalia.com>

        [css-grid] Accurize expected result to 0.5 pixel for some contentSpaceAround tests in abspos
        https://bugs.webkit.org/show_bug.cgi?id=225145

        Reviewed by Manuel Rego Casasnovas.
        
        There is a 0.5 pixel difference on expected data width for some contentSpaceAround tests in grid
        among platforms. This change is to sync the change in WPT and update expectation files.

        * web-platform-tests/css/css-grid/abspos/grid-positioned-items-content-alignment-001-expected.txt:
        * web-platform-tests/css/css-grid/abspos/grid-positioned-items-content-alignment-001.html:
        * web-platform-tests/css/css-grid/abspos/grid-positioned-items-content-alignment-rtl-001-expected.txt:
        * web-platform-tests/css/css-grid/abspos/grid-positioned-items-content-alignment-rtl-001.html:

2021-04-28  Manuel Rego Casasnovas  <rego@igalia.com>

        [selectors] Using a modifier key on an element makes it stop matching :focus-visible
        https://bugs.webkit.org/show_bug.cgi?id=225075

        Reviewed by Ryosuke Niwa.

        * web-platform-tests/css/selectors/focus-visible-021-expected.txt: Added.
        * web-platform-tests/css/selectors/focus-visible-021.html: Added.

2021-04-28  Cameron McCormack  <heycam@apple.com>

        Make img elements perform source selection even when not in the document.
        https://bugs.webkit.org/show_bug.cgi?id=222801

        Reviewed by Ryosuke Niwa.

        * web-platform-tests/html/semantics/embedded-content/the-img-element/source-media-outside-doc-expected.txt: Added.
        * web-platform-tests/html/semantics/embedded-content/the-img-element/source-media-outside-doc.html: Added.

2021-04-27  Sergio Villar Senin  <svillar@igalia.com>

        [css-flexbox] Fix expectations of a WPT test that works fine
        https://bugs.webkit.org/show_bug.cgi?id=225097

        Reviewed by Manuel Rego Casasnovas.

        * web-platform-tests/css/css-flexbox/css-flexbox-img-expand-evenly-expected.html:
        Fixed the paths of some images that were not properly converted during import.

2021-04-27  Cameron McCormack  <heycam@apple.com>

        Associate a picture element with an img only if the img is a direct child.
        https://bugs.webkit.org/show_bug.cgi?id=225044

        Reviewed by Ryosuke Niwa.

        * web-platform-tests/html/semantics/embedded-content/the-img-element/img-picture-ancestor-expected.txt: Added.
        * web-platform-tests/html/semantics/embedded-content/the-img-element/img-picture-ancestor.html: Added.

2021-04-27  Alexey Shvayka  <shvaikalesh@gmail.com>

        [WebIDL] `window.CSS` should be non-callable object with correct Symbol.toStringTag
        https://bugs.webkit.org/show_bug.cgi?id=220855

        Reviewed by Sam Weinig.

        * web-platform-tests/console/idlharness.any-expected.txt:
        * web-platform-tests/console/idlharness.any.worker-expected.txt:
        * web-platform-tests/css/cssom/CSS-namespace-object-class-string-expected.txt:
        * web-platform-tests/css/cssom/idlharness-expected.txt:
        * web-platform-tests/resources/idlharness.js:
        Sync from upstream 15ecbfebd504.

        * web-platform-tests/wasm/jsapi/idlharness.any-expected.txt:
        * web-platform-tests/wasm/jsapi/idlharness.any.worker-expected.txt:

2021-04-27  Antoine Quint  <graouts@webkit.org>

        Correctly interpolate stroke-dasharray in the discrete case
        https://bugs.webkit.org/show_bug.cgi?id=225105

        Reviewed by Antti Koivisto.

        Mark 3 WPT progressions.

        * web-platform-tests/web-animations/animation-model/animation-types/interpolation-per-property-002-expected.txt:

2021-04-27  Antoine Quint  <graouts@webkit.org>

        Fix animation of the visibility CSS property between "hidden" and "collapse"
        https://bugs.webkit.org/show_bug.cgi?id=225103

        Reviewed by Antti Koivisto.

        Mark 1 WPT progression.

        * web-platform-tests/web-animations/animation-model/animation-types/interpolation-per-property-002-expected.txt:

2021-04-27  Antoine Quint  <graouts@webkit.org>

        Correctly specify interpolation of page-break-* properties
        https://bugs.webkit.org/show_bug.cgi?id=225098

        Reviewed by Antti Koivisto.

        Mark 15 WPT progressions.

        * web-platform-tests/web-animations/animation-model/animation-types/accumulation-per-property-002-expected.txt:
        * web-platform-tests/web-animations/animation-model/animation-types/addition-per-property-002-expected.txt:
        * web-platform-tests/web-animations/animation-model/animation-types/interpolation-per-property-002-expected.txt:

2021-04-26  Tim Nguyen  <ntim@apple.com>

        Create a containing block when relevant properties are set in the current element will-change
        https://bugs.webkit.org/show_bug.cgi?id=167868

        Reviewed by Alan Bujtas.

        Per spec, any CSS property that is susceptible to create a containing block should create one when put on the
        current element's will-change.

        Relevant WPT are enabled.

        Test: fast/css/will-change/will-change-creates-containing-block.html

        * web-platform-tests/css/css-box/parsing/padding-computed-expected.txt:

2021-04-26  Alexey Shvayka  <shvaikalesh@gmail.com>

        [JSC] OrdinarySet should invoke custom [[Set]] methods
        https://bugs.webkit.org/show_bug.cgi?id=217916

        Reviewed by Yusuke Suzuki.

        * web-platform-tests/WebIDL/ecmascript-binding/interface-object-set-receiver-expected.txt: Added.
        * web-platform-tests/WebIDL/ecmascript-binding/interface-object-set-receiver.html: Added.
        * web-platform-tests/WebIDL/ecmascript-binding/interface-prototype-constructor-set-receiver-expected.txt:
        * web-platform-tests/WebIDL/ecmascript-binding/interface-prototype-constructor-set-receiver.html:

2021-04-26  Ryosuke Niwa  <rniwa@webkit.org>

        Implement ShadowRoot.prototype.delegatesFocus attribute
        https://bugs.webkit.org/show_bug.cgi?id=224805

        Reviewed by Antti Koivisto.

        Rebaselined now that test casses are passing.

        * web-platform-tests/shadow-dom/focus/ShadowRoot-delegatesFocus-expected.txt:

2021-04-25  Ryosuke Niwa  <rniwa@webkit.org>

        Resync WPT shadow DOM tests as of 02f0cc10
        https://bugs.webkit.org/show_bug.cgi?id=225042

        Reviewed by Antti Koivisto.

        Resync'ed shadow DOM tests as of 02f0cc10c4e92627ccfd8b30ce03e04278af5224.

        * resources/resource-files.json:
        * web-platform-tests/shadow-dom/accesskey.tentative-expected.txt: Added.
        * web-platform-tests/shadow-dom/accesskey.tentative.html: Added.
        * web-platform-tests/shadow-dom/declarative/declarative-after-attachshadow.tentative.html:
        * web-platform-tests/shadow-dom/declarative/declarative-shadow-dom-attachment.tentative.html:
        * web-platform-tests/shadow-dom/declarative/declarative-shadow-dom-basic.tentative.html:
        * web-platform-tests/shadow-dom/declarative/declarative-shadow-dom-opt-in.tentative.html:
        * web-platform-tests/shadow-dom/declarative/declarative-with-disabled-shadow.tentative-expected.txt: Added.
        * web-platform-tests/shadow-dom/declarative/declarative-with-disabled-shadow.tentative.html: Added.
        * web-platform-tests/shadow-dom/declarative/getinnerhtml.tentative.html:
        * web-platform-tests/shadow-dom/declarative/innerhtml-before-closing-tag.tentative-expected.txt: Added.
        * web-platform-tests/shadow-dom/declarative/innerhtml-before-closing-tag.tentative.html: Renamed from innerhtml-before-closing-tag.html.
        * web-platform-tests/shadow-dom/declarative/innerhtml-on-ordinary-template.tentative-expected.txt: Added.
        * web-platform-tests/shadow-dom/declarative/innerhtml-on-ordinary-template.tentative.html: Renamed from innerhtml-on-ordinary-template.html.
        * web-platform-tests/shadow-dom/declarative/move-template-before-closing-tag.tentative-expected.txt: Added.
        * web-platform-tests/shadow-dom/declarative/move-template-before-closing-tag.tentative.html: Renamed from move-template-before-closing-tag.html.
        * web-platform-tests/shadow-dom/declarative/script-access.tentative.html:
        * web-platform-tests/shadow-dom/declarative/w3c-import.log:
        * web-platform-tests/shadow-dom/event-on-pseudo-element-crash.html: Added.
        * web-platform-tests/shadow-dom/focus/ShadowRoot-delegatesFocus-expected.txt: Added.
        * web-platform-tests/shadow-dom/focus/ShadowRoot-delegatesFocus.html: Added.
        * web-platform-tests/shadow-dom/focus/focus-selector-delegatesFocus.html:
        * web-platform-tests/shadow-dom/focus/w3c-import.log:
        * web-platform-tests/shadow-dom/imperative-slot-api-crash-expected.txt: Added.
        * web-platform-tests/shadow-dom/imperative-slot-api-crash.html: Added.
        * web-platform-tests/shadow-dom/imperative-slot-api-expected.txt: Added.
        * web-platform-tests/shadow-dom/imperative-slot-api-slotchange-expected.txt: Renamed from slots-imperative-api-slotchange.tentative-expected.txt.
        * web-platform-tests/shadow-dom/imperative-slot-api-slotchange.html: Renamed from slots-imperative-api-slotchange.tentative.html.
        * web-platform-tests/shadow-dom/imperative-slot-api.html: Renamed from slots-imperative-slot-api.tentative.html.
        * web-platform-tests/shadow-dom/nested-slot-remove-crash-expected.txt:
        * web-platform-tests/shadow-dom/nested-slot-remove-crash.html:
        * web-platform-tests/shadow-dom/w3c-import.log:

2021-04-25  Felipe Erias  <felipeerias@igalia.com>

        [css-flexbox] Table layout disregards overriding width
        https://bugs.webkit.org/show_bug.cgi?id=224934

        Reviewed by Darin Adler.

        Update expectations.

        * web-platform-tests/css/css-flexbox/table-with-percent-intrinsic-width-expected.txt: This test now passes.

2021-04-24  Antoine Quint  <graouts@webkit.org>

        Improve parsing and computed style of the rotate CSS property
        https://bugs.webkit.org/show_bug.cgi?id=225019

        Reviewed by Dean Jackson.

        Mark 2 WPT progressions and add some new parsing WPT tests for rotate.

        * web-platform-tests/css/css-transforms/animation/rotate-composition-expected.txt: We don't support additive interpolation,
        the FAIL result is most likely a test that passed without proper support for the feature which now fails due to lack of
        support for this feature.
        * web-platform-tests/css/css-transforms/parsing/rotate-parsing-valid-expected.txt:
        * web-platform-tests/css/css-transforms/parsing/rotate-parsing-valid.html:
        * web-platform-tests/web-animations/animation-model/animation-types/accumulation-per-property-002-expected.txt:
        * web-platform-tests/web-animations/animation-model/animation-types/addition-per-property-002-expected.txt:
        * web-platform-tests/web-animations/animation-model/animation-types/interpolation-per-property-002-expected.txt:

2021-04-24  Antoine Quint  <graouts@webkit.org>

        Support interpolation of the background-repeat shorthand
        https://bugs.webkit.org/show_bug.cgi?id=225016

        Reviewed by Dean Jackson.

        Mark 10 WPT progressions.

        * web-platform-tests/web-animations/animation-model/animation-types/accumulation-per-property-001-expected.txt:
        * web-platform-tests/web-animations/animation-model/animation-types/addition-per-property-001-expected.txt:
        * web-platform-tests/web-animations/animation-model/animation-types/interpolation-per-property-001-expected.txt:

2021-04-24  Antoine Quint  <graouts@webkit.org>

        Fix interpolation of the clip CSS property
        https://bugs.webkit.org/show_bug.cgi?id=225017

        Reviewed by Dean Jackson.

        Mark 13 WPT progressions.

        * web-platform-tests/web-animations/animation-model/animation-types/accumulation-per-property-001-expected.txt:
        * web-platform-tests/web-animations/animation-model/animation-types/addition-per-property-001-expected.txt:
        * web-platform-tests/web-animations/animation-model/animation-types/interpolation-per-property-001-expected.txt:
        * web-platform-tests/web-animations/animation-model/keyframe-effects/effect-value-iteration-composite-operation-expected.txt:

2021-04-24  Antoine Quint  <graouts@webkit.org>

        Computed style for the translate CSS property should use px for the z value
        https://bugs.webkit.org/show_bug.cgi?id=225018

        Reviewed by Dean Jackson.

        Mark a single WPT progression.

        * web-platform-tests/css/css-transforms/animation/translate-composition-expected.txt:
        * web-platform-tests/web-animations/animation-model/animation-types/interpolation-per-property-002-expected.txt:

2021-04-23  Cathie Chen  <cathiechen@igalia.com>

        Not computing image aspect ratios from width and height attributes for lazy loaded images
        https://bugs.webkit.org/show_bug.cgi?id=224197

        Reviewed by Darin Adler.

        The test cases for error images and images without src in img-aspect-ratio.html are passed. This patch
        doesn't change the behavior of the original aspect ratio case, so it's failed like before.

        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/img-aspect-ratio-expected.txt:

2021-04-23  Cathie Chen  <cathiechen@igalia.com>

        Import the update to "mapping attribute width and height to aspect ratio" tests from WPT
        https://bugs.webkit.org/show_bug.cgi?id=224911

        Reviewed by Rob Buis.

        Import the update to "mapping attribute width and height to aspect ratio" tests from WPT commit 0ae0bb7cab. Split up the test cases, to make sure
        each image has its own test case and won't affect testing other images.

        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/canvas-aspect-ratio-expected.txt:
        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/img-aspect-ratio-expected.txt:
        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/img-aspect-ratio.html:
        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/picture-aspect-ratio-expected.txt:
        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/picture-aspect-ratio.html:
        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/resources/aspect-ratio.js:
        (test_computed_style_aspect_ratio):
        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/video-aspect-ratio-expected.txt:

2021-04-22  Tyler Wilcock  <twilco.o@protonmail.com>

        [css-counter-styles] Parse @counter-style descriptors
        https://bugs.webkit.org/show_bug.cgi?id=224718

        Reviewed by Darin Adler.

        Parsing for all @counter-style descriptors is implemented with this
        patch, so mark more tests passing.

        You'll notice that some @counter-style descriptors implemented in this
        patch did not gain any passing tests (e.g. `pad`, `negative`).  In all
        of these cases, the expected results contain a <string> value, and we
        fail only because we incorrectly don't serialize these <string> values
        with quotes.  I have manually confirmed in all cases that these values
        are properly parsed, so it's just the serialization that's incorrect.

        These <string> values serialize without quotes because WebKit's representation
        of custom identifiers is not a separate type, but instead overloaded onto the
        CSS_STRING type.  This means that during serialization time, WebKit must guess
        whether it is actually serializing a string (and include quotes if so), or if
        it's serializing a custom ident (leaving off quotes if so).

        Relevant code snippet:

        https://github.com/WebKit/WebKit/blob/36caeec07975bd5f47db8ac6b749c2787230a461/Source/WebCore/css/CSSMarkup.cpp#L153#L161

        Relevant changelog snippet from David Hyatt, 2016-12-07:

        > We also overload CSS_STRING primitive value type and have it act as both a string
        > and a custom identifier. This is lame, since the parser should have made two different
        > types of objects instead, but since our parser doesn't do that yet, I added a serializeAsStringOrCustomIdent
        > that preserves our old behavior of "quote the string only if needed." In this case what
        > that really meant was "Try to guess that we were originally a custom ident and leave off
        > quotes if so." This function will go away once we properly create CSSStringValues and
        > CSSCustomIdentValues instead of turning the latter into strings.

        * web-platform-tests/css/css-counter-styles/counter-style-fallback-expected.txt:
        * web-platform-tests/css/css-counter-styles/counter-style-prefix-suffix-syntax-expected.txt:
        * web-platform-tests/css/css-counter-styles/counter-style-range-syntax-expected.txt:
        * web-platform-tests/css/css-counter-styles/counter-style-speak-as-syntax-expected.txt:
        * web-platform-tests/css/css-counter-styles/counter-style-system-syntax-expected.txt:

2021-04-22  Antoine Quint  <graouts@webkit.org>

        Add discrete animation support for border-image-repeat
        https://bugs.webkit.org/show_bug.cgi?id=224923

        Reviewed by Antti Koivisto.

        Mark 10 WPT progressions.

        * web-platform-tests/web-animations/animation-model/animation-types/accumulation-per-property-001-expected.txt:
        * web-platform-tests/web-animations/animation-model/animation-types/addition-per-property-001-expected.txt:
        * web-platform-tests/web-animations/animation-model/animation-types/interpolation-per-property-001-expected.txt:

2021-04-22  Chris Lord  <clord@igalia.com>

        Implement FontFace in Workers for OffscreenCanvas
        https://bugs.webkit.org/show_bug.cgi?id=224178
        <rdar://problem/76529024>

        Reviewed by Darin Adler.

        FontFace is now available for Workers, rebaseline related tests.

        * web-platform-tests/css/css-font-loading/fontfaceset-load-css-wide-keywords-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.draw.align.center.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.draw.align.end.ltr.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.draw.align.end.rtl.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.draw.align.left.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.draw.align.right.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.draw.align.start.ltr.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.draw.align.start.rtl.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.draw.baseline.alphabetic.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.draw.baseline.bottom.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.draw.baseline.hanging.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.draw.baseline.ideographic.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.draw.baseline.middle.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.draw.baseline.top.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.draw.fill.maxWidth.bound.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.draw.fill.maxWidth.fontface.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.draw.fontface.notinpage.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.draw.fontface.repeat.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.draw.fontface.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.draw.space.basic.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.draw.space.collapse.end.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.draw.space.collapse.nonspace.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.draw.space.collapse.other.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.draw.space.collapse.space.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.draw.space.collapse.start.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.measure.actualBoundingBox.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.measure.advances.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.measure.baselines.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.measure.emHeights.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.measure.fontBoundingBox.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.measure.width.basic.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.measure.width.empty.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.measure.width.space.worker-expected.txt:

2021-04-22  Imanol Fernandez  <ifernandez@igalia.com>

        Implement WebXR Input Sources
        https://bugs.webkit.org/show_bug.cgi?id=223257

        Reviewed by Youenn Fablet.

        Update WebXR Input Source test expectations.

        * web-platform-tests/webxr/events_input_source_recreation.https-expected.txt: Added.
        * web-platform-tests/webxr/events_input_sources_change.https-expected.txt: Added.
        * web-platform-tests/webxr/events_session_select.https-expected.txt: Added.
        * web-platform-tests/webxr/events_session_select_subframe.https-expected.txt: Added.
        * web-platform-tests/webxr/events_session_squeeze.https-expected.txt: Added.
        * web-platform-tests/webxr/getInputPose_handedness.https-expected.txt: Added.
        * web-platform-tests/webxr/xrInputSource_add_remove.https-expected.txt: Added.
        * web-platform-tests/webxr/xrInputSource_emulatedPosition.https-expected.txt: Added.
        * web-platform-tests/webxr/xrInputSource_profiles.https-expected.txt: Added.
        * web-platform-tests/webxr/xrInputSource_sameObject.https-expected.txt: Added.
        * web-platform-tests/webxr/xrReferenceSpace_originOffset.https-expected.txt: Added.

2021-04-21  Tim Nguyen  <ntim@apple.com>

        Import css/css-will-change tests from WPT
        https://bugs.webkit.org/show_bug.cgi?id=224870

        Reviewed by Youenn Fablet.

        * resources/import-expectations.json:
        * web-platform-tests/css/css-will-change/META.yml: Added.
        * web-platform-tests/css/css-will-change/inheritance-expected.txt: Added.
        * web-platform-tests/css/css-will-change/inheritance.html: Added.
        * web-platform-tests/css/css-will-change/parsing/w3c-import.log: Added.
        * web-platform-tests/css/css-will-change/parsing/will-change-computed-expected.txt: Added.
        * web-platform-tests/css/css-will-change/parsing/will-change-computed.html: Added.
        * web-platform-tests/css/css-will-change/parsing/will-change-invalid-expected.txt: Added.
        * web-platform-tests/css/css-will-change/parsing/will-change-invalid.html: Added.
        * web-platform-tests/css/css-will-change/parsing/will-change-valid-expected.txt: Added.
        * web-platform-tests/css/css-will-change/parsing/will-change-valid.html: Added.
        * web-platform-tests/css/css-will-change/w3c-import.log: Added.
        * web-platform-tests/css/css-will-change/will-change-abspos-cb-001-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-abspos-cb-001.html: Added.
        * web-platform-tests/css/css-will-change/will-change-abspos-cb-002-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-abspos-cb-002.html: Added.
        * web-platform-tests/css/css-will-change/will-change-abspos-cb-003-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-abspos-cb-003.html: Added.
        * web-platform-tests/css/css-will-change/will-change-abspos-cb-dynamic-001-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-abspos-cb-dynamic-001.html: Added.
        * web-platform-tests/css/css-will-change/will-change-fixedpos-cb-001-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-fixedpos-cb-001.html: Added.
        * web-platform-tests/css/css-will-change/will-change-fixedpos-cb-002-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-fixedpos-cb-002.html: Added.
        * web-platform-tests/css/css-will-change/will-change-fixedpos-cb-003-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-fixedpos-cb-003.html: Added.
        * web-platform-tests/css/css-will-change/will-change-fixedpos-cb-004-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-fixedpos-cb-004.html: Added.
        * web-platform-tests/css/css-will-change/will-change-fixedpos-cb-005-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-fixedpos-cb-005.html: Added.
        * web-platform-tests/css/css-will-change/will-change-fixedpos-cb-006-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-fixedpos-cb-006.html: Added.
        * web-platform-tests/css/css-will-change/will-change-inherit-dynamic-expected.txt: Added.
        * web-platform-tests/css/css-will-change/will-change-inherit-dynamic.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-001-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-001.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-002-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-002.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-003-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-stacking-context-003.html: Added.
        * web-platform-tests/css/css-will-change/will-change-transform-add-content-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-transform-add-content.html: Added.
        * web-platform-tests/css/css-will-change/will-change-transform-image-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-transform-image.html: Added.
        * web-platform-tests/css/css-will-change/will-change-transform-zero-size-child-overflow-visible-expected.html: Added.
        * web-platform-tests/css/css-will-change/will-change-transform-zero-size-child-overflow-visible.html: Added.
        * web-platform-tests/css/css-will-change/will-change-will-change-1-expected.xht: Added.
        * web-platform-tests/css/css-will-change/will-change-will-change-1.html: Added.

2021-04-21  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r276380 and r276386.
        https://bugs.webkit.org/show_bug.cgi?id=224912

        Caused WPT css/css-counter-styles/cssom test crashes on macOS
        WK1 with ASan

        Reverted changesets:

        "[css-counter-styles] Parse @counter-style descriptors"
        https://bugs.webkit.org/show_bug.cgi?id=224718
        https://trac.webkit.org/changeset/276380

        "CSSComputedStyleDeclaration.cpp should use C++ style
        comments"
        https://bugs.webkit.org/show_bug.cgi?id=224875
        https://trac.webkit.org/changeset/276386

2021-04-21  Tyler Wilcock  <twilco.o@protonmail.com>

        [css-counter-styles] Parse @counter-style descriptors
        https://bugs.webkit.org/show_bug.cgi?id=224718

        Reviewed by Darin Adler.

        Parsing for all @counter-style descriptors is implemented with this
        patch, so mark more tests passing.

        You'll notice that some @counter-style descriptors implemented in this
        patch did not gain any passing tests (e.g. `pad`, `negative`).  In all
        of these cases, the expected results contain a <string> value, and we
        fail only because we incorrectly don't serialize these <string> values
        with quotes.  I have manually confirmed in all cases that these values
        are properly parsed, so it's just the serialization that's incorrect.

        These <string> values serialize without quotes because WebKit's representation
        of custom identifiers is not a separate type, but instead overloaded onto the
        CSS_STRING type.  This means that during serialization time, WebKit must guess
        whether it is actually serializing a string (and include quotes if so), or if
        it's serializing a custom ident (leaving off quotes if so).

        Relevant code snippet:

        https://github.com/WebKit/WebKit/blob/36caeec07975bd5f47db8ac6b749c2787230a461/Source/WebCore/css/CSSMarkup.cpp#L153#L161

        Relevant changelog snippet from David Hyatt, 2016-12-07:

        > We also overload CSS_STRING primitive value type and have it act as both a string
        > and a custom identifier. This is lame, since the parser should have made two different
        > types of objects instead, but since our parser doesn't do that yet, I added a serializeAsStringOrCustomIdent
        > that preserves our old behavior of "quote the string only if needed." In this case what
        > that really meant was "Try to guess that we were originally a custom ident and leave off
        > quotes if so." This function will go away once we properly create CSSStringValues and
        > CSSCustomIdentValues instead of turning the latter into strings.

        * web-platform-tests/css/css-counter-styles/counter-style-fallback-expected.txt:
        * web-platform-tests/css/css-counter-styles/counter-style-prefix-suffix-syntax-expected.txt:
        * web-platform-tests/css/css-counter-styles/counter-style-range-syntax-expected.txt:
        * web-platform-tests/css/css-counter-styles/counter-style-speak-as-syntax-expected.txt:
        * web-platform-tests/css/css-counter-styles/counter-style-system-syntax-expected.txt:

2021-04-21  Simon Fraser  <simon.fraser@apple.com>

        will-change: transform should affect nested position:fixed
        https://bugs.webkit.org/show_bug.cgi?id=167600

        Reviewed by Alan Bujtas.

        "will-change transform" should make an element a container for position:fixed,
        just as a transform does.

        * web-platform-tests/css/css-position/position-absolute-dynamic-containing-block-expected.txt:

2021-04-21  Antoine Quint  <graouts@webkit.org>

        Add discrete animation support for several background CSS properties
        https://bugs.webkit.org/show_bug.cgi?id=224871

        Reviewed by Antti Koivisto.

        Mark 30 WPT progressions.

        * web-platform-tests/web-animations/animation-model/animation-types/accumulation-per-property-001-expected.txt:
        * web-platform-tests/web-animations/animation-model/animation-types/addition-per-property-001-expected.txt:
        * web-platform-tests/web-animations/animation-model/animation-types/interpolation-per-property-001-expected.txt:

2021-04-21  Chris Lord  <clord@igalia.com>

        DOMException should be Serializable
        https://bugs.webkit.org/show_bug.cgi?id=224865

        Reviewed by Chris Dumez.

        DOMException is now serializable, rebaseline related tests.

        * web-platform-tests/html/infrastructure/safe-passing-of-structured-data/structured-cloning-error-stack-optional.sub.window-expected.txt:
        * web-platform-tests/html/infrastructure/safe-passing-of-structured-data/structuredclone_0-expected.txt:

2021-04-21  Ziran Sun  <zsun@igalia.com>

        [css-grid] last-baseline shouldn't affect baseline alignment
        https://bugs.webkit.org/show_bug.cgi?id=224538

        Reviewed by Darin Adler and Javier Fernandez.

        * web-platform-tests/css/css-grid/alignment/grid-baseline-004-expected.txt:

2021-04-21  Manuel Rego Casasnovas  <rego@igalia.com>

        [selectors] Import one more :focus-visible WPT test
        https://bugs.webkit.org/show_bug.cgi?id=224827

        Reviewed by Rob Buis.

        * web-platform-tests/css/selectors/focus-visible-020-expected.txt: Added.
        * web-platform-tests/css/selectors/focus-visible-020.html: Added.
        * web-platform-tests/css/selectors/w3c-import.log:

2021-04-20  Cathie Chen  <cathiechen@igalia.com>

        Update html/rendering/replaced-elements/attributes-for-embedded-content-and-images/ tests from WPT
        https://bugs.webkit.org/show_bug.cgi?id=224748

        Reviewed by Rob Buis.

        Update the tests for "mapping attribute width and height as the implicit aspect ratio" which are based on the latest agreement
        from WPT commit 19445e7b39.

        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/canvas-aspect-ratio-expected.txt:
        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/canvas-aspect-ratio.html:
        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/img-aspect-ratio-expected.txt:
        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/img-aspect-ratio.html:
        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/number-placeholder-right-aligned-expected.html: Added.
        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/number-placeholder-right-aligned.html: Added.
        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/picture-aspect-ratio-expected.txt: Added.
        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/picture-aspect-ratio.html: Added.
        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/resources/aspect-ratio.js: Added.
        (test_computed_style_aspect_ratio):
        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/resources/w3c-import.log: Added.
        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/video-aspect-ratio-expected.txt:
        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/video-aspect-ratio.html:
        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/w3c-import.log:

2021-04-20  Tim Nguyen  <ntim@apple.com>

        Implement CSS display property 2-value syntax
        https://bugs.webkit.org/show_bug.cgi?id=224574

        Reviewed by Darin Adler.

        Except for list-item which doesn't have layout support for different variants.
        Also fix a WPT to expect the most backwards-compatible form for `display: flow` computed value.

        Test: web-platform-tests/css/css-display/parsing/display-valid.html

        * web-platform-tests/css/css-display/parsing/display-valid-expected.txt:
        * web-platform-tests/html/rendering/widgets/button-layout/computed-style-expected.txt:
        * web-platform-tests/html/rendering/widgets/button-layout/computed-style.html:
        * web-platform-tests/html/rendering/widgets/button-layout/display-other-expected.txt:

2021-04-19  Manuel Rego Casasnovas  <rego@igalia.com>

        [selectors] Script focus and :focus-visible
        https://bugs.webkit.org/show_bug.cgi?id=224598

        Reviewed by Darin Adler.

        Update expectations as the tests pass now.

        * web-platform-tests/css/selectors/focus-visible-008-expected.txt:
        * web-platform-tests/css/selectors/focus-visible-009-expected.txt:
        * web-platform-tests/css/selectors/focus-visible-010-expected.txt:
        * web-platform-tests/css/selectors/focus-visible-014-expected.txt:
        * web-platform-tests/css/selectors/focus-visible-script-focus-001-expected.txt:
        * web-platform-tests/css/selectors/focus-visible-script-focus-002.tentative-expected.txt:
        * web-platform-tests/css/selectors/focus-visible-script-focus-003.tentative-expected.txt:
        * web-platform-tests/css/selectors/focus-visible-script-focus-004-expected.txt:
        * web-platform-tests/css/selectors/focus-visible-script-focus-005-expected.txt:
        * web-platform-tests/css/selectors/focus-visible-script-focus-006.tentative-expected.txt:
        * web-platform-tests/css/selectors/focus-visible-script-focus-007.tentative-expected.txt:
        * web-platform-tests/css/selectors/focus-visible-script-focus-012-expected.txt:
        * web-platform-tests/css/selectors/focus-visible-script-focus-013-expected.txt:
        * web-platform-tests/css/selectors/focus-visible-script-focus-014-expected.txt:
        * web-platform-tests/css/selectors/focus-visible-script-focus-015-expected.txt:
        * web-platform-tests/css/selectors/focus-visible-script-focus-016.tentative-expected.txt:
        * web-platform-tests/css/selectors/focus-visible-script-focus-017.tentative-expected.txt:

2021-04-19  Darin Adler  <darin@apple.com>

        Nullptr crash in CSSCalcValue::category() via HTMLConverterCaches::floatPropertyValueForNode
        https://bugs.webkit.org/show_bug.cgi?id=221392

        Reviewed by Simon Fraser.

        * web-platform-tests/css/css-values/minmax-length-percent-serialize-expected.txt:
        Updated to reflect 8 tests passing that were failing before.

2021-04-19  Youenn Fablet  <youenn@apple.com>

        Migrate some WebRTC encoded transform tests to WPT
        https://bugs.webkit.org/show_bug.cgi?id=224604

        Reviewed by Eric Carlson.

        * web-platform-tests/webrtc-encoded-transform/routines.js: Added.
        (async createConnections):
        (waitFor):
        * web-platform-tests/webrtc-encoded-transform/script-audio-transform-worker.js: Added.
        (MockRTCRtpTransformer):
        (MockRTCRtpTransformer.prototype.start):
        (MockRTCRtpTransformer.prototype.process):
        (onrtctransform):
        * web-platform-tests/webrtc-encoded-transform/script-audio-transform.https-expected.txt: Added.
        * web-platform-tests/webrtc-encoded-transform/script-audio-transform.https.html: Renamed from LayoutTests/http/wpt/webrtc/audio-script-transform.html.
        * web-platform-tests/webrtc-encoded-transform/script-change-transform-worker.js: Renamed from LayoutTests/http/wpt/webrtc/change-encoded-transform.js.
        * web-platform-tests/webrtc-encoded-transform/script-change-transform.https-expected.txt: Added.
        * web-platform-tests/webrtc-encoded-transform/script-change-transform.https.html: Renamed from LayoutTests/http/wpt/webrtc/change-encoded-transform.html.
        * web-platform-tests/webrtc-encoded-transform/script-late-transform.https-expected.txt: Added.
        * web-platform-tests/webrtc-encoded-transform/script-late-transform.https.html: Renamed from LayoutTests/http/wpt/webrtc/webrtc-late-transform.html.
        * web-platform-tests/webrtc-encoded-transform/script-metadata-transform-worker.js: Renamed from LayoutTests/http/wpt/webrtc/metadata-transform-worker.js.
        * web-platform-tests/webrtc-encoded-transform/script-metadata-transform.https-expected.txt: Added.
        * web-platform-tests/webrtc-encoded-transform/script-metadata-transform.https.html: Renamed from LayoutTests/http/wpt/webrtc/metadata-transform.html.
        * web-platform-tests/webrtc-encoded-transform/script-transform-worker.js: Renamed from LayoutTests/http/wpt/webrtc/script-transform.js.
        * web-platform-tests/webrtc-encoded-transform/script-transform.https-expected.txt: Added.
        * web-platform-tests/webrtc-encoded-transform/script-transform.https.html: Renamed from LayoutTests/http/wpt/webrtc/webrtc-transform.html.
        * web-platform-tests/webrtc-encoded-transform/script-write-twice-transform-worker.js: Renamed from LayoutTests/http/wpt/webrtc/write-twice-transform.js.
        * web-platform-tests/webrtc-encoded-transform/script-write-twice-transform.https-expected.txt: Added.
        * web-platform-tests/webrtc-encoded-transform/script-write-twice-transform.https.html: Renamed from LayoutTests/http/wpt/webrtc/write-twice-transform.html.
        * web-platform-tests/webrtc-encoded-transform/sframe-keys.https-expected.txt: Added.
        * web-platform-tests/webrtc-encoded-transform/sframe-keys.https.html: Added.
        * web-platform-tests/webrtc-encoded-transform/sframe-transform-buffer-source-expected.txt: Added.
        * web-platform-tests/webrtc-encoded-transform/sframe-transform-buffer-source.html: Added.
        * web-platform-tests/webrtc-encoded-transform/sframe-transform-expected.txt: Added.
        * web-platform-tests/webrtc-encoded-transform/sframe-transform-in-worker.https-expected.txt: Added.
        * web-platform-tests/webrtc-encoded-transform/sframe-transform-in-worker.https.html: Renamed from LayoutTests/http/wpt/webrtc/sframe-transform-in-worker.html.
        * web-platform-tests/webrtc-encoded-transform/sframe-transform-readable-expected.txt: Added.
        * web-platform-tests/webrtc-encoded-transform/sframe-transform-readable.html: Added.
        * web-platform-tests/webrtc-encoded-transform/sframe-transform-worker.js: Renamed from LayoutTests/http/wpt/webrtc/sframe-transform.js.
        * web-platform-tests/webrtc-encoded-transform/sframe-transform.html: Renamed from LayoutTests/http/wpt/webrtc/sframe-transform.html.

2021-04-18  Manuel Rego Casasnovas  <rego@igalia.com>

        [selectors] Update :focus-visible tests from WPT
        https://bugs.webkit.org/show_bug.cgi?id=224601
        <rdar://problem/76827947>

        Reviewed by Darin Adler.

        Fix expectations that were broken due to a mistake in the previous commit.
        The tests had some extra changes due to webkit.org/224658, the tests were modified but not the expectations.

        * web-platform-tests/css/selectors/focus-visible-002-expected.txt:
        * web-platform-tests/css/selectors/focus-visible-003-expected.txt:
        * web-platform-tests/css/selectors/focus-visible-004-expected.txt:

2021-04-18  Antoine Quint  <graouts@webkit.org>

        Fix interpolation of the rotate CSS property
        https://bugs.webkit.org/show_bug.cgi?id=224730

        Reviewed by Dean Jackson.

        Mark 123 WPT progressions.

        * web-platform-tests/css/css-transforms/animation/rotate-composition-expected.txt:
        * web-platform-tests/css/css-transforms/animation/rotate-interpolation-expected.txt:
        * web-platform-tests/css/css-transforms/animation/transform-interpolation-001-expected.txt:
        * web-platform-tests/web-animations/animation-model/animation-types/accumulation-per-property-002-expected.txt:
        * web-platform-tests/web-animations/animation-model/animation-types/addition-per-property-002-expected.txt:
        * web-platform-tests/web-animations/animation-model/animation-types/interpolation-per-property-002-expected.txt:

2021-04-18  Cathie Chen  <cathiechen@igalia.com>

        The implicit aspect-ratio from width and height attributes with float value is not accurate enough
        https://bugs.webkit.org/show_bug.cgi?id=224664

        Reviewed by Darin Adler.

        The aspect ratio test case with width "0.8" and height "0.2" in img-aspect-ratio.html has passed. This patch doesn't change the behavior of
        the original aspect ratio test case(`assert_ratio(images[5], 133/106)`) which is related to bug 206161.

        * web-platform-tests/html/rendering/replaced-elements/attributes-for-embedded-content-and-images/img-aspect-ratio-expected.txt:

2021-04-17  Tim Nguyen  <ntim@apple.com>

        Add support for inline-{start/end} values to float & clear properties
        https://bugs.webkit.org/show_bug.cgi?id=218087

        Reviewed by Antti Koivisto & Zalan Bujtas.

        Imported reftests from: https://github.com/web-platform-tests/wpt/commit/47e7176242e2ca4ca68d6cfe032619ccf44d55a6
        Enabled: imported/w3c/web-platform-tests/css/css-logical/logical-values-float-clear.html

        * web-platform-tests/css/css-box/parsing/clear-computed-expected.txt:
        * web-platform-tests/css/css-box/parsing/clear-valid-expected.txt:
        * web-platform-tests/css/css-box/parsing/float-computed-expected.txt:
        * web-platform-tests/css/css-box/parsing/float-valid-expected.txt:
        * web-platform-tests/css/css-logical/logical-values-float-clear-1-expected.html: Added.
        * web-platform-tests/css/css-logical/logical-values-float-clear-1.html: Added.
        * web-platform-tests/css/css-logical/logical-values-float-clear-2-expected.html: Added.
        * web-platform-tests/css/css-logical/logical-values-float-clear-2.html: Added.
        * web-platform-tests/css/css-logical/logical-values-float-clear-3-expected.html: Added.
        * web-platform-tests/css/css-logical/logical-values-float-clear-3.html: Added.
        * web-platform-tests/css/css-logical/logical-values-float-clear-4-expected.html: Added.
        * web-platform-tests/css/css-logical/logical-values-float-clear-4.html: Added.
        * web-platform-tests/css/css-logical/logical-values-float-clear-expected.txt:
        * web-platform-tests/css/css-logical/w3c-import.log:

2021-04-17  Tyler Wilcock  <twilco.o@protonmail.com>

        Consider making CSSStyleSheet::rules() just an alias of CSSStyleSheet::cssRules().
        https://bugs.webkit.org/show_bug.cgi?id=197725

        Reviewed by Darin Adler.

        To match other browsers and the below WPT, CSSStyleSheet.rules now aliases
        CSSStyleSheet.cssRulesForBindings, meaning we pass two more tests.

        * web-platform-tests/css/cssom/CSSStyleSheet-expected.txt:

2021-04-17  Tim Nguyen  <ntim@apple.com>

        Don't omit conic gradient starting angle when serializing when starting angle is under 0
        https://bugs.webkit.org/show_bug.cgi?id=224719

        Reviewed by Ryosuke Niwa.

        Updated pre-existing test to cover this case.

        Test: LayoutTests/imported/w3c/web-platform-tests/css/css-backgrounds/parsing/background-image-computed.sub.html

        * web-platform-tests/css/css-backgrounds/parsing/background-image-computed.sub-expected.txt:
        * web-platform-tests/css/css-backgrounds/parsing/background-image-computed.sub.html:

2021-04-16  Cameron McCormack  <heycam@apple.com>

        Place vertical scrollbars at (inline/block)-end edge in all writing modes.
        https://bugs.webkit.org/show_bug.cgi?id=224224

        Reviewed by Simon Fraser.

        * web-platform-tests/css/css-scroll-snap/snap-inline-block-expected.txt:
        * web-platform-tests/css/cssom-view/scrollLeftTop-expected.txt:

2021-04-16  Tyler Wilcock  <twilco.o@protonmail.com>

        [css-counter-styles] Parse and add feature flag for @counter-style
        https://bugs.webkit.org/show_bug.cgi?id=223150

        Reviewed by Darin Adler.

        @counter-style and its descriptors are now exposed behind a feature
        flag, so pass some tests and fail others for a different reason
        because this patch doesn't actually implement descriptor parsing and
        setting yet.

        * web-platform-tests/css/css-counter-styles/counter-style-additive-symbols-syntax-expected.txt:
        * web-platform-tests/css/css-counter-styles/counter-style-fallback-expected.txt:
        * web-platform-tests/css/css-counter-styles/counter-style-name-syntax-expected.txt:
        * web-platform-tests/css/css-counter-styles/counter-style-negative-syntax-expected.txt:
        * web-platform-tests/css/css-counter-styles/counter-style-pad-syntax-expected.txt:
        * web-platform-tests/css/css-counter-styles/counter-style-prefix-suffix-syntax-expected.txt:
        * web-platform-tests/css/css-counter-styles/counter-style-range-syntax-expected.txt:
        * web-platform-tests/css/css-counter-styles/counter-style-speak-as-syntax-expected.txt:
        * web-platform-tests/css/css-counter-styles/counter-style-symbols-syntax-expected.txt:
        * web-platform-tests/css/css-counter-styles/counter-style-system-syntax-expected.txt:
        * web-platform-tests/css/css-counter-styles/idlharness-expected.txt:
        * web-platform-tests/css/cssom/CSSCounterStyleRule-expected.txt:

2021-04-16  Antoine Quint  <graouts@webkit.org>

        Blend using calc() when necessary
        https://bugs.webkit.org/show_bug.cgi?id=224670

        Reviewed by Antti Koivisto.

        Mark 141 WPT progressions.

        * web-platform-tests/css/css-backgrounds/animations/background-position-interpolation-expected.txt:
        * web-platform-tests/css/css-backgrounds/animations/background-position-origin-interpolation-expected.txt:
        * web-platform-tests/css/css-backgrounds/animations/border-image-width-interpolation-expected.txt:
        * web-platform-tests/css/css-backgrounds/animations/border-radius-interpolation-expected.txt:
        * web-platform-tests/css/css-flexbox/animation/flex-basis-composition-expected.txt:
        * web-platform-tests/css/css-position/animations/bottom-composition-expected.txt:
        * web-platform-tests/css/css-position/animations/left-composition-expected.txt:
        * web-platform-tests/css/css-position/animations/right-composition-expected.txt:
        * web-platform-tests/css/css-position/animations/top-composition-expected.txt:
        * web-platform-tests/css/css-shapes/animation/shape-margin-composition-expected.txt:
        * web-platform-tests/css/css-sizing/animation/height-composition-expected.txt:
        * web-platform-tests/css/css-sizing/animation/max-height-composition-expected.txt:
        * web-platform-tests/css/css-sizing/animation/max-width-composition-expected.txt:
        * web-platform-tests/css/css-sizing/animation/min-height-composition-expected.txt:
        * web-platform-tests/css/css-sizing/animation/min-width-composition-expected.txt:
        * web-platform-tests/css/css-transitions/animations/vertical-align-composition-expected.txt:
        * web-platform-tests/css/css-transitions/animations/vertical-align-interpolation-expected.txt:
        * web-platform-tests/css/css-values/animations/calc-interpolation-expected.txt:
        * web-platform-tests/web-animations/animation-model/animation-types/interpolation-per-property-001-expected.txt:

2021-04-16  Manuel Rego Casasnovas  <rego@igalia.com>

        [selectors] Update :focus-visible tests from WPT
        https://bugs.webkit.org/show_bug.cgi?id=224601

        Reviewed by Darin Adler.

        * web-platform-tests/css/selectors/focus-visible-001.html:
        * web-platform-tests/css/selectors/focus-visible-002-expected.txt:
        * web-platform-tests/css/selectors/focus-visible-002.html:
        * web-platform-tests/css/selectors/focus-visible-003-expected.txt:
        * web-platform-tests/css/selectors/focus-visible-003.html:
        * web-platform-tests/css/selectors/focus-visible-004-expected.txt:
        * web-platform-tests/css/selectors/focus-visible-004.html:
        * web-platform-tests/css/selectors/focus-visible-005.html:
        * web-platform-tests/css/selectors/focus-visible-006-expected.txt:
        * web-platform-tests/css/selectors/focus-visible-006.html:
        * web-platform-tests/css/selectors/focus-visible-008.html:
        * web-platform-tests/css/selectors/focus-visible-009.html:
        * web-platform-tests/css/selectors/focus-visible-010.html:
        * web-platform-tests/css/selectors/focus-visible-011.html:
        * web-platform-tests/css/selectors/focus-visible-012.html:
        * web-platform-tests/css/selectors/focus-visible-013.html:
        * web-platform-tests/css/selectors/focus-visible-014.html:
        * web-platform-tests/css/selectors/focus-visible-015.html:
        * web-platform-tests/css/selectors/focus-visible-016.html:
        * web-platform-tests/css/selectors/focus-visible-017.html:
        * web-platform-tests/css/selectors/focus-visible-018.html:
        * web-platform-tests/css/selectors/focus-visible-019.html:
        * web-platform-tests/css/selectors/focus-visible-script-focus-001-expected.txt: Added.
        * web-platform-tests/css/selectors/focus-visible-script-focus-001.html: Added.
        * web-platform-tests/css/selectors/focus-visible-script-focus-002.tentative-expected.txt: Added.
        * web-platform-tests/css/selectors/focus-visible-script-focus-002.tentative.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/selectors/focus-visible-019.html.
        * web-platform-tests/css/selectors/focus-visible-script-focus-003.tentative-expected.txt: Added.
        * web-platform-tests/css/selectors/focus-visible-script-focus-003.tentative.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/selectors/focus-visible-019.html.
        * web-platform-tests/css/selectors/focus-visible-script-focus-004-expected.txt: Added.
        * web-platform-tests/css/selectors/focus-visible-script-focus-004.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/selectors/focus-visible-019.html.
        * web-platform-tests/css/selectors/focus-visible-script-focus-005-expected.txt: Added.
        * web-platform-tests/css/selectors/focus-visible-script-focus-005.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/selectors/focus-visible-019.html.
        * web-platform-tests/css/selectors/focus-visible-script-focus-006.tentative-expected.txt: Added.
        * web-platform-tests/css/selectors/focus-visible-script-focus-006.tentative.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/selectors/focus-visible-019.html.
        * web-platform-tests/css/selectors/focus-visible-script-focus-007.tentative-expected.txt: Added.
        * web-platform-tests/css/selectors/focus-visible-script-focus-007.tentative.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/selectors/focus-visible-019.html.
        * web-platform-tests/css/selectors/focus-visible-script-focus-008-expected.txt: Added.
        * web-platform-tests/css/selectors/focus-visible-script-focus-008.html: Added.
        * web-platform-tests/css/selectors/focus-visible-script-focus-009-expected.txt: Added.
        * web-platform-tests/css/selectors/focus-visible-script-focus-009.html: Added.
        * web-platform-tests/css/selectors/focus-visible-script-focus-010-expected.txt: Added.
        * web-platform-tests/css/selectors/focus-visible-script-focus-010.html: Added.
        * web-platform-tests/css/selectors/focus-visible-script-focus-011-expected.txt: Added.
        * web-platform-tests/css/selectors/focus-visible-script-focus-011.html: Added.
        * web-platform-tests/css/selectors/focus-visible-script-focus-012-expected.txt: Added.
        * web-platform-tests/css/selectors/focus-visible-script-focus-012.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/selectors/focus-visible-019.html.
        * web-platform-tests/css/selectors/focus-visible-script-focus-013-expected.txt: Added.
        * web-platform-tests/css/selectors/focus-visible-script-focus-013.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/selectors/focus-visible-019.html.
        * web-platform-tests/css/selectors/focus-visible-script-focus-014-expected.txt: Added.
        * web-platform-tests/css/selectors/focus-visible-script-focus-014.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/selectors/focus-visible-019.html.
        * web-platform-tests/css/selectors/focus-visible-script-focus-015-expected.txt: Added.
        * web-platform-tests/css/selectors/focus-visible-script-focus-015.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/selectors/focus-visible-019.html.
        * web-platform-tests/css/selectors/focus-visible-script-focus-016.tentative-expected.txt: Added.
        * web-platform-tests/css/selectors/focus-visible-script-focus-016.tentative.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/selectors/focus-visible-019.html.
        * web-platform-tests/css/selectors/focus-visible-script-focus-017.tentative-expected.txt: Added.
        * web-platform-tests/css/selectors/focus-visible-script-focus-017.tentative.html: Copied from LayoutTests/imported/w3c/web-platform-tests/css/selectors/focus-visible-019.html.
        * web-platform-tests/css/selectors/focus-visible-script-focus-018-expected.txt: Added.
        * web-platform-tests/css/selectors/focus-visible-script-focus-018.html: Added.
        * web-platform-tests/css/selectors/focus-visible-script-focus-019-expected.txt: Added.
        * web-platform-tests/css/selectors/focus-visible-script-focus-019.html: Added.
        * web-platform-tests/css/selectors/w3c-import.log:

2021-04-15  Antoine Quint  <graouts@webkit.org>

        calc() should not contain 0 values other than percentages
        https://bugs.webkit.org/show_bug.cgi?id=224611

        Reviewed by Simon Fraser.

        Fix expectation of existing WPT tests and make some modifications to existing WPT tests.

        * web-platform-tests/css/css-flexbox/parsing/flex-basis-computed-expected.txt:
        * web-platform-tests/css/css-shapes/parsing/shape-outside-computed-expected.txt:
        * web-platform-tests/css/css-shapes/parsing/shape-outside-computed.html: Add a new assertion checking
        that the computed style for shape-outside may not contain 0px values in calc() values.
        * web-platform-tests/css/css-transitions/animations/vertical-align-interpolation-expected.txt:
        * web-platform-tests/css/css-transitions/animations/vertical-align-interpolation.html: Use 40% rather than
        calc(0px + 40%) as the expected value for the computed style at the 100% keyframe when blending from 40px
        to 40%. The test would have passed with calc(0px + 40%) as well, since it would now compute to 40%, but
        the test is clearer when the actual computed form is used.
        * web-platform-tests/css/css-values/minmax-percentage-serialize-expected.txt:

2021-04-14  Tim Nguyen  <ntim@apple.com>

        Omit default position/angle when serializing radial & conic gradients
        https://bugs.webkit.org/show_bug.cgi?id=223892

        Reviewed by Antti Koivisto.

        Test: LayoutTests/imported/w3c/web-platform-tests/css/css-backgrounds/parsing/background-image-computed.sub.html

        * web-platform-tests/css/css-backgrounds/parsing/background-image-computed.sub-expected.txt:

2021-04-13  Ziran Sun  <zsun@igalia.com>

        [css-grid] Incorrect track sizing when using relative sized items in 'auto' column tracks
        https://bugs.webkit.org/show_bug.cgi?id=191627

        Reviewed by Javier Fernandez.

        * web-platform-tests/css/css-grid/alignment/grid-self-baseline-not-applied-if-sizing-cyclic-dependency-001-expected.txt:

2021-04-13  Antoine Quint  <graouts@webkit.org>

        Unreviewed. Upstream a test.

        * web-platform-tests/css/css-backgrounds/animations/background-position-origin-interpolation-expected.txt:
        * web-platform-tests/css/css-backgrounds/animations/background-position-origin-interpolation.html:

2021-04-13  Antoine Quint  <graouts@webkit.org>

        calc() simplification for a multiplication should apply the multiplication to each value of an addition
        https://bugs.webkit.org/show_bug.cgi?id=224376

        Reviewed by Simon Fraser.

        Mark 99 WPT progressions.

        * web-platform-tests/css/css-backgrounds/animations/background-position-origin-interpolation-expected.txt:
        * web-platform-tests/css/css-shapes/animation/shape-outside-interpolation-expected.txt:
        * web-platform-tests/css/css-shapes/shape-outside/values/shape-margin-003-expected.txt:
        * web-platform-tests/css/css-shapes/shape-outside/values/shape-outside-circle-010-expected.txt:
        * web-platform-tests/css/css-shapes/shape-outside/values/shape-outside-circle-011-expected.txt:
        * web-platform-tests/css/css-shapes/shape-outside/values/shape-outside-ellipse-010-expected.txt:
        * web-platform-tests/css/css-shapes/shape-outside/values/shape-outside-ellipse-011-expected.txt:
        * web-platform-tests/css/css-shapes/shape-outside/values/shape-outside-inset-008-expected.txt:
        * web-platform-tests/css/css-shapes/shape-outside/values/shape-outside-inset-009-expected.txt:
        * web-platform-tests/css/css-shapes/shape-outside/values/shape-outside-polygon-006-expected.txt:
        * web-platform-tests/web-animations/animation-model/animation-types/interpolation-per-property-001-expected.txt:

2021-04-13  Said Abou-Hallawa  <said@apple.com>

        SVG paced value animations overwrite user-provided keyTimes
        https://bugs.webkit.org/show_bug.cgi?id=109010

        Reviewed by Ryosuke Niwa.

        * web-platform-tests/svg/animations/scripted/paced-value-animation-overwrites-keyTimes-expected.txt:

2021-04-12  Commit Queue  <commit-queue@webkit.org>

        Unreviewed, reverting r275793.
        https://bugs.webkit.org/show_bug.cgi?id=224466

        Caused crashes on <http://facebook.com|facebook.com>

        Reverted changeset:

        "calc() simplification for a multiplication should apply the
        multiplication to each value of an addition"
        https://bugs.webkit.org/show_bug.cgi?id=224376
        https://trac.webkit.org/changeset/275793

2021-04-12  Chris Dumez  <cdumez@apple.com>

        webaudio/AudioListener/audiolistener-set-position.html is leaking PannerNodes
        https://bugs.webkit.org/show_bug.cgi?id=224399

        Reviewed by Geoffrey Garen.

        Rebaseline existing WPT test. It is still passing but the exception message is different.

        * web-platform-tests/webaudio/the-audio-api/the-audiocontext-interface/audiocontext-suspend-resume-expected.txt:

2021-04-12  Antoine Quint  <graouts@webkit.org>

        border-image-width computed values should be a calc() value if it contains a percentage
        https://bugs.webkit.org/show_bug.cgi?id=224420

        Reviewed by Simon Fraser.

        We now pass the final test that was a FAIL result for the border-image-width computed style test.
        We also pass a fair few border-image-width interpolation tests since we used to fail them as a
        result of the expected value being expected to be a resolved value rather than a calc() value
        due the computed style we returned for such values. There are a few PASS results than became
        FAIL results because we now correctly expect a calc() value, but we return the keyframe value
        as-is for 0 and 1 progress, a bug we will fix shortly.

        * web-platform-tests/css/css-backgrounds/animations/border-image-width-interpolation-expected.txt:
        * web-platform-tests/css/css-backgrounds/parsing/border-image-width-computed-expected.txt:

2021-04-12  Youenn Fablet  <youenn@apple.com>

        Block loading for port 10080
        https://bugs.webkit.org/show_bug.cgi?id=224432

        Reviewed by Alex Christensen.

        * web-platform-tests/fetch/api/request/request-bad-port.any-expected.txt:
        * web-platform-tests/fetch/api/request/request-bad-port.any.js:
        * web-platform-tests/fetch/api/request/request-bad-port.any.worker-expected.txt:
        * web-platform-tests/websockets/Create-blocked-port.any-expected.txt:
        * web-platform-tests/websockets/Create-blocked-port.any.js:
        * web-platform-tests/websockets/Create-blocked-port.any.worker-expected.txt:

2021-04-12  Sam Weinig  <weinig@apple.com>

        Update WPT css/css-color tests
        https://bugs.webkit.org/show_bug.cgi?id=224419

        Reviewed by Antti Koivisto.

        Update to the latest version of the css/css-color tests.

        * web-platform-tests/css/css-color/META.yml:
        * web-platform-tests/css/css-color/hex-001-expected.html:
        * web-platform-tests/css/css-color/hex-001.html:
        * web-platform-tests/css/css-color/hex-002-expected.html:
        * web-platform-tests/css/css-color/hex-002.html:
        * web-platform-tests/css/css-color/hex-003-expected.html:
        * web-platform-tests/css/css-color/hex-003.html:
        * web-platform-tests/css/css-color/hex-004-expected.html:
        * web-platform-tests/css/css-color/hex-004.html:
        * web-platform-tests/css/css-color/hsl-001-expected.html:
        * web-platform-tests/css/css-color/hsl-001.html:
        * web-platform-tests/css/css-color/hsl-002-expected.html:
        * web-platform-tests/css/css-color/hsl-002.html:
        * web-platform-tests/css/css-color/hsl-003-expected.html:
        * web-platform-tests/css/css-color/hsl-003.html:
        * web-platform-tests/css/css-color/hsl-004-expected.html:
        * web-platform-tests/css/css-color/hsl-004.html:
        * web-platform-tests/css/css-color/hsl-005-expected.html:
        * web-platform-tests/css/css-color/hsl-005.html:
        * web-platform-tests/css/css-color/hsl-006-expected.html:
        * web-platform-tests/css/css-color/hsl-006.html:
        * web-platform-tests/css/css-color/hsl-007-expected.html:
        * web-platform-tests/css/css-color/hsl-007.html:
        * web-platform-tests/css/css-color/hsl-008-expected.html:
        * web-platform-tests/css/css-color/hsl-008.html:
        * web-platform-tests/css/css-color/hsla-001-expected.html:
        * web-platform-tests/css/css-color/hsla-001.html:
        * web-platform-tests/css/css-color/hsla-002-expected.html:
        * web-platform-tests/css/css-color/hsla-002.html:
        * web-platform-tests/css/css-color/hsla-003-expected.html:
        * web-platform-tests/css/css-color/hsla-003.html:
        * web-platform-tests/css/css-color/hsla-004-expected.html:
        * web-platform-tests/css/css-color/hsla-004.html:
        * web-platform-tests/css/css-color/hsla-005-expected.html:
        * web-platform-tests/css/css-color/hsla-005.html:
        * web-platform-tests/css/css-color/hsla-006-expected.html:
        * web-platform-tests/css/css-color/hsla-006.html:
        * web-platform-tests/css/css-color/hsla-007-expected.html:
        * web-platform-tests/css/css-color/hsla-007.html:
        * web-platform-tests/css/css-color/hsla-008-expected.html:
        * web-platform-tests/css/css-color/hsla-008.html:
        * web-platform-tests/css/css-color/rgb-001-expected.html:
        * web-platform-tests/css/css-color/rgb-001.html:
        * web-platform-tests/css/css-color/rgb-002-expected.html:
        * web-platform-tests/css/css-color/rgb-002.html:
        * web-platform-tests/css/css-color/rgb-003-expected.html:
        * web-platform-tests/css/css-color/rgb-003.html:
        * web-platform-tests/css/css-color/rgb-004-expected.html:
        * web-platform-tests/css/css-color/rgb-004.html:
        * web-platform-tests/css/css-color/rgb-005-expected.html:
        * web-platform-tests/css/css-color/rgb-005.html:
        * web-platform-tests/css/css-color/rgb-006-expected.html:
        * web-platform-tests/css/css-color/rgb-006.html:
        * web-platform-tests/css/css-color/rgb-007-expected.html:
        * web-platform-tests/css/css-color/rgb-007.html:
        * web-platform-tests/css/css-color/rgb-008-expected.html:
        * web-platform-tests/css/css-color/rgb-008.html:
        * web-platform-tests/css/css-color/rgba-001-expected.html:
        * web-platform-tests/css/css-color/rgba-001.html:
        * web-platform-tests/css/css-color/rgba-002-expected.html:
        * web-platform-tests/css/css-color/rgba-002.html:
        * web-platform-tests/css/css-color/rgba-003-expected.html:
        * web-platform-tests/css/css-color/rgba-003.html:
        * web-platform-tests/css/css-color/rgba-004-expected.html:
        * web-platform-tests/css/css-color/rgba-004.html:
        * web-platform-tests/css/css-color/rgba-005-expected.html:
        * web-platform-tests/css/css-color/rgba-005.html:
        * web-platform-tests/css/css-color/rgba-006-expected.html:
        * web-platform-tests/css/css-color/rgba-006.html:
        * web-platform-tests/css/css-color/rgba-007-expected.html:
        * web-platform-tests/css/css-color/rgba-007.html:
        * web-platform-tests/css/css-color/rgba-008-expected.html:
        * web-platform-tests/css/css-color/rgba-008.html:
        * web-platform-tests/css/css-color/w3c-import.log:

2021-04-12  Youenn Fablet  <youenn@apple.com>

        Update WPT streams test to ToT
        https://bugs.webkit.org/show_bug.cgi?id=224284

        Reviewed by Alex Christensen.

        * web-platform-tests/streams/README.md:
        * web-platform-tests/streams/piping/general.any-expected.txt:
        * web-platform-tests/streams/piping/general.any.js:
        (promise_test.t.const.rs.new.ReadableStream.start):
        * web-platform-tests/streams/piping/general.any.worker-expected.txt:
        * web-platform-tests/streams/readable-byte-streams/bad-buffers-and-views.any-expected.txt:
        * web-platform-tests/streams/readable-byte-streams/bad-buffers-and-views.any.js:
        * web-platform-tests/streams/readable-byte-streams/bad-buffers-and-views.any.worker-expected.txt:
        * web-platform-tests/streams/readable-byte-streams/general.any-expected.txt:
        * web-platform-tests/streams/readable-byte-streams/general.any.js:
        (test):
        * web-platform-tests/streams/readable-byte-streams/general.any.worker-expected.txt:
        * web-platform-tests/streams/readable-streams/async-iterator.any-expected.txt:
        * web-platform-tests/streams/readable-streams/async-iterator.any.js:
        (promise_test.async const):
        (promise_test):
        * web-platform-tests/streams/readable-streams/async-iterator.any.worker-expected.txt:
        * web-platform-tests/streams/readable-streams/default-reader.any-expected.txt:
        * web-platform-tests/streams/readable-streams/default-reader.any.js:
        (promise_test.t.const.rs.new.ReadableStream.start):
        * web-platform-tests/streams/readable-streams/default-reader.any.worker-expected.txt:
        * web-platform-tests/streams/readable-streams/general.any-expected.txt:
        * web-platform-tests/streams/readable-streams/general.any.js:
        (promise_test):
        * web-platform-tests/streams/readable-streams/general.any.worker-expected.txt:
        * web-platform-tests/streams/transform-streams/patched-global.any-expected.txt:
        * web-platform-tests/streams/transform-streams/patched-global.any.js:
        * web-platform-tests/streams/transform-streams/patched-global.any.worker-expected.txt:

2021-04-11  Sam Weinig  <weinig@apple.com>

        Reduce compile time and binary size cost of enabling proper CSSStyleDeclaration property access behavior
        https://bugs.webkit.org/show_bug.cgi?id=222518
        <rdar://problem/75136887>

        Reviewed by Darin Adler.

        * web-platform-tests/css/cssom/cssstyledeclaration-properties-expected.txt:
        Update test result now that it is passing.

2021-04-10  Chris Dumez  <cdumez@apple.com>

        [ macOS ] imported/w3c/web-platform-tests/webaudio/the-audio-api/the-analysernode-interface/realtimeanalyser-fft-scaling.html is a flakey text failure
        https://bugs.webkit.org/show_bug.cgi?id=223966
        <rdar://problem/76028345>

        Reviewed by Darin Adler.

        Update test as per:
        - https://github.com/web-platform-tests/wpt/pull/28428

        Make sure subtests are run one after another, not in parallel, so that PASS lines are printed out in a
        consistent order.

        * web-platform-tests/webaudio/the-audio-api/the-analysernode-interface/realtimeanalyser-fft-scaling.html:

2021-04-09  Antoine Quint  <graouts@webkit.org>

        calc() simplification for a multiplication should apply the multiplication to each value of an addition
        https://bugs.webkit.org/show_bug.cgi?id=224376

        Reviewed by Simon Fraser.

        Mark 99 WPT progressions.

        * web-platform-tests/css/css-backgrounds/animations/background-position-origin-interpolation-expected.txt:
        * web-platform-tests/css/css-shapes/animation/shape-outside-interpolation-expected.txt:
        * web-platform-tests/css/css-shapes/shape-outside/values/shape-margin-003-expected.txt:
        * web-platform-tests/css/css-shapes/shape-outside/values/shape-outside-circle-010-expected.txt:
        * web-platform-tests/css/css-shapes/shape-outside/values/shape-outside-circle-011-expected.txt:
        * web-platform-tests/css/css-shapes/shape-outside/values/shape-outside-ellipse-010-expected.txt:
        * web-platform-tests/css/css-shapes/shape-outside/values/shape-outside-ellipse-011-expected.txt:
        * web-platform-tests/css/css-shapes/shape-outside/values/shape-outside-inset-008-expected.txt:
        * web-platform-tests/css/css-shapes/shape-outside/values/shape-outside-inset-009-expected.txt:
        * web-platform-tests/css/css-shapes/shape-outside/values/shape-outside-polygon-006-expected.txt:
        * web-platform-tests/web-animations/animation-model/animation-types/interpolation-per-property-001-expected.txt:

2021-04-08  Antoine Quint  <graouts@webkit.org>

        calc() values resulting from blending mixed type lengths should be simplified
        https://bugs.webkit.org/show_bug.cgi?id=224322

        Reviewed by Sam Weinig.

        Mark 84 WPT progressions.

        * web-platform-tests/css/css-backgrounds/animations/background-position-origin-interpolation-expected.txt:
        * web-platform-tests/css/css-backgrounds/animations/border-image-width-interpolation-expected.txt:
        * web-platform-tests/css/css-backgrounds/animations/border-radius-interpolation-expected.txt:
        * web-platform-tests/css/css-shapes/animation/shape-outside-composition-expected.txt:
        * web-platform-tests/css/css-shapes/animation/shape-outside-interpolation-expected.txt:
        * web-platform-tests/css/css-sizing/animation/max-height-composition-expected.txt:
        * web-platform-tests/css/css-sizing/animation/max-width-composition-expected.txt:
        * web-platform-tests/css/css-sizing/animation/min-height-composition-expected.txt:
        * web-platform-tests/css/css-sizing/animation/min-width-composition-expected.txt:
        * web-platform-tests/css/css-transitions/animations/vertical-align-composition-expected.txt:
        * web-platform-tests/css/css-transitions/animations/vertical-align-interpolation-expected.txt:
        * web-platform-tests/css/css-values/animations/calc-interpolation-expected.txt:
        * web-platform-tests/web-animations/animation-model/animation-types/interpolation-per-property-001-expected.txt:

2021-04-09  Ziran Sun  <zsun@igalia.com>

        [css-flexbox] max-height percentages are wrongly resolved for replaced grid items in nested percentage flexboxes
        https://bugs.webkit.org/show_bug.cgi?id=223931

        Reviewed by Javier Fernandez.

        * web-platform-tests/css/css-flexbox/percentage-max-height-004-expected.html: Added.
        * web-platform-tests/css/css-flexbox/percentage-max-height-004.html: Added.

2021-04-09  Ziran Sun  <zsun@igalia.com>

        [css-grid] Fix min/max widths of grid affected by ancestor
        https://bugs.webkit.org/show_bug.cgi?id=222100

        Reviewed by Javier Fernandez.

        * web-platform-tests/css/css-grid/grid-items/grid-items-percentage-paddings-002-expected.txt:
        * web-platform-tests/css/css-grid/grid-items/grid-items-percentage-paddings-vertical-lr-002-expected.txt:
        * web-platform-tests/css/css-grid/grid-items/grid-items-percentage-paddings-vertical-rl-002-expected.txt:

2021-04-08  Youenn Fablet  <youenn@apple.com>

        Streams: new test failure for canceling the branches of an errored tee'd stream
        https://bugs.webkit.org/show_bug.cgi?id=223558
        <rdar://problem/75924807>

        Reviewed by Alex Christensen.

        Rebased from WPT ToT.

        * web-platform-tests/streams/readable-streams/tee.any-expected.txt:
        * web-platform-tests/streams/readable-streams/tee.any.js:
        (promise_test.async const):
        (promise_test):
        (promise_test.async t):
        * web-platform-tests/streams/readable-streams/tee.any.worker-expected.txt:

2021-04-06  Zalan Bujtas  <zalan@apple.com>

        [LFC][Integration] Enable inline box support (RenderInline)
        https://bugs.webkit.org/show_bug.cgi?id=220148
        <rdar://problem/72768785>

        Reviewed by Antti Koivisto.

        * web-platform-tests/css/css-flexbox/orthogonal-flex-item-crash-expected.txt:
        * web-platform-tests/css/css-text/word-break/word-break-break-all-inline-007-expected.html:
        * web-platform-tests/css/css-text/word-break/word-break-break-all-inline-007.html:
        * web-platform-tests/html/dom/elements/the-innertext-idl-attribute/getter-expected.txt:
        * web-platform-tests/innerText/getter-expected.txt:

2021-04-06  Rob Buis  <rbuis@igalia.com>

        Resync web-platform-tests/css/css-sizing/aspect-ratio from upstream
        https://bugs.webkit.org/show_bug.cgi?id=222266

        Reviewed by Manuel Rego Casasnovas.

        Resync web-platform-tests/css/css-sizing/aspect-ratio from upstream 8837d4e994.

        * web-platform-tests/css/css-sizing/aspect-ratio/flex-aspect-ratio-025.html:
        * web-platform-tests/css/css-sizing/aspect-ratio/flex-aspect-ratio-026.html:
        * web-platform-tests/css/css-sizing/aspect-ratio/replaced-element-003.html:
        * web-platform-tests/css/css-sizing/aspect-ratio/replaced-element-dynamic-aspect-ratio.html:
        * web-platform-tests/css/css-sizing/aspect-ratio/w3c-import.log:

2021-04-02  Alexey Shvayka  <shvaikalesh@gmail.com>

        Remove [Replaceable] extended attribute from `document.all`
        https://bugs.webkit.org/show_bug.cgi?id=223883

        Reviewed by Darin Adler.

        * web-platform-tests/html/dom/idlharness.https-expected.txt:

2021-04-02  Jessica Tallon  <jtallon@igalia.com>

        Update wasm JS-API tests for the type method to latest upstream.
        https://bugs.webkit.org/show_bug.cgi?id=222412

        Reviewed by Yusuke Suzuki.

        The upstream tests has recently added a test for the table type method and
        updated the other type tests to methods to keep up with a recent spec change.
        This adds those updated tests as well as now expectations they pass.

        * web-platform-tests/wasm/jsapi/global/type.tentative.any-expected.txt:
        * web-platform-tests/wasm/jsapi/global/type.tentative.any.js:
        (assert_type):
        (string_appeared_here.test):
        * web-platform-tests/wasm/jsapi/global/type.tentative.any.worker-expected.txt:
        * web-platform-tests/wasm/jsapi/memory/type.tentative.any-expected.txt:
        * web-platform-tests/wasm/jsapi/memory/type.tentative.any.js:
        (assert_type):
        * web-platform-tests/wasm/jsapi/memory/type.tentative.any.worker-expected.txt:

2021-04-02  Chris Lord  <clord@igalia.com>

        Implement text rendering on OffscreenCanvas in a Worker
        https://bugs.webkit.org/show_bug.cgi?id=202793

        Reviewed by Darin Adler.

        Adjust test expectations.

        * web-platform-tests/html/canvas/offscreen/text/2d.text.font.parse.basic.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.font.parse.complex.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.font.parse.invalid.worker-expected.txt:
        * web-platform-tests/html/canvas/offscreen/text/2d.text.font.parse.tiny.worker-expected.txt:

2021-04-02  Sergio Villar Senin  <svillar@igalia.com>

        [css-flexbox] align-content issues
        https://bugs.webkit.org/show_bug.cgi?id=221468

        Reviewed by Ryosuke Niwa.

        * web-platform-tests/css/css-flexbox/align-content_center-expected.html: Fixed stylesheet link.
        * web-platform-tests/css/css-flexbox/align-content_flex-end-expected.html: Ditto.
        * web-platform-tests/css/css-flexbox/align-content_space-around-expected.html: Ditto.
        * web-platform-tests/css/css-flexbox/align-content_stretch-expected.html: Ditto.

2021-04-01  Rob Buis  <rbuis@igalia.com>

        aspect-ratio not recomputed on hover
        https://bugs.webkit.org/show_bug.cgi?id=224028

        Reviewed by Zalan Bujtas.

        Add test for this.

        * web-platform-tests/css/css-sizing/aspect-ratio/replaced-element-dynamic-aspect-ratio-expected.xht: Added.
        * web-platform-tests/css/css-sizing/aspect-ratio/replaced-element-dynamic-aspect-ratio.html: Added.

2021-03-31  Antoine Quint  <graouts@webkit.org>

        Unreviewed. Import WPT test modified in https://github.com/web-platform-tests/wpt/pull/28315
        with updated expectation showing a slight progression in a failing test (we fail the second
        assertion instead of the first one).

        * web-platform-tests/css/css-fonts/animations/font-stretch-interpolation-expected.txt:
        * web-platform-tests/css/css-fonts/animations/font-stretch-interpolation.html:

2021-03-31  Robert Jenner  <jenner@apple.com>

        REGRESSION (r275227): [ macOS iOS Release ] imported/w3c/web-platform-tests/css/css-transitions/properties-value-003.html is a constant failure
        https://bugs.webkit.org/show_bug.cgi?id=224006

        Uneviewed test gardening.

        Rebaseline test that started to consantly fail. 

        * web-platform-tests/css/css-transitions/properties-value-003-expected.txt:

2021-03-31  Antoine Quint  <graouts@webkit.org>

        font-stretch should support 0% and disallow animating to a value below 0%
        https://bugs.webkit.org/show_bug.cgi?id=223994

        Reviewed by Antti Koivisto.

        Mark 23 tests as PASS results.

        * web-platform-tests/css/css-fonts/animations/font-stretch-interpolation-expected.txt:
        * web-platform-tests/css/css-fonts/variations/at-font-face-descriptors-expected.txt:
        * web-platform-tests/css/css-fonts/variations/font-parse-numeric-stretch-style-weight-expected.txt:
        * web-platform-tests/css/css-fonts/variations/font-stretch-expected.txt:

2021-03-30  Antoine Quint  <graouts@webkit.org>

        Computed style for a border-radius corner should never be 0px when the provided width isn't 0px
        https://bugs.webkit.org/show_bug.cgi?id=223927

        Reviewed by Dean Jackson.

        Mark 5 tests as PASS results as a result of returning the correct computed style for
        "border-top-left-radius: 40px 0px". This is importing a change made to WPT via
        https://github.com/web-platform-tests/wpt/pull/28310.

        * web-platform-tests/css/css-backgrounds/animations/border-radius-interpolation-expected.txt:
        * web-platform-tests/css/css-backgrounds/parsing/border-radius-computed-expected.txt:
        * web-platform-tests/css/css-backgrounds/parsing/border-radius-computed.html:

2021-03-30  Antoine Quint  <graouts@webkit.org>

        Fix interpolation of box-shadow and text-shadow CSS properties
        https://bugs.webkit.org/show_bug.cgi?id=223924

        Reviewed by Dean Jackson.

        Mark all interpolation tests for box-shadow and text-shadow as PASS results.

        * web-platform-tests/css/css-backgrounds/animations/box-shadow-composition-expected.txt:
        * web-platform-tests/css/css-backgrounds/animations/box-shadow-interpolation-expected.txt:
        * web-platform-tests/css/css-transitions/animations/text-shadow-composition-expected.txt:
        * web-platform-tests/css/css-transitions/animations/text-shadow-interpolation-expected.txt:

2021-03-30  Antoine Quint  <graouts@webkit.org>

        Computed style for background-position should not use "left" and "top" keywords
        https://bugs.webkit.org/show_bug.cgi?id=223878

        Reviewed by Simon Fraser.

        Add 106 new PASS results.

        * web-platform-tests/css/css-backgrounds/animations/background-position-interpolation-expected.txt:
        * web-platform-tests/css/css-backgrounds/animations/background-position-origin-interpolation-expected.txt:
        * web-platform-tests/css/css-backgrounds/parsing/background-position-computed-expected.txt:
        * web-platform-tests/css/css-pseudo/first-letter-allowed-properties.html: Update the test per WPT PR #28284.

2021-03-30  Antoine Quint  <graouts@webkit.org>

        CSS properties backed by StyleImage should not interpolate when one of the values is "none"
        https://bugs.webkit.org/show_bug.cgi?id=223929

        Reviewed by Dean Jackson.

        Mark 76 new PASS results.

        * web-platform-tests/css/css-backgrounds/animations/background-image-interpolation-expected.txt:
        * web-platform-tests/css/css-backgrounds/animations/border-image-source-interpolation-expected.txt:
        * web-platform-tests/css/css-lists/animations/list-style-image-interpolation-expected.txt:

2021-03-30  Antoine Quint  <graouts@webkit.org>

        Account for "hanging" and "each-line" when blending text-interpolation
        https://bugs.webkit.org/show_bug.cgi?id=223914

        Reviewed by Dean Jackson.

        * web-platform-tests/css/css-text/animations/text-indent-composition-expected.txt:
        * web-platform-tests/css/css-text/animations/text-indent-interpolation-expected.txt:

2021-03-30  Antoine Quint  <graouts@webkit.org>

        [CSS Backgrounds] WPT test css/css-backgrounds/animations/border-image-width-interpolation.html asserts
        https://bugs.webkit.org/show_bug.cgi?id=206578

        Reviewed by Dean Jackson.

        Update the test output, the remaining failures are due to issues with calc() serialization (see
        https://bugs.webkit.org/show_bug.cgi?id=223875).

        * web-platform-tests/css/css-backgrounds/animations/border-image-width-interpolation-expected.txt:

2021-03-30  Antoine Quint  <graouts@webkit.org>

        Account for "cover" and "contain" when interpolating background-size
        https://bugs.webkit.org/show_bug.cgi?id=223879

        Reviewed by Antti Koivisto.

        Add 40 PASS results for the background-size interpolation test.

        * web-platform-tests/css/css-backgrounds/animations/background-size-interpolation-expected.txt:

2021-03-29  Antoine Quint  <graouts@webkit.org>

        Enable "hanging" and "each-line" keywords for the text-indent CSS property
        https://bugs.webkit.org/show_bug.cgi?id=223851

        Reviewed by Antti Koivisto.

        Mark all tests in the parsing-related tests as PASS results for text-indent.
        The animation tests will be dealt with in bug 223914.

        * web-platform-tests/css/css-text/animations/text-indent-composition-expected.txt:
        * web-platform-tests/css/css-text/animations/text-indent-interpolation-expected.txt:
        * web-platform-tests/css/css-text/parsing/text-indent-computed-expected.txt:
        * web-platform-tests/css/css-text/parsing/text-indent-valid-expected.txt:

2021-03-28  Antoine Quint  <graouts@webkit.org>

        Add support for animating the vertical-align CSS property
        https://bugs.webkit.org/show_bug.cgi?id=223853

        Reviewed by Antti Koivisto.

        Add 161 PASS results in the WPT suite now that we support animating vertical-align.

        * web-platform-tests/css/css-transitions/animations/vertical-align-composition-expected.txt:
        * web-platform-tests/css/css-transitions/animations/vertical-align-interpolation-expected.txt:
        * web-platform-tests/css/css-transitions/properties-value-001-expected.txt:
        * web-platform-tests/css/css-transitions/properties-value-implicit-001-expected.txt:
        * web-platform-tests/css/css-transitions/properties-value-inherit-001-expected.txt:
        * web-platform-tests/css/css-transitions/properties-value-inherit-002-expected.txt:

2021-03-26  Tim Nguyen  <ntim.bugs@gmail.com>

        Add interpolation for object-position CSS property
        https://bugs.webkit.org/show_bug.cgi?id=223568

        Reviewed by Antoine Quint.

        * web-platform-tests/css/css-images/object-position-interpolation.html: Added.

2021-03-26  Imanol Fernandez  <ifernandez@igalia.com>

        Implement cachedPropertyValue for WebXR [SameObject] attributes
        https://bugs.webkit.org/show_bug.cgi?id=223635

        Reviewed by Chris Dumez.

        Update WebXR [SameObject] related test expectations.

        * web-platform-tests/webxr/xrRigidTransform_sameObject.https-expected.txt: Added.
        * web-platform-tests/webxr/xrSession_sameObject.https-expected.txt: Added.
        * web-platform-tests/webxr/xrView_sameObject.https-expected.txt: Added.
        * web-platform-tests/webxr/xrViewerPose_views_sameObject.https-expected.txt: Added.

2021-03-25  Antoine Quint  <graouts@webkit.org>

        Fix interpolation of the caret-color CSS property
        https://bugs.webkit.org/show_bug.cgi?id=223181
        <rdar://problem/75687413>

        Reviewed by Antti Koivisto.

        Add 64 PASS results for the caret-color interpolation test which now is passing completely.
        The test css/css-ui/caret-color-021.html also progresses.

        * web-platform-tests/css/css-ui/animation/caret-color-interpolation-expected.txt:
        * web-platform-tests/css/css-ui/caret-color-021-expected.txt:

2021-03-25  Antoine Quint  <graouts@webkit.org>

        Improve interpolation of the shape-outside CSS property
        https://bugs.webkit.org/show_bug.cgi?id=223738

        Reviewed by Antti Koivisto.

        Add another 29 PASS results for shape-outside interpolation.

        * web-platform-tests/css/css-shapes/animation/shape-outside-composition-expected.txt:
        * web-platform-tests/css/css-shapes/animation/shape-outside-interpolation-expected.txt:
        * web-platform-tests/web-animations/animation-model/animation-types/interpolation-per-property-002-expected.txt:

2021-03-24  Antoine Quint  <graouts@webkit.org>

        Fix interpolation of the border-spacing property
        https://bugs.webkit.org/show_bug.cgi?id=223702

        Reviewed by Antti Koivisto.

        Import the border-spacing interpolation test with its 120 tests passing.

        * web-platform-tests/css/css-tables/animations/border-spacing-interpolation-expected.txt: Added.
        * web-platform-tests/css/css-tables/animations/border-spacing-interpolation.html: Added.

2021-03-24  Rob Buis  <rbuis@igalia.com>

        [css-contain] Parse CSS contain property
        https://bugs.webkit.org/show_bug.cgi?id=223252

        Reviewed by Sam Weinig.

        Update test results because of not supporting style in contain property.

        * web-platform-tests/css/css-contain/content-visibility/content-visibility-026-expected.txt:
        * web-platform-tests/css/css-contain/parsing/contain-computed-expected.txt:
        * web-platform-tests/css/css-contain/parsing/contain-valid-expected.txt:

2021-03-24  Antoine Quint  <graouts@webkit.org>

        Support animation of the tab-size CSS property
        https://bugs.webkit.org/show_bug.cgi?id=223688

        Reviewed by Antti Koivisto.

        Import the tab-size interpolation test with its 196 tests passing.

        * web-platform-tests/css/css-text/animations/tab-size-interpolation-expected.txt: Added.
        * web-platform-tests/css/css-text/animations/tab-size-interpolation.html: Added.

2021-03-24  Chris Lord  <clord@igalia.com>

        [GLIB] imported/w3c/web-platform-tests/html/canvas/offscreen/manual/draw-generic-family/2d.text.draw.generic.family.w.html is flaky failing
        https://bugs.webkit.org/show_bug.cgi?id=223671

        Unreviewed test gardening.

        * web-platform-tests/html/canvas/offscreen/manual/draw-generic-family/2d.text.draw.generic.family.w-expected.txt:

2021-03-23  Chris Lord  <clord@igalia.com>

        Import WPT html/canvas/offscreen/manual/draw-generic-family tests
        https://bugs.webkit.org/show_bug.cgi?id=223630

        Reviewed by Youenn Fablet.

        * web-platform-tests/html/canvas/offscreen/manual/draw-generic-family/2d.text.draw.generic.family-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/manual/draw-generic-family/2d.text.draw.generic.family.html: Added.
        * web-platform-tests/html/canvas/offscreen/manual/draw-generic-family/2d.text.draw.generic.family.w-expected.txt: Added.
        * web-platform-tests/html/canvas/offscreen/manual/draw-generic-family/2d.text.draw.generic.family.w.html: Added.
        * web-platform-tests/html/canvas/offscreen/manual/draw-generic-family/w3c-import.log: Added.

2021-03-22  Rob Buis  <rbuis@igalia.com>

        Enable ability to prevent scrolling in Element.focus()
        https://bugs.webkit.org/show_bug.cgi?id=178583

        Reviewed by Simon Fraser.

        Update improved test result.

        * web-platform-tests/html/interaction/focus/processing-model/preventScroll-nested-scroll-elements-expected.txt: Added.
        * web-platform-tests/html/interaction/focus/processing-model/preventScroll-nested-scroll-elements.html: Added.
        * web-platform-tests/html/interaction/focus/processing-model/preventScroll-textarea-expected.txt:

2021-03-22  Chris Dumez  <cdumez@apple.com>

        imported/w3c/web-platform-tests/webaudio/the-audio-api/the-audioparam-interface/nan-param.html is failing
        https://bugs.webkit.org/show_bug.cgi?id=223583

        Reviewed by Eric Carlson.

        Rebaseline test that is now passing.

        * web-platform-tests/webaudio/the-audio-api/the-audioparam-interface/nan-param-expected.txt:

2021-03-22  Rob Buis  <rbuis@igalia.com>

        [css-contain] Parse CSS contain property
        https://bugs.webkit.org/show_bug.cgi?id=223252

        Reviewed by Darin Adler.

        Adjust test expectations.

        * web-platform-tests/css/css-cascade/all-prop-initial-xml-expected.txt:
        * web-platform-tests/css/css-contain/content-visibility/content-visibility-026-expected.txt:
        * web-platform-tests/css/css-contain/inheritance-expected.txt:
        * web-platform-tests/css/css-contain/parsing/contain-computed-expected.txt:
        * web-platform-tests/css/css-contain/parsing/contain-valid-expected.txt:
        * web-platform-tests/css/cssom/cssstyledeclaration-csstext-expected.txt:

2021-03-22  Chris Dumez  <cdumez@apple.com>

        Unreviewed, unskip audioworkletprocessor-param-getter-overridden.https.html WPT test as it is no longer failing.

        * web-platform-tests/webaudio/the-audio-api/the-audioworklet-interface/audioworkletprocessor-param-getter-overridden.https-expected.txt: Added.

2021-03-22  Chris Dumez  <cdumez@apple.com>

        Implement AbortSignal.abort()
        https://bugs.webkit.org/show_bug.cgi?id=223071
        <rdar://problem/75575483>

        Reviewed by Darin Adler.

        Resync WPT test from upstream a8cbe9c712ad032d36 to gain test coverage.

        * web-platform-tests/dom/abort/event.any-expected.txt:
        * web-platform-tests/dom/abort/event.any.js:
        * web-platform-tests/dom/abort/event.any.worker-expected.txt:

2021-03-19  Chris Dumez  <cdumez@apple.com>

        Resync webaudio web-platform-tests from upstream
        https://bugs.webkit.org/show_bug.cgi?id=223537

        Reviewed by Alex Christensen.

        esync webaudio web-platform-tests from upstream a8cbe9c712ad032d36.

        * web-platform-tests/webaudio/the-audio-api/the-audiobuffersourcenode-interface/audiobuffersource-duration-loop-expected.txt: Added.
        * web-platform-tests/webaudio/the-audio-api/the-audiobuffersourcenode-interface/audiobuffersource-duration-loop.html: Added.
        * web-platform-tests/webaudio/the-audio-api/the-audiobuffersourcenode-interface/w3c-import.log:
        * web-platform-tests/webaudio/the-audio-api/the-audioparam-interface/nan-param-expected.txt: Added.
        * web-platform-tests/webaudio/the-audio-api/the-audioparam-interface/nan-param.html: Added.
        * web-platform-tests/webaudio/the-audio-api/the-audioparam-interface/w3c-import.log:
        * web-platform-tests/webaudio/the-audio-api/the-audioworklet-interface/audioworkletprocessor-param-getter-overridden.https.html: Added.
        * web-platform-tests/webaudio/the-audio-api/the-audioworklet-interface/processors/invalid-param-array-processor.js: Added.
        (InvalidParamArrayProcessor.get parameterDescriptors):
        (InvalidParamArrayProcessor):
        (InvalidParamArrayProcessor.prototype.process):
        (string_appeared_here):
        * web-platform-tests/webaudio/the-audio-api/the-audioworklet-interface/processors/w3c-import.log:
        * web-platform-tests/webaudio/the-audio-api/the-audioworklet-interface/w3c-import.log:
        * web-platform-tests/webaudio/the-audio-api/the-oscillatornode-interface/ctor-oscillator-expected.txt:
        * web-platform-tests/webaudio/the-audio-api/the-oscillatornode-interface/ctor-oscillator.html:

2021-03-19  Zalan Bujtas  <zalan@apple.com>

        Unreviewed, reverting r274596.

        Google logo is not visible on google.com

        Reverted changeset:

        "[css-grid] Incorrect track sizing when using relative sized
        items in 'auto' column tracks"
        https://bugs.webkit.org/show_bug.cgi?id=191627
        https://commits.webkit.org/r274596

2021-03-19  Sergio Villar Senin  <svillar@igalia.com>

        [css-flexbox] Another WPT import
        https://bugs.webkit.org/show_bug.cgi?id=223438

        Reviewed by Manuel Rego Casasnovas.

        * web-platform-tests/css/css-flexbox/flex-basis-011-expected.html: Added.
        * web-platform-tests/css/css-flexbox/flex-basis-011.html: Added.
        * web-platform-tests/css/css-flexbox/flexbox_justifycontent-end-expected.html: Added.
        * web-platform-tests/css/css-flexbox/flexbox_justifycontent-end-rtl-expected.html: Added.
        * web-platform-tests/css/css-flexbox/flexbox_justifycontent-end-rtl.html: Added.
        * web-platform-tests/css/css-flexbox/flexbox_justifycontent-end.html: Added.
        * web-platform-tests/css/css-flexbox/flexbox_justifycontent-start-expected.html: Added.
        * web-platform-tests/css/css-flexbox/flexbox_justifycontent-start-rtl-expected.html: Added.
        * web-platform-tests/css/css-flexbox/flexbox_justifycontent-start-rtl.html: Added.
        * web-platform-tests/css/css-flexbox/flexbox_justifycontent-start.html: Added.
        * web-platform-tests/css/css-flexbox/select-element-zero-height-001-expected.html:
        * web-platform-tests/css/css-flexbox/select-element-zero-height-001.html:
        * web-platform-tests/css/css-flexbox/select-element-zero-height-002-expected.html:
        * web-platform-tests/css/css-flexbox/select-element-zero-height-002.html:
        * web-platform-tests/css/css-flexbox/w3c-import.log:

== Rolled over to ChangeLog-2021-03-18 ==
