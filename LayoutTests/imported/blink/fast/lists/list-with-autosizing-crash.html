<!DOCTYPE html>
<html>
<body>
<p>
This test passes if it doesn't crash.
</p>
<ul id="autosizeText"><li>
hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello hello
</li></ul>
<script>

if (window.internals) {
    window.internals.settings.setTextAutosizingEnabled(true);
    window.internals.settings.setTextAutosizingWindowSizeOverride(320, 480);
}

if (window.testRunner)
    testRunner.waitUntilDone();

setTimeout(function() {
    // Cleanup
    document.body.removeChild(document.querySelector('#autosizeText'));

    if (window.testRunner) {
        testRunner.dumpAsText();
        testRunner.notifyDone();
    }
}, 0);

</script>
</body>
</html>
