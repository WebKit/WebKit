<!DOCTYPE html>
<body>
<pre>
x
<span dir="rtl">
<ruby>
</ruby>
<textarea>
x
</textarea>

<script>
window.console.log = function() { };

if (window.testRunner)
  testRunner.dumpAsText();

document.designMode = 'on';
var hasRunListener = false;
document.addEventListener("DOMSubtreeModified", function() {
  // Avoid calling recursively and generating a ton of log messages
  if (!hasRunListener) {
    hasRunListener = true;
    document.execCommand('JustifyLeft');
  }
});

document.execCommand("SelectAll", false)
var selection = window.getSelection();
selection.deleteFromDocument();
document.body.innerText = "Test passes if no crash."
</script>
