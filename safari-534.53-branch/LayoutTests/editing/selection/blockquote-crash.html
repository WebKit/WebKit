<html>
    <head>
        <style>
            blockquote {
                color: blue;
                border-left: 2px solid blue;
                padding-left: 5px;
                margin: 0px;
            }
        </style>
        <script>
            function test()
            {
                if (window.layoutTestController)
                    layoutTestController.dumpAsText();

                var qt = document.getElementById('qt');
                var sel = window.getSelection();
                sel.setPosition(qt, 0);
                sel.modify("extend", "forward", "line");
                document.execCommand("InsertNewlineInQuotedContent");
                
                document.write("<xmp>" + document.body.innerHTML + "</xmp>");
            }
        </script>
    </head>
    <body contenteditable onload="test()">
        <div>This test should not crash</div>
        <blockquote type="cite" id="qt">triple click me! then hit enter
            <blockquote type="cite"><div style="min-height: 14px;"></div></blockquote>
        </blockquote>
    </body>
</html>