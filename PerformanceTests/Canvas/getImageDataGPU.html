<!DOCTYPE html>
<html>
<body>
<script src="../resources/runner.js"></script>
<script>

var colourCounter = 0;
var canvas2D = document.createElement("canvas");
canvas2D.width = 1024;
canvas2D.height = 1024;
var ctx2D = canvas2D.getContext("2d", { willReadFrequently: false });
document.body.appendChild(canvas2D);

function fillCanvas(ctx2d, canvas2d) {
    ctx2d.fillStyle = "rgba(0, 0, " + colourCounter + ", 1)";
    colourCounter = (colourCounter + 1) % 256;
    ctx2d.fillRect(0, 0, canvas2d.width, canvas2d.height);
}

PerfTestRunner.measureRunsPerSecond({run: function() {
    fillCanvas(ctx2D, canvas2D);
    ctx2D.getImageData(0, 0, canvas2D.width, canvas2D.height);
}});

</script>
</body>
</html>
