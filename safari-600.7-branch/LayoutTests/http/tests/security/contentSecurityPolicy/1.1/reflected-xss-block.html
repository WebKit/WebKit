<!DOCTYPE html>
<html>
<head>
    <script src="http://localhost:8000/security/xssAuditor/resources/utilities.js"></script>
    <script>
        if (window.testRunner) {
            testRunner.dumpAsText();
            testRunner.dumpChildFramesAsText();
            testRunner.waitUntilDone();
            testRunner.setXSSAuditorEnabled(true);
        }
    </script>
</head>
<body>
    <p>Tests that 'X-WebKit-CSP: reflected-xss block;' enables the XSSAuditor.
    This test passes if a console message is generated, and the page is blocked.
    There should be no content in the IFrame below:</p>
    <iframe id="frame"
            onload="checkIfFrameLocationMatchesSrcAndCallDone('frame')"
            src="http://localhost:8000/security/xssAuditor/resources/echo-intertag.pl?csp=block&amp;q=<script>alert(String.fromCharCode(0x58,0x53,0x53))</script>"></iframe>
</body>
</html>
