<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
<head>
<script>
if (window.testRunner) {
    testRunner.dumpAsText();
    testRunner.setCanOpenWindows();
    testRunner.setPopupBlockingEnabled(true);
    testRunner.setCloseRemainingWindowsWhenComplete(true);
    testRunner.waitUntilDone();
    // Record current window count.
    window.windowCount = window.testRunner.windowCount();
}
function test() {
    if (window.testRunner && window.testRunner.windowCount() == window.windowCount)
        document.getElementById("console").innerText = "PASSED";
    // Close the test.
    testRunner.notifyDone();
}
</script>
</head>
<body onload="test();">
<iframe src="data:text/html,I did open the window<script>window.open('about:blank','_blank', 'height=600,width=720');</script>"></iframe><br>
When calling script to open a window without user gesture from the enclosing iframe, webkit should test out that the opening is not initiated by user. This is a test case for bug https://bugs.webkit.org/show_bug.cgi?id=42827.
<div id="console">FAILED</div>
</body>
</html>

