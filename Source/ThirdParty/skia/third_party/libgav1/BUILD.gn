# Copyright 2022 The Chromium Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("../third_party.gni")

third_party("libgav1") {
  public_include_dirs = [
    ".",
    "../externals/libgav1/src",
  ]

  include_dirs = [ "../externals/libgav1" ]

  defines = [
    "LIBGAV1_MAX_BITDEPTH=12",
    "LIBGAV1_THREADPOOL_USE_STD_MUTEX",
    "LIBGAV1_ENABLE_LOGGING=0",
  ]

  sources = [
    "../externals/libgav1/src/buffer_pool.cc",
    "../externals/libgav1/src/buffer_pool.h",
    "../externals/libgav1/src/decoder.cc",
    "../externals/libgav1/src/decoder_impl.cc",
    "../externals/libgav1/src/decoder_impl.h",
    "../externals/libgav1/src/decoder_settings.cc",
    "../externals/libgav1/src/decoder_state.h",
    "../externals/libgav1/src/dsp/arm/average_blend_neon.cc",
    "../externals/libgav1/src/dsp/arm/average_blend_neon.h",
    "../externals/libgav1/src/dsp/arm/cdef_neon.cc",
    "../externals/libgav1/src/dsp/arm/cdef_neon.h",
    "../externals/libgav1/src/dsp/arm/common_neon.h",
    "../externals/libgav1/src/dsp/arm/convolve_10bit_neon.cc",
    "../externals/libgav1/src/dsp/arm/convolve_neon.cc",
    "../externals/libgav1/src/dsp/arm/convolve_neon.h",
    "../externals/libgav1/src/dsp/arm/distance_weighted_blend_neon.cc",
    "../externals/libgav1/src/dsp/arm/distance_weighted_blend_neon.h",
    "../externals/libgav1/src/dsp/arm/film_grain_neon.cc",
    "../externals/libgav1/src/dsp/arm/film_grain_neon.h",
    "../externals/libgav1/src/dsp/arm/intra_edge_neon.cc",
    "../externals/libgav1/src/dsp/arm/intra_edge_neon.h",
    "../externals/libgav1/src/dsp/arm/intrapred_cfl_neon.cc",
    "../externals/libgav1/src/dsp/arm/intrapred_cfl_neon.h",
    "../externals/libgav1/src/dsp/arm/intrapred_directional_neon.cc",
    "../externals/libgav1/src/dsp/arm/intrapred_directional_neon.h",
    "../externals/libgav1/src/dsp/arm/intrapred_filter_neon.cc",
    "../externals/libgav1/src/dsp/arm/intrapred_filter_neon.h",
    "../externals/libgav1/src/dsp/arm/intrapred_neon.cc",
    "../externals/libgav1/src/dsp/arm/intrapred_neon.h",
    "../externals/libgav1/src/dsp/arm/intrapred_smooth_neon.cc",
    "../externals/libgav1/src/dsp/arm/intrapred_smooth_neon.h",
    "../externals/libgav1/src/dsp/arm/inverse_transform_10bit_neon.cc",
    "../externals/libgav1/src/dsp/arm/inverse_transform_neon.cc",
    "../externals/libgav1/src/dsp/arm/inverse_transform_neon.h",
    "../externals/libgav1/src/dsp/arm/loop_filter_10bit_neon.cc",
    "../externals/libgav1/src/dsp/arm/loop_filter_neon.cc",
    "../externals/libgav1/src/dsp/arm/loop_filter_neon.h",
    "../externals/libgav1/src/dsp/arm/loop_restoration_10bit_neon.cc",
    "../externals/libgav1/src/dsp/arm/loop_restoration_neon.cc",
    "../externals/libgav1/src/dsp/arm/loop_restoration_neon.h",
    "../externals/libgav1/src/dsp/arm/mask_blend_neon.cc",
    "../externals/libgav1/src/dsp/arm/mask_blend_neon.h",
    "../externals/libgav1/src/dsp/arm/motion_field_projection_neon.cc",
    "../externals/libgav1/src/dsp/arm/motion_field_projection_neon.h",
    "../externals/libgav1/src/dsp/arm/motion_vector_search_neon.cc",
    "../externals/libgav1/src/dsp/arm/motion_vector_search_neon.h",
    "../externals/libgav1/src/dsp/arm/obmc_neon.cc",
    "../externals/libgav1/src/dsp/arm/obmc_neon.h",
    "../externals/libgav1/src/dsp/arm/super_res_neon.cc",
    "../externals/libgav1/src/dsp/arm/super_res_neon.h",
    "../externals/libgav1/src/dsp/arm/warp_neon.cc",
    "../externals/libgav1/src/dsp/arm/warp_neon.h",
    "../externals/libgav1/src/dsp/arm/weight_mask_neon.cc",
    "../externals/libgav1/src/dsp/arm/weight_mask_neon.h",
    "../externals/libgav1/src/dsp/average_blend.cc",
    "../externals/libgav1/src/dsp/average_blend.h",
    "../externals/libgav1/src/dsp/cdef.cc",
    "../externals/libgav1/src/dsp/cdef.h",
    "../externals/libgav1/src/dsp/common.h",
    "../externals/libgav1/src/dsp/constants.cc",
    "../externals/libgav1/src/dsp/constants.h",
    "../externals/libgav1/src/dsp/convolve.cc",
    "../externals/libgav1/src/dsp/convolve.h",
    "../externals/libgav1/src/dsp/distance_weighted_blend.cc",
    "../externals/libgav1/src/dsp/distance_weighted_blend.h",
    "../externals/libgav1/src/dsp/dsp.cc",
    "../externals/libgav1/src/dsp/dsp.h",
    "../externals/libgav1/src/dsp/film_grain.cc",
    "../externals/libgav1/src/dsp/film_grain.h",
    "../externals/libgav1/src/dsp/film_grain_common.h",
    "../externals/libgav1/src/dsp/intra_edge.cc",
    "../externals/libgav1/src/dsp/intra_edge.h",
    "../externals/libgav1/src/dsp/intrapred.cc",
    "../externals/libgav1/src/dsp/intrapred.h",
    "../externals/libgav1/src/dsp/intrapred_cfl.cc",
    "../externals/libgav1/src/dsp/intrapred_cfl.h",
    "../externals/libgav1/src/dsp/intrapred_directional.cc",
    "../externals/libgav1/src/dsp/intrapred_directional.h",
    "../externals/libgav1/src/dsp/intrapred_filter.cc",
    "../externals/libgav1/src/dsp/intrapred_filter.h",
    "../externals/libgav1/src/dsp/intrapred_smooth.cc",
    "../externals/libgav1/src/dsp/intrapred_smooth.h",
    "../externals/libgav1/src/dsp/inverse_transform.cc",
    "../externals/libgav1/src/dsp/inverse_transform.h",
    "../externals/libgav1/src/dsp/loop_filter.cc",
    "../externals/libgav1/src/dsp/loop_filter.h",
    "../externals/libgav1/src/dsp/loop_restoration.cc",
    "../externals/libgav1/src/dsp/loop_restoration.h",
    "../externals/libgav1/src/dsp/mask_blend.cc",
    "../externals/libgav1/src/dsp/mask_blend.h",
    "../externals/libgav1/src/dsp/motion_field_projection.cc",
    "../externals/libgav1/src/dsp/motion_field_projection.h",
    "../externals/libgav1/src/dsp/motion_vector_search.cc",
    "../externals/libgav1/src/dsp/motion_vector_search.h",
    "../externals/libgav1/src/dsp/obmc.cc",
    "../externals/libgav1/src/dsp/obmc.h",
    "../externals/libgav1/src/dsp/super_res.cc",
    "../externals/libgav1/src/dsp/super_res.h",
    "../externals/libgav1/src/dsp/warp.cc",
    "../externals/libgav1/src/dsp/warp.h",
    "../externals/libgav1/src/dsp/weight_mask.cc",
    "../externals/libgav1/src/dsp/weight_mask.h",
    "../externals/libgav1/src/dsp/x86/average_blend_sse4.cc",
    "../externals/libgav1/src/dsp/x86/average_blend_sse4.h",
    "../externals/libgav1/src/dsp/x86/cdef_avx2.cc",
    "../externals/libgav1/src/dsp/x86/cdef_avx2.h",
    "../externals/libgav1/src/dsp/x86/cdef_sse4.cc",
    "../externals/libgav1/src/dsp/x86/cdef_sse4.h",
    "../externals/libgav1/src/dsp/x86/common_avx2.h",
    "../externals/libgav1/src/dsp/x86/common_sse4.h",
    "../externals/libgav1/src/dsp/x86/convolve_avx2.cc",
    "../externals/libgav1/src/dsp/x86/convolve_avx2.h",
    "../externals/libgav1/src/dsp/x86/convolve_sse4.cc",
    "../externals/libgav1/src/dsp/x86/convolve_sse4.h",
    "../externals/libgav1/src/dsp/x86/distance_weighted_blend_sse4.cc",
    "../externals/libgav1/src/dsp/x86/distance_weighted_blend_sse4.h",
    "../externals/libgav1/src/dsp/x86/film_grain_sse4.cc",
    "../externals/libgav1/src/dsp/x86/film_grain_sse4.h",
    "../externals/libgav1/src/dsp/x86/intra_edge_sse4.cc",
    "../externals/libgav1/src/dsp/x86/intra_edge_sse4.h",
    "../externals/libgav1/src/dsp/x86/intrapred_cfl_sse4.cc",
    "../externals/libgav1/src/dsp/x86/intrapred_cfl_sse4.h",
    "../externals/libgav1/src/dsp/x86/intrapred_directional_sse4.cc",
    "../externals/libgav1/src/dsp/x86/intrapred_directional_sse4.h",
    "../externals/libgav1/src/dsp/x86/intrapred_filter_sse4.cc",
    "../externals/libgav1/src/dsp/x86/intrapred_filter_sse4.h",
    "../externals/libgav1/src/dsp/x86/intrapred_smooth_sse4.cc",
    "../externals/libgav1/src/dsp/x86/intrapred_smooth_sse4.h",
    "../externals/libgav1/src/dsp/x86/intrapred_sse4.cc",
    "../externals/libgav1/src/dsp/x86/intrapred_sse4.h",
    "../externals/libgav1/src/dsp/x86/inverse_transform_sse4.cc",
    "../externals/libgav1/src/dsp/x86/inverse_transform_sse4.h",
    "../externals/libgav1/src/dsp/x86/loop_filter_sse4.cc",
    "../externals/libgav1/src/dsp/x86/loop_filter_sse4.h",
    "../externals/libgav1/src/dsp/x86/loop_restoration_10bit_avx2.cc",
    "../externals/libgav1/src/dsp/x86/loop_restoration_10bit_sse4.cc",
    "../externals/libgav1/src/dsp/x86/loop_restoration_avx2.cc",
    "../externals/libgav1/src/dsp/x86/loop_restoration_avx2.h",
    "../externals/libgav1/src/dsp/x86/loop_restoration_sse4.cc",
    "../externals/libgav1/src/dsp/x86/loop_restoration_sse4.h",
    "../externals/libgav1/src/dsp/x86/mask_blend_sse4.cc",
    "../externals/libgav1/src/dsp/x86/mask_blend_sse4.h",
    "../externals/libgav1/src/dsp/x86/motion_field_projection_sse4.cc",
    "../externals/libgav1/src/dsp/x86/motion_field_projection_sse4.h",
    "../externals/libgav1/src/dsp/x86/motion_vector_search_sse4.cc",
    "../externals/libgav1/src/dsp/x86/motion_vector_search_sse4.h",
    "../externals/libgav1/src/dsp/x86/obmc_sse4.cc",
    "../externals/libgav1/src/dsp/x86/obmc_sse4.h",
    "../externals/libgav1/src/dsp/x86/super_res_sse4.cc",
    "../externals/libgav1/src/dsp/x86/super_res_sse4.h",
    "../externals/libgav1/src/dsp/x86/transpose_sse4.h",
    "../externals/libgav1/src/dsp/x86/warp_sse4.cc",
    "../externals/libgav1/src/dsp/x86/warp_sse4.h",
    "../externals/libgav1/src/dsp/x86/weight_mask_sse4.cc",
    "../externals/libgav1/src/dsp/x86/weight_mask_sse4.h",
    "../externals/libgav1/src/film_grain.cc",
    "../externals/libgav1/src/film_grain.h",
    "../externals/libgav1/src/frame_buffer.cc",
    "../externals/libgav1/src/frame_buffer_utils.h",
    "../externals/libgav1/src/frame_scratch_buffer.h",
    "../externals/libgav1/src/gav1/decoder.h",
    "../externals/libgav1/src/gav1/decoder_buffer.h",
    "../externals/libgav1/src/gav1/decoder_settings.h",
    "../externals/libgav1/src/gav1/frame_buffer.h",
    "../externals/libgav1/src/gav1/status_code.h",
    "../externals/libgav1/src/gav1/symbol_visibility.h",
    "../externals/libgav1/src/gav1/version.h",
    "../externals/libgav1/src/internal_frame_buffer_list.cc",
    "../externals/libgav1/src/internal_frame_buffer_list.h",
    "../externals/libgav1/src/loop_restoration_info.cc",
    "../externals/libgav1/src/loop_restoration_info.h",
    "../externals/libgav1/src/motion_vector.cc",
    "../externals/libgav1/src/motion_vector.h",
    "../externals/libgav1/src/obu_parser.cc",
    "../externals/libgav1/src/obu_parser.h",
    "../externals/libgav1/src/post_filter.h",
    "../externals/libgav1/src/post_filter/cdef.cc",
    "../externals/libgav1/src/post_filter/deblock.cc",
    "../externals/libgav1/src/post_filter/loop_restoration.cc",
    "../externals/libgav1/src/post_filter/post_filter.cc",
    "../externals/libgav1/src/post_filter/super_res.cc",
    "../externals/libgav1/src/prediction_mask.cc",
    "../externals/libgav1/src/prediction_mask.h",
    "../externals/libgav1/src/quantizer.cc",
    "../externals/libgav1/src/quantizer.h",
    "../externals/libgav1/src/reconstruction.cc",
    "../externals/libgav1/src/reconstruction.h",
    "../externals/libgav1/src/residual_buffer_pool.cc",
    "../externals/libgav1/src/residual_buffer_pool.h",
    "../externals/libgav1/src/status_code.cc",
    "../externals/libgav1/src/symbol_decoder_context.cc",
    "../externals/libgav1/src/symbol_decoder_context.h",
    "../externals/libgav1/src/threading_strategy.cc",
    "../externals/libgav1/src/threading_strategy.h",
    "../externals/libgav1/src/tile.h",
    "../externals/libgav1/src/tile/bitstream/mode_info.cc",
    "../externals/libgav1/src/tile/bitstream/palette.cc",
    "../externals/libgav1/src/tile/bitstream/partition.cc",
    "../externals/libgav1/src/tile/bitstream/transform_size.cc",
    "../externals/libgav1/src/tile/prediction.cc",
    "../externals/libgav1/src/tile/tile.cc",
    "../externals/libgav1/src/tile_scratch_buffer.cc",
    "../externals/libgav1/src/tile_scratch_buffer.h",
    "../externals/libgav1/src/utils/array_2d.h",
    "../externals/libgav1/src/utils/bit_mask_set.h",
    "../externals/libgav1/src/utils/bit_reader.cc",
    "../externals/libgav1/src/utils/bit_reader.h",
    "../externals/libgav1/src/utils/block_parameters_holder.cc",
    "../externals/libgav1/src/utils/block_parameters_holder.h",
    "../externals/libgav1/src/utils/blocking_counter.h",
    "../externals/libgav1/src/utils/common.h",
    "../externals/libgav1/src/utils/compiler_attributes.h",
    "../externals/libgav1/src/utils/constants.cc",
    "../externals/libgav1/src/utils/constants.h",
    "../externals/libgav1/src/utils/cpu.cc",
    "../externals/libgav1/src/utils/cpu.h",
    "../externals/libgav1/src/utils/dynamic_buffer.h",
    "../externals/libgav1/src/utils/entropy_decoder.cc",
    "../externals/libgav1/src/utils/entropy_decoder.h",
    "../externals/libgav1/src/utils/executor.cc",
    "../externals/libgav1/src/utils/executor.h",
    "../externals/libgav1/src/utils/logging.cc",
    "../externals/libgav1/src/utils/logging.h",
    "../externals/libgav1/src/utils/memory.h",
    "../externals/libgav1/src/utils/queue.h",
    "../externals/libgav1/src/utils/raw_bit_reader.cc",
    "../externals/libgav1/src/utils/raw_bit_reader.h",
    "../externals/libgav1/src/utils/reference_info.h",
    "../externals/libgav1/src/utils/segmentation.cc",
    "../externals/libgav1/src/utils/segmentation.h",
    "../externals/libgav1/src/utils/segmentation_map.cc",
    "../externals/libgav1/src/utils/segmentation_map.h",
    "../externals/libgav1/src/utils/stack.h",
    "../externals/libgav1/src/utils/threadpool.cc",
    "../externals/libgav1/src/utils/threadpool.h",
    "../externals/libgav1/src/utils/types.h",
    "../externals/libgav1/src/utils/unbounded_queue.h",
    "../externals/libgav1/src/utils/vector.h",
    "../externals/libgav1/src/version.cc",
    "../externals/libgav1/src/warp_prediction.cc",
    "../externals/libgav1/src/warp_prediction.h",
    "../externals/libgav1/src/yuv_buffer.cc",
    "../externals/libgav1/src/yuv_buffer.h",
  ]
}
