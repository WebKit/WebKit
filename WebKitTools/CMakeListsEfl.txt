SET(EWebLauncher_SOURCES
    ${WEBKITTOOLS_DIR}/EWebLauncher/main.c
)

SET(EWebLauncher_LIBRARIES
    ${JavaScriptCore_LIBRARY_NAME}
    ${WebCore_LIBRARY_NAME}
    ${WebKit_LIBRARY_NAME}
    ${Cairo_LIBRARIES}
    ${ECORE_X_LIBRARIES}
    ${EDJE_LIBRARIES}
    ${EFLDEPS_LIBRARIES}
    ${EVAS_LIBRARIES}
    ${LIBXML2_LIBRARIES}
    ${LIBXSLT_LIBRARIES}
    ${SQLITE_LIBRARIES}
)

SET(EWebLauncher_INCLUDE_DIRECTORIES
    "${WEBKIT_DIR}/efl/ewk"
    ${Cairo_INCLUDE_DIRS}
    ${EDJE_INCLUDE_DIRS}
    ${EFLDEPS_INCLUDE_DIRS}
    ${EVAS_INCLUDE_DIRS}
)

SET(EWebLauncher_LINK_FLAGS
    ${ECORE_X_LDFLAGS}
    ${EDJE_LDFLAGS}
    ${EFLDEPS_LDFLAGS}
    ${EVAS_LDFLAGS}
)

IF (ENABLE_GLIB_SUPPORT)
  LIST(APPEND EWebLauncher_LIBRARIES
    ${Gdk_LIBRARIES}
    ${Glib_LIBRARIES}
    ${Gthread_LIBRARIES}
  )
ENDIF ()

IF (WTF_USE_SOUP)
  LIST(APPEND EWebLauncher_LIBRARIES ${LIBSOUP24_LIBRARIES})
  LIST(APPEND EWebLauncher_LINK_FLAGS ${LIBSOUP24_LDFLAGS})
ENDIF ()

IF (WTF_USE_CURL)
  LIST(APPEND EWebLauncher_LIBRARIES ${CURL_LIBRARIES})
  LIST(APPEND EWebLauncher_LINK_FLAGS ${CURL_LDFLAGS})
ENDIF ()

# Override data directory. We always want to get a fresh theme.
REMOVE_DEFINITIONS(-DDATA_DIR=\"${DATA_DIR}\")
ADD_DEFINITIONS(-DDATA_DIR=\"${BUILD_DATA_DIR}\")

INCLUDE_DIRECTORIES(${EWebLauncher_INCLUDE_DIRECTORIES})
ADD_EXECUTABLE(Programs/EWebLauncher ${EWebLauncher_SOURCES})
TARGET_LINK_LIBRARIES(Programs/EWebLauncher ${EWebLauncher_LIBRARIES})
ADD_TARGET_PROPERTIES(Programs/EWebLauncher LINK_FLAGS "${EWebLauncher_LINK_FLAGS}")
