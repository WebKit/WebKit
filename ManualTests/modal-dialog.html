<head>
<script>
function timerFired()
{
    document.getElementById("timerResult").firstChild.data = "Timer fired!";
}

function closeModal() {
   window.returnValue = document.form.toWindow.value;
   window.close();
}

function init()
{
    document.form.fromWindow.value = window.dialogArguments;
}
</script>
</head>
<body onload="init()">
<form name="form">
<p>Here is the text from the main window: <input name="fromWindow"></p>
<p>Type text here to be sent back to the main window: <input name="toWindow" value="from modal window"></p>
<p>Then, push this button: <input type="button" value="Close" onClick="closeModal()"></p>
<p>Push this button to test timer: <input type="button" value="Test Timer" onClick="setTimeout(timerFired, 0)"></p>
<p id="timerResult">Timer did not fire yet.</p>
</form>
</body>
