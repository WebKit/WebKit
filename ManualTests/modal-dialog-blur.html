<!DOCTYPE html>
<html>
<head><title>
Tests blur/focus events with modal dialogs
</title></head>
<script>
var failed = "";
function failBlur() {
  failed = "blur";
}
function failFocus() {
  failed = "focus";
}

var inputElement;

function test() {
  inputElement = document.getElementById("i")
  inputElement.focus();
  inputElement.addEventListener("blur", failBlur, false);
  inputElement.addEventListener("focus", failFocus, false);
  window.showModalDialog("modal-dialog-blur-selfclose.html");
  if (failed) {
    document.getElementById("status").innerHTML = "FAIL, " + failed;
  } else {
    document.getElementById("status").innerHTML = "SUCCESS";
  }
}
</script>
<body onload="test()">
<input id="i"></input>
<div id="status">RUNNING...</div>
</body>
</html>
