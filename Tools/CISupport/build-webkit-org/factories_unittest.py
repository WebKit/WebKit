# Copyright (C) 2011-2020 Apple Inc. All rights reserved.
# Copyright (C) 2021 Igalia S.L.
#
# Redistribution and use in source and binary forms, with or without
# modification, are permitted provided that the following conditions
# are met:
# 1.  Redistributions of source code must retain the above copyright
#     notice, this list of conditions and the following disclaimer.
# 2.  Redistributions in binary form must reproduce the above copyright
#     notice, this list of conditions and the following disclaimer in the
#     documentation and/or other materials provided with the distribution.
#
# THIS SOFTWARE IS PROVIDED BY APPLE INC. AND ITS CONTRIBUTORS ``AS IS'' AND
# ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
# WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
# DISCLAIMED. IN NO EVENT SHALL APPLE INC. OR ITS CONTRIBUTORS BE LIABLE FOR
# ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
# DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
# SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
# CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
# OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
# OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

import loadConfig
import os
import unittest

class TestExpectedBuildSteps(unittest.TestCase):

    expected_steps = {
        'Apple-Ventura-Release-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'compile-webkit',
            'archive-built-product',
            'upload-built-product',
            'archive-minified-built-product',
            'upload-minified-built-product',
            'transfer-to-s3',
            'trigger'
        ],
        'Apple-Ventura-Release-WK1-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'wait-for-crash-collection',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'lldb-webkit-test',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'trigger-crash-log-submission'
        ],
        'Apple-Ventura-Release-AppleSilicon-WK2-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'wait-for-crash-collection',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'lldb-webkit-test',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'trigger-crash-log-submission'
        ],
        'Apple-Ventura-Release-AppleSilicon-WK1-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'wait-for-crash-collection',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'lldb-webkit-test',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'trigger-crash-log-submission'
        ],
        'Apple-Ventura-Release-WK2-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'wait-for-crash-collection',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'lldb-webkit-test',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'trigger-crash-log-submission'
        ],
        'Apple-Ventura-Debug-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'compile-webkit',
            'archive-built-product',
            'upload-built-product',
            'archive-minified-built-product',
            'upload-minified-built-product',
            'transfer-to-s3',
            'trigger'
        ],
        'Apple-Ventura-Debug-WK1-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'wait-for-crash-collection',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'lldb-webkit-test',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'trigger-crash-log-submission'
        ],
        'Apple-Ventura-Debug-WK2-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'wait-for-crash-collection',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'lldb-webkit-test',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'trigger-crash-log-submission'
        ],
        'Apple-Ventura-Debug-AppleSilicon-WK1-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'wait-for-crash-collection',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'lldb-webkit-test',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'trigger-crash-log-submission'
        ],
        'Apple-Ventura-Debug-AppleSilicon-WK2-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'wait-for-crash-collection',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'lldb-webkit-test',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'trigger-crash-log-submission'
        ],
        'Apple-Ventura-Debug-WK2-GPUProcess-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'wait-for-crash-collection',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'lldb-webkit-test',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'trigger-crash-log-submission'
        ],
        'Apple-Monterey-Release-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'compile-webkit',
            'archive-built-product',
            'upload-built-product',
            'archive-minified-built-product',
            'upload-minified-built-product',
            'transfer-to-s3',
            'trigger'
        ],
        'Apple-Monterey-AppleSilicon-Release-Test262-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'test262-test'
        ],
        'Apple-Monterey-Release-Test262-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'test262-test'
        ],
        'Apple-Monterey-Release-WK1-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'wait-for-crash-collection',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'trigger-crash-log-submission'
        ],
        'Apple-Monterey-Release-AppleSilicon-WK2-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'wait-for-crash-collection',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'trigger-crash-log-submission'
        ],
        'Apple-Monterey-Release-AppleSilicon-WK1-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'wait-for-crash-collection',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'trigger-crash-log-submission'
        ],
        'Apple-Monterey-Release-WK2-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'wait-for-crash-collection',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'trigger-crash-log-submission'
        ],
        'Apple-Monterey-Release-WK2-Accessibility-Isolated-Tree-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
        ],
        'Apple-Monterey-Debug-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'compile-webkit',
            'archive-built-product',
            'upload-built-product',
            'archive-minified-built-product',
            'upload-minified-built-product',
            'transfer-to-s3',
            'trigger'
        ],
        'Apple-Monterey-Debug-Test262-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'test262-test'
        ],
        'Apple-Monterey-Debug-WK1-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'wait-for-crash-collection',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'trigger-crash-log-submission'
        ],
        'Apple-Monterey-Debug-WK2-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'wait-for-crash-collection',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'trigger-crash-log-submission'
        ],
        'Apple-Monterey-Debug-AppleSilicon-WK1-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'wait-for-crash-collection',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'trigger-crash-log-submission'
        ],
        'Apple-Monterey-Debug-AppleSilicon-WK2-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'wait-for-crash-collection',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'trigger-crash-log-submission'
        ],
        'Apple-Monterey-AppleSilicon-Debug-JSC-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'jscore-test'
        ],
        'Apple-Monterey-AppleSilicon-Release-JSC-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'jscore-test'
        ],
        'Apple-BigSur-Release-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'compile-webkit',
            'archive-built-product',
            'upload-built-product',
            'archive-minified-built-product',
            'upload-minified-built-product',
            'transfer-to-s3',
            'trigger'
        ],
        'Apple-BigSur-Release-WK1-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'wait-for-crash-collection',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'lldb-webkit-test',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'trigger-crash-log-submission'
        ],
        'Apple-BigSur-Release-WK2-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'wait-for-crash-collection',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'lldb-webkit-test',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'trigger-crash-log-submission'
        ],
        'Apple-BigSur-Release-WK2-WebGL-GPUProcess-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'wait-for-crash-collection',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'lldb-webkit-test',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'trigger-crash-log-submission'
        ],
        'Apple-BigSur-Release-JSC-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'jscore-test'
        ],
        'Apple-BigSur-LLINT-CLoop-BuildAndTest': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'compile-webkit',
            'webkit-jsc-cloop-test'
        ],
        'Apple-BigSur-Release-WK2-Perf': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'perf-test'
        ],
        'Apple-BigSur-Debug-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'compile-webkit',
            'archive-built-product',
            'upload-built-product',
            'archive-minified-built-product',
            'upload-minified-built-product',
            'transfer-to-s3',
            'trigger'
        ],
        'Apple-BigSur-Debug-WK1-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'wait-for-crash-collection',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'lldb-webkit-test',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'trigger-crash-log-submission'
        ],
        'Apple-BigSur-Debug-WK2-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'wait-for-crash-collection',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'lldb-webkit-test',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'trigger-crash-log-submission'
        ],
        'Apple-BigSur-Debug-JSC-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'download-built-product',
            'extract-built-product',
            'jscore-test'
        ],
        'Apple-BigSur-XCBuild-Release-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'prune-coresymbolicationd-cache-if-too-large',
            'compile-webkit'
        ],
        'Apple-iOS-16-Release-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'compile-webkit'
        ],
        'Apple-iOS-16-Simulator-Release-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'compile-webkit',
            'archive-built-product',
            'upload-built-product',
            'archive-minified-built-product',
            'upload-minified-built-product',
            'transfer-to-s3',
            'trigger'
        ],
        'Apple-iOS-16-Simulator-Debug-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'compile-webkit',
            'archive-built-product',
            'upload-built-product',
            'archive-minified-built-product',
            'upload-minified-built-product',
            'transfer-to-s3',
            'trigger'
        ],
        'Apple-iOS-16-Simulator-Release-arm64-WK2-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'download-built-product',
            'extract-built-product',
            'wait-for-crash-collection',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'trigger-crash-log-submission'
        ],
        'Apple-iOS-16-Simulator-Release-GPUProcess-WK2-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'download-built-product',
            'extract-built-product',
            'wait-for-crash-collection',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'trigger-crash-log-submission'
        ],
        'Apple-iOS-16-Simulator-Release-WK2-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'download-built-product',
            'extract-built-product',
            'wait-for-crash-collection',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'trigger-crash-log-submission'
        ],
        'Apple-iOS-16-Simulator-Debug-WK2-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'download-built-product',
            'extract-built-product',
            'wait-for-crash-collection',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'trigger-crash-log-submission'
        ],
        'Apple-iPadOS-16-Simulator-Release-WK2-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'download-built-product',
            'extract-built-product',
            'wait-for-crash-collection',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'trigger-crash-log-submission'
        ],
        'Apple-iPadOS-16-Simulator-Debug-WK2-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'download-built-product',
            'extract-built-product',
            'wait-for-crash-collection',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'trigger-crash-log-submission'
        ],
        'Apple-tvOS-16-Release-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'compile-webkit'
        ],
        'Apple-tvOS-Simulator-16-Release-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'compile-webkit'
        ],
        'Apple-watchOS-9-Release-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'compile-webkit'
        ],
        'Apple-watchOS-Simulator-9-Release-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'compile-webkit'
        ],
        'Apple-Win-10-Release-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'compile',
            'compile-webkit',
            'archive-built-product',
            'upload-built-product',
            'transfer-to-s3',
            'trigger'
        ],
        'Apple-Win-10-Debug-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'compile',
            'compile-webkit',
            'archive-built-product',
            'upload-built-product',
            'transfer-to-s3',
            'trigger'
        ],
        'Apple-Win-10-Release-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'compile',
            'download-built-product',
            'extract-built-product',
            'jscore-test',
            'layout-test',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests'
        ],
        'Apple-Win-10-Debug-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'compile',
            'download-built-product',
            'extract-built-product',
            'jscore-test',
            'layout-test',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests'
        ],
        'GTK-Linux-64-bit-Release-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'jhbuild',
            'compile-webkit',
            'generate-jsc-bundle',
            'install-built-product',
            'archive-built-product',
            'upload-built-product',
            'transfer-to-s3',
            'trigger'
        ],
        'GTK-Linux-64-bit-Release-Clang-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'jhbuild',
            'compile-webkit'
        ],
        'GTK-Linux-64-bit-Release-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'jhbuild',
            'download-built-product',
            'extract-built-product',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'API-tests'
        ],
        'GTK-Linux-64-bit-Release-JS-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'jhbuild',
            'download-built-product',
            'extract-built-product',
            'jscore-test',
            'test262-test'
        ],
        'GTK-Linux-64-bit-Release-WebDriver-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'jhbuild',
            'download-built-product',
            'extract-built-product',
            'webdriver-test'
        ],
        'GTK-Linux-64-bit-Debug-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'jhbuild',
            'compile-webkit',
            'install-built-product',
            'archive-built-product',
            'upload-built-product',
            'transfer-to-s3',
            'trigger'
        ],
        'GTK-Linux-64-bit-Debug-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'jhbuild',
            'download-built-product',
            'extract-built-product',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'API-tests'
        ],
        'GTK-Linux-64-bit-Debug-JS-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'jhbuild',
            'download-built-product',
            'extract-built-product',
            'jscore-test',
            'test262-test'
        ],
        'GTK-Linux-64-bit-Debug-WebDriver-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'jhbuild',
            'download-built-product',
            'extract-built-product',
            'webdriver-test'
        ],
        'GTK-Linux-64-bit-Release-Perf': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'jhbuild',
            'download-built-product',
            'extract-built-product',
            'perf-test',
            'benchmark-test'
        ],
        'GTK-Linux-64-bit-Release-Wayland-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'jhbuild',
            'download-built-product',
            'extract-built-product',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'API-tests',
            'webdriver-test'
        ],
        'GTK-Linux-64-bit-Release-Debian-Stable-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'compile-webkit'
        ],
        'GTK-Linux-64-bit-Release-Ubuntu-LTS-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'compile-webkit'
        ],
        'GTK-Linux-64-bit-Release-Ubuntu-2004-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'compile-webkit'
        ],
        'GTK-Linux-64bit-Release-Packaging-Nightly-Ubuntu2004': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'jhbuild',
            'compile-webkit',
            'generate-minibrowser-bundle'
        ],
        'GTK-Linux-64-bit-Release-GTK4-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'jhbuild',
            'compile-webkit',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'API-tests',
            'webdriver-test'
        ],
        'GTK-Linux-64-bit-Release-Skip-Failing-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'jhbuild',
            'download-built-product',
            'extract-built-product',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions'
        ],
        'WinCairo-64-bit-Release-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'compile-webkit',
            'archive-built-product',
            'upload-built-product',
            'transfer-to-s3',
            'trigger'
        ],
        'WinCairo-64-bit-Release-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'download-built-product',
            'extract-built-product',
            'wincairo-requirements',
            'layout-test',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests'
        ],
        'WinCairo-64-bit-WKL-Release-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'download-built-product',
            'extract-built-product',
            'wincairo-requirements',
            'layout-test',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests'
        ],
        'WinCairo-64-bit-JSC-Release-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'download-built-product',
            'extract-built-product',
            'jscore-test'
        ],
        'WinCairo-64-bit-Debug-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'compile-webkit',
            'archive-built-product',
            'upload-built-product',
            'transfer-to-s3',
            'trigger'
        ],
        'WinCairo-64-bit-Debug-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'download-built-product',
            'extract-built-product',
            'wincairo-requirements',
            'layout-test',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests'
        ],
        'WinCairo-64-bit-WKL-Debug-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'download-built-product',
            'extract-built-product',
            'wincairo-requirements',
            'layout-test',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'run-api-tests',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests'
        ],
        'WinCairo-64-bit-JSC-Debug-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'download-built-product',
            'extract-built-product',
            'jscore-test'
        ],
        'PlayStation-Debug-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'compile-webkit'
        ],
        'PlayStation-Release-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'compile-webkit'
        ],
        'JSCOnly-Linux-AArch64-Release': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'compile-webkit',
            'jscore-test'
        ],
        'JSCOnly-Linux-ARMv7-Thumb2-Release': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'compile-webkit',
            'jscore-test'
        ],
        'JSCOnly-Linux-MIPS32el-Release': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'compile-webkit',
            'jscore-test'
        ],
        'WPE-Linux-64-bit-Release-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'jhbuild',
            'compile-webkit',
            'archive-built-product',
            'upload-built-product',
            'transfer-to-s3',
            'trigger'
        ],
        'WPE-Linux-64-bit-Release-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'jhbuild',
            'download-built-product',
            'extract-built-product',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'API-tests',
        ],
        'WPE-Linux-64-bit-Release-JS-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'jhbuild',
            'download-built-product',
            'extract-built-product',
            'jscore-test',
            'test262-test'
        ],
        'WPE-Linux-64-bit-Release-WebDriver-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'jhbuild',
            'download-built-product',
            'extract-built-product',
            'webdriver-test'
        ],
        'WPE-Linux-64-bit-Debug-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'jhbuild',
            'compile-webkit',
            'archive-built-product',
            'upload-built-product',
            'transfer-to-s3',
            'trigger'
        ],
        'WPE-Linux-64-bit-Debug-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'jhbuild',
            'download-built-product',
            'extract-built-product',
            'layout-test',
            'dashboard-tests',
            'archive-test-results',
            'upload',
            'extract-test-results',
            'set-permissions',
            'webkitpy-test',
            'webkitperl-test',
            'bindings-generation-tests',
            'builtins-generator-tests',
            'API-tests',
        ],
        'WPE-Linux-64-bit-Debug-JS-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'jhbuild',
            'download-built-product',
            'extract-built-product',
            'jscore-test',
            'test262-test'
        ],
        'WPE-Linux-64-bit-Debug-WebDriver-Tests': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'jhbuild',
            'download-built-product',
            'extract-built-product',
            'webdriver-test'
        ],
        'WPE-Linux-64bit-Release-Packaging-Nightly-Ubuntu2004': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'jhbuild',
            'compile-webkit',
            'generate-minibrowser-bundle'
        ],
        'WPE-Linux-64-bit-Release-Non-Unified-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'jhbuild',
            'compile-webkit'
        ],
        'WPE-Linux-64-bit-Release-Ubuntu-LTS-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'jhbuild',
            'compile-webkit'
        ],
        'WPE-Linux-64-bit-Release-Ubuntu-2004-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'jhbuild',
            'compile-webkit'
        ],
        'WPE-Linux-64-bit-Release-Clang-Build': [
            'configure-build',
            'configuration',
            'clean-and-update-working-directory',
            'checkout-specific-revision',
            'show-identifier',
            'kill-old-processes',
            'delete-WebKitBuild-directory',
            'delete-stale-build-files',
            'jhbuild',
            'compile-webkit'
        ],
    }

    def setUp(self):
        cwd = os.path.dirname(os.path.abspath(__file__))
        self.config = {}
        loadConfig.loadBuilderConfig(self.config, is_test_mode_enabled=True, master_prefix_path=cwd)

    def test_all_expected_steps(self):
        for builder in self.config['builders']:
            buildSteps = []
            for step in builder['factory'].steps:
                buildSteps.append(step.factory.name)
            self.assertTrue(builder['name'] in self.expected_steps, 'Missing expected steps for builder: %s\n Actual result is %s' % (builder['name'], buildSteps))
            self.assertListEqual(self.expected_steps[builder['name']], buildSteps, msg="Expected steps don't match for builder %s" % builder['name'])

    def test_unnecessary_expected_steps(self):
        builders = set()
        for builder in self.config['builders']:
            builders.add(builder['name'])
        for builder in self.expected_steps:
            self.assertTrue(builder in builders, "Builder %s doesn't exist, but has unnecessary expected steps" % builder)
